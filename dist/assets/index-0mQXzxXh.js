function kV(s,t){for(var a=0;a<t.length;a++){const r=t[a];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in s)){const i=Object.getOwnPropertyDescriptor(r,n);i&&Object.defineProperty(s,n,i.get?i:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();function Va(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var K0={exports:{}},Lf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VT;function SV(){if(VT)return Lf;VT=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(r,n,i){var l=null;if(i!==void 0&&(l=""+i),n.key!==void 0&&(l=""+n.key),"key"in n){i={};for(var c in n)c!=="key"&&(i[c]=n[c])}else i=n;return n=i.ref,{$$typeof:s,type:r,key:l,ref:n!==void 0?n:null,props:i}}return Lf.Fragment=t,Lf.jsx=a,Lf.jsxs=a,Lf}var WT;function _V(){return WT||(WT=1,K0.exports=SV()),K0.exports}var e=_V(),Q0={exports:{}},Qt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YT;function CV(){if(YT)return Qt;YT=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),o=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function p(O){return O===null||typeof O!="object"?null:(O=f&&O[f]||O["@@iterator"],typeof O=="function"?O:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,k={};function v(O,W,Z){this.props=O,this.context=W,this.refs=k,this.updater=Z||j}v.prototype.isReactComponent={},v.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},v.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function S(){}S.prototype=v.prototype;function C(O,W,Z){this.props=O,this.context=W,this.refs=k,this.updater=Z||j}var _=C.prototype=new S;_.constructor=C,y(_,v.prototype),_.isPureReactComponent=!0;var A=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function L(O,W,Z,te,ie,fe){return Z=fe.ref,{$$typeof:s,type:O,key:W,ref:Z!==void 0?Z:null,props:fe}}function F(O,W){return L(O.type,W,void 0,void 0,void 0,O.props)}function Q(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function I(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Z){return W[Z]})}var H=/\/+/g;function z(O,W){return typeof O=="object"&&O!==null&&O.key!=null?I(""+O.key):W.toString(36)}function K(){}function U(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(K,K):(O.status="pending",O.then(function(W){O.status==="pending"&&(O.status="fulfilled",O.value=W)},function(W){O.status==="pending"&&(O.status="rejected",O.reason=W)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function V(O,W,Z,te,ie){var fe=typeof O;(fe==="undefined"||fe==="boolean")&&(O=null);var J=!1;if(O===null)J=!0;else switch(fe){case"bigint":case"string":case"number":J=!0;break;case"object":switch(O.$$typeof){case s:case t:J=!0;break;case d:return J=O._init,V(J(O._payload),W,Z,te,ie)}}if(J)return ie=ie(O),J=te===""?"."+z(O,0):te,A(ie)?(Z="",J!=null&&(Z=J.replace(H,"$&/")+"/"),V(ie,W,Z,"",function(ve){return ve})):ie!=null&&(Q(ie)&&(ie=F(ie,Z+(ie.key==null||O&&O.key===ie.key?"":(""+ie.key).replace(H,"$&/")+"/")+J)),W.push(ie)),1;J=0;var ge=te===""?".":te+":";if(A(O))for(var re=0;re<O.length;re++)te=O[re],fe=ge+z(te,re),J+=V(te,W,Z,fe,ie);else if(re=p(O),typeof re=="function")for(O=re.call(O),re=0;!(te=O.next()).done;)te=te.value,fe=ge+z(te,re++),J+=V(te,W,Z,fe,ie);else if(fe==="object"){if(typeof O.then=="function")return V(U(O),W,Z,te,ie);throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return J}function P(O,W,Z){if(O==null)return O;var te=[],ie=0;return V(O,te,"","",function(fe){return W.call(Z,fe,ie++)}),te}function q(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(Z){(O._status===0||O._status===-1)&&(O._status=1,O._result=Z)},function(Z){(O._status===0||O._status===-1)&&(O._status=2,O._result=Z)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var G=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function se(){}return Qt.Children={map:P,forEach:function(O,W,Z){P(O,function(){W.apply(this,arguments)},Z)},count:function(O){var W=0;return P(O,function(){W++}),W},toArray:function(O){return P(O,function(W){return W})||[]},only:function(O){if(!Q(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Qt.Component=v,Qt.Fragment=a,Qt.Profiler=n,Qt.PureComponent=C,Qt.StrictMode=r,Qt.Suspense=o,Qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Qt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return D.H.useMemoCache(O)}},Qt.cache=function(O){return function(){return O.apply(null,arguments)}},Qt.cloneElement=function(O,W,Z){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var te=y({},O.props),ie=O.key,fe=void 0;if(W!=null)for(J in W.ref!==void 0&&(fe=void 0),W.key!==void 0&&(ie=""+W.key),W)!M.call(W,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&W.ref===void 0||(te[J]=W[J]);var J=arguments.length-2;if(J===1)te.children=Z;else if(1<J){for(var ge=Array(J),re=0;re<J;re++)ge[re]=arguments[re+2];te.children=ge}return L(O.type,ie,void 0,void 0,fe,te)},Qt.createContext=function(O){return O={$$typeof:l,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:i,_context:O},O},Qt.createElement=function(O,W,Z){var te,ie={},fe=null;if(W!=null)for(te in W.key!==void 0&&(fe=""+W.key),W)M.call(W,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ie[te]=W[te]);var J=arguments.length-2;if(J===1)ie.children=Z;else if(1<J){for(var ge=Array(J),re=0;re<J;re++)ge[re]=arguments[re+2];ie.children=ge}if(O&&O.defaultProps)for(te in J=O.defaultProps,J)ie[te]===void 0&&(ie[te]=J[te]);return L(O,fe,void 0,void 0,null,ie)},Qt.createRef=function(){return{current:null}},Qt.forwardRef=function(O){return{$$typeof:c,render:O}},Qt.isValidElement=Q,Qt.lazy=function(O){return{$$typeof:d,_payload:{_status:-1,_result:O},_init:q}},Qt.memo=function(O,W){return{$$typeof:u,type:O,compare:W===void 0?null:W}},Qt.startTransition=function(O){var W=D.T,Z={};D.T=Z;try{var te=O(),ie=D.S;ie!==null&&ie(Z,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(se,G)}catch(fe){G(fe)}finally{D.T=W}},Qt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Qt.use=function(O){return D.H.use(O)},Qt.useActionState=function(O,W,Z){return D.H.useActionState(O,W,Z)},Qt.useCallback=function(O,W){return D.H.useCallback(O,W)},Qt.useContext=function(O){return D.H.useContext(O)},Qt.useDebugValue=function(){},Qt.useDeferredValue=function(O,W){return D.H.useDeferredValue(O,W)},Qt.useEffect=function(O,W,Z){var te=D.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(O,W)},Qt.useId=function(){return D.H.useId()},Qt.useImperativeHandle=function(O,W,Z){return D.H.useImperativeHandle(O,W,Z)},Qt.useInsertionEffect=function(O,W){return D.H.useInsertionEffect(O,W)},Qt.useLayoutEffect=function(O,W){return D.H.useLayoutEffect(O,W)},Qt.useMemo=function(O,W){return D.H.useMemo(O,W)},Qt.useOptimistic=function(O,W){return D.H.useOptimistic(O,W)},Qt.useReducer=function(O,W,Z){return D.H.useReducer(O,W,Z)},Qt.useRef=function(O){return D.H.useRef(O)},Qt.useState=function(O){return D.H.useState(O)},Qt.useSyncExternalStore=function(O,W,Z){return D.H.useSyncExternalStore(O,W,Z)},Qt.useTransition=function(){return D.H.useTransition()},Qt.version="19.1.1",Qt}var KT;function Zm(){return KT||(KT=1,Q0.exports=CV()),Q0.exports}var x=Zm();const Fs=Va(x),EV=kV({__proto__:null,default:Fs},[x]);var X0={exports:{}},Ff={},Z0={exports:{}},J0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QT;function AV(){return QT||(QT=1,(function(s){function t(P,q){var G=P.length;P.push(q);e:for(;0<G;){var se=G-1>>>1,O=P[se];if(0<n(O,q))P[se]=q,P[G]=O,G=se;else break e}}function a(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var q=P[0],G=P.pop();if(G!==q){P[0]=G;e:for(var se=0,O=P.length,W=O>>>1;se<W;){var Z=2*(se+1)-1,te=P[Z],ie=Z+1,fe=P[ie];if(0>n(te,G))ie<O&&0>n(fe,te)?(P[se]=fe,P[ie]=G,se=ie):(P[se]=te,P[Z]=G,se=Z);else if(ie<O&&0>n(fe,G))P[se]=fe,P[ie]=G,se=ie;else break e}}return q}function n(P,q){var G=P.sortIndex-q.sortIndex;return G!==0?G:P.id-q.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;s.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();s.unstable_now=function(){return l.now()-c}}var o=[],u=[],d=1,f=null,p=3,j=!1,y=!1,k=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function A(P){for(var q=a(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=P)r(u),q.sortIndex=q.expirationTime,t(o,q);else break;q=a(u)}}function D(P){if(k=!1,A(P),!y)if(a(o)!==null)y=!0,M||(M=!0,z());else{var q=a(u);q!==null&&V(D,q.startTime-P)}}var M=!1,L=-1,F=5,Q=-1;function I(){return v?!0:!(s.unstable_now()-Q<F)}function H(){if(v=!1,M){var P=s.unstable_now();Q=P;var q=!0;try{e:{y=!1,k&&(k=!1,C(L),L=-1),j=!0;var G=p;try{t:{for(A(P),f=a(o);f!==null&&!(f.expirationTime>P&&I());){var se=f.callback;if(typeof se=="function"){f.callback=null,p=f.priorityLevel;var O=se(f.expirationTime<=P);if(P=s.unstable_now(),typeof O=="function"){f.callback=O,A(P),q=!0;break t}f===a(o)&&r(o),A(P)}else r(o);f=a(o)}if(f!==null)q=!0;else{var W=a(u);W!==null&&V(D,W.startTime-P),q=!1}}break e}finally{f=null,p=G,j=!1}q=void 0}}finally{q?z():M=!1}}}var z;if(typeof _=="function")z=function(){_(H)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,U=K.port2;K.port1.onmessage=H,z=function(){U.postMessage(null)}}else z=function(){S(H,0)};function V(P,q){L=S(function(){P(s.unstable_now())},q)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(P){P.callback=null},s.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<P?Math.floor(1e3/P):5},s.unstable_getCurrentPriorityLevel=function(){return p},s.unstable_next=function(P){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var G=p;p=q;try{return P()}finally{p=G}},s.unstable_requestPaint=function(){v=!0},s.unstable_runWithPriority=function(P,q){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var G=p;p=P;try{return q()}finally{p=G}},s.unstable_scheduleCallback=function(P,q,G){var se=s.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?se+G:se):G=se,P){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=G+O,P={id:d++,callback:q,priorityLevel:P,startTime:G,expirationTime:O,sortIndex:-1},G>se?(P.sortIndex=G,t(u,P),a(o)===null&&P===a(u)&&(k?(C(L),L=-1):k=!0,V(D,G-se))):(P.sortIndex=O,t(o,P),y||j||(y=!0,M||(M=!0,z()))),P},s.unstable_shouldYield=I,s.unstable_wrapCallback=function(P){var q=p;return function(){var G=p;p=q;try{return P.apply(this,arguments)}finally{p=G}}}})(J0)),J0}var XT;function TV(){return XT||(XT=1,Z0.exports=AV()),Z0.exports}var ew={exports:{}},Mr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT;function MV(){if(ZT)return Mr;ZT=1;var s=Zm();function t(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},n=Symbol.for("react.portal");function i(o,u,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:f==null?null:""+f,children:o,containerInfo:u,implementation:d}}var l=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(o,u){if(o==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Mr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Mr.createPortal=function(o,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return i(o,u,null,d)},Mr.flushSync=function(o){var u=l.T,d=r.p;try{if(l.T=null,r.p=2,o)return o()}finally{l.T=u,r.p=d,r.d.f()}},Mr.preconnect=function(o,u){typeof o=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(o,u))},Mr.prefetchDNS=function(o){typeof o=="string"&&r.d.D(o)},Mr.preinit=function(o,u){if(typeof o=="string"&&u&&typeof u.as=="string"){var d=u.as,f=c(d,u.crossOrigin),p=typeof u.integrity=="string"?u.integrity:void 0,j=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?r.d.S(o,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:p,fetchPriority:j}):d==="script"&&r.d.X(o,{crossOrigin:f,integrity:p,fetchPriority:j,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Mr.preinitModule=function(o,u){if(typeof o=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=c(u.as,u.crossOrigin);r.d.M(o,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(o)},Mr.preload=function(o,u){if(typeof o=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,f=c(d,u.crossOrigin);r.d.L(o,d,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Mr.preloadModule=function(o,u){if(typeof o=="string")if(u){var d=c(u.as,u.crossOrigin);r.d.m(o,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(o)},Mr.requestFormReset=function(o){r.d.r(o)},Mr.unstable_batchedUpdates=function(o,u){return o(u)},Mr.useFormState=function(o,u,d){return l.H.useFormState(o,u,d)},Mr.useFormStatus=function(){return l.H.useHostTransitionStatus()},Mr.version="19.1.1",Mr}var JT;function y8(){if(JT)return ew.exports;JT=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),ew.exports=MV(),ew.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e3;function DV(){if(e3)return Ff;e3=1;var s=TV(),t=Zm(),a=y8();function r(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function i(h){var m=h,g=h;if(h.alternate)for(;m.return;)m=m.return;else{h=m;do m=h,(m.flags&4098)!==0&&(g=m.return),h=m.return;while(h)}return m.tag===3?g:null}function l(h){if(h.tag===13){var m=h.memoizedState;if(m===null&&(h=h.alternate,h!==null&&(m=h.memoizedState)),m!==null)return m.dehydrated}return null}function c(h){if(i(h)!==h)throw Error(r(188))}function o(h){var m=h.alternate;if(!m){if(m=i(h),m===null)throw Error(r(188));return m!==h?null:h}for(var g=h,N=m;;){var E=g.return;if(E===null)break;var B=E.alternate;if(B===null){if(N=E.return,N!==null){g=N;continue}break}if(E.child===B.child){for(B=E.child;B;){if(B===g)return c(E),h;if(B===N)return c(E),m;B=B.sibling}throw Error(r(188))}if(g.return!==N.return)g=E,N=B;else{for(var ne=!1,de=E.child;de;){if(de===g){ne=!0,g=E,N=B;break}if(de===N){ne=!0,N=E,g=B;break}de=de.sibling}if(!ne){for(de=B.child;de;){if(de===g){ne=!0,g=B,N=E;break}if(de===N){ne=!0,N=B,g=E;break}de=de.sibling}if(!ne)throw Error(r(189))}}if(g.alternate!==N)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?h:m}function u(h){var m=h.tag;if(m===5||m===26||m===27||m===6)return h;for(h=h.child;h!==null;){if(m=u(h),m!==null)return m;h=h.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),_=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function z(h){return h===null||typeof h!="object"?null:(h=H&&h[H]||h["@@iterator"],typeof h=="function"?h:null)}var K=Symbol.for("react.client.reference");function U(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===K?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case y:return"Fragment";case v:return"Profiler";case k:return"StrictMode";case D:return"Suspense";case M:return"SuspenseList";case Q:return"Activity"}if(typeof h=="object")switch(h.$$typeof){case j:return"Portal";case _:return(h.displayName||"Context")+".Provider";case C:return(h._context.displayName||"Context")+".Consumer";case A:var m=h.render;return h=h.displayName,h||(h=m.displayName||m.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case L:return m=h.displayName||null,m!==null?m:U(h.type)||"Memo";case F:m=h._payload,h=h._init;try{return U(h(m))}catch{}}return null}var V=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},se=[],O=-1;function W(h){return{current:h}}function Z(h){0>O||(h.current=se[O],se[O]=null,O--)}function te(h,m){O++,se[O]=h.current,h.current=m}var ie=W(null),fe=W(null),J=W(null),ge=W(null);function re(h,m){switch(te(J,m),te(fe,h),te(ie,null),m.nodeType){case 9:case 11:h=(h=m.documentElement)&&(h=h.namespaceURI)?vT(h):0;break;default:if(h=m.tagName,m=m.namespaceURI)m=vT(m),h=bT(m,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}Z(ie),te(ie,h)}function ve(){Z(ie),Z(fe),Z(J)}function Oe(h){h.memoizedState!==null&&te(ge,h);var m=ie.current,g=bT(m,h.type);m!==g&&(te(fe,h),te(ie,g))}function ee(h){fe.current===h&&(Z(ie),Z(fe)),ge.current===h&&(Z(ge),Rf._currentValue=G)}var me=Object.prototype.hasOwnProperty,Xe=s.unstable_scheduleCallback,Se=s.unstable_cancelCallback,ae=s.unstable_shouldYield,ye=s.unstable_requestPaint,st=s.unstable_now,He=s.unstable_getCurrentPriorityLevel,ke=s.unstable_ImmediatePriority,we=s.unstable_UserBlockingPriority,Ke=s.unstable_NormalPriority,Ee=s.unstable_LowPriority,je=s.unstable_IdlePriority,Ve=s.log,Nt=s.unstable_setDisableYieldValue,nt=null,It=null;function ps(h){if(typeof Ve=="function"&&Nt(h),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(nt,h)}catch{}}var le=Math.clz32?Math.clz32:rt,Ae=Math.log,Le=Math.LN2;function rt(h){return h>>>=0,h===0?32:31-(Ae(h)/Le|0)|0}var ot=256,hs=4194304;function Zs(h){var m=h&42;if(m!==0)return m;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function Kn(h,m,g){var N=h.pendingLanes;if(N===0)return 0;var E=0,B=h.suspendedLanes,ne=h.pingedLanes;h=h.warmLanes;var de=N&134217727;return de!==0?(N=de&~B,N!==0?E=Zs(N):(ne&=de,ne!==0?E=Zs(ne):g||(g=de&~h,g!==0&&(E=Zs(g))))):(de=N&~B,de!==0?E=Zs(de):ne!==0?E=Zs(ne):g||(g=N&~h,g!==0&&(E=Zs(g)))),E===0?0:m!==0&&m!==E&&(m&B)===0&&(B=E&-E,g=m&-m,B>=g||B===32&&(g&4194048)!==0)?m:E}function Ni(h,m){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&m)===0}function Ld(h,m){switch(h){case 1:case 2:case 4:case 8:case 64:return m+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oo(){var h=ot;return ot<<=1,(ot&4194048)===0&&(ot=256),h}function Ie(){var h=hs;return hs<<=1,(hs&62914560)===0&&(hs=4194304),h}function wt(h){for(var m=[],g=0;31>g;g++)m.push(h);return m}function Gs(h,m){h.pendingLanes|=m,m!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function ur(h,m,g,N,E,B){var ne=h.pendingLanes;h.pendingLanes=g,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=g,h.entangledLanes&=g,h.errorRecoveryDisabledLanes&=g,h.shellSuspendCounter=0;var de=h.entanglements,Ne=h.expirationTimes,Be=h.hiddenUpdates;for(g=ne&~g;0<g;){var Ye=31-le(g),Je=1<<Ye;de[Ye]=0,Ne[Ye]=-1;var Fe=Be[Ye];if(Fe!==null)for(Be[Ye]=null,Ye=0;Ye<Fe.length;Ye++){var Ue=Fe[Ye];Ue!==null&&(Ue.lane&=-536870913)}g&=~Je}N!==0&&Fa(h,N,0),B!==0&&E===0&&h.tag!==0&&(h.suspendedLanes|=B&~(ne&~m))}function Fa(h,m,g){h.pendingLanes|=m,h.suspendedLanes&=~m;var N=31-le(m);h.entangledLanes|=m,h.entanglements[N]=h.entanglements[N]|1073741824|g&4194090}function nn(h,m){var g=h.entangledLanes|=m;for(h=h.entanglements;g;){var N=31-le(g),E=1<<N;E&m|h[N]&m&&(h[N]|=m),g&=~E}}function Rs(h){switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=128;break;case 268435456:h=134217728;break;default:h=0}return h}function Ji(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function hu(){var h=q.p;return h!==0?h:(h=window.event,h===void 0?32:FT(h.type))}function Ax(h,m){var g=q.p;try{return q.p=h,m()}finally{q.p=g}}var mr=Math.random().toString(36).slice(2),ra="__reactFiber$"+mr,Re="__reactProps$"+mr,mt="__reactContainer$"+mr,Tt="__reactEvents$"+mr,Ts="__reactListeners$"+mr,Qn="__reactHandles$"+mr,ho="__reactResources$"+mr,Xn="__reactMarker$"+mr;function uo(h){delete h[ra],delete h[Re],delete h[Tt],delete h[Ts],delete h[Qn]}function mo(h){var m=h[ra];if(m)return m;for(var g=h.parentNode;g;){if(m=g[mt]||g[ra]){if(g=m.alternate,m.child!==null||g!==null&&g.child!==null)for(h=ST(h);h!==null;){if(g=h[ra])return g;h=ST(h)}return m}h=g,g=h.parentNode}return null}function el(h){if(h=h[ra]||h[mt]){var m=h.tag;if(m===5||m===6||m===13||m===26||m===27||m===3)return h}return null}function Fd(h){var m=h.tag;if(m===5||m===26||m===27||m===6)return h.stateNode;throw Error(r(33))}function xo(h){var m=h[ho];return m||(m=h[ho]={hoistableStyles:new Map,hoistableScripts:new Map}),m}function na(h){h[Xn]=!0}var Ja=new Set,Sr={};function Ta(h,m){ja(h,m),ja(h+"Capture",m)}function ja(h,m){for(Sr[h]=m,h=0;h<m.length;h++)Ja.add(m[h])}var uu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ql={},tl={};function fo(h){return me.call(tl,h)?!0:me.call(ql,h)?!1:uu.test(h)?tl[h]=!0:(ql[h]=!0,!1)}function zd(h,m,g){if(fo(m))if(g===null)h.removeAttribute(m);else{switch(typeof g){case"undefined":case"function":case"symbol":h.removeAttribute(m);return;case"boolean":var N=m.toLowerCase().slice(0,5);if(N!=="data-"&&N!=="aria-"){h.removeAttribute(m);return}}h.setAttribute(m,""+g)}}function po(h,m,g){if(g===null)h.removeAttribute(m);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(m);return}h.setAttribute(m,""+g)}}function _r(h,m,g,N){if(N===null)h.removeAttribute(g);else{switch(typeof N){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(g);return}h.setAttributeNS(m,g,""+N)}}var mu,xu;function sl(h){if(mu===void 0)try{throw Error()}catch(g){var m=g.stack.trim().match(/\n( *(at )?)/);mu=m&&m[1]||"",xu=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mu+h+xu}var fu=!1;function pu(h,m){if(!h||fu)return"";fu=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var N={DetermineComponentFrameRoot:function(){try{if(m){var Je=function(){throw Error()};if(Object.defineProperty(Je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Je,[])}catch(Ue){var Fe=Ue}Reflect.construct(h,[],Je)}else{try{Je.call()}catch(Ue){Fe=Ue}h.call(Je.prototype)}}else{try{throw Error()}catch(Ue){Fe=Ue}(Je=h())&&typeof Je.catch=="function"&&Je.catch(function(){})}}catch(Ue){if(Ue&&Fe&&typeof Ue.stack=="string")return[Ue.stack,Fe.stack]}return[null,null]}};N.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(N.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(N.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var B=N.DetermineComponentFrameRoot(),ne=B[0],de=B[1];if(ne&&de){var Ne=ne.split(`
`),Be=de.split(`
`);for(E=N=0;N<Ne.length&&!Ne[N].includes("DetermineComponentFrameRoot");)N++;for(;E<Be.length&&!Be[E].includes("DetermineComponentFrameRoot");)E++;if(N===Ne.length||E===Be.length)for(N=Ne.length-1,E=Be.length-1;1<=N&&0<=E&&Ne[N]!==Be[E];)E--;for(;1<=N&&0<=E;N--,E--)if(Ne[N]!==Be[E]){if(N!==1||E!==1)do if(N--,E--,0>E||Ne[N]!==Be[E]){var Ye=`
`+Ne[N].replace(" at new "," at ");return h.displayName&&Ye.includes("<anonymous>")&&(Ye=Ye.replace("<anonymous>",h.displayName)),Ye}while(1<=N&&0<=E);break}}}finally{fu=!1,Error.prepareStackTrace=g}return(g=h?h.displayName||h.name:"")?sl(g):""}function ay(h){switch(h.tag){case 26:case 27:case 5:return sl(h.type);case 16:return sl("Lazy");case 13:return sl("Suspense");case 19:return sl("SuspenseList");case 0:case 15:return pu(h.type,!1);case 11:return pu(h.type.render,!1);case 1:return pu(h.type,!0);case 31:return sl("Activity");default:return""}}function Tx(h){try{var m="";do m+=ay(h),h=h.return;while(h);return m}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function Wr(h){switch(typeof h){case"bigint":case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function Mx(h){var m=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function ry(h){var m=Mx(h)?"checked":"value",g=Object.getOwnPropertyDescriptor(h.constructor.prototype,m),N=""+h[m];if(!h.hasOwnProperty(m)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var E=g.get,B=g.set;return Object.defineProperty(h,m,{configurable:!0,get:function(){return E.call(this)},set:function(ne){N=""+ne,B.call(this,ne)}}),Object.defineProperty(h,m,{enumerable:g.enumerable}),{getValue:function(){return N},setValue:function(ne){N=""+ne},stopTracking:function(){h._valueTracker=null,delete h[m]}}}}function Hd(h){h._valueTracker||(h._valueTracker=ry(h))}function Dx(h){if(!h)return!1;var m=h._valueTracker;if(!m)return!0;var g=m.getValue(),N="";return h&&(N=Mx(h)?h.checked?"true":"false":h.value),h=N,h!==g?(m.setValue(h),!0):!1}function Ud(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}var Zn=/[\n"\\]/g;function Js(h){return h.replace(Zn,function(m){return"\\"+m.charCodeAt(0).toString(16)+" "})}function wi(h,m,g,N,E,B,ne,de){h.name="",ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?h.type=ne:h.removeAttribute("type"),m!=null?ne==="number"?(m===0&&h.value===""||h.value!=m)&&(h.value=""+Wr(m)):h.value!==""+Wr(m)&&(h.value=""+Wr(m)):ne!=="submit"&&ne!=="reset"||h.removeAttribute("value"),m!=null?qd(h,ne,Wr(m)):g!=null?qd(h,ne,Wr(g)):N!=null&&h.removeAttribute("value"),E==null&&B!=null&&(h.defaultChecked=!!B),E!=null&&(h.checked=E&&typeof E!="function"&&typeof E!="symbol"),de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"?h.name=""+Wr(de):h.removeAttribute("name")}function Yr(h,m,g,N,E,B,ne,de){if(B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(h.type=B),m!=null||g!=null){if(!(B!=="submit"&&B!=="reset"||m!=null))return;g=g!=null?""+Wr(g):"",m=m!=null?""+Wr(m):g,de||m===h.value||(h.value=m),h.defaultValue=m}N=N??E,N=typeof N!="function"&&typeof N!="symbol"&&!!N,h.checked=de?h.checked:!!N,h.defaultChecked=!!N,ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"&&(h.name=ne)}function qd(h,m,g){m==="number"&&Ud(h.ownerDocument)===h||h.defaultValue===""+g||(h.defaultValue=""+g)}function al(h,m,g,N){if(h=h.options,m){m={};for(var E=0;E<g.length;E++)m["$"+g[E]]=!0;for(g=0;g<h.length;g++)E=m.hasOwnProperty("$"+h[g].value),h[g].selected!==E&&(h[g].selected=E),E&&N&&(h[g].defaultSelected=!0)}else{for(g=""+Wr(g),m=null,E=0;E<h.length;E++){if(h[E].value===g){h[E].selected=!0,N&&(h[E].defaultSelected=!0);return}m!==null||h[E].disabled||(m=h[E])}m!==null&&(m.selected=!0)}}function En(h,m,g){if(m!=null&&(m=""+Wr(m),m!==h.value&&(h.value=m),g==null)){h.defaultValue!==m&&(h.defaultValue=m);return}h.defaultValue=g!=null?""+Wr(g):""}function rl(h,m,g,N){if(m==null){if(N!=null){if(g!=null)throw Error(r(92));if(V(N)){if(1<N.length)throw Error(r(93));N=N[0]}g=N}g==null&&(g=""),m=g}g=Wr(m),h.defaultValue=g,N=h.textContent,N===g&&N!==""&&N!==null&&(h.value=N)}function ki(h,m){if(m){var g=h.firstChild;if(g&&g===h.lastChild&&g.nodeType===3){g.nodeValue=m;return}}h.textContent=m}var go=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gu(h,m,g){var N=m.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?N?h.setProperty(m,""):m==="float"?h.cssFloat="":h[m]="":N?h.setProperty(m,g):typeof g!="number"||g===0||go.has(m)?m==="float"?h.cssFloat=g:h[m]=(""+g).trim():h[m]=g+"px"}function Ox(h,m,g){if(m!=null&&typeof m!="object")throw Error(r(62));if(h=h.style,g!=null){for(var N in g)!g.hasOwnProperty(N)||m!=null&&m.hasOwnProperty(N)||(N.indexOf("--")===0?h.setProperty(N,""):N==="float"?h.cssFloat="":h[N]="");for(var E in m)N=m[E],m.hasOwnProperty(E)&&g[E]!==N&&gu(h,E,N)}else for(var B in m)m.hasOwnProperty(B)&&gu(h,B,m[B])}function nl(h){if(h.indexOf("-")===-1)return!1;switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ny=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ln(h){return ny.test(""+h)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":h}var $x=null;function Jn(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Si=null,Gl=null;function yo(h){var m=el(h);if(m&&(h=m.stateNode)){var g=h[Re]||null;e:switch(h=m.stateNode,m.type){case"input":if(wi(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),m=g.name,g.type==="radio"&&m!=null){for(g=h;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Js(""+m)+'"][type="radio"]'),m=0;m<g.length;m++){var N=g[m];if(N!==h&&N.form===h.form){var E=N[Re]||null;if(!E)throw Error(r(90));wi(N,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(m=0;m<g.length;m++)N=g[m],N.form===h.form&&Dx(N)}break e;case"textarea":En(h,g.value,g.defaultValue);break e;case"select":m=g.value,m!=null&&al(h,!!g.multiple,m,!1)}}}var Gd=!1;function jo(h,m,g){if(Gd)return h(m,g);Gd=!0;try{var N=h(m);return N}finally{if(Gd=!1,(Si!==null||Gl!==null)&&(fj(),Si&&(m=Si,h=Gl,Gl=Si=null,yo(m),h)))for(m=0;m<h.length;m++)yo(h[m])}}function vo(h,m){var g=h.stateNode;if(g===null)return null;var N=g[Re]||null;if(N===null)return null;g=N[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(h=h.type,N=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!N;break e;default:h=!1}if(h)return null;if(g&&typeof g!="function")throw Error(r(231,m,typeof g));return g}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yu=!1;if(ei)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){yu=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{yu=!1}var il=null,ju=null,bo=null;function Vd(){if(bo)return bo;var h,m=ju,g=m.length,N,E="value"in il?il.value:il.textContent,B=E.length;for(h=0;h<g&&m[h]===E[h];h++);var ne=g-h;for(N=1;N<=ne&&m[g-N]===E[B-N];N++);return bo=E.slice(h,1<N?1-N:void 0)}function No(h){var m=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&m===13&&(h=13)):h=m,h===10&&(h=13),32<=h||h===13?h:0}function vu(){return!0}function Wd(){return!1}function Cr(h){function m(g,N,E,B,ne){this._reactName=g,this._targetInst=E,this.type=N,this.nativeEvent=B,this.target=ne,this.currentTarget=null;for(var de in h)h.hasOwnProperty(de)&&(g=h[de],this[de]=g?g(B):B[de]);return this.isDefaultPrevented=(B.defaultPrevented!=null?B.defaultPrevented:B.returnValue===!1)?vu:Wd,this.isPropagationStopped=Wd,this}return d(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=vu)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=vu)},persist:function(){},isPersistent:vu}),m}var ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=Cr(ll),Vl=d({},ll,{view:0,detail:0}),Px=Cr(Vl),bu,Wl,Yl,Yd=d({},Vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lx,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Yl&&(Yl&&h.type==="mousemove"?(bu=h.screenX-Yl.screenX,Wl=h.screenY-Yl.screenY):Wl=bu=0,Yl=h),bu)},movementY:function(h){return"movementY"in h?h.movementY:Wl}}),Ix=Cr(Yd),ko=d({},Yd,{dataTransfer:0}),E1=Cr(ko),iy=d({},Vl,{relatedTarget:0}),Nu=Cr(iy),ly=d({},ll,{animationName:0,elapsedTime:0,pseudoElement:0}),cy=Cr(ly),oy=d({},ll,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Bx=Cr(oy),dy=d({},ll,{data:0}),hy=Cr(dy),A1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},my={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(h){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(h):(h=my[h])?!!m[h]:!1}function Lx(){return wu}var T1=d({},Vl,{key:function(h){if(h.key){var m=A1[h.key]||h.key;if(m!=="Unidentified")return m}return h.type==="keypress"?(h=No(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?uy[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lx,charCode:function(h){return h.type==="keypress"?No(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?No(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),Fx=Cr(T1),xy=d({},Yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zx=Cr(xy),Kl=d({},Vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lx}),Hx=Cr(Kl),M1=d({},ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),fy=Cr(M1),D1=d({},Yd,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),O1=Cr(D1),R1=d({},ll,{newState:0,oldState:0}),$1=Cr(R1),py=[9,13,27,32],ku=ei&&"CompositionEvent"in window,Kd=null;ei&&"documentMode"in document&&(Kd=document.documentMode);var So=ei&&"TextEvent"in window&&!Kd,cl=ei&&(!ku||Kd&&8<Kd&&11>=Kd),gy=" ",Qd=!1;function yy(h,m){switch(h){case"keyup":return py.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jy(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var _o=!1;function P1(h,m){switch(h){case"compositionend":return jy(m);case"keypress":return m.which!==32?null:(Qd=!0,gy);case"textInput":return h=m.data,h===gy&&Qd?null:h;default:return null}}function I1(h,m){if(_o)return h==="compositionend"||!ku&&yy(h,m)?(h=Vd(),bo=ju=il=null,_o=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return cl&&m.locale!=="ko"?null:m.data;default:return null}}var B1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vy(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m==="input"?!!B1[h.type]:m==="textarea"}function by(h,m,g,N){Si?Gl?Gl.push(N):Gl=[N]:Si=N,m=bj(m,"onChange"),0<m.length&&(g=new wo("onChange","change",null,g,N),h.push({event:g,listeners:m}))}var xr=null,Co=null;function Ny(h){fT(h,0)}function Xd(h){var m=Fd(h);if(Dx(m))return h}function wy(h,m){if(h==="change")return m}var ky=!1;if(ei){var Su;if(ei){var Eo="oninput"in document;if(!Eo){var Sy=document.createElement("div");Sy.setAttribute("oninput","return;"),Eo=typeof Sy.oninput=="function"}Su=Eo}else Su=!1;ky=Su&&(!document.documentMode||9<document.documentMode)}function _y(){xr&&(xr.detachEvent("onpropertychange",Ux),Co=xr=null)}function Ux(h){if(h.propertyName==="value"&&Xd(Co)){var m=[];by(m,Co,h,Jn(h)),jo(Ny,m)}}function L1(h,m,g){h==="focusin"?(_y(),xr=m,Co=g,xr.attachEvent("onpropertychange",Ux)):h==="focusout"&&_y()}function F1(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return Xd(Co)}function Cy(h,m){if(h==="click")return Xd(m)}function Ey(h,m){if(h==="input"||h==="change")return Xd(m)}function Ay(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var er=typeof Object.is=="function"?Object.is:Ay;function Ao(h,m){if(er(h,m))return!0;if(typeof h!="object"||h===null||typeof m!="object"||m===null)return!1;var g=Object.keys(h),N=Object.keys(m);if(g.length!==N.length)return!1;for(N=0;N<g.length;N++){var E=g[N];if(!me.call(m,E)||!er(h[E],m[E]))return!1}return!0}function _u(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function Kr(h,m){var g=_u(h);h=0;for(var N;g;){if(g.nodeType===3){if(N=h+g.textContent.length,h<=m&&N>=m)return{node:g,offset:m-h};h=N}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=_u(g)}}function Ty(h,m){return h&&m?h===m?!0:h&&h.nodeType===3?!1:m&&m.nodeType===3?Ty(h,m.parentNode):"contains"in h?h.contains(m):h.compareDocumentPosition?!!(h.compareDocumentPosition(m)&16):!1:!1}function My(h){h=h!=null&&h.ownerDocument!=null&&h.ownerDocument.defaultView!=null?h.ownerDocument.defaultView:window;for(var m=Ud(h.document);m instanceof h.HTMLIFrameElement;){try{var g=typeof m.contentWindow.location.href=="string"}catch{g=!1}if(g)h=m.contentWindow;else break;m=Ud(h.document)}return m}function Cu(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m&&(m==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||m==="textarea"||h.contentEditable==="true")}var Dy=ei&&"documentMode"in document&&11>=document.documentMode,To=null,qx=null,Zd=null,Gx=!1;function Oy(h,m,g){var N=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Gx||To==null||To!==Ud(N)||(N=To,"selectionStart"in N&&Cu(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),Zd&&Ao(Zd,N)||(Zd=N,N=bj(qx,"onSelect"),0<N.length&&(m=new wo("onSelect","select",null,m,g),h.push({event:m,listeners:N}),m.target=To)))}function Ql(h,m){var g={};return g[h.toLowerCase()]=m.toLowerCase(),g["Webkit"+h]="webkit"+m,g["Moz"+h]="moz"+m,g}var Xl={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionrun:Ql("Transition","TransitionRun"),transitionstart:Ql("Transition","TransitionStart"),transitioncancel:Ql("Transition","TransitionCancel"),transitionend:Ql("Transition","TransitionEnd")},Eu={},Au={};ei&&(Au=document.createElement("div").style,"AnimationEvent"in window||(delete Xl.animationend.animation,delete Xl.animationiteration.animation,delete Xl.animationstart.animation),"TransitionEvent"in window||delete Xl.transitionend.transition);function Zl(h){if(Eu[h])return Eu[h];if(!Xl[h])return h;var m=Xl[h],g;for(g in m)if(m.hasOwnProperty(g)&&g in Au)return Eu[h]=m[g];return h}var Ry=Zl("animationend"),ol=Zl("animationiteration"),si=Zl("animationstart"),$y=Zl("transitionrun"),z1=Zl("transitionstart"),Py=Zl("transitioncancel"),Vx=Zl("transitionend"),Wx=new Map,Tu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tu.push("scrollEnd");function An(h,m){Wx.set(h,m),Ta(m,[h])}var Iy=new WeakMap;function cn(h,m){if(typeof h=="object"&&h!==null){var g=Iy.get(h);return g!==void 0?g:(m={value:h,source:m,stack:Tx(m)},Iy.set(h,m),m)}return{value:h,source:m,stack:Tx(m)}}var Qr=[],Jl=0,Yx=0;function Mu(){for(var h=Jl,m=Yx=Jl=0;m<h;){var g=Qr[m];Qr[m++]=null;var N=Qr[m];Qr[m++]=null;var E=Qr[m];Qr[m++]=null;var B=Qr[m];if(Qr[m++]=null,N!==null&&E!==null){var ne=N.pending;ne===null?E.next=E:(E.next=ne.next,ne.next=E),N.pending=E}B!==0&&ai(g,E,B)}}function Du(h,m,g,N){Qr[Jl++]=h,Qr[Jl++]=m,Qr[Jl++]=g,Qr[Jl++]=N,Yx|=N,h.lanes|=N,h=h.alternate,h!==null&&(h.lanes|=N)}function Kx(h,m,g,N){return Du(h,m,g,N),Jd(h)}function Mo(h,m){return Du(h,null,null,m),Jd(h)}function ai(h,m,g){h.lanes|=g;var N=h.alternate;N!==null&&(N.lanes|=g);for(var E=!1,B=h.return;B!==null;)B.childLanes|=g,N=B.alternate,N!==null&&(N.childLanes|=g),B.tag===22&&(h=B.stateNode,h===null||h._visibility&1||(E=!0)),h=B,B=B.return;return h.tag===3?(B=h.stateNode,E&&m!==null&&(E=31-le(g),h=B.hiddenUpdates,N=h[E],N===null?h[E]=[m]:N.push(m),m.lane=g|536870912),B):null}function Jd(h){if(50<_f)throw _f=0,j0=null,Error(r(185));for(var m=h.return;m!==null;)h=m,m=h.return;return h.tag===3?h.stateNode:null}var Do={};function H1(h,m,g,N){this.tag=h,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(h,m,g,N){return new H1(h,m,g,N)}function Qx(h){return h=h.prototype,!(!h||!h.isReactComponent)}function _i(h,m){var g=h.alternate;return g===null?(g=Xr(h.tag,m,h.key,h.mode),g.elementType=h.elementType,g.type=h.type,g.stateNode=h.stateNode,g.alternate=h,h.alternate=g):(g.pendingProps=m,g.type=h.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=h.flags&65011712,g.childLanes=h.childLanes,g.lanes=h.lanes,g.child=h.child,g.memoizedProps=h.memoizedProps,g.memoizedState=h.memoizedState,g.updateQueue=h.updateQueue,m=h.dependencies,g.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},g.sibling=h.sibling,g.index=h.index,g.ref=h.ref,g.refCleanup=h.refCleanup,g}function By(h,m){h.flags&=65011714;var g=h.alternate;return g===null?(h.childLanes=0,h.lanes=m,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=g.childLanes,h.lanes=g.lanes,h.child=g.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=g.memoizedProps,h.memoizedState=g.memoizedState,h.updateQueue=g.updateQueue,h.type=g.type,m=g.dependencies,h.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),h}function Ou(h,m,g,N,E,B){var ne=0;if(N=h,typeof h=="function")Qx(h)&&(ne=1);else if(typeof h=="string")ne=hV(h,g,ie.current)?26:h==="html"||h==="head"||h==="body"?27:5;else e:switch(h){case Q:return h=Xr(31,g,m,E),h.elementType=Q,h.lanes=B,h;case y:return ec(g.children,E,B,m);case k:ne=8,E|=24;break;case v:return h=Xr(12,g,m,E|2),h.elementType=v,h.lanes=B,h;case D:return h=Xr(13,g,m,E),h.elementType=D,h.lanes=B,h;case M:return h=Xr(19,g,m,E),h.elementType=M,h.lanes=B,h;default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case S:case _:ne=10;break e;case C:ne=9;break e;case A:ne=11;break e;case L:ne=14;break e;case F:ne=16,N=null;break e}ne=29,g=Error(r(130,h===null?"null":typeof h,"")),N=null}return m=Xr(ne,g,m,E),m.elementType=h,m.type=N,m.lanes=B,m}function ec(h,m,g,N){return h=Xr(7,h,N,m),h.lanes=g,h}function eh(h,m,g){return h=Xr(6,h,null,m),h.lanes=g,h}function Oo(h,m,g){return m=Xr(4,h.children!==null?h.children:[],h.key,m),m.lanes=g,m.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},m}var Ro=[],tc=0,th=null,dl=0,Er=[],Ar=0,sc=null,Ci=1,Ei="";function Zr(h,m){Ro[tc++]=dl,Ro[tc++]=th,th=h,dl=m}function Ly(h,m,g){Er[Ar++]=Ci,Er[Ar++]=Ei,Er[Ar++]=sc,sc=h;var N=Ci;h=Ei;var E=32-le(N)-1;N&=~(1<<E),g+=1;var B=32-le(m)+E;if(30<B){var ne=E-E%5;B=(N&(1<<ne)-1).toString(32),N>>=ne,E-=ne,Ci=1<<32-le(m)+E|g<<E|N,Ei=B+h}else Ci=1<<B|g<<E|N,Ei=h}function Xx(h){h.return!==null&&(Zr(h,1),Ly(h,1,0))}function Zx(h){for(;h===th;)th=Ro[--tc],Ro[tc]=null,dl=Ro[--tc],Ro[tc]=null;for(;h===sc;)sc=Er[--Ar],Er[Ar]=null,Ei=Er[--Ar],Er[Ar]=null,Ci=Er[--Ar],Er[Ar]=null}var fr=null,Vs=null,ds=!1,ac=null,Tn=!1,Jx=Error(r(519));function on(h){var m=Error(r(418,""));throw Ai(cn(m,h)),Jx}function Ru(h){var m=h.stateNode,g=h.type,N=h.memoizedProps;switch(m[ra]=h,m[Re]=N,g){case"dialog":rs("cancel",m),rs("close",m);break;case"iframe":case"object":case"embed":rs("load",m);break;case"video":case"audio":for(g=0;g<Ef.length;g++)rs(Ef[g],m);break;case"source":rs("error",m);break;case"img":case"image":case"link":rs("error",m),rs("load",m);break;case"details":rs("toggle",m);break;case"input":rs("invalid",m),Yr(m,N.value,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name,!0),Hd(m);break;case"select":rs("invalid",m);break;case"textarea":rs("invalid",m),rl(m,N.value,N.defaultValue,N.children),Hd(m)}g=N.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||m.textContent===""+g||N.suppressHydrationWarning===!0||jT(m.textContent,g)?(N.popover!=null&&(rs("beforetoggle",m),rs("toggle",m)),N.onScroll!=null&&rs("scroll",m),N.onScrollEnd!=null&&rs("scrollend",m),N.onClick!=null&&(m.onclick=Nj),m=!0):m=!1,m||on(h)}function ef(h){for(fr=h.return;fr;)switch(fr.tag){case 5:case 13:Tn=!1;return;case 27:case 3:Tn=!0;return;default:fr=fr.return}}function sh(h){if(h!==fr)return!1;if(!ds)return ef(h),ds=!0,!1;var m=h.tag,g;if((g=m!==3&&m!==27)&&((g=m===5)&&(g=h.type,g=!(g!=="form"&&g!=="button")||$0(h.type,h.memoizedProps)),g=!g),g&&Vs&&on(h),ef(h),m===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));e:{for(h=h.nextSibling,m=0;h;){if(h.nodeType===8)if(g=h.data,g==="/$"){if(m===0){Vs=$i(h.nextSibling);break e}m--}else g!=="$"&&g!=="$!"&&g!=="$?"||m++;h=h.nextSibling}Vs=null}}else m===27?(m=Vs,Zo(h.type)?(h=L0,L0=null,Vs=h):Vs=m):Vs=fr?$i(h.stateNode.nextSibling):null;return!0}function ah(){Vs=fr=null,ds=!1}function Fy(){var h=ac;return h!==null&&(xn===null?xn=h:xn.push.apply(xn,h),ac=null),h}function Ai(h){ac===null?ac=[h]:ac.push(h)}var Ti=W(null),rc=null,Mi=null;function hl(h,m,g){te(Ti,m._currentValue),m._currentValue=g}function Di(h){h._currentValue=Ti.current,Z(Ti)}function tf(h,m,g){for(;h!==null;){var N=h.alternate;if((h.childLanes&m)!==m?(h.childLanes|=m,N!==null&&(N.childLanes|=m)):N!==null&&(N.childLanes&m)!==m&&(N.childLanes|=m),h===g)break;h=h.return}}function sf(h,m,g,N){var E=h.child;for(E!==null&&(E.return=h);E!==null;){var B=E.dependencies;if(B!==null){var ne=E.child;B=B.firstContext;e:for(;B!==null;){var de=B;B=E;for(var Ne=0;Ne<m.length;Ne++)if(de.context===m[Ne]){B.lanes|=g,de=B.alternate,de!==null&&(de.lanes|=g),tf(B.return,g,h),N||(ne=null);break e}B=de.next}}else if(E.tag===18){if(ne=E.return,ne===null)throw Error(r(341));ne.lanes|=g,B=ne.alternate,B!==null&&(B.lanes|=g),tf(ne,g,h),ne=null}else ne=E.child;if(ne!==null)ne.return=E;else for(ne=E;ne!==null;){if(ne===h){ne=null;break}if(E=ne.sibling,E!==null){E.return=ne.return,ne=E;break}ne=ne.return}E=ne}}function rh(h,m,g,N){h=null;for(var E=m,B=!1;E!==null;){if(!B){if((E.flags&524288)!==0)B=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var ne=E.alternate;if(ne===null)throw Error(r(387));if(ne=ne.memoizedProps,ne!==null){var de=E.type;er(E.pendingProps.value,ne.value)||(h!==null?h.push(de):h=[de])}}else if(E===ge.current){if(ne=E.alternate,ne===null)throw Error(r(387));ne.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(h!==null?h.push(Rf):h=[Rf])}E=E.return}h!==null&&sf(m,h,g,N),m.flags|=262144}function $u(h){for(h=h.firstContext;h!==null;){if(!er(h.context._currentValue,h.memoizedValue))return!0;h=h.next}return!1}function ul(h){rc=h,Mi=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function tr(h){return Pu(rc,h)}function nh(h,m){return rc===null&&ul(h),Pu(h,m)}function Pu(h,m){var g=m._currentValue;if(m={context:m,memoizedValue:g,next:null},Mi===null){if(h===null)throw Error(r(308));Mi=m,h.dependencies={lanes:0,firstContext:m},h.flags|=524288}else Mi=Mi.next=m;return g}var zy=typeof AbortController<"u"?AbortController:function(){var h=[],m=this.signal={aborted:!1,addEventListener:function(g,N){h.push(N)}};this.abort=function(){m.aborted=!0,h.forEach(function(g){return g()})}},nc=s.unstable_scheduleCallback,Hy=s.unstable_NormalPriority,fa={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Iu(){return{controller:new zy,data:new Map,refCount:0}}function ic(h){h.refCount--,h.refCount===0&&nc(Hy,function(){h.controller.abort()})}var $o=null,ih=0,Po=0,dn=null;function ml(h,m){if($o===null){var g=$o=[];ih=0,Po=_0(),dn={status:"pending",value:void 0,then:function(N){g.push(N)}}}return ih++,m.then(Uy,Uy),m}function Uy(){if(--ih===0&&$o!==null){dn!==null&&(dn.status="fulfilled");var h=$o;$o=null,Po=0,dn=null;for(var m=0;m<h.length;m++)(0,h[m])()}}function U1(h,m){var g=[],N={status:"pending",value:null,reason:null,then:function(E){g.push(E)}};return h.then(function(){N.status="fulfilled",N.value=m;for(var E=0;E<g.length;E++)(0,g[E])(m)},function(E){for(N.status="rejected",N.reason=E,E=0;E<g.length;E++)(0,g[E])(void 0)}),N}var qy=P.S;P.S=function(h,m){typeof m=="object"&&m!==null&&typeof m.then=="function"&&ml(h,m),qy!==null&&qy(h,m)};var lc=W(null);function af(){var h=lc.current;return h!==null?h:ta.pooledCache}function Bu(h,m){m===null?te(lc,lc.current):te(lc,m.pool)}function Gy(){var h=af();return h===null?null:{parent:fa._currentValue,pool:h}}var lh=Error(r(460)),rf=Error(r(474)),cc=Error(r(542)),Io={then:function(){}};function Vy(h){return h=h.status,h==="fulfilled"||h==="rejected"}function Lu(){}function Bo(h,m,g){switch(g=h[g],g===void 0?h.push(m):g!==m&&(m.then(Lu,Lu),m=g),m.status){case"fulfilled":return m.value;case"rejected":throw h=m.reason,X(h),h;default:if(typeof m.status=="string")m.then(Lu,Lu);else{if(h=ta,h!==null&&100<h.shellSuspendCounter)throw Error(r(482));h=m,h.status="pending",h.then(function(N){if(m.status==="pending"){var E=m;E.status="fulfilled",E.value=N}},function(N){if(m.status==="pending"){var E=m;E.status="rejected",E.reason=N}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw h=m.reason,X(h),h}throw ce=m,lh}}var ce=null;function R(){if(ce===null)throw Error(r(459));var h=ce;return ce=null,h}function X(h){if(h===lh||h===cc)throw Error(r(483))}var ue=!1;function Ce(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Me(h,m){h=h.updateQueue,m.updateQueue===h&&(m.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function qe(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function Ze(h,m,g){var N=h.updateQueue;if(N===null)return null;if(N=N.shared,(Ps&2)!==0){var E=N.pending;return E===null?m.next=m:(m.next=E.next,E.next=m),N.pending=m,m=Jd(h),ai(h,null,g),m}return Du(h,N,m,g),Jd(h)}function dt(h,m,g){if(m=m.updateQueue,m!==null&&(m=m.shared,(g&4194048)!==0)){var N=m.lanes;N&=h.pendingLanes,g|=N,m.lanes=g,nn(h,g)}}function vt(h,m){var g=h.updateQueue,N=h.alternate;if(N!==null&&(N=N.updateQueue,g===N)){var E=null,B=null;if(g=g.firstBaseUpdate,g!==null){do{var ne={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};B===null?E=B=ne:B=B.next=ne,g=g.next}while(g!==null);B===null?E=B=m:B=B.next=m}else E=B=m;g={baseState:N.baseState,firstBaseUpdate:E,lastBaseUpdate:B,shared:N.shared,callbacks:N.callbacks},h.updateQueue=g;return}h=g.lastBaseUpdate,h===null?g.firstBaseUpdate=m:h.next=m,g.lastBaseUpdate=m}var bt=!1;function ft(){if(bt){var h=dn;if(h!==null)throw h}}function qt(h,m,g,N){bt=!1;var E=h.updateQueue;ue=!1;var B=E.firstBaseUpdate,ne=E.lastBaseUpdate,de=E.shared.pending;if(de!==null){E.shared.pending=null;var Ne=de,Be=Ne.next;Ne.next=null,ne===null?B=Be:ne.next=Be,ne=Ne;var Ye=h.alternate;Ye!==null&&(Ye=Ye.updateQueue,de=Ye.lastBaseUpdate,de!==ne&&(de===null?Ye.firstBaseUpdate=Be:de.next=Be,Ye.lastBaseUpdate=Ne))}if(B!==null){var Je=E.baseState;ne=0,Ye=Be=Ne=null,de=B;do{var Fe=de.lane&-536870913,Ue=Fe!==de.lane;if(Ue?(ms&Fe)===Fe:(N&Fe)===Fe){Fe!==0&&Fe===Po&&(bt=!0),Ye!==null&&(Ye=Ye.next={lane:0,tag:de.tag,payload:de.payload,callback:null,next:null});e:{var Ht=h,Pt=de;Fe=m;var Hs=g;switch(Pt.tag){case 1:if(Ht=Pt.payload,typeof Ht=="function"){Je=Ht.call(Hs,Je,Fe);break e}Je=Ht;break e;case 3:Ht.flags=Ht.flags&-65537|128;case 0:if(Ht=Pt.payload,Fe=typeof Ht=="function"?Ht.call(Hs,Je,Fe):Ht,Fe==null)break e;Je=d({},Je,Fe);break e;case 2:ue=!0}}Fe=de.callback,Fe!==null&&(h.flags|=64,Ue&&(h.flags|=8192),Ue=E.callbacks,Ue===null?E.callbacks=[Fe]:Ue.push(Fe))}else Ue={lane:Fe,tag:de.tag,payload:de.payload,callback:de.callback,next:null},Ye===null?(Be=Ye=Ue,Ne=Je):Ye=Ye.next=Ue,ne|=Fe;if(de=de.next,de===null){if(de=E.shared.pending,de===null)break;Ue=de,de=Ue.next,Ue.next=null,E.lastBaseUpdate=Ue,E.shared.pending=null}}while(!0);Ye===null&&(Ne=Je),E.baseState=Ne,E.firstBaseUpdate=Be,E.lastBaseUpdate=Ye,B===null&&(E.shared.lanes=0),Yo|=ne,h.lanes=ne,h.memoizedState=Je}}function Rt(h,m){if(typeof h!="function")throw Error(r(191,h));h.call(m)}function Gt(h,m){var g=h.callbacks;if(g!==null)for(h.callbacks=null,h=0;h<g.length;h++)Rt(g[h],m)}var Dt=W(null),Ft=W(0);function Ss(h,m){h=pc,te(Ft,h),te(Dt,m),pc=h|m.baseLanes}function Ms(){te(Ft,pc),te(Dt,Dt.current)}function Wt(){pc=Ft.current,Z(Dt),Z(Ft)}var es=0,xt=null,St=null,Bt=null,gs=!1,ls=!1,$s=!1,sr=0,pr=0,va=null,hn=0;function us(){throw Error(r(321))}function ea(h,m){if(m===null)return!1;for(var g=0;g<m.length&&g<h.length;g++)if(!er(h[g],m[g]))return!1;return!0}function un(h,m,g,N,E,B){return es=B,xt=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,P.H=h===null||h.memoizedState===null?J4:e6,$s=!1,B=g(N,E),$s=!1,ls&&(B=oc(m,g,N,E)),Mn(h),B}function Mn(h){P.H=sj;var m=St!==null&&St.next!==null;if(es=0,Bt=St=xt=null,gs=!1,pr=0,va=null,m)throw Error(r(300));h===null||ar||(h=h.dependencies,h!==null&&$u(h)&&(ar=!0))}function oc(h,m,g,N){xt=h;var E=0;do{if(ls&&(va=null),pr=0,ls=!1,25<=E)throw Error(r(301));if(E+=1,Bt=St=null,h.updateQueue!=null){var B=h.updateQueue;B.lastEffect=null,B.events=null,B.stores=null,B.memoCache!=null&&(B.memoCache.index=0)}P.H=NG,B=m(g,N)}while(ls);return B}function Ia(){var h=P.H,m=h.useState()[0];return m=typeof m.then=="function"?Lo(m):m,h=h.useState()[0],(St!==null?St.memoizedState:null)!==h&&(xt.flags|=1024),m}function _s(){var h=sr!==0;return sr=0,h}function za(h,m,g){m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~g}function Tr(h){if(gs){for(h=h.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}gs=!1}es=0,Bt=St=xt=null,ls=!1,pr=sr=0,va=null}function pa(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?xt.memoizedState=Bt=h:Bt=Bt.next=h,Bt}function ia(){if(St===null){var h=xt.alternate;h=h!==null?h.memoizedState:null}else h=St.next;var m=Bt===null?xt.memoizedState:Bt.next;if(m!==null)Bt=m,St=h;else{if(h===null)throw xt.alternate===null?Error(r(467)):Error(r(310));St=h,h={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Bt===null?xt.memoizedState=Bt=h:Bt=Bt.next=h}return Bt}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lo(h){var m=pr;return pr+=1,va===null&&(va=[]),h=Bo(va,h,m),m=xt,(Bt===null?m.memoizedState:Bt.next)===null&&(m=m.alternate,P.H=m===null||m.memoizedState===null?J4:e6),h}function dc(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return Lo(h);if(h.$$typeof===_)return tr(h)}throw Error(r(438,String(h)))}function nf(h){var m=null,g=xt.updateQueue;if(g!==null&&(m=g.memoCache),m==null){var N=xt.alternate;N!==null&&(N=N.updateQueue,N!==null&&(N=N.memoCache,N!=null&&(m={data:N.data.map(function(E){return E.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),g===null&&(g=Fu(),xt.updateQueue=g),g.memoCache=m,g=m.data[m.index],g===void 0)for(g=m.data[m.index]=Array(h),N=0;N<h;N++)g[N]=I;return m.index++,g}function Oi(h,m){return typeof m=="function"?m(h):m}function Fo(h){var m=ia();return lf(m,St,h)}function lf(h,m,g){var N=h.queue;if(N===null)throw Error(r(311));N.lastRenderedReducer=g;var E=h.baseQueue,B=N.pending;if(B!==null){if(E!==null){var ne=E.next;E.next=B.next,B.next=ne}m.baseQueue=E=B,N.pending=null}if(B=h.baseState,E===null)h.memoizedState=B;else{m=E.next;var de=ne=null,Ne=null,Be=m,Ye=!1;do{var Je=Be.lane&-536870913;if(Je!==Be.lane?(ms&Je)===Je:(es&Je)===Je){var Fe=Be.revertLane;if(Fe===0)Ne!==null&&(Ne=Ne.next={lane:0,revertLane:0,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null}),Je===Po&&(Ye=!0);else if((es&Fe)===Fe){Be=Be.next,Fe===Po&&(Ye=!0);continue}else Je={lane:0,revertLane:Be.revertLane,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null},Ne===null?(de=Ne=Je,ne=B):Ne=Ne.next=Je,xt.lanes|=Fe,Yo|=Fe;Je=Be.action,$s&&g(B,Je),B=Be.hasEagerState?Be.eagerState:g(B,Je)}else Fe={lane:Je,revertLane:Be.revertLane,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null},Ne===null?(de=Ne=Fe,ne=B):Ne=Ne.next=Fe,xt.lanes|=Je,Yo|=Je;Be=Be.next}while(Be!==null&&Be!==m);if(Ne===null?ne=B:Ne.next=de,!er(B,h.memoizedState)&&(ar=!0,Ye&&(g=dn,g!==null)))throw g;h.memoizedState=B,h.baseState=ne,h.baseQueue=Ne,N.lastRenderedState=B}return E===null&&(N.lanes=0),[h.memoizedState,N.dispatch]}function zu(h){var m=ia(),g=m.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=h;var N=g.dispatch,E=g.pending,B=m.memoizedState;if(E!==null){g.pending=null;var ne=E=E.next;do B=h(B,ne.action),ne=ne.next;while(ne!==E);er(B,m.memoizedState)||(ar=!0),m.memoizedState=B,m.baseQueue===null&&(m.baseState=B),g.lastRenderedState=B}return[B,N]}function Wy(h,m,g){var N=xt,E=ia(),B=ds;if(B){if(g===void 0)throw Error(r(407));g=g()}else g=m();var ne=!er((St||E).memoizedState,g);ne&&(E.memoizedState=g,ar=!0),E=E.queue;var de=Yy.bind(null,N,E,h);if(ff(2048,8,de,[h]),E.getSnapshot!==m||ne||Bt!==null&&Bt.memoizedState.tag&1){if(N.flags|=2048,Gu(9,Jy(),of.bind(null,N,E,g,m),null),ta===null)throw Error(r(349));B||(es&124)!==0||cf(N,m,g)}return g}function cf(h,m,g){h.flags|=16384,h={getSnapshot:m,value:g},m=xt.updateQueue,m===null?(m=Fu(),xt.updateQueue=m,m.stores=[h]):(g=m.stores,g===null?m.stores=[h]:g.push(h))}function of(h,m,g,N){m.value=g,m.getSnapshot=N,Ky(m)&&xl(h)}function Yy(h,m,g){return g(function(){Ky(m)&&xl(h)})}function Ky(h){var m=h.getSnapshot;h=h.value;try{var g=m();return!er(h,g)}catch{return!0}}function xl(h){var m=Mo(h,2);m!==null&&Pn(m,h,2)}function zo(h){var m=pa();if(typeof h=="function"){var g=h;if(h=g(),$s){ps(!0);try{g()}finally{ps(!1)}}}return m.memoizedState=m.baseState=h,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:h},m}function df(h,m,g,N){return h.baseState=g,lf(h,St,typeof N=="function"?N:Oi)}function Qy(h,m,g,N,E){if(tj(h))throw Error(r(485));if(h=m.action,h!==null){var B={payload:E,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ne){B.listeners.push(ne)}};P.T!==null?g(!0):B.isTransition=!1,N(B),g=m.pending,g===null?(B.next=m.pending=B,Hu(m,B)):(B.next=g.next,m.pending=g.next=B)}}function Hu(h,m){var g=m.action,N=m.payload,E=h.state;if(m.isTransition){var B=P.T,ne={};P.T=ne;try{var de=g(E,N),Ne=P.S;Ne!==null&&Ne(ne,de),hf(h,m,de)}catch(Be){Uu(h,m,Be)}finally{P.T=B}}else try{B=g(E,N),hf(h,m,B)}catch(Be){Uu(h,m,Be)}}function hf(h,m,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(N){uf(h,m,N)},function(N){return Uu(h,m,N)}):uf(h,m,g)}function uf(h,m,g){m.status="fulfilled",m.value=g,mf(m),h.state=g,m=h.pending,m!==null&&(g=m.next,g===m?h.pending=null:(g=g.next,m.next=g,Hu(h,g)))}function Uu(h,m,g){var N=h.pending;if(h.pending=null,N!==null){N=N.next;do m.status="rejected",m.reason=g,mf(m),m=m.next;while(m!==N)}h.action=null}function mf(h){h=h.listeners;for(var m=0;m<h.length;m++)(0,h[m])()}function Xy(h,m){return m}function Zy(h,m){if(ds){var g=ta.formState;if(g!==null){e:{var N=xt;if(ds){if(Vs){t:{for(var E=Vs,B=Tn;E.nodeType!==8;){if(!B){E=null;break t}if(E=$i(E.nextSibling),E===null){E=null;break t}}B=E.data,E=B==="F!"||B==="F"?E:null}if(E){Vs=$i(E.nextSibling),N=E.data==="F!";break e}}on(N)}N=!1}N&&(m=g[0])}}return g=pa(),g.memoizedState=g.baseState=m,N={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xy,lastRenderedState:m},g.queue=N,g=Q4.bind(null,xt,N),N.dispatch=g,N=zo(!1),B=Y1.bind(null,xt,!1,N.queue),N=pa(),E={state:m,dispatch:null,action:h,pending:null},N.queue=E,g=Qy.bind(null,xt,E,B,g),E.dispatch=g,N.memoizedState=h,[m,g,!1]}function qu(h){var m=ia();return xf(m,St,h)}function xf(h,m,g){if(m=lf(h,m,Xy)[0],h=Fo(Oi)[0],typeof m=="object"&&m!==null&&typeof m.then=="function")try{var N=Lo(m)}catch(ne){throw ne===lh?cc:ne}else N=m;m=ia();var E=m.queue,B=E.dispatch;return g!==m.memoizedState&&(xt.flags|=2048,Gu(9,Jy(),yG.bind(null,E,g),null)),[N,B,h]}function yG(h,m){h.action=m}function R4(h){var m=ia(),g=St;if(g!==null)return xf(m,g,h);ia(),m=m.memoizedState,g=ia();var N=g.queue.dispatch;return g.memoizedState=h,[m,N,!1]}function Gu(h,m,g,N){return h={tag:h,create:g,deps:N,inst:m,next:null},m=xt.updateQueue,m===null&&(m=Fu(),xt.updateQueue=m),g=m.lastEffect,g===null?m.lastEffect=h.next=h:(N=g.next,g.next=h,h.next=N,m.lastEffect=h),h}function Jy(){return{destroy:void 0,resource:void 0}}function $4(){return ia().memoizedState}function ej(h,m,g,N){var E=pa();N=N===void 0?null:N,xt.flags|=h,E.memoizedState=Gu(1|m,Jy(),g,N)}function ff(h,m,g,N){var E=ia();N=N===void 0?null:N;var B=E.memoizedState.inst;St!==null&&N!==null&&ea(N,St.memoizedState.deps)?E.memoizedState=Gu(m,B,g,N):(xt.flags|=h,E.memoizedState=Gu(1|m,B,g,N))}function P4(h,m){ej(8390656,8,h,m)}function I4(h,m){ff(2048,8,h,m)}function B4(h,m){return ff(4,2,h,m)}function L4(h,m){return ff(4,4,h,m)}function F4(h,m){if(typeof m=="function"){h=h();var g=m(h);return function(){typeof g=="function"?g():m(null)}}if(m!=null)return h=h(),m.current=h,function(){m.current=null}}function z4(h,m,g){g=g!=null?g.concat([h]):null,ff(4,4,F4.bind(null,m,h),g)}function q1(){}function H4(h,m){var g=ia();m=m===void 0?null:m;var N=g.memoizedState;return m!==null&&ea(m,N[1])?N[0]:(g.memoizedState=[h,m],h)}function U4(h,m){var g=ia();m=m===void 0?null:m;var N=g.memoizedState;if(m!==null&&ea(m,N[1]))return N[0];if(N=h(),$s){ps(!0);try{h()}finally{ps(!1)}}return g.memoizedState=[N,m],N}function G1(h,m,g){return g===void 0||(es&1073741824)!==0?h.memoizedState=m:(h.memoizedState=g,h=V6(),xt.lanes|=h,Yo|=h,g)}function q4(h,m,g,N){return er(g,m)?g:Dt.current!==null?(h=G1(h,g,N),er(h,m)||(ar=!0),h):(es&42)===0?(ar=!0,h.memoizedState=g):(h=V6(),xt.lanes|=h,Yo|=h,m)}function G4(h,m,g,N,E){var B=q.p;q.p=B!==0&&8>B?B:8;var ne=P.T,de={};P.T=de,Y1(h,!1,m,g);try{var Ne=E(),Be=P.S;if(Be!==null&&Be(de,Ne),Ne!==null&&typeof Ne=="object"&&typeof Ne.then=="function"){var Ye=U1(Ne,N);pf(h,m,Ye,$n(h))}else pf(h,m,N,$n(h))}catch(Je){pf(h,m,{then:function(){},status:"rejected",reason:Je},$n())}finally{q.p=B,P.T=ne}}function jG(){}function V1(h,m,g,N){if(h.tag!==5)throw Error(r(476));var E=V4(h).queue;G4(h,E,m,G,g===null?jG:function(){return W4(h),g(N)})}function V4(h){var m=h.memoizedState;if(m!==null)return m;m={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:G},next:null};var g={};return m.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:g},next:null},h.memoizedState=m,h=h.alternate,h!==null&&(h.memoizedState=m),m}function W4(h){var m=V4(h).next.queue;pf(h,m,{},$n())}function W1(){return tr(Rf)}function Y4(){return ia().memoizedState}function K4(){return ia().memoizedState}function vG(h){for(var m=h.return;m!==null;){switch(m.tag){case 24:case 3:var g=$n();h=qe(g);var N=Ze(m,h,g);N!==null&&(Pn(N,m,g),dt(N,m,g)),m={cache:Iu()},h.payload=m;return}m=m.return}}function bG(h,m,g){var N=$n();g={lane:N,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},tj(h)?X4(m,g):(g=Kx(h,m,g,N),g!==null&&(Pn(g,h,N),Z4(g,m,N)))}function Q4(h,m,g){var N=$n();pf(h,m,g,N)}function pf(h,m,g,N){var E={lane:N,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(tj(h))X4(m,E);else{var B=h.alternate;if(h.lanes===0&&(B===null||B.lanes===0)&&(B=m.lastRenderedReducer,B!==null))try{var ne=m.lastRenderedState,de=B(ne,g);if(E.hasEagerState=!0,E.eagerState=de,er(de,ne))return Du(h,m,E,0),ta===null&&Mu(),!1}catch{}finally{}if(g=Kx(h,m,E,N),g!==null)return Pn(g,h,N),Z4(g,m,N),!0}return!1}function Y1(h,m,g,N){if(N={lane:2,revertLane:_0(),action:N,hasEagerState:!1,eagerState:null,next:null},tj(h)){if(m)throw Error(r(479))}else m=Kx(h,g,N,2),m!==null&&Pn(m,h,2)}function tj(h){var m=h.alternate;return h===xt||m!==null&&m===xt}function X4(h,m){ls=gs=!0;var g=h.pending;g===null?m.next=m:(m.next=g.next,g.next=m),h.pending=m}function Z4(h,m,g){if((g&4194048)!==0){var N=m.lanes;N&=h.pendingLanes,g|=N,m.lanes=g,nn(h,g)}}var sj={readContext:tr,use:dc,useCallback:us,useContext:us,useEffect:us,useImperativeHandle:us,useLayoutEffect:us,useInsertionEffect:us,useMemo:us,useReducer:us,useRef:us,useState:us,useDebugValue:us,useDeferredValue:us,useTransition:us,useSyncExternalStore:us,useId:us,useHostTransitionStatus:us,useFormState:us,useActionState:us,useOptimistic:us,useMemoCache:us,useCacheRefresh:us},J4={readContext:tr,use:dc,useCallback:function(h,m){return pa().memoizedState=[h,m===void 0?null:m],h},useContext:tr,useEffect:P4,useImperativeHandle:function(h,m,g){g=g!=null?g.concat([h]):null,ej(4194308,4,F4.bind(null,m,h),g)},useLayoutEffect:function(h,m){return ej(4194308,4,h,m)},useInsertionEffect:function(h,m){ej(4,2,h,m)},useMemo:function(h,m){var g=pa();m=m===void 0?null:m;var N=h();if($s){ps(!0);try{h()}finally{ps(!1)}}return g.memoizedState=[N,m],N},useReducer:function(h,m,g){var N=pa();if(g!==void 0){var E=g(m);if($s){ps(!0);try{g(m)}finally{ps(!1)}}}else E=m;return N.memoizedState=N.baseState=E,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:E},N.queue=h,h=h.dispatch=bG.bind(null,xt,h),[N.memoizedState,h]},useRef:function(h){var m=pa();return h={current:h},m.memoizedState=h},useState:function(h){h=zo(h);var m=h.queue,g=Q4.bind(null,xt,m);return m.dispatch=g,[h.memoizedState,g]},useDebugValue:q1,useDeferredValue:function(h,m){var g=pa();return G1(g,h,m)},useTransition:function(){var h=zo(!1);return h=G4.bind(null,xt,h.queue,!0,!1),pa().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,m,g){var N=xt,E=pa();if(ds){if(g===void 0)throw Error(r(407));g=g()}else{if(g=m(),ta===null)throw Error(r(349));(ms&124)!==0||cf(N,m,g)}E.memoizedState=g;var B={value:g,getSnapshot:m};return E.queue=B,P4(Yy.bind(null,N,B,h),[h]),N.flags|=2048,Gu(9,Jy(),of.bind(null,N,B,g,m),null),g},useId:function(){var h=pa(),m=ta.identifierPrefix;if(ds){var g=Ei,N=Ci;g=(N&~(1<<32-le(N)-1)).toString(32)+g,m="«"+m+"R"+g,g=sr++,0<g&&(m+="H"+g.toString(32)),m+="»"}else g=hn++,m="«"+m+"r"+g.toString(32)+"»";return h.memoizedState=m},useHostTransitionStatus:W1,useFormState:Zy,useActionState:Zy,useOptimistic:function(h){var m=pa();m.memoizedState=m.baseState=h;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=g,m=Y1.bind(null,xt,!0,g),g.dispatch=m,[h,m]},useMemoCache:nf,useCacheRefresh:function(){return pa().memoizedState=vG.bind(null,xt)}},e6={readContext:tr,use:dc,useCallback:H4,useContext:tr,useEffect:I4,useImperativeHandle:z4,useInsertionEffect:B4,useLayoutEffect:L4,useMemo:U4,useReducer:Fo,useRef:$4,useState:function(){return Fo(Oi)},useDebugValue:q1,useDeferredValue:function(h,m){var g=ia();return q4(g,St.memoizedState,h,m)},useTransition:function(){var h=Fo(Oi)[0],m=ia().memoizedState;return[typeof h=="boolean"?h:Lo(h),m]},useSyncExternalStore:Wy,useId:Y4,useHostTransitionStatus:W1,useFormState:qu,useActionState:qu,useOptimistic:function(h,m){var g=ia();return df(g,St,h,m)},useMemoCache:nf,useCacheRefresh:K4},NG={readContext:tr,use:dc,useCallback:H4,useContext:tr,useEffect:I4,useImperativeHandle:z4,useInsertionEffect:B4,useLayoutEffect:L4,useMemo:U4,useReducer:zu,useRef:$4,useState:function(){return zu(Oi)},useDebugValue:q1,useDeferredValue:function(h,m){var g=ia();return St===null?G1(g,h,m):q4(g,St.memoizedState,h,m)},useTransition:function(){var h=zu(Oi)[0],m=ia().memoizedState;return[typeof h=="boolean"?h:Lo(h),m]},useSyncExternalStore:Wy,useId:Y4,useHostTransitionStatus:W1,useFormState:R4,useActionState:R4,useOptimistic:function(h,m){var g=ia();return St!==null?df(g,St,h,m):(g.baseState=h,[h,g.queue.dispatch])},useMemoCache:nf,useCacheRefresh:K4},Vu=null,gf=0;function aj(h){var m=gf;return gf+=1,Vu===null&&(Vu=[]),Bo(Vu,h,m)}function yf(h,m){m=m.props.ref,h.ref=m!==void 0?m:null}function rj(h,m){throw m.$$typeof===f?Error(r(525)):(h=Object.prototype.toString.call(m),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":h)))}function t6(h){var m=h._init;return m(h._payload)}function s6(h){function m(De,_e){if(h){var $e=De.deletions;$e===null?(De.deletions=[_e],De.flags|=16):$e.push(_e)}}function g(De,_e){if(!h)return null;for(;_e!==null;)m(De,_e),_e=_e.sibling;return null}function N(De){for(var _e=new Map;De!==null;)De.key!==null?_e.set(De.key,De):_e.set(De.index,De),De=De.sibling;return _e}function E(De,_e){return De=_i(De,_e),De.index=0,De.sibling=null,De}function B(De,_e,$e){return De.index=$e,h?($e=De.alternate,$e!==null?($e=$e.index,$e<_e?(De.flags|=67108866,_e):$e):(De.flags|=67108866,_e)):(De.flags|=1048576,_e)}function ne(De){return h&&De.alternate===null&&(De.flags|=67108866),De}function de(De,_e,$e,Qe){return _e===null||_e.tag!==6?(_e=eh($e,De.mode,Qe),_e.return=De,_e):(_e=E(_e,$e),_e.return=De,_e)}function Ne(De,_e,$e,Qe){var _t=$e.type;return _t===y?Ye(De,_e,$e.props.children,Qe,$e.key):_e!==null&&(_e.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===F&&t6(_t)===_e.type)?(_e=E(_e,$e.props),yf(_e,$e),_e.return=De,_e):(_e=Ou($e.type,$e.key,$e.props,null,De.mode,Qe),yf(_e,$e),_e.return=De,_e)}function Be(De,_e,$e,Qe){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==$e.containerInfo||_e.stateNode.implementation!==$e.implementation?(_e=Oo($e,De.mode,Qe),_e.return=De,_e):(_e=E(_e,$e.children||[]),_e.return=De,_e)}function Ye(De,_e,$e,Qe,_t){return _e===null||_e.tag!==7?(_e=ec($e,De.mode,Qe,_t),_e.return=De,_e):(_e=E(_e,$e),_e.return=De,_e)}function Je(De,_e,$e){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return _e=eh(""+_e,De.mode,$e),_e.return=De,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case p:return $e=Ou(_e.type,_e.key,_e.props,null,De.mode,$e),yf($e,_e),$e.return=De,$e;case j:return _e=Oo(_e,De.mode,$e),_e.return=De,_e;case F:var Qe=_e._init;return _e=Qe(_e._payload),Je(De,_e,$e)}if(V(_e)||z(_e))return _e=ec(_e,De.mode,$e,null),_e.return=De,_e;if(typeof _e.then=="function")return Je(De,aj(_e),$e);if(_e.$$typeof===_)return Je(De,nh(De,_e),$e);rj(De,_e)}return null}function Fe(De,_e,$e,Qe){var _t=_e!==null?_e.key:null;if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return _t!==null?null:de(De,_e,""+$e,Qe);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case p:return $e.key===_t?Ne(De,_e,$e,Qe):null;case j:return $e.key===_t?Be(De,_e,$e,Qe):null;case F:return _t=$e._init,$e=_t($e._payload),Fe(De,_e,$e,Qe)}if(V($e)||z($e))return _t!==null?null:Ye(De,_e,$e,Qe,null);if(typeof $e.then=="function")return Fe(De,_e,aj($e),Qe);if($e.$$typeof===_)return Fe(De,_e,nh(De,$e),Qe);rj(De,$e)}return null}function Ue(De,_e,$e,Qe,_t){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return De=De.get($e)||null,de(_e,De,""+Qe,_t);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case p:return De=De.get(Qe.key===null?$e:Qe.key)||null,Ne(_e,De,Qe,_t);case j:return De=De.get(Qe.key===null?$e:Qe.key)||null,Be(_e,De,Qe,_t);case F:var ts=Qe._init;return Qe=ts(Qe._payload),Ue(De,_e,$e,Qe,_t)}if(V(Qe)||z(Qe))return De=De.get($e)||null,Ye(_e,De,Qe,_t,null);if(typeof Qe.then=="function")return Ue(De,_e,$e,aj(Qe),_t);if(Qe.$$typeof===_)return Ue(De,_e,$e,nh(_e,Qe),_t);rj(_e,Qe)}return null}function Ht(De,_e,$e,Qe){for(var _t=null,ts=null,At=_e,Lt=_e=0,nr=null;At!==null&&Lt<$e.length;Lt++){At.index>Lt?(nr=At,At=null):nr=At.sibling;var vs=Fe(De,At,$e[Lt],Qe);if(vs===null){At===null&&(At=nr);break}h&&At&&vs.alternate===null&&m(De,At),_e=B(vs,_e,Lt),ts===null?_t=vs:ts.sibling=vs,ts=vs,At=nr}if(Lt===$e.length)return g(De,At),ds&&Zr(De,Lt),_t;if(At===null){for(;Lt<$e.length;Lt++)At=Je(De,$e[Lt],Qe),At!==null&&(_e=B(At,_e,Lt),ts===null?_t=At:ts.sibling=At,ts=At);return ds&&Zr(De,Lt),_t}for(At=N(At);Lt<$e.length;Lt++)nr=Ue(At,De,Lt,$e[Lt],Qe),nr!==null&&(h&&nr.alternate!==null&&At.delete(nr.key===null?Lt:nr.key),_e=B(nr,_e,Lt),ts===null?_t=nr:ts.sibling=nr,ts=nr);return h&&At.forEach(function(ad){return m(De,ad)}),ds&&Zr(De,Lt),_t}function Pt(De,_e,$e,Qe){if($e==null)throw Error(r(151));for(var _t=null,ts=null,At=_e,Lt=_e=0,nr=null,vs=$e.next();At!==null&&!vs.done;Lt++,vs=$e.next()){At.index>Lt?(nr=At,At=null):nr=At.sibling;var ad=Fe(De,At,vs.value,Qe);if(ad===null){At===null&&(At=nr);break}h&&At&&ad.alternate===null&&m(De,At),_e=B(ad,_e,Lt),ts===null?_t=ad:ts.sibling=ad,ts=ad,At=nr}if(vs.done)return g(De,At),ds&&Zr(De,Lt),_t;if(At===null){for(;!vs.done;Lt++,vs=$e.next())vs=Je(De,vs.value,Qe),vs!==null&&(_e=B(vs,_e,Lt),ts===null?_t=vs:ts.sibling=vs,ts=vs);return ds&&Zr(De,Lt),_t}for(At=N(At);!vs.done;Lt++,vs=$e.next())vs=Ue(At,De,Lt,vs.value,Qe),vs!==null&&(h&&vs.alternate!==null&&At.delete(vs.key===null?Lt:vs.key),_e=B(vs,_e,Lt),ts===null?_t=vs:ts.sibling=vs,ts=vs);return h&&At.forEach(function(wV){return m(De,wV)}),ds&&Zr(De,Lt),_t}function Hs(De,_e,$e,Qe){if(typeof $e=="object"&&$e!==null&&$e.type===y&&$e.key===null&&($e=$e.props.children),typeof $e=="object"&&$e!==null){switch($e.$$typeof){case p:e:{for(var _t=$e.key;_e!==null;){if(_e.key===_t){if(_t=$e.type,_t===y){if(_e.tag===7){g(De,_e.sibling),Qe=E(_e,$e.props.children),Qe.return=De,De=Qe;break e}}else if(_e.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===F&&t6(_t)===_e.type){g(De,_e.sibling),Qe=E(_e,$e.props),yf(Qe,$e),Qe.return=De,De=Qe;break e}g(De,_e);break}else m(De,_e);_e=_e.sibling}$e.type===y?(Qe=ec($e.props.children,De.mode,Qe,$e.key),Qe.return=De,De=Qe):(Qe=Ou($e.type,$e.key,$e.props,null,De.mode,Qe),yf(Qe,$e),Qe.return=De,De=Qe)}return ne(De);case j:e:{for(_t=$e.key;_e!==null;){if(_e.key===_t)if(_e.tag===4&&_e.stateNode.containerInfo===$e.containerInfo&&_e.stateNode.implementation===$e.implementation){g(De,_e.sibling),Qe=E(_e,$e.children||[]),Qe.return=De,De=Qe;break e}else{g(De,_e);break}else m(De,_e);_e=_e.sibling}Qe=Oo($e,De.mode,Qe),Qe.return=De,De=Qe}return ne(De);case F:return _t=$e._init,$e=_t($e._payload),Hs(De,_e,$e,Qe)}if(V($e))return Ht(De,_e,$e,Qe);if(z($e)){if(_t=z($e),typeof _t!="function")throw Error(r(150));return $e=_t.call($e),Pt(De,_e,$e,Qe)}if(typeof $e.then=="function")return Hs(De,_e,aj($e),Qe);if($e.$$typeof===_)return Hs(De,_e,nh(De,$e),Qe);rj(De,$e)}return typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint"?($e=""+$e,_e!==null&&_e.tag===6?(g(De,_e.sibling),Qe=E(_e,$e),Qe.return=De,De=Qe):(g(De,_e),Qe=eh($e,De.mode,Qe),Qe.return=De,De=Qe),ne(De)):g(De,_e)}return function(De,_e,$e,Qe){try{gf=0;var _t=Hs(De,_e,$e,Qe);return Vu=null,_t}catch(At){if(At===lh||At===cc)throw At;var ts=Xr(29,At,null,De.mode);return ts.lanes=Qe,ts.return=De,ts}finally{}}}var Wu=s6(!0),a6=s6(!1),ri=W(null),fl=null;function Ho(h){var m=h.alternate;te(Ha,Ha.current&1),te(ri,h),fl===null&&(m===null||Dt.current!==null||m.memoizedState!==null)&&(fl=h)}function r6(h){if(h.tag===22){if(te(Ha,Ha.current),te(ri,h),fl===null){var m=h.alternate;m!==null&&m.memoizedState!==null&&(fl=h)}}else Uo()}function Uo(){te(Ha,Ha.current),te(ri,ri.current)}function hc(h){Z(ri),fl===h&&(fl=null),Z(Ha)}var Ha=W(0);function nj(h){for(var m=h;m!==null;){if(m.tag===13){var g=m.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||B0(g)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function K1(h,m,g,N){m=h.memoizedState,g=g(N,m),g=g==null?m:d({},m,g),h.memoizedState=g,h.lanes===0&&(h.updateQueue.baseState=g)}var Q1={enqueueSetState:function(h,m,g){h=h._reactInternals;var N=$n(),E=qe(N);E.payload=m,g!=null&&(E.callback=g),m=Ze(h,E,N),m!==null&&(Pn(m,h,N),dt(m,h,N))},enqueueReplaceState:function(h,m,g){h=h._reactInternals;var N=$n(),E=qe(N);E.tag=1,E.payload=m,g!=null&&(E.callback=g),m=Ze(h,E,N),m!==null&&(Pn(m,h,N),dt(m,h,N))},enqueueForceUpdate:function(h,m){h=h._reactInternals;var g=$n(),N=qe(g);N.tag=2,m!=null&&(N.callback=m),m=Ze(h,N,g),m!==null&&(Pn(m,h,g),dt(m,h,g))}};function n6(h,m,g,N,E,B,ne){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(N,B,ne):m.prototype&&m.prototype.isPureReactComponent?!Ao(g,N)||!Ao(E,B):!0}function i6(h,m,g,N){h=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(g,N),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(g,N),m.state!==h&&Q1.enqueueReplaceState(m,m.state,null)}function ch(h,m){var g=m;if("ref"in m){g={};for(var N in m)N!=="ref"&&(g[N]=m[N])}if(h=h.defaultProps){g===m&&(g=d({},g));for(var E in h)g[E]===void 0&&(g[E]=h[E])}return g}var ij=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)};function l6(h){ij(h)}function c6(h){console.error(h)}function o6(h){ij(h)}function lj(h,m){try{var g=h.onUncaughtError;g(m.value,{componentStack:m.stack})}catch(N){setTimeout(function(){throw N})}}function d6(h,m,g){try{var N=h.onCaughtError;N(g.value,{componentStack:g.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function X1(h,m,g){return g=qe(g),g.tag=3,g.payload={element:null},g.callback=function(){lj(h,m)},g}function h6(h){return h=qe(h),h.tag=3,h}function u6(h,m,g,N){var E=g.type.getDerivedStateFromError;if(typeof E=="function"){var B=N.value;h.payload=function(){return E(B)},h.callback=function(){d6(m,g,N)}}var ne=g.stateNode;ne!==null&&typeof ne.componentDidCatch=="function"&&(h.callback=function(){d6(m,g,N),typeof E!="function"&&(Ko===null?Ko=new Set([this]):Ko.add(this));var de=N.stack;this.componentDidCatch(N.value,{componentStack:de!==null?de:""})})}function wG(h,m,g,N,E){if(g.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){if(m=g.alternate,m!==null&&rh(m,g,E,!0),g=ri.current,g!==null){switch(g.tag){case 13:return fl===null?b0():g.alternate===null&&ba===0&&(ba=3),g.flags&=-257,g.flags|=65536,g.lanes=E,N===Io?g.flags|=16384:(m=g.updateQueue,m===null?g.updateQueue=new Set([N]):m.add(N),w0(h,N,E)),!1;case 22:return g.flags|=65536,N===Io?g.flags|=16384:(m=g.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([N])},g.updateQueue=m):(g=m.retryQueue,g===null?m.retryQueue=new Set([N]):g.add(N)),w0(h,N,E)),!1}throw Error(r(435,g.tag))}return w0(h,N,E),b0(),!1}if(ds)return m=ri.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=E,N!==Jx&&(h=Error(r(422),{cause:N}),Ai(cn(h,g)))):(N!==Jx&&(m=Error(r(423),{cause:N}),Ai(cn(m,g))),h=h.current.alternate,h.flags|=65536,E&=-E,h.lanes|=E,N=cn(N,g),E=X1(h.stateNode,N,E),vt(h,E),ba!==4&&(ba=2)),!1;var B=Error(r(520),{cause:N});if(B=cn(B,g),Sf===null?Sf=[B]:Sf.push(B),ba!==4&&(ba=2),m===null)return!0;N=cn(N,g),g=m;do{switch(g.tag){case 3:return g.flags|=65536,h=E&-E,g.lanes|=h,h=X1(g.stateNode,N,h),vt(g,h),!1;case 1:if(m=g.type,B=g.stateNode,(g.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Ko===null||!Ko.has(B))))return g.flags|=65536,E&=-E,g.lanes|=E,E=h6(E),u6(E,h,g,N),vt(g,E),!1}g=g.return}while(g!==null);return!1}var m6=Error(r(461)),ar=!1;function gr(h,m,g,N){m.child=h===null?a6(m,null,g,N):Wu(m,h.child,g,N)}function x6(h,m,g,N,E){g=g.render;var B=m.ref;if("ref"in N){var ne={};for(var de in N)de!=="ref"&&(ne[de]=N[de])}else ne=N;return ul(m),N=un(h,m,g,ne,B,E),de=_s(),h!==null&&!ar?(za(h,m,E),uc(h,m,E)):(ds&&de&&Xx(m),m.flags|=1,gr(h,m,N,E),m.child)}function f6(h,m,g,N,E){if(h===null){var B=g.type;return typeof B=="function"&&!Qx(B)&&B.defaultProps===void 0&&g.compare===null?(m.tag=15,m.type=B,p6(h,m,B,N,E)):(h=Ou(g.type,null,N,m,m.mode,E),h.ref=m.ref,h.return=m,m.child=h)}if(B=h.child,!n0(h,E)){var ne=B.memoizedProps;if(g=g.compare,g=g!==null?g:Ao,g(ne,N)&&h.ref===m.ref)return uc(h,m,E)}return m.flags|=1,h=_i(B,N),h.ref=m.ref,h.return=m,m.child=h}function p6(h,m,g,N,E){if(h!==null){var B=h.memoizedProps;if(Ao(B,N)&&h.ref===m.ref)if(ar=!1,m.pendingProps=N=B,n0(h,E))(h.flags&131072)!==0&&(ar=!0);else return m.lanes=h.lanes,uc(h,m,E)}return Z1(h,m,g,N,E)}function g6(h,m,g){var N=m.pendingProps,E=N.children,B=h!==null?h.memoizedState:null;if(N.mode==="hidden"){if((m.flags&128)!==0){if(N=B!==null?B.baseLanes|g:g,h!==null){for(E=m.child=h.child,B=0;E!==null;)B=B|E.lanes|E.childLanes,E=E.sibling;m.childLanes=B&~N}else m.childLanes=0,m.child=null;return y6(h,m,N,g)}if((g&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},h!==null&&Bu(m,B!==null?B.cachePool:null),B!==null?Ss(m,B):Ms(),r6(m);else return m.lanes=m.childLanes=536870912,y6(h,m,B!==null?B.baseLanes|g:g,g)}else B!==null?(Bu(m,B.cachePool),Ss(m,B),Uo(),m.memoizedState=null):(h!==null&&Bu(m,null),Ms(),Uo());return gr(h,m,E,g),m.child}function y6(h,m,g,N){var E=af();return E=E===null?null:{parent:fa._currentValue,pool:E},m.memoizedState={baseLanes:g,cachePool:E},h!==null&&Bu(m,null),Ms(),r6(m),h!==null&&rh(h,m,N,!0),null}function cj(h,m){var g=m.ref;if(g===null)h!==null&&h.ref!==null&&(m.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(r(284));(h===null||h.ref!==g)&&(m.flags|=4194816)}}function Z1(h,m,g,N,E){return ul(m),g=un(h,m,g,N,void 0,E),N=_s(),h!==null&&!ar?(za(h,m,E),uc(h,m,E)):(ds&&N&&Xx(m),m.flags|=1,gr(h,m,g,E),m.child)}function j6(h,m,g,N,E,B){return ul(m),m.updateQueue=null,g=oc(m,N,g,E),Mn(h),N=_s(),h!==null&&!ar?(za(h,m,B),uc(h,m,B)):(ds&&N&&Xx(m),m.flags|=1,gr(h,m,g,B),m.child)}function v6(h,m,g,N,E){if(ul(m),m.stateNode===null){var B=Do,ne=g.contextType;typeof ne=="object"&&ne!==null&&(B=tr(ne)),B=new g(N,B),m.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,B.updater=Q1,m.stateNode=B,B._reactInternals=m,B=m.stateNode,B.props=N,B.state=m.memoizedState,B.refs={},Ce(m),ne=g.contextType,B.context=typeof ne=="object"&&ne!==null?tr(ne):Do,B.state=m.memoizedState,ne=g.getDerivedStateFromProps,typeof ne=="function"&&(K1(m,g,ne,N),B.state=m.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(ne=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),ne!==B.state&&Q1.enqueueReplaceState(B,B.state,null),qt(m,N,B,E),ft(),B.state=m.memoizedState),typeof B.componentDidMount=="function"&&(m.flags|=4194308),N=!0}else if(h===null){B=m.stateNode;var de=m.memoizedProps,Ne=ch(g,de);B.props=Ne;var Be=B.context,Ye=g.contextType;ne=Do,typeof Ye=="object"&&Ye!==null&&(ne=tr(Ye));var Je=g.getDerivedStateFromProps;Ye=typeof Je=="function"||typeof B.getSnapshotBeforeUpdate=="function",de=m.pendingProps!==de,Ye||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(de||Be!==ne)&&i6(m,B,N,ne),ue=!1;var Fe=m.memoizedState;B.state=Fe,qt(m,N,B,E),ft(),Be=m.memoizedState,de||Fe!==Be||ue?(typeof Je=="function"&&(K1(m,g,Je,N),Be=m.memoizedState),(Ne=ue||n6(m,g,Ne,N,Fe,Be,ne))?(Ye||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(m.flags|=4194308)):(typeof B.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=N,m.memoizedState=Be),B.props=N,B.state=Be,B.context=ne,N=Ne):(typeof B.componentDidMount=="function"&&(m.flags|=4194308),N=!1)}else{B=m.stateNode,Me(h,m),ne=m.memoizedProps,Ye=ch(g,ne),B.props=Ye,Je=m.pendingProps,Fe=B.context,Be=g.contextType,Ne=Do,typeof Be=="object"&&Be!==null&&(Ne=tr(Be)),de=g.getDerivedStateFromProps,(Be=typeof de=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(ne!==Je||Fe!==Ne)&&i6(m,B,N,Ne),ue=!1,Fe=m.memoizedState,B.state=Fe,qt(m,N,B,E),ft();var Ue=m.memoizedState;ne!==Je||Fe!==Ue||ue||h!==null&&h.dependencies!==null&&$u(h.dependencies)?(typeof de=="function"&&(K1(m,g,de,N),Ue=m.memoizedState),(Ye=ue||n6(m,g,Ye,N,Fe,Ue,Ne)||h!==null&&h.dependencies!==null&&$u(h.dependencies))?(Be||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(N,Ue,Ne),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(N,Ue,Ne)),typeof B.componentDidUpdate=="function"&&(m.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof B.componentDidUpdate!="function"||ne===h.memoizedProps&&Fe===h.memoizedState||(m.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||ne===h.memoizedProps&&Fe===h.memoizedState||(m.flags|=1024),m.memoizedProps=N,m.memoizedState=Ue),B.props=N,B.state=Ue,B.context=Ne,N=Ye):(typeof B.componentDidUpdate!="function"||ne===h.memoizedProps&&Fe===h.memoizedState||(m.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||ne===h.memoizedProps&&Fe===h.memoizedState||(m.flags|=1024),N=!1)}return B=N,cj(h,m),N=(m.flags&128)!==0,B||N?(B=m.stateNode,g=N&&typeof g.getDerivedStateFromError!="function"?null:B.render(),m.flags|=1,h!==null&&N?(m.child=Wu(m,h.child,null,E),m.child=Wu(m,null,g,E)):gr(h,m,g,E),m.memoizedState=B.state,h=m.child):h=uc(h,m,E),h}function b6(h,m,g,N){return ah(),m.flags|=256,gr(h,m,g,N),m.child}var J1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function e0(h){return{baseLanes:h,cachePool:Gy()}}function t0(h,m,g){return h=h!==null?h.childLanes&~g:0,m&&(h|=ni),h}function N6(h,m,g){var N=m.pendingProps,E=!1,B=(m.flags&128)!==0,ne;if((ne=B)||(ne=h!==null&&h.memoizedState===null?!1:(Ha.current&2)!==0),ne&&(E=!0,m.flags&=-129),ne=(m.flags&32)!==0,m.flags&=-33,h===null){if(ds){if(E?Ho(m):Uo(),ds){var de=Vs,Ne;if(Ne=de){e:{for(Ne=de,de=Tn;Ne.nodeType!==8;){if(!de){de=null;break e}if(Ne=$i(Ne.nextSibling),Ne===null){de=null;break e}}de=Ne}de!==null?(m.memoizedState={dehydrated:de,treeContext:sc!==null?{id:Ci,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},Ne=Xr(18,null,null,0),Ne.stateNode=de,Ne.return=m,m.child=Ne,fr=m,Vs=null,Ne=!0):Ne=!1}Ne||on(m)}if(de=m.memoizedState,de!==null&&(de=de.dehydrated,de!==null))return B0(de)?m.lanes=32:m.lanes=536870912,null;hc(m)}return de=N.children,N=N.fallback,E?(Uo(),E=m.mode,de=oj({mode:"hidden",children:de},E),N=ec(N,E,g,null),de.return=m,N.return=m,de.sibling=N,m.child=de,E=m.child,E.memoizedState=e0(g),E.childLanes=t0(h,ne,g),m.memoizedState=J1,N):(Ho(m),s0(m,de))}if(Ne=h.memoizedState,Ne!==null&&(de=Ne.dehydrated,de!==null)){if(B)m.flags&256?(Ho(m),m.flags&=-257,m=a0(h,m,g)):m.memoizedState!==null?(Uo(),m.child=h.child,m.flags|=128,m=null):(Uo(),E=N.fallback,de=m.mode,N=oj({mode:"visible",children:N.children},de),E=ec(E,de,g,null),E.flags|=2,N.return=m,E.return=m,N.sibling=E,m.child=N,Wu(m,h.child,null,g),N=m.child,N.memoizedState=e0(g),N.childLanes=t0(h,ne,g),m.memoizedState=J1,m=E);else if(Ho(m),B0(de)){if(ne=de.nextSibling&&de.nextSibling.dataset,ne)var Be=ne.dgst;ne=Be,N=Error(r(419)),N.stack="",N.digest=ne,Ai({value:N,source:null,stack:null}),m=a0(h,m,g)}else if(ar||rh(h,m,g,!1),ne=(g&h.childLanes)!==0,ar||ne){if(ne=ta,ne!==null&&(N=g&-g,N=(N&42)!==0?1:Rs(N),N=(N&(ne.suspendedLanes|g))!==0?0:N,N!==0&&N!==Ne.retryLane))throw Ne.retryLane=N,Mo(h,N),Pn(ne,h,N),m6;de.data==="$?"||b0(),m=a0(h,m,g)}else de.data==="$?"?(m.flags|=192,m.child=h.child,m=null):(h=Ne.treeContext,Vs=$i(de.nextSibling),fr=m,ds=!0,ac=null,Tn=!1,h!==null&&(Er[Ar++]=Ci,Er[Ar++]=Ei,Er[Ar++]=sc,Ci=h.id,Ei=h.overflow,sc=m),m=s0(m,N.children),m.flags|=4096);return m}return E?(Uo(),E=N.fallback,de=m.mode,Ne=h.child,Be=Ne.sibling,N=_i(Ne,{mode:"hidden",children:N.children}),N.subtreeFlags=Ne.subtreeFlags&65011712,Be!==null?E=_i(Be,E):(E=ec(E,de,g,null),E.flags|=2),E.return=m,N.return=m,N.sibling=E,m.child=N,N=E,E=m.child,de=h.child.memoizedState,de===null?de=e0(g):(Ne=de.cachePool,Ne!==null?(Be=fa._currentValue,Ne=Ne.parent!==Be?{parent:Be,pool:Be}:Ne):Ne=Gy(),de={baseLanes:de.baseLanes|g,cachePool:Ne}),E.memoizedState=de,E.childLanes=t0(h,ne,g),m.memoizedState=J1,N):(Ho(m),g=h.child,h=g.sibling,g=_i(g,{mode:"visible",children:N.children}),g.return=m,g.sibling=null,h!==null&&(ne=m.deletions,ne===null?(m.deletions=[h],m.flags|=16):ne.push(h)),m.child=g,m.memoizedState=null,g)}function s0(h,m){return m=oj({mode:"visible",children:m},h.mode),m.return=h,h.child=m}function oj(h,m){return h=Xr(22,h,null,m),h.lanes=0,h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},h}function a0(h,m,g){return Wu(m,h.child,null,g),h=s0(m,m.pendingProps.children),h.flags|=2,m.memoizedState=null,h}function w6(h,m,g){h.lanes|=m;var N=h.alternate;N!==null&&(N.lanes|=m),tf(h.return,m,g)}function r0(h,m,g,N,E){var B=h.memoizedState;B===null?h.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:N,tail:g,tailMode:E}:(B.isBackwards=m,B.rendering=null,B.renderingStartTime=0,B.last=N,B.tail=g,B.tailMode=E)}function k6(h,m,g){var N=m.pendingProps,E=N.revealOrder,B=N.tail;if(gr(h,m,N.children,g),N=Ha.current,(N&2)!==0)N=N&1|2,m.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=m.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&w6(h,g,m);else if(h.tag===19)w6(h,g,m);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===m)break e;for(;h.sibling===null;){if(h.return===null||h.return===m)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}N&=1}switch(te(Ha,N),E){case"forwards":for(g=m.child,E=null;g!==null;)h=g.alternate,h!==null&&nj(h)===null&&(E=g),g=g.sibling;g=E,g===null?(E=m.child,m.child=null):(E=g.sibling,g.sibling=null),r0(m,!1,E,g,B);break;case"backwards":for(g=null,E=m.child,m.child=null;E!==null;){if(h=E.alternate,h!==null&&nj(h)===null){m.child=E;break}h=E.sibling,E.sibling=g,g=E,E=h}r0(m,!0,g,null,B);break;case"together":r0(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function uc(h,m,g){if(h!==null&&(m.dependencies=h.dependencies),Yo|=m.lanes,(g&m.childLanes)===0)if(h!==null){if(rh(h,m,g,!1),(g&m.childLanes)===0)return null}else return null;if(h!==null&&m.child!==h.child)throw Error(r(153));if(m.child!==null){for(h=m.child,g=_i(h,h.pendingProps),m.child=g,g.return=m;h.sibling!==null;)h=h.sibling,g=g.sibling=_i(h,h.pendingProps),g.return=m;g.sibling=null}return m.child}function n0(h,m){return(h.lanes&m)!==0?!0:(h=h.dependencies,!!(h!==null&&$u(h)))}function kG(h,m,g){switch(m.tag){case 3:re(m,m.stateNode.containerInfo),hl(m,fa,h.memoizedState.cache),ah();break;case 27:case 5:Oe(m);break;case 4:re(m,m.stateNode.containerInfo);break;case 10:hl(m,m.type,m.memoizedProps.value);break;case 13:var N=m.memoizedState;if(N!==null)return N.dehydrated!==null?(Ho(m),m.flags|=128,null):(g&m.child.childLanes)!==0?N6(h,m,g):(Ho(m),h=uc(h,m,g),h!==null?h.sibling:null);Ho(m);break;case 19:var E=(h.flags&128)!==0;if(N=(g&m.childLanes)!==0,N||(rh(h,m,g,!1),N=(g&m.childLanes)!==0),E){if(N)return k6(h,m,g);m.flags|=128}if(E=m.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),te(Ha,Ha.current),N)break;return null;case 22:case 23:return m.lanes=0,g6(h,m,g);case 24:hl(m,fa,h.memoizedState.cache)}return uc(h,m,g)}function S6(h,m,g){if(h!==null)if(h.memoizedProps!==m.pendingProps)ar=!0;else{if(!n0(h,g)&&(m.flags&128)===0)return ar=!1,kG(h,m,g);ar=(h.flags&131072)!==0}else ar=!1,ds&&(m.flags&1048576)!==0&&Ly(m,dl,m.index);switch(m.lanes=0,m.tag){case 16:e:{h=m.pendingProps;var N=m.elementType,E=N._init;if(N=E(N._payload),m.type=N,typeof N=="function")Qx(N)?(h=ch(N,h),m.tag=1,m=v6(null,m,N,h,g)):(m.tag=0,m=Z1(null,m,N,h,g));else{if(N!=null){if(E=N.$$typeof,E===A){m.tag=11,m=x6(null,m,N,h,g);break e}else if(E===L){m.tag=14,m=f6(null,m,N,h,g);break e}}throw m=U(N)||N,Error(r(306,m,""))}}return m;case 0:return Z1(h,m,m.type,m.pendingProps,g);case 1:return N=m.type,E=ch(N,m.pendingProps),v6(h,m,N,E,g);case 3:e:{if(re(m,m.stateNode.containerInfo),h===null)throw Error(r(387));N=m.pendingProps;var B=m.memoizedState;E=B.element,Me(h,m),qt(m,N,null,g);var ne=m.memoizedState;if(N=ne.cache,hl(m,fa,N),N!==B.cache&&sf(m,[fa],g,!0),ft(),N=ne.element,B.isDehydrated)if(B={element:N,isDehydrated:!1,cache:ne.cache},m.updateQueue.baseState=B,m.memoizedState=B,m.flags&256){m=b6(h,m,N,g);break e}else if(N!==E){E=cn(Error(r(424)),m),Ai(E),m=b6(h,m,N,g);break e}else{switch(h=m.stateNode.containerInfo,h.nodeType){case 9:h=h.body;break;default:h=h.nodeName==="HTML"?h.ownerDocument.body:h}for(Vs=$i(h.firstChild),fr=m,ds=!0,ac=null,Tn=!0,g=a6(m,null,N,g),m.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(ah(),N===E){m=uc(h,m,g);break e}gr(h,m,N,g)}m=m.child}return m;case 26:return cj(h,m),h===null?(g=AT(m.type,null,m.pendingProps,null))?m.memoizedState=g:ds||(g=m.type,h=m.pendingProps,N=wj(J.current).createElement(g),N[ra]=m,N[Re]=h,jr(N,g,h),na(N),m.stateNode=N):m.memoizedState=AT(m.type,h.memoizedProps,m.pendingProps,h.memoizedState),null;case 27:return Oe(m),h===null&&ds&&(N=m.stateNode=_T(m.type,m.pendingProps,J.current),fr=m,Tn=!0,E=Vs,Zo(m.type)?(L0=E,Vs=$i(N.firstChild)):Vs=E),gr(h,m,m.pendingProps.children,g),cj(h,m),h===null&&(m.flags|=4194304),m.child;case 5:return h===null&&ds&&((E=N=Vs)&&(N=ZG(N,m.type,m.pendingProps,Tn),N!==null?(m.stateNode=N,fr=m,Vs=$i(N.firstChild),Tn=!1,E=!0):E=!1),E||on(m)),Oe(m),E=m.type,B=m.pendingProps,ne=h!==null?h.memoizedProps:null,N=B.children,$0(E,B)?N=null:ne!==null&&$0(E,ne)&&(m.flags|=32),m.memoizedState!==null&&(E=un(h,m,Ia,null,null,g),Rf._currentValue=E),cj(h,m),gr(h,m,N,g),m.child;case 6:return h===null&&ds&&((h=g=Vs)&&(g=JG(g,m.pendingProps,Tn),g!==null?(m.stateNode=g,fr=m,Vs=null,h=!0):h=!1),h||on(m)),null;case 13:return N6(h,m,g);case 4:return re(m,m.stateNode.containerInfo),N=m.pendingProps,h===null?m.child=Wu(m,null,N,g):gr(h,m,N,g),m.child;case 11:return x6(h,m,m.type,m.pendingProps,g);case 7:return gr(h,m,m.pendingProps,g),m.child;case 8:return gr(h,m,m.pendingProps.children,g),m.child;case 12:return gr(h,m,m.pendingProps.children,g),m.child;case 10:return N=m.pendingProps,hl(m,m.type,N.value),gr(h,m,N.children,g),m.child;case 9:return E=m.type._context,N=m.pendingProps.children,ul(m),E=tr(E),N=N(E),m.flags|=1,gr(h,m,N,g),m.child;case 14:return f6(h,m,m.type,m.pendingProps,g);case 15:return p6(h,m,m.type,m.pendingProps,g);case 19:return k6(h,m,g);case 31:return N=m.pendingProps,g=m.mode,N={mode:N.mode,children:N.children},h===null?(g=oj(N,g),g.ref=m.ref,m.child=g,g.return=m,m=g):(g=_i(h.child,N),g.ref=m.ref,m.child=g,g.return=m,m=g),m;case 22:return g6(h,m,g);case 24:return ul(m),N=tr(fa),h===null?(E=af(),E===null&&(E=ta,B=Iu(),E.pooledCache=B,B.refCount++,B!==null&&(E.pooledCacheLanes|=g),E=B),m.memoizedState={parent:N,cache:E},Ce(m),hl(m,fa,E)):((h.lanes&g)!==0&&(Me(h,m),qt(m,null,null,g),ft()),E=h.memoizedState,B=m.memoizedState,E.parent!==N?(E={parent:N,cache:N},m.memoizedState=E,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=E),hl(m,fa,N)):(N=B.cache,hl(m,fa,N),N!==E.cache&&sf(m,[fa],g,!0))),gr(h,m,m.pendingProps.children,g),m.child;case 29:throw m.pendingProps}throw Error(r(156,m.tag))}function mc(h){h.flags|=4}function _6(h,m){if(m.type!=="stylesheet"||(m.state.loading&4)!==0)h.flags&=-16777217;else if(h.flags|=16777216,!RT(m)){if(m=ri.current,m!==null&&((ms&4194048)===ms?fl!==null:(ms&62914560)!==ms&&(ms&536870912)===0||m!==fl))throw ce=Io,rf;h.flags|=8192}}function dj(h,m){m!==null&&(h.flags|=4),h.flags&16384&&(m=h.tag!==22?Ie():536870912,h.lanes|=m,Xu|=m)}function jf(h,m){if(!ds)switch(h.tailMode){case"hidden":m=h.tail;for(var g=null;m!==null;)m.alternate!==null&&(g=m),m=m.sibling;g===null?h.tail=null:g.sibling=null;break;case"collapsed":g=h.tail;for(var N=null;g!==null;)g.alternate!==null&&(N=g),g=g.sibling;N===null?m||h.tail===null?h.tail=null:h.tail.sibling=null:N.sibling=null}}function ga(h){var m=h.alternate!==null&&h.alternate.child===h.child,g=0,N=0;if(m)for(var E=h.child;E!==null;)g|=E.lanes|E.childLanes,N|=E.subtreeFlags&65011712,N|=E.flags&65011712,E.return=h,E=E.sibling;else for(E=h.child;E!==null;)g|=E.lanes|E.childLanes,N|=E.subtreeFlags,N|=E.flags,E.return=h,E=E.sibling;return h.subtreeFlags|=N,h.childLanes=g,m}function SG(h,m,g){var N=m.pendingProps;switch(Zx(m),m.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ga(m),null;case 1:return ga(m),null;case 3:return g=m.stateNode,N=null,h!==null&&(N=h.memoizedState.cache),m.memoizedState.cache!==N&&(m.flags|=2048),Di(fa),ve(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(h===null||h.child===null)&&(sh(m)?mc(m):h===null||h.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Fy())),ga(m),null;case 26:return g=m.memoizedState,h===null?(mc(m),g!==null?(ga(m),_6(m,g)):(ga(m),m.flags&=-16777217)):g?g!==h.memoizedState?(mc(m),ga(m),_6(m,g)):(ga(m),m.flags&=-16777217):(h.memoizedProps!==N&&mc(m),ga(m),m.flags&=-16777217),null;case 27:ee(m),g=J.current;var E=m.type;if(h!==null&&m.stateNode!=null)h.memoizedProps!==N&&mc(m);else{if(!N){if(m.stateNode===null)throw Error(r(166));return ga(m),null}h=ie.current,sh(m)?Ru(m):(h=_T(E,N,g),m.stateNode=h,mc(m))}return ga(m),null;case 5:if(ee(m),g=m.type,h!==null&&m.stateNode!=null)h.memoizedProps!==N&&mc(m);else{if(!N){if(m.stateNode===null)throw Error(r(166));return ga(m),null}if(h=ie.current,sh(m))Ru(m);else{switch(E=wj(J.current),h){case 1:h=E.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:h=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":h=E.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":h=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":h=E.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof N.is=="string"?E.createElement("select",{is:N.is}):E.createElement("select"),N.multiple?h.multiple=!0:N.size&&(h.size=N.size);break;default:h=typeof N.is=="string"?E.createElement(g,{is:N.is}):E.createElement(g)}}h[ra]=m,h[Re]=N;e:for(E=m.child;E!==null;){if(E.tag===5||E.tag===6)h.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===m)break e;for(;E.sibling===null;){if(E.return===null||E.return===m)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}m.stateNode=h;e:switch(jr(h,g,N),g){case"button":case"input":case"select":case"textarea":h=!!N.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&mc(m)}}return ga(m),m.flags&=-16777217,null;case 6:if(h&&m.stateNode!=null)h.memoizedProps!==N&&mc(m);else{if(typeof N!="string"&&m.stateNode===null)throw Error(r(166));if(h=J.current,sh(m)){if(h=m.stateNode,g=m.memoizedProps,N=null,E=fr,E!==null)switch(E.tag){case 27:case 5:N=E.memoizedProps}h[ra]=m,h=!!(h.nodeValue===g||N!==null&&N.suppressHydrationWarning===!0||jT(h.nodeValue,g)),h||on(m)}else h=wj(h).createTextNode(N),h[ra]=m,m.stateNode=h}return ga(m),null;case 13:if(N=m.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(E=sh(m),N!==null&&N.dehydrated!==null){if(h===null){if(!E)throw Error(r(318));if(E=m.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[ra]=m}else ah(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;ga(m),E=!1}else E=Fy(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=E),E=!0;if(!E)return m.flags&256?(hc(m),m):(hc(m),null)}if(hc(m),(m.flags&128)!==0)return m.lanes=g,m;if(g=N!==null,h=h!==null&&h.memoizedState!==null,g){N=m.child,E=null,N.alternate!==null&&N.alternate.memoizedState!==null&&N.alternate.memoizedState.cachePool!==null&&(E=N.alternate.memoizedState.cachePool.pool);var B=null;N.memoizedState!==null&&N.memoizedState.cachePool!==null&&(B=N.memoizedState.cachePool.pool),B!==E&&(N.flags|=2048)}return g!==h&&g&&(m.child.flags|=8192),dj(m,m.updateQueue),ga(m),null;case 4:return ve(),h===null&&T0(m.stateNode.containerInfo),ga(m),null;case 10:return Di(m.type),ga(m),null;case 19:if(Z(Ha),E=m.memoizedState,E===null)return ga(m),null;if(N=(m.flags&128)!==0,B=E.rendering,B===null)if(N)jf(E,!1);else{if(ba!==0||h!==null&&(h.flags&128)!==0)for(h=m.child;h!==null;){if(B=nj(h),B!==null){for(m.flags|=128,jf(E,!1),h=B.updateQueue,m.updateQueue=h,dj(m,h),m.subtreeFlags=0,h=g,g=m.child;g!==null;)By(g,h),g=g.sibling;return te(Ha,Ha.current&1|2),m.child}h=h.sibling}E.tail!==null&&st()>mj&&(m.flags|=128,N=!0,jf(E,!1),m.lanes=4194304)}else{if(!N)if(h=nj(B),h!==null){if(m.flags|=128,N=!0,h=h.updateQueue,m.updateQueue=h,dj(m,h),jf(E,!0),E.tail===null&&E.tailMode==="hidden"&&!B.alternate&&!ds)return ga(m),null}else 2*st()-E.renderingStartTime>mj&&g!==536870912&&(m.flags|=128,N=!0,jf(E,!1),m.lanes=4194304);E.isBackwards?(B.sibling=m.child,m.child=B):(h=E.last,h!==null?h.sibling=B:m.child=B,E.last=B)}return E.tail!==null?(m=E.tail,E.rendering=m,E.tail=m.sibling,E.renderingStartTime=st(),m.sibling=null,h=Ha.current,te(Ha,N?h&1|2:h&1),m):(ga(m),null);case 22:case 23:return hc(m),Wt(),N=m.memoizedState!==null,h!==null?h.memoizedState!==null!==N&&(m.flags|=8192):N&&(m.flags|=8192),N?(g&536870912)!==0&&(m.flags&128)===0&&(ga(m),m.subtreeFlags&6&&(m.flags|=8192)):ga(m),g=m.updateQueue,g!==null&&dj(m,g.retryQueue),g=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(g=h.memoizedState.cachePool.pool),N=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(N=m.memoizedState.cachePool.pool),N!==g&&(m.flags|=2048),h!==null&&Z(lc),null;case 24:return g=null,h!==null&&(g=h.memoizedState.cache),m.memoizedState.cache!==g&&(m.flags|=2048),Di(fa),ga(m),null;case 25:return null;case 30:return null}throw Error(r(156,m.tag))}function _G(h,m){switch(Zx(m),m.tag){case 1:return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 3:return Di(fa),ve(),h=m.flags,(h&65536)!==0&&(h&128)===0?(m.flags=h&-65537|128,m):null;case 26:case 27:case 5:return ee(m),null;case 13:if(hc(m),h=m.memoizedState,h!==null&&h.dehydrated!==null){if(m.alternate===null)throw Error(r(340));ah()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 19:return Z(Ha),null;case 4:return ve(),null;case 10:return Di(m.type),null;case 22:case 23:return hc(m),Wt(),h!==null&&Z(lc),h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 24:return Di(fa),null;case 25:return null;default:return null}}function C6(h,m){switch(Zx(m),m.tag){case 3:Di(fa),ve();break;case 26:case 27:case 5:ee(m);break;case 4:ve();break;case 13:hc(m);break;case 19:Z(Ha);break;case 10:Di(m.type);break;case 22:case 23:hc(m),Wt(),h!==null&&Z(lc);break;case 24:Di(fa)}}function vf(h,m){try{var g=m.updateQueue,N=g!==null?g.lastEffect:null;if(N!==null){var E=N.next;g=E;do{if((g.tag&h)===h){N=void 0;var B=g.create,ne=g.inst;N=B(),ne.destroy=N}g=g.next}while(g!==E)}}catch(de){Ws(m,m.return,de)}}function qo(h,m,g){try{var N=m.updateQueue,E=N!==null?N.lastEffect:null;if(E!==null){var B=E.next;N=B;do{if((N.tag&h)===h){var ne=N.inst,de=ne.destroy;if(de!==void 0){ne.destroy=void 0,E=m;var Ne=g,Be=de;try{Be()}catch(Ye){Ws(E,Ne,Ye)}}}N=N.next}while(N!==B)}}catch(Ye){Ws(m,m.return,Ye)}}function E6(h){var m=h.updateQueue;if(m!==null){var g=h.stateNode;try{Gt(m,g)}catch(N){Ws(h,h.return,N)}}}function A6(h,m,g){g.props=ch(h.type,h.memoizedProps),g.state=h.memoizedState;try{g.componentWillUnmount()}catch(N){Ws(h,m,N)}}function bf(h,m){try{var g=h.ref;if(g!==null){switch(h.tag){case 26:case 27:case 5:var N=h.stateNode;break;case 30:N=h.stateNode;break;default:N=h.stateNode}typeof g=="function"?h.refCleanup=g(N):g.current=N}}catch(E){Ws(h,m,E)}}function pl(h,m){var g=h.ref,N=h.refCleanup;if(g!==null)if(typeof N=="function")try{N()}catch(E){Ws(h,m,E)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(E){Ws(h,m,E)}else g.current=null}function T6(h){var m=h.type,g=h.memoizedProps,N=h.stateNode;try{e:switch(m){case"button":case"input":case"select":case"textarea":g.autoFocus&&N.focus();break e;case"img":g.src?N.src=g.src:g.srcSet&&(N.srcset=g.srcSet)}}catch(E){Ws(h,h.return,E)}}function i0(h,m,g){try{var N=h.stateNode;WG(N,h.type,g,m),N[Re]=m}catch(E){Ws(h,h.return,E)}}function M6(h){return h.tag===5||h.tag===3||h.tag===26||h.tag===27&&Zo(h.type)||h.tag===4}function l0(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||M6(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.tag===27&&Zo(h.type)||h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function c0(h,m,g){var N=h.tag;if(N===5||N===6)h=h.stateNode,m?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(h,m):(m=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,m.appendChild(h),g=g._reactRootContainer,g!=null||m.onclick!==null||(m.onclick=Nj));else if(N!==4&&(N===27&&Zo(h.type)&&(g=h.stateNode,m=null),h=h.child,h!==null))for(c0(h,m,g),h=h.sibling;h!==null;)c0(h,m,g),h=h.sibling}function hj(h,m,g){var N=h.tag;if(N===5||N===6)h=h.stateNode,m?g.insertBefore(h,m):g.appendChild(h);else if(N!==4&&(N===27&&Zo(h.type)&&(g=h.stateNode),h=h.child,h!==null))for(hj(h,m,g),h=h.sibling;h!==null;)hj(h,m,g),h=h.sibling}function D6(h){var m=h.stateNode,g=h.memoizedProps;try{for(var N=h.type,E=m.attributes;E.length;)m.removeAttributeNode(E[0]);jr(m,N,g),m[ra]=h,m[Re]=g}catch(B){Ws(h,h.return,B)}}var xc=!1,Ma=!1,o0=!1,O6=typeof WeakSet=="function"?WeakSet:Set,rr=null;function CG(h,m){if(h=h.containerInfo,O0=Aj,h=My(h),Cu(h)){if("selectionStart"in h)var g={start:h.selectionStart,end:h.selectionEnd};else e:{g=(g=h.ownerDocument)&&g.defaultView||window;var N=g.getSelection&&g.getSelection();if(N&&N.rangeCount!==0){g=N.anchorNode;var E=N.anchorOffset,B=N.focusNode;N=N.focusOffset;try{g.nodeType,B.nodeType}catch{g=null;break e}var ne=0,de=-1,Ne=-1,Be=0,Ye=0,Je=h,Fe=null;t:for(;;){for(var Ue;Je!==g||E!==0&&Je.nodeType!==3||(de=ne+E),Je!==B||N!==0&&Je.nodeType!==3||(Ne=ne+N),Je.nodeType===3&&(ne+=Je.nodeValue.length),(Ue=Je.firstChild)!==null;)Fe=Je,Je=Ue;for(;;){if(Je===h)break t;if(Fe===g&&++Be===E&&(de=ne),Fe===B&&++Ye===N&&(Ne=ne),(Ue=Je.nextSibling)!==null)break;Je=Fe,Fe=Je.parentNode}Je=Ue}g=de===-1||Ne===-1?null:{start:de,end:Ne}}else g=null}g=g||{start:0,end:0}}else g=null;for(R0={focusedElem:h,selectionRange:g},Aj=!1,rr=m;rr!==null;)if(m=rr,h=m.child,(m.subtreeFlags&1024)!==0&&h!==null)h.return=m,rr=h;else for(;rr!==null;){switch(m=rr,B=m.alternate,h=m.flags,m.tag){case 0:break;case 11:case 15:break;case 1:if((h&1024)!==0&&B!==null){h=void 0,g=m,E=B.memoizedProps,B=B.memoizedState,N=g.stateNode;try{var Ht=ch(g.type,E,g.elementType===g.type);h=N.getSnapshotBeforeUpdate(Ht,B),N.__reactInternalSnapshotBeforeUpdate=h}catch(Pt){Ws(g,g.return,Pt)}}break;case 3:if((h&1024)!==0){if(h=m.stateNode.containerInfo,g=h.nodeType,g===9)I0(h);else if(g===1)switch(h.nodeName){case"HEAD":case"HTML":case"BODY":I0(h);break;default:h.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(r(163))}if(h=m.sibling,h!==null){h.return=m.return,rr=h;break}rr=m.return}}function R6(h,m,g){var N=g.flags;switch(g.tag){case 0:case 11:case 15:Go(h,g),N&4&&vf(5,g);break;case 1:if(Go(h,g),N&4)if(h=g.stateNode,m===null)try{h.componentDidMount()}catch(ne){Ws(g,g.return,ne)}else{var E=ch(g.type,m.memoizedProps);m=m.memoizedState;try{h.componentDidUpdate(E,m,h.__reactInternalSnapshotBeforeUpdate)}catch(ne){Ws(g,g.return,ne)}}N&64&&E6(g),N&512&&bf(g,g.return);break;case 3:if(Go(h,g),N&64&&(h=g.updateQueue,h!==null)){if(m=null,g.child!==null)switch(g.child.tag){case 27:case 5:m=g.child.stateNode;break;case 1:m=g.child.stateNode}try{Gt(h,m)}catch(ne){Ws(g,g.return,ne)}}break;case 27:m===null&&N&4&&D6(g);case 26:case 5:Go(h,g),m===null&&N&4&&T6(g),N&512&&bf(g,g.return);break;case 12:Go(h,g);break;case 13:Go(h,g),N&4&&I6(h,g),N&64&&(h=g.memoizedState,h!==null&&(h=h.dehydrated,h!==null&&(g=PG.bind(null,g),eV(h,g))));break;case 22:if(N=g.memoizedState!==null||xc,!N){m=m!==null&&m.memoizedState!==null||Ma,E=xc;var B=Ma;xc=N,(Ma=m)&&!B?Vo(h,g,(g.subtreeFlags&8772)!==0):Go(h,g),xc=E,Ma=B}break;case 30:break;default:Go(h,g)}}function $6(h){var m=h.alternate;m!==null&&(h.alternate=null,$6(m)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(m=h.stateNode,m!==null&&uo(m)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}var da=null,mn=!1;function fc(h,m,g){for(g=g.child;g!==null;)P6(h,m,g),g=g.sibling}function P6(h,m,g){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(nt,g)}catch{}switch(g.tag){case 26:Ma||pl(g,m),fc(h,m,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Ma||pl(g,m);var N=da,E=mn;Zo(g.type)&&(da=g.stateNode,mn=!1),fc(h,m,g),Tf(g.stateNode),da=N,mn=E;break;case 5:Ma||pl(g,m);case 6:if(N=da,E=mn,da=null,fc(h,m,g),da=N,mn=E,da!==null)if(mn)try{(da.nodeType===9?da.body:da.nodeName==="HTML"?da.ownerDocument.body:da).removeChild(g.stateNode)}catch(B){Ws(g,m,B)}else try{da.removeChild(g.stateNode)}catch(B){Ws(g,m,B)}break;case 18:da!==null&&(mn?(h=da,kT(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,g.stateNode),Bf(h)):kT(da,g.stateNode));break;case 4:N=da,E=mn,da=g.stateNode.containerInfo,mn=!0,fc(h,m,g),da=N,mn=E;break;case 0:case 11:case 14:case 15:Ma||qo(2,g,m),Ma||qo(4,g,m),fc(h,m,g);break;case 1:Ma||(pl(g,m),N=g.stateNode,typeof N.componentWillUnmount=="function"&&A6(g,m,N)),fc(h,m,g);break;case 21:fc(h,m,g);break;case 22:Ma=(N=Ma)||g.memoizedState!==null,fc(h,m,g),Ma=N;break;default:fc(h,m,g)}}function I6(h,m){if(m.memoizedState===null&&(h=m.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{Bf(h)}catch(g){Ws(m,m.return,g)}}function EG(h){switch(h.tag){case 13:case 19:var m=h.stateNode;return m===null&&(m=h.stateNode=new O6),m;case 22:return h=h.stateNode,m=h._retryCache,m===null&&(m=h._retryCache=new O6),m;default:throw Error(r(435,h.tag))}}function d0(h,m){var g=EG(h);m.forEach(function(N){var E=IG.bind(null,h,N);g.has(N)||(g.add(N),N.then(E,E))})}function Dn(h,m){var g=m.deletions;if(g!==null)for(var N=0;N<g.length;N++){var E=g[N],B=h,ne=m,de=ne;e:for(;de!==null;){switch(de.tag){case 27:if(Zo(de.type)){da=de.stateNode,mn=!1;break e}break;case 5:da=de.stateNode,mn=!1;break e;case 3:case 4:da=de.stateNode.containerInfo,mn=!0;break e}de=de.return}if(da===null)throw Error(r(160));P6(B,ne,E),da=null,mn=!1,B=E.alternate,B!==null&&(B.return=null),E.return=null}if(m.subtreeFlags&13878)for(m=m.child;m!==null;)B6(m,h),m=m.sibling}var Ri=null;function B6(h,m){var g=h.alternate,N=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:Dn(m,h),On(h),N&4&&(qo(3,h,h.return),vf(3,h),qo(5,h,h.return));break;case 1:Dn(m,h),On(h),N&512&&(Ma||g===null||pl(g,g.return)),N&64&&xc&&(h=h.updateQueue,h!==null&&(N=h.callbacks,N!==null&&(g=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=g===null?N:g.concat(N))));break;case 26:var E=Ri;if(Dn(m,h),On(h),N&512&&(Ma||g===null||pl(g,g.return)),N&4){var B=g!==null?g.memoizedState:null;if(N=h.memoizedState,g===null)if(N===null)if(h.stateNode===null){e:{N=h.type,g=h.memoizedProps,E=E.ownerDocument||E;t:switch(N){case"title":B=E.getElementsByTagName("title")[0],(!B||B[Xn]||B[ra]||B.namespaceURI==="http://www.w3.org/2000/svg"||B.hasAttribute("itemprop"))&&(B=E.createElement(N),E.head.insertBefore(B,E.querySelector("head > title"))),jr(B,N,g),B[ra]=h,na(B),N=B;break e;case"link":var ne=DT("link","href",E).get(N+(g.href||""));if(ne){for(var de=0;de<ne.length;de++)if(B=ne[de],B.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&B.getAttribute("rel")===(g.rel==null?null:g.rel)&&B.getAttribute("title")===(g.title==null?null:g.title)&&B.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){ne.splice(de,1);break t}}B=E.createElement(N),jr(B,N,g),E.head.appendChild(B);break;case"meta":if(ne=DT("meta","content",E).get(N+(g.content||""))){for(de=0;de<ne.length;de++)if(B=ne[de],B.getAttribute("content")===(g.content==null?null:""+g.content)&&B.getAttribute("name")===(g.name==null?null:g.name)&&B.getAttribute("property")===(g.property==null?null:g.property)&&B.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&B.getAttribute("charset")===(g.charSet==null?null:g.charSet)){ne.splice(de,1);break t}}B=E.createElement(N),jr(B,N,g),E.head.appendChild(B);break;default:throw Error(r(468,N))}B[ra]=h,na(B),N=B}h.stateNode=N}else OT(E,h.type,h.stateNode);else h.stateNode=MT(E,N,h.memoizedProps);else B!==N?(B===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):B.count--,N===null?OT(E,h.type,h.stateNode):MT(E,N,h.memoizedProps)):N===null&&h.stateNode!==null&&i0(h,h.memoizedProps,g.memoizedProps)}break;case 27:Dn(m,h),On(h),N&512&&(Ma||g===null||pl(g,g.return)),g!==null&&N&4&&i0(h,h.memoizedProps,g.memoizedProps);break;case 5:if(Dn(m,h),On(h),N&512&&(Ma||g===null||pl(g,g.return)),h.flags&32){E=h.stateNode;try{ki(E,"")}catch(Ue){Ws(h,h.return,Ue)}}N&4&&h.stateNode!=null&&(E=h.memoizedProps,i0(h,E,g!==null?g.memoizedProps:E)),N&1024&&(o0=!0);break;case 6:if(Dn(m,h),On(h),N&4){if(h.stateNode===null)throw Error(r(162));N=h.memoizedProps,g=h.stateNode;try{g.nodeValue=N}catch(Ue){Ws(h,h.return,Ue)}}break;case 3:if(_j=null,E=Ri,Ri=kj(m.containerInfo),Dn(m,h),Ri=E,On(h),N&4&&g!==null&&g.memoizedState.isDehydrated)try{Bf(m.containerInfo)}catch(Ue){Ws(h,h.return,Ue)}o0&&(o0=!1,L6(h));break;case 4:N=Ri,Ri=kj(h.stateNode.containerInfo),Dn(m,h),On(h),Ri=N;break;case 12:Dn(m,h),On(h);break;case 13:Dn(m,h),On(h),h.child.flags&8192&&h.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(p0=st()),N&4&&(N=h.updateQueue,N!==null&&(h.updateQueue=null,d0(h,N)));break;case 22:E=h.memoizedState!==null;var Ne=g!==null&&g.memoizedState!==null,Be=xc,Ye=Ma;if(xc=Be||E,Ma=Ye||Ne,Dn(m,h),Ma=Ye,xc=Be,On(h),N&8192)e:for(m=h.stateNode,m._visibility=E?m._visibility&-2:m._visibility|1,E&&(g===null||Ne||xc||Ma||oh(h)),g=null,m=h;;){if(m.tag===5||m.tag===26){if(g===null){Ne=g=m;try{if(B=Ne.stateNode,E)ne=B.style,typeof ne.setProperty=="function"?ne.setProperty("display","none","important"):ne.display="none";else{de=Ne.stateNode;var Je=Ne.memoizedProps.style,Fe=Je!=null&&Je.hasOwnProperty("display")?Je.display:null;de.style.display=Fe==null||typeof Fe=="boolean"?"":(""+Fe).trim()}}catch(Ue){Ws(Ne,Ne.return,Ue)}}}else if(m.tag===6){if(g===null){Ne=m;try{Ne.stateNode.nodeValue=E?"":Ne.memoizedProps}catch(Ue){Ws(Ne,Ne.return,Ue)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===h)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break e;for(;m.sibling===null;){if(m.return===null||m.return===h)break e;g===m&&(g=null),m=m.return}g===m&&(g=null),m.sibling.return=m.return,m=m.sibling}N&4&&(N=h.updateQueue,N!==null&&(g=N.retryQueue,g!==null&&(N.retryQueue=null,d0(h,g))));break;case 19:Dn(m,h),On(h),N&4&&(N=h.updateQueue,N!==null&&(h.updateQueue=null,d0(h,N)));break;case 30:break;case 21:break;default:Dn(m,h),On(h)}}function On(h){var m=h.flags;if(m&2){try{for(var g,N=h.return;N!==null;){if(M6(N)){g=N;break}N=N.return}if(g==null)throw Error(r(160));switch(g.tag){case 27:var E=g.stateNode,B=l0(h);hj(h,B,E);break;case 5:var ne=g.stateNode;g.flags&32&&(ki(ne,""),g.flags&=-33);var de=l0(h);hj(h,de,ne);break;case 3:case 4:var Ne=g.stateNode.containerInfo,Be=l0(h);c0(h,Be,Ne);break;default:throw Error(r(161))}}catch(Ye){Ws(h,h.return,Ye)}h.flags&=-3}m&4096&&(h.flags&=-4097)}function L6(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var m=h;L6(m),m.tag===5&&m.flags&1024&&m.stateNode.reset(),h=h.sibling}}function Go(h,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)R6(h,m.alternate,m),m=m.sibling}function oh(h){for(h=h.child;h!==null;){var m=h;switch(m.tag){case 0:case 11:case 14:case 15:qo(4,m,m.return),oh(m);break;case 1:pl(m,m.return);var g=m.stateNode;typeof g.componentWillUnmount=="function"&&A6(m,m.return,g),oh(m);break;case 27:Tf(m.stateNode);case 26:case 5:pl(m,m.return),oh(m);break;case 22:m.memoizedState===null&&oh(m);break;case 30:oh(m);break;default:oh(m)}h=h.sibling}}function Vo(h,m,g){for(g=g&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var N=m.alternate,E=h,B=m,ne=B.flags;switch(B.tag){case 0:case 11:case 15:Vo(E,B,g),vf(4,B);break;case 1:if(Vo(E,B,g),N=B,E=N.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Be){Ws(N,N.return,Be)}if(N=B,E=N.updateQueue,E!==null){var de=N.stateNode;try{var Ne=E.shared.hiddenCallbacks;if(Ne!==null)for(E.shared.hiddenCallbacks=null,E=0;E<Ne.length;E++)Rt(Ne[E],de)}catch(Be){Ws(N,N.return,Be)}}g&&ne&64&&E6(B),bf(B,B.return);break;case 27:D6(B);case 26:case 5:Vo(E,B,g),g&&N===null&&ne&4&&T6(B),bf(B,B.return);break;case 12:Vo(E,B,g);break;case 13:Vo(E,B,g),g&&ne&4&&I6(E,B);break;case 22:B.memoizedState===null&&Vo(E,B,g),bf(B,B.return);break;case 30:break;default:Vo(E,B,g)}m=m.sibling}}function h0(h,m){var g=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(g=h.memoizedState.cachePool.pool),h=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(h=m.memoizedState.cachePool.pool),h!==g&&(h!=null&&h.refCount++,g!=null&&ic(g))}function u0(h,m){h=null,m.alternate!==null&&(h=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==h&&(m.refCount++,h!=null&&ic(h))}function gl(h,m,g,N){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)F6(h,m,g,N),m=m.sibling}function F6(h,m,g,N){var E=m.flags;switch(m.tag){case 0:case 11:case 15:gl(h,m,g,N),E&2048&&vf(9,m);break;case 1:gl(h,m,g,N);break;case 3:gl(h,m,g,N),E&2048&&(h=null,m.alternate!==null&&(h=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==h&&(m.refCount++,h!=null&&ic(h)));break;case 12:if(E&2048){gl(h,m,g,N),h=m.stateNode;try{var B=m.memoizedProps,ne=B.id,de=B.onPostCommit;typeof de=="function"&&de(ne,m.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(Ne){Ws(m,m.return,Ne)}}else gl(h,m,g,N);break;case 13:gl(h,m,g,N);break;case 23:break;case 22:B=m.stateNode,ne=m.alternate,m.memoizedState!==null?B._visibility&2?gl(h,m,g,N):Nf(h,m):B._visibility&2?gl(h,m,g,N):(B._visibility|=2,Yu(h,m,g,N,(m.subtreeFlags&10256)!==0)),E&2048&&h0(ne,m);break;case 24:gl(h,m,g,N),E&2048&&u0(m.alternate,m);break;default:gl(h,m,g,N)}}function Yu(h,m,g,N,E){for(E=E&&(m.subtreeFlags&10256)!==0,m=m.child;m!==null;){var B=h,ne=m,de=g,Ne=N,Be=ne.flags;switch(ne.tag){case 0:case 11:case 15:Yu(B,ne,de,Ne,E),vf(8,ne);break;case 23:break;case 22:var Ye=ne.stateNode;ne.memoizedState!==null?Ye._visibility&2?Yu(B,ne,de,Ne,E):Nf(B,ne):(Ye._visibility|=2,Yu(B,ne,de,Ne,E)),E&&Be&2048&&h0(ne.alternate,ne);break;case 24:Yu(B,ne,de,Ne,E),E&&Be&2048&&u0(ne.alternate,ne);break;default:Yu(B,ne,de,Ne,E)}m=m.sibling}}function Nf(h,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var g=h,N=m,E=N.flags;switch(N.tag){case 22:Nf(g,N),E&2048&&h0(N.alternate,N);break;case 24:Nf(g,N),E&2048&&u0(N.alternate,N);break;default:Nf(g,N)}m=m.sibling}}var wf=8192;function Ku(h){if(h.subtreeFlags&wf)for(h=h.child;h!==null;)z6(h),h=h.sibling}function z6(h){switch(h.tag){case 26:Ku(h),h.flags&wf&&h.memoizedState!==null&&mV(Ri,h.memoizedState,h.memoizedProps);break;case 5:Ku(h);break;case 3:case 4:var m=Ri;Ri=kj(h.stateNode.containerInfo),Ku(h),Ri=m;break;case 22:h.memoizedState===null&&(m=h.alternate,m!==null&&m.memoizedState!==null?(m=wf,wf=16777216,Ku(h),wf=m):Ku(h));break;default:Ku(h)}}function H6(h){var m=h.alternate;if(m!==null&&(h=m.child,h!==null)){m.child=null;do m=h.sibling,h.sibling=null,h=m;while(h!==null)}}function kf(h){var m=h.deletions;if((h.flags&16)!==0){if(m!==null)for(var g=0;g<m.length;g++){var N=m[g];rr=N,q6(N,h)}H6(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)U6(h),h=h.sibling}function U6(h){switch(h.tag){case 0:case 11:case 15:kf(h),h.flags&2048&&qo(9,h,h.return);break;case 3:kf(h);break;case 12:kf(h);break;case 22:var m=h.stateNode;h.memoizedState!==null&&m._visibility&2&&(h.return===null||h.return.tag!==13)?(m._visibility&=-3,uj(h)):kf(h);break;default:kf(h)}}function uj(h){var m=h.deletions;if((h.flags&16)!==0){if(m!==null)for(var g=0;g<m.length;g++){var N=m[g];rr=N,q6(N,h)}H6(h)}for(h=h.child;h!==null;){switch(m=h,m.tag){case 0:case 11:case 15:qo(8,m,m.return),uj(m);break;case 22:g=m.stateNode,g._visibility&2&&(g._visibility&=-3,uj(m));break;default:uj(m)}h=h.sibling}}function q6(h,m){for(;rr!==null;){var g=rr;switch(g.tag){case 0:case 11:case 15:qo(8,g,m);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var N=g.memoizedState.cachePool.pool;N!=null&&N.refCount++}break;case 24:ic(g.memoizedState.cache)}if(N=g.child,N!==null)N.return=g,rr=N;else e:for(g=h;rr!==null;){N=rr;var E=N.sibling,B=N.return;if($6(N),N===g){rr=null;break e}if(E!==null){E.return=B,rr=E;break e}rr=B}}}var AG={getCacheForType:function(h){var m=tr(fa),g=m.data.get(h);return g===void 0&&(g=h(),m.data.set(h,g)),g}},TG=typeof WeakMap=="function"?WeakMap:Map,Ps=0,ta=null,as=null,ms=0,Is=0,Rn=null,Wo=!1,Qu=!1,m0=!1,pc=0,ba=0,Yo=0,dh=0,x0=0,ni=0,Xu=0,Sf=null,xn=null,f0=!1,p0=0,mj=1/0,xj=null,Ko=null,yr=0,Qo=null,Zu=null,Ju=0,g0=0,y0=null,G6=null,_f=0,j0=null;function $n(){if((Ps&2)!==0&&ms!==0)return ms&-ms;if(P.T!==null){var h=Po;return h!==0?h:_0()}return hu()}function V6(){ni===0&&(ni=(ms&536870912)===0||ds?oo():536870912);var h=ri.current;return h!==null&&(h.flags|=32),ni}function Pn(h,m,g){(h===ta&&(Is===2||Is===9)||h.cancelPendingCommit!==null)&&(em(h,0),Xo(h,ms,ni,!1)),Gs(h,g),((Ps&2)===0||h!==ta)&&(h===ta&&((Ps&2)===0&&(dh|=g),ba===4&&Xo(h,ms,ni,!1)),yl(h))}function W6(h,m,g){if((Ps&6)!==0)throw Error(r(327));var N=!g&&(m&124)===0&&(m&h.expiredLanes)===0||Ni(h,m),E=N?OG(h,m):N0(h,m,!0),B=N;do{if(E===0){Qu&&!N&&Xo(h,m,0,!1);break}else{if(g=h.current.alternate,B&&!MG(g)){E=N0(h,m,!1),B=!1;continue}if(E===2){if(B=m,h.errorRecoveryDisabledLanes&B)var ne=0;else ne=h.pendingLanes&-536870913,ne=ne!==0?ne:ne&536870912?536870912:0;if(ne!==0){m=ne;e:{var de=h;E=Sf;var Ne=de.current.memoizedState.isDehydrated;if(Ne&&(em(de,ne).flags|=256),ne=N0(de,ne,!1),ne!==2){if(m0&&!Ne){de.errorRecoveryDisabledLanes|=B,dh|=B,E=4;break e}B=xn,xn=E,B!==null&&(xn===null?xn=B:xn.push.apply(xn,B))}E=ne}if(B=!1,E!==2)continue}}if(E===1){em(h,0),Xo(h,m,0,!0);break}e:{switch(N=h,B=E,B){case 0:case 1:throw Error(r(345));case 4:if((m&4194048)!==m)break;case 6:Xo(N,m,ni,!Wo);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((m&62914560)===m&&(E=p0+300-st(),10<E)){if(Xo(N,m,ni,!Wo),Kn(N,0,!0)!==0)break e;N.timeoutHandle=NT(Y6.bind(null,N,g,xn,xj,f0,m,ni,dh,Xu,Wo,B,2,-0,0),E);break e}Y6(N,g,xn,xj,f0,m,ni,dh,Xu,Wo,B,0,-0,0)}}break}while(!0);yl(h)}function Y6(h,m,g,N,E,B,ne,de,Ne,Be,Ye,Je,Fe,Ue){if(h.timeoutHandle=-1,Je=m.subtreeFlags,(Je&8192||(Je&16785408)===16785408)&&(Of={stylesheets:null,count:0,unsuspend:uV},z6(m),Je=xV(),Je!==null)){h.cancelPendingCommit=Je(tT.bind(null,h,m,B,g,N,E,ne,de,Ne,Ye,1,Fe,Ue)),Xo(h,B,ne,!Be);return}tT(h,m,B,g,N,E,ne,de,Ne)}function MG(h){for(var m=h;;){var g=m.tag;if((g===0||g===11||g===15)&&m.flags&16384&&(g=m.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var N=0;N<g.length;N++){var E=g[N],B=E.getSnapshot;E=E.value;try{if(!er(B(),E))return!1}catch{return!1}}if(g=m.child,m.subtreeFlags&16384&&g!==null)g.return=m,m=g;else{if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Xo(h,m,g,N){m&=~x0,m&=~dh,h.suspendedLanes|=m,h.pingedLanes&=~m,N&&(h.warmLanes|=m),N=h.expirationTimes;for(var E=m;0<E;){var B=31-le(E),ne=1<<B;N[B]=-1,E&=~ne}g!==0&&Fa(h,g,m)}function fj(){return(Ps&6)===0?(Cf(0),!1):!0}function v0(){if(as!==null){if(Is===0)var h=as.return;else h=as,Mi=rc=null,Tr(h),Vu=null,gf=0,h=as;for(;h!==null;)C6(h.alternate,h),h=h.return;as=null}}function em(h,m){var g=h.timeoutHandle;g!==-1&&(h.timeoutHandle=-1,KG(g)),g=h.cancelPendingCommit,g!==null&&(h.cancelPendingCommit=null,g()),v0(),ta=h,as=g=_i(h.current,null),ms=m,Is=0,Rn=null,Wo=!1,Qu=Ni(h,m),m0=!1,Xu=ni=x0=dh=Yo=ba=0,xn=Sf=null,f0=!1,(m&8)!==0&&(m|=m&32);var N=h.entangledLanes;if(N!==0)for(h=h.entanglements,N&=m;0<N;){var E=31-le(N),B=1<<E;m|=h[E],N&=~B}return pc=m,Mu(),g}function K6(h,m){xt=null,P.H=sj,m===lh||m===cc?(m=R(),Is=3):m===rf?(m=R(),Is=4):Is=m===m6?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,Rn=m,as===null&&(ba=1,lj(h,cn(m,h.current)))}function Q6(){var h=P.H;return P.H=sj,h===null?sj:h}function X6(){var h=P.A;return P.A=AG,h}function b0(){ba=4,Wo||(ms&4194048)!==ms&&ri.current!==null||(Qu=!0),(Yo&134217727)===0&&(dh&134217727)===0||ta===null||Xo(ta,ms,ni,!1)}function N0(h,m,g){var N=Ps;Ps|=2;var E=Q6(),B=X6();(ta!==h||ms!==m)&&(xj=null,em(h,m)),m=!1;var ne=ba;e:do try{if(Is!==0&&as!==null){var de=as,Ne=Rn;switch(Is){case 8:v0(),ne=6;break e;case 3:case 2:case 9:case 6:ri.current===null&&(m=!0);var Be=Is;if(Is=0,Rn=null,tm(h,de,Ne,Be),g&&Qu){ne=0;break e}break;default:Be=Is,Is=0,Rn=null,tm(h,de,Ne,Be)}}DG(),ne=ba;break}catch(Ye){K6(h,Ye)}while(!0);return m&&h.shellSuspendCounter++,Mi=rc=null,Ps=N,P.H=E,P.A=B,as===null&&(ta=null,ms=0,Mu()),ne}function DG(){for(;as!==null;)Z6(as)}function OG(h,m){var g=Ps;Ps|=2;var N=Q6(),E=X6();ta!==h||ms!==m?(xj=null,mj=st()+500,em(h,m)):Qu=Ni(h,m);e:do try{if(Is!==0&&as!==null){m=as;var B=Rn;t:switch(Is){case 1:Is=0,Rn=null,tm(h,m,B,1);break;case 2:case 9:if(Vy(B)){Is=0,Rn=null,J6(m);break}m=function(){Is!==2&&Is!==9||ta!==h||(Is=7),yl(h)},B.then(m,m);break e;case 3:Is=7;break e;case 4:Is=5;break e;case 7:Vy(B)?(Is=0,Rn=null,J6(m)):(Is=0,Rn=null,tm(h,m,B,7));break;case 5:var ne=null;switch(as.tag){case 26:ne=as.memoizedState;case 5:case 27:var de=as;if(!ne||RT(ne)){Is=0,Rn=null;var Ne=de.sibling;if(Ne!==null)as=Ne;else{var Be=de.return;Be!==null?(as=Be,pj(Be)):as=null}break t}}Is=0,Rn=null,tm(h,m,B,5);break;case 6:Is=0,Rn=null,tm(h,m,B,6);break;case 8:v0(),ba=6;break e;default:throw Error(r(462))}}RG();break}catch(Ye){K6(h,Ye)}while(!0);return Mi=rc=null,P.H=N,P.A=E,Ps=g,as!==null?0:(ta=null,ms=0,Mu(),ba)}function RG(){for(;as!==null&&!ae();)Z6(as)}function Z6(h){var m=S6(h.alternate,h,pc);h.memoizedProps=h.pendingProps,m===null?pj(h):as=m}function J6(h){var m=h,g=m.alternate;switch(m.tag){case 15:case 0:m=j6(g,m,m.pendingProps,m.type,void 0,ms);break;case 11:m=j6(g,m,m.pendingProps,m.type.render,m.ref,ms);break;case 5:Tr(m);default:C6(g,m),m=as=By(m,pc),m=S6(g,m,pc)}h.memoizedProps=h.pendingProps,m===null?pj(h):as=m}function tm(h,m,g,N){Mi=rc=null,Tr(m),Vu=null,gf=0;var E=m.return;try{if(wG(h,E,m,g,ms)){ba=1,lj(h,cn(g,h.current)),as=null;return}}catch(B){if(E!==null)throw as=E,B;ba=1,lj(h,cn(g,h.current)),as=null;return}m.flags&32768?(ds||N===1?h=!0:Qu||(ms&536870912)!==0?h=!1:(Wo=h=!0,(N===2||N===9||N===3||N===6)&&(N=ri.current,N!==null&&N.tag===13&&(N.flags|=16384))),eT(m,h)):pj(m)}function pj(h){var m=h;do{if((m.flags&32768)!==0){eT(m,Wo);return}h=m.return;var g=SG(m.alternate,m,pc);if(g!==null){as=g;return}if(m=m.sibling,m!==null){as=m;return}as=m=h}while(m!==null);ba===0&&(ba=5)}function eT(h,m){do{var g=_G(h.alternate,h);if(g!==null){g.flags&=32767,as=g;return}if(g=h.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!m&&(h=h.sibling,h!==null)){as=h;return}as=h=g}while(h!==null);ba=6,as=null}function tT(h,m,g,N,E,B,ne,de,Ne){h.cancelPendingCommit=null;do gj();while(yr!==0);if((Ps&6)!==0)throw Error(r(327));if(m!==null){if(m===h.current)throw Error(r(177));if(B=m.lanes|m.childLanes,B|=Yx,ur(h,g,B,ne,de,Ne),h===ta&&(as=ta=null,ms=0),Zu=m,Qo=h,Ju=g,g0=B,y0=E,G6=N,(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?(h.callbackNode=null,h.callbackPriority=0,BG(Ke,function(){return iT(),null})):(h.callbackNode=null,h.callbackPriority=0),N=(m.flags&13878)!==0,(m.subtreeFlags&13878)!==0||N){N=P.T,P.T=null,E=q.p,q.p=2,ne=Ps,Ps|=4;try{CG(h,m,g)}finally{Ps=ne,q.p=E,P.T=N}}yr=1,sT(),aT(),rT()}}function sT(){if(yr===1){yr=0;var h=Qo,m=Zu,g=(m.flags&13878)!==0;if((m.subtreeFlags&13878)!==0||g){g=P.T,P.T=null;var N=q.p;q.p=2;var E=Ps;Ps|=4;try{B6(m,h);var B=R0,ne=My(h.containerInfo),de=B.focusedElem,Ne=B.selectionRange;if(ne!==de&&de&&de.ownerDocument&&Ty(de.ownerDocument.documentElement,de)){if(Ne!==null&&Cu(de)){var Be=Ne.start,Ye=Ne.end;if(Ye===void 0&&(Ye=Be),"selectionStart"in de)de.selectionStart=Be,de.selectionEnd=Math.min(Ye,de.value.length);else{var Je=de.ownerDocument||document,Fe=Je&&Je.defaultView||window;if(Fe.getSelection){var Ue=Fe.getSelection(),Ht=de.textContent.length,Pt=Math.min(Ne.start,Ht),Hs=Ne.end===void 0?Pt:Math.min(Ne.end,Ht);!Ue.extend&&Pt>Hs&&(ne=Hs,Hs=Pt,Pt=ne);var De=Kr(de,Pt),_e=Kr(de,Hs);if(De&&_e&&(Ue.rangeCount!==1||Ue.anchorNode!==De.node||Ue.anchorOffset!==De.offset||Ue.focusNode!==_e.node||Ue.focusOffset!==_e.offset)){var $e=Je.createRange();$e.setStart(De.node,De.offset),Ue.removeAllRanges(),Pt>Hs?(Ue.addRange($e),Ue.extend(_e.node,_e.offset)):($e.setEnd(_e.node,_e.offset),Ue.addRange($e))}}}}for(Je=[],Ue=de;Ue=Ue.parentNode;)Ue.nodeType===1&&Je.push({element:Ue,left:Ue.scrollLeft,top:Ue.scrollTop});for(typeof de.focus=="function"&&de.focus(),de=0;de<Je.length;de++){var Qe=Je[de];Qe.element.scrollLeft=Qe.left,Qe.element.scrollTop=Qe.top}}Aj=!!O0,R0=O0=null}finally{Ps=E,q.p=N,P.T=g}}h.current=m,yr=2}}function aT(){if(yr===2){yr=0;var h=Qo,m=Zu,g=(m.flags&8772)!==0;if((m.subtreeFlags&8772)!==0||g){g=P.T,P.T=null;var N=q.p;q.p=2;var E=Ps;Ps|=4;try{R6(h,m.alternate,m)}finally{Ps=E,q.p=N,P.T=g}}yr=3}}function rT(){if(yr===4||yr===3){yr=0,ye();var h=Qo,m=Zu,g=Ju,N=G6;(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?yr=5:(yr=0,Zu=Qo=null,nT(h,h.pendingLanes));var E=h.pendingLanes;if(E===0&&(Ko=null),Ji(g),m=m.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(nt,m,void 0,(m.current.flags&128)===128)}catch{}if(N!==null){m=P.T,E=q.p,q.p=2,P.T=null;try{for(var B=h.onRecoverableError,ne=0;ne<N.length;ne++){var de=N[ne];B(de.value,{componentStack:de.stack})}}finally{P.T=m,q.p=E}}(Ju&3)!==0&&gj(),yl(h),E=h.pendingLanes,(g&4194090)!==0&&(E&42)!==0?h===j0?_f++:(_f=0,j0=h):_f=0,Cf(0)}}function nT(h,m){(h.pooledCacheLanes&=m)===0&&(m=h.pooledCache,m!=null&&(h.pooledCache=null,ic(m)))}function gj(h){return sT(),aT(),rT(),iT()}function iT(){if(yr!==5)return!1;var h=Qo,m=g0;g0=0;var g=Ji(Ju),N=P.T,E=q.p;try{q.p=32>g?32:g,P.T=null,g=y0,y0=null;var B=Qo,ne=Ju;if(yr=0,Zu=Qo=null,Ju=0,(Ps&6)!==0)throw Error(r(331));var de=Ps;if(Ps|=4,U6(B.current),F6(B,B.current,ne,g),Ps=de,Cf(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(nt,B)}catch{}return!0}finally{q.p=E,P.T=N,nT(h,m)}}function lT(h,m,g){m=cn(g,m),m=X1(h.stateNode,m,2),h=Ze(h,m,2),h!==null&&(Gs(h,2),yl(h))}function Ws(h,m,g){if(h.tag===3)lT(h,h,g);else for(;m!==null;){if(m.tag===3){lT(m,h,g);break}else if(m.tag===1){var N=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(Ko===null||!Ko.has(N))){h=cn(g,h),g=h6(2),N=Ze(m,g,2),N!==null&&(u6(g,N,m,h),Gs(N,2),yl(N));break}}m=m.return}}function w0(h,m,g){var N=h.pingCache;if(N===null){N=h.pingCache=new TG;var E=new Set;N.set(m,E)}else E=N.get(m),E===void 0&&(E=new Set,N.set(m,E));E.has(g)||(m0=!0,E.add(g),h=$G.bind(null,h,m,g),m.then(h,h))}function $G(h,m,g){var N=h.pingCache;N!==null&&N.delete(m),h.pingedLanes|=h.suspendedLanes&g,h.warmLanes&=~g,ta===h&&(ms&g)===g&&(ba===4||ba===3&&(ms&62914560)===ms&&300>st()-p0?(Ps&2)===0&&em(h,0):x0|=g,Xu===ms&&(Xu=0)),yl(h)}function cT(h,m){m===0&&(m=Ie()),h=Mo(h,m),h!==null&&(Gs(h,m),yl(h))}function PG(h){var m=h.memoizedState,g=0;m!==null&&(g=m.retryLane),cT(h,g)}function IG(h,m){var g=0;switch(h.tag){case 13:var N=h.stateNode,E=h.memoizedState;E!==null&&(g=E.retryLane);break;case 19:N=h.stateNode;break;case 22:N=h.stateNode._retryCache;break;default:throw Error(r(314))}N!==null&&N.delete(m),cT(h,g)}function BG(h,m){return Xe(h,m)}var yj=null,sm=null,k0=!1,jj=!1,S0=!1,hh=0;function yl(h){h!==sm&&h.next===null&&(sm===null?yj=sm=h:sm=sm.next=h),jj=!0,k0||(k0=!0,FG())}function Cf(h,m){if(!S0&&jj){S0=!0;do for(var g=!1,N=yj;N!==null;){if(h!==0){var E=N.pendingLanes;if(E===0)var B=0;else{var ne=N.suspendedLanes,de=N.pingedLanes;B=(1<<31-le(42|h)+1)-1,B&=E&~(ne&~de),B=B&201326741?B&201326741|1:B?B|2:0}B!==0&&(g=!0,uT(N,B))}else B=ms,B=Kn(N,N===ta?B:0,N.cancelPendingCommit!==null||N.timeoutHandle!==-1),(B&3)===0||Ni(N,B)||(g=!0,uT(N,B));N=N.next}while(g);S0=!1}}function LG(){oT()}function oT(){jj=k0=!1;var h=0;hh!==0&&(YG()&&(h=hh),hh=0);for(var m=st(),g=null,N=yj;N!==null;){var E=N.next,B=dT(N,m);B===0?(N.next=null,g===null?yj=E:g.next=E,E===null&&(sm=g)):(g=N,(h!==0||(B&3)!==0)&&(jj=!0)),N=E}Cf(h)}function dT(h,m){for(var g=h.suspendedLanes,N=h.pingedLanes,E=h.expirationTimes,B=h.pendingLanes&-62914561;0<B;){var ne=31-le(B),de=1<<ne,Ne=E[ne];Ne===-1?((de&g)===0||(de&N)!==0)&&(E[ne]=Ld(de,m)):Ne<=m&&(h.expiredLanes|=de),B&=~de}if(m=ta,g=ms,g=Kn(h,h===m?g:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),N=h.callbackNode,g===0||h===m&&(Is===2||Is===9)||h.cancelPendingCommit!==null)return N!==null&&N!==null&&Se(N),h.callbackNode=null,h.callbackPriority=0;if((g&3)===0||Ni(h,g)){if(m=g&-g,m===h.callbackPriority)return m;switch(N!==null&&Se(N),Ji(g)){case 2:case 8:g=we;break;case 32:g=Ke;break;case 268435456:g=je;break;default:g=Ke}return N=hT.bind(null,h),g=Xe(g,N),h.callbackPriority=m,h.callbackNode=g,m}return N!==null&&N!==null&&Se(N),h.callbackPriority=2,h.callbackNode=null,2}function hT(h,m){if(yr!==0&&yr!==5)return h.callbackNode=null,h.callbackPriority=0,null;var g=h.callbackNode;if(gj()&&h.callbackNode!==g)return null;var N=ms;return N=Kn(h,h===ta?N:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),N===0?null:(W6(h,N,m),dT(h,st()),h.callbackNode!=null&&h.callbackNode===g?hT.bind(null,h):null)}function uT(h,m){if(gj())return null;W6(h,m,!0)}function FG(){QG(function(){(Ps&6)!==0?Xe(ke,LG):oT()})}function _0(){return hh===0&&(hh=oo()),hh}function mT(h){return h==null||typeof h=="symbol"||typeof h=="boolean"?null:typeof h=="function"?h:ln(""+h)}function xT(h,m){var g=m.ownerDocument.createElement("input");return g.name=m.name,g.value=m.value,h.id&&g.setAttribute("form",h.id),m.parentNode.insertBefore(g,m),h=new FormData(h),g.parentNode.removeChild(g),h}function zG(h,m,g,N,E){if(m==="submit"&&g&&g.stateNode===E){var B=mT((E[Re]||null).action),ne=N.submitter;ne&&(m=(m=ne[Re]||null)?mT(m.formAction):ne.getAttribute("formAction"),m!==null&&(B=m,ne=null));var de=new wo("action","action",null,N,E);h.push({event:de,listeners:[{instance:null,listener:function(){if(N.defaultPrevented){if(hh!==0){var Ne=ne?xT(E,ne):new FormData(E);V1(g,{pending:!0,data:Ne,method:E.method,action:B},null,Ne)}}else typeof B=="function"&&(de.preventDefault(),Ne=ne?xT(E,ne):new FormData(E),V1(g,{pending:!0,data:Ne,method:E.method,action:B},B,Ne))},currentTarget:E}]})}}for(var C0=0;C0<Tu.length;C0++){var E0=Tu[C0],HG=E0.toLowerCase(),UG=E0[0].toUpperCase()+E0.slice(1);An(HG,"on"+UG)}An(Ry,"onAnimationEnd"),An(ol,"onAnimationIteration"),An(si,"onAnimationStart"),An("dblclick","onDoubleClick"),An("focusin","onFocus"),An("focusout","onBlur"),An($y,"onTransitionRun"),An(z1,"onTransitionStart"),An(Py,"onTransitionCancel"),An(Vx,"onTransitionEnd"),ja("onMouseEnter",["mouseout","mouseover"]),ja("onMouseLeave",["mouseout","mouseover"]),ja("onPointerEnter",["pointerout","pointerover"]),ja("onPointerLeave",["pointerout","pointerover"]),Ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ef="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qG=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ef));function fT(h,m){m=(m&4)!==0;for(var g=0;g<h.length;g++){var N=h[g],E=N.event;N=N.listeners;e:{var B=void 0;if(m)for(var ne=N.length-1;0<=ne;ne--){var de=N[ne],Ne=de.instance,Be=de.currentTarget;if(de=de.listener,Ne!==B&&E.isPropagationStopped())break e;B=de,E.currentTarget=Be;try{B(E)}catch(Ye){ij(Ye)}E.currentTarget=null,B=Ne}else for(ne=0;ne<N.length;ne++){if(de=N[ne],Ne=de.instance,Be=de.currentTarget,de=de.listener,Ne!==B&&E.isPropagationStopped())break e;B=de,E.currentTarget=Be;try{B(E)}catch(Ye){ij(Ye)}E.currentTarget=null,B=Ne}}}}function rs(h,m){var g=m[Tt];g===void 0&&(g=m[Tt]=new Set);var N=h+"__bubble";g.has(N)||(pT(m,h,2,!1),g.add(N))}function A0(h,m,g){var N=0;m&&(N|=4),pT(g,h,N,m)}var vj="_reactListening"+Math.random().toString(36).slice(2);function T0(h){if(!h[vj]){h[vj]=!0,Ja.forEach(function(g){g!=="selectionchange"&&(qG.has(g)||A0(g,!1,h),A0(g,!0,h))});var m=h.nodeType===9?h:h.ownerDocument;m===null||m[vj]||(m[vj]=!0,A0("selectionchange",!1,m))}}function pT(h,m,g,N){switch(FT(m)){case 2:var E=gV;break;case 8:E=yV;break;default:E=q0}g=E.bind(null,m,g,h),E=void 0,!yu||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(E=!0),N?E!==void 0?h.addEventListener(m,g,{capture:!0,passive:E}):h.addEventListener(m,g,!0):E!==void 0?h.addEventListener(m,g,{passive:E}):h.addEventListener(m,g,!1)}function M0(h,m,g,N,E){var B=N;if((m&1)===0&&(m&2)===0&&N!==null)e:for(;;){if(N===null)return;var ne=N.tag;if(ne===3||ne===4){var de=N.stateNode.containerInfo;if(de===E)break;if(ne===4)for(ne=N.return;ne!==null;){var Ne=ne.tag;if((Ne===3||Ne===4)&&ne.stateNode.containerInfo===E)return;ne=ne.return}for(;de!==null;){if(ne=mo(de),ne===null)return;if(Ne=ne.tag,Ne===5||Ne===6||Ne===26||Ne===27){N=B=ne;continue e}de=de.parentNode}}N=N.return}jo(function(){var Be=B,Ye=Jn(g),Je=[];e:{var Fe=Wx.get(h);if(Fe!==void 0){var Ue=wo,Ht=h;switch(h){case"keypress":if(No(g)===0)break e;case"keydown":case"keyup":Ue=Fx;break;case"focusin":Ht="focus",Ue=Nu;break;case"focusout":Ht="blur",Ue=Nu;break;case"beforeblur":case"afterblur":Ue=Nu;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ue=Ix;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ue=E1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ue=Hx;break;case Ry:case ol:case si:Ue=cy;break;case Vx:Ue=fy;break;case"scroll":case"scrollend":Ue=Px;break;case"wheel":Ue=O1;break;case"copy":case"cut":case"paste":Ue=Bx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ue=zx;break;case"toggle":case"beforetoggle":Ue=$1}var Pt=(m&4)!==0,Hs=!Pt&&(h==="scroll"||h==="scrollend"),De=Pt?Fe!==null?Fe+"Capture":null:Fe;Pt=[];for(var _e=Be,$e;_e!==null;){var Qe=_e;if($e=Qe.stateNode,Qe=Qe.tag,Qe!==5&&Qe!==26&&Qe!==27||$e===null||De===null||(Qe=vo(_e,De),Qe!=null&&Pt.push(Af(_e,Qe,$e))),Hs)break;_e=_e.return}0<Pt.length&&(Fe=new Ue(Fe,Ht,null,g,Ye),Je.push({event:Fe,listeners:Pt}))}}if((m&7)===0){e:{if(Fe=h==="mouseover"||h==="pointerover",Ue=h==="mouseout"||h==="pointerout",Fe&&g!==$x&&(Ht=g.relatedTarget||g.fromElement)&&(mo(Ht)||Ht[mt]))break e;if((Ue||Fe)&&(Fe=Ye.window===Ye?Ye:(Fe=Ye.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,Ue?(Ht=g.relatedTarget||g.toElement,Ue=Be,Ht=Ht?mo(Ht):null,Ht!==null&&(Hs=i(Ht),Pt=Ht.tag,Ht!==Hs||Pt!==5&&Pt!==27&&Pt!==6)&&(Ht=null)):(Ue=null,Ht=Be),Ue!==Ht)){if(Pt=Ix,Qe="onMouseLeave",De="onMouseEnter",_e="mouse",(h==="pointerout"||h==="pointerover")&&(Pt=zx,Qe="onPointerLeave",De="onPointerEnter",_e="pointer"),Hs=Ue==null?Fe:Fd(Ue),$e=Ht==null?Fe:Fd(Ht),Fe=new Pt(Qe,_e+"leave",Ue,g,Ye),Fe.target=Hs,Fe.relatedTarget=$e,Qe=null,mo(Ye)===Be&&(Pt=new Pt(De,_e+"enter",Ht,g,Ye),Pt.target=$e,Pt.relatedTarget=Hs,Qe=Pt),Hs=Qe,Ue&&Ht)t:{for(Pt=Ue,De=Ht,_e=0,$e=Pt;$e;$e=am($e))_e++;for($e=0,Qe=De;Qe;Qe=am(Qe))$e++;for(;0<_e-$e;)Pt=am(Pt),_e--;for(;0<$e-_e;)De=am(De),$e--;for(;_e--;){if(Pt===De||De!==null&&Pt===De.alternate)break t;Pt=am(Pt),De=am(De)}Pt=null}else Pt=null;Ue!==null&&gT(Je,Fe,Ue,Pt,!1),Ht!==null&&Hs!==null&&gT(Je,Hs,Ht,Pt,!0)}}e:{if(Fe=Be?Fd(Be):window,Ue=Fe.nodeName&&Fe.nodeName.toLowerCase(),Ue==="select"||Ue==="input"&&Fe.type==="file")var _t=wy;else if(vy(Fe))if(ky)_t=Ey;else{_t=F1;var ts=L1}else Ue=Fe.nodeName,!Ue||Ue.toLowerCase()!=="input"||Fe.type!=="checkbox"&&Fe.type!=="radio"?Be&&nl(Be.elementType)&&(_t=wy):_t=Cy;if(_t&&(_t=_t(h,Be))){by(Je,_t,g,Ye);break e}ts&&ts(h,Fe,Be),h==="focusout"&&Be&&Fe.type==="number"&&Be.memoizedProps.value!=null&&qd(Fe,"number",Fe.value)}switch(ts=Be?Fd(Be):window,h){case"focusin":(vy(ts)||ts.contentEditable==="true")&&(To=ts,qx=Be,Zd=null);break;case"focusout":Zd=qx=To=null;break;case"mousedown":Gx=!0;break;case"contextmenu":case"mouseup":case"dragend":Gx=!1,Oy(Je,g,Ye);break;case"selectionchange":if(Dy)break;case"keydown":case"keyup":Oy(Je,g,Ye)}var At;if(ku)e:{switch(h){case"compositionstart":var Lt="onCompositionStart";break e;case"compositionend":Lt="onCompositionEnd";break e;case"compositionupdate":Lt="onCompositionUpdate";break e}Lt=void 0}else _o?yy(h,g)&&(Lt="onCompositionEnd"):h==="keydown"&&g.keyCode===229&&(Lt="onCompositionStart");Lt&&(cl&&g.locale!=="ko"&&(_o||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&_o&&(At=Vd()):(il=Ye,ju="value"in il?il.value:il.textContent,_o=!0)),ts=bj(Be,Lt),0<ts.length&&(Lt=new hy(Lt,h,null,g,Ye),Je.push({event:Lt,listeners:ts}),At?Lt.data=At:(At=jy(g),At!==null&&(Lt.data=At)))),(At=So?P1(h,g):I1(h,g))&&(Lt=bj(Be,"onBeforeInput"),0<Lt.length&&(ts=new hy("onBeforeInput","beforeinput",null,g,Ye),Je.push({event:ts,listeners:Lt}),ts.data=At)),zG(Je,h,Be,g,Ye)}fT(Je,m)})}function Af(h,m,g){return{instance:h,listener:m,currentTarget:g}}function bj(h,m){for(var g=m+"Capture",N=[];h!==null;){var E=h,B=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||B===null||(E=vo(h,g),E!=null&&N.unshift(Af(h,E,B)),E=vo(h,m),E!=null&&N.push(Af(h,E,B))),h.tag===3)return N;h=h.return}return[]}function am(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5&&h.tag!==27);return h||null}function gT(h,m,g,N,E){for(var B=m._reactName,ne=[];g!==null&&g!==N;){var de=g,Ne=de.alternate,Be=de.stateNode;if(de=de.tag,Ne!==null&&Ne===N)break;de!==5&&de!==26&&de!==27||Be===null||(Ne=Be,E?(Be=vo(g,B),Be!=null&&ne.unshift(Af(g,Be,Ne))):E||(Be=vo(g,B),Be!=null&&ne.push(Af(g,Be,Ne)))),g=g.return}ne.length!==0&&h.push({event:m,listeners:ne})}var GG=/\r\n?/g,VG=/\u0000|\uFFFD/g;function yT(h){return(typeof h=="string"?h:""+h).replace(GG,`
`).replace(VG,"")}function jT(h,m){return m=yT(m),yT(h)===m}function Nj(){}function zs(h,m,g,N,E,B){switch(g){case"children":typeof N=="string"?m==="body"||m==="textarea"&&N===""||ki(h,N):(typeof N=="number"||typeof N=="bigint")&&m!=="body"&&ki(h,""+N);break;case"className":po(h,"class",N);break;case"tabIndex":po(h,"tabindex",N);break;case"dir":case"role":case"viewBox":case"width":case"height":po(h,g,N);break;case"style":Ox(h,N,B);break;case"data":if(m!=="object"){po(h,"data",N);break}case"src":case"href":if(N===""&&(m!=="a"||g!=="href")){h.removeAttribute(g);break}if(N==null||typeof N=="function"||typeof N=="symbol"||typeof N=="boolean"){h.removeAttribute(g);break}N=ln(""+N),h.setAttribute(g,N);break;case"action":case"formAction":if(typeof N=="function"){h.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof B=="function"&&(g==="formAction"?(m!=="input"&&zs(h,m,"name",E.name,E,null),zs(h,m,"formEncType",E.formEncType,E,null),zs(h,m,"formMethod",E.formMethod,E,null),zs(h,m,"formTarget",E.formTarget,E,null)):(zs(h,m,"encType",E.encType,E,null),zs(h,m,"method",E.method,E,null),zs(h,m,"target",E.target,E,null)));if(N==null||typeof N=="symbol"||typeof N=="boolean"){h.removeAttribute(g);break}N=ln(""+N),h.setAttribute(g,N);break;case"onClick":N!=null&&(h.onclick=Nj);break;case"onScroll":N!=null&&rs("scroll",h);break;case"onScrollEnd":N!=null&&rs("scrollend",h);break;case"dangerouslySetInnerHTML":if(N!=null){if(typeof N!="object"||!("__html"in N))throw Error(r(61));if(g=N.__html,g!=null){if(E.children!=null)throw Error(r(60));h.innerHTML=g}}break;case"multiple":h.multiple=N&&typeof N!="function"&&typeof N!="symbol";break;case"muted":h.muted=N&&typeof N!="function"&&typeof N!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(N==null||typeof N=="function"||typeof N=="boolean"||typeof N=="symbol"){h.removeAttribute("xlink:href");break}g=ln(""+N),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":N!=null&&typeof N!="function"&&typeof N!="symbol"?h.setAttribute(g,""+N):h.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":N&&typeof N!="function"&&typeof N!="symbol"?h.setAttribute(g,""):h.removeAttribute(g);break;case"capture":case"download":N===!0?h.setAttribute(g,""):N!==!1&&N!=null&&typeof N!="function"&&typeof N!="symbol"?h.setAttribute(g,N):h.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":N!=null&&typeof N!="function"&&typeof N!="symbol"&&!isNaN(N)&&1<=N?h.setAttribute(g,N):h.removeAttribute(g);break;case"rowSpan":case"start":N==null||typeof N=="function"||typeof N=="symbol"||isNaN(N)?h.removeAttribute(g):h.setAttribute(g,N);break;case"popover":rs("beforetoggle",h),rs("toggle",h),zd(h,"popover",N);break;case"xlinkActuate":_r(h,"http://www.w3.org/1999/xlink","xlink:actuate",N);break;case"xlinkArcrole":_r(h,"http://www.w3.org/1999/xlink","xlink:arcrole",N);break;case"xlinkRole":_r(h,"http://www.w3.org/1999/xlink","xlink:role",N);break;case"xlinkShow":_r(h,"http://www.w3.org/1999/xlink","xlink:show",N);break;case"xlinkTitle":_r(h,"http://www.w3.org/1999/xlink","xlink:title",N);break;case"xlinkType":_r(h,"http://www.w3.org/1999/xlink","xlink:type",N);break;case"xmlBase":_r(h,"http://www.w3.org/XML/1998/namespace","xml:base",N);break;case"xmlLang":_r(h,"http://www.w3.org/XML/1998/namespace","xml:lang",N);break;case"xmlSpace":_r(h,"http://www.w3.org/XML/1998/namespace","xml:space",N);break;case"is":zd(h,"is",N);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=Rx.get(g)||g,zd(h,g,N))}}function D0(h,m,g,N,E,B){switch(g){case"style":Ox(h,N,B);break;case"dangerouslySetInnerHTML":if(N!=null){if(typeof N!="object"||!("__html"in N))throw Error(r(61));if(g=N.__html,g!=null){if(E.children!=null)throw Error(r(60));h.innerHTML=g}}break;case"children":typeof N=="string"?ki(h,N):(typeof N=="number"||typeof N=="bigint")&&ki(h,""+N);break;case"onScroll":N!=null&&rs("scroll",h);break;case"onScrollEnd":N!=null&&rs("scrollend",h);break;case"onClick":N!=null&&(h.onclick=Nj);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sr.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(E=g.endsWith("Capture"),m=g.slice(2,E?g.length-7:void 0),B=h[Re]||null,B=B!=null?B[g]:null,typeof B=="function"&&h.removeEventListener(m,B,E),typeof N=="function")){typeof B!="function"&&B!==null&&(g in h?h[g]=null:h.hasAttribute(g)&&h.removeAttribute(g)),h.addEventListener(m,N,E);break e}g in h?h[g]=N:N===!0?h.setAttribute(g,""):zd(h,g,N)}}}function jr(h,m,g){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rs("error",h),rs("load",h);var N=!1,E=!1,B;for(B in g)if(g.hasOwnProperty(B)){var ne=g[B];if(ne!=null)switch(B){case"src":N=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,m));default:zs(h,m,B,ne,g,null)}}E&&zs(h,m,"srcSet",g.srcSet,g,null),N&&zs(h,m,"src",g.src,g,null);return;case"input":rs("invalid",h);var de=B=ne=E=null,Ne=null,Be=null;for(N in g)if(g.hasOwnProperty(N)){var Ye=g[N];if(Ye!=null)switch(N){case"name":E=Ye;break;case"type":ne=Ye;break;case"checked":Ne=Ye;break;case"defaultChecked":Be=Ye;break;case"value":B=Ye;break;case"defaultValue":de=Ye;break;case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(r(137,m));break;default:zs(h,m,N,Ye,g,null)}}Yr(h,B,de,Ne,Be,ne,E,!1),Hd(h);return;case"select":rs("invalid",h),N=ne=B=null;for(E in g)if(g.hasOwnProperty(E)&&(de=g[E],de!=null))switch(E){case"value":B=de;break;case"defaultValue":ne=de;break;case"multiple":N=de;default:zs(h,m,E,de,g,null)}m=B,g=ne,h.multiple=!!N,m!=null?al(h,!!N,m,!1):g!=null&&al(h,!!N,g,!0);return;case"textarea":rs("invalid",h),B=E=N=null;for(ne in g)if(g.hasOwnProperty(ne)&&(de=g[ne],de!=null))switch(ne){case"value":N=de;break;case"defaultValue":E=de;break;case"children":B=de;break;case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(91));break;default:zs(h,m,ne,de,g,null)}rl(h,N,E,B),Hd(h);return;case"option":for(Ne in g)if(g.hasOwnProperty(Ne)&&(N=g[Ne],N!=null))switch(Ne){case"selected":h.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:zs(h,m,Ne,N,g,null)}return;case"dialog":rs("beforetoggle",h),rs("toggle",h),rs("cancel",h),rs("close",h);break;case"iframe":case"object":rs("load",h);break;case"video":case"audio":for(N=0;N<Ef.length;N++)rs(Ef[N],h);break;case"image":rs("error",h),rs("load",h);break;case"details":rs("toggle",h);break;case"embed":case"source":case"link":rs("error",h),rs("load",h);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Be in g)if(g.hasOwnProperty(Be)&&(N=g[Be],N!=null))switch(Be){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,m));default:zs(h,m,Be,N,g,null)}return;default:if(nl(m)){for(Ye in g)g.hasOwnProperty(Ye)&&(N=g[Ye],N!==void 0&&D0(h,m,Ye,N,g,void 0));return}}for(de in g)g.hasOwnProperty(de)&&(N=g[de],N!=null&&zs(h,m,de,N,g,null))}function WG(h,m,g,N){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,B=null,ne=null,de=null,Ne=null,Be=null,Ye=null;for(Ue in g){var Je=g[Ue];if(g.hasOwnProperty(Ue)&&Je!=null)switch(Ue){case"checked":break;case"value":break;case"defaultValue":Ne=Je;default:N.hasOwnProperty(Ue)||zs(h,m,Ue,null,N,Je)}}for(var Fe in N){var Ue=N[Fe];if(Je=g[Fe],N.hasOwnProperty(Fe)&&(Ue!=null||Je!=null))switch(Fe){case"type":B=Ue;break;case"name":E=Ue;break;case"checked":Be=Ue;break;case"defaultChecked":Ye=Ue;break;case"value":ne=Ue;break;case"defaultValue":de=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(r(137,m));break;default:Ue!==Je&&zs(h,m,Fe,Ue,N,Je)}}wi(h,ne,de,Ne,Be,Ye,B,E);return;case"select":Ue=ne=de=Fe=null;for(B in g)if(Ne=g[B],g.hasOwnProperty(B)&&Ne!=null)switch(B){case"value":break;case"multiple":Ue=Ne;default:N.hasOwnProperty(B)||zs(h,m,B,null,N,Ne)}for(E in N)if(B=N[E],Ne=g[E],N.hasOwnProperty(E)&&(B!=null||Ne!=null))switch(E){case"value":Fe=B;break;case"defaultValue":de=B;break;case"multiple":ne=B;default:B!==Ne&&zs(h,m,E,B,N,Ne)}m=de,g=ne,N=Ue,Fe!=null?al(h,!!g,Fe,!1):!!N!=!!g&&(m!=null?al(h,!!g,m,!0):al(h,!!g,g?[]:"",!1));return;case"textarea":Ue=Fe=null;for(de in g)if(E=g[de],g.hasOwnProperty(de)&&E!=null&&!N.hasOwnProperty(de))switch(de){case"value":break;case"children":break;default:zs(h,m,de,null,N,E)}for(ne in N)if(E=N[ne],B=g[ne],N.hasOwnProperty(ne)&&(E!=null||B!=null))switch(ne){case"value":Fe=E;break;case"defaultValue":Ue=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==B&&zs(h,m,ne,E,N,B)}En(h,Fe,Ue);return;case"option":for(var Ht in g)if(Fe=g[Ht],g.hasOwnProperty(Ht)&&Fe!=null&&!N.hasOwnProperty(Ht))switch(Ht){case"selected":h.selected=!1;break;default:zs(h,m,Ht,null,N,Fe)}for(Ne in N)if(Fe=N[Ne],Ue=g[Ne],N.hasOwnProperty(Ne)&&Fe!==Ue&&(Fe!=null||Ue!=null))switch(Ne){case"selected":h.selected=Fe&&typeof Fe!="function"&&typeof Fe!="symbol";break;default:zs(h,m,Ne,Fe,N,Ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pt in g)Fe=g[Pt],g.hasOwnProperty(Pt)&&Fe!=null&&!N.hasOwnProperty(Pt)&&zs(h,m,Pt,null,N,Fe);for(Be in N)if(Fe=N[Be],Ue=g[Be],N.hasOwnProperty(Be)&&Fe!==Ue&&(Fe!=null||Ue!=null))switch(Be){case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(r(137,m));break;default:zs(h,m,Be,Fe,N,Ue)}return;default:if(nl(m)){for(var Hs in g)Fe=g[Hs],g.hasOwnProperty(Hs)&&Fe!==void 0&&!N.hasOwnProperty(Hs)&&D0(h,m,Hs,void 0,N,Fe);for(Ye in N)Fe=N[Ye],Ue=g[Ye],!N.hasOwnProperty(Ye)||Fe===Ue||Fe===void 0&&Ue===void 0||D0(h,m,Ye,Fe,N,Ue);return}}for(var De in g)Fe=g[De],g.hasOwnProperty(De)&&Fe!=null&&!N.hasOwnProperty(De)&&zs(h,m,De,null,N,Fe);for(Je in N)Fe=N[Je],Ue=g[Je],!N.hasOwnProperty(Je)||Fe===Ue||Fe==null&&Ue==null||zs(h,m,Je,Fe,N,Ue)}var O0=null,R0=null;function wj(h){return h.nodeType===9?h:h.ownerDocument}function vT(h){switch(h){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bT(h,m){if(h===0)switch(m){case"svg":return 1;case"math":return 2;default:return 0}return h===1&&m==="foreignObject"?0:h}function $0(h,m){return h==="textarea"||h==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.children=="bigint"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var P0=null;function YG(){var h=window.event;return h&&h.type==="popstate"?h===P0?!1:(P0=h,!0):(P0=null,!1)}var NT=typeof setTimeout=="function"?setTimeout:void 0,KG=typeof clearTimeout=="function"?clearTimeout:void 0,wT=typeof Promise=="function"?Promise:void 0,QG=typeof queueMicrotask=="function"?queueMicrotask:typeof wT<"u"?function(h){return wT.resolve(null).then(h).catch(XG)}:NT;function XG(h){setTimeout(function(){throw h})}function Zo(h){return h==="head"}function kT(h,m){var g=m,N=0,E=0;do{var B=g.nextSibling;if(h.removeChild(g),B&&B.nodeType===8)if(g=B.data,g==="/$"){if(0<N&&8>N){g=N;var ne=h.ownerDocument;if(g&1&&Tf(ne.documentElement),g&2&&Tf(ne.body),g&4)for(g=ne.head,Tf(g),ne=g.firstChild;ne;){var de=ne.nextSibling,Ne=ne.nodeName;ne[Xn]||Ne==="SCRIPT"||Ne==="STYLE"||Ne==="LINK"&&ne.rel.toLowerCase()==="stylesheet"||g.removeChild(ne),ne=de}}if(E===0){h.removeChild(B),Bf(m);return}E--}else g==="$"||g==="$?"||g==="$!"?E++:N=g.charCodeAt(0)-48;else N=0;g=B}while(g);Bf(m)}function I0(h){var m=h.firstChild;for(m&&m.nodeType===10&&(m=m.nextSibling);m;){var g=m;switch(m=m.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":I0(g),uo(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}h.removeChild(g)}}function ZG(h,m,g,N){for(;h.nodeType===1;){var E=g;if(h.nodeName.toLowerCase()!==m.toLowerCase()){if(!N&&(h.nodeName!=="INPUT"||h.type!=="hidden"))break}else if(N){if(!h[Xn])switch(m){case"meta":if(!h.hasAttribute("itemprop"))break;return h;case"link":if(B=h.getAttribute("rel"),B==="stylesheet"&&h.hasAttribute("data-precedence"))break;if(B!==E.rel||h.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||h.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||h.getAttribute("title")!==(E.title==null?null:E.title))break;return h;case"style":if(h.hasAttribute("data-precedence"))break;return h;case"script":if(B=h.getAttribute("src"),(B!==(E.src==null?null:E.src)||h.getAttribute("type")!==(E.type==null?null:E.type)||h.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&B&&h.hasAttribute("async")&&!h.hasAttribute("itemprop"))break;return h;default:return h}}else if(m==="input"&&h.type==="hidden"){var B=E.name==null?null:""+E.name;if(E.type==="hidden"&&h.getAttribute("name")===B)return h}else return h;if(h=$i(h.nextSibling),h===null)break}return null}function JG(h,m,g){if(m==="")return null;for(;h.nodeType!==3;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!g||(h=$i(h.nextSibling),h===null))return null;return h}function B0(h){return h.data==="$!"||h.data==="$?"&&h.ownerDocument.readyState==="complete"}function eV(h,m){var g=h.ownerDocument;if(h.data!=="$?"||g.readyState==="complete")m();else{var N=function(){m(),g.removeEventListener("DOMContentLoaded",N)};g.addEventListener("DOMContentLoaded",N),h._reactRetry=N}}function $i(h){for(;h!=null;h=h.nextSibling){var m=h.nodeType;if(m===1||m===3)break;if(m===8){if(m=h.data,m==="$"||m==="$!"||m==="$?"||m==="F!"||m==="F")break;if(m==="/$")return null}}return h}var L0=null;function ST(h){h=h.previousSibling;for(var m=0;h;){if(h.nodeType===8){var g=h.data;if(g==="$"||g==="$!"||g==="$?"){if(m===0)return h;m--}else g==="/$"&&m++}h=h.previousSibling}return null}function _T(h,m,g){switch(m=wj(g),h){case"html":if(h=m.documentElement,!h)throw Error(r(452));return h;case"head":if(h=m.head,!h)throw Error(r(453));return h;case"body":if(h=m.body,!h)throw Error(r(454));return h;default:throw Error(r(451))}}function Tf(h){for(var m=h.attributes;m.length;)h.removeAttributeNode(m[0]);uo(h)}var ii=new Map,CT=new Set;function kj(h){return typeof h.getRootNode=="function"?h.getRootNode():h.nodeType===9?h:h.ownerDocument}var gc=q.d;q.d={f:tV,r:sV,D:aV,C:rV,L:nV,m:iV,X:cV,S:lV,M:oV};function tV(){var h=gc.f(),m=fj();return h||m}function sV(h){var m=el(h);m!==null&&m.tag===5&&m.type==="form"?W4(m):gc.r(h)}var rm=typeof document>"u"?null:document;function ET(h,m,g){var N=rm;if(N&&typeof m=="string"&&m){var E=Js(m);E='link[rel="'+h+'"][href="'+E+'"]',typeof g=="string"&&(E+='[crossorigin="'+g+'"]'),CT.has(E)||(CT.add(E),h={rel:h,crossOrigin:g,href:m},N.querySelector(E)===null&&(m=N.createElement("link"),jr(m,"link",h),na(m),N.head.appendChild(m)))}}function aV(h){gc.D(h),ET("dns-prefetch",h,null)}function rV(h,m){gc.C(h,m),ET("preconnect",h,m)}function nV(h,m,g){gc.L(h,m,g);var N=rm;if(N&&h&&m){var E='link[rel="preload"][as="'+Js(m)+'"]';m==="image"&&g&&g.imageSrcSet?(E+='[imagesrcset="'+Js(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(E+='[imagesizes="'+Js(g.imageSizes)+'"]')):E+='[href="'+Js(h)+'"]';var B=E;switch(m){case"style":B=nm(h);break;case"script":B=im(h)}ii.has(B)||(h=d({rel:"preload",href:m==="image"&&g&&g.imageSrcSet?void 0:h,as:m},g),ii.set(B,h),N.querySelector(E)!==null||m==="style"&&N.querySelector(Mf(B))||m==="script"&&N.querySelector(Df(B))||(m=N.createElement("link"),jr(m,"link",h),na(m),N.head.appendChild(m)))}}function iV(h,m){gc.m(h,m);var g=rm;if(g&&h){var N=m&&typeof m.as=="string"?m.as:"script",E='link[rel="modulepreload"][as="'+Js(N)+'"][href="'+Js(h)+'"]',B=E;switch(N){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":B=im(h)}if(!ii.has(B)&&(h=d({rel:"modulepreload",href:h},m),ii.set(B,h),g.querySelector(E)===null)){switch(N){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Df(B)))return}N=g.createElement("link"),jr(N,"link",h),na(N),g.head.appendChild(N)}}}function lV(h,m,g){gc.S(h,m,g);var N=rm;if(N&&h){var E=xo(N).hoistableStyles,B=nm(h);m=m||"default";var ne=E.get(B);if(!ne){var de={loading:0,preload:null};if(ne=N.querySelector(Mf(B)))de.loading=5;else{h=d({rel:"stylesheet",href:h,"data-precedence":m},g),(g=ii.get(B))&&F0(h,g);var Ne=ne=N.createElement("link");na(Ne),jr(Ne,"link",h),Ne._p=new Promise(function(Be,Ye){Ne.onload=Be,Ne.onerror=Ye}),Ne.addEventListener("load",function(){de.loading|=1}),Ne.addEventListener("error",function(){de.loading|=2}),de.loading|=4,Sj(ne,m,N)}ne={type:"stylesheet",instance:ne,count:1,state:de},E.set(B,ne)}}}function cV(h,m){gc.X(h,m);var g=rm;if(g&&h){var N=xo(g).hoistableScripts,E=im(h),B=N.get(E);B||(B=g.querySelector(Df(E)),B||(h=d({src:h,async:!0},m),(m=ii.get(E))&&z0(h,m),B=g.createElement("script"),na(B),jr(B,"link",h),g.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},N.set(E,B))}}function oV(h,m){gc.M(h,m);var g=rm;if(g&&h){var N=xo(g).hoistableScripts,E=im(h),B=N.get(E);B||(B=g.querySelector(Df(E)),B||(h=d({src:h,async:!0,type:"module"},m),(m=ii.get(E))&&z0(h,m),B=g.createElement("script"),na(B),jr(B,"link",h),g.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},N.set(E,B))}}function AT(h,m,g,N){var E=(E=J.current)?kj(E):null;if(!E)throw Error(r(446));switch(h){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(m=nm(g.href),g=xo(E).hoistableStyles,N=g.get(m),N||(N={type:"style",instance:null,count:0,state:null},g.set(m,N)),N):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){h=nm(g.href);var B=xo(E).hoistableStyles,ne=B.get(h);if(ne||(E=E.ownerDocument||E,ne={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},B.set(h,ne),(B=E.querySelector(Mf(h)))&&!B._p&&(ne.instance=B,ne.state.loading=5),ii.has(h)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},ii.set(h,g),B||dV(E,h,g,ne.state))),m&&N===null)throw Error(r(528,""));return ne}if(m&&N!==null)throw Error(r(529,""));return null;case"script":return m=g.async,g=g.src,typeof g=="string"&&m&&typeof m!="function"&&typeof m!="symbol"?(m=im(g),g=xo(E).hoistableScripts,N=g.get(m),N||(N={type:"script",instance:null,count:0,state:null},g.set(m,N)),N):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,h))}}function nm(h){return'href="'+Js(h)+'"'}function Mf(h){return'link[rel="stylesheet"]['+h+"]"}function TT(h){return d({},h,{"data-precedence":h.precedence,precedence:null})}function dV(h,m,g,N){h.querySelector('link[rel="preload"][as="style"]['+m+"]")?N.loading=1:(m=h.createElement("link"),N.preload=m,m.addEventListener("load",function(){return N.loading|=1}),m.addEventListener("error",function(){return N.loading|=2}),jr(m,"link",g),na(m),h.head.appendChild(m))}function im(h){return'[src="'+Js(h)+'"]'}function Df(h){return"script[async]"+h}function MT(h,m,g){if(m.count++,m.instance===null)switch(m.type){case"style":var N=h.querySelector('style[data-href~="'+Js(g.href)+'"]');if(N)return m.instance=N,na(N),N;var E=d({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return N=(h.ownerDocument||h).createElement("style"),na(N),jr(N,"style",E),Sj(N,g.precedence,h),m.instance=N;case"stylesheet":E=nm(g.href);var B=h.querySelector(Mf(E));if(B)return m.state.loading|=4,m.instance=B,na(B),B;N=TT(g),(E=ii.get(E))&&F0(N,E),B=(h.ownerDocument||h).createElement("link"),na(B);var ne=B;return ne._p=new Promise(function(de,Ne){ne.onload=de,ne.onerror=Ne}),jr(B,"link",N),m.state.loading|=4,Sj(B,g.precedence,h),m.instance=B;case"script":return B=im(g.src),(E=h.querySelector(Df(B)))?(m.instance=E,na(E),E):(N=g,(E=ii.get(B))&&(N=d({},g),z0(N,E)),h=h.ownerDocument||h,E=h.createElement("script"),na(E),jr(E,"link",N),h.head.appendChild(E),m.instance=E);case"void":return null;default:throw Error(r(443,m.type))}else m.type==="stylesheet"&&(m.state.loading&4)===0&&(N=m.instance,m.state.loading|=4,Sj(N,g.precedence,h));return m.instance}function Sj(h,m,g){for(var N=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=N.length?N[N.length-1]:null,B=E,ne=0;ne<N.length;ne++){var de=N[ne];if(de.dataset.precedence===m)B=de;else if(B!==E)break}B?B.parentNode.insertBefore(h,B.nextSibling):(m=g.nodeType===9?g.head:g,m.insertBefore(h,m.firstChild))}function F0(h,m){h.crossOrigin==null&&(h.crossOrigin=m.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=m.referrerPolicy),h.title==null&&(h.title=m.title)}function z0(h,m){h.crossOrigin==null&&(h.crossOrigin=m.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=m.referrerPolicy),h.integrity==null&&(h.integrity=m.integrity)}var _j=null;function DT(h,m,g){if(_j===null){var N=new Map,E=_j=new Map;E.set(g,N)}else E=_j,N=E.get(g),N||(N=new Map,E.set(g,N));if(N.has(h))return N;for(N.set(h,null),g=g.getElementsByTagName(h),E=0;E<g.length;E++){var B=g[E];if(!(B[Xn]||B[ra]||h==="link"&&B.getAttribute("rel")==="stylesheet")&&B.namespaceURI!=="http://www.w3.org/2000/svg"){var ne=B.getAttribute(m)||"";ne=h+ne;var de=N.get(ne);de?de.push(B):N.set(ne,[B])}}return N}function OT(h,m,g){h=h.ownerDocument||h,h.head.insertBefore(g,m==="title"?h.querySelector("head > title"):null)}function hV(h,m,g){if(g===1||m.itemProp!=null)return!1;switch(h){case"meta":case"title":return!0;case"style":if(typeof m.precedence!="string"||typeof m.href!="string"||m.href==="")break;return!0;case"link":if(typeof m.rel!="string"||typeof m.href!="string"||m.href===""||m.onLoad||m.onError)break;switch(m.rel){case"stylesheet":return h=m.disabled,typeof m.precedence=="string"&&h==null;default:return!0}case"script":if(m.async&&typeof m.async!="function"&&typeof m.async!="symbol"&&!m.onLoad&&!m.onError&&m.src&&typeof m.src=="string")return!0}return!1}function RT(h){return!(h.type==="stylesheet"&&(h.state.loading&3)===0)}var Of=null;function uV(){}function mV(h,m,g){if(Of===null)throw Error(r(475));var N=Of;if(m.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var E=nm(g.href),B=h.querySelector(Mf(E));if(B){h=B._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(N.count++,N=Cj.bind(N),h.then(N,N)),m.state.loading|=4,m.instance=B,na(B);return}B=h.ownerDocument||h,g=TT(g),(E=ii.get(E))&&F0(g,E),B=B.createElement("link"),na(B);var ne=B;ne._p=new Promise(function(de,Ne){ne.onload=de,ne.onerror=Ne}),jr(B,"link",g),m.instance=B}N.stylesheets===null&&(N.stylesheets=new Map),N.stylesheets.set(m,h),(h=m.state.preload)&&(m.state.loading&3)===0&&(N.count++,m=Cj.bind(N),h.addEventListener("load",m),h.addEventListener("error",m))}}function xV(){if(Of===null)throw Error(r(475));var h=Of;return h.stylesheets&&h.count===0&&H0(h,h.stylesheets),0<h.count?function(m){var g=setTimeout(function(){if(h.stylesheets&&H0(h,h.stylesheets),h.unsuspend){var N=h.unsuspend;h.unsuspend=null,N()}},6e4);return h.unsuspend=m,function(){h.unsuspend=null,clearTimeout(g)}}:null}function Cj(){if(this.count--,this.count===0){if(this.stylesheets)H0(this,this.stylesheets);else if(this.unsuspend){var h=this.unsuspend;this.unsuspend=null,h()}}}var Ej=null;function H0(h,m){h.stylesheets=null,h.unsuspend!==null&&(h.count++,Ej=new Map,m.forEach(fV,h),Ej=null,Cj.call(h))}function fV(h,m){if(!(m.state.loading&4)){var g=Ej.get(h);if(g)var N=g.get(null);else{g=new Map,Ej.set(h,g);for(var E=h.querySelectorAll("link[data-precedence],style[data-precedence]"),B=0;B<E.length;B++){var ne=E[B];(ne.nodeName==="LINK"||ne.getAttribute("media")!=="not all")&&(g.set(ne.dataset.precedence,ne),N=ne)}N&&g.set(null,N)}E=m.instance,ne=E.getAttribute("data-precedence"),B=g.get(ne)||N,B===N&&g.set(null,E),g.set(ne,E),this.count++,N=Cj.bind(this),E.addEventListener("load",N),E.addEventListener("error",N),B?B.parentNode.insertBefore(E,B.nextSibling):(h=h.nodeType===9?h.head:h,h.insertBefore(E,h.firstChild)),m.state.loading|=4}}var Rf={$$typeof:_,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function pV(h,m,g,N,E,B,ne,de){this.tag=1,this.containerInfo=h,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wt(0),this.hiddenUpdates=wt(null),this.identifierPrefix=N,this.onUncaughtError=E,this.onCaughtError=B,this.onRecoverableError=ne,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=de,this.incompleteTransitions=new Map}function $T(h,m,g,N,E,B,ne,de,Ne,Be,Ye,Je){return h=new pV(h,m,g,ne,de,Ne,Be,Je),m=1,B===!0&&(m|=24),B=Xr(3,null,null,m),h.current=B,B.stateNode=h,m=Iu(),m.refCount++,h.pooledCache=m,m.refCount++,B.memoizedState={element:N,isDehydrated:g,cache:m},Ce(B),h}function PT(h){return h?(h=Do,h):Do}function IT(h,m,g,N,E,B){E=PT(E),N.context===null?N.context=E:N.pendingContext=E,N=qe(m),N.payload={element:g},B=B===void 0?null:B,B!==null&&(N.callback=B),g=Ze(h,N,m),g!==null&&(Pn(g,h,m),dt(g,h,m))}function BT(h,m){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var g=h.retryLane;h.retryLane=g!==0&&g<m?g:m}}function U0(h,m){BT(h,m),(h=h.alternate)&&BT(h,m)}function LT(h){if(h.tag===13){var m=Mo(h,67108864);m!==null&&Pn(m,h,67108864),U0(h,67108864)}}var Aj=!0;function gV(h,m,g,N){var E=P.T;P.T=null;var B=q.p;try{q.p=2,q0(h,m,g,N)}finally{q.p=B,P.T=E}}function yV(h,m,g,N){var E=P.T;P.T=null;var B=q.p;try{q.p=8,q0(h,m,g,N)}finally{q.p=B,P.T=E}}function q0(h,m,g,N){if(Aj){var E=G0(N);if(E===null)M0(h,m,N,Tj,g),zT(h,N);else if(vV(E,h,m,g,N))N.stopPropagation();else if(zT(h,N),m&4&&-1<jV.indexOf(h)){for(;E!==null;){var B=el(E);if(B!==null)switch(B.tag){case 3:if(B=B.stateNode,B.current.memoizedState.isDehydrated){var ne=Zs(B.pendingLanes);if(ne!==0){var de=B;for(de.pendingLanes|=2,de.entangledLanes|=2;ne;){var Ne=1<<31-le(ne);de.entanglements[1]|=Ne,ne&=~Ne}yl(B),(Ps&6)===0&&(mj=st()+500,Cf(0))}}break;case 13:de=Mo(B,2),de!==null&&Pn(de,B,2),fj(),U0(B,2)}if(B=G0(N),B===null&&M0(h,m,N,Tj,g),B===E)break;E=B}E!==null&&N.stopPropagation()}else M0(h,m,N,null,g)}}function G0(h){return h=Jn(h),V0(h)}var Tj=null;function V0(h){if(Tj=null,h=mo(h),h!==null){var m=i(h);if(m===null)h=null;else{var g=m.tag;if(g===13){if(h=l(m),h!==null)return h;h=null}else if(g===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;h=null}else m!==h&&(h=null)}}return Tj=h,null}function FT(h){switch(h){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(He()){case ke:return 2;case we:return 8;case Ke:case Ee:return 32;case je:return 268435456;default:return 32}default:return 32}}var W0=!1,Jo=null,ed=null,td=null,$f=new Map,Pf=new Map,sd=[],jV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zT(h,m){switch(h){case"focusin":case"focusout":Jo=null;break;case"dragenter":case"dragleave":ed=null;break;case"mouseover":case"mouseout":td=null;break;case"pointerover":case"pointerout":$f.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pf.delete(m.pointerId)}}function If(h,m,g,N,E,B){return h===null||h.nativeEvent!==B?(h={blockedOn:m,domEventName:g,eventSystemFlags:N,nativeEvent:B,targetContainers:[E]},m!==null&&(m=el(m),m!==null&&LT(m)),h):(h.eventSystemFlags|=N,m=h.targetContainers,E!==null&&m.indexOf(E)===-1&&m.push(E),h)}function vV(h,m,g,N,E){switch(m){case"focusin":return Jo=If(Jo,h,m,g,N,E),!0;case"dragenter":return ed=If(ed,h,m,g,N,E),!0;case"mouseover":return td=If(td,h,m,g,N,E),!0;case"pointerover":var B=E.pointerId;return $f.set(B,If($f.get(B)||null,h,m,g,N,E)),!0;case"gotpointercapture":return B=E.pointerId,Pf.set(B,If(Pf.get(B)||null,h,m,g,N,E)),!0}return!1}function HT(h){var m=mo(h.target);if(m!==null){var g=i(m);if(g!==null){if(m=g.tag,m===13){if(m=l(g),m!==null){h.blockedOn=m,Ax(h.priority,function(){if(g.tag===13){var N=$n();N=Rs(N);var E=Mo(g,N);E!==null&&Pn(E,g,N),U0(g,N)}});return}}else if(m===3&&g.stateNode.current.memoizedState.isDehydrated){h.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}h.blockedOn=null}function Mj(h){if(h.blockedOn!==null)return!1;for(var m=h.targetContainers;0<m.length;){var g=G0(h.nativeEvent);if(g===null){g=h.nativeEvent;var N=new g.constructor(g.type,g);$x=N,g.target.dispatchEvent(N),$x=null}else return m=el(g),m!==null&&LT(m),h.blockedOn=g,!1;m.shift()}return!0}function UT(h,m,g){Mj(h)&&g.delete(m)}function bV(){W0=!1,Jo!==null&&Mj(Jo)&&(Jo=null),ed!==null&&Mj(ed)&&(ed=null),td!==null&&Mj(td)&&(td=null),$f.forEach(UT),Pf.forEach(UT)}function Dj(h,m){h.blockedOn===m&&(h.blockedOn=null,W0||(W0=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,bV)))}var Oj=null;function qT(h){Oj!==h&&(Oj=h,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Oj===h&&(Oj=null);for(var m=0;m<h.length;m+=3){var g=h[m],N=h[m+1],E=h[m+2];if(typeof N!="function"){if(V0(N||g)===null)continue;break}var B=el(g);B!==null&&(h.splice(m,3),m-=3,V1(B,{pending:!0,data:E,method:g.method,action:N},N,E))}}))}function Bf(h){function m(Ne){return Dj(Ne,h)}Jo!==null&&Dj(Jo,h),ed!==null&&Dj(ed,h),td!==null&&Dj(td,h),$f.forEach(m),Pf.forEach(m);for(var g=0;g<sd.length;g++){var N=sd[g];N.blockedOn===h&&(N.blockedOn=null)}for(;0<sd.length&&(g=sd[0],g.blockedOn===null);)HT(g),g.blockedOn===null&&sd.shift();if(g=(h.ownerDocument||h).$$reactFormReplay,g!=null)for(N=0;N<g.length;N+=3){var E=g[N],B=g[N+1],ne=E[Re]||null;if(typeof B=="function")ne||qT(g);else if(ne){var de=null;if(B&&B.hasAttribute("formAction")){if(E=B,ne=B[Re]||null)de=ne.formAction;else if(V0(E)!==null)continue}else de=ne.action;typeof de=="function"?g[N+1]=de:(g.splice(N,3),N-=3),qT(g)}}}function Y0(h){this._internalRoot=h}Rj.prototype.render=Y0.prototype.render=function(h){var m=this._internalRoot;if(m===null)throw Error(r(409));var g=m.current,N=$n();IT(g,N,h,m,null,null)},Rj.prototype.unmount=Y0.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var m=h.containerInfo;IT(h.current,2,null,h,null,null),fj(),m[mt]=null}};function Rj(h){this._internalRoot=h}Rj.prototype.unstable_scheduleHydration=function(h){if(h){var m=hu();h={blockedOn:null,target:h,priority:m};for(var g=0;g<sd.length&&m!==0&&m<sd[g].priority;g++);sd.splice(g,0,h),g===0&&HT(h)}};var GT=t.version;if(GT!=="19.1.1")throw Error(r(527,GT,"19.1.1"));q.findDOMNode=function(h){var m=h._reactInternals;if(m===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=o(m),h=h!==null?u(h):null,h=h===null?null:h.stateNode,h};var NV={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $j=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$j.isDisabled&&$j.supportsFiber)try{nt=$j.inject(NV),It=$j}catch{}}return Ff.createRoot=function(h,m){if(!n(h))throw Error(r(299));var g=!1,N="",E=l6,B=c6,ne=o6,de=null;return m!=null&&(m.unstable_strictMode===!0&&(g=!0),m.identifierPrefix!==void 0&&(N=m.identifierPrefix),m.onUncaughtError!==void 0&&(E=m.onUncaughtError),m.onCaughtError!==void 0&&(B=m.onCaughtError),m.onRecoverableError!==void 0&&(ne=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(de=m.unstable_transitionCallbacks)),m=$T(h,1,!1,null,null,g,N,E,B,ne,de,null),h[mt]=m.current,T0(h),new Y0(m)},Ff.hydrateRoot=function(h,m,g){if(!n(h))throw Error(r(299));var N=!1,E="",B=l6,ne=c6,de=o6,Ne=null,Be=null;return g!=null&&(g.unstable_strictMode===!0&&(N=!0),g.identifierPrefix!==void 0&&(E=g.identifierPrefix),g.onUncaughtError!==void 0&&(B=g.onUncaughtError),g.onCaughtError!==void 0&&(ne=g.onCaughtError),g.onRecoverableError!==void 0&&(de=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(Ne=g.unstable_transitionCallbacks),g.formState!==void 0&&(Be=g.formState)),m=$T(h,1,!0,m,g??null,N,E,B,ne,de,Ne,Be),m.context=PT(null),g=m.current,N=$n(),N=Rs(N),E=qe(N),E.callback=null,Ze(g,E,N),g=N,m.current.lanes=g,Gs(m,g),yl(m),h[mt]=m.current,T0(h),new Rj(m)},Ff.version="19.1.1",Ff}var t3;function OV(){if(t3)return X0.exports;t3=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),X0.exports=DV(),X0.exports}var RV=OV();const $V=Va(RV);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var s3="popstate";function PV(s={}){function t(r,n){let{pathname:i,search:l,hash:c}=r.location;return Hk("",{pathname:i,search:l,hash:c},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function a(r,n){return typeof n=="string"?n:Cp(n)}return BV(t,a,null,s)}function xa(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function Hi(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function IV(){return Math.random().toString(36).substring(2,10)}function a3(s,t){return{usr:s.state,key:s.key,idx:t}}function Hk(s,t,a=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?Jm(t):t,state:a,key:t&&t.key||r||IV()}}function Cp({pathname:s="/",search:t="",hash:a=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function Jm(s){let t={};if(s){let a=s.indexOf("#");a>=0&&(t.hash=s.substring(a),s=s.substring(0,a));let r=s.indexOf("?");r>=0&&(t.search=s.substring(r),s=s.substring(0,r)),s&&(t.pathname=s)}return t}function BV(s,t,a,r={}){let{window:n=document.defaultView,v5Compat:i=!1}=r,l=n.history,c="POP",o=null,u=d();u==null&&(u=0,l.replaceState({...l.state,idx:u},""));function d(){return(l.state||{idx:null}).idx}function f(){c="POP";let v=d(),S=v==null?null:v-u;u=v,o&&o({action:c,location:k.location,delta:S})}function p(v,S){c="PUSH";let C=Hk(k.location,v,S);u=d()+1;let _=a3(C,u),A=k.createHref(C);try{l.pushState(_,"",A)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;n.location.assign(A)}i&&o&&o({action:c,location:k.location,delta:1})}function j(v,S){c="REPLACE";let C=Hk(k.location,v,S);u=d();let _=a3(C,u),A=k.createHref(C);l.replaceState(_,"",A),i&&o&&o({action:c,location:k.location,delta:0})}function y(v){return LV(v)}let k={get action(){return c},get location(){return s(n,l)},listen(v){if(o)throw new Error("A history only accepts one active listener");return n.addEventListener(s3,f),o=v,()=>{n.removeEventListener(s3,f),o=null}},createHref(v){return t(n,v)},createURL:y,encodeLocation(v){let S=y(v);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:p,replace:j,go(v){return l.go(v)}};return k}function LV(s,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),xa(a,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:Cp(s);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=a+r),new URL(r,a)}function j8(s,t,a="/"){return FV(s,t,a,!1)}function FV(s,t,a,r){let n=typeof t=="string"?Jm(t):t,i=Fc(n.pathname||"/",a);if(i==null)return null;let l=v8(s);zV(l);let c=null;for(let o=0;c==null&&o<l.length;++o){let u=ZV(i);c=QV(l[o],u,r)}return c}function v8(s,t=[],a=[],r="",n=!1){let i=(l,c,o=n,u)=>{let d={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&o)return;xa(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=Dc([r,d.relativePath]),p=a.concat(d);l.children&&l.children.length>0&&(xa(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),v8(l.children,t,p,f,o)),!(l.path==null&&!l.index)&&t.push({path:f,score:YV(f,l.index),routesMeta:p})};return s.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))i(l,c);else for(let o of b8(l.path))i(l,c,!0,o)}),t}function b8(s){let t=s.split("/");if(t.length===0)return[];let[a,...r]=t,n=a.endsWith("?"),i=a.replace(/\?$/,"");if(r.length===0)return n?[i,""]:[i];let l=b8(r.join("/")),c=[];return c.push(...l.map(o=>o===""?i:[i,o].join("/"))),n&&c.push(...l),c.map(o=>s.startsWith("/")&&o===""?"/":o)}function zV(s){s.sort((t,a)=>t.score!==a.score?a.score-t.score:KV(t.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}var HV=/^:[\w-]+$/,UV=3,qV=2,GV=1,VV=10,WV=-2,r3=s=>s==="*";function YV(s,t){let a=s.split("/"),r=a.length;return a.some(r3)&&(r+=WV),t&&(r+=qV),a.filter(n=>!r3(n)).reduce((n,i)=>n+(HV.test(i)?UV:i===""?GV:VV),r)}function KV(s,t){return s.length===t.length&&s.slice(0,-1).every((r,n)=>r===t[n])?s[s.length-1]-t[t.length-1]:0}function QV(s,t,a=!1){let{routesMeta:r}=s,n={},i="/",l=[];for(let c=0;c<r.length;++c){let o=r[c],u=c===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=zv({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},d),p=o.route;if(!f&&u&&a&&!r[r.length-1].route.index&&(f=zv({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},d)),!f)return null;Object.assign(n,f.params),l.push({params:n,pathname:Dc([i,f.pathname]),pathnameBase:sW(Dc([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Dc([i,f.pathnameBase]))}return l}function zv(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[a,r]=XV(s.path,s.caseSensitive,s.end),n=t.match(a);if(!n)return null;let i=n[0],l=i.replace(/(.)\/+$/,"$1"),c=n.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},p)=>{if(d==="*"){let y=c[p]||"";l=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const j=c[p];return f&&!j?u[d]=void 0:u[d]=(j||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:l,pattern:s}}function XV(s,t=!1,a=!0){Hi(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],n="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,o)=>(r.push({paramName:c,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),n+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":s!==""&&s!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),r]}function ZV(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hi(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function Fc(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,r=s.charAt(a);return r&&r!=="/"?null:s.slice(a)||"/"}function JV(s,t="/"){let{pathname:a,search:r="",hash:n=""}=typeof s=="string"?Jm(s):s;return{pathname:a?a.startsWith("/")?a:eW(a,t):t,search:aW(r),hash:rW(n)}}function eW(s,t){let a=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function tw(s,t,a,r){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tW(s){return s.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function B_(s){let t=tW(s);return t.map((a,r)=>r===t.length-1?a.pathname:a.pathnameBase)}function L_(s,t,a,r=!1){let n;typeof s=="string"?n=Jm(s):(n={...s},xa(!n.pathname||!n.pathname.includes("?"),tw("?","pathname","search",n)),xa(!n.pathname||!n.pathname.includes("#"),tw("#","pathname","hash",n)),xa(!n.search||!n.search.includes("#"),tw("#","search","hash",n)));let i=s===""||n.pathname==="",l=i?"/":n.pathname,c;if(l==null)c=a;else{let f=t.length-1;if(!r&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),f-=1;n.pathname=p.join("/")}c=f>=0?t[f]:"/"}let o=JV(n,c),u=l&&l!=="/"&&l.endsWith("/"),d=(i||l===".")&&a.endsWith("/");return!o.pathname.endsWith("/")&&(u||d)&&(o.pathname+="/"),o}var Dc=s=>s.join("/").replace(/\/\/+/g,"/"),sW=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),aW=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,rW=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function nW(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var N8=["POST","PUT","PATCH","DELETE"];new Set(N8);var iW=["GET",...N8];new Set(iW);var ex=x.createContext(null);ex.displayName="DataRouter";var oN=x.createContext(null);oN.displayName="DataRouterState";x.createContext(!1);var w8=x.createContext({isTransitioning:!1});w8.displayName="ViewTransition";var lW=x.createContext(new Map);lW.displayName="Fetchers";var cW=x.createContext(null);cW.displayName="Await";var Vi=x.createContext(null);Vi.displayName="Navigation";var rg=x.createContext(null);rg.displayName="Location";var Wi=x.createContext({outlet:null,matches:[],isDataRoute:!1});Wi.displayName="Route";var F_=x.createContext(null);F_.displayName="RouteError";function oW(s,{relative:t}={}){xa(tx(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:r}=x.useContext(Vi),{hash:n,pathname:i,search:l}=ng(s,{relative:t}),c=i;return a!=="/"&&(c=i==="/"?a:Dc([a,i])),r.createHref({pathname:c,search:l,hash:n})}function tx(){return x.useContext(rg)!=null}function Wa(){return xa(tx(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(rg).location}var k8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function S8(s){x.useContext(Vi).static||x.useLayoutEffect(s)}function Ut(){let{isDataRoute:s}=x.useContext(Wi);return s?NW():dW()}function dW(){xa(tx(),"useNavigate() may be used only in the context of a <Router> component.");let s=x.useContext(ex),{basename:t,navigator:a}=x.useContext(Vi),{matches:r}=x.useContext(Wi),{pathname:n}=Wa(),i=JSON.stringify(B_(r)),l=x.useRef(!1);return S8(()=>{l.current=!0}),x.useCallback((o,u={})=>{if(Hi(l.current,k8),!l.current)return;if(typeof o=="number"){a.go(o);return}let d=L_(o,JSON.parse(i),n,u.relative==="path");s==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Dc([t,d.pathname])),(u.replace?a.replace:a.push)(d,u.state,u)},[t,a,i,n,s])}x.createContext(null);function is(){let{matches:s}=x.useContext(Wi),t=s[s.length-1];return t?t.params:{}}function ng(s,{relative:t}={}){let{matches:a}=x.useContext(Wi),{pathname:r}=Wa(),n=JSON.stringify(B_(a));return x.useMemo(()=>L_(s,JSON.parse(n),r,t==="path"),[s,n,r,t])}function hW(s,t){return _8(s,t)}function _8(s,t,a,r,n){xa(tx(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(Vi),{matches:l}=x.useContext(Wi),c=l[l.length-1],o=c?c.params:{},u=c?c.pathname:"/",d=c?c.pathnameBase:"/",f=c&&c.route;{let C=f&&f.path||"";C8(u,!f||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let p=Wa(),j;if(t){let C=typeof t=="string"?Jm(t):t;xa(d==="/"||C.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${C.pathname}" was given in the \`location\` prop.`),j=C}else j=p;let y=j.pathname||"/",k=y;if(d!=="/"){let C=d.replace(/^\//,"").split("/");k="/"+y.replace(/^\//,"").split("/").slice(C.length).join("/")}let v=j8(s,{pathname:k});Hi(f||v!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Hi(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=pW(v&&v.map(C=>Object.assign({},C,{params:Object.assign({},o,C.params),pathname:Dc([d,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:Dc([d,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),l,a,r,n);return t&&S?x.createElement(rg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},S):S}function uW(){let s=bW(),t=nW(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),a=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",s),l=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:i},"ErrorBoundary")," or"," ",x.createElement("code",{style:i},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),a?x.createElement("pre",{style:n},a):null,l)}var mW=x.createElement(uW,null),xW=class extends x.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){this.props.unstable_onError?this.props.unstable_onError(s,t):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?x.createElement(Wi.Provider,{value:this.props.routeContext},x.createElement(F_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fW({routeContext:s,match:t,children:a}){let r=x.useContext(ex);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(Wi.Provider,{value:s},a)}function pW(s,t=[],a=null,r=null,n=null){if(s==null){if(!a)return null;if(a.errors)s=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)s=a.matches;else return null}let i=s,l=a?.errors;if(l!=null){let u=i.findIndex(d=>d.route.id&&l?.[d.route.id]!==void 0);xa(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,o=-1;if(a)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(o=u),d.route.id){let{loaderData:f,errors:p}=a,j=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||j){c=!0,o>=0?i=i.slice(0,o+1):i=[i[0]];break}}}return i.reduceRight((u,d,f)=>{let p,j=!1,y=null,k=null;a&&(p=l&&d.route.id?l[d.route.id]:void 0,y=d.route.errorElement||mW,c&&(o<0&&f===0?(C8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,k=null):o===f&&(j=!0,k=d.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,f+1)),S=()=>{let C;return p?C=y:j?C=k:d.route.Component?C=x.createElement(d.route.Component,null):d.route.element?C=d.route.element:C=u,x.createElement(fW,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:a!=null},children:C})};return a&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?x.createElement(xW,{location:a.location,revalidation:a.revalidation,component:y,error:p,children:S(),routeContext:{outlet:null,matches:v,isDataRoute:!0},unstable_onError:r}):S()},null)}function z_(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gW(s){let t=x.useContext(ex);return xa(t,z_(s)),t}function yW(s){let t=x.useContext(oN);return xa(t,z_(s)),t}function jW(s){let t=x.useContext(Wi);return xa(t,z_(s)),t}function H_(s){let t=jW(s),a=t.matches[t.matches.length-1];return xa(a.route.id,`${s} can only be used on routes that contain a unique "id"`),a.route.id}function vW(){return H_("useRouteId")}function bW(){let s=x.useContext(F_),t=yW("useRouteError"),a=H_("useRouteError");return s!==void 0?s:t.errors?.[a]}function NW(){let{router:s}=gW("useNavigate"),t=H_("useNavigate"),a=x.useRef(!1);return S8(()=>{a.current=!0}),x.useCallback(async(n,i={})=>{Hi(a.current,k8),a.current&&(typeof n=="number"?s.navigate(n):await s.navigate(n,{fromRouteId:t,...i}))},[s,t])}var n3={};function C8(s,t,a){!t&&!n3[s]&&(n3[s]=!0,Hi(!1,a))}x.memo(wW);function wW({routes:s,future:t,state:a,unstable_onError:r}){return _8(s,void 0,a,r,t)}function Uk({to:s,replace:t,state:a,relative:r}){xa(tx(),"<Navigate> may be used only in the context of a <Router> component.");let{static:n}=x.useContext(Vi);Hi(!n,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=x.useContext(Wi),{pathname:l}=Wa(),c=Ut(),o=L_(s,B_(i),l,r==="path"),u=JSON.stringify(o);return x.useEffect(()=>{c(JSON.parse(u),{replace:t,state:a,relative:r})},[c,u,r,t,a]),null}function it(s){xa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kW({basename:s="/",children:t=null,location:a,navigationType:r="POP",navigator:n,static:i=!1}){xa(!tx(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=s.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:l,navigator:n,static:i,future:{}}),[l,n,i]);typeof a=="string"&&(a=Jm(a));let{pathname:o="/",search:u="",hash:d="",state:f=null,key:p="default"}=a,j=x.useMemo(()=>{let y=Fc(o,l);return y==null?null:{location:{pathname:y,search:u,hash:d,state:f,key:p},navigationType:r}},[l,o,u,d,f,p,r]);return Hi(j!=null,`<Router basename="${l}"> is not able to match the URL "${o}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:x.createElement(Vi.Provider,{value:c},x.createElement(rg.Provider,{children:t,value:j}))}function SW({children:s,location:t}){return hW(qk(s),t)}function qk(s,t=[]){let a=[];return x.Children.forEach(s,(r,n)=>{if(!x.isValidElement(r))return;let i=[...t,n];if(r.type===x.Fragment){a.push.apply(a,qk(r.props.children,i));return}xa(r.type===it,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xa(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=qk(r.props.children,i)),a.push(l)}),a}var wv="get",kv="application/x-www-form-urlencoded";function dN(s){return s!=null&&typeof s.tagName=="string"}function _W(s){return dN(s)&&s.tagName.toLowerCase()==="button"}function CW(s){return dN(s)&&s.tagName.toLowerCase()==="form"}function EW(s){return dN(s)&&s.tagName.toLowerCase()==="input"}function AW(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function TW(s,t){return s.button===0&&(!t||t==="_self")&&!AW(s)}var Pj=null;function MW(){if(Pj===null)try{new FormData(document.createElement("form"),0),Pj=!1}catch{Pj=!0}return Pj}var DW=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sw(s){return s!=null&&!DW.has(s)?(Hi(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kv}"`),null):s}function OW(s,t){let a,r,n,i,l;if(CW(s)){let c=s.getAttribute("action");r=c?Fc(c,t):null,a=s.getAttribute("method")||wv,n=sw(s.getAttribute("enctype"))||kv,i=new FormData(s)}else if(_W(s)||EW(s)&&(s.type==="submit"||s.type==="image")){let c=s.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=s.getAttribute("formaction")||c.getAttribute("action");if(r=o?Fc(o,t):null,a=s.getAttribute("formmethod")||c.getAttribute("method")||wv,n=sw(s.getAttribute("formenctype"))||sw(c.getAttribute("enctype"))||kv,i=new FormData(c,s),!MW()){let{name:u,type:d,value:f}=s;if(d==="image"){let p=u?`${u}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else u&&i.append(u,f)}}else{if(dN(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=wv,r=null,n=kv,l=s}return i&&n==="text/plain"&&(l=i,i=void 0),{action:r,method:a.toLowerCase(),encType:n,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function U_(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function RW(s,t,a){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname=`_root.${a}`:t&&Fc(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${a}`,r}async function $W(s,t){if(s.id in t)return t[s.id];try{let a=await import(s.module);return t[s.id]=a,a}catch(a){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PW(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function IW(s,t,a){let r=await Promise.all(s.map(async n=>{let i=t.routes[n.route.id];if(i){let l=await $W(i,a);return l.links?l.links():[]}return[]}));return zW(r.flat(1).filter(PW).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function i3(s,t,a,r,n,i){let l=(o,u)=>a[u]?o.route.id!==a[u].route.id:!0,c=(o,u)=>a[u].pathname!==o.pathname||a[u].route.path?.endsWith("*")&&a[u].params["*"]!==o.params["*"];return i==="assets"?t.filter((o,u)=>l(o,u)||c(o,u)):i==="data"?t.filter((o,u)=>{let d=r.routes[o.route.id];if(!d||!d.hasLoader)return!1;if(l(o,u)||c(o,u))return!0;if(o.route.shouldRevalidate){let f=o.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:o.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function BW(s,t,{includeHydrateFallback:a}={}){return LW(s.map(r=>{let n=t.routes[r.route.id];if(!n)return[];let i=[n.module];return n.clientActionModule&&(i=i.concat(n.clientActionModule)),n.clientLoaderModule&&(i=i.concat(n.clientLoaderModule)),a&&n.hydrateFallbackModule&&(i=i.concat(n.hydrateFallbackModule)),n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function LW(s){return[...new Set(s)]}function FW(s){let t={},a=Object.keys(s).sort();for(let r of a)t[r]=s[r];return t}function zW(s,t){let a=new Set;return new Set(t),s.reduce((r,n)=>{let i=JSON.stringify(FW(n));return a.has(i)||(a.add(i),r.push({key:i,link:n})),r},[])}function E8(){let s=x.useContext(ex);return U_(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function HW(){let s=x.useContext(oN);return U_(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var q_=x.createContext(void 0);q_.displayName="FrameworkContext";function A8(){let s=x.useContext(q_);return U_(s,"You must render this element inside a <HydratedRouter> element"),s}function UW(s,t){let a=x.useContext(q_),[r,n]=x.useState(!1),[i,l]=x.useState(!1),{onFocus:c,onBlur:o,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,p=x.useRef(null);x.useEffect(()=>{if(s==="render"&&l(!0),s==="viewport"){let k=S=>{S.forEach(C=>{l(C.isIntersecting)})},v=new IntersectionObserver(k,{threshold:.5});return p.current&&v.observe(p.current),()=>{v.disconnect()}}},[s]),x.useEffect(()=>{if(r){let k=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(k)}}},[r]);let j=()=>{n(!0)},y=()=>{n(!1),l(!1)};return a?s!=="intent"?[i,p,{}]:[i,p,{onFocus:zf(c,j),onBlur:zf(o,y),onMouseEnter:zf(u,j),onMouseLeave:zf(d,y),onTouchStart:zf(f,j)}]:[!1,p,{}]}function zf(s,t){return a=>{s&&s(a),a.defaultPrevented||t(a)}}function qW({page:s,...t}){let{router:a}=E8(),r=x.useMemo(()=>j8(a.routes,s,a.basename),[a.routes,s,a.basename]);return r?x.createElement(VW,{page:s,matches:r,...t}):null}function GW(s){let{manifest:t,routeModules:a}=A8(),[r,n]=x.useState([]);return x.useEffect(()=>{let i=!1;return IW(s,t,a).then(l=>{i||n(l)}),()=>{i=!0}},[s,t,a]),r}function VW({page:s,matches:t,...a}){let r=Wa(),{manifest:n,routeModules:i}=A8(),{basename:l}=E8(),{loaderData:c,matches:o}=HW(),u=x.useMemo(()=>i3(s,t,o,n,r,"data"),[s,t,o,n,r]),d=x.useMemo(()=>i3(s,t,o,n,r,"assets"),[s,t,o,n,r]),f=x.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let y=new Set,k=!1;if(t.forEach(S=>{let C=n.routes[S.route.id];!C||!C.hasLoader||(!u.some(_=>_.route.id===S.route.id)&&S.route.id in c&&i[S.route.id]?.shouldRevalidate||C.hasClientLoader?k=!0:y.add(S.route.id))}),y.size===0)return[];let v=RW(s,l,"data");return k&&y.size>0&&v.searchParams.set("_routes",t.filter(S=>y.has(S.route.id)).map(S=>S.route.id).join(",")),[v.pathname+v.search]},[l,c,r,n,u,t,s,i]),p=x.useMemo(()=>BW(d,n),[d,n]),j=GW(d);return x.createElement(x.Fragment,null,f.map(y=>x.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...a})),p.map(y=>x.createElement("link",{key:y,rel:"modulepreload",href:y,...a})),j.map(({key:y,link:k})=>x.createElement("link",{key:y,nonce:a.nonce,...k})))}function WW(...s){return t=>{s.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var T8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{T8&&(window.__reactRouterVersion="7.8.2")}catch{}function YW({basename:s,children:t,window:a}){let r=x.useRef();r.current==null&&(r.current=PV({window:a,v5Compat:!0}));let n=r.current,[i,l]=x.useState({action:n.action,location:n.location}),c=x.useCallback(o=>{x.startTransition(()=>l(o))},[l]);return x.useLayoutEffect(()=>n.listen(c),[n,c]),x.createElement(kW,{basename:s,children:t,location:i.location,navigationType:i.action,navigator:n})}var M8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xe=x.forwardRef(function({onClick:t,discover:a="render",prefetch:r="none",relative:n,reloadDocument:i,replace:l,state:c,target:o,to:u,preventScrollReset:d,viewTransition:f,...p},j){let{basename:y}=x.useContext(Vi),k=typeof u=="string"&&M8.test(u),v,S=!1;if(typeof u=="string"&&k&&(v=u,T8))try{let Q=new URL(window.location.href),I=u.startsWith("//")?new URL(Q.protocol+u):new URL(u),H=Fc(I.pathname,y);I.origin===Q.origin&&H!=null?u=H+I.search+I.hash:S=!0}catch{Hi(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=oW(u,{relative:n}),[_,A,D]=UW(r,p),M=ZW(u,{replace:l,state:c,target:o,preventScrollReset:d,relative:n,viewTransition:f});function L(Q){t&&t(Q),Q.defaultPrevented||M(Q)}let F=x.createElement("a",{...p,...D,href:v||C,onClick:S||i?t:L,ref:WW(j,A),target:o,"data-discover":!k&&a==="render"?"true":void 0});return _&&!k?x.createElement(x.Fragment,null,F,x.createElement(qW,{page:C})):F});xe.displayName="Link";var KW=x.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:r="",end:n=!1,style:i,to:l,viewTransition:c,children:o,...u},d){let f=ng(l,{relative:u.relative}),p=Wa(),j=x.useContext(oN),{navigator:y,basename:k}=x.useContext(Vi),v=j!=null&&aY(f)&&c===!0,S=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,C=p.pathname,_=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;a||(C=C.toLowerCase(),_=_?_.toLowerCase():null,S=S.toLowerCase()),_&&k&&(_=Fc(_,k)||_);const A=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let D=C===S||!n&&C.startsWith(S)&&C.charAt(A)==="/",M=_!=null&&(_===S||!n&&_.startsWith(S)&&_.charAt(S.length)==="/"),L={isActive:D,isPending:M,isTransitioning:v},F=D?t:void 0,Q;typeof r=="function"?Q=r(L):Q=[r,D?"active":null,M?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let I=typeof i=="function"?i(L):i;return x.createElement(xe,{...u,"aria-current":F,className:Q,ref:d,style:I,to:l,viewTransition:c},typeof o=="function"?o(L):o)});KW.displayName="NavLink";var QW=x.forwardRef(({discover:s="render",fetcherKey:t,navigate:a,reloadDocument:r,replace:n,state:i,method:l=wv,action:c,onSubmit:o,relative:u,preventScrollReset:d,viewTransition:f,...p},j)=>{let y=tY(),k=sY(c,{relative:u}),v=l.toLowerCase()==="get"?"get":"post",S=typeof c=="string"&&M8.test(c),C=_=>{if(o&&o(_),_.defaultPrevented)return;_.preventDefault();let A=_.nativeEvent.submitter,D=A?.getAttribute("formmethod")||l;y(A||_.currentTarget,{fetcherKey:t,method:D,navigate:a,replace:n,state:i,relative:u,preventScrollReset:d,viewTransition:f})};return x.createElement("form",{ref:j,method:v,action:k,onSubmit:r?o:C,...p,"data-discover":!S&&s==="render"?"true":void 0})});QW.displayName="Form";function XW(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D8(s){let t=x.useContext(ex);return xa(t,XW(s)),t}function ZW(s,{target:t,replace:a,state:r,preventScrollReset:n,relative:i,viewTransition:l}={}){let c=Ut(),o=Wa(),u=ng(s,{relative:i});return x.useCallback(d=>{if(TW(d,t)){d.preventDefault();let f=a!==void 0?a:Cp(o)===Cp(u);c(s,{replace:f,state:r,preventScrollReset:n,relative:i,viewTransition:l})}},[o,c,u,a,r,t,s,n,i,l])}var JW=0,eY=()=>`__${String(++JW)}__`;function tY(){let{router:s}=D8("useSubmit"),{basename:t}=x.useContext(Vi),a=vW();return x.useCallback(async(r,n={})=>{let{action:i,method:l,encType:c,formData:o,body:u}=OW(r,t);if(n.navigate===!1){let d=n.fetcherKey||eY();await s.fetch(d,a,n.action||i,{preventScrollReset:n.preventScrollReset,formData:o,body:u,formMethod:n.method||l,formEncType:n.encType||c,flushSync:n.flushSync})}else await s.navigate(n.action||i,{preventScrollReset:n.preventScrollReset,formData:o,body:u,formMethod:n.method||l,formEncType:n.encType||c,replace:n.replace,state:n.state,fromRouteId:a,flushSync:n.flushSync,viewTransition:n.viewTransition})},[s,t,a])}function sY(s,{relative:t}={}){let{basename:a}=x.useContext(Vi),r=x.useContext(Wi);xa(r,"useFormAction must be used inside a RouteContext");let[n]=r.matches.slice(-1),i={...ng(s||".",{relative:t})},l=Wa();if(s==null){i.search=l.search;let c=new URLSearchParams(i.search),o=c.getAll("index");if(o.some(d=>d==="")){c.delete("index"),o.filter(f=>f).forEach(f=>c.append("index",f));let d=c.toString();i.search=d?`?${d}`:""}}return(!s||s===".")&&n.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(i.pathname=i.pathname==="/"?a:Dc([a,i.pathname])),Cp(i)}function aY(s,{relative:t}={}){let a=x.useContext(w8);xa(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=D8("useViewTransitionState"),n=ng(s,{relative:t});if(!a.isTransitioning)return!1;let i=Fc(a.currentLocation.pathname,r)||a.currentLocation.pathname,l=Fc(a.nextLocation.pathname,r)||a.nextLocation.pathname;return zv(n.pathname,l)!=null||zv(n.pathname,i)!=null}var Ep=y8();const kh=Va(Ep),rY="/assets/imageHero-HDf6k1Kz.jpg",nY="/assets/structure1-8k60Vkwn.webp",iY="/assets/structure2-BdauRH_U.png",lY="/assets/structure3-BqkqgBi2.webp",cY="/assets/structure4-Dch5Wive.webp",oY="/assets/structure5-BSEjP1RS.webp",dY="/assets/user1-DJELBs7l.jpg",hY="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4gKgSUNDX1BST0ZJTEUAAQEAAAKQbGNtcwQwAABtbnRyUkdCIFhZWiAH3wAIABMAEgAWADFhY3NwQVBQTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA9tYAAQAAAADTLWxjbXMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtkZXNjAAABCAAAADhjcHJ0AAABQAAAAE53dHB0AAABkAAAABRjaGFkAAABpAAAACxyWFlaAAAB0AAAABRiWFlaAAAB5AAAABRnWFlaAAAB+AAAABRyVFJDAAACDAAAACBnVFJDAAACLAAAACBiVFJDAAACTAAAACBjaHJtAAACbAAAACRtbHVjAAAAAAAAAAEAAAAMZW5VUwAAABwAAAAcAHMAUgBHAEIAIABiAHUAaQBsAHQALQBpAG4AAG1sdWMAAAAAAAAAAQAAAAxlblVTAAAAMgAAABwATgBvACAAYwBvAHAAeQByAGkAZwBoAHQALAAgAHUAcwBlACAAZgByAGUAZQBsAHkAAAAAWFlaIAAAAAAAAPbWAAEAAAAA0y1zZjMyAAAAAAABDEoAAAXj///zKgAAB5sAAP2H///7ov///aMAAAPYAADAlFhZWiAAAAAAAABvlAAAOO4AAAOQWFlaIAAAAAAAACSdAAAPgwAAtr5YWVogAAAAAAAAYqUAALeQAAAY3nBhcmEAAAAAAAMAAAACZmYAAPKnAAANWQAAE9AAAApbcGFyYQAAAAAAAwAAAAJmZgAA8qcAAA1ZAAAT0AAACltwYXJhAAAAAAADAAAAAmZmAADypwAADVkAABPQAAAKW2Nocm0AAAAAAAMAAAAAo9cAAFR7AABMzQAAmZoAACZmAAAPXP/bAEMACAYGBwYFCAcHBwkJCAoMFA0MCwsMGRITDxQdGh8eHRocHCAkLicgIiwjHBwoNyksMDE0NDQfJzk9ODI8LjM0Mv/bAEMBCQkJDAsMGA0NGDIhHCEyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMv/AABEIAIAAgAMBIgACEQEDEQH/xAAcAAABBAMBAAAAAAAAAAAAAAABAAUGBwIDBAj/xAA2EAABAwMBBgMHAwQDAQAAAAABAAIDBAUREgYTITFBUSJxgRQyYZGxwdEHQqEkUmLhFRYjkv/EABoBAAIDAQEAAAAAAAAAAAAAAAIDAAEEBQb/xAAkEQACAgIDAAEEAwAAAAAAAAAAAQIRAyEEEjETBSJRcTJBYf/aAAwDAQACEQMRAD8AuIIoIogAooIqygorB72xsc97g1rRkk9FFrlfnVD3Rwu0Qj5uQyko+hRi5eEjlr6aEkOlBI6N4rSbpCG6j4R0zzPoFEIpZpn+Ahv+TuJ9E9Qtipodc0haD15ud5BI+Vsb8aXoq/a6GgJ1UsrgBknTj6rgp/1JtEkgjnbNTk9Xxkt/+m5Cbrvbam9sc2XeU9G0jTFry6Q9M/hddk/T6kpId7UwNmqJCOBOGxjoD3KLvIroiX0VxprhCJaeVr2njlpyutR+k2dlttQZ4KwMZpwIGjwD5lbI785leaSppZWHmJG+JpHfKYppgOLQ9pIAhwBHIpIwBJFJBQhgiEAiFRYQkgmzaCuNDaZHsOJHeBvmVG6VkSt0Me0l93spoqY5Y0+N3Qn8JgjdrcA3xOPU9f8AS485Jy4c8ucep/CzirNBIh4D9zz1WGU7dmyMElRIIXspeBw+fGeJ4N8/wtsEstTUtHFzz1Pb7BNVHvJQA0EAnOo83fH/AGpBR7qniw14yfekz9+qFMNxHiljYwjhqc3kTxPxwnaIZA+6ZoJWDGhjnZ68gnaEvewftHw4BOixTVGc2GsOdI4c3KFXmSuq75Rw0kQ3EWZKieQaQG8g0D4n7KauaGgiNu8eeJJPBN89JLUN8btWg5HDAL++OwUZSMbTWxV9vZNFqxyIcMEELuTdTBtNUbiP3A0D5BOC0QdozzVMWUksoIwTBFBIKEMlFdtJSIKaMHHEuKlKg+3Ly6rgizhugl3wHVLyv7WMxK5Ih8k2+IAJEecNGeLvj5LvoossDsZHl9E2x6ZZNTvDGPp2WFde45P6WlqI4tPAZIGT6rAb0vwSiOox4RgA+84nn6ruiuAhLdA1n+5x5Kt6SsrYagtqqkyuJ8Jxj+FLpIql9qM0b9GW8Ceioaoa2TigrXStDsMb8SOKeYtUgGpxLe5+wVQ2eouftIabs52T7ugHPqrOtNNX7gb+r3zSPE1zNJPljknQaehGSFDo6piax5Em7iZ78h+gXJV1OId7lzIgzIYOePyue4QvxGGs8OsAN6D/ACPfH1QinirgZmODoi4Mb5BFYlqjfSsc58kjxgkN4dua61wWWqFbb2VGCDM4uAPMN6LsJ4p+LwRlM8pZWGUU0UBFYhFUWFV/t0S67xR8muhGT8MqwFDNvKJz4IqxgyWjQ49uyXl3EbidSKxrp31VWaKnJaxoySO6aX7INZG9swlcHuD3OyMkjlxKdLWA2uqJH/3NH8KRVNWz2XJ7LCm1tHSUIyWyL0NvdC6CnBeQHjRqOSB2VwVdnd/1YwRt/wDQx8Pkq4sX9XdoXubpZrGCeo7q7i3eW0OjbqLW8B3RRjdkm+tJHn6usdbV1JY6rnpmBww5jT4QPLn6q09jLdcKBsRgv0lZSFgaaaoYXBuBza4kuB7g5HwCa6y50tRWvi3ZjeHYc1wwQVMdm42NaC3lhXBu6JkikuzHS4QuNuqCPf3biPPCqj9OdonubHa6txLyXkPJ65JH1x6K27tKYrXVPAyRE/A7nBVE7OUEtJtDSs0k6JwHO8zghMemZ6bjZcdqjZT0jo2DAY4tC68rVBHuosY4klx81sWnGqiYcjuRkllAIhGCBFBFUWFc9dSR11FLTyDLXtI8l0BJUXZRt4tNRZ7hPFI3Trw5p6HHBcEk0jgwO93l6q3tsrJ/y1oL4WZqYTqZ8R1H0VRVEDKqikgkaQRkdiCsOWHWR0+Pk7RFRzVNHXQmNwc1pHAHBVq2m+19QIzTgMhaMFsjclx+ap2wW6gn3dNXvqIpA7G+DstcB9CrVtVqsVDa4Zpa2eUmPIDS4knIzgD4FUou9Dvtqpe/oZ9qrfUR1Elw3ZDy7UeGAVKtibgKi3skzwPDj0KiV7ornc6xk8EtdTW+QhraSZ+S49SW8cAeamWzlsFupBG39ztXkotSKl/CmO21N3pbLs7U3GtL/Z4tOsMGScuAwB6qK7JUrbs1t6ex+5kOuESBoceJ4uDeGfJP+1NpO0NLSWyRgNE6cS1Rzza3iGjzOPknKCnipadkEEbY4o2hrWtGAAFojj7O2YJ5eq6oyKCywlhaTIBEJJKEMQigEVRYUViioQJAIIPVVrtzYW0FY2507cQVLtMoH7X9/X6hWVlcl0pKWvtlRTVuPZ3sOs5xpxx1A9COaDJDtGhuKbhKyjW2uT2newSuZq544g+in2ytGYpGzTPMj28WgNAwofRV0cFU6F7w5oOGudw1DoVPbRdKCBrdU0eojg1pyT6BYbr+zsd5dKRIvZN6/ey4yPhyXRTx+PDeXfssaZz6wBzssj6N6nzTiyJrAABgI1vaMrdaZp06SQTniktkvv5WtbIO4o5+RVJgwkikjAAkigVCGsJZWuSaOGMySvaxg5uccAJiqtqqeNxbSxOmP9x8I/KCU4x9DjCUvESIJuvG0Fp2fp2zXWvhpWPzo3h4uxzwBxKi1XtTcJGnS5sDe7Bx+ZVD7WX+p2gvs1TNM+VkZ3cOp2fCD9+amOayPReTG4LZaF2/XVjKmRlotTZIG5DZal5Bce+kch5lcLNqL5erSJrhXPd7SNRiYA2No6AAKocHGOqs21NJs1K3HERgfwg5T6xSQzixTk2zAtEziCn6wwbmoa4DHHoE1tgO9BA9FJLfTua0ODeK5sjpw0WFaagua0Ek+akAcC3KiNnbI0AkKTsfiLJTsb0IyrZue3U3yULuW39stV+fbKlkmmMAPmZ4sPPTCeNoL9HZbPUVbiCWN8I7novPE9TLVVktTM4ukkLnuJ6kldPg4fkk2/DncyfSKr09C2zaizXZzI6SvidM/lE7wv8AkU7rznsdUvG1Nvbk5FWz6r0O2XuPkj5EYYpJJ+isPfIm6NqCQcDySSk0/A2mvStrpepLtWu0kimYcRt+5+K1sZlqa6LmMp13ga1cuUnJ2zrQioqkM21VULfs7VzA4foLWeZ4fdUnjAHmrI/Uiv8A6OmpQffeXkfAD8lVyBlkY75K6XDhWO/yc7ly++vwGMZljGM5I+qvWlpab2eMNiDQGjgAqNb4J2EftwR6cV6Et0Daihp5WjwyRtcPUIebGkhnCabZjTWykmOHsHDkU7U9BHF7ucLXFTljuSc4W8srnUb26OmmeI2Dgt7qzIw44C1BgwmLaq7w2a0S1Dj4sYYM8S7oEyKb0hcmvWRD9S9pI6qaCz0rsiM7ydw79B6c/kq/Mni7cM/RYmd9XUyVEpJe4l7s9StD3nWT105+y9NxsXw4lE8/nyfLkch32Lk07X21zjw3+r5L0HHUa25yvPWxzc7YW9nYk/wVdrKgsAHRcn6lKpx/R0+BG4N/6P8AFL4hxTg2IvZkc1HqSoy8EqUUUgfGFjxt3o0ZUq2f/9k=",uY="/assets/user3-D4BwYog9.jpg";var aw={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var l3;function mY(){return l3||(l3=1,(function(s){(function(){var t={}.hasOwnProperty;function a(){for(var i="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(i=n(i,r(c)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return a.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var l="";for(var c in i)t.call(i,c)&&i[c]&&(l=n(l,c));return l}function n(i,l){return l?i?i+" "+l:i+l:i}s.exports?(a.default=a,s.exports=a):window.classNames=a})()})(aw)),aw.exports}var xY=mY();const ct=Va(xY);function Gk(){return Gk=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},Gk.apply(null,arguments)}function O8(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}function c3(s){return"default"+s.charAt(0).toUpperCase()+s.substr(1)}function fY(s){var t=pY(s,"string");return typeof t=="symbol"?t:String(t)}function pY(s,t){if(typeof s!="object"||s===null)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}function R8(s,t,a){var r=x.useRef(s!==void 0),n=x.useState(t),i=n[0],l=n[1],c=s!==void 0,o=r.current;return r.current=c,!c&&o&&i!==t&&l(t),[c?s:i,x.useCallback(function(u){for(var d=arguments.length,f=new Array(d>1?d-1:0),p=1;p<d;p++)f[p-1]=arguments[p];a&&a.apply(void 0,[u].concat(f)),l(u)},[a])]}function su(s,t){return Object.keys(t).reduce(function(a,r){var n,i=a,l=i[c3(r)],c=i[r],o=O8(i,[c3(r),r].map(fY)),u=t[r],d=R8(c,l,s[u]),f=d[0],p=d[1];return Gk({},o,(n={},n[r]=f,n[u]=p,n))},s)}function Vk(s,t){return Vk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},Vk(s,t)}function gY(s,t){s.prototype=Object.create(t.prototype),s.prototype.constructor=s,Vk(s,t)}const yY=["xxl","xl","lg","md","sm","xs"],jY="xs",ig=x.createContext({prefixes:{},breakpoints:yY,minBreakpoint:jY}),{Consumer:B4e,Provider:L4e}=ig;function ut(s,t){const{prefixes:a}=x.useContext(ig);return s||a[t]||t}function $8(){const{breakpoints:s}=x.useContext(ig);return s}function P8(){const{minBreakpoint:s}=x.useContext(ig);return s}function hN(){const{dir:s}=x.useContext(ig);return s==="rtl"}function sx(s){return s&&s.ownerDocument||document}function vY(s){var t=sx(s);return t&&t.defaultView||window}function bY(s,t){return vY(s).getComputedStyle(s,t)}var NY=/([A-Z])/g;function wY(s){return s.replace(NY,"-$1").toLowerCase()}var kY=/^ms-/;function Ij(s){return wY(s).replace(kY,"-ms-")}var SY=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function _Y(s){return!!(s&&SY.test(s))}function Oc(s,t){var a="",r="";if(typeof t=="string")return s.style.getPropertyValue(Ij(t))||bY(s).getPropertyValue(Ij(t));Object.keys(t).forEach(function(n){var i=t[n];!i&&i!==0?s.style.removeProperty(Ij(n)):_Y(n)?r+=n+"("+i+") ":a+=Ij(n)+": "+i+";"}),r&&(a+="transform: "+r+";"),s.style.cssText+=";"+a}var rw={exports:{}},nw,o3;function CY(){if(o3)return nw;o3=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return nw=s,nw}var iw,d3;function EY(){if(d3)return iw;d3=1;var s=CY();function t(){}function a(){}return a.resetWarningCache=t,iw=function(){function r(l,c,o,u,d,f){if(f!==s){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function n(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:n,element:r,elementType:r,instanceOf:n,node:r,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:a,resetWarningCache:t};return i.PropTypes=i,i},iw}var h3;function AY(){return h3||(h3=1,rw.exports=EY()()),rw.exports}var TY=AY();const ka=Va(TY),u3={disabled:!1},I8=Fs.createContext(null);var MY=function(t){return t.scrollTop},np="unmounted",id="exited",hi="entering",kc="entered",Em="exiting",Jc=(function(s){gY(t,s);function t(r,n){var i;i=s.call(this,r,n)||this;var l=n,c=l&&!l.isMounting?r.enter:r.appear,o;return i.appearStatus=null,r.in?c?(o=id,i.appearStatus=hi):o=kc:r.unmountOnExit||r.mountOnEnter?o=np:o=id,i.state={status:o},i.nextCallback=null,i}t.getDerivedStateFromProps=function(n,i){var l=n.in;return l&&i.status===np?{status:id}:null};var a=t.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(n){var i=null;if(n!==this.props){var l=this.state.status;this.props.in?l!==hi&&l!==kc&&(i=hi):(l===hi||l===kc)&&(i=Em)}this.updateStatus(!1,i)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var n=this.props.timeout,i,l,c;return i=l=c=n,n!=null&&typeof n!="number"&&(i=n.exit,l=n.enter,c=n.appear!==void 0?n.appear:l),{exit:i,enter:l,appear:c}},a.updateStatus=function(n,i){if(n===void 0&&(n=!1),i!==null)if(this.cancelNextCallback(),i===hi){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:kh.findDOMNode(this);l&&MY(l)}this.performEnter(n)}else this.performExit();else this.props.unmountOnExit&&this.state.status===id&&this.setState({status:np})},a.performEnter=function(n){var i=this,l=this.props.enter,c=this.context?this.context.isMounting:n,o=this.props.nodeRef?[c]:[kh.findDOMNode(this),c],u=o[0],d=o[1],f=this.getTimeouts(),p=c?f.appear:f.enter;if(!n&&!l||u3.disabled){this.safeSetState({status:kc},function(){i.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:hi},function(){i.props.onEntering(u,d),i.onTransitionEnd(p,function(){i.safeSetState({status:kc},function(){i.props.onEntered(u,d)})})})},a.performExit=function(){var n=this,i=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:kh.findDOMNode(this);if(!i||u3.disabled){this.safeSetState({status:id},function(){n.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:Em},function(){n.props.onExiting(c),n.onTransitionEnd(l.exit,function(){n.safeSetState({status:id},function(){n.props.onExited(c)})})})},a.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(n,i){i=this.setNextCallback(i),this.setState(n,i)},a.setNextCallback=function(n){var i=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,i.nextCallback=null,n(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},a.onTransitionEnd=function(n,i){this.setNextCallback(i);var l=this.props.nodeRef?this.props.nodeRef.current:kh.findDOMNode(this),c=n==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],u=o[0],d=o[1];this.props.addEndListener(u,d)}n!=null&&setTimeout(this.nextCallback,n)},a.render=function(){var n=this.state.status;if(n===np)return null;var i=this.props,l=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var c=O8(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Fs.createElement(I8.Provider,{value:null},typeof l=="function"?l(n,c):Fs.cloneElement(Fs.Children.only(l),c))},t})(Fs.Component);Jc.contextType=I8;Jc.propTypes={};function lm(){}Jc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:lm,onEntering:lm,onEntered:lm,onExit:lm,onExiting:lm,onExited:lm};Jc.UNMOUNTED=np;Jc.EXITED=id;Jc.ENTERING=hi;Jc.ENTERED=kc;Jc.EXITING=Em;function B8(s){return s.code==="Escape"||s.keyCode===27}function DY(){const s=x.version.split(".");return{major:+s[0],minor:+s[1],patch:+s[2]}}function au(s){if(!s||typeof s=="function")return null;const{major:t}=DY();return t>=19?s.props.ref:s.ref}const ax=!!(typeof window<"u"&&window.document&&window.document.createElement);var Wk=!1,Yk=!1;try{var lw={get passive(){return Wk=!0},get once(){return Yk=Wk=!0}};ax&&(window.addEventListener("test",lw,lw),window.removeEventListener("test",lw,!0))}catch{}function G_(s,t,a,r){if(r&&typeof r!="boolean"&&!Yk){var n=r.once,i=r.capture,l=a;!Yk&&n&&(l=a.__once||function c(o){this.removeEventListener(t,c,i),a.call(this,o)},a.__once=l),s.addEventListener(t,l,Wk?r:i)}s.addEventListener(t,a,r)}function Kk(s,t,a,r){var n=r&&typeof r!="boolean"?r.capture:r;s.removeEventListener(t,a,n),a.__once&&s.removeEventListener(t,a.__once,n)}function _c(s,t,a,r){return G_(s,t,a,r),function(){Kk(s,t,a,r)}}function OY(s,t,a,r){if(r===void 0&&(r=!0),s){var n=document.createEvent("HTMLEvents");n.initEvent(t,a,r),s.dispatchEvent(n)}}function RY(s){var t=Oc(s,"transitionDuration")||"",a=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*a}function $Y(s,t,a){a===void 0&&(a=5);var r=!1,n=setTimeout(function(){r||OY(s,"transitionend",!0)},t+a),i=_c(s,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(n),i()}}function L8(s,t,a,r){a==null&&(a=RY(s)||0);var n=$Y(s,a,r),i=_c(s,"transitionend",t);return function(){n(),i()}}function m3(s,t){const a=Oc(s,t)||"",r=a.indexOf("ms")===-1?1e3:1;return parseFloat(a)*r}function V_(s,t){const a=m3(s,"transitionDuration"),r=m3(s,"transitionDelay"),n=L8(s,i=>{i.target===s&&(n(),t(i))},a+r)}function Hf(...s){return s.filter(t=>t!=null).reduce((t,a)=>{if(typeof a!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?a:function(...n){t.apply(this,n),a.apply(this,n)}},null)}function F8(s){s.offsetHeight}const x3=s=>!s||typeof s=="function"?s:t=>{s.current=t};function PY(s,t){const a=x3(s),r=x3(t);return n=>{a&&a(n),r&&r(n)}}function rx(s,t){return x.useMemo(()=>PY(s,t),[s,t])}function Hv(s){return s&&"setState"in s?kh.findDOMNode(s):s??null}const uN=Fs.forwardRef(({onEnter:s,onEntering:t,onEntered:a,onExit:r,onExiting:n,onExited:i,addEndListener:l,children:c,childRef:o,...u},d)=>{const f=x.useRef(null),p=rx(f,o),j=M=>{p(Hv(M))},y=M=>L=>{M&&f.current&&M(f.current,L)},k=x.useCallback(y(s),[s]),v=x.useCallback(y(t),[t]),S=x.useCallback(y(a),[a]),C=x.useCallback(y(r),[r]),_=x.useCallback(y(n),[n]),A=x.useCallback(y(i),[i]),D=x.useCallback(y(l),[l]);return e.jsx(Jc,{ref:d,...u,onEnter:k,onEntered:S,onEntering:v,onExit:C,onExited:A,onExiting:_,addEndListener:D,nodeRef:f,children:typeof c=="function"?(M,L)=>c(M,{...L,ref:j}):Fs.cloneElement(c,{ref:j})})});uN.displayName="TransitionWrapper";const IY={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function BY(s,t){const a=`offset${s[0].toUpperCase()}${s.slice(1)}`,r=t[a],n=IY[s];return r+parseInt(Oc(t,n[0]),10)+parseInt(Oc(t,n[1]),10)}const LY={[id]:"collapse",[Em]:"collapsing",[hi]:"collapsing",[kc]:"collapse show"},Oa=Fs.forwardRef(({onEnter:s,onEntering:t,onEntered:a,onExit:r,onExiting:n,className:i,children:l,dimension:c="height",in:o=!1,timeout:u=300,mountOnEnter:d=!1,unmountOnExit:f=!1,appear:p=!1,getDimensionValue:j=BY,...y},k)=>{const v=typeof c=="function"?c():c,S=x.useMemo(()=>Hf(M=>{M.style[v]="0"},s),[v,s]),C=x.useMemo(()=>Hf(M=>{const L=`scroll${v[0].toUpperCase()}${v.slice(1)}`;M.style[v]=`${M[L]}px`},t),[v,t]),_=x.useMemo(()=>Hf(M=>{M.style[v]=null},a),[v,a]),A=x.useMemo(()=>Hf(M=>{M.style[v]=`${j(v,M)}px`,F8(M)},r),[r,j,v]),D=x.useMemo(()=>Hf(M=>{M.style[v]=null},n),[v,n]);return e.jsx(uN,{ref:k,addEndListener:V_,...y,"aria-expanded":y.role?o:null,onEnter:S,onEntering:C,onEntered:_,onExit:A,onExiting:D,childRef:au(l),in:o,timeout:u,mountOnEnter:d,unmountOnExit:f,appear:p,children:(M,L)=>Fs.cloneElement(l,{...L,className:ct(i,l.props.className,LY[M],v==="width"&&"collapse-horizontal")})})});Oa.displayName="Collapse";function z8(s,t){return Array.isArray(s)?s.includes(t):s===t}const lg=x.createContext({});lg.displayName="AccordionContext";const W_=x.forwardRef(({as:s="div",bsPrefix:t,className:a,children:r,eventKey:n,...i},l)=>{const{activeEventKey:c}=x.useContext(lg);return t=ut(t,"accordion-collapse"),e.jsx(Oa,{ref:l,in:z8(c,n),...i,className:ct(a,t),children:e.jsx(s,{children:x.Children.only(r)})})});W_.displayName="AccordionCollapse";const mN=x.createContext({eventKey:""});mN.displayName="AccordionItemContext";const H8=x.forwardRef(({as:s="div",bsPrefix:t,className:a,onEnter:r,onEntering:n,onEntered:i,onExit:l,onExiting:c,onExited:o,...u},d)=>{t=ut(t,"accordion-body");const{eventKey:f}=x.useContext(mN);return e.jsx(W_,{eventKey:f,onEnter:r,onEntering:n,onEntered:i,onExit:l,onExiting:c,onExited:o,children:e.jsx(s,{ref:d,...u,className:ct(a,t)})})});H8.displayName="AccordionBody";function FY(s,t){const{activeEventKey:a,onSelect:r,alwaysOpen:n}=x.useContext(lg);return i=>{let l=s===a?null:s;n&&(Array.isArray(a)?a.includes(s)?l=a.filter(c=>c!==s):l=[...a,s]:l=[s]),r?.(l,i),t?.(i)}}const Y_=x.forwardRef(({as:s="button",bsPrefix:t,className:a,onClick:r,...n},i)=>{t=ut(t,"accordion-button");const{eventKey:l}=x.useContext(mN),c=FY(l,r),{activeEventKey:o}=x.useContext(lg);return s==="button"&&(n.type="button"),e.jsx(s,{ref:i,onClick:c,...n,"aria-expanded":Array.isArray(o)?o.includes(l):l===o,className:ct(a,t,!z8(o,l)&&"collapsed")})});Y_.displayName="AccordionButton";const U8=x.forwardRef(({as:s="h2","aria-controls":t,bsPrefix:a,className:r,children:n,onClick:i,...l},c)=>(a=ut(a,"accordion-header"),e.jsx(s,{ref:c,...l,className:ct(r,a),children:e.jsx(Y_,{onClick:i,"aria-controls":t,children:n})})));U8.displayName="AccordionHeader";const q8=x.forwardRef(({as:s="div",bsPrefix:t,className:a,eventKey:r,...n},i)=>{t=ut(t,"accordion-item");const l=x.useMemo(()=>({eventKey:r}),[r]);return e.jsx(mN.Provider,{value:l,children:e.jsx(s,{ref:i,...n,className:ct(a,t)})})});q8.displayName="AccordionItem";const G8=x.forwardRef((s,t)=>{const{as:a="div",activeKey:r,bsPrefix:n,className:i,onSelect:l,flush:c,alwaysOpen:o,...u}=su(s,{activeKey:"onSelect"}),d=ut(n,"accordion"),f=x.useMemo(()=>({activeEventKey:r,onSelect:l,alwaysOpen:o}),[r,l,o]);return e.jsx(lg.Provider,{value:f,children:e.jsx(a,{ref:t,...u,className:ct(i,d,c&&`${d}-flush`)})})});G8.displayName="Accordion";const Bj=Object.assign(G8,{Button:Y_,Collapse:W_,Item:q8,Header:U8,Body:H8});function zY(s){const t=x.useRef(s);return x.useEffect(()=>{t.current=s},[s]),t}function Ui(s){const t=zY(s);return x.useCallback(function(...a){return t.current&&t.current(...a)},[t])}const cg=(s=>x.forwardRef((t,a)=>e.jsx("div",{...t,ref:a,className:ct(t.className,s)}))),V8=cg("h4");V8.displayName="DivStyledAsH4";const W8=x.forwardRef(({className:s,bsPrefix:t,as:a=V8,...r},n)=>(t=ut(t,"alert-heading"),e.jsx(a,{ref:n,className:ct(s,t),...r})));W8.displayName="AlertHeading";function Qk(){return x.useState(null)}function HY(s){const t=x.useRef(s);return x.useEffect(()=>{t.current=s},[s]),t}function wr(s){const t=HY(s);return x.useCallback(function(...a){return t.current&&t.current(...a)},[t])}function UY(s,t,a,r=!1){const n=wr(a);x.useEffect(()=>{const i=typeof s=="function"?s():s;return i.addEventListener(t,n,r),()=>i.removeEventListener(t,n,r)},[s])}function Y8(){const s=x.useRef(!0),t=x.useRef(()=>s.current);return x.useEffect(()=>(s.current=!0,()=>{s.current=!1}),[]),t.current}function K8(s){const t=x.useRef(null);return x.useEffect(()=>{t.current=s}),t.current}const qY=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",GY=typeof document<"u",f3=GY||qY?x.useLayoutEffect:x.useEffect,VY=["as","disabled"];function WY(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)>=0)continue;a[r]=s[r]}return a}function YY(s){return!s||s.trim()==="#"}function K_({tagName:s,disabled:t,href:a,target:r,rel:n,role:i,onClick:l,tabIndex:c=0,type:o}){s||(a!=null||r!=null||n!=null?s="a":s="button");const u={tagName:s};if(s==="button")return[{type:o||"button",disabled:t},u];const d=p=>{if((t||s==="a"&&YY(a))&&p.preventDefault(),t){p.stopPropagation();return}l?.(p)},f=p=>{p.key===" "&&(p.preventDefault(),d(p))};return s==="a"&&(a||(a="#"),t&&(a=void 0)),[{role:i??"button",disabled:void 0,tabIndex:t?void 0:c,href:a,target:s==="a"?r:void 0,"aria-disabled":t||void 0,rel:s==="a"?n:void 0,onClick:d,onKeyDown:f},u]}const Q_=x.forwardRef((s,t)=>{let{as:a,disabled:r}=s,n=WY(s,VY);const[i,{tagName:l}]=K_(Object.assign({tagName:a,disabled:r},n));return e.jsx(l,Object.assign({},n,i,{ref:t}))});Q_.displayName="Button";const KY=["onKeyDown"];function QY(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)>=0)continue;a[r]=s[r]}return a}function XY(s){return!s||s.trim()==="#"}const og=x.forwardRef((s,t)=>{let{onKeyDown:a}=s,r=QY(s,KY);const[n]=K_(Object.assign({tagName:"a"},r)),i=wr(l=>{n.onKeyDown(l),a?.(l)});return XY(r.href)||r.role==="button"?e.jsx("a",Object.assign({ref:t},r,n,{onKeyDown:i})):e.jsx("a",Object.assign({ref:t},r,{onKeyDown:a}))});og.displayName="Anchor";const Q8=x.forwardRef(({className:s,bsPrefix:t,as:a=og,...r},n)=>(t=ut(t,"alert-link"),e.jsx(a,{ref:n,className:ct(s,t),...r})));Q8.displayName="AlertLink";const ZY={[hi]:"show",[kc]:"show"},qi=x.forwardRef(({className:s,children:t,transitionClasses:a={},onEnter:r,...n},i)=>{const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...n},c=x.useCallback((o,u)=>{F8(o),r?.(o,u)},[r]);return e.jsx(uN,{ref:i,addEndListener:V_,...l,onEnter:c,childRef:au(t),children:(o,u)=>x.cloneElement(t,{...u,className:ct("fade",s,t.props.className,ZY[o],a[o])})})});qi.displayName="Fade";const JY={"aria-label":ka.string,onClick:ka.func,variant:ka.oneOf(["white"])},dg=x.forwardRef(({className:s,variant:t,"aria-label":a="Close",...r},n)=>e.jsx("button",{ref:n,type:"button",className:ct("btn-close",t&&`btn-close-${t}`,s),"aria-label":a,...r}));dg.displayName="CloseButton";dg.propTypes=JY;const X8=x.forwardRef((s,t)=>{const{bsPrefix:a,show:r=!0,closeLabel:n="Close alert",closeVariant:i,className:l,children:c,variant:o="primary",onClose:u,dismissible:d,transition:f=qi,...p}=su(s,{show:"onClose"}),j=ut(a,"alert"),y=Ui(S=>{u&&u(!1,S)}),k=f===!0?qi:f,v=e.jsxs("div",{role:"alert",...k?void 0:p,ref:t,className:ct(l,j,o&&`${j}-${o}`,d&&`${j}-dismissible`),children:[d&&e.jsx(dg,{onClick:y,"aria-label":n,variant:i}),c]});return k?e.jsx(k,{unmountOnExit:!0,...p,ref:void 0,in:r,children:v}):r?v:null});X8.displayName="Alert";const lt=Object.assign(X8,{Link:Q8,Heading:W8}),oe=x.forwardRef(({bsPrefix:s,bg:t="primary",pill:a=!1,text:r,className:n,as:i="span",...l},c)=>{const o=ut(s,"badge");return e.jsx(i,{ref:c,...l,className:ct(n,o,a&&"rounded-pill",r&&`text-${r}`,t&&`bg-${t}`)})});oe.displayName="Badge";const $=x.forwardRef(({as:s,bsPrefix:t,variant:a="primary",size:r,active:n=!1,disabled:i=!1,className:l,...c},o)=>{const u=ut(t,"btn"),[d,{tagName:f}]=K_({tagName:s,disabled:i,...c}),p=f;return e.jsx(p,{...d,...c,ref:o,disabled:i,className:ct(l,u,n&&"active",a&&`${u}-${a}`,r&&`${u}-${r}`,c.href&&i&&"disabled")})});$.displayName="Button";const Ga=x.forwardRef(({bsPrefix:s,size:t,vertical:a=!1,className:r,role:n="group",as:i="div",...l},c)=>{const o=ut(s,"btn-group");let u=o;return a&&(u=`${o}-vertical`),e.jsx(i,{...l,ref:c,role:n,className:ct(r,u,t&&`${o}-${t}`)})});Ga.displayName="ButtonGroup";const X_=x.forwardRef(({className:s,bsPrefix:t,as:a="div",...r},n)=>(t=ut(t,"card-body"),e.jsx(a,{ref:n,className:ct(s,t),...r})));X_.displayName="CardBody";const Z8=x.forwardRef(({className:s,bsPrefix:t,as:a="div",...r},n)=>(t=ut(t,"card-footer"),e.jsx(a,{ref:n,className:ct(s,t),...r})));Z8.displayName="CardFooter";const Z_=x.createContext(null);Z_.displayName="CardHeaderContext";const J8=x.forwardRef(({bsPrefix:s,className:t,as:a="div",...r},n)=>{const i=ut(s,"card-header"),l=x.useMemo(()=>({cardHeaderBsPrefix:i}),[i]);return e.jsx(Z_.Provider,{value:l,children:e.jsx(a,{ref:n,...r,className:ct(t,i)})})});J8.displayName="CardHeader";const eI=x.forwardRef(({bsPrefix:s,className:t,variant:a,as:r="img",...n},i)=>{const l=ut(s,"card-img");return e.jsx(r,{ref:i,className:ct(a?`${l}-${a}`:l,t),...n})});eI.displayName="CardImg";const tI=x.forwardRef(({className:s,bsPrefix:t,as:a="div",...r},n)=>(t=ut(t,"card-img-overlay"),e.jsx(a,{ref:n,className:ct(s,t),...r})));tI.displayName="CardImgOverlay";const sI=x.forwardRef(({className:s,bsPrefix:t,as:a="a",...r},n)=>(t=ut(t,"card-link"),e.jsx(a,{ref:n,className:ct(s,t),...r})));sI.displayName="CardLink";const eK=cg("h6"),aI=x.forwardRef(({className:s,bsPrefix:t,as:a=eK,...r},n)=>(t=ut(t,"card-subtitle"),e.jsx(a,{ref:n,className:ct(s,t),...r})));aI.displayName="CardSubtitle";const rI=x.forwardRef(({className:s,bsPrefix:t,as:a="p",...r},n)=>(t=ut(t,"card-text"),e.jsx(a,{ref:n,className:ct(s,t),...r})));rI.displayName="CardText";const tK=cg("h5"),nI=x.forwardRef(({className:s,bsPrefix:t,as:a=tK,...r},n)=>(t=ut(t,"card-title"),e.jsx(a,{ref:n,className:ct(s,t),...r})));nI.displayName="CardTitle";const iI=x.forwardRef(({bsPrefix:s,className:t,bg:a,text:r,border:n,body:i=!1,children:l,as:c="div",...o},u)=>{const d=ut(s,"card");return e.jsx(c,{ref:u,...o,className:ct(t,d,a&&`bg-${a}`,r&&`text-${r}`,n&&`border-${n}`),children:i?e.jsx(X_,{children:l}):l})});iI.displayName="Card";const w=Object.assign(iI,{Img:eI,Title:nI,Subtitle:aI,Body:X_,Link:sI,Text:rI,Header:J8,Footer:Z8,ImgOverlay:tI});function sK(){const s=x.useRef(!0),t=x.useRef(()=>s.current);return x.useEffect(()=>(s.current=!0,()=>{s.current=!1}),[]),t.current}function aK(s){const t=x.useRef(s);return t.current=s,t}function lI(s){const t=aK(s);x.useEffect(()=>()=>t.current(),[])}const Xk=2**31-1;function cI(s,t,a){const r=a-Date.now();s.current=r<=Xk?setTimeout(t,r):setTimeout(()=>cI(s,t,a),Xk)}function oI(){const s=sK(),t=x.useRef();return lI(()=>clearTimeout(t.current)),x.useMemo(()=>{const a=()=>clearTimeout(t.current);function r(n,i=0){s()&&(a(),i<=Xk?t.current=setTimeout(n,i):cI(t,n,Date.now()+i))}return{set:r,clear:a,handleRef:t}},[])}function Zk(s,t){let a=0;return x.Children.map(s,r=>x.isValidElement(r)?t(r,a++):r)}function rK(s,t){let a=0;x.Children.forEach(s,r=>{x.isValidElement(r)&&t(r,a++)})}function nK(s,t){return x.Children.toArray(s).some(a=>x.isValidElement(a)&&a.type===t)}function iK({as:s,bsPrefix:t,className:a,...r}){t=ut(t,"col");const n=$8(),i=P8(),l=[],c=[];return n.forEach(o=>{const u=r[o];delete r[o];let d,f,p;typeof u=="object"&&u!=null?{span:d,offset:f,order:p}=u:d=u;const j=o!==i?`-${o}`:"";d&&l.push(d===!0?`${t}${j}`:`${t}${j}-${d}`),p!=null&&c.push(`order${j}-${p}`),f!=null&&c.push(`offset${j}-${f}`)}),[{...r,className:ct(a,...l,...c)},{as:s,bsPrefix:t,spans:l}]}const T=x.forwardRef((s,t)=>{const[{className:a,...r},{as:n="div",bsPrefix:i,spans:l}]=iK(s);return e.jsx(n,{...r,ref:t,className:ct(a,!l.length&&i)})});T.displayName="Col";const yt=x.forwardRef(({bsPrefix:s,fluid:t=!1,as:a="div",className:r,...n},i)=>{const l=ut(s,"container"),c=typeof t=="string"?`-${t}`:"-fluid";return e.jsx(a,{ref:i,...n,className:ct(r,t?`${l}${c}`:l)})});yt.displayName="Container";var lK=Function.prototype.bind.call(Function.prototype.call,[].slice);function Nc(s,t){return lK(s.querySelectorAll(t))}function dI(s,t,a){const r=x.useRef(s!==void 0),[n,i]=x.useState(t),l=s!==void 0,c=r.current;return r.current=l,!l&&c&&n!==t&&i(t),[l?s:n,x.useCallback((...o)=>{const[u,...d]=o;let f=a?.(u,...d);return i(u),f},[a])]}function hI(){const[,s]=x.useReducer(t=>t+1,0);return s}const xN=x.createContext(null);var p3=Object.prototype.hasOwnProperty;function g3(s,t,a){for(a of s.keys())if(up(a,t))return a}function up(s,t){var a,r,n;if(s===t)return!0;if(s&&t&&(a=s.constructor)===t.constructor){if(a===Date)return s.getTime()===t.getTime();if(a===RegExp)return s.toString()===t.toString();if(a===Array){if((r=s.length)===t.length)for(;r--&&up(s[r],t[r]););return r===-1}if(a===Set){if(s.size!==t.size)return!1;for(r of s)if(n=r,n&&typeof n=="object"&&(n=g3(t,n),!n)||!t.has(n))return!1;return!0}if(a===Map){if(s.size!==t.size)return!1;for(r of s)if(n=r[0],n&&typeof n=="object"&&(n=g3(t,n),!n)||!up(r[1],t.get(n)))return!1;return!0}if(a===ArrayBuffer)s=new Uint8Array(s),t=new Uint8Array(t);else if(a===DataView){if((r=s.byteLength)===t.byteLength)for(;r--&&s.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(s)){if((r=s.byteLength)===t.byteLength)for(;r--&&s[r]===t[r];);return r===-1}if(!a||typeof s=="object"){r=0;for(a in s)if(p3.call(s,a)&&++r&&!p3.call(t,a)||!(a in t)||!up(s[a],t[a]))return!1;return Object.keys(t).length===r}}return s!==s&&t!==t}function cK(s){const t=Y8();return[s[0],x.useCallback(a=>{if(t())return s[1](a)},[t,s[1]])]}var wn="top",gi="bottom",yi="right",kn="left",J_="auto",hg=[wn,gi,yi,kn],Am="start",Ap="end",oK="clippingParents",uI="viewport",Uf="popper",dK="reference",y3=hg.reduce(function(s,t){return s.concat([t+"-"+Am,t+"-"+Ap])},[]),mI=[].concat(hg,[J_]).reduce(function(s,t){return s.concat([t,t+"-"+Am,t+"-"+Ap])},[]),hK="beforeRead",uK="read",mK="afterRead",xK="beforeMain",fK="main",pK="afterMain",gK="beforeWrite",yK="write",jK="afterWrite",vK=[hK,uK,mK,xK,fK,pK,gK,yK,jK];function Ml(s){return s.split("-")[0]}function qn(s){if(s==null)return window;if(s.toString()!=="[object Window]"){var t=s.ownerDocument;return t&&t.defaultView||window}return s}function qh(s){var t=qn(s).Element;return s instanceof t||s instanceof Element}function Dl(s){var t=qn(s).HTMLElement;return s instanceof t||s instanceof HTMLElement}function eC(s){if(typeof ShadowRoot>"u")return!1;var t=qn(s).ShadowRoot;return s instanceof t||s instanceof ShadowRoot}var Oh=Math.max,Uv=Math.min,Tm=Math.round;function Jk(){var s=navigator.userAgentData;return s!=null&&s.brands&&Array.isArray(s.brands)?s.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function xI(){return!/^((?!chrome|android).)*safari/i.test(Jk())}function Mm(s,t,a){t===void 0&&(t=!1),a===void 0&&(a=!1);var r=s.getBoundingClientRect(),n=1,i=1;t&&Dl(s)&&(n=s.offsetWidth>0&&Tm(r.width)/s.offsetWidth||1,i=s.offsetHeight>0&&Tm(r.height)/s.offsetHeight||1);var l=qh(s)?qn(s):window,c=l.visualViewport,o=!xI()&&a,u=(r.left+(o&&c?c.offsetLeft:0))/n,d=(r.top+(o&&c?c.offsetTop:0))/i,f=r.width/n,p=r.height/i;return{width:f,height:p,top:d,right:u+f,bottom:d+p,left:u,x:u,y:d}}function tC(s){var t=Mm(s),a=s.offsetWidth,r=s.offsetHeight;return Math.abs(t.width-a)<=1&&(a=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:s.offsetLeft,y:s.offsetTop,width:a,height:r}}function fI(s,t){var a=t.getRootNode&&t.getRootNode();if(s.contains(t))return!0;if(a&&eC(a)){var r=t;do{if(r&&s.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function jd(s){return s?(s.nodeName||"").toLowerCase():null}function zc(s){return qn(s).getComputedStyle(s)}function bK(s){return["table","td","th"].indexOf(jd(s))>=0}function Ad(s){return((qh(s)?s.ownerDocument:s.document)||window.document).documentElement}function fN(s){return jd(s)==="html"?s:s.assignedSlot||s.parentNode||(eC(s)?s.host:null)||Ad(s)}function j3(s){return!Dl(s)||zc(s).position==="fixed"?null:s.offsetParent}function NK(s){var t=/firefox/i.test(Jk()),a=/Trident/i.test(Jk());if(a&&Dl(s)){var r=zc(s);if(r.position==="fixed")return null}var n=fN(s);for(eC(n)&&(n=n.host);Dl(n)&&["html","body"].indexOf(jd(n))<0;){var i=zc(n);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return n;n=n.parentNode}return null}function ug(s){for(var t=qn(s),a=j3(s);a&&bK(a)&&zc(a).position==="static";)a=j3(a);return a&&(jd(a)==="html"||jd(a)==="body"&&zc(a).position==="static")?t:a||NK(s)||t}function sC(s){return["top","bottom"].indexOf(s)>=0?"x":"y"}function mp(s,t,a){return Oh(s,Uv(t,a))}function wK(s,t,a){var r=mp(s,t,a);return r>a?a:r}function pI(){return{top:0,right:0,bottom:0,left:0}}function gI(s){return Object.assign({},pI(),s)}function yI(s,t){return t.reduce(function(a,r){return a[r]=s,a},{})}var kK=function(t,a){return t=typeof t=="function"?t(Object.assign({},a.rects,{placement:a.placement})):t,gI(typeof t!="number"?t:yI(t,hg))};function SK(s){var t,a=s.state,r=s.name,n=s.options,i=a.elements.arrow,l=a.modifiersData.popperOffsets,c=Ml(a.placement),o=sC(c),u=[kn,yi].indexOf(c)>=0,d=u?"height":"width";if(!(!i||!l)){var f=kK(n.padding,a),p=tC(i),j=o==="y"?wn:kn,y=o==="y"?gi:yi,k=a.rects.reference[d]+a.rects.reference[o]-l[o]-a.rects.popper[d],v=l[o]-a.rects.reference[o],S=ug(i),C=S?o==="y"?S.clientHeight||0:S.clientWidth||0:0,_=k/2-v/2,A=f[j],D=C-p[d]-f[y],M=C/2-p[d]/2+_,L=mp(A,M,D),F=o;a.modifiersData[r]=(t={},t[F]=L,t.centerOffset=L-M,t)}}function _K(s){var t=s.state,a=s.options,r=a.element,n=r===void 0?"[data-popper-arrow]":r;n!=null&&(typeof n=="string"&&(n=t.elements.popper.querySelector(n),!n)||fI(t.elements.popper,n)&&(t.elements.arrow=n))}const CK={name:"arrow",enabled:!0,phase:"main",fn:SK,effect:_K,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Dm(s){return s.split("-")[1]}var EK={top:"auto",right:"auto",bottom:"auto",left:"auto"};function AK(s,t){var a=s.x,r=s.y,n=t.devicePixelRatio||1;return{x:Tm(a*n)/n||0,y:Tm(r*n)/n||0}}function v3(s){var t,a=s.popper,r=s.popperRect,n=s.placement,i=s.variation,l=s.offsets,c=s.position,o=s.gpuAcceleration,u=s.adaptive,d=s.roundOffsets,f=s.isFixed,p=l.x,j=p===void 0?0:p,y=l.y,k=y===void 0?0:y,v=typeof d=="function"?d({x:j,y:k}):{x:j,y:k};j=v.x,k=v.y;var S=l.hasOwnProperty("x"),C=l.hasOwnProperty("y"),_=kn,A=wn,D=window;if(u){var M=ug(a),L="clientHeight",F="clientWidth";if(M===qn(a)&&(M=Ad(a),zc(M).position!=="static"&&c==="absolute"&&(L="scrollHeight",F="scrollWidth")),M=M,n===wn||(n===kn||n===yi)&&i===Ap){A=gi;var Q=f&&M===D&&D.visualViewport?D.visualViewport.height:M[L];k-=Q-r.height,k*=o?1:-1}if(n===kn||(n===wn||n===gi)&&i===Ap){_=yi;var I=f&&M===D&&D.visualViewport?D.visualViewport.width:M[F];j-=I-r.width,j*=o?1:-1}}var H=Object.assign({position:c},u&&EK),z=d===!0?AK({x:j,y:k},qn(a)):{x:j,y:k};if(j=z.x,k=z.y,o){var K;return Object.assign({},H,(K={},K[A]=C?"0":"",K[_]=S?"0":"",K.transform=(D.devicePixelRatio||1)<=1?"translate("+j+"px, "+k+"px)":"translate3d("+j+"px, "+k+"px, 0)",K))}return Object.assign({},H,(t={},t[A]=C?k+"px":"",t[_]=S?j+"px":"",t.transform="",t))}function TK(s){var t=s.state,a=s.options,r=a.gpuAcceleration,n=r===void 0?!0:r,i=a.adaptive,l=i===void 0?!0:i,c=a.roundOffsets,o=c===void 0?!0:c,u={placement:Ml(t.placement),variation:Dm(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,v3(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:o})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,v3(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:o})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const MK={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:TK,data:{}};var Lj={passive:!0};function DK(s){var t=s.state,a=s.instance,r=s.options,n=r.scroll,i=n===void 0?!0:n,l=r.resize,c=l===void 0?!0:l,o=qn(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach(function(d){d.addEventListener("scroll",a.update,Lj)}),c&&o.addEventListener("resize",a.update,Lj),function(){i&&u.forEach(function(d){d.removeEventListener("scroll",a.update,Lj)}),c&&o.removeEventListener("resize",a.update,Lj)}}const OK={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:DK,data:{}};var RK={left:"right",right:"left",bottom:"top",top:"bottom"};function Sv(s){return s.replace(/left|right|bottom|top/g,function(t){return RK[t]})}var $K={start:"end",end:"start"};function b3(s){return s.replace(/start|end/g,function(t){return $K[t]})}function aC(s){var t=qn(s),a=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:a,scrollTop:r}}function rC(s){return Mm(Ad(s)).left+aC(s).scrollLeft}function PK(s,t){var a=qn(s),r=Ad(s),n=a.visualViewport,i=r.clientWidth,l=r.clientHeight,c=0,o=0;if(n){i=n.width,l=n.height;var u=xI();(u||!u&&t==="fixed")&&(c=n.offsetLeft,o=n.offsetTop)}return{width:i,height:l,x:c+rC(s),y:o}}function IK(s){var t,a=Ad(s),r=aC(s),n=(t=s.ownerDocument)==null?void 0:t.body,i=Oh(a.scrollWidth,a.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),l=Oh(a.scrollHeight,a.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),c=-r.scrollLeft+rC(s),o=-r.scrollTop;return zc(n||a).direction==="rtl"&&(c+=Oh(a.clientWidth,n?n.clientWidth:0)-i),{width:i,height:l,x:c,y:o}}function nC(s){var t=zc(s),a=t.overflow,r=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(a+n+r)}function jI(s){return["html","body","#document"].indexOf(jd(s))>=0?s.ownerDocument.body:Dl(s)&&nC(s)?s:jI(fN(s))}function xp(s,t){var a;t===void 0&&(t=[]);var r=jI(s),n=r===((a=s.ownerDocument)==null?void 0:a.body),i=qn(r),l=n?[i].concat(i.visualViewport||[],nC(r)?r:[]):r,c=t.concat(l);return n?c:c.concat(xp(fN(l)))}function eS(s){return Object.assign({},s,{left:s.x,top:s.y,right:s.x+s.width,bottom:s.y+s.height})}function BK(s,t){var a=Mm(s,!1,t==="fixed");return a.top=a.top+s.clientTop,a.left=a.left+s.clientLeft,a.bottom=a.top+s.clientHeight,a.right=a.left+s.clientWidth,a.width=s.clientWidth,a.height=s.clientHeight,a.x=a.left,a.y=a.top,a}function N3(s,t,a){return t===uI?eS(PK(s,a)):qh(t)?BK(t,a):eS(IK(Ad(s)))}function LK(s){var t=xp(fN(s)),a=["absolute","fixed"].indexOf(zc(s).position)>=0,r=a&&Dl(s)?ug(s):s;return qh(r)?t.filter(function(n){return qh(n)&&fI(n,r)&&jd(n)!=="body"}):[]}function FK(s,t,a,r){var n=t==="clippingParents"?LK(s):[].concat(t),i=[].concat(n,[a]),l=i[0],c=i.reduce(function(o,u){var d=N3(s,u,r);return o.top=Oh(d.top,o.top),o.right=Uv(d.right,o.right),o.bottom=Uv(d.bottom,o.bottom),o.left=Oh(d.left,o.left),o},N3(s,l,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function vI(s){var t=s.reference,a=s.element,r=s.placement,n=r?Ml(r):null,i=r?Dm(r):null,l=t.x+t.width/2-a.width/2,c=t.y+t.height/2-a.height/2,o;switch(n){case wn:o={x:l,y:t.y-a.height};break;case gi:o={x:l,y:t.y+t.height};break;case yi:o={x:t.x+t.width,y:c};break;case kn:o={x:t.x-a.width,y:c};break;default:o={x:t.x,y:t.y}}var u=n?sC(n):null;if(u!=null){var d=u==="y"?"height":"width";switch(i){case Am:o[u]=o[u]-(t[d]/2-a[d]/2);break;case Ap:o[u]=o[u]+(t[d]/2-a[d]/2);break}}return o}function Tp(s,t){t===void 0&&(t={});var a=t,r=a.placement,n=r===void 0?s.placement:r,i=a.strategy,l=i===void 0?s.strategy:i,c=a.boundary,o=c===void 0?oK:c,u=a.rootBoundary,d=u===void 0?uI:u,f=a.elementContext,p=f===void 0?Uf:f,j=a.altBoundary,y=j===void 0?!1:j,k=a.padding,v=k===void 0?0:k,S=gI(typeof v!="number"?v:yI(v,hg)),C=p===Uf?dK:Uf,_=s.rects.popper,A=s.elements[y?C:p],D=FK(qh(A)?A:A.contextElement||Ad(s.elements.popper),o,d,l),M=Mm(s.elements.reference),L=vI({reference:M,element:_,placement:n}),F=eS(Object.assign({},_,L)),Q=p===Uf?F:M,I={top:D.top-Q.top+S.top,bottom:Q.bottom-D.bottom+S.bottom,left:D.left-Q.left+S.left,right:Q.right-D.right+S.right},H=s.modifiersData.offset;if(p===Uf&&H){var z=H[n];Object.keys(I).forEach(function(K){var U=[yi,gi].indexOf(K)>=0?1:-1,V=[wn,gi].indexOf(K)>=0?"y":"x";I[K]+=z[V]*U})}return I}function zK(s,t){t===void 0&&(t={});var a=t,r=a.placement,n=a.boundary,i=a.rootBoundary,l=a.padding,c=a.flipVariations,o=a.allowedAutoPlacements,u=o===void 0?mI:o,d=Dm(r),f=d?c?y3:y3.filter(function(y){return Dm(y)===d}):hg,p=f.filter(function(y){return u.indexOf(y)>=0});p.length===0&&(p=f);var j=p.reduce(function(y,k){return y[k]=Tp(s,{placement:k,boundary:n,rootBoundary:i,padding:l})[Ml(k)],y},{});return Object.keys(j).sort(function(y,k){return j[y]-j[k]})}function HK(s){if(Ml(s)===J_)return[];var t=Sv(s);return[b3(s),t,b3(t)]}function UK(s){var t=s.state,a=s.options,r=s.name;if(!t.modifiersData[r]._skip){for(var n=a.mainAxis,i=n===void 0?!0:n,l=a.altAxis,c=l===void 0?!0:l,o=a.fallbackPlacements,u=a.padding,d=a.boundary,f=a.rootBoundary,p=a.altBoundary,j=a.flipVariations,y=j===void 0?!0:j,k=a.allowedAutoPlacements,v=t.options.placement,S=Ml(v),C=S===v,_=o||(C||!y?[Sv(v)]:HK(v)),A=[v].concat(_).reduce(function(ie,fe){return ie.concat(Ml(fe)===J_?zK(t,{placement:fe,boundary:d,rootBoundary:f,padding:u,flipVariations:y,allowedAutoPlacements:k}):fe)},[]),D=t.rects.reference,M=t.rects.popper,L=new Map,F=!0,Q=A[0],I=0;I<A.length;I++){var H=A[I],z=Ml(H),K=Dm(H)===Am,U=[wn,gi].indexOf(z)>=0,V=U?"width":"height",P=Tp(t,{placement:H,boundary:d,rootBoundary:f,altBoundary:p,padding:u}),q=U?K?yi:kn:K?gi:wn;D[V]>M[V]&&(q=Sv(q));var G=Sv(q),se=[];if(i&&se.push(P[z]<=0),c&&se.push(P[q]<=0,P[G]<=0),se.every(function(ie){return ie})){Q=H,F=!1;break}L.set(H,se)}if(F)for(var O=y?3:1,W=function(fe){var J=A.find(function(ge){var re=L.get(ge);if(re)return re.slice(0,fe).every(function(ve){return ve})});if(J)return Q=J,"break"},Z=O;Z>0;Z--){var te=W(Z);if(te==="break")break}t.placement!==Q&&(t.modifiersData[r]._skip=!0,t.placement=Q,t.reset=!0)}}const qK={name:"flip",enabled:!0,phase:"main",fn:UK,requiresIfExists:["offset"],data:{_skip:!1}};function w3(s,t,a){return a===void 0&&(a={x:0,y:0}),{top:s.top-t.height-a.y,right:s.right-t.width+a.x,bottom:s.bottom-t.height+a.y,left:s.left-t.width-a.x}}function k3(s){return[wn,yi,gi,kn].some(function(t){return s[t]>=0})}function GK(s){var t=s.state,a=s.name,r=t.rects.reference,n=t.rects.popper,i=t.modifiersData.preventOverflow,l=Tp(t,{elementContext:"reference"}),c=Tp(t,{altBoundary:!0}),o=w3(l,r),u=w3(c,n,i),d=k3(o),f=k3(u);t.modifiersData[a]={referenceClippingOffsets:o,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const VK={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:GK};function WK(s,t,a){var r=Ml(s),n=[kn,wn].indexOf(r)>=0?-1:1,i=typeof a=="function"?a(Object.assign({},t,{placement:s})):a,l=i[0],c=i[1];return l=l||0,c=(c||0)*n,[kn,yi].indexOf(r)>=0?{x:c,y:l}:{x:l,y:c}}function YK(s){var t=s.state,a=s.options,r=s.name,n=a.offset,i=n===void 0?[0,0]:n,l=mI.reduce(function(d,f){return d[f]=WK(f,t.rects,i),d},{}),c=l[t.placement],o=c.x,u=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=o,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=l}const KK={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:YK};function QK(s){var t=s.state,a=s.name;t.modifiersData[a]=vI({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const XK={name:"popperOffsets",enabled:!0,phase:"read",fn:QK,data:{}};function ZK(s){return s==="x"?"y":"x"}function JK(s){var t=s.state,a=s.options,r=s.name,n=a.mainAxis,i=n===void 0?!0:n,l=a.altAxis,c=l===void 0?!1:l,o=a.boundary,u=a.rootBoundary,d=a.altBoundary,f=a.padding,p=a.tether,j=p===void 0?!0:p,y=a.tetherOffset,k=y===void 0?0:y,v=Tp(t,{boundary:o,rootBoundary:u,padding:f,altBoundary:d}),S=Ml(t.placement),C=Dm(t.placement),_=!C,A=sC(S),D=ZK(A),M=t.modifiersData.popperOffsets,L=t.rects.reference,F=t.rects.popper,Q=typeof k=="function"?k(Object.assign({},t.rects,{placement:t.placement})):k,I=typeof Q=="number"?{mainAxis:Q,altAxis:Q}:Object.assign({mainAxis:0,altAxis:0},Q),H=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,z={x:0,y:0};if(M){if(i){var K,U=A==="y"?wn:kn,V=A==="y"?gi:yi,P=A==="y"?"height":"width",q=M[A],G=q+v[U],se=q-v[V],O=j?-F[P]/2:0,W=C===Am?L[P]:F[P],Z=C===Am?-F[P]:-L[P],te=t.elements.arrow,ie=j&&te?tC(te):{width:0,height:0},fe=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:pI(),J=fe[U],ge=fe[V],re=mp(0,L[P],ie[P]),ve=_?L[P]/2-O-re-J-I.mainAxis:W-re-J-I.mainAxis,Oe=_?-L[P]/2+O+re+ge+I.mainAxis:Z+re+ge+I.mainAxis,ee=t.elements.arrow&&ug(t.elements.arrow),me=ee?A==="y"?ee.clientTop||0:ee.clientLeft||0:0,Xe=(K=H?.[A])!=null?K:0,Se=q+ve-Xe-me,ae=q+Oe-Xe,ye=mp(j?Uv(G,Se):G,q,j?Oh(se,ae):se);M[A]=ye,z[A]=ye-q}if(c){var st,He=A==="x"?wn:kn,ke=A==="x"?gi:yi,we=M[D],Ke=D==="y"?"height":"width",Ee=we+v[He],je=we-v[ke],Ve=[wn,kn].indexOf(S)!==-1,Nt=(st=H?.[D])!=null?st:0,nt=Ve?Ee:we-L[Ke]-F[Ke]-Nt+I.altAxis,It=Ve?we+L[Ke]+F[Ke]-Nt-I.altAxis:je,ps=j&&Ve?wK(nt,we,It):mp(j?nt:Ee,we,j?It:je);M[D]=ps,z[D]=ps-we}t.modifiersData[r]=z}}const eQ={name:"preventOverflow",enabled:!0,phase:"main",fn:JK,requiresIfExists:["offset"]};function tQ(s){return{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}}function sQ(s){return s===qn(s)||!Dl(s)?aC(s):tQ(s)}function aQ(s){var t=s.getBoundingClientRect(),a=Tm(t.width)/s.offsetWidth||1,r=Tm(t.height)/s.offsetHeight||1;return a!==1||r!==1}function rQ(s,t,a){a===void 0&&(a=!1);var r=Dl(t),n=Dl(t)&&aQ(t),i=Ad(t),l=Mm(s,n,a),c={scrollLeft:0,scrollTop:0},o={x:0,y:0};return(r||!r&&!a)&&((jd(t)!=="body"||nC(i))&&(c=sQ(t)),Dl(t)?(o=Mm(t,!0),o.x+=t.clientLeft,o.y+=t.clientTop):i&&(o.x=rC(i))),{x:l.left+c.scrollLeft-o.x,y:l.top+c.scrollTop-o.y,width:l.width,height:l.height}}function nQ(s){var t=new Map,a=new Set,r=[];s.forEach(function(i){t.set(i.name,i)});function n(i){a.add(i.name);var l=[].concat(i.requires||[],i.requiresIfExists||[]);l.forEach(function(c){if(!a.has(c)){var o=t.get(c);o&&n(o)}}),r.push(i)}return s.forEach(function(i){a.has(i.name)||n(i)}),r}function iQ(s){var t=nQ(s);return vK.reduce(function(a,r){return a.concat(t.filter(function(n){return n.phase===r}))},[])}function lQ(s){var t;return function(){return t||(t=new Promise(function(a){Promise.resolve().then(function(){t=void 0,a(s())})})),t}}function cQ(s){var t=s.reduce(function(a,r){var n=a[r.name];return a[r.name]=n?Object.assign({},n,r,{options:Object.assign({},n.options,r.options),data:Object.assign({},n.data,r.data)}):r,a},{});return Object.keys(t).map(function(a){return t[a]})}var S3={placement:"bottom",modifiers:[],strategy:"absolute"};function _3(){for(var s=arguments.length,t=new Array(s),a=0;a<s;a++)t[a]=arguments[a];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function oQ(s){s===void 0&&(s={});var t=s,a=t.defaultModifiers,r=a===void 0?[]:a,n=t.defaultOptions,i=n===void 0?S3:n;return function(c,o,u){u===void 0&&(u=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},S3,i),modifiersData:{},elements:{reference:c,popper:o},attributes:{},styles:{}},f=[],p=!1,j={state:d,setOptions:function(S){var C=typeof S=="function"?S(d.options):S;k(),d.options=Object.assign({},i,d.options,C),d.scrollParents={reference:qh(c)?xp(c):c.contextElement?xp(c.contextElement):[],popper:xp(o)};var _=iQ(cQ([].concat(r,d.options.modifiers)));return d.orderedModifiers=_.filter(function(A){return A.enabled}),y(),j.update()},forceUpdate:function(){if(!p){var S=d.elements,C=S.reference,_=S.popper;if(_3(C,_)){d.rects={reference:rQ(C,ug(_),d.options.strategy==="fixed"),popper:tC(_)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(I){return d.modifiersData[I.name]=Object.assign({},I.data)});for(var A=0;A<d.orderedModifiers.length;A++){if(d.reset===!0){d.reset=!1,A=-1;continue}var D=d.orderedModifiers[A],M=D.fn,L=D.options,F=L===void 0?{}:L,Q=D.name;typeof M=="function"&&(d=M({state:d,options:F,name:Q,instance:j})||d)}}}},update:lQ(function(){return new Promise(function(v){j.forceUpdate(),v(d)})}),destroy:function(){k(),p=!0}};if(!_3(c,o))return j;j.setOptions(u).then(function(v){!p&&u.onFirstUpdate&&u.onFirstUpdate(v)});function y(){d.orderedModifiers.forEach(function(v){var S=v.name,C=v.options,_=C===void 0?{}:C,A=v.effect;if(typeof A=="function"){var D=A({state:d,name:S,instance:j,options:_}),M=function(){};f.push(D||M)}})}function k(){f.forEach(function(v){return v()}),f=[]}return j}}const dQ=oQ({defaultModifiers:[VK,XK,MK,OK,KK,qK,eQ,CK]}),hQ=["enabled","placement","strategy","modifiers"];function uQ(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)>=0)continue;a[r]=s[r]}return a}const mQ={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},xQ={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:s})=>()=>{const{reference:t,popper:a}=s.elements;if("removeAttribute"in t){const r=(t.getAttribute("aria-describedby")||"").split(",").filter(n=>n.trim()!==a.id);r.length?t.setAttribute("aria-describedby",r.join(",")):t.removeAttribute("aria-describedby")}},fn:({state:s})=>{var t;const{popper:a,reference:r}=s.elements,n=(t=a.getAttribute("role"))==null?void 0:t.toLowerCase();if(a.id&&n==="tooltip"&&"setAttribute"in r){const i=r.getAttribute("aria-describedby");if(i&&i.split(",").indexOf(a.id)!==-1)return;r.setAttribute("aria-describedby",i?`${i},${a.id}`:a.id)}}},fQ=[];function bI(s,t,a={}){let{enabled:r=!0,placement:n="bottom",strategy:i="absolute",modifiers:l=fQ}=a,c=uQ(a,hQ);const o=x.useRef(l),u=x.useRef(),d=x.useCallback(()=>{var v;(v=u.current)==null||v.update()},[]),f=x.useCallback(()=>{var v;(v=u.current)==null||v.forceUpdate()},[]),[p,j]=cK(x.useState({placement:n,update:d,forceUpdate:f,attributes:{},styles:{popper:{},arrow:{}}})),y=x.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:v})=>{const S={},C={};Object.keys(v.elements).forEach(_=>{S[_]=v.styles[_],C[_]=v.attributes[_]}),j({state:v,styles:S,attributes:C,update:d,forceUpdate:f,placement:v.placement})}}),[d,f,j]),k=x.useMemo(()=>(up(o.current,l)||(o.current=l),o.current),[l]);return x.useEffect(()=>{!u.current||!r||u.current.setOptions({placement:n,strategy:i,modifiers:[...k,y,mQ]})},[i,n,y,r,k]),x.useEffect(()=>{if(!(!r||s==null||t==null))return u.current=dQ(s,t,Object.assign({},c,{placement:n,strategy:i,modifiers:[...k,xQ,y]})),()=>{u.current!=null&&(u.current.destroy(),u.current=void 0,j(v=>Object.assign({},v,{attributes:{},styles:{popper:{}}})))}},[r,s,t]),p}function Mp(s,t){if(s.contains)return s.contains(t);if(s.compareDocumentPosition)return s===t||!!(s.compareDocumentPosition(t)&16)}var cw,C3;function pQ(){if(C3)return cw;C3=1;var s=function(){};return cw=s,cw}var gQ=pQ();const yQ=Va(gQ),E3=()=>{};function jQ(s){return s.button===0}function vQ(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}const _v=s=>s&&("current"in s?s.current:s),A3={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function NI(s,t=E3,{disabled:a,clickTrigger:r="click"}={}){const n=x.useRef(!1),i=x.useRef(!1),l=x.useCallback(u=>{const d=_v(s);yQ(!!d,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),n.current=!d||vQ(u)||!jQ(u)||!!Mp(d,u.target)||i.current,i.current=!1},[s]),c=wr(u=>{const d=_v(s);d&&Mp(d,u.target)?i.current=!0:i.current=!1}),o=wr(u=>{n.current||t(u)});x.useEffect(()=>{var u,d;if(a||s==null)return;const f=sx(_v(s)),p=f.defaultView||window;let j=(u=p.event)!=null?u:(d=p.parent)==null?void 0:d.event,y=null;A3[r]&&(y=_c(f,A3[r],c,!0));const k=_c(f,r,l,!0),v=_c(f,r,C=>{if(C===j){j=void 0;return}o(C)});let S=[];return"ontouchstart"in f.documentElement&&(S=[].slice.call(f.body.children).map(C=>_c(C,"mousemove",E3))),()=>{y?.(),k(),v(),S.forEach(C=>C())}},[s,a,r,l,c,o])}function bQ(s){const t={};return Array.isArray(s)?(s?.forEach(a=>{t[a.name]=a}),t):s||t}function NQ(s={}){return Array.isArray(s)?s:Object.keys(s).map(t=>(s[t].name=t,s[t]))}function wI({enabled:s,enableEvents:t,placement:a,flip:r,offset:n,fixed:i,containerPadding:l,arrowElement:c,popperConfig:o={}}){var u,d,f,p,j;const y=bQ(o.modifiers);return Object.assign({},o,{placement:a,enabled:s,strategy:i?"fixed":o.strategy,modifiers:NQ(Object.assign({},y,{eventListeners:{enabled:t,options:(u=y.eventListeners)==null?void 0:u.options},preventOverflow:Object.assign({},y.preventOverflow,{options:l?Object.assign({padding:l},(d=y.preventOverflow)==null?void 0:d.options):(f=y.preventOverflow)==null?void 0:f.options}),offset:{options:Object.assign({offset:n},(p=y.offset)==null?void 0:p.options)},arrow:Object.assign({},y.arrow,{enabled:!!c,options:Object.assign({},(j=y.arrow)==null?void 0:j.options,{element:c})}),flip:Object.assign({enabled:!!r},y.flip)}))})}const wQ=["children","usePopper"];function kQ(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)>=0)continue;a[r]=s[r]}return a}const SQ=()=>{};function kI(s={}){const t=x.useContext(xN),[a,r]=Qk(),n=x.useRef(!1),{flip:i,offset:l,rootCloseEvent:c,fixed:o=!1,placement:u,popperConfig:d={},enableEventListeners:f=!0,usePopper:p=!!t}=s,j=t?.show==null?!!s.show:t.show;j&&!n.current&&(n.current=!0);const y=M=>{t?.toggle(!1,M)},{placement:k,setMenu:v,menuElement:S,toggleElement:C}=t||{},_=bI(C,S,wI({placement:u||k||"bottom-start",enabled:p,enableEvents:f??j,offset:l,flip:i,fixed:o,arrowElement:a,popperConfig:d})),A=Object.assign({ref:v||SQ,"aria-labelledby":C?.id},_.attributes.popper,{style:_.styles.popper}),D={show:j,placement:k,hasShown:n.current,toggle:t?.toggle,popper:p?_:null,arrowProps:p?Object.assign({ref:r},_.attributes.arrow,{style:_.styles.arrow}):{}};return NI(S,y,{clickTrigger:c,disabled:!j}),[A,D]}function SI(s){let{children:t,usePopper:a=!0}=s,r=kQ(s,wQ);const[n,i]=kI(Object.assign({},r,{usePopper:a}));return e.jsx(e.Fragment,{children:t(n,i)})}SI.displayName="DropdownMenu";const _I={prefix:String(Math.round(Math.random()*1e10)),current:0},CI=Fs.createContext(_I),_Q=Fs.createContext(!1);let ow=new WeakMap;function CQ(s=!1){let t=x.useContext(CI),a=x.useRef(null);if(a.current===null&&!s){var r,n;let i=(n=Fs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||n===void 0||(r=n.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(i){let l=ow.get(i);l==null?ow.set(i,{id:t.current,state:i.memoizedState}):i.memoizedState!==l.state&&(t.current=l.id,ow.delete(i))}a.current=++t.current}return a.current}function EQ(s){let t=x.useContext(CI),a=CQ(!!s),r=`react-aria${t.prefix}`;return s||`${r}-${a}`}function AQ(s){let t=Fs.useId(),[a]=x.useState(OQ()),r=a?"react-aria":`react-aria${_I.prefix}`;return s||`${r}-${t}`}const EI=typeof Fs.useId=="function"?AQ:EQ;function TQ(){return!1}function MQ(){return!0}function DQ(s){return()=>{}}function OQ(){return typeof Fs.useSyncExternalStore=="function"?Fs.useSyncExternalStore(DQ,TQ,MQ):x.useContext(_Q)}const AI=s=>{var t;return((t=s.getAttribute("role"))==null?void 0:t.toLowerCase())==="menu"},T3=()=>{};function TI(){const s=EI(),{show:t=!1,toggle:a=T3,setToggle:r,menuElement:n}=x.useContext(xN)||{},i=x.useCallback(c=>{a(!t,c)},[t,a]),l={id:s,ref:r||T3,onClick:i,"aria-expanded":!!t};return n&&AI(n)&&(l["aria-haspopup"]=!0),[l,{show:t,toggle:a}]}function MI({children:s}){const[t,a]=TI();return e.jsx(e.Fragment,{children:s(t,a)})}MI.displayName="DropdownToggle";const Pl=x.createContext(null),vd=(s,t=null)=>s!=null?String(s):t||null,pN=x.createContext(null);pN.displayName="NavContext";const RQ="data-rr-ui-",$Q="rrUi";function nx(s){return`${RQ}${s}`}function PQ(s){return`${$Q}${s}`}const IQ=["eventKey","disabled","onClick","active","as"];function BQ(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)>=0)continue;a[r]=s[r]}return a}function DI({key:s,href:t,active:a,disabled:r,onClick:n}){const i=x.useContext(Pl),l=x.useContext(pN),{activeKey:c}=l||{},o=vd(s,t),u=a==null&&s!=null?vd(c)===o:a;return[{onClick:wr(f=>{r||(n?.(f),i&&!f.isPropagationStopped()&&i(o,f))}),"aria-disabled":r||void 0,"aria-selected":u,[nx("dropdown-item")]:""},{isActive:u}]}const OI=x.forwardRef((s,t)=>{let{eventKey:a,disabled:r,onClick:n,active:i,as:l=Q_}=s,c=BQ(s,IQ);const[o]=DI({key:a,href:c.href,disabled:r,onClick:n,active:i});return e.jsx(l,Object.assign({},c,{ref:t},o))});OI.displayName="DropdownItem";const RI=x.createContext(ax?window:void 0);RI.Provider;function gN(){return x.useContext(RI)}function M3(){const s=hI(),t=x.useRef(null),a=x.useCallback(r=>{t.current=r,s()},[s]);return[t,a]}function mg({defaultShow:s,show:t,onSelect:a,onToggle:r,itemSelector:n=`* [${nx("dropdown-item")}]`,focusFirstItemOnShow:i,placement:l="bottom-start",children:c}){const o=gN(),[u,d]=dI(t,s,r),[f,p]=M3(),j=f.current,[y,k]=M3(),v=y.current,S=K8(u),C=x.useRef(null),_=x.useRef(!1),A=x.useContext(Pl),D=x.useCallback((H,z,K=z?.type)=>{d(H,{originalEvent:z,source:K})},[d]),M=wr((H,z)=>{a?.(H,z),D(!1,z,"select"),z.isPropagationStopped()||A?.(H,z)}),L=x.useMemo(()=>({toggle:D,placement:l,show:u,menuElement:j,toggleElement:v,setMenu:p,setToggle:k}),[D,l,u,j,v,p,k]);j&&S&&!u&&(_.current=j.contains(j.ownerDocument.activeElement));const F=wr(()=>{v&&v.focus&&v.focus()}),Q=wr(()=>{const H=C.current;let z=i;if(z==null&&(z=f.current&&AI(f.current)?"keyboard":!1),z===!1||z==="keyboard"&&!/^key.+$/.test(H))return;const K=Nc(f.current,n)[0];K&&K.focus&&K.focus()});x.useEffect(()=>{u?Q():_.current&&(_.current=!1,F())},[u,_,F,Q]),x.useEffect(()=>{C.current=null});const I=(H,z)=>{if(!f.current)return null;const K=Nc(f.current,n);let U=K.indexOf(H)+z;return U=Math.max(0,Math.min(U,K.length)),K[U]};return UY(x.useCallback(()=>o.document,[o]),"keydown",H=>{var z,K;const{key:U}=H,V=H.target,P=(z=f.current)==null?void 0:z.contains(V),q=(K=y.current)==null?void 0:K.contains(V);if(/input|textarea/i.test(V.tagName)&&(U===" "||U!=="Escape"&&P||U==="Escape"&&V.type==="search")||!P&&!q||U==="Tab"&&(!f.current||!u))return;C.current=H.type;const se={originalEvent:H,source:H.type};switch(U){case"ArrowUp":{const O=I(V,-1);O&&O.focus&&O.focus(),H.preventDefault();return}case"ArrowDown":if(H.preventDefault(),!u)d(!0,se);else{const O=I(V,1);O&&O.focus&&O.focus()}return;case"Tab":G_(V.ownerDocument,"keyup",O=>{var W;(O.key==="Tab"&&!O.target||!((W=f.current)!=null&&W.contains(O.target)))&&d(!1,se)},{once:!0});break;case"Escape":U==="Escape"&&(H.preventDefault(),H.stopPropagation()),d(!1,se);break}}),e.jsx(Pl.Provider,{value:M,children:e.jsx(xN.Provider,{value:L,children:c})})}mg.displayName="Dropdown";mg.Menu=SI;mg.Toggle=MI;mg.Item=OI;const iC=x.createContext({});iC.displayName="DropdownContext";const $I=x.forwardRef(({className:s,bsPrefix:t,as:a="hr",role:r="separator",...n},i)=>(t=ut(t,"dropdown-divider"),e.jsx(a,{ref:i,className:ct(s,t),role:r,...n})));$I.displayName="DropdownDivider";const PI=x.forwardRef(({className:s,bsPrefix:t,as:a="div",role:r="heading",...n},i)=>(t=ut(t,"dropdown-header"),e.jsx(a,{ref:i,className:ct(s,t),role:r,...n})));PI.displayName="DropdownHeader";const II=x.forwardRef(({bsPrefix:s,className:t,eventKey:a,disabled:r=!1,onClick:n,active:i,as:l=og,...c},o)=>{const u=ut(s,"dropdown-item"),[d,f]=DI({key:a,href:c.href,disabled:r,onClick:n,active:i});return e.jsx(l,{...c,...d,ref:o,className:ct(t,u,f.isActive&&"active",r&&"disabled")})});II.displayName="DropdownItem";const BI=x.forwardRef(({className:s,bsPrefix:t,as:a="span",...r},n)=>(t=ut(t,"dropdown-item-text"),e.jsx(a,{ref:n,className:ct(s,t),...r})));BI.displayName="DropdownItemText";const LQ=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",FQ=typeof document<"u",lC=FQ||LQ?x.useLayoutEffect:x.useEffect,yN=x.createContext(null);yN.displayName="InputGroupContext";const ru=x.createContext(null);ru.displayName="NavbarContext";function LI(s,t){return s}function FI(s,t,a){const r=a?"top-end":"top-start",n=a?"top-start":"top-end",i=a?"bottom-end":"bottom-start",l=a?"bottom-start":"bottom-end",c=a?"right-start":"left-start",o=a?"right-end":"left-end",u=a?"left-start":"right-start",d=a?"left-end":"right-end";let f=s?l:i;return t==="up"?f=s?n:r:t==="end"?f=s?d:u:t==="start"?f=s?o:c:t==="down-centered"?f="bottom":t==="up-centered"&&(f="top"),f}const zI=x.forwardRef(({bsPrefix:s,className:t,align:a,rootCloseEvent:r,flip:n=!0,show:i,renderOnMount:l,as:c="div",popperConfig:o,variant:u,...d},f)=>{let p=!1;const j=x.useContext(ru),y=ut(s,"dropdown-menu"),{align:k,drop:v,isRTL:S}=x.useContext(iC);a=a||k;const C=x.useContext(yN),_=[];if(a)if(typeof a=="object"){const H=Object.keys(a);if(H.length){const z=H[0],K=a[z];p=K==="start",_.push(`${y}-${z}-${K}`)}}else a==="end"&&(p=!0);const A=FI(p,v,S),[D,{hasShown:M,popper:L,show:F,toggle:Q}]=kI({flip:n,rootCloseEvent:r,show:i,usePopper:!j&&_.length===0,offset:[0,2],popperConfig:o,placement:A});if(D.ref=rx(LI(f),D.ref),lC(()=>{F&&L?.update()},[F]),!M&&!l&&!C)return null;typeof c!="string"&&(D.show=F,D.close=()=>Q?.(!1),D.align=a);let I=d.style;return L!=null&&L.placement&&(I={...d.style,...D.style},d["x-placement"]=L.placement),e.jsx(c,{...d,...D,style:I,...(_.length||j)&&{"data-bs-popper":"static"},className:ct(t,y,F&&"show",p&&`${y}-end`,u&&`${y}-${u}`,..._)})});zI.displayName="DropdownMenu";const HI=x.forwardRef(({bsPrefix:s,split:t,className:a,childBsPrefix:r,as:n=$,...i},l)=>{const c=ut(s,"dropdown-toggle"),o=x.useContext(xN);r!==void 0&&(i.bsPrefix=r);const[u]=TI();return u.ref=rx(u.ref,LI(l)),e.jsx(n,{className:ct(a,c,t&&`${c}-split`,o?.show&&"show"),...u,...i})});HI.displayName="DropdownToggle";const UI=x.forwardRef((s,t)=>{const{bsPrefix:a,drop:r="down",show:n,className:i,align:l="start",onSelect:c,onToggle:o,focusFirstItemOnShow:u,as:d="div",navbar:f,autoClose:p=!0,...j}=su(s,{show:"onToggle"}),y=x.useContext(yN),k=ut(a,"dropdown"),v=hN(),S=L=>p===!1?L==="click":p==="inside"?L!=="rootClose":p==="outside"?L!=="select":!0,C=Ui((L,F)=>{var Q;!((Q=F.originalEvent)==null||(Q=Q.target)==null)&&Q.classList.contains("dropdown-toggle")&&F.source==="mousedown"||(F.originalEvent.currentTarget===document&&(F.source!=="keydown"||F.originalEvent.key==="Escape")&&(F.source="rootClose"),S(F.source)&&o?.(L,F))}),A=FI(l==="end",r,v),D=x.useMemo(()=>({align:l,drop:r,isRTL:v}),[l,r,v]),M={down:k,"down-centered":`${k}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return e.jsx(iC.Provider,{value:D,children:e.jsx(mg,{placement:A,show:n,onSelect:c,onToggle:C,focusFirstItemOnShow:u,itemSelector:`.${k}-item:not(.disabled):not(:disabled)`,children:y?j.children:e.jsx(d,{...j,ref:t,className:ct(i,n&&"show",M[r])})})})});UI.displayName="Dropdown";const at=Object.assign(UI,{Toggle:HI,Menu:zI,Item:II,ItemText:BI,Divider:$I,Header:PI});ka.string,ka.bool,ka.bool,ka.bool,ka.bool;const Mt=x.forwardRef(({bsPrefix:s,className:t,fluid:a=!1,rounded:r=!1,roundedCircle:n=!1,thumbnail:i=!1,...l},c)=>(s=ut(s,"img"),e.jsx("img",{ref:c,...l,className:ct(t,a&&`${s}-fluid`,r&&"rounded",n&&"rounded-circle",i&&`${s}-thumbnail`)})));Mt.displayName="Image";const zQ={type:ka.string,tooltip:ka.bool,as:ka.elementType},jN=x.forwardRef(({as:s="div",className:t,type:a="valid",tooltip:r=!1,...n},i)=>e.jsx(s,{...n,ref:i,className:ct(t,`${a}-${r?"tooltip":"feedback"}`)}));jN.displayName="Feedback";jN.propTypes=zQ;const Hc=x.createContext({}),xg=x.forwardRef(({id:s,bsPrefix:t,className:a,type:r="checkbox",isValid:n=!1,isInvalid:i=!1,as:l="input",...c},o)=>{const{controlId:u}=x.useContext(Hc);return t=ut(t,"form-check-input"),e.jsx(l,{...c,ref:o,type:r,id:s||u,className:ct(a,t,n&&"is-valid",i&&"is-invalid")})});xg.displayName="FormCheckInput";const qv=x.forwardRef(({bsPrefix:s,className:t,htmlFor:a,...r},n)=>{const{controlId:i}=x.useContext(Hc);return s=ut(s,"form-check-label"),e.jsx("label",{...r,ref:n,htmlFor:a||i,className:ct(t,s)})});qv.displayName="FormCheckLabel";const qI=x.forwardRef(({id:s,bsPrefix:t,bsSwitchPrefix:a,inline:r=!1,reverse:n=!1,disabled:i=!1,isValid:l=!1,isInvalid:c=!1,feedbackTooltip:o=!1,feedback:u,feedbackType:d,className:f,style:p,title:j="",type:y="checkbox",label:k,children:v,as:S="input",...C},_)=>{t=ut(t,"form-check"),a=ut(a,"form-switch");const{controlId:A}=x.useContext(Hc),D=x.useMemo(()=>({controlId:s||A}),[A,s]),M=!v&&k!=null&&k!==!1||nK(v,qv),L=e.jsx(xg,{...C,type:y==="switch"?"checkbox":y,ref:_,isValid:l,isInvalid:c,disabled:i,as:S});return e.jsx(Hc.Provider,{value:D,children:e.jsx("div",{style:p,className:ct(f,M&&t,r&&`${t}-inline`,n&&`${t}-reverse`,y==="switch"&&a),children:v||e.jsxs(e.Fragment,{children:[L,M&&e.jsx(qv,{title:j,children:k}),u&&e.jsx(jN,{type:d,tooltip:o,children:u})]})})})});qI.displayName="FormCheck";const Gv=Object.assign(qI,{Input:xg,Label:qv}),GI=x.forwardRef(({bsPrefix:s,type:t,size:a,htmlSize:r,id:n,className:i,isValid:l=!1,isInvalid:c=!1,plaintext:o,readOnly:u,as:d="input",...f},p)=>{const{controlId:j}=x.useContext(Hc);return s=ut(s,"form-control"),e.jsx(d,{...f,type:t,size:r,ref:p,readOnly:u,id:n||j,className:ct(i,o?`${s}-plaintext`:s,a&&`${s}-${a}`,t==="color"&&`${s}-color`,l&&"is-valid",c&&"is-invalid")})});GI.displayName="FormControl";const HQ=Object.assign(GI,{Feedback:jN}),VI=x.forwardRef(({className:s,bsPrefix:t,as:a="div",...r},n)=>(t=ut(t,"form-floating"),e.jsx(a,{ref:n,className:ct(s,t),...r})));VI.displayName="FormFloating";const cC=x.forwardRef(({controlId:s,as:t="div",...a},r)=>{const n=x.useMemo(()=>({controlId:s}),[s]);return e.jsx(Hc.Provider,{value:n,children:e.jsx(t,{...a,ref:r})})});cC.displayName="FormGroup";const WI=x.forwardRef(({as:s="label",bsPrefix:t,column:a=!1,visuallyHidden:r=!1,className:n,htmlFor:i,...l},c)=>{const{controlId:o}=x.useContext(Hc);t=ut(t,"form-label");let u="col-form-label";typeof a=="string"&&(u=`${u} ${u}-${a}`);const d=ct(n,t,r&&"visually-hidden",a&&u);return i=i||o,a?e.jsx(T,{ref:c,as:"label",className:d,htmlFor:i,...l}):e.jsx(s,{ref:c,className:d,htmlFor:i,...l})});WI.displayName="FormLabel";const YI=x.forwardRef(({bsPrefix:s,className:t,id:a,...r},n)=>{const{controlId:i}=x.useContext(Hc);return s=ut(s,"form-range"),e.jsx("input",{...r,type:"range",ref:n,className:ct(t,s),id:a||i})});YI.displayName="FormRange";const KI=x.forwardRef(({bsPrefix:s,size:t,htmlSize:a,className:r,isValid:n=!1,isInvalid:i=!1,id:l,...c},o)=>{const{controlId:u}=x.useContext(Hc);return s=ut(s,"form-select"),e.jsx("select",{...c,size:a,ref:o,className:ct(r,s,t&&`${s}-${t}`,n&&"is-valid",i&&"is-invalid"),id:l||u})});KI.displayName="FormSelect";const QI=x.forwardRef(({bsPrefix:s,className:t,as:a="small",muted:r,...n},i)=>(s=ut(s,"form-text"),e.jsx(a,{...n,ref:i,className:ct(t,s,r&&"text-muted")})));QI.displayName="FormText";const XI=x.forwardRef((s,t)=>e.jsx(Gv,{...s,ref:t,type:"switch"}));XI.displayName="Switch";const UQ=Object.assign(XI,{Input:Gv.Input,Label:Gv.Label}),ZI=x.forwardRef(({bsPrefix:s,className:t,children:a,controlId:r,label:n,...i},l)=>(s=ut(s,"form-floating"),e.jsxs(cC,{ref:l,className:ct(t,s),controlId:r,...i,children:[a,e.jsx("label",{htmlFor:r,children:n})]})));ZI.displayName="FloatingLabel";const qQ={_ref:ka.any,validated:ka.bool,as:ka.elementType},oC=x.forwardRef(({className:s,validated:t,as:a="form",...r},n)=>e.jsx(a,{...r,ref:n,className:ct(s,t&&"was-validated")}));oC.displayName="Form";oC.propTypes=qQ;const b=Object.assign(oC,{Group:cC,Control:HQ,Floating:VI,Check:Gv,Switch:UQ,Label:WI,Text:QI,Range:YI,Select:KI,FloatingLabel:ZI}),vN=x.forwardRef(({className:s,bsPrefix:t,as:a="span",...r},n)=>(t=ut(t,"input-group-text"),e.jsx(a,{ref:n,className:ct(s,t),...r})));vN.displayName="InputGroupText";const GQ=s=>e.jsx(vN,{children:e.jsx(xg,{type:"checkbox",...s})}),VQ=s=>e.jsx(vN,{children:e.jsx(xg,{type:"radio",...s})}),JI=x.forwardRef(({bsPrefix:s,size:t,hasValidation:a,className:r,as:n="div",...i},l)=>{s=ut(s,"input-group");const c=x.useMemo(()=>({}),[]);return e.jsx(yN.Provider,{value:c,children:e.jsx(n,{ref:l,...i,className:ct(r,s,t&&`${s}-${t}`,a&&"has-validation")})})});JI.displayName="InputGroup";const bd=Object.assign(JI,{Text:vN,Radio:VQ,Checkbox:GQ}),D3=s=>!s||typeof s=="function"?s:t=>{s.current=t};function WQ(s,t){const a=D3(s),r=D3(t);return n=>{a&&a(n),r&&r(n)}}function fg(s,t){return x.useMemo(()=>WQ(s,t),[s,t])}const ix=x.createContext(null),YQ=["as","active","eventKey"];function KQ(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)>=0)continue;a[r]=s[r]}return a}function dC({key:s,onClick:t,active:a,id:r,role:n,disabled:i}){const l=x.useContext(Pl),c=x.useContext(pN),o=x.useContext(ix);let u=a;const d={role:n};if(c){!n&&c.role==="tablist"&&(d.role="tab");const f=c.getControllerId(s??null),p=c.getControlledId(s??null);d[nx("event-key")]=s,d.id=f||r,u=a==null&&s!=null?c.activeKey===s:a,(u||!(o!=null&&o.unmountOnExit)&&!(o!=null&&o.mountOnEnter))&&(d["aria-controls"]=p)}return d.role==="tab"&&(d["aria-selected"]=u,u||(d.tabIndex=-1),i&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=wr(f=>{i||(t?.(f),s!=null&&l&&!f.isPropagationStopped()&&l(s,f))}),[d,{isActive:u}]}const eB=x.forwardRef((s,t)=>{let{as:a=Q_,active:r,eventKey:n}=s,i=KQ(s,YQ);const[l,c]=dC(Object.assign({key:vd(n,i.href),active:r},i));return l[nx("active")]=c.isActive,e.jsx(a,Object.assign({},i,l,{ref:t}))});eB.displayName="NavItem";const QQ=["as","onSelect","activeKey","role","onKeyDown"];function XQ(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)>=0)continue;a[r]=s[r]}return a}const O3=()=>{},R3=nx("event-key"),tB=x.forwardRef((s,t)=>{let{as:a="div",onSelect:r,activeKey:n,role:i,onKeyDown:l}=s,c=XQ(s,QQ);const o=hI(),u=x.useRef(!1),d=x.useContext(Pl),f=x.useContext(ix);let p,j;f&&(i=i||"tablist",n=f.activeKey,p=f.getControlledId,j=f.getControllerId);const y=x.useRef(null),k=_=>{const A=y.current;if(!A)return null;const D=Nc(A,`[${R3}]:not([aria-disabled=true])`),M=A.querySelector("[aria-selected=true]");if(!M||M!==document.activeElement)return null;const L=D.indexOf(M);if(L===-1)return null;let F=L+_;return F>=D.length&&(F=0),F<0&&(F=D.length-1),D[F]},v=(_,A)=>{_!=null&&(r?.(_,A),d?.(_,A))},S=_=>{if(l?.(_),!f)return;let A;switch(_.key){case"ArrowLeft":case"ArrowUp":A=k(-1);break;case"ArrowRight":case"ArrowDown":A=k(1);break;default:return}A&&(_.preventDefault(),v(A.dataset[PQ("EventKey")]||null,_),u.current=!0,o())};x.useEffect(()=>{if(y.current&&u.current){const _=y.current.querySelector(`[${R3}][aria-selected=true]`);_?.focus()}u.current=!1});const C=fg(t,y);return e.jsx(Pl.Provider,{value:v,children:e.jsx(pN.Provider,{value:{role:i,activeKey:vd(n),getControlledId:p||O3,getControllerId:j||O3},children:e.jsx(a,Object.assign({},c,{onKeyDown:S,ref:C,role:i}))})})});tB.displayName="Nav";const sB=Object.assign(tB,{Item:eB}),aB=x.forwardRef(({bsPrefix:s,active:t,disabled:a,eventKey:r,className:n,variant:i,action:l,as:c,...o},u)=>{s=ut(s,"list-group-item");const[d,f]=dC({key:vd(r,o.href),active:t,...o}),p=Ui(y=>{if(a){y.preventDefault(),y.stopPropagation();return}d.onClick(y)});a&&o.tabIndex===void 0&&(o.tabIndex=-1,o["aria-disabled"]=!0);const j=c||(l?o.href?"a":"button":"div");return e.jsx(j,{ref:u,...o,...d,onClick:p,className:ct(n,s,f.isActive&&"active",a&&"disabled",i&&`${s}-${i}`,l&&`${s}-action`)})});aB.displayName="ListGroupItem";const rB=x.forwardRef((s,t)=>{const{className:a,bsPrefix:r,variant:n,horizontal:i,numbered:l,as:c="div",...o}=su(s,{activeKey:"onSelect"}),u=ut(r,"list-group");let d;return i&&(d=i===!0?"horizontal":`horizontal-${i}`),e.jsx(sB,{ref:t,...o,as:c,className:ct(a,u,n&&`${u}-${n}`,d&&`${u}-${d}`,l&&`${u}-numbered`)})});rB.displayName="ListGroup";const Vv=Object.assign(rB,{Item:aB});var Fj;function $3(s){if((!Fj&&Fj!==0||s)&&ax){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Fj=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Fj}function ZQ(){return x.useState(null)}function dw(s){s===void 0&&(s=sx());try{var t=s.activeElement;return!t||!t.nodeName?null:t}catch{return s.body}}function JQ(s){const t=x.useRef(s);return t.current=s,t}function eX(s){const t=JQ(s);x.useEffect(()=>()=>t.current(),[])}function tX(s=document){const t=s.defaultView;return Math.abs(t.innerWidth-s.documentElement.clientWidth)}const P3=nx("modal-open");class hC{constructor({ownerDocument:t,handleContainerOverflow:a=!0,isRTL:r=!1}={}){this.handleContainerOverflow=a,this.isRTL=r,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return tX(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const a={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",n=this.getElement();t.style={overflow:n.style.overflow,[r]:n.style[r]},t.scrollBarWidth&&(a[r]=`${parseInt(Oc(n,r)||"0",10)+t.scrollBarWidth}px`),n.setAttribute(P3,""),Oc(n,a)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const a=this.getElement();a.removeAttribute(P3),Object.assign(a.style,t.style)}add(t){let a=this.modals.indexOf(t);return a!==-1||(a=this.modals.length,this.modals.push(t),this.setModalAttributes(t),a!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),a}remove(t){const a=this.modals.indexOf(t);a!==-1&&(this.modals.splice(a,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const hw=(s,t)=>ax?s==null?(t||sx()).body:(typeof s=="function"&&(s=s()),s&&"current"in s&&(s=s.current),s&&("nodeType"in s||s.getBoundingClientRect)?s:null):null;function tS(s,t){const a=gN(),[r,n]=x.useState(()=>hw(s,a?.document));if(!r){const i=hw(s);i&&n(i)}return x.useEffect(()=>{},[t,r]),x.useEffect(()=>{const i=hw(s);i!==r&&n(i)},[s,r]),r}function uC({children:s,in:t,onExited:a,mountOnEnter:r,unmountOnExit:n}){const i=x.useRef(null),l=x.useRef(t),c=wr(a);x.useEffect(()=>{t?l.current=!0:c(i.current)},[t,c]);const o=fg(i,au(s)),u=x.cloneElement(s,{ref:o});return t?u:n||!l.current&&r?null:u}const sX=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function aX(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)>=0)continue;a[r]=s[r]}return a}function rX(s){let{onEnter:t,onEntering:a,onEntered:r,onExit:n,onExiting:i,onExited:l,addEndListener:c,children:o}=s,u=aX(s,sX);const d=x.useRef(null),f=fg(d,au(o)),p=A=>D=>{A&&d.current&&A(d.current,D)},j=x.useCallback(p(t),[t]),y=x.useCallback(p(a),[a]),k=x.useCallback(p(r),[r]),v=x.useCallback(p(n),[n]),S=x.useCallback(p(i),[i]),C=x.useCallback(p(l),[l]),_=x.useCallback(p(c),[c]);return Object.assign({},u,{nodeRef:d},t&&{onEnter:j},a&&{onEntering:y},r&&{onEntered:k},n&&{onExit:v},i&&{onExiting:S},l&&{onExited:C},c&&{addEndListener:_},{children:typeof o=="function"?(A,D)=>o(A,Object.assign({},D,{ref:f})):x.cloneElement(o,{ref:f})})}const nX=["component"];function iX(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)>=0)continue;a[r]=s[r]}return a}const lX=x.forwardRef((s,t)=>{let{component:a}=s,r=iX(s,nX);const n=rX(r);return e.jsx(a,Object.assign({ref:t},n))});function cX({in:s,onTransition:t}){const a=x.useRef(null),r=x.useRef(!0),n=wr(t);return f3(()=>{if(!a.current)return;let i=!1;return n({in:s,element:a.current,initial:r.current,isStale:()=>i}),()=>{i=!0}},[s,n]),f3(()=>(r.current=!1,()=>{r.current=!0}),[]),a}function oX({children:s,in:t,onExited:a,onEntered:r,transition:n}){const[i,l]=x.useState(!t);t&&i&&l(!1);const c=cX({in:!!t,onTransition:u=>{const d=()=>{u.isStale()||(u.in?r?.(u.element,u.initial):(l(!0),a?.(u.element)))};Promise.resolve(n(u)).then(d,f=>{throw u.in||l(!0),f})}}),o=fg(c,au(s));return i&&!t?null:x.cloneElement(s,{ref:o})}function sS(s,t,a){return s?e.jsx(lX,Object.assign({},a,{component:s})):t?e.jsx(oX,Object.assign({},a,{transition:t})):e.jsx(uC,Object.assign({},a))}const dX=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function hX(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)>=0)continue;a[r]=s[r]}return a}let uw;function uX(s){return uw||(uw=new hC({ownerDocument:s?.document})),uw}function mX(s){const t=gN(),a=s||uX(t),r=x.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>a.add(r.current),remove:()=>a.remove(r.current),isTopModal:()=>a.isTopModal(r.current),setDialogRef:x.useCallback(n=>{r.current.dialog=n},[]),setBackdropRef:x.useCallback(n=>{r.current.backdrop=n},[])})}const nB=x.forwardRef((s,t)=>{let{show:a=!1,role:r="dialog",className:n,style:i,children:l,backdrop:c=!0,keyboard:o=!0,onBackdropClick:u,onEscapeKeyDown:d,transition:f,runTransition:p,backdropTransition:j,runBackdropTransition:y,autoFocus:k=!0,enforceFocus:v=!0,restoreFocus:S=!0,restoreFocusOptions:C,renderDialog:_,renderBackdrop:A=ae=>e.jsx("div",Object.assign({},ae)),manager:D,container:M,onShow:L,onHide:F=()=>{},onExit:Q,onExited:I,onExiting:H,onEnter:z,onEntering:K,onEntered:U}=s,V=hX(s,dX);const P=gN(),q=tS(M),G=mX(D),se=Y8(),O=K8(a),[W,Z]=x.useState(!a),te=x.useRef(null);x.useImperativeHandle(t,()=>G,[G]),ax&&!O&&a&&(te.current=dw(P?.document)),a&&W&&Z(!1);const ie=wr(()=>{if(G.add(),Oe.current=_c(document,"keydown",re),ve.current=_c(document,"focus",()=>setTimeout(J),!0),L&&L(),k){var ae,ye;const st=dw((ae=(ye=G.dialog)==null?void 0:ye.ownerDocument)!=null?ae:P?.document);G.dialog&&st&&!Mp(G.dialog,st)&&(te.current=st,G.dialog.focus())}}),fe=wr(()=>{if(G.remove(),Oe.current==null||Oe.current(),ve.current==null||ve.current(),S){var ae;(ae=te.current)==null||ae.focus==null||ae.focus(C),te.current=null}});x.useEffect(()=>{!a||!q||ie()},[a,q,ie]),x.useEffect(()=>{W&&fe()},[W,fe]),eX(()=>{fe()});const J=wr(()=>{if(!v||!se()||!G.isTopModal())return;const ae=dw(P?.document);G.dialog&&ae&&!Mp(G.dialog,ae)&&G.dialog.focus()}),ge=wr(ae=>{ae.target===ae.currentTarget&&(u?.(ae),c===!0&&F())}),re=wr(ae=>{o&&B8(ae)&&G.isTopModal()&&(d?.(ae),ae.defaultPrevented||F())}),ve=x.useRef(),Oe=x.useRef(),ee=(...ae)=>{Z(!0),I?.(...ae)};if(!q)return null;const me=Object.assign({role:r,ref:G.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},V,{style:i,className:n,tabIndex:-1});let Xe=_?_(me):e.jsx("div",Object.assign({},me,{children:x.cloneElement(l,{role:"document"})}));Xe=sS(f,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!a,onExit:Q,onExiting:H,onExited:ee,onEnter:z,onEntering:K,onEntered:U,children:Xe});let Se=null;return c&&(Se=A({ref:G.setBackdropRef,onClick:ge}),Se=sS(j,y,{in:!!a,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Se})),e.jsx(e.Fragment,{children:kh.createPortal(e.jsxs(e.Fragment,{children:[Se,Xe]}),q)})});nB.displayName="Modal";const iB=Object.assign(nB,{Manager:hC});function aS(s,t){return s.classList?!!t&&s.classList.contains(t):(" "+(s.className.baseVal||s.className)+" ").indexOf(" "+t+" ")!==-1}function xX(s,t){s.classList?s.classList.add(t):aS(s,t)||(typeof s.className=="string"?s.className=s.className+" "+t:s.setAttribute("class",(s.className&&s.className.baseVal||"")+" "+t))}function I3(s,t){return s.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function fX(s,t){s.classList?s.classList.remove(t):typeof s.className=="string"?s.className=I3(s.className,t):s.setAttribute("class",I3(s.className&&s.className.baseVal||"",t))}const cm={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class lB extends hC{adjustAndStore(t,a,r){const n=a.style[t];a.dataset[t]=n,Oc(a,{[t]:`${parseFloat(Oc(a,t))+r}px`})}restore(t,a){const r=a.dataset[t];r!==void 0&&(delete a.dataset[t],Oc(a,{[t]:r}))}setContainerStyle(t){super.setContainerStyle(t);const a=this.getElement();if(xX(a,"modal-open"),!t.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",n=this.isRTL?"marginLeft":"marginRight";Nc(a,cm.FIXED_CONTENT).forEach(i=>this.adjustAndStore(r,i,t.scrollBarWidth)),Nc(a,cm.STICKY_CONTENT).forEach(i=>this.adjustAndStore(n,i,-t.scrollBarWidth)),Nc(a,cm.NAVBAR_TOGGLER).forEach(i=>this.adjustAndStore(n,i,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const a=this.getElement();fX(a,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",n=this.isRTL?"marginLeft":"marginRight";Nc(a,cm.FIXED_CONTENT).forEach(i=>this.restore(r,i)),Nc(a,cm.STICKY_CONTENT).forEach(i=>this.restore(n,i)),Nc(a,cm.NAVBAR_TOGGLER).forEach(i=>this.restore(n,i))}}let mw;function cB(s){return mw||(mw=new lB(s)),mw}const oB=x.forwardRef(({className:s,bsPrefix:t,as:a="div",...r},n)=>(t=ut(t,"modal-body"),e.jsx(a,{ref:n,className:ct(s,t),...r})));oB.displayName="ModalBody";const mC=x.createContext({onHide(){}}),xC=x.forwardRef(({bsPrefix:s,className:t,contentClassName:a,centered:r,size:n,fullscreen:i,children:l,scrollable:c,...o},u)=>{s=ut(s,"modal");const d=`${s}-dialog`,f=typeof i=="string"?`${s}-fullscreen-${i}`:`${s}-fullscreen`;return e.jsx("div",{...o,ref:u,className:ct(d,t,n&&`${s}-${n}`,r&&`${d}-centered`,c&&`${d}-scrollable`,i&&f),children:e.jsx("div",{className:ct(`${s}-content`,a),children:l})})});xC.displayName="ModalDialog";const dB=x.forwardRef(({className:s,bsPrefix:t,as:a="div",...r},n)=>(t=ut(t,"modal-footer"),e.jsx(a,{ref:n,className:ct(s,t),...r})));dB.displayName="ModalFooter";const fC=x.forwardRef(({closeLabel:s="Close",closeVariant:t,closeButton:a=!1,onHide:r,children:n,...i},l)=>{const c=x.useContext(mC),o=Ui(()=>{c?.onHide(),r?.()});return e.jsxs("div",{ref:l,...i,children:[n,a&&e.jsx(dg,{"aria-label":s,variant:t,onClick:o})]})});fC.displayName="AbstractModalHeader";const hB=x.forwardRef(({bsPrefix:s,className:t,closeLabel:a="Close",closeButton:r=!1,...n},i)=>(s=ut(s,"modal-header"),e.jsx(fC,{ref:i,...n,className:ct(t,s),closeLabel:a,closeButton:r})));hB.displayName="ModalHeader";const pX=cg("h4"),uB=x.forwardRef(({className:s,bsPrefix:t,as:a=pX,...r},n)=>(t=ut(t,"modal-title"),e.jsx(a,{ref:n,className:ct(s,t),...r})));uB.displayName="ModalTitle";function gX(s){return e.jsx(qi,{...s,timeout:null})}function yX(s){return e.jsx(qi,{...s,timeout:null})}const mB=x.forwardRef(({bsPrefix:s,className:t,style:a,dialogClassName:r,contentClassName:n,children:i,dialogAs:l=xC,"data-bs-theme":c,"aria-labelledby":o,"aria-describedby":u,"aria-label":d,show:f=!1,animation:p=!0,backdrop:j=!0,keyboard:y=!0,onEscapeKeyDown:k,onShow:v,onHide:S,container:C,autoFocus:_=!0,enforceFocus:A=!0,restoreFocus:D=!0,restoreFocusOptions:M,onEntered:L,onExit:F,onExiting:Q,onEnter:I,onEntering:H,onExited:z,backdropClassName:K,manager:U,...V},P)=>{const[q,G]=x.useState({}),[se,O]=x.useState(!1),W=x.useRef(!1),Z=x.useRef(!1),te=x.useRef(null),[ie,fe]=ZQ(),J=rx(P,fe),ge=Ui(S),re=hN();s=ut(s,"modal");const ve=x.useMemo(()=>({onHide:ge}),[ge]);function Oe(){return U||cB({isRTL:re})}function ee(nt){if(!ax)return;const It=Oe().getScrollbarWidth()>0,ps=nt.scrollHeight>sx(nt).documentElement.clientHeight;G({paddingRight:It&&!ps?$3():void 0,paddingLeft:!It&&ps?$3():void 0})}const me=Ui(()=>{ie&&ee(ie.dialog)});lI(()=>{Kk(window,"resize",me),te.current==null||te.current()});const Xe=()=>{W.current=!0},Se=nt=>{W.current&&ie&&nt.target===ie.dialog&&(Z.current=!0),W.current=!1},ae=()=>{O(!0),te.current=L8(ie.dialog,()=>{O(!1)})},ye=nt=>{nt.target===nt.currentTarget&&ae()},st=nt=>{if(j==="static"){ye(nt);return}if(Z.current||nt.target!==nt.currentTarget){Z.current=!1;return}S?.()},He=nt=>{y?k?.(nt):(nt.preventDefault(),j==="static"&&ae())},ke=(nt,It)=>{nt&&ee(nt),I?.(nt,It)},we=nt=>{te.current==null||te.current(),F?.(nt)},Ke=(nt,It)=>{H?.(nt,It),G_(window,"resize",me)},Ee=nt=>{nt&&(nt.style.display=""),z?.(nt),Kk(window,"resize",me)},je=x.useCallback(nt=>e.jsx("div",{...nt,className:ct(`${s}-backdrop`,K,!p&&"show")}),[p,K,s]),Ve={...a,...q};Ve.display="block";const Nt=nt=>e.jsx("div",{role:"dialog",...nt,style:Ve,className:ct(t,s,se&&`${s}-static`,!p&&"show"),onClick:j?st:void 0,onMouseUp:Se,"data-bs-theme":c,"aria-label":d,"aria-labelledby":o,"aria-describedby":u,children:e.jsx(l,{...V,onMouseDown:Xe,className:r,contentClassName:n,children:i})});return e.jsx(mC.Provider,{value:ve,children:e.jsx(iB,{show:f,ref:J,backdrop:j,container:C,keyboard:!0,autoFocus:_,enforceFocus:A,restoreFocus:D,restoreFocusOptions:M,onEscapeKeyDown:He,onShow:v,onHide:S,onEnter:ke,onEntering:Ke,onEntered:L,onExit:we,onExiting:Q,onExited:Ee,manager:Oe(),transition:p?gX:void 0,backdropTransition:p?yX:void 0,renderBackdrop:je,renderDialog:Nt})})});mB.displayName="Modal";const Y=Object.assign(mB,{Body:oB,Header:hB,Title:uB,Footer:dB,Dialog:xC,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),pC=x.forwardRef(({className:s,bsPrefix:t,as:a="div",...r},n)=>(t=ut(t,"nav-item"),e.jsx(a,{ref:n,className:ct(s,t),...r})));pC.displayName="NavItem";const gC=x.forwardRef(({bsPrefix:s,className:t,as:a=og,active:r,eventKey:n,disabled:i=!1,...l},c)=>{s=ut(s,"nav-link");const[o,u]=dC({key:vd(n,l.href),active:r,disabled:i,...l});return e.jsx(a,{...l,...o,ref:c,disabled:i,className:ct(t,s,i&&"disabled",u.isActive&&"active")})});gC.displayName="NavLink";const xB=x.forwardRef((s,t)=>{const{as:a="div",bsPrefix:r,variant:n,fill:i=!1,justify:l=!1,navbar:c,navbarScroll:o,className:u,activeKey:d,...f}=su(s,{activeKey:"onSelect"}),p=ut(r,"nav");let j,y,k=!1;const v=x.useContext(ru),S=x.useContext(Z_);return v?(j=v.bsPrefix,k=c??!0):S&&({cardHeaderBsPrefix:y}=S),e.jsx(sB,{as:a,ref:t,activeKey:d,className:ct(u,{[p]:!k,[`${j}-nav`]:k,[`${j}-nav-scroll`]:k&&o,[`${y}-${n}`]:!!y,[`${p}-${n}`]:!!n,[`${p}-fill`]:i,[`${p}-justified`]:l}),...f})});xB.displayName="Nav";const rS=Object.assign(xB,{Item:pC,Link:gC}),fB=x.forwardRef(({bsPrefix:s,className:t,as:a,...r},n)=>{s=ut(s,"navbar-brand");const i=a||(r.href?"a":"span");return e.jsx(i,{...r,ref:n,className:ct(t,s)})});fB.displayName="NavbarBrand";const pB=x.forwardRef(({children:s,bsPrefix:t,...a},r)=>{t=ut(t,"navbar-collapse");const n=x.useContext(ru);return e.jsx(Oa,{in:!!(n&&n.expanded),...a,children:e.jsx("div",{ref:r,className:t,children:s})})});pB.displayName="NavbarCollapse";const gB=x.forwardRef(({bsPrefix:s,className:t,children:a,label:r="Toggle navigation",as:n="button",onClick:i,...l},c)=>{s=ut(s,"navbar-toggler");const{onToggle:o,expanded:u}=x.useContext(ru)||{},d=Ui(f=>{i&&i(f),o&&o()});return n==="button"&&(l.type="button"),e.jsx(n,{...l,ref:c,onClick:d,"aria-label":r,className:ct(t,s,!u&&"collapsed"),children:a||e.jsx("span",{className:`${s}-icon`})})});gB.displayName="NavbarToggle";const nS=new WeakMap,B3=(s,t)=>{if(!s||!t)return;const a=nS.get(t)||new Map;nS.set(t,a);let r=a.get(s);return r||(r=t.matchMedia(s),r.refCount=0,a.set(r.media,r)),r};function jX(s,t=typeof window>"u"?void 0:window){const a=B3(s,t),[r,n]=x.useState(()=>a?a.matches:!1);return lC(()=>{let i=B3(s,t);if(!i)return n(!1);let l=nS.get(t);const c=()=>{n(i.matches)};return i.refCount++,i.addListener(c),c(),()=>{i.removeListener(c),i.refCount--,i.refCount<=0&&l?.delete(i.media),i=void 0}},[s]),r}function vX(s){const t=Object.keys(s);function a(c,o){return c===o?o:c?`${c} and ${o}`:o}function r(c){return t[Math.min(t.indexOf(c)+1,t.length-1)]}function n(c){const o=r(c);let u=s[o];return typeof u=="number"?u=`${u-.2}px`:u=`calc(${u} - 0.2px)`,`(max-width: ${u})`}function i(c){let o=s[c];return typeof o=="number"&&(o=`${o}px`),`(min-width: ${o})`}function l(c,o,u){let d;typeof c=="object"?(d=c,u=o,o=!0):(o=o||!0,d={[c]:o});let f=x.useMemo(()=>Object.entries(d).reduce((p,[j,y])=>((y==="up"||y===!0)&&(p=a(p,i(j))),(y==="down"||y===!0)&&(p=a(p,n(j))),p),""),[JSON.stringify(d)]);return jX(f,u)}return l}const bX=vX({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),yB=x.forwardRef(({className:s,bsPrefix:t,as:a="div",...r},n)=>(t=ut(t,"offcanvas-body"),e.jsx(a,{ref:n,className:ct(s,t),...r})));yB.displayName="OffcanvasBody";const NX={[hi]:"show",[kc]:"show"},jB=x.forwardRef(({bsPrefix:s,className:t,children:a,in:r=!1,mountOnEnter:n=!1,unmountOnExit:i=!1,appear:l=!1,...c},o)=>(s=ut(s,"offcanvas"),e.jsx(uN,{ref:o,addEndListener:V_,in:r,mountOnEnter:n,unmountOnExit:i,appear:l,...c,childRef:au(a),children:(u,d)=>x.cloneElement(a,{...d,className:ct(t,a.props.className,(u===hi||u===Em)&&`${s}-toggling`,NX[u])})})));jB.displayName="OffcanvasToggling";const vB=x.forwardRef(({bsPrefix:s,className:t,closeLabel:a="Close",closeButton:r=!1,...n},i)=>(s=ut(s,"offcanvas-header"),e.jsx(fC,{ref:i,...n,className:ct(t,s),closeLabel:a,closeButton:r})));vB.displayName="OffcanvasHeader";const wX=cg("h5"),bB=x.forwardRef(({className:s,bsPrefix:t,as:a=wX,...r},n)=>(t=ut(t,"offcanvas-title"),e.jsx(a,{ref:n,className:ct(s,t),...r})));bB.displayName="OffcanvasTitle";function kX(s){return e.jsx(jB,{...s})}function SX(s){return e.jsx(qi,{...s})}const NB=x.forwardRef(({bsPrefix:s,className:t,children:a,"aria-labelledby":r,placement:n="start",responsive:i,show:l=!1,backdrop:c=!0,keyboard:o=!0,scroll:u=!1,onEscapeKeyDown:d,onShow:f,onHide:p,container:j,autoFocus:y=!0,enforceFocus:k=!0,restoreFocus:v=!0,restoreFocusOptions:S,onEntered:C,onExit:_,onExiting:A,onEnter:D,onEntering:M,onExited:L,backdropClassName:F,manager:Q,renderStaticNode:I=!1,...H},z)=>{const K=x.useRef();s=ut(s,"offcanvas");const[U,V]=x.useState(!1),P=Ui(p),q=bX(i||"xs","up");x.useEffect(()=>{V(i?l&&!q:l)},[l,i,q]);const G=x.useMemo(()=>({onHide:P}),[P]);function se(){return Q||(u?(K.current||(K.current=new lB({handleContainerOverflow:!1})),K.current):cB())}const O=(ie,...fe)=>{ie&&(ie.style.visibility="visible"),D?.(ie,...fe)},W=(ie,...fe)=>{ie&&(ie.style.visibility=""),L?.(...fe)},Z=x.useCallback(ie=>e.jsx("div",{...ie,className:ct(`${s}-backdrop`,F)}),[F,s]),te=ie=>e.jsx("div",{...ie,...H,className:ct(t,i?`${s}-${i}`:s,`${s}-${n}`),"aria-labelledby":r,children:a});return e.jsxs(e.Fragment,{children:[!U&&(i||I)&&te({}),e.jsx(mC.Provider,{value:G,children:e.jsx(iB,{show:U,ref:z,backdrop:c,container:j,keyboard:o,autoFocus:y,enforceFocus:k&&!u,restoreFocus:v,restoreFocusOptions:S,onEscapeKeyDown:d,onShow:f,onHide:P,onEnter:O,onEntering:M,onEntered:C,onExit:_,onExiting:A,onExited:W,manager:se(),transition:kX,backdropTransition:SX,renderBackdrop:Z,renderDialog:te})})]})});NB.displayName="Offcanvas";const _X=Object.assign(NB,{Body:yB,Header:vB,Title:bB}),wB=x.forwardRef(({onHide:s,...t},a)=>{const r=x.useContext(ru),n=Ui(()=>{r==null||r.onToggle==null||r.onToggle(),s?.()});return e.jsx(_X,{ref:a,show:!!(r!=null&&r.expanded),...t,renderStaticNode:!0,onHide:n})});wB.displayName="NavbarOffcanvas";const kB=x.forwardRef(({className:s,bsPrefix:t,as:a="span",...r},n)=>(t=ut(t,"navbar-text"),e.jsx(a,{ref:n,className:ct(s,t),...r})));kB.displayName="NavbarText";const SB=x.forwardRef((s,t)=>{const{bsPrefix:a,expand:r=!0,variant:n="light",bg:i,fixed:l,sticky:c,className:o,as:u="nav",expanded:d,onToggle:f,onSelect:p,collapseOnSelect:j=!1,...y}=su(s,{expanded:"onToggle"}),k=ut(a,"navbar"),v=x.useCallback((..._)=>{p?.(..._),j&&d&&f?.(!1)},[p,j,d,f]);y.role===void 0&&u!=="nav"&&(y.role="navigation");let S=`${k}-expand`;typeof r=="string"&&(S=`${S}-${r}`);const C=x.useMemo(()=>({onToggle:()=>f?.(!d),bsPrefix:k,expanded:!!d,expand:r}),[k,d,r,f]);return e.jsx(ru.Provider,{value:C,children:e.jsx(Pl.Provider,{value:v,children:e.jsx(u,{ref:t,...y,className:ct(o,k,r&&S,n&&`${k}-${n}`,i&&`bg-${i}`,c&&`sticky-${c}`,l&&`fixed-${l}`)})})})});SB.displayName="Navbar";const xi=Object.assign(SB,{Brand:fB,Collapse:pB,Offcanvas:wB,Text:kB,Toggle:gB}),CX=()=>{};function EX(s,t,{disabled:a,clickTrigger:r}={}){const n=t||CX;NI(s,n,{disabled:a,clickTrigger:r});const i=wr(l=>{B8(l)&&n(l)});x.useEffect(()=>{if(a||s==null)return;const l=sx(_v(s));let c=(l.defaultView||window).event;const o=_c(l,"keyup",u=>{if(u===c){c=void 0;return}i(u)});return()=>{o()}},[s,a,i])}const _B=x.forwardRef((s,t)=>{const{flip:a,offset:r,placement:n,containerPadding:i,popperConfig:l={},transition:c,runTransition:o}=s,[u,d]=Qk(),[f,p]=Qk(),j=fg(d,t),y=tS(s.container),k=tS(s.target),[v,S]=x.useState(!s.show),C=bI(k,u,wI({placement:n,enableEvents:!!s.show,containerPadding:i||5,flip:a,offset:r,arrowElement:f,popperConfig:l}));s.show&&v&&S(!1);const _=(...H)=>{S(!0),s.onExited&&s.onExited(...H)},A=s.show||!v;if(EX(u,s.onHide,{disabled:!s.rootClose||s.rootCloseDisabled,clickTrigger:s.rootCloseEvent}),!A)return null;const{onExit:D,onExiting:M,onEnter:L,onEntering:F,onEntered:Q}=s;let I=s.children(Object.assign({},C.attributes.popper,{style:C.styles.popper,ref:j}),{popper:C,placement:n,show:!!s.show,arrowProps:Object.assign({},C.attributes.arrow,{style:C.styles.arrow,ref:p})});return I=sS(c,o,{in:!!s.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:I,onExit:D,onExiting:M,onExited:_,onEnter:L,onEntering:F,onEntered:Q}),y?kh.createPortal(I,y):null});_B.displayName="Overlay";const CB=x.forwardRef(({className:s,bsPrefix:t,as:a="div",...r},n)=>(t=ut(t,"popover-header"),e.jsx(a,{ref:n,className:ct(s,t),...r})));CB.displayName="PopoverHeader";const yC=x.forwardRef(({className:s,bsPrefix:t,as:a="div",...r},n)=>(t=ut(t,"popover-body"),e.jsx(a,{ref:n,className:ct(s,t),...r})));yC.displayName="PopoverBody";function EB(s,t){let a=s;return s==="left"?a=t?"end":"start":s==="right"&&(a=t?"start":"end"),a}function AB(s="absolute"){return{position:s,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const TB=x.forwardRef(({bsPrefix:s,placement:t="right",className:a,style:r,children:n,body:i,arrowProps:l,hasDoneInitialMeasure:c,popper:o,show:u,...d},f)=>{const p=ut(s,"popover"),j=hN(),[y]=t?.split("-")||[],k=EB(y,j);let v=r;return u&&!c&&(v={...r,...AB(o?.strategy)}),e.jsxs("div",{ref:f,role:"tooltip",style:v,"x-placement":y,className:ct(a,p,y&&`bs-popover-${k}`),...d,children:[e.jsx("div",{className:"popover-arrow",...l}),i?e.jsx(yC,{children:n}):n]})});TB.displayName="Popover";const AX=Object.assign(TB,{Header:CB,Body:yC,POPPER_OFFSET:[0,8]}),MB=x.forwardRef(({bsPrefix:s,placement:t="right",className:a,style:r,children:n,arrowProps:i,hasDoneInitialMeasure:l,popper:c,show:o,...u},d)=>{s=ut(s,"tooltip");const f=hN(),[p]=t?.split("-")||[],j=EB(p,f);let y=r;return o&&!l&&(y={...r,...AB(c?.strategy)}),e.jsxs("div",{ref:d,style:y,role:"tooltip","x-placement":p,className:ct(a,s,`bs-tooltip-${j}`),...u,children:[e.jsx("div",{className:"tooltip-arrow",...i}),e.jsx("div",{className:`${s}-inner`,children:n})]})});MB.displayName="Tooltip";const iS=Object.assign(MB,{TOOLTIP_OFFSET:[0,6]});function TX(s){const t=x.useRef(null),a=ut(void 0,"popover"),r=ut(void 0,"tooltip"),n=x.useMemo(()=>({name:"offset",options:{offset:()=>{if(s)return s;if(t.current){if(aS(t.current,a))return AX.POPPER_OFFSET;if(aS(t.current,r))return iS.TOOLTIP_OFFSET}return[0,0]}}}),[s,a,r]);return[t,[n]]}function MX(s,t){const{ref:a}=s,{ref:r}=t;s.ref=a.__wrapped||(a.__wrapped=n=>a(Hv(n))),t.ref=r.__wrapped||(r.__wrapped=n=>r(Hv(n)))}const DB=x.forwardRef(({children:s,transition:t=qi,popperConfig:a={},rootClose:r=!1,placement:n="top",show:i=!1,...l},c)=>{const o=x.useRef({}),[u,d]=x.useState(null),[f,p]=TX(l.offset),j=rx(c,f),y=t===!0?qi:t||void 0,k=Ui(v=>{d(v),a==null||a.onFirstUpdate==null||a.onFirstUpdate(v)});return lC(()=>{u&&l.target&&(o.current.scheduleUpdate==null||o.current.scheduleUpdate())},[u,l.target]),x.useEffect(()=>{i||d(null)},[i]),e.jsx(_B,{...l,ref:j,popperConfig:{...a,modifiers:p.concat(a.modifiers||[]),onFirstUpdate:k},transition:y,rootClose:r,placement:n,show:i,children:(v,{arrowProps:S,popper:C,show:_})=>{var A;MX(v,S);const D=C?.placement,M=Object.assign(o.current,{state:C?.state,scheduleUpdate:C?.update,placement:D,outOfBoundaries:(C==null||(A=C.state)==null||(A=A.modifiersData.hide)==null?void 0:A.isReferenceHidden)||!1,strategy:a.strategy}),L=!!u;return typeof s=="function"?s({...v,placement:D,show:_,...!t&&_&&{className:"show"},popper:M,arrowProps:S,hasDoneInitialMeasure:L}):x.cloneElement(s,{...v,placement:D,arrowProps:S,popper:M,hasDoneInitialMeasure:L,className:ct(s.props.className,!t&&_&&"show"),style:{...s.props.style,...v.style}})}})});DB.displayName="Overlay";function DX(s){return s&&typeof s=="object"?s:{show:s,hide:s}}function L3(s,t,a){const[r]=t,n=r.currentTarget,i=r.relatedTarget||r.nativeEvent[a];(!i||i!==n)&&!Mp(n,i)&&s(...t)}ka.oneOf(["click","hover","focus"]);const F3=({trigger:s=["hover","focus"],overlay:t,children:a,popperConfig:r={},show:n,defaultShow:i=!1,onToggle:l,delay:c,placement:o,flip:u=o&&o.indexOf("auto")!==-1,...d})=>{const f=x.useRef(null),p=rx(f,au(a)),j=oI(),y=x.useRef(""),[k,v]=R8(n,i,l),S=DX(c),{onFocus:C,onBlur:_,onClick:A}=typeof a!="function"?x.Children.only(a).props:{},D=V=>{p(Hv(V))},M=x.useCallback(()=>{if(j.clear(),y.current="show",!S.show){v(!0);return}j.set(()=>{y.current==="show"&&v(!0)},S.show)},[S.show,v,j]),L=x.useCallback(()=>{if(j.clear(),y.current="hide",!S.hide){v(!1);return}j.set(()=>{y.current==="hide"&&v(!1)},S.hide)},[S.hide,v,j]),F=x.useCallback((...V)=>{M(),C?.(...V)},[M,C]),Q=x.useCallback((...V)=>{L(),_?.(...V)},[L,_]),I=x.useCallback((...V)=>{v(!k),A?.(...V)},[A,v,k]),H=x.useCallback((...V)=>{L3(M,V,"fromElement")},[M]),z=x.useCallback((...V)=>{L3(L,V,"toElement")},[L]),K=s==null?[]:[].concat(s),U={ref:D};return K.indexOf("click")!==-1&&(U.onClick=I),K.indexOf("focus")!==-1&&(U.onFocus=F,U.onBlur=Q),K.indexOf("hover")!==-1&&(U.onMouseOver=H,U.onMouseOut=z),e.jsxs(e.Fragment,{children:[typeof a=="function"?a(U):x.cloneElement(a,U),e.jsx(DB,{...d,show:k,onHide:L,flip:u,placement:o,popperConfig:r,target:f.current,children:t})]})},jC=x.forwardRef(({active:s=!1,disabled:t=!1,className:a,style:r,activeLabel:n="(current)",children:i,linkStyle:l,linkClassName:c,as:o=og,...u},d)=>{const f=s||t?"span":o;return e.jsx("li",{ref:d,style:r,className:ct(a,"page-item",{active:s,disabled:t}),children:e.jsxs(f,{className:ct("page-link",c),style:l,...u,children:[i,s&&n&&e.jsx("span",{className:"visually-hidden",children:n})]})})});jC.displayName="PageItem";function pg(s,t,a=s){const r=x.forwardRef(({children:n,...i},l)=>e.jsxs(jC,{...i,ref:l,children:[e.jsx("span",{"aria-hidden":"true",children:n||t}),e.jsx("span",{className:"visually-hidden",children:a})]}));return r.displayName=s,r}const OX=pg("First","«"),RX=pg("Prev","‹","Previous"),$X=pg("Ellipsis","…","More"),PX=pg("Next","›"),IX=pg("Last","»"),OB=x.forwardRef(({bsPrefix:s,className:t,size:a,...r},n)=>{const i=ut(s,"pagination");return e.jsx("ul",{ref:n,...r,className:ct(t,i,a&&`${i}-${a}`)})});OB.displayName="Pagination";const uh=Object.assign(OB,{First:OX,Prev:RX,Ellipsis:$X,Item:jC,Next:PX,Last:IX}),z3=1e3;function BX(s,t,a){const r=(s-t)/(a-t)*100;return Math.round(r*z3)/z3}function H3({min:s,now:t,max:a,label:r,visuallyHidden:n,striped:i,animated:l,className:c,style:o,variant:u,bsPrefix:d,...f},p){return e.jsx("div",{ref:p,...f,role:"progressbar",className:ct(c,`${d}-bar`,{[`bg-${u}`]:u,[`${d}-bar-animated`]:l,[`${d}-bar-striped`]:l||i}),style:{width:`${BX(t,s,a)}%`,...o},"aria-valuenow":t,"aria-valuemin":s,"aria-valuemax":a,children:n?e.jsx("span",{className:"visually-hidden",children:r}):r})}const Zt=x.forwardRef(({isChild:s=!1,...t},a)=>{const r={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,...t};if(r.bsPrefix=ut(r.bsPrefix,"progress"),s)return H3(r,a);const{min:n,now:i,max:l,label:c,visuallyHidden:o,striped:u,animated:d,bsPrefix:f,variant:p,className:j,children:y,...k}=r;return e.jsx("div",{ref:a,...k,className:ct(j,f),children:y?Zk(y,v=>x.cloneElement(v,{isChild:!0})):H3({min:n,now:i,max:l,label:c,visuallyHidden:o,striped:u,animated:d,bsPrefix:f,variant:p},a)})});Zt.displayName="ProgressBar";const pe=x.forwardRef(({bsPrefix:s,className:t,as:a="div",...r},n)=>{const i=ut(s,"row"),l=$8(),c=P8(),o=`${i}-cols`,u=[];return l.forEach(d=>{const f=r[d];delete r[d];let p;f!=null&&typeof f=="object"?{cols:p}=f:p=f;const j=d!==c?`-${d}`:"";p!=null&&u.push(`${o}${j}-${p}`)}),e.jsx(a,{ref:n,...r,className:ct(t,i,...u)})});pe.displayName="Row";const tt=x.forwardRef(({bsPrefix:s,variant:t,animation:a="border",size:r,as:n="div",className:i,...l},c)=>{s=ut(s,"spinner");const o=`${s}-${a}`;return e.jsx(n,{ref:c,...l,className:ct(i,o,r&&`${o}-${r}`,t&&`text-${t}`)})});tt.displayName="Spinner";const LX=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],FX=["activeKey","getControlledId","getControllerId"],zX=["as"];function lS(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)>=0)continue;a[r]=s[r]}return a}function RB(s){let{active:t,eventKey:a,mountOnEnter:r,transition:n,unmountOnExit:i,role:l="tabpanel",onEnter:c,onEntering:o,onEntered:u,onExit:d,onExiting:f,onExited:p}=s,j=lS(s,LX);const y=x.useContext(ix);if(!y)return[Object.assign({},j,{role:l}),{eventKey:a,isActive:t,mountOnEnter:r,transition:n,unmountOnExit:i,onEnter:c,onEntering:o,onEntered:u,onExit:d,onExiting:f,onExited:p}];const{activeKey:k,getControlledId:v,getControllerId:S}=y,C=lS(y,FX),_=vd(a);return[Object.assign({},j,{role:l,id:v(a),"aria-labelledby":S(a)}),{eventKey:a,isActive:t==null&&_!=null?vd(k)===_:t,transition:n||C.transition,mountOnEnter:r??C.mountOnEnter,unmountOnExit:i??C.unmountOnExit,onEnter:c,onEntering:o,onEntered:u,onExit:d,onExiting:f,onExited:p}]}const $B=x.forwardRef((s,t)=>{let{as:a="div"}=s,r=lS(s,zX);const[n,{isActive:i,onEnter:l,onEntering:c,onEntered:o,onExit:u,onExiting:d,onExited:f,mountOnEnter:p,unmountOnExit:j,transition:y=uC}]=RB(r);return e.jsx(ix.Provider,{value:null,children:e.jsx(Pl.Provider,{value:null,children:e.jsx(y,{in:i,onEnter:l,onEntering:c,onEntered:o,onExit:u,onExiting:d,onExited:f,mountOnEnter:p,unmountOnExit:j,children:e.jsx(a,Object.assign({},n,{ref:t,hidden:!i,"aria-hidden":!i}))})})})});$B.displayName="TabPanel";const vC=s=>{const{id:t,generateChildId:a,onSelect:r,activeKey:n,defaultActiveKey:i,transition:l,mountOnEnter:c,unmountOnExit:o,children:u}=s,[d,f]=dI(n,i,r),p=EI(t),j=x.useMemo(()=>a||((k,v)=>p?`${p}-${v}-${k}`:null),[p,a]),y=x.useMemo(()=>({onSelect:f,activeKey:d,transition:l,mountOnEnter:c||!1,unmountOnExit:o||!1,getControlledId:k=>j(k,"tabpane"),getControllerId:k=>j(k,"tab")}),[f,d,l,c,o,j]);return e.jsx(ix.Provider,{value:y,children:e.jsx(Pl.Provider,{value:f||null,children:u})})};vC.Panel=$B;function bC(s){return typeof s=="boolean"?s?qi:uC:s}const PB=({transition:s,...t})=>e.jsx(vC,{...t,transition:bC(s)});PB.displayName="TabContainer";const NC=x.forwardRef(({className:s,bsPrefix:t,as:a="div",...r},n)=>(t=ut(t,"tab-content"),e.jsx(a,{ref:n,className:ct(s,t),...r})));NC.displayName="TabContent";const wC=x.forwardRef(({bsPrefix:s,transition:t,...a},r)=>{const[{className:n,as:i="div",...l},{isActive:c,onEnter:o,onEntering:u,onEntered:d,onExit:f,onExiting:p,onExited:j,mountOnEnter:y,unmountOnExit:k,transition:v=qi}]=RB({...a,transition:bC(t)}),S=ut(s,"tab-pane");return e.jsx(ix.Provider,{value:null,children:e.jsx(Pl.Provider,{value:null,children:e.jsx(v,{in:c,onEnter:o,onEntering:u,onEntered:d,onExit:f,onExiting:p,onExited:j,mountOnEnter:y,unmountOnExit:k,children:e.jsx(i,{...l,ref:r,className:ct(n,S,c&&"active")})})})})});wC.displayName="TabPane";const HX={eventKey:ka.oneOfType([ka.string,ka.number]),title:ka.node.isRequired,disabled:ka.bool,tabClassName:ka.string,tabAttrs:ka.object},IB=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};IB.propTypes=HX;const xs=Object.assign(IB,{Container:PB,Content:NC,Pane:wC}),Et=x.forwardRef(({bsPrefix:s,className:t,striped:a,bordered:r,borderless:n,hover:i,size:l,variant:c,responsive:o,...u},d)=>{const f=ut(s,"table"),p=ct(t,f,c&&`${f}-${c}`,l&&`${f}-${l}`,a&&`${f}-${typeof a=="string"?`striped-${a}`:"striped"}`,r&&`${f}-bordered`,n&&`${f}-borderless`,i&&`${f}-hover`),j=e.jsx("table",{...u,className:p,ref:d});if(o){let y=`${f}-responsive`;return typeof o=="string"&&(y=`${y}-${o}`),e.jsx("div",{className:y,children:j})}return j});Et.displayName="Table";function UX(s){let t;return rK(s,a=>{t==null&&(t=a.props.eventKey)}),t}function qX(s){const{title:t,eventKey:a,disabled:r,tabClassName:n,tabAttrs:i,id:l}=s.props;return t==null?null:e.jsx(pC,{as:"li",role:"presentation",children:e.jsx(gC,{as:"button",type:"button",eventKey:a,disabled:r,id:l,className:n,...i,children:t})})}const Fi=s=>{const{id:t,onSelect:a,transition:r,mountOnEnter:n=!1,unmountOnExit:i=!1,variant:l="tabs",children:c,activeKey:o=UX(c),...u}=su(s,{activeKey:"onSelect"});return e.jsxs(vC,{id:t,activeKey:o,onSelect:a,transition:bC(r),mountOnEnter:n,unmountOnExit:i,children:[e.jsx(rS,{id:t,...u,role:"tablist",as:"ul",variant:l,children:Zk(c,qX)}),e.jsx(NC,{children:Zk(c,d=>{const f={...d.props};return delete f.title,delete f.disabled,delete f.tabClassName,delete f.tabAttrs,e.jsx(wC,{...f})})})]})};Fi.displayName="Tabs";const GX={[hi]:"showing",[Em]:"showing show"},BB=x.forwardRef((s,t)=>e.jsx(qi,{...s,ref:t,transitionClasses:GX}));BB.displayName="ToastFade";const LB=x.createContext({onClose(){}}),FB=x.forwardRef(({bsPrefix:s,closeLabel:t="Close",closeVariant:a,closeButton:r=!0,className:n,children:i,...l},c)=>{s=ut(s,"toast-header");const o=x.useContext(LB),u=Ui(d=>{o==null||o.onClose==null||o.onClose(d)});return e.jsxs("div",{ref:c,...l,className:ct(s,n),children:[i,r&&e.jsx(dg,{"aria-label":t,variant:a,onClick:u,"data-dismiss":"toast"})]})});FB.displayName="ToastHeader";const zB=x.forwardRef(({className:s,bsPrefix:t,as:a="div",...r},n)=>(t=ut(t,"toast-body"),e.jsx(a,{ref:n,className:ct(s,t),...r})));zB.displayName="ToastBody";const HB=x.forwardRef(({bsPrefix:s,className:t,transition:a=BB,show:r=!0,animation:n=!0,delay:i=5e3,autohide:l=!1,onClose:c,onEntered:o,onExit:u,onExiting:d,onEnter:f,onEntering:p,onExited:j,bg:y,...k},v)=>{s=ut(s,"toast");const S=x.useRef(i),C=x.useRef(c);x.useEffect(()=>{S.current=i,C.current=c},[i,c]);const _=oI(),A=!!(l&&r),D=x.useCallback(()=>{A&&(C.current==null||C.current())},[A]);x.useEffect(()=>{_.set(D,S.current)},[_,D]);const M=x.useMemo(()=>({onClose:c}),[c]),L=!!(a&&n),F=e.jsx("div",{...k,ref:v,className:ct(s,t,y&&`bg-${y}`,!L&&(r?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return e.jsx(LB.Provider,{value:M,children:L&&a?e.jsx(a,{in:r,onEnter:f,onEntering:p,onEntered:o,onExit:u,onExiting:d,onExited:j,unmountOnExit:!0,children:F}):F})});HB.displayName="Toast";const Te=Object.assign(HB,{Body:zB,Header:FB}),VX={"top-start":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-end":"top-0 end-0","middle-start":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-end":"top-50 end-0 translate-middle-y","bottom-start":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-end":"bottom-0 end-0"},Ct=x.forwardRef(({bsPrefix:s,position:t,containerPosition:a,className:r,as:n="div",...i},l)=>(s=ut(s,"toast-container"),e.jsx(n,{ref:l,...i,className:ct(s,t&&VX[t],a&&`position-${a}`,r)})));Ct.displayName="ToastContainer";var UB={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},U3=Fs.createContext&&Fs.createContext(UB),WX=["attr","size","title"];function YX(s,t){if(s==null)return{};var a=KX(s,t),r,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(s,r)&&(a[r]=s[r])}return a}function KX(s,t){if(s==null)return{};var a={};for(var r in s)if(Object.prototype.hasOwnProperty.call(s,r)){if(t.indexOf(r)>=0)continue;a[r]=s[r]}return a}function Wv(){return Wv=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},Wv.apply(this,arguments)}function q3(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function Yv(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?q3(Object(a),!0).forEach(function(r){QX(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):q3(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function QX(s,t,a){return t=XX(t),t in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function XX(s){var t=ZX(s,"string");return typeof t=="symbol"?t:t+""}function ZX(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function qB(s){return s&&s.map((t,a)=>Fs.createElement(t.tag,Yv({key:a},t.attr),qB(t.child)))}function js(s){return t=>Fs.createElement(JX,Wv({attr:Yv({},s.attr)},t),qB(s.child))}function JX(s){var t=a=>{var{attr:r,size:n,title:i}=s,l=YX(s,WX),c=n||a.size||"1em",o;return a.className&&(o=a.className),s.className&&(o=(o?o+" ":"")+s.className),Fs.createElement("svg",Wv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,r,l,{className:o,style:Yv(Yv({color:s.color||a.color},a.style),s.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&Fs.createElement("title",null,i),s.children)};return U3!==void 0?Fs.createElement(U3.Consumer,null,a=>t(a)):t(UB)}function G3(s){return js({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(s)}function V3(s){return js({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(s)}function W3(s){return js({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(s)}function Y3(s){return js({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(s)}function K3(s){return js({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(s)}function eZ(s){return js({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(s)}function xw(s){return js({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"},child:[]}]})(s)}function tZ(s){return js({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 0H48C22.4 0 0 22.4 0 48v416c0 25.6 22.4 48 48 48h352c25.6 0 48-22.4 48-48V48c0-25.6-22.4-48-48-48zM128 435.2c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8V268.8c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v166.4zm0-256c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8V76.8C64 70.4 70.4 64 76.8 64h294.4c6.4 0 12.8 6.4 12.8 12.8v102.4z"},child:[]}]})(s)}function sZ(s){return js({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(s)}function Q3(s){return js({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.622 255.92l45.985-45.005c13.708-12.977 7.316-36.039-10.664-40.339l-62.65-15.99 17.661-62.015c4.991-17.838-11.829-34.663-29.661-29.671l-61.994 17.667-15.984-62.671C337.085.197 313.765-6.276 300.99 7.228L256 53.57 211.011 7.229c-12.63-13.351-36.047-7.234-40.325 10.668l-15.984 62.671-61.995-17.667C74.87 57.907 58.056 74.738 63.046 92.572l17.661 62.015-62.65 15.99C.069 174.878-6.31 197.944 7.392 210.915l45.985 45.005-45.985 45.004c-13.708 12.977-7.316 36.039 10.664 40.339l62.65 15.99-17.661 62.015c-4.991 17.838 11.829 34.663 29.661 29.671l61.994-17.667 15.984 62.671c4.439 18.575 27.696 24.018 40.325 10.668L256 458.61l44.989 46.001c12.5 13.488 35.987 7.486 40.325-10.668l15.984-62.671 61.994 17.667c17.836 4.994 34.651-11.837 29.661-29.671l-17.661-62.015 62.65-15.99c17.987-4.302 24.366-27.367 10.664-40.339l-45.984-45.004z"},child:[]}]})(s)}function aZ(s){return js({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M208 352c-2.39 0-4.78.35-7.06 1.09C187.98 357.3 174.35 360 160 360c-14.35 0-27.98-2.7-40.95-6.91-2.28-.74-4.66-1.09-7.05-1.09C49.94 352-.33 402.48 0 464.62.14 490.88 21.73 512 48 512h224c26.27 0 47.86-21.12 48-47.38.33-62.14-49.94-112.62-112-112.62zm-48-32c53.02 0 96-42.98 96-96s-42.98-96-96-96-96 42.98-96 96 42.98 96 96 96zM592 0H208c-26.47 0-48 22.25-48 49.59V96c23.42 0 45.1 6.78 64 17.8V64h352v288h-64v-64H384v64h-76.24c19.1 16.69 33.12 38.73 39.69 64H592c26.47 0 48-22.25 48-49.59V49.59C640 22.25 618.47 0 592 0z"},child:[]}]})(s)}function rZ(s){return js({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(s)}function nZ(s){return js({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(s)}function iZ(s){return js({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(s)}function lZ(s){return js({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 0H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h192l-16 48h-72c-13.3 0-24 10.7-24 24s10.7 24 24 24h272c13.3 0 24-10.7 24-24s-10.7-24-24-24h-72l-16-48h192c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm-16 352H64V64h448v288z"},child:[]}]})(s)}function fw(s){return js({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(s)}function cZ(s){return js({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M437.2 403.5L320 215V64h8c13.3 0 24-10.7 24-24V24c0-13.3-10.7-24-24-24H120c-13.3 0-24 10.7-24 24v16c0 13.3 10.7 24 24 24h8v151L10.8 403.5C-18.5 450.6 15.3 512 70.9 512h306.2c55.7 0 89.4-61.5 60.1-108.5zM137.9 320l48.2-77.6c3.7-5.2 5.8-11.6 5.8-18.4V64h64v160c0 6.9 2.2 13.2 5.8 18.4l48.2 77.6h-172z"},child:[]}]})(s)}function oZ(s){return js({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(s)}function X3(s){return js({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(s)}function dZ(s){return js({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(s)}function hZ(s){return js({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M152.1 236.2c-3.5-12.1-7.8-33.2-7.8-33.2h-.5s-4.3 21.1-7.8 33.2l-11.1 37.5H163zM616 96H336v320h280c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm-24 120c0 6.6-5.4 12-12 12h-11.4c-6.9 23.6-21.7 47.4-42.7 69.9 8.4 6.4 17.1 12.5 26.1 18 5.5 3.4 7.3 10.5 4.1 16.2l-7.9 13.9c-3.4 5.9-10.9 7.8-16.7 4.3-12.6-7.8-24.5-16.1-35.4-24.9-10.9 8.7-22.7 17.1-35.4 24.9-5.8 3.5-13.3 1.6-16.7-4.3l-7.9-13.9c-3.2-5.6-1.4-12.8 4.2-16.2 9.3-5.7 18-11.7 26.1-18-7.9-8.4-14.9-17-21-25.7-4-5.7-2.2-13.6 3.7-17.1l6.5-3.9 7.3-4.3c5.4-3.2 12.4-1.7 16 3.4 5 7 10.8 14 17.4 20.9 13.5-14.2 23.8-28.9 30-43.2H412c-6.6 0-12-5.4-12-12v-16c0-6.6 5.4-12 12-12h64v-16c0-6.6 5.4-12 12-12h16c6.6 0 12 5.4 12 12v16h64c6.6 0 12 5.4 12 12zM0 120v272c0 13.3 10.7 24 24 24h280V96H24c-13.3 0-24 10.7-24 24zm58.9 216.1L116.4 167c1.7-4.9 6.2-8.1 11.4-8.1h32.5c5.1 0 9.7 3.3 11.4 8.1l57.5 169.1c2.6 7.8-3.1 15.9-11.4 15.9h-22.9a12 12 0 0 1-11.5-8.6l-9.4-31.9h-60.2l-9.1 31.8c-1.5 5.1-6.2 8.7-11.5 8.7H70.3c-8.2 0-14-8.1-11.4-15.9z"},child:[]}]})(s)}function uZ(s){return js({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(s)}function Z3(s){return js({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(s)}function mZ(s){return js({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(s)}function J3(s){return js({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(s)}function xZ(s){return js({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(s)}function fZ(s){return js({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(s)}function pw(s){return js({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(s)}function pZ(s){return js({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(s)}function gZ(s){return js({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M319.4 320.6L224 416l-95.4-95.4C57.1 323.7 0 382.2 0 454.4v9.6c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-9.6c0-72.2-57.1-130.7-128.6-133.8zM13.6 79.8l6.4 1.5v58.4c-7 4.2-12 11.5-12 20.3 0 8.4 4.6 15.4 11.1 19.7L3.5 242c-1.7 6.9 2.1 14 7.6 14h41.8c5.5 0 9.3-7.1 7.6-14l-15.6-62.3C51.4 175.4 56 168.4 56 160c0-8.8-5-16.1-12-20.3V87.1l66 15.9c-8.6 17.2-14 36.4-14 57 0 70.7 57.3 128 128 128s128-57.3 128-128c0-20.6-5.3-39.8-14-57l96.3-23.2c18.2-4.4 18.2-27.1 0-31.5l-190.4-46c-13-3.1-26.7-3.1-39.7 0L13.6 48.2c-18.1 4.4-18.1 27.2 0 31.6z"},child:[]}]})(s)}function yZ(s){return js({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(s)}function jZ(s){return js({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(s)}function vZ(s){return js({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(s)}const bZ=()=>{const[s,t]=x.useState("home"),[a,r]=x.useState(!1);x.useEffect(()=>{const k=()=>{const v=["home","services-preview","services","institutions","matieres","testimonials","cta","contact"],S=window.scrollY+100;v.forEach(C=>{const _=document.getElementById(C);if(_){const A=_.offsetTop,D=_.offsetHeight;S>=A&&S<A+D&&t(C)}})};return window.addEventListener("scroll",k),()=>window.removeEventListener("scroll",k)},[]);const n=k=>{const v=document.getElementById(k);v&&(v.scrollIntoView({behavior:"smooth",block:"start"}),r(!1))},i=()=>e.jsx(xi,{expand:"lg",fixed:"top",className:"py-3 bg-white shadow-sm",style:{transition:"all 0.3s ease"},children:e.jsxs(yt,{className:"bg-white",children:[e.jsxs(xi.Brand,{onClick:()=>n("home"),className:"fw-bold d-flex align-items-center",style:{cursor:"pointer"},children:[e.jsx(X3,{className:"me-2 text-primary",size:28}),e.jsx("span",{className:"fs-4 text-dark",children:"Woop Service"})]}),e.jsx(xi.Toggle,{"aria-controls":"basic-navbar-nav"}),e.jsxs(xi.Collapse,{id:"basic-navbar-nav",className:"justify-content-between",children:[e.jsx(rS,{className:"mx-auto gap-3",children:[{id:"home",label:"Accueil"},{id:"services",label:"Services"},{id:"institutions",label:"Partenaires"},{id:"matieres",label:"Matières"},{id:"contact",label:"Contact"}].map(k=>e.jsx(rS.Link,{onClick:()=>n(k.id),className:`px-3 fw-medium ${s===k.id?"text-primary border-bottom border-primary border-2":"text-dark"}`,style:{cursor:"pointer",transition:"all 0.3s ease"},children:k.label},k.id))}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx($,{variant:"outline-primary",size:"sm",className:"fw-medium px-4",as:xe,to:"/login",children:"Se connecter"}),e.jsx($,{variant:"primary",size:"sm",className:"fw-medium px-4",as:xe,to:"/register",children:"S'inscrire"})]})]})]})}),l=()=>e.jsxs("section",{id:"home",className:"pt-5 mt-5",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",minHeight:"90vh",position:"relative",overflow:"hidden"},children:[e.jsx("div",{className:"position-absolute w-100 h-100",style:{background:'url("data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23ffffff" fill-opacity="0.1"%3E%3Ccircle cx="30" cy="30" r="4"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")',opacity:.3}}),e.jsx(yt,{className:"py-5 position-relative",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",minHeight:"90vh",position:"relative",overflow:"hidden"},children:e.jsxs(pe,{className:"align-items-center min-vh-75 g-5",children:[e.jsxs(T,{lg:6,className:"text-white",children:[e.jsxs(oe,{bg:"light",text:"primary",className:"mb-4 px-3 py-2 fs-6",children:[e.jsx(Q3,{className:"me-2"}),"Plateforme certifiée et reconnue"]}),e.jsxs("h1",{className:"display-3 fw-bold mb-4 lh-1",children:["Votre réussite,",e.jsx("br",{}),e.jsx("span",{className:"text-warning",children:"notre mission"})]}),e.jsx("p",{className:"lead mb-4 opacity-90",children:"Découvrez la meilleure plateforme d'apprentissage en ligne du Cameroun. Accédez à vos cours 24h/24 avec nos enseignants qualifiés et nos ressources pédagogiques de qualité."}),e.jsxs("div",{className:"d-flex flex-column flex-md-row gap-3 mb-5",children:[e.jsxs($,{variant:"warning",size:"lg",className:"fw-medium px-4 py-3 shadow",style:{borderRadius:"50px"},children:[e.jsx(fZ,{className:"me-2"}),"Commencer maintenant"]}),e.jsxs($,{variant:"outline-light",size:"lg",className:"fw-medium px-4 py-3",style:{borderRadius:"50px"},children:["Découvrir les cours",e.jsx(eZ,{className:"ms-2"})]})]}),e.jsxs(pe,{className:"g-4",children:[e.jsx(T,{xs:4,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"display-6 fw-bold text-warning",children:"100+"}),e.jsx("small",{className:"opacity-75",children:"Étudiants actifs"})]})}),e.jsx(T,{xs:4,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"display-6 fw-bold text-warning",children:"200+"}),e.jsx("small",{className:"opacity-75",children:"Cours disponibles"})]})}),e.jsx(T,{xs:4,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"display-6 fw-bold text-warning",children:"95%"}),e.jsx("small",{className:"opacity-75",children:"Taux de réussite"})]})})]})]}),e.jsx(T,{lg:6,children:e.jsx("div",{className:"position-relative",children:e.jsxs(w,{className:"shadow-lg rounded-4 overflow-hidden border-0",children:[e.jsx("img",{src:rY,alt:"Étudiants en ligne",className:"card-img-top w-100",style:{height:"400px",objectFit:"cover"}}),e.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",children:e.jsx($,{variant:"light",size:"lg",className:"rounded-circle shadow",style:{width:"80px",height:"80px"},children:e.jsx(xZ,{className:"text-primary",size:24})})})]})})})]})})]}),c=()=>{const k=[{icon:e.jsx(gZ,{size:32}),title:"Inscrivez-vous et choisissez vos cours",description:"Créez votre profil étudiant et sélectionnez les matières qui vous intéressent"},{icon:e.jsx(xw,{size:32}),title:"Suivez vos cours en ligne",description:"Accédez aux vidéos, exercices et ressources pédagogiques de qualité"},{icon:e.jsx(pZ,{size:32}),title:"Obtenez votre certification",description:"Validez vos acquis avec nos évaluations et obtenez vos certificats"}];return e.jsx("section",{id:"services-preview",className:"py-5 bg-light",children:e.jsxs(yt,{className:"py-5",children:[e.jsxs("div",{className:"text-center mb-5",children:[e.jsx(oe,{bg:"primary",className:"mb-3 px-3 py-2 fs-6",children:"Comment ça marche"}),e.jsx("h2",{className:"display-5 fw-bold mb-3",children:"Apprendre en 3 étapes"}),e.jsx("p",{className:"lead text-muted col-lg-8 mx-auto",children:"Notre méthode d'apprentissage simple et efficace vous permet de progresser à votre rythme"})]}),e.jsx(pe,{className:"g-4",children:k.map((v,S)=>e.jsx(T,{md:4,children:e.jsxs(w,{className:"h-100 border-0 shadow-sm p-4 position-relative",style:{borderRadius:"20px"},children:[e.jsx("div",{className:"position-absolute top-0 start-50 translate-middle",children:e.jsx("div",{className:"bg-primary text-white rounded-circle d-flex align-items-center justify-content-center",style:{width:"60px",height:"60px"},children:e.jsx("span",{className:"fw-bold fs-4",children:S+1})})}),e.jsxs(w.Body,{className:"pt-5 text-center",children:[e.jsx("div",{className:"text-primary mb-3 d-flex justify-content-center",children:v.icon}),e.jsx("h4",{className:"fw-bold mb-3",children:v.title}),e.jsx("p",{className:"text-muted",children:v.description})]})]})},S))})]})})},o=()=>{const k=[{icon:e.jsx(vZ,{size:40}),title:"Cours intuitifs",description:"Des leçons interactives avec nos meilleurs professeurs dans un environnement numérique moderne.",features:["Vidéos HD de qualité","Supports pédagogiques","Suivi personnalisé"],color:"primary"},{icon:e.jsx(lZ,{size:40}),title:"Classe virtuelle",description:"Participez à des sessions en direct avec vos enseignants et vos camarades.",features:["Sessions interactives","Questions en temps réel","Échanges enrichissants"],color:"success"},{icon:e.jsx(sZ,{size:40}),title:"Planning flexible",description:"Organisez votre temps d'apprentissage selon vos disponibilités.",features:["Horaires adaptables","Rappels automatiques","Progression suivie"],color:"info"}];return e.jsx("section",{id:"services",className:"py-5",children:e.jsxs(yt,{className:"py-5",children:[e.jsxs("div",{className:"text-center mb-5",children:[e.jsx(oe,{bg:"primary",className:"mb-3 px-3 py-2 fs-6",children:"Nos Services"}),e.jsx("h2",{className:"display-5 fw-bold mb-3",children:"Un apprentissage adapté à vos besoins"}),e.jsx("p",{className:"lead text-muted col-lg-8 mx-auto",children:"Choisissez le mode d'apprentissage qui vous convient le mieux parmi notre gamme de services éducatifs"})]}),e.jsx(pe,{className:"g-4",children:k.map((v,S)=>e.jsx(T,{lg:4,md:6,children:e.jsxs(w,{className:"h-100 border-0 shadow-sm position-relative overflow-hidden",style:{borderRadius:"20px"},children:[e.jsx("div",{className:`position-absolute top-0 end-0 bg-${v.color} opacity-10`,style:{width:"100px",height:"100px",borderRadius:"0 20px 0 100%"}}),e.jsxs(w.Body,{className:"p-4",children:[e.jsx("div",{className:`text-${v.color} mb-3`,children:v.icon}),e.jsx("h4",{className:"fw-bold mb-3",children:v.title}),e.jsx("p",{className:"text-muted mb-4",children:v.description}),e.jsx("ul",{className:"list-unstyled",children:v.features.map((C,_)=>e.jsxs("li",{className:"d-flex align-items-center mb-2",children:[e.jsx(pw,{className:"text-warning me-2",size:12}),e.jsx("span",{className:"text-muted",children:C})]},_))}),e.jsx($,{variant:`outline-${v.color}`,className:"mt-3",children:"En savoir plus"})]})]})},S))})]})})},u=()=>{const k=[{name:"Université de Douala",type:"Université publique",specialites:["Sciences","Lettres","Économie"],image:nY,rating:4.8,etudiants:450},{name:"École Supérieure de Commerce",type:"École privée",specialites:["Management","Finance","Marketing"],image:iY,rating:4.9,etudiants:280},{name:"Institut des Sciences Appliquées",type:"Institut spécialisé",specialites:["Informatique","Ingénierie","Recherche"],image:cY,rating:4.6,etudiants:320},{name:"Centre de Formation Continue",type:"Centre de formation",specialites:["Professionnalisation","Certifications","Reconversion"],image:oY,rating:4.8,etudiants:180},{name:"Lycée Technique de Douala",type:"Établissement secondaire",specialites:["Sciences","Littéraire","Technique"],image:lY,rating:4.7,etudiants:850}];return e.jsx("section",{id:"institutions",className:"py-5 bg-light",children:e.jsxs(yt,{className:"py-5",children:[e.jsxs("div",{className:"text-center mb-5",children:[e.jsx(oe,{bg:"success",className:"mb-3 px-3 py-2 fs-6",children:"Nos Partenaires"}),e.jsx("h2",{className:"display-5 fw-bold mb-3",children:"Institutions éducatives partenaires"}),e.jsx("p",{className:"lead text-muted col-lg-8 mx-auto",children:"Découvrez notre réseau d'établissements d'enseignement certifiés et reconnus dans la région du Littoral"})]}),e.jsxs("div",{className:"position-relative",children:[e.jsxs("div",{className:"d-flex overflow-auto pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[e.jsx("style",{children:".d-flex.overflow-auto::-webkit-scrollbar { display: none; }"}),k.map((v,S)=>e.jsx("div",{className:"flex-shrink-0 me-4",style:{minWidth:"350px"},children:e.jsxs(w,{className:"h-100 border-0 shadow-sm",style:{borderRadius:"20px"},children:[e.jsxs("div",{className:"position-relative",children:[e.jsx("img",{src:v.image,alt:v.name,className:"card-img-top",style:{height:"200px",objectFit:"cover",borderRadius:"20px 20px 0 0"}}),e.jsx(oe,{bg:"success",className:"position-absolute top-0 end-0 mt-3 me-3",children:v.type})]}),e.jsxs(w.Body,{className:"p-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[e.jsx("h5",{className:"fw-bold mb-0",children:v.name}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(pw,{className:"text-warning me-1",size:14}),e.jsx("span",{className:"fw-medium",children:v.rating})]})]}),e.jsx("div",{className:"mb-3",children:v.specialites.map((C,_)=>e.jsx(oe,{bg:"light",text:"primary",className:"me-2 mb-2",children:C},_))}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center text-muted",children:[e.jsx(jZ,{className:"me-2",size:14}),e.jsxs("small",{children:[v.etudiants," étudiants"]})]}),e.jsxs("div",{className:"d-flex align-items-center text-muted",children:[e.jsx(Q3,{className:"me-2",size:14}),e.jsx("small",{children:"Certifiée"})]})]}),e.jsxs($,{variant:"primary",className:"w-100",style:{borderRadius:"50px"},children:[e.jsx(xw,{className:"me-2"}),"Découvrir les cours"]})]})]})},S))]}),e.jsx($,{variant:"light",className:"position-absolute top-50 start-0 translate-middle-y shadow rounded-circle",style:{width:"50px",height:"50px",zIndex:10},children:e.jsx(rZ,{className:"me-2",size:14})}),e.jsx($,{variant:"light",className:"position-absolute top-50 end-0 translate-middle-y shadow rounded-circle",style:{width:"50px",height:"50px",zIndex:10},children:e.jsx(nZ,{className:"me-2",size:14})})]})]})})},d=()=>{const k=[{name:"Mathématiques",icon:e.jsx(tZ,{})},{name:"Sciences Physiques",icon:e.jsx(cZ,{})},{name:"Français",icon:e.jsx(hZ,{})},{name:"Anglais",icon:e.jsx(oZ,{})},{name:"Histoire-Géographie",icon:e.jsx(dZ,{})},{name:"Informatique",icon:e.jsx(iZ,{})},{name:"Philosophie",icon:e.jsx(uZ,{})},{name:"Économie",icon:e.jsx(aZ,{})}];return e.jsx("section",{id:"matieres",className:"py-5",children:e.jsxs(yt,{className:"py-5",children:[e.jsxs("div",{className:"text-center mb-5",children:[e.jsx(oe,{bg:"info",className:"mb-3 px-3 py-2 fs-6",children:"Matières disponibles"}),e.jsx("h2",{className:"display-5 fw-bold mb-3",children:"Trouvez votre matière"}),e.jsx("p",{className:"lead text-muted col-lg-8 mx-auto",children:"Plus de 150 cours disponibles dans toutes les disciplines académiques pour tous les niveaux"})]}),e.jsx(pe,{className:"g-4",children:k.map((v,S)=>e.jsx(T,{lg:3,md:4,sm:6,children:e.jsx(w,{className:"h-100 border-0 shadow-sm text-center p-4 matiere-card",style:{borderRadius:"20px",cursor:"pointer",transition:"all 0.3s ease"},children:e.jsxs(w.Body,{children:[e.jsx("div",{className:"text-primary mb-3 fs-1",children:v.icon}),e.jsx("h5",{className:"fw-bold mb-2",children:v.name}),e.jsx("p",{className:"text-muted small mb-3",children:v.count}),e.jsx($,{variant:"outline-primary",size:"sm",style:{borderRadius:"50px"},children:"Explorer"})]})})},S))}),e.jsx("style",{children:`
              .matiere-card:hover {
                transform: translateY(-5px);
                box-shadow: 0 10px 25px rgba(0,0,0,0.15) !important;
              }
            `})]})})},f=()=>{const k=[{quote:"Interface très intuitive ! J'ai pu accéder à mes cours en moins de 5 minutes. La qualité des vidéos est exceptionnelle.",author:"Marie Dupont",role:"Étudiante en Terminale",rating:5,avatar:dY},{quote:"Les cours en ligne m'ont permis de rattraper mon retard en mathématiques. Les professeurs sont très pédagogues !",author:"Jean-Claude Mballa",role:"Étudiant universitaire",rating:5,avatar:hY},{quote:"Excellente plateforme qui nous permet de mieux organiser nos cours et d'offrir un enseignement de qualité à nos étudiants.",author:"Dr. Sophie Ngako",role:"Enseignante partenaire",rating:5,avatar:uY}];return e.jsx("section",{id:"testimonials",className:"py-5 bg-light",children:e.jsxs(yt,{className:"py-5",children:[e.jsxs("div",{className:"text-center mb-5",children:[e.jsx(oe,{bg:"warning",className:"mb-3 px-3 py-2 fs-6",children:"Témoignages"}),e.jsx("h2",{className:"display-5 fw-bold mb-3",children:"Ils nous font confiance"}),e.jsx("p",{className:"lead text-muted col-lg-8 mx-auto",children:"Découvrez l'expérience de nos étudiants et partenaires qui utilisent Woop Service au quotidien"})]}),e.jsx(pe,{className:"g-4",children:k.map((v,S)=>e.jsx(T,{lg:4,md:6,children:e.jsx(w,{className:"h-100 border-0 shadow-sm p-4",style:{borderRadius:"20px"},children:e.jsxs(w.Body,{children:[e.jsx("div",{className:"d-flex mb-3",children:[...Array(v.rating)].map((C,_)=>e.jsx(pw,{className:"text-warning me-1",size:16},_))}),e.jsx("blockquote",{className:"blockquote mb-4",children:e.jsxs("p",{className:"text-muted fst-italic",children:['"',v.quote,'"']})}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("img",{src:v.avatar,alt:v.author,className:"rounded-circle me-3",style:{width:"50px",height:"50px",objectFit:"cover"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold",children:v.author}),e.jsx("small",{className:"text-primary",children:v.role})]})]})]})})},S))})]})})},p=()=>e.jsxs("section",{id:"cta",className:"py-5",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",position:"relative",overflow:"hidden"},children:[e.jsx("div",{className:"position-absolute w-100 h-100",style:{background:'url("data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23ffffff" fill-opacity="0.1"%3E%3Ccircle cx="30" cy="30" r="4"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")',opacity:.3}}),e.jsx(yt,{className:"py-5 position-relative",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",position:"relative",overflow:"hidden"},children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx(yZ,{size:60,className:"mb-4 text-warning"}),e.jsxs("h2",{className:"display-5 fw-bold mb-3",children:["Besoin d'aide pour ",e.jsx("span",{className:"text-warning",children:"votre apprentissage"})," ?"]}),e.jsx("p",{className:"lead mb-5 col-lg-8 mx-auto opacity-90",children:"Notre équipe pédagogique est disponible 24h/24 pour vous accompagner dans votre parcours d'apprentissage"}),e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-center gap-3 mb-5",children:[e.jsxs($,{variant:"warning",size:"lg",className:"fw-medium px-4 py-3",style:{borderRadius:"50px"},children:[e.jsx(xw,{className:"me-2"}),"Commencer mes cours"]}),e.jsxs($,{variant:"outline-light",size:"lg",className:"fw-medium px-4 py-3",style:{borderRadius:"50px"},children:[e.jsx(mZ,{className:"me-2"}),"Être rappelé gratuitement"]}),e.jsxs($,{variant:"success",size:"lg",className:"fw-medium px-4 py-3",style:{borderRadius:"50px"},children:[e.jsx(K3,{className:"me-2"}),"Support WhatsApp"]})]}),e.jsxs(w,{className:"bg-white bg-opacity-10 border-0 text-center p-4 mx-auto",style:{maxWidth:"700px",borderRadius:"20px",backdropFilter:"blur(10px)"},children:[e.jsx("p",{className:"mb-2 fw-medium text-warning fs-5",children:"Accompagnement pédagogique gratuit"}),e.jsxs("div",{className:"d-flex flex-wrap justify-content-center gap-4 text-white",children:[e.jsxs("span",{className:"d-flex align-items-center opacity-90",children:[e.jsx("span",{className:"rounded-circle bg-warning me-2",style:{width:"8px",height:"8px"}}),"Aide au choix des matières"]}),e.jsxs("span",{className:"d-flex align-items-center opacity-90",children:[e.jsx("span",{className:"rounded-circle bg-warning me-2",style:{width:"8px",height:"8px"}}),"Planning personnalisé"]}),e.jsxs("span",{className:"d-flex align-items-center opacity-90",children:[e.jsx("span",{className:"rounded-circle bg-warning me-2",style:{width:"8px",height:"8px"}}),"Support technique 24h/24"]})]})]})]})})]}),j=()=>e.jsx("section",{id:"contact",className:"py-5",children:e.jsxs(yt,{className:"py-5",children:[e.jsxs("div",{className:"text-center mb-5",children:[e.jsx(oe,{bg:"primary",className:"mb-3 px-3 py-2 fs-6",children:"Contact"}),e.jsx("h2",{className:"display-5 fw-bold mb-3",children:"Restons en contact"}),e.jsx("p",{className:"lead text-muted col-lg-8 mx-auto",children:"Notre équipe pédagogique est à votre écoute pour répondre à toutes vos questions et vous accompagner"})]}),e.jsxs(pe,{className:"g-5",children:[e.jsx(T,{lg:6,children:e.jsx(w,{className:"h-100 border-0 shadow-sm p-4",style:{borderRadius:"20px"},children:e.jsxs(w.Body,{children:[e.jsx("h3",{className:"h4 fw-bold mb-4",children:"Informations de contact"}),e.jsxs("div",{className:"d-flex align-items-start mb-4 p-3 bg-light rounded-3",children:[e.jsx("div",{className:"bg-primary text-white rounded-circle p-2 me-3 flex-shrink-0",children:e.jsx(Z3,{size:20})}),e.jsxs("div",{children:[e.jsx("h5",{className:"fw-medium mb-1",children:"Siège social"}),e.jsxs("p",{className:"text-muted mb-0",children:["Douala, Région du Littoral",e.jsx("br",{}),"Cameroun"]})]})]}),e.jsxs("div",{className:"d-flex align-items-start mb-4 p-3 bg-light rounded-3",children:[e.jsx("div",{className:"bg-success text-white rounded-circle p-2 me-3 flex-shrink-0",children:e.jsx(J3,{size:20})}),e.jsxs("div",{children:[e.jsx("h5",{className:"fw-medium mb-1",children:"Téléphone"}),e.jsx("p",{className:"text-muted mb-0",children:"+237 621 09 04 90"})]})]}),e.jsxs("div",{className:"d-flex align-items-start mb-4 p-3 bg-light rounded-3",children:[e.jsx("div",{className:"bg-info text-white rounded-circle p-2 me-3 flex-shrink-0",children:e.jsx(fw,{size:20})}),e.jsxs("div",{children:[e.jsx("h5",{className:"fw-medium mb-1",children:"Email"}),e.jsx("p",{className:"text-muted mb-0",children:"woopsadi@gmail.com"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"fw-medium mb-3",children:"Suivez-nous"}),e.jsxs("div",{className:"d-flex gap-3",children:[e.jsx($,{variant:"outline-primary",className:"rounded-circle",style:{width:"45px",height:"45px"},children:e.jsx(G3,{size:20})}),e.jsx($,{variant:"outline-info",className:"rounded-circle",style:{width:"45px",height:"45px"},children:e.jsx(Y3,{size:20})}),e.jsx($,{variant:"outline-primary",className:"rounded-circle",style:{width:"45px",height:"45px"},children:e.jsx(W3,{size:20})}),e.jsx($,{variant:"outline-danger",className:"rounded-circle",style:{width:"45px",height:"45px"},children:e.jsx(V3,{size:20})})]})]})]})})}),e.jsx(T,{lg:6,children:e.jsx(w,{className:"h-100 border-0 shadow-sm p-4",style:{borderRadius:"20px"},children:e.jsxs(w.Body,{children:[e.jsx("h3",{className:"h4 fw-bold mb-4",children:"Envoyez-nous un message"}),e.jsxs(b,{children:[e.jsxs(pe,{className:"g-3 mb-3",children:[e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{className:"fw-medium",children:"Nom complet"}),e.jsx(b.Control,{type:"text",placeholder:"Votre nom complet",className:"py-3",style:{borderRadius:"10px"}})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{className:"fw-medium",children:"Email"}),e.jsx(b.Control,{type:"email",placeholder:"votreemail@gmail.com",className:"py-3",style:{borderRadius:"10px"}})]})})]}),e.jsxs(pe,{className:"g-3 mb-3",children:[e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{className:"fw-medium",children:"Téléphone"}),e.jsx(b.Control,{type:"tel",placeholder:"+237 6XX XXX XXX",className:"py-3",style:{borderRadius:"10px"}})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{className:"fw-medium",children:"Type de demande"}),e.jsxs(b.Select,{className:"py-3",style:{borderRadius:"10px"},children:[e.jsx("option",{children:"Choisir le type"}),e.jsx("option",{children:"Orientation scolaire"}),e.jsx("option",{children:"Support technique"}),e.jsx("option",{children:"Partenariat"}),e.jsx("option",{children:"Autre"})]})]})})]}),e.jsxs(b.Group,{className:"mb-4",children:[e.jsx(b.Label,{className:"fw-medium",children:"Message"}),e.jsx(b.Control,{as:"textarea",rows:5,placeholder:"Décrivez votre demande en détail...",style:{borderRadius:"10px"}})]}),e.jsxs($,{variant:"primary",size:"lg",className:"w-100 fw-medium py-3",style:{borderRadius:"50px"},children:[e.jsx(fw,{className:"me-2"}),"Envoyer le message"]})]})]})})})]})]})}),y=()=>e.jsx("footer",{className:"py-5 text-white",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",position:"relative",overflow:"hidden"},children:e.jsxs(yt,{className:"py-4",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",position:"relative",overflow:"hidden"},children:[e.jsxs(pe,{className:"g-4 mb-4",children:[e.jsxs(T,{lg:4,md:6,children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx(X3,{className:"text-primary me-2",size:32}),e.jsx("h3",{className:"h4 fw-bold mb-0",children:"Woop Service"})]}),e.jsx("p",{className:"text-light opacity-75 mb-4",children:"La première plateforme d'apprentissage en ligne au Cameroun. Connectant étudiants et enseignants pour une éducation de qualité accessible à tous."}),e.jsxs("div",{className:"d-flex gap-3",children:[e.jsx($,{variant:"outline-light",size:"sm",className:"rounded-circle",style:{width:"40px",height:"40px"},children:e.jsx(G3,{})}),e.jsx($,{variant:"outline-light",size:"sm",className:"rounded-circle",style:{width:"40px",height:"40px"},children:e.jsx(Y3,{})}),e.jsx($,{variant:"outline-light",size:"sm",className:"rounded-circle",style:{width:"40px",height:"40px"},children:e.jsx(W3,{})}),e.jsx($,{variant:"outline-light",size:"sm",className:"rounded-circle",style:{width:"40px",height:"40px"},children:e.jsx(V3,{})})]})]}),e.jsxs(T,{lg:2,md:6,children:[e.jsx("h4",{className:"h6 fw-bold mb-3 text-warning",children:"Navigation"}),e.jsxs("ul",{className:"list-unstyled",children:[e.jsx("li",{className:"mb-2",children:e.jsx("a",{href:"#home",onClick:()=>n("home"),className:"text-light opacity-75 text-decoration-none",style:{cursor:"pointer"},children:"Accueil"})}),e.jsx("li",{className:"mb-2",children:e.jsx("a",{href:"#services",onClick:()=>n("services"),className:"text-light opacity-75 text-decoration-none",style:{cursor:"pointer"},children:"Services"})}),e.jsx("li",{className:"mb-2",children:e.jsx("a",{href:"#institutions",onClick:()=>n("institutions"),className:"text-light opacity-75 text-decoration-none",style:{cursor:"pointer"},children:"Partenaires"})}),e.jsx("li",{className:"mb-2",children:e.jsx("a",{href:"#matieres",onClick:()=>n("matieres"),className:"text-light opacity-75 text-decoration-none",style:{cursor:"pointer"},children:"Matières"})})]})]}),e.jsxs(T,{lg:3,md:6,children:[e.jsx("h4",{className:"h6 fw-bold mb-3 text-warning",children:"Services"}),e.jsxs("ul",{className:"list-unstyled",children:[e.jsx("li",{className:"mb-2",children:e.jsx("span",{className:"text-light opacity-75",children:"Cours en vidéo"})}),e.jsx("li",{className:"mb-2",children:e.jsx("span",{className:"text-light opacity-75",children:"Classes virtuelles"})}),e.jsx("li",{className:"mb-2",children:e.jsx("span",{className:"text-light opacity-75",children:"Suivi personnalisé"})}),e.jsx("li",{className:"mb-2",children:e.jsx("span",{className:"text-light opacity-75",children:"Certifications"})}),e.jsx("li",{className:"mb-2",children:e.jsx("span",{className:"text-light opacity-75",children:"Support pédagogique"})})]})]}),e.jsxs(T,{lg:3,md:6,children:[e.jsx("h4",{className:"h6 fw-bold mb-3 text-warning",children:"Contact"}),e.jsxs("div",{className:"text-light opacity-75",children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx(Z3,{className:"me-2 text-primary"}),e.jsx("small",{children:"Papas, Douala, Cameroun"})]}),e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx(fw,{className:"me-2 text-primary"}),e.jsx("small",{children:"albanpombombe@gmail.com"})]}),e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx(J3,{className:"me-2 text-primary"}),e.jsx("small",{children:"+237 650 85 90 51"})]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(K3,{className:"me-2 text-success"}),e.jsx("small",{children:"Support WhatsApp 24h/24"})]})]})]})]}),e.jsx("hr",{className:"border-secondary my-4"}),e.jsxs(pe,{className:"align-items-center",children:[e.jsx(T,{md:6,children:e.jsxs("p",{className:"text-light opacity-75 mb-0",children:["© ",new Date().getFullYear()," Woop Service Cameroun. Tous droits réservés."]})}),e.jsx(T,{md:6,children:e.jsxs("div",{className:"d-flex justify-content-md-end gap-4",children:[e.jsx("a",{href:"#",className:"text-light opacity-75 text-decoration-none small",children:"Politique de confidentialité"}),e.jsx("a",{href:"#",className:"text-light opacity-75 text-decoration-none small",children:"Conditions d'utilisation"}),e.jsx("a",{href:"#",className:"text-light opacity-75 text-decoration-none small",children:"Mentions légales"})]})})]})]})});return e.jsxs(e.Fragment,{children:[e.jsx(i,{}),e.jsx(l,{}),e.jsx(c,{}),e.jsx(o,{}),e.jsx(u,{}),e.jsx(d,{}),e.jsx(f,{}),e.jsx(p,{}),e.jsx(j,{}),e.jsx(y,{})]})};function GB(s,t){return function(){return s.apply(t,arguments)}}const{toString:NZ}=Object.prototype,{getPrototypeOf:kC}=Object,{iterator:bN,toStringTag:VB}=Symbol,NN=(s=>t=>{const a=NZ.call(t);return s[a]||(s[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Yi=s=>(s=s.toLowerCase(),t=>NN(t)===s),wN=s=>t=>typeof t===s,{isArray:lx}=Array,Om=wN("undefined");function gg(s){return s!==null&&!Om(s)&&s.constructor!==null&&!Om(s.constructor)&&Sn(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const WB=Yi("ArrayBuffer");function wZ(s){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(s):t=s&&s.buffer&&WB(s.buffer),t}const kZ=wN("string"),Sn=wN("function"),YB=wN("number"),yg=s=>s!==null&&typeof s=="object",SZ=s=>s===!0||s===!1,Cv=s=>{if(NN(s)!=="object")return!1;const t=kC(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(VB in s)&&!(bN in s)},_Z=s=>{if(!yg(s)||gg(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},CZ=Yi("Date"),EZ=Yi("File"),AZ=Yi("Blob"),TZ=Yi("FileList"),MZ=s=>yg(s)&&Sn(s.pipe),DZ=s=>{let t;return s&&(typeof FormData=="function"&&s instanceof FormData||Sn(s.append)&&((t=NN(s))==="formdata"||t==="object"&&Sn(s.toString)&&s.toString()==="[object FormData]"))},OZ=Yi("URLSearchParams"),[RZ,$Z,PZ,IZ]=["ReadableStream","Request","Response","Headers"].map(Yi),BZ=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function jg(s,t,{allOwnKeys:a=!1}={}){if(s===null||typeof s>"u")return;let r,n;if(typeof s!="object"&&(s=[s]),lx(s))for(r=0,n=s.length;r<n;r++)t.call(null,s[r],r,s);else{if(gg(s))return;const i=a?Object.getOwnPropertyNames(s):Object.keys(s),l=i.length;let c;for(r=0;r<l;r++)c=i[r],t.call(null,s[c],c,s)}}function KB(s,t){if(gg(s))return null;t=t.toLowerCase();const a=Object.keys(s);let r=a.length,n;for(;r-- >0;)if(n=a[r],t===n.toLowerCase())return n;return null}const Sh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,QB=s=>!Om(s)&&s!==Sh;function cS(){const{caseless:s,skipUndefined:t}=QB(this)&&this||{},a={},r=(n,i)=>{const l=s&&KB(a,i)||i;Cv(a[l])&&Cv(n)?a[l]=cS(a[l],n):Cv(n)?a[l]=cS({},n):lx(n)?a[l]=n.slice():(!t||!Om(n))&&(a[l]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&jg(arguments[n],r);return a}const LZ=(s,t,a,{allOwnKeys:r}={})=>(jg(t,(n,i)=>{a&&Sn(n)?s[i]=GB(n,a):s[i]=n},{allOwnKeys:r}),s),FZ=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),zZ=(s,t,a,r)=>{s.prototype=Object.create(t.prototype,r),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:t.prototype}),a&&Object.assign(s.prototype,a)},HZ=(s,t,a,r)=>{let n,i,l;const c={};if(t=t||{},s==null)return t;do{for(n=Object.getOwnPropertyNames(s),i=n.length;i-- >0;)l=n[i],(!r||r(l,s,t))&&!c[l]&&(t[l]=s[l],c[l]=!0);s=a!==!1&&kC(s)}while(s&&(!a||a(s,t))&&s!==Object.prototype);return t},UZ=(s,t,a)=>{s=String(s),(a===void 0||a>s.length)&&(a=s.length),a-=t.length;const r=s.indexOf(t,a);return r!==-1&&r===a},qZ=s=>{if(!s)return null;if(lx(s))return s;let t=s.length;if(!YB(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=s[t];return a},GZ=(s=>t=>s&&t instanceof s)(typeof Uint8Array<"u"&&kC(Uint8Array)),VZ=(s,t)=>{const r=(s&&s[bN]).call(s);let n;for(;(n=r.next())&&!n.done;){const i=n.value;t.call(s,i[0],i[1])}},WZ=(s,t)=>{let a;const r=[];for(;(a=s.exec(t))!==null;)r.push(a);return r},YZ=Yi("HTMLFormElement"),KZ=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,n){return r.toUpperCase()+n}),eM=(({hasOwnProperty:s})=>(t,a)=>s.call(t,a))(Object.prototype),QZ=Yi("RegExp"),XB=(s,t)=>{const a=Object.getOwnPropertyDescriptors(s),r={};jg(a,(n,i)=>{let l;(l=t(n,i,s))!==!1&&(r[i]=l||n)}),Object.defineProperties(s,r)},XZ=s=>{XB(s,(t,a)=>{if(Sn(s)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=s[a];if(Sn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},ZZ=(s,t)=>{const a={},r=n=>{n.forEach(i=>{a[i]=!0})};return lx(s)?r(s):r(String(s).split(t)),a},JZ=()=>{},eJ=(s,t)=>s!=null&&Number.isFinite(s=+s)?s:t;function tJ(s){return!!(s&&Sn(s.append)&&s[VB]==="FormData"&&s[bN])}const sJ=s=>{const t=new Array(10),a=(r,n)=>{if(yg(r)){if(t.indexOf(r)>=0)return;if(gg(r))return r;if(!("toJSON"in r)){t[n]=r;const i=lx(r)?[]:{};return jg(r,(l,c)=>{const o=a(l,n+1);!Om(o)&&(i[c]=o)}),t[n]=void 0,i}}return r};return a(s,0)},aJ=Yi("AsyncFunction"),rJ=s=>s&&(yg(s)||Sn(s))&&Sn(s.then)&&Sn(s.catch),ZB=((s,t)=>s?setImmediate:t?((a,r)=>(Sh.addEventListener("message",({source:n,data:i})=>{n===Sh&&i===a&&r.length&&r.shift()()},!1),n=>{r.push(n),Sh.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",Sn(Sh.postMessage)),nJ=typeof queueMicrotask<"u"?queueMicrotask.bind(Sh):typeof process<"u"&&process.nextTick||ZB,iJ=s=>s!=null&&Sn(s[bN]),Ge={isArray:lx,isArrayBuffer:WB,isBuffer:gg,isFormData:DZ,isArrayBufferView:wZ,isString:kZ,isNumber:YB,isBoolean:SZ,isObject:yg,isPlainObject:Cv,isEmptyObject:_Z,isReadableStream:RZ,isRequest:$Z,isResponse:PZ,isHeaders:IZ,isUndefined:Om,isDate:CZ,isFile:EZ,isBlob:AZ,isRegExp:QZ,isFunction:Sn,isStream:MZ,isURLSearchParams:OZ,isTypedArray:GZ,isFileList:TZ,forEach:jg,merge:cS,extend:LZ,trim:BZ,stripBOM:FZ,inherits:zZ,toFlatObject:HZ,kindOf:NN,kindOfTest:Yi,endsWith:UZ,toArray:qZ,forEachEntry:VZ,matchAll:WZ,isHTMLForm:YZ,hasOwnProperty:eM,hasOwnProp:eM,reduceDescriptors:XB,freezeMethods:XZ,toObjectSet:ZZ,toCamelCase:KZ,noop:JZ,toFiniteNumber:eJ,findKey:KB,global:Sh,isContextDefined:QB,isSpecCompliantForm:tJ,toJSONObject:sJ,isAsyncFn:aJ,isThenable:rJ,setImmediate:ZB,asap:nJ,isIterable:iJ};function Yt(s,t,a,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}Ge.inherits(Yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ge.toJSONObject(this.config),code:this.code,status:this.status}}});const JB=Yt.prototype,eL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{eL[s]={value:s}});Object.defineProperties(Yt,eL);Object.defineProperty(JB,"isAxiosError",{value:!0});Yt.from=(s,t,a,r,n,i)=>{const l=Object.create(JB);Ge.toFlatObject(s,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const c=s&&s.message?s.message:"Error",o=t==null&&s?s.code:t;return Yt.call(l,c,o,a,r,n),s&&l.cause==null&&Object.defineProperty(l,"cause",{value:s,configurable:!0}),l.name=s&&s.name||"Error",i&&Object.assign(l,i),l};const lJ=null;function oS(s){return Ge.isPlainObject(s)||Ge.isArray(s)}function tL(s){return Ge.endsWith(s,"[]")?s.slice(0,-2):s}function tM(s,t,a){return s?s.concat(t).map(function(n,i){return n=tL(n),!a&&i?"["+n+"]":n}).join(a?".":""):t}function cJ(s){return Ge.isArray(s)&&!s.some(oS)}const oJ=Ge.toFlatObject(Ge,{},null,function(t){return/^is[A-Z]/.test(t)});function kN(s,t,a){if(!Ge.isObject(s))throw new TypeError("target must be an object");t=t||new FormData,a=Ge.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,v){return!Ge.isUndefined(v[k])});const r=a.metaTokens,n=a.visitor||d,i=a.dots,l=a.indexes,o=(a.Blob||typeof Blob<"u"&&Blob)&&Ge.isSpecCompliantForm(t);if(!Ge.isFunction(n))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(Ge.isDate(y))return y.toISOString();if(Ge.isBoolean(y))return y.toString();if(!o&&Ge.isBlob(y))throw new Yt("Blob is not supported. Use a Buffer instead.");return Ge.isArrayBuffer(y)||Ge.isTypedArray(y)?o&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,k,v){let S=y;if(y&&!v&&typeof y=="object"){if(Ge.endsWith(k,"{}"))k=r?k:k.slice(0,-2),y=JSON.stringify(y);else if(Ge.isArray(y)&&cJ(y)||(Ge.isFileList(y)||Ge.endsWith(k,"[]"))&&(S=Ge.toArray(y)))return k=tL(k),S.forEach(function(_,A){!(Ge.isUndefined(_)||_===null)&&t.append(l===!0?tM([k],A,i):l===null?k:k+"[]",u(_))}),!1}return oS(y)?!0:(t.append(tM(v,k,i),u(y)),!1)}const f=[],p=Object.assign(oJ,{defaultVisitor:d,convertValue:u,isVisitable:oS});function j(y,k){if(!Ge.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+k.join("."));f.push(y),Ge.forEach(y,function(S,C){(!(Ge.isUndefined(S)||S===null)&&n.call(t,S,Ge.isString(C)?C.trim():C,k,p))===!0&&j(S,k?k.concat(C):[C])}),f.pop()}}if(!Ge.isObject(s))throw new TypeError("data must be an object");return j(s),t}function sM(s){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function SC(s,t){this._pairs=[],s&&kN(s,this,t)}const sL=SC.prototype;sL.append=function(t,a){this._pairs.push([t,a])};sL.toString=function(t){const a=t?function(r){return t.call(this,r,sM)}:sM;return this._pairs.map(function(n){return a(n[0])+"="+a(n[1])},"").join("&")};function dJ(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function aL(s,t,a){if(!t)return s;const r=a&&a.encode||dJ;Ge.isFunction(a)&&(a={serialize:a});const n=a&&a.serialize;let i;if(n?i=n(t,a):i=Ge.isURLSearchParams(t)?t.toString():new SC(t,a).toString(r),i){const l=s.indexOf("#");l!==-1&&(s=s.slice(0,l)),s+=(s.indexOf("?")===-1?"?":"&")+i}return s}class aM{constructor(){this.handlers=[]}use(t,a,r){return this.handlers.push({fulfilled:t,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ge.forEach(this.handlers,function(r){r!==null&&t(r)})}}const rL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hJ=typeof URLSearchParams<"u"?URLSearchParams:SC,uJ=typeof FormData<"u"?FormData:null,mJ=typeof Blob<"u"?Blob:null,xJ={isBrowser:!0,classes:{URLSearchParams:hJ,FormData:uJ,Blob:mJ},protocols:["http","https","file","blob","url","data"]},_C=typeof window<"u"&&typeof document<"u",dS=typeof navigator=="object"&&navigator||void 0,fJ=_C&&(!dS||["ReactNative","NativeScript","NS"].indexOf(dS.product)<0),pJ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gJ=_C&&window.location.href||"http://localhost",yJ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_C,hasStandardBrowserEnv:fJ,hasStandardBrowserWebWorkerEnv:pJ,navigator:dS,origin:gJ},Symbol.toStringTag,{value:"Module"})),Lr={...yJ,...xJ};function jJ(s,t){return kN(s,new Lr.classes.URLSearchParams,{visitor:function(a,r,n,i){return Lr.isNode&&Ge.isBuffer(a)?(this.append(r,a.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function vJ(s){return Ge.matchAll(/\w+|\[(\w*)]/g,s).map(t=>t[0]==="[]"?"":t[1]||t[0])}function bJ(s){const t={},a=Object.keys(s);let r;const n=a.length;let i;for(r=0;r<n;r++)i=a[r],t[i]=s[i];return t}function nL(s){function t(a,r,n,i){let l=a[i++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),o=i>=a.length;return l=!l&&Ge.isArray(n)?n.length:l,o?(Ge.hasOwnProp(n,l)?n[l]=[n[l],r]:n[l]=r,!c):((!n[l]||!Ge.isObject(n[l]))&&(n[l]=[]),t(a,r,n[l],i)&&Ge.isArray(n[l])&&(n[l]=bJ(n[l])),!c)}if(Ge.isFormData(s)&&Ge.isFunction(s.entries)){const a={};return Ge.forEachEntry(s,(r,n)=>{t(vJ(r),n,a,0)}),a}return null}function NJ(s,t,a){if(Ge.isString(s))try{return(t||JSON.parse)(s),Ge.trim(s)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(s)}const vg={transitional:rL,adapter:["xhr","http","fetch"],transformRequest:[function(t,a){const r=a.getContentType()||"",n=r.indexOf("application/json")>-1,i=Ge.isObject(t);if(i&&Ge.isHTMLForm(t)&&(t=new FormData(t)),Ge.isFormData(t))return n?JSON.stringify(nL(t)):t;if(Ge.isArrayBuffer(t)||Ge.isBuffer(t)||Ge.isStream(t)||Ge.isFile(t)||Ge.isBlob(t)||Ge.isReadableStream(t))return t;if(Ge.isArrayBufferView(t))return t.buffer;if(Ge.isURLSearchParams(t))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return jJ(t,this.formSerializer).toString();if((c=Ge.isFileList(t))||r.indexOf("multipart/form-data")>-1){const o=this.env&&this.env.FormData;return kN(c?{"files[]":t}:t,o&&new o,this.formSerializer)}}return i||n?(a.setContentType("application/json",!1),NJ(t)):t}],transformResponse:[function(t){const a=this.transitional||vg.transitional,r=a&&a.forcedJSONParsing,n=this.responseType==="json";if(Ge.isResponse(t)||Ge.isReadableStream(t))return t;if(t&&Ge.isString(t)&&(r&&!this.responseType||n)){const l=!(a&&a.silentJSONParsing)&&n;try{return JSON.parse(t,this.parseReviver)}catch(c){if(l)throw c.name==="SyntaxError"?Yt.from(c,Yt.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Lr.classes.FormData,Blob:Lr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ge.forEach(["delete","get","head","post","put","patch"],s=>{vg.headers[s]={}});const wJ=Ge.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kJ=s=>{const t={};let a,r,n;return s&&s.split(`
`).forEach(function(l){n=l.indexOf(":"),a=l.substring(0,n).trim().toLowerCase(),r=l.substring(n+1).trim(),!(!a||t[a]&&wJ[a])&&(a==="set-cookie"?t[a]?t[a].push(r):t[a]=[r]:t[a]=t[a]?t[a]+", "+r:r)}),t},rM=Symbol("internals");function qf(s){return s&&String(s).trim().toLowerCase()}function Ev(s){return s===!1||s==null?s:Ge.isArray(s)?s.map(Ev):String(s)}function SJ(s){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(s);)t[r[1]]=r[2];return t}const _J=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function gw(s,t,a,r,n){if(Ge.isFunction(r))return r.call(this,t,a);if(n&&(t=a),!!Ge.isString(t)){if(Ge.isString(r))return t.indexOf(r)!==-1;if(Ge.isRegExp(r))return r.test(t)}}function CJ(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,a,r)=>a.toUpperCase()+r)}function EJ(s,t){const a=Ge.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(s,r+a,{value:function(n,i,l){return this[r].call(this,t,n,i,l)},configurable:!0})})}let _n=class{constructor(t){t&&this.set(t)}set(t,a,r){const n=this;function i(c,o,u){const d=qf(o);if(!d)throw new Error("header name must be a non-empty string");const f=Ge.findKey(n,d);(!f||n[f]===void 0||u===!0||u===void 0&&n[f]!==!1)&&(n[f||o]=Ev(c))}const l=(c,o)=>Ge.forEach(c,(u,d)=>i(u,d,o));if(Ge.isPlainObject(t)||t instanceof this.constructor)l(t,a);else if(Ge.isString(t)&&(t=t.trim())&&!_J(t))l(kJ(t),a);else if(Ge.isObject(t)&&Ge.isIterable(t)){let c={},o,u;for(const d of t){if(!Ge.isArray(d))throw TypeError("Object iterator must return a key-value pair");c[u=d[0]]=(o=c[u])?Ge.isArray(o)?[...o,d[1]]:[o,d[1]]:d[1]}l(c,a)}else t!=null&&i(a,t,r);return this}get(t,a){if(t=qf(t),t){const r=Ge.findKey(this,t);if(r){const n=this[r];if(!a)return n;if(a===!0)return SJ(n);if(Ge.isFunction(a))return a.call(this,n,r);if(Ge.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,a){if(t=qf(t),t){const r=Ge.findKey(this,t);return!!(r&&this[r]!==void 0&&(!a||gw(this,this[r],r,a)))}return!1}delete(t,a){const r=this;let n=!1;function i(l){if(l=qf(l),l){const c=Ge.findKey(r,l);c&&(!a||gw(r,r[c],c,a))&&(delete r[c],n=!0)}}return Ge.isArray(t)?t.forEach(i):i(t),n}clear(t){const a=Object.keys(this);let r=a.length,n=!1;for(;r--;){const i=a[r];(!t||gw(this,this[i],i,t,!0))&&(delete this[i],n=!0)}return n}normalize(t){const a=this,r={};return Ge.forEach(this,(n,i)=>{const l=Ge.findKey(r,i);if(l){a[l]=Ev(n),delete a[i];return}const c=t?CJ(i):String(i).trim();c!==i&&delete a[i],a[c]=Ev(n),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const a=Object.create(null);return Ge.forEach(this,(r,n)=>{r!=null&&r!==!1&&(a[n]=t&&Ge.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,a])=>t+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...a){const r=new this(t);return a.forEach(n=>r.set(n)),r}static accessor(t){const r=(this[rM]=this[rM]={accessors:{}}).accessors,n=this.prototype;function i(l){const c=qf(l);r[c]||(EJ(n,l),r[c]=!0)}return Ge.isArray(t)?t.forEach(i):i(t),this}};_n.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ge.reduceDescriptors(_n.prototype,({value:s},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(r){this[a]=r}}});Ge.freezeMethods(_n);function yw(s,t){const a=this||vg,r=t||a,n=_n.from(r.headers);let i=r.data;return Ge.forEach(s,function(c){i=c.call(a,i,n.normalize(),t?t.status:void 0)}),n.normalize(),i}function iL(s){return!!(s&&s.__CANCEL__)}function cx(s,t,a){Yt.call(this,s??"canceled",Yt.ERR_CANCELED,t,a),this.name="CanceledError"}Ge.inherits(cx,Yt,{__CANCEL__:!0});function lL(s,t,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?s(a):t(new Yt("Request failed with status code "+a.status,[Yt.ERR_BAD_REQUEST,Yt.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function AJ(s){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return t&&t[1]||""}function TJ(s,t){s=s||10;const a=new Array(s),r=new Array(s);let n=0,i=0,l;return t=t!==void 0?t:1e3,function(o){const u=Date.now(),d=r[i];l||(l=u),a[n]=o,r[n]=u;let f=i,p=0;for(;f!==n;)p+=a[f++],f=f%s;if(n=(n+1)%s,n===i&&(i=(i+1)%s),u-l<t)return;const j=d&&u-d;return j?Math.round(p*1e3/j):void 0}}function MJ(s,t){let a=0,r=1e3/t,n,i;const l=(u,d=Date.now())=>{a=d,n=null,i&&(clearTimeout(i),i=null),s(...u)};return[(...u)=>{const d=Date.now(),f=d-a;f>=r?l(u,d):(n=u,i||(i=setTimeout(()=>{i=null,l(n)},r-f)))},()=>n&&l(n)]}const Kv=(s,t,a=3)=>{let r=0;const n=TJ(50,250);return MJ(i=>{const l=i.loaded,c=i.lengthComputable?i.total:void 0,o=l-r,u=n(o),d=l<=c;r=l;const f={loaded:l,total:c,progress:c?l/c:void 0,bytes:o,rate:u||void 0,estimated:u&&c&&d?(c-l)/u:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};s(f)},a)},nM=(s,t)=>{const a=s!=null;return[r=>t[0]({lengthComputable:a,total:s,loaded:r}),t[1]]},iM=s=>(...t)=>Ge.asap(()=>s(...t)),DJ=Lr.hasStandardBrowserEnv?((s,t)=>a=>(a=new URL(a,Lr.origin),s.protocol===a.protocol&&s.host===a.host&&(t||s.port===a.port)))(new URL(Lr.origin),Lr.navigator&&/(msie|trident)/i.test(Lr.navigator.userAgent)):()=>!0,OJ=Lr.hasStandardBrowserEnv?{write(s,t,a,r,n,i){const l=[s+"="+encodeURIComponent(t)];Ge.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),Ge.isString(r)&&l.push("path="+r),Ge.isString(n)&&l.push("domain="+n),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(s){const t=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function RJ(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function $J(s,t){return t?s.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):s}function cL(s,t,a){let r=!RJ(t);return s&&(r||a==!1)?$J(s,t):t}const lM=s=>s instanceof _n?{...s}:s;function Gh(s,t){t=t||{};const a={};function r(u,d,f,p){return Ge.isPlainObject(u)&&Ge.isPlainObject(d)?Ge.merge.call({caseless:p},u,d):Ge.isPlainObject(d)?Ge.merge({},d):Ge.isArray(d)?d.slice():d}function n(u,d,f,p){if(Ge.isUndefined(d)){if(!Ge.isUndefined(u))return r(void 0,u,f,p)}else return r(u,d,f,p)}function i(u,d){if(!Ge.isUndefined(d))return r(void 0,d)}function l(u,d){if(Ge.isUndefined(d)){if(!Ge.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function c(u,d,f){if(f in t)return r(u,d);if(f in s)return r(void 0,u)}const o={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(u,d,f)=>n(lM(u),lM(d),f,!0)};return Ge.forEach(Object.keys({...s,...t}),function(d){const f=o[d]||n,p=f(s[d],t[d],d);Ge.isUndefined(p)&&f!==c||(a[d]=p)}),a}const oL=s=>{const t=Gh({},s);let{data:a,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:i,headers:l,auth:c}=t;if(t.headers=l=_n.from(l),t.url=aL(cL(t.baseURL,t.url,t.allowAbsoluteUrls),s.params,s.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),Ge.isFormData(a)){if(Lr.hasStandardBrowserEnv||Lr.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(Ge.isFunction(a.getHeaders)){const o=a.getHeaders(),u=["content-type","content-length"];Object.entries(o).forEach(([d,f])=>{u.includes(d.toLowerCase())&&l.set(d,f)})}}if(Lr.hasStandardBrowserEnv&&(r&&Ge.isFunction(r)&&(r=r(t)),r||r!==!1&&DJ(t.url))){const o=n&&i&&OJ.read(i);o&&l.set(n,o)}return t},PJ=typeof XMLHttpRequest<"u",IJ=PJ&&function(s){return new Promise(function(a,r){const n=oL(s);let i=n.data;const l=_n.from(n.headers).normalize();let{responseType:c,onUploadProgress:o,onDownloadProgress:u}=n,d,f,p,j,y;function k(){j&&j(),y&&y(),n.cancelToken&&n.cancelToken.unsubscribe(d),n.signal&&n.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(n.method.toUpperCase(),n.url,!0),v.timeout=n.timeout;function S(){if(!v)return;const _=_n.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),D={data:!c||c==="text"||c==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:_,config:s,request:v};lL(function(L){a(L),k()},function(L){r(L),k()},D),v=null}"onloadend"in v?v.onloadend=S:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(S)},v.onabort=function(){v&&(r(new Yt("Request aborted",Yt.ECONNABORTED,s,v)),v=null)},v.onerror=function(A){const D=A&&A.message?A.message:"Network Error",M=new Yt(D,Yt.ERR_NETWORK,s,v);M.event=A||null,r(M),v=null},v.ontimeout=function(){let A=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const D=n.transitional||rL;n.timeoutErrorMessage&&(A=n.timeoutErrorMessage),r(new Yt(A,D.clarifyTimeoutError?Yt.ETIMEDOUT:Yt.ECONNABORTED,s,v)),v=null},i===void 0&&l.setContentType(null),"setRequestHeader"in v&&Ge.forEach(l.toJSON(),function(A,D){v.setRequestHeader(D,A)}),Ge.isUndefined(n.withCredentials)||(v.withCredentials=!!n.withCredentials),c&&c!=="json"&&(v.responseType=n.responseType),u&&([p,y]=Kv(u,!0),v.addEventListener("progress",p)),o&&v.upload&&([f,j]=Kv(o),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",j)),(n.cancelToken||n.signal)&&(d=_=>{v&&(r(!_||_.type?new cx(null,s,v):_),v.abort(),v=null)},n.cancelToken&&n.cancelToken.subscribe(d),n.signal&&(n.signal.aborted?d():n.signal.addEventListener("abort",d)));const C=AJ(n.url);if(C&&Lr.protocols.indexOf(C)===-1){r(new Yt("Unsupported protocol "+C+":",Yt.ERR_BAD_REQUEST,s));return}v.send(i||null)})},BJ=(s,t)=>{const{length:a}=s=s?s.filter(Boolean):[];if(t||a){let r=new AbortController,n;const i=function(u){if(!n){n=!0,c();const d=u instanceof Error?u:this.reason;r.abort(d instanceof Yt?d:new cx(d instanceof Error?d.message:d))}};let l=t&&setTimeout(()=>{l=null,i(new Yt(`timeout ${t} of ms exceeded`,Yt.ETIMEDOUT))},t);const c=()=>{s&&(l&&clearTimeout(l),l=null,s.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),s=null)};s.forEach(u=>u.addEventListener("abort",i));const{signal:o}=r;return o.unsubscribe=()=>Ge.asap(c),o}},LJ=function*(s,t){let a=s.byteLength;if(a<t){yield s;return}let r=0,n;for(;r<a;)n=r+t,yield s.slice(r,n),r=n},FJ=async function*(s,t){for await(const a of zJ(s))yield*LJ(a,t)},zJ=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const t=s.getReader();try{for(;;){const{done:a,value:r}=await t.read();if(a)break;yield r}}finally{await t.cancel()}},cM=(s,t,a,r)=>{const n=FJ(s,t);let i=0,l,c=o=>{l||(l=!0,r&&r(o))};return new ReadableStream({async pull(o){try{const{done:u,value:d}=await n.next();if(u){c(),o.close();return}let f=d.byteLength;if(a){let p=i+=f;a(p)}o.enqueue(new Uint8Array(d))}catch(u){throw c(u),u}},cancel(o){return c(o),n.return()}},{highWaterMark:2})},oM=64*1024,{isFunction:zj}=Ge,HJ=(({Request:s,Response:t})=>({Request:s,Response:t}))(Ge.global),{ReadableStream:dM,TextEncoder:hM}=Ge.global,uM=(s,...t)=>{try{return!!s(...t)}catch{return!1}},UJ=s=>{s=Ge.merge.call({skipUndefined:!0},HJ,s);const{fetch:t,Request:a,Response:r}=s,n=t?zj(t):typeof fetch=="function",i=zj(a),l=zj(r);if(!n)return!1;const c=n&&zj(dM),o=n&&(typeof hM=="function"?(y=>k=>y.encode(k))(new hM):async y=>new Uint8Array(await new a(y).arrayBuffer())),u=i&&c&&uM(()=>{let y=!1;const k=new a(Lr.origin,{body:new dM,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!k}),d=l&&c&&uM(()=>Ge.isReadableStream(new r("").body)),f={stream:d&&(y=>y.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!f[y]&&(f[y]=(k,v)=>{let S=k&&k[y];if(S)return S.call(k);throw new Yt(`Response type '${y}' is not supported`,Yt.ERR_NOT_SUPPORT,v)})});const p=async y=>{if(y==null)return 0;if(Ge.isBlob(y))return y.size;if(Ge.isSpecCompliantForm(y))return(await new a(Lr.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(Ge.isArrayBufferView(y)||Ge.isArrayBuffer(y))return y.byteLength;if(Ge.isURLSearchParams(y)&&(y=y+""),Ge.isString(y))return(await o(y)).byteLength},j=async(y,k)=>{const v=Ge.toFiniteNumber(y.getContentLength());return v??p(k)};return async y=>{let{url:k,method:v,data:S,signal:C,cancelToken:_,timeout:A,onDownloadProgress:D,onUploadProgress:M,responseType:L,headers:F,withCredentials:Q="same-origin",fetchOptions:I}=oL(y),H=t||fetch;L=L?(L+"").toLowerCase():"text";let z=BJ([C,_&&_.toAbortSignal()],A),K=null;const U=z&&z.unsubscribe&&(()=>{z.unsubscribe()});let V;try{if(M&&u&&v!=="get"&&v!=="head"&&(V=await j(F,S))!==0){let W=new a(k,{method:"POST",body:S,duplex:"half"}),Z;if(Ge.isFormData(S)&&(Z=W.headers.get("content-type"))&&F.setContentType(Z),W.body){const[te,ie]=nM(V,Kv(iM(M)));S=cM(W.body,oM,te,ie)}}Ge.isString(Q)||(Q=Q?"include":"omit");const P=i&&"credentials"in a.prototype,q={...I,signal:z,method:v.toUpperCase(),headers:F.normalize().toJSON(),body:S,duplex:"half",credentials:P?Q:void 0};K=i&&new a(k,q);let G=await(i?H(K,I):H(k,q));const se=d&&(L==="stream"||L==="response");if(d&&(D||se&&U)){const W={};["status","statusText","headers"].forEach(fe=>{W[fe]=G[fe]});const Z=Ge.toFiniteNumber(G.headers.get("content-length")),[te,ie]=D&&nM(Z,Kv(iM(D),!0))||[];G=new r(cM(G.body,oM,te,()=>{ie&&ie(),U&&U()}),W)}L=L||"text";let O=await f[Ge.findKey(f,L)||"text"](G,y);return!se&&U&&U(),await new Promise((W,Z)=>{lL(W,Z,{data:O,headers:_n.from(G.headers),status:G.status,statusText:G.statusText,config:y,request:K})})}catch(P){throw U&&U(),P&&P.name==="TypeError"&&/Load failed|fetch/i.test(P.message)?Object.assign(new Yt("Network Error",Yt.ERR_NETWORK,y,K),{cause:P.cause||P}):Yt.from(P,P&&P.code,y,K)}}},qJ=new Map,dL=s=>{let t=s?s.env:{};const{fetch:a,Request:r,Response:n}=t,i=[r,n,a];let l=i.length,c=l,o,u,d=qJ;for(;c--;)o=i[c],u=d.get(o),u===void 0&&d.set(o,u=c?new Map:UJ(t)),d=u;return u};dL();const hS={http:lJ,xhr:IJ,fetch:{get:dL}};Ge.forEach(hS,(s,t)=>{if(s){try{Object.defineProperty(s,"name",{value:t})}catch{}Object.defineProperty(s,"adapterName",{value:t})}});const mM=s=>`- ${s}`,GJ=s=>Ge.isFunction(s)||s===null||s===!1,hL={getAdapter:(s,t)=>{s=Ge.isArray(s)?s:[s];const{length:a}=s;let r,n;const i={};for(let l=0;l<a;l++){r=s[l];let c;if(n=r,!GJ(r)&&(n=hS[(c=String(r)).toLowerCase()],n===void 0))throw new Yt(`Unknown adapter '${c}'`);if(n&&(Ge.isFunction(n)||(n=n.get(t))))break;i[c||"#"+l]=n}if(!n){const l=Object.entries(i).map(([o,u])=>`adapter ${o} `+(u===!1?"is not supported by the environment":"is not available in the build"));let c=a?l.length>1?`since :
`+l.map(mM).join(`
`):" "+mM(l[0]):"as no adapter specified";throw new Yt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return n},adapters:hS};function jw(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new cx(null,s)}function xM(s){return jw(s),s.headers=_n.from(s.headers),s.data=yw.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),hL.getAdapter(s.adapter||vg.adapter,s)(s).then(function(r){return jw(s),r.data=yw.call(s,s.transformResponse,r),r.headers=_n.from(r.headers),r},function(r){return iL(r)||(jw(s),r&&r.response&&(r.response.data=yw.call(s,s.transformResponse,r.response),r.response.headers=_n.from(r.response.headers))),Promise.reject(r)})}const uL="1.12.2",SN={};["object","boolean","number","function","string","symbol"].forEach((s,t)=>{SN[s]=function(r){return typeof r===s||"a"+(t<1?"n ":" ")+s}});const fM={};SN.transitional=function(t,a,r){function n(i,l){return"[Axios v"+uL+"] Transitional option '"+i+"'"+l+(r?". "+r:"")}return(i,l,c)=>{if(t===!1)throw new Yt(n(l," has been removed"+(a?" in "+a:"")),Yt.ERR_DEPRECATED);return a&&!fM[l]&&(fM[l]=!0,console.warn(n(l," has been deprecated since v"+a+" and will be removed in the near future"))),t?t(i,l,c):!0}};SN.spelling=function(t){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function VJ(s,t,a){if(typeof s!="object")throw new Yt("options must be an object",Yt.ERR_BAD_OPTION_VALUE);const r=Object.keys(s);let n=r.length;for(;n-- >0;){const i=r[n],l=t[i];if(l){const c=s[i],o=c===void 0||l(c,i,s);if(o!==!0)throw new Yt("option "+i+" must be "+o,Yt.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Yt("Unknown option "+i,Yt.ERR_BAD_OPTION)}}const Av={assertOptions:VJ,validators:SN},jl=Av.validators;let Rh=class{constructor(t){this.defaults=t||{},this.interceptors={request:new aM,response:new aM}}async request(t,a){try{return await this._request(t,a)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=Gh(this.defaults,a);const{transitional:r,paramsSerializer:n,headers:i}=a;r!==void 0&&Av.assertOptions(r,{silentJSONParsing:jl.transitional(jl.boolean),forcedJSONParsing:jl.transitional(jl.boolean),clarifyTimeoutError:jl.transitional(jl.boolean)},!1),n!=null&&(Ge.isFunction(n)?a.paramsSerializer={serialize:n}:Av.assertOptions(n,{encode:jl.function,serialize:jl.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),Av.assertOptions(a,{baseUrl:jl.spelling("baseURL"),withXsrfToken:jl.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let l=i&&Ge.merge(i.common,i[a.method]);i&&Ge.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),a.headers=_n.concat(l,i);const c=[];let o=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(a)===!1||(o=o&&k.synchronous,c.unshift(k.fulfilled,k.rejected))});const u=[];this.interceptors.response.forEach(function(k){u.push(k.fulfilled,k.rejected)});let d,f=0,p;if(!o){const y=[xM.bind(this),void 0];for(y.unshift(...c),y.push(...u),p=y.length,d=Promise.resolve(a);f<p;)d=d.then(y[f++],y[f++]);return d}p=c.length;let j=a;for(;f<p;){const y=c[f++],k=c[f++];try{j=y(j)}catch(v){k.call(this,v);break}}try{d=xM.call(this,j)}catch(y){return Promise.reject(y)}for(f=0,p=u.length;f<p;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Gh(this.defaults,t);const a=cL(t.baseURL,t.url,t.allowAbsoluteUrls);return aL(a,t.params,t.paramsSerializer)}};Ge.forEach(["delete","get","head","options"],function(t){Rh.prototype[t]=function(a,r){return this.request(Gh(r||{},{method:t,url:a,data:(r||{}).data}))}});Ge.forEach(["post","put","patch"],function(t){function a(r){return function(i,l,c){return this.request(Gh(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Rh.prototype[t]=a(),Rh.prototype[t+"Form"]=a(!0)});let WJ=class mL{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(i){a=i});const r=this;this.promise.then(n=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](n);r._listeners=null}),this.promise.then=n=>{let i;const l=new Promise(c=>{r.subscribe(c),i=c}).then(n);return l.cancel=function(){r.unsubscribe(i)},l},t(function(i,l,c){r.reason||(r.reason=new cx(i,l,c),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const a=this._listeners.indexOf(t);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const t=new AbortController,a=r=>{t.abort(r)};return this.subscribe(a),t.signal.unsubscribe=()=>this.unsubscribe(a),t.signal}static source(){let t;return{token:new mL(function(n){t=n}),cancel:t}}};function YJ(s){return function(a){return s.apply(null,a)}}function KJ(s){return Ge.isObject(s)&&s.isAxiosError===!0}const uS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(uS).forEach(([s,t])=>{uS[t]=s});function xL(s){const t=new Rh(s),a=GB(Rh.prototype.request,t);return Ge.extend(a,Rh.prototype,t,{allOwnKeys:!0}),Ge.extend(a,t,null,{allOwnKeys:!0}),a.create=function(n){return xL(Gh(s,n))},a}const $a=xL(vg);$a.Axios=Rh;$a.CanceledError=cx;$a.CancelToken=WJ;$a.isCancel=iL;$a.VERSION=uL;$a.toFormData=kN;$a.AxiosError=Yt;$a.Cancel=$a.CanceledError;$a.all=function(t){return Promise.all(t)};$a.spread=YJ;$a.isAxiosError=KJ;$a.mergeConfig=Gh;$a.AxiosHeaders=_n;$a.formToJSON=s=>nL(Ge.isHTMLForm(s)?new FormData(s):s);$a.getAdapter=hL.getAdapter;$a.HttpStatusCode=uS;$a.default=$a;const{Axios:H4e,AxiosError:U4e,CanceledError:q4e,isCancel:G4e,CancelToken:V4e,VERSION:W4e,all:Y4e,Cancel:K4e,isAxiosError:Q4e,spread:X4e,toFormData:Z4e,AxiosHeaders:J4e,HttpStatusCode:e6e,formToJSON:t6e,getAdapter:s6e,mergeConfig:a6e}=$a,he=$a.create({baseURL:"http://woopservice.infinityfreeapp.com/api",withCredentials:!1,headers:{Accept:"application/json"}});he.interceptors.request.use(s=>{const t=localStorage.getItem("token");return t&&(s.headers.Authorization=`Bearer ${t}`),s});var Tv={exports:{}},QJ=Tv.exports,pM;function XJ(){return pM||(pM=1,(function(s,t){(function(r,n){s.exports=n()})(typeof self<"u"?self:QJ,function(){return(function(a){var r={};function n(i){if(r[i])return r[i].exports;var l=r[i]={i,l:!1,exports:{}};return a[i].call(l.exports,l,l.exports,n),l.l=!0,l.exports}return n.m=a,n.c=r,n.d=function(i,l,c){n.o(i,l)||Object.defineProperty(i,l,{configurable:!1,enumerable:!0,get:c})},n.r=function(i){Object.defineProperty(i,"__esModule",{value:!0})},n.n=function(i){var l=i&&i.__esModule?function(){return i.default}:function(){return i};return n.d(l,"a",l),l},n.o=function(i,l){return Object.prototype.hasOwnProperty.call(i,l)},n.p="",n(n.s=0)})({"./dist/icons.json":(function(a){a.exports={activity:'<polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>',airplay:'<path d="M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"></path><polygon points="12 15 17 21 7 21 12 15"></polygon>',"alert-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"alert-octagon":'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"alert-triangle":'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line>',"align-center":'<line x1="18" y1="10" x2="6" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="18" y1="18" x2="6" y2="18"></line>',"align-justify":'<line x1="21" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="3" y2="18"></line>',"align-left":'<line x1="17" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="17" y1="18" x2="3" y2="18"></line>',"align-right":'<line x1="21" y1="10" x2="7" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="7" y2="18"></line>',anchor:'<circle cx="12" cy="5" r="3"></circle><line x1="12" y1="22" x2="12" y2="8"></line><path d="M5 12H2a10 10 0 0 0 20 0h-3"></path>',aperture:'<circle cx="12" cy="12" r="10"></circle><line x1="14.31" y1="8" x2="20.05" y2="17.94"></line><line x1="9.69" y1="8" x2="21.17" y2="8"></line><line x1="7.38" y1="12" x2="13.12" y2="2.06"></line><line x1="9.69" y1="16" x2="3.95" y2="6.06"></line><line x1="14.31" y1="16" x2="2.83" y2="16"></line><line x1="16.62" y1="12" x2="10.88" y2="21.94"></line>',archive:'<polyline points="21 8 21 21 3 21 3 8"></polyline><rect x="1" y="3" width="22" height="5"></rect><line x1="10" y1="12" x2="14" y2="12"></line>',"arrow-down-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line>',"arrow-down-left":'<line x1="17" y1="7" x2="7" y2="17"></line><polyline points="17 17 7 17 7 7"></polyline>',"arrow-down-right":'<line x1="7" y1="7" x2="17" y2="17"></line><polyline points="17 7 17 17 7 17"></polyline>',"arrow-down":'<line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline>',"arrow-left-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line>',"arrow-left":'<line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline>',"arrow-right-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line>',"arrow-right":'<line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline>',"arrow-up-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="16 12 12 8 8 12"></polyline><line x1="12" y1="16" x2="12" y2="8"></line>',"arrow-up-left":'<line x1="17" y1="17" x2="7" y2="7"></line><polyline points="7 17 7 7 17 7"></polyline>',"arrow-up-right":'<line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline>',"arrow-up":'<line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline>',"at-sign":'<circle cx="12" cy="12" r="4"></circle><path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"></path>',award:'<circle cx="12" cy="8" r="7"></circle><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>',"bar-chart-2":'<line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line>',"bar-chart":'<line x1="12" y1="20" x2="12" y2="10"></line><line x1="18" y1="20" x2="18" y2="4"></line><line x1="6" y1="20" x2="6" y2="16"></line>',"battery-charging":'<path d="M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"></path><line x1="23" y1="13" x2="23" y2="11"></line><polyline points="11 6 7 12 13 12 9 18"></polyline>',battery:'<rect x="1" y="6" width="18" height="12" rx="2" ry="2"></rect><line x1="23" y1="13" x2="23" y2="11"></line>',"bell-off":'<path d="M13.73 21a2 2 0 0 1-3.46 0"></path><path d="M18.63 13A17.89 17.89 0 0 1 18 8"></path><path d="M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"></path><path d="M18 8a6 6 0 0 0-9.33-5"></path><line x1="1" y1="1" x2="23" y2="23"></line>',bell:'<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path>',bluetooth:'<polyline points="6.5 6.5 17.5 17.5 12 23 12 1 17.5 6.5 6.5 17.5"></polyline>',bold:'<path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path><path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path>',"book-open":'<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>',book:'<path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>',bookmark:'<path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>',box:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',briefcase:'<rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>',calendar:'<rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>',"camera-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M21 21H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3m3-3h6l2 3h4a2 2 0 0 1 2 2v9.34m-7.72-2.06a4 4 0 1 1-5.56-5.56"></path>',camera:'<path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle>',cast:'<path d="M2 16.1A5 5 0 0 1 5.9 20M2 12.05A9 9 0 0 1 9.95 20M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6"></path><line x1="2" y1="20" x2="2.01" y2="20"></line>',"check-circle":'<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline>',"check-square":'<polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>',check:'<polyline points="20 6 9 17 4 12"></polyline>',"chevron-down":'<polyline points="6 9 12 15 18 9"></polyline>',"chevron-left":'<polyline points="15 18 9 12 15 6"></polyline>',"chevron-right":'<polyline points="9 18 15 12 9 6"></polyline>',"chevron-up":'<polyline points="18 15 12 9 6 15"></polyline>',"chevrons-down":'<polyline points="7 13 12 18 17 13"></polyline><polyline points="7 6 12 11 17 6"></polyline>',"chevrons-left":'<polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7"></polyline>',"chevrons-right":'<polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline>',"chevrons-up":'<polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline>',chrome:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="21.17" y1="8" x2="12" y2="8"></line><line x1="3.95" y1="6.06" x2="8.54" y2="14"></line><line x1="10.88" y1="21.94" x2="15.46" y2="14"></line>',circle:'<circle cx="12" cy="12" r="10"></circle>',clipboard:'<path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>',clock:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>',"cloud-drizzle":'<line x1="8" y1="19" x2="8" y2="21"></line><line x1="8" y1="13" x2="8" y2="15"></line><line x1="16" y1="19" x2="16" y2="21"></line><line x1="16" y1="13" x2="16" y2="15"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="12" y1="15" x2="12" y2="17"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>',"cloud-lightning":'<path d="M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"></path><polyline points="13 11 9 17 15 17 11 23"></polyline>',"cloud-off":'<path d="M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"></path><line x1="1" y1="1" x2="23" y2="23"></line>',"cloud-rain":'<line x1="16" y1="13" x2="16" y2="21"></line><line x1="8" y1="13" x2="8" y2="21"></line><line x1="12" y1="15" x2="12" y2="23"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>',"cloud-snow":'<path d="M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"></path><line x1="8" y1="16" x2="8.01" y2="16"></line><line x1="8" y1="20" x2="8.01" y2="20"></line><line x1="12" y1="18" x2="12.01" y2="18"></line><line x1="12" y1="22" x2="12.01" y2="22"></line><line x1="16" y1="16" x2="16.01" y2="16"></line><line x1="16" y1="20" x2="16.01" y2="20"></line>',cloud:'<path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path>',code:'<polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline>',codepen:'<polygon points="12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2"></polygon><line x1="12" y1="22" x2="12" y2="15.5"></line><polyline points="22 8.5 12 15.5 2 8.5"></polyline><polyline points="2 15.5 12 8.5 22 15.5"></polyline><line x1="12" y1="2" x2="12" y2="8.5"></line>',codesandbox:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="7.5 4.21 12 6.81 16.5 4.21"></polyline><polyline points="7.5 19.79 7.5 14.6 3 12"></polyline><polyline points="21 12 16.5 14.6 16.5 19.79"></polyline><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',coffee:'<path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path><line x1="6" y1="1" x2="6" y2="4"></line><line x1="10" y1="1" x2="10" y2="4"></line><line x1="14" y1="1" x2="14" y2="4"></line>',columns:'<path d="M12 3h7a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-7m0-18H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7m0-18v18"></path>',command:'<path d="M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path>',compass:'<circle cx="12" cy="12" r="10"></circle><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"></polygon>',copy:'<rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>',"corner-down-left":'<polyline points="9 10 4 15 9 20"></polyline><path d="M20 4v7a4 4 0 0 1-4 4H4"></path>',"corner-down-right":'<polyline points="15 10 20 15 15 20"></polyline><path d="M4 4v7a4 4 0 0 0 4 4h12"></path>',"corner-left-down":'<polyline points="14 15 9 20 4 15"></polyline><path d="M20 4h-7a4 4 0 0 0-4 4v12"></path>',"corner-left-up":'<polyline points="14 9 9 4 4 9"></polyline><path d="M20 20h-7a4 4 0 0 1-4-4V4"></path>',"corner-right-down":'<polyline points="10 15 15 20 20 15"></polyline><path d="M4 4h7a4 4 0 0 1 4 4v12"></path>',"corner-right-up":'<polyline points="10 9 15 4 20 9"></polyline><path d="M4 20h7a4 4 0 0 0 4-4V4"></path>',"corner-up-left":'<polyline points="9 14 4 9 9 4"></polyline><path d="M20 20v-7a4 4 0 0 0-4-4H4"></path>',"corner-up-right":'<polyline points="15 14 20 9 15 4"></polyline><path d="M4 20v-7a4 4 0 0 1 4-4h12"></path>',cpu:'<rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect><rect x="9" y="9" width="6" height="6"></rect><line x1="9" y1="1" x2="9" y2="4"></line><line x1="15" y1="1" x2="15" y2="4"></line><line x1="9" y1="20" x2="9" y2="23"></line><line x1="15" y1="20" x2="15" y2="23"></line><line x1="20" y1="9" x2="23" y2="9"></line><line x1="20" y1="14" x2="23" y2="14"></line><line x1="1" y1="9" x2="4" y2="9"></line><line x1="1" y1="14" x2="4" y2="14"></line>',"credit-card":'<rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line>',crop:'<path d="M6.13 1L6 16a2 2 0 0 0 2 2h15"></path><path d="M1 6.13L16 6a2 2 0 0 1 2 2v15"></path>',crosshair:'<circle cx="12" cy="12" r="10"></circle><line x1="22" y1="12" x2="18" y2="12"></line><line x1="6" y1="12" x2="2" y2="12"></line><line x1="12" y1="6" x2="12" y2="2"></line><line x1="12" y1="22" x2="12" y2="18"></line>',database:'<ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path>',delete:'<path d="M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"></path><line x1="18" y1="9" x2="12" y2="15"></line><line x1="12" y1="9" x2="18" y2="15"></line>',disc:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="3"></circle>',"divide-circle":'<line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line><circle cx="12" cy="12" r="10"></circle>',"divide-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line>',divide:'<circle cx="12" cy="6" r="2"></circle><line x1="5" y1="12" x2="19" y2="12"></line><circle cx="12" cy="18" r="2"></circle>',"dollar-sign":'<line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>',"download-cloud":'<polyline points="8 17 12 21 16 17"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"></path>',download:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line>',dribbble:'<circle cx="12" cy="12" r="10"></circle><path d="M8.56 2.75c4.37 6.03 6.02 9.42 8.03 17.72m2.54-15.38c-3.72 4.35-8.94 5.66-16.88 5.85m19.5 1.9c-3.5-.93-6.63-.82-8.94 0-2.58.92-5.01 2.86-7.44 6.32"></path>',droplet:'<path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"></path>',"edit-2":'<path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>',"edit-3":'<path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>',edit:'<path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>',"external-link":'<path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>',"eye-off":'<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line>',eye:'<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle>',facebook:'<path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>',"fast-forward":'<polygon points="13 19 22 12 13 5 13 19"></polygon><polygon points="2 19 11 12 2 5 2 19"></polygon>',feather:'<path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path><line x1="16" y1="8" x2="2" y2="22"></line><line x1="17.5" y1="15" x2="9" y2="15"></line>',figma:'<path d="M5 5.5A3.5 3.5 0 0 1 8.5 2H12v7H8.5A3.5 3.5 0 0 1 5 5.5z"></path><path d="M12 2h3.5a3.5 3.5 0 1 1 0 7H12V2z"></path><path d="M12 12.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0z"></path><path d="M5 19.5A3.5 3.5 0 0 1 8.5 16H12v3.5a3.5 3.5 0 1 1-7 0z"></path><path d="M5 12.5A3.5 3.5 0 0 1 8.5 9H12v7H8.5A3.5 3.5 0 0 1 5 12.5z"></path>',"file-minus":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="9" y1="15" x2="15" y2="15"></line>',"file-plus":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="12" y1="18" x2="12" y2="12"></line><line x1="9" y1="15" x2="15" y2="15"></line>',"file-text":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline>',file:'<path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>',film:'<rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line>',filter:'<polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>',flag:'<path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line>',"folder-minus":'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="9" y1="14" x2="15" y2="14"></line>',"folder-plus":'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="12" y1="11" x2="12" y2="17"></line><line x1="9" y1="14" x2="15" y2="14"></line>',folder:'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>',framer:'<path d="M5 16V9h14V2H5l14 14h-7m-7 0l7 7v-7m-7 0h7"></path>',frown:'<circle cx="12" cy="12" r="10"></circle><path d="M16 16s-1.5-2-4-2-4 2-4 2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',gift:'<polyline points="20 12 20 22 4 22 4 12"></polyline><rect x="2" y="7" width="20" height="5"></rect><line x1="12" y1="22" x2="12" y2="7"></line><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"></path><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"></path>',"git-branch":'<line x1="6" y1="3" x2="6" y2="15"></line><circle cx="18" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><path d="M18 9a9 9 0 0 1-9 9"></path>',"git-commit":'<circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line>',"git-merge":'<circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M6 21V9a9 9 0 0 0 9 9"></path>',"git-pull-request":'<circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line>',github:'<path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>',gitlab:'<path d="M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"></path>',globe:'<circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>',grid:'<rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect>',"hard-drive":'<line x1="22" y1="12" x2="2" y2="12"></line><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path><line x1="6" y1="16" x2="6.01" y2="16"></line><line x1="10" y1="16" x2="10.01" y2="16"></line>',hash:'<line x1="4" y1="9" x2="20" y2="9"></line><line x1="4" y1="15" x2="20" y2="15"></line><line x1="10" y1="3" x2="8" y2="21"></line><line x1="16" y1="3" x2="14" y2="21"></line>',headphones:'<path d="M3 18v-6a9 9 0 0 1 18 0v6"></path><path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"></path>',heart:'<path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>',"help-circle":'<circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line>',hexagon:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>',home:'<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline>',image:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline>',inbox:'<polyline points="22 12 16 12 14 15 10 15 8 12 2 12"></polyline><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path>',info:'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line>',instagram:'<rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>',italic:'<line x1="19" y1="4" x2="10" y2="4"></line><line x1="14" y1="20" x2="5" y2="20"></line><line x1="15" y1="4" x2="9" y2="20"></line>',key:'<path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path>',layers:'<polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline>',layout:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line>',"life-buoy":'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="4.93" y1="4.93" x2="9.17" y2="9.17"></line><line x1="14.83" y1="14.83" x2="19.07" y2="19.07"></line><line x1="14.83" y1="9.17" x2="19.07" y2="4.93"></line><line x1="14.83" y1="9.17" x2="18.36" y2="5.64"></line><line x1="4.93" y1="19.07" x2="9.17" y2="14.83"></line>',"link-2":'<path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line>',link:'<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>',linkedin:'<path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle>',list:'<line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line>',loader:'<line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line><line x1="2" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="22" y2="12"></line><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>',lock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path>',"log-in":'<path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line>',"log-out":'<path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line>',mail:'<path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline>',"map-pin":'<path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle>',map:'<polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon><line x1="8" y1="2" x2="8" y2="18"></line><line x1="16" y1="6" x2="16" y2="22"></line>',"maximize-2":'<polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" y1="3" x2="14" y2="10"></line><line x1="3" y1="21" x2="10" y2="14"></line>',maximize:'<path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>',meh:'<circle cx="12" cy="12" r="10"></circle><line x1="8" y1="15" x2="16" y2="15"></line><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',menu:'<line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>',"message-circle":'<path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>',"message-square":'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>',"mic-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"></path><path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',mic:'<path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',"minimize-2":'<polyline points="4 14 10 14 10 20"></polyline><polyline points="20 10 14 10 14 4"></polyline><line x1="14" y1="10" x2="21" y2="3"></line><line x1="3" y1="21" x2="10" y2="14"></line>',minimize:'<path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"></path>',"minus-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="8" y1="12" x2="16" y2="12"></line>',"minus-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line>',minus:'<line x1="5" y1="12" x2="19" y2="12"></line>',monitor:'<rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line>',moon:'<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>',"more-horizontal":'<circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle>',"more-vertical":'<circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle>',"mouse-pointer":'<path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"></path><path d="M13 13l6 6"></path>',move:'<polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line>',music:'<path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle>',"navigation-2":'<polygon points="12 2 19 21 12 17 5 21 12 2"></polygon>',navigation:'<polygon points="3 11 22 2 13 21 11 13 3 11"></polygon>',octagon:'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon>',package:'<line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',paperclip:'<path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>',"pause-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="10" y1="15" x2="10" y2="9"></line><line x1="14" y1="15" x2="14" y2="9"></line>',pause:'<rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect>',"pen-tool":'<path d="M12 19l7-7 3 3-7 7-3-3z"></path><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path><path d="M2 2l7.586 7.586"></path><circle cx="11" cy="11" r="2"></circle>',percent:'<line x1="19" y1="5" x2="5" y2="19"></line><circle cx="6.5" cy="6.5" r="2.5"></circle><circle cx="17.5" cy="17.5" r="2.5"></circle>',"phone-call":'<path d="M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-forwarded":'<polyline points="19 1 23 5 19 9"></polyline><line x1="15" y1="5" x2="23" y2="5"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-incoming":'<polyline points="16 2 16 8 22 8"></polyline><line x1="23" y1="1" x2="16" y2="8"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-missed":'<line x1="23" y1="1" x2="17" y2="7"></line><line x1="17" y1="1" x2="23" y2="7"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-off":'<path d="M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"></path><line x1="23" y1="1" x2="1" y2="23"></line>',"phone-outgoing":'<polyline points="23 7 23 1 17 1"></polyline><line x1="16" y1="8" x2="23" y2="1"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',phone:'<path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"pie-chart":'<path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path><path d="M22 12A10 10 0 0 0 12 2v10z"></path>',"play-circle":'<circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon>',play:'<polygon points="5 3 19 12 5 21 5 3"></polygon>',"plus-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>',"plus-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>',plus:'<line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line>',pocket:'<path d="M4 3h16a2 2 0 0 1 2 2v6a10 10 0 0 1-10 10A10 10 0 0 1 2 11V5a2 2 0 0 1 2-2z"></path><polyline points="8 10 12 14 16 10"></polyline>',power:'<path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path><line x1="12" y1="2" x2="12" y2="12"></line>',printer:'<polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect>',radio:'<circle cx="12" cy="12" r="2"></circle><path d="M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"></path>',"refresh-ccw":'<polyline points="1 4 1 10 7 10"></polyline><polyline points="23 20 23 14 17 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>',"refresh-cw":'<polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>',repeat:'<polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path>',rewind:'<polygon points="11 19 2 12 11 5 11 19"></polygon><polygon points="22 19 13 12 22 5 22 19"></polygon>',"rotate-ccw":'<polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>',"rotate-cw":'<polyline points="23 4 23 10 17 10"></polyline><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>',rss:'<path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle>',save:'<path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline>',scissors:'<circle cx="6" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><line x1="20" y1="4" x2="8.12" y2="15.88"></line><line x1="14.47" y1="14.48" x2="20" y2="20"></line><line x1="8.12" y1="8.12" x2="12" y2="12"></line>',search:'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>',send:'<line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>',server:'<rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect><rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect><line x1="6" y1="6" x2="6.01" y2="6"></line><line x1="6" y1="18" x2="6.01" y2="18"></line>',settings:'<circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>',"share-2":'<circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>',share:'<path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" y1="2" x2="12" y2="15"></line>',"shield-off":'<path d="M19.69 14a6.9 6.9 0 0 0 .31-2V5l-8-3-3.16 1.18"></path><path d="M4.73 4.73L4 5v7c0 6 8 10 8 10a20.29 20.29 0 0 0 5.62-4.38"></path><line x1="1" y1="1" x2="23" y2="23"></line>',shield:'<path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>',"shopping-bag":'<path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path>',"shopping-cart":'<circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>',shuffle:'<polyline points="16 3 21 3 21 8"></polyline><line x1="4" y1="20" x2="21" y2="3"></line><polyline points="21 16 21 21 16 21"></polyline><line x1="15" y1="15" x2="21" y2="21"></line><line x1="4" y1="4" x2="9" y2="9"></line>',sidebar:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="3" x2="9" y2="21"></line>',"skip-back":'<polygon points="19 20 9 12 19 4 19 20"></polygon><line x1="5" y1="19" x2="5" y2="5"></line>',"skip-forward":'<polygon points="5 4 15 12 5 20 5 4"></polygon><line x1="19" y1="5" x2="19" y2="19"></line>',slack:'<path d="M14.5 10c-.83 0-1.5-.67-1.5-1.5v-5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5z"></path><path d="M20.5 10H19V8.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path><path d="M9.5 14c.83 0 1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5S8 21.33 8 20.5v-5c0-.83.67-1.5 1.5-1.5z"></path><path d="M3.5 14H5v1.5c0 .83-.67 1.5-1.5 1.5S2 16.33 2 15.5 2.67 14 3.5 14z"></path><path d="M14 14.5c0-.83.67-1.5 1.5-1.5h5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-5c-.83 0-1.5-.67-1.5-1.5z"></path><path d="M15.5 19H14v1.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path><path d="M10 9.5C10 8.67 9.33 8 8.5 8h-5C2.67 8 2 8.67 2 9.5S2.67 11 3.5 11h5c.83 0 1.5-.67 1.5-1.5z"></path><path d="M8.5 5H10V3.5C10 2.67 9.33 2 8.5 2S7 2.67 7 3.5 7.67 5 8.5 5z"></path>',slash:'<circle cx="12" cy="12" r="10"></circle><line x1="4.93" y1="4.93" x2="19.07" y2="19.07"></line>',sliders:'<line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line>',smartphone:'<rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>',smile:'<circle cx="12" cy="12" r="10"></circle><path d="M8 14s1.5 2 4 2 4-2 4-2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',speaker:'<rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><circle cx="12" cy="14" r="4"></circle><line x1="12" y1="6" x2="12.01" y2="6"></line>',square:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>',star:'<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>',"stop-circle":'<circle cx="12" cy="12" r="10"></circle><rect x="9" y="9" width="6" height="6"></rect>',sun:'<circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>',sunrise:'<path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="2" x2="12" y2="9"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="8 6 12 2 16 6"></polyline>',sunset:'<path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="9" x2="12" y2="2"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="16 5 12 9 8 5"></polyline>',table:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"></path>',tablet:'<rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>',tag:'<path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>',target:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle>',terminal:'<polyline points="4 17 10 11 4 5"></polyline><line x1="12" y1="19" x2="20" y2="19"></line>',thermometer:'<path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path>',"thumbs-down":'<path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>',"thumbs-up":'<path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>',"toggle-left":'<rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="8" cy="12" r="3"></circle>',"toggle-right":'<rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="16" cy="12" r="3"></circle>',tool:'<path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>',"trash-2":'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line>',trash:'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>',trello:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><rect x="7" y="7" width="3" height="9"></rect><rect x="14" y="7" width="3" height="5"></rect>',"trending-down":'<polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline><polyline points="17 18 23 18 23 12"></polyline>',"trending-up":'<polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline>',triangle:'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>',truck:'<rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle>',tv:'<rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect><polyline points="17 2 12 7 7 2"></polyline>',twitch:'<path d="M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7"></path>',twitter:'<path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>',type:'<polyline points="4 7 4 4 20 4 20 7"></polyline><line x1="9" y1="20" x2="15" y2="20"></line><line x1="12" y1="4" x2="12" y2="20"></line>',umbrella:'<path d="M23 12a11.05 11.05 0 0 0-22 0zm-5 7a3 3 0 0 1-6 0v-7"></path>',underline:'<path d="M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"></path><line x1="4" y1="21" x2="20" y2="21"></line>',unlock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 9.9-1"></path>',"upload-cloud":'<polyline points="16 16 12 12 8 16"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16"></polyline>',upload:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line>',"user-check":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline>',"user-minus":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="23" y1="11" x2="17" y2="11"></line>',"user-plus":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line>',"user-x":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="18" y1="8" x2="23" y2="13"></line><line x1="23" y1="8" x2="18" y2="13"></line>',user:'<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>',users:'<path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path>',"video-off":'<path d="M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"></path><line x1="1" y1="1" x2="23" y2="23"></line>',video:'<polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>',voicemail:'<circle cx="5.5" cy="11.5" r="4.5"></circle><circle cx="18.5" cy="11.5" r="4.5"></circle><line x1="5.5" y1="16" x2="18.5" y2="16"></line>',"volume-1":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>',"volume-2":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>',"volume-x":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line>',volume:'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>',watch:'<circle cx="12" cy="12" r="7"></circle><polyline points="12 9 12 12 13.5 13.5"></polyline><path d="M16.51 17.35l-.35 3.83a2 2 0 0 1-2 1.82H9.83a2 2 0 0 1-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 0 1 9.83 1h4.35a2 2 0 0 1 2 1.82l.35 3.83"></path>',"wifi-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"></path><path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"></path><path d="M10.71 5.05A16 16 0 0 1 22.58 9"></path><path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>',wifi:'<path d="M5 12.55a11 11 0 0 1 14.08 0"></path><path d="M1.42 9a16 16 0 0 1 21.16 0"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>',wind:'<path d="M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"></path>',"x-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>',"x-octagon":'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>',"x-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="9" x2="15" y2="15"></line><line x1="15" y1="9" x2="9" y2="15"></line>',x:'<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>',youtube:'<path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon>',"zap-off":'<polyline points="12.41 6.75 13 2 10.57 4.92"></polyline><polyline points="18.57 12.91 21 10 15.66 10"></polyline><polyline points="8 8 3 14 12 14 11 22 16 16"></polyline><line x1="1" y1="1" x2="23" y2="23"></line>',zap:'<polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>',"zoom-in":'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="11" y1="8" x2="11" y2="14"></line><line x1="8" y1="11" x2="14" y2="11"></line>',"zoom-out":'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="8" y1="11" x2="14" y2="11"></line>'}}),"./node_modules/classnames/dedupe.js":(function(a,r,n){var i,l;/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var c=(function(){function o(){}o.prototype=Object.create(null);function u(S,C){for(var _=C.length,A=0;A<_;++A)k(S,C[A])}var d={}.hasOwnProperty;function f(S,C){S[C]=!0}function p(S,C){for(var _ in C)d.call(C,_)&&(S[_]=!!C[_])}var j=/\s+/;function y(S,C){for(var _=C.split(j),A=_.length,D=0;D<A;++D)S[_[D]]=!0}function k(S,C){if(C){var _=typeof C;_==="string"?y(S,C):Array.isArray(C)?u(S,C):_==="object"?p(S,C):_==="number"&&f(S,C)}}function v(){for(var S=arguments.length,C=Array(S),_=0;_<S;_++)C[_]=arguments[_];var A=new o;u(A,C);var D=[];for(var M in A)A[M]&&D.push(M);return D.join(" ")}return v})();typeof a<"u"&&a.exports?a.exports=c:(i=[],l=(function(){return c}).apply(r,i),l!==void 0&&(a.exports=l))})()}),"./node_modules/core-js/es/array/from.js":(function(a,r,n){n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.array.from.js");var i=n("./node_modules/core-js/internals/path.js");a.exports=i.Array.from}),"./node_modules/core-js/internals/a-function.js":(function(a,r){a.exports=function(n){if(typeof n!="function")throw TypeError(String(n)+" is not a function");return n}}),"./node_modules/core-js/internals/an-object.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/is-object.js");a.exports=function(l){if(!i(l))throw TypeError(String(l)+" is not an object");return l}}),"./node_modules/core-js/internals/array-from.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/bind-context.js"),l=n("./node_modules/core-js/internals/to-object.js"),c=n("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),o=n("./node_modules/core-js/internals/is-array-iterator-method.js"),u=n("./node_modules/core-js/internals/to-length.js"),d=n("./node_modules/core-js/internals/create-property.js"),f=n("./node_modules/core-js/internals/get-iterator-method.js");a.exports=function(j){var y=l(j),k=typeof this=="function"?this:Array,v=arguments.length,S=v>1?arguments[1]:void 0,C=S!==void 0,_=0,A=f(y),D,M,L,F;if(C&&(S=i(S,v>2?arguments[2]:void 0,2)),A!=null&&!(k==Array&&o(A)))for(F=A.call(y),M=new k;!(L=F.next()).done;_++)d(M,_,C?c(F,S,[L.value,_],!0):L.value);else for(D=u(y.length),M=new k(D);D>_;_++)d(M,_,C?S(y[_],_):y[_]);return M.length=_,M}}),"./node_modules/core-js/internals/array-includes.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/to-indexed-object.js"),l=n("./node_modules/core-js/internals/to-length.js"),c=n("./node_modules/core-js/internals/to-absolute-index.js");a.exports=function(o){return function(u,d,f){var p=i(u),j=l(p.length),y=c(f,j),k;if(o&&d!=d){for(;j>y;)if(k=p[y++],k!=k)return!0}else for(;j>y;y++)if((o||y in p)&&p[y]===d)return o||y||0;return!o&&-1}}}),"./node_modules/core-js/internals/bind-context.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/a-function.js");a.exports=function(l,c,o){if(i(l),c===void 0)return l;switch(o){case 0:return function(){return l.call(c)};case 1:return function(u){return l.call(c,u)};case 2:return function(u,d){return l.call(c,u,d)};case 3:return function(u,d,f){return l.call(c,u,d,f)}}return function(){return l.apply(c,arguments)}}}),"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/an-object.js");a.exports=function(l,c,o,u){try{return u?c(i(o)[0],o[1]):c(o)}catch(f){var d=l.return;throw d!==void 0&&i(d.call(l)),f}}}),"./node_modules/core-js/internals/check-correctness-of-iteration.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/well-known-symbol.js"),l=i("iterator"),c=!1;try{var o=0,u={next:function(){return{done:!!o++}},return:function(){c=!0}};u[l]=function(){return this},Array.from(u,function(){throw 2})}catch{}a.exports=function(d,f){if(!f&&!c)return!1;var p=!1;try{var j={};j[l]=function(){return{next:function(){return{done:p=!0}}}},d(j)}catch{}return p}}),"./node_modules/core-js/internals/classof-raw.js":(function(a,r){var n={}.toString;a.exports=function(i){return n.call(i).slice(8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/classof-raw.js"),l=n("./node_modules/core-js/internals/well-known-symbol.js"),c=l("toStringTag"),o=i((function(){return arguments})())=="Arguments",u=function(d,f){try{return d[f]}catch{}};a.exports=function(d){var f,p,j;return d===void 0?"Undefined":d===null?"Null":typeof(p=u(f=Object(d),c))=="string"?p:o?i(f):(j=i(f))=="Object"&&typeof f.callee=="function"?"Arguments":j}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/has.js"),l=n("./node_modules/core-js/internals/own-keys.js"),c=n("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),o=n("./node_modules/core-js/internals/object-define-property.js");a.exports=function(u,d){for(var f=l(d),p=o.f,j=c.f,y=0;y<f.length;y++){var k=f[y];i(u,k)||p(u,k,j(d,k))}}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/fails.js");a.exports=!i(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})}),"./node_modules/core-js/internals/create-iterator-constructor.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,l=n("./node_modules/core-js/internals/object-create.js"),c=n("./node_modules/core-js/internals/create-property-descriptor.js"),o=n("./node_modules/core-js/internals/set-to-string-tag.js"),u=n("./node_modules/core-js/internals/iterators.js"),d=function(){return this};a.exports=function(f,p,j){var y=p+" Iterator";return f.prototype=l(i,{next:c(1,j)}),o(f,y,!1,!0),u[y]=d,f}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(a,r){a.exports=function(n,i){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:i}}}),"./node_modules/core-js/internals/create-property.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/to-primitive.js"),l=n("./node_modules/core-js/internals/object-define-property.js"),c=n("./node_modules/core-js/internals/create-property-descriptor.js");a.exports=function(o,u,d){var f=i(u);f in o?l.f(o,f,c(0,d)):o[f]=d}}),"./node_modules/core-js/internals/define-iterator.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/export.js"),l=n("./node_modules/core-js/internals/create-iterator-constructor.js"),c=n("./node_modules/core-js/internals/object-get-prototype-of.js"),o=n("./node_modules/core-js/internals/object-set-prototype-of.js"),u=n("./node_modules/core-js/internals/set-to-string-tag.js"),d=n("./node_modules/core-js/internals/hide.js"),f=n("./node_modules/core-js/internals/redefine.js"),p=n("./node_modules/core-js/internals/well-known-symbol.js"),j=n("./node_modules/core-js/internals/is-pure.js"),y=n("./node_modules/core-js/internals/iterators.js"),k=n("./node_modules/core-js/internals/iterators-core.js"),v=k.IteratorPrototype,S=k.BUGGY_SAFARI_ITERATORS,C=p("iterator"),_="keys",A="values",D="entries",M=function(){return this};a.exports=function(L,F,Q,I,H,z,K){l(Q,F,I);var U=function(ie){if(ie===H&&se)return se;if(!S&&ie in q)return q[ie];switch(ie){case _:return function(){return new Q(this,ie)};case A:return function(){return new Q(this,ie)};case D:return function(){return new Q(this,ie)}}return function(){return new Q(this)}},V=F+" Iterator",P=!1,q=L.prototype,G=q[C]||q["@@iterator"]||H&&q[H],se=!S&&G||U(H),O=F=="Array"&&q.entries||G,W,Z,te;if(O&&(W=c(O.call(new L)),v!==Object.prototype&&W.next&&(!j&&c(W)!==v&&(o?o(W,v):typeof W[C]!="function"&&d(W,C,M)),u(W,V,!0,!0),j&&(y[V]=M))),H==A&&G&&G.name!==A&&(P=!0,se=function(){return G.call(this)}),(!j||K)&&q[C]!==se&&d(q,C,se),y[F]=se,H)if(Z={values:U(A),keys:z?se:U(_),entries:U(D)},K)for(te in Z)(S||P||!(te in q))&&f(q,te,Z[te]);else i({target:F,proto:!0,forced:S||P},Z);return Z}}),"./node_modules/core-js/internals/descriptors.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/fails.js");a.exports=!i(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})}),"./node_modules/core-js/internals/document-create-element.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/global.js"),l=n("./node_modules/core-js/internals/is-object.js"),c=i.document,o=l(c)&&l(c.createElement);a.exports=function(u){return o?c.createElement(u):{}}}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(a,r){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/export.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/global.js"),l=n("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,c=n("./node_modules/core-js/internals/hide.js"),o=n("./node_modules/core-js/internals/redefine.js"),u=n("./node_modules/core-js/internals/set-global.js"),d=n("./node_modules/core-js/internals/copy-constructor-properties.js"),f=n("./node_modules/core-js/internals/is-forced.js");a.exports=function(p,j){var y=p.target,k=p.global,v=p.stat,S,C,_,A,D,M;if(k?C=i:v?C=i[y]||u(y,{}):C=(i[y]||{}).prototype,C)for(_ in j){if(D=j[_],p.noTargetGet?(M=l(C,_),A=M&&M.value):A=C[_],S=f(k?_:y+(v?".":"#")+_,p.forced),!S&&A!==void 0){if(typeof D==typeof A)continue;d(D,A)}(p.sham||A&&A.sham)&&c(D,"sham",!0),o(C,_,D,p)}}}),"./node_modules/core-js/internals/fails.js":(function(a,r){a.exports=function(n){try{return!!n()}catch{return!0}}}),"./node_modules/core-js/internals/function-to-string.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/shared.js");a.exports=i("native-function-to-string",Function.toString)}),"./node_modules/core-js/internals/get-iterator-method.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/classof.js"),l=n("./node_modules/core-js/internals/iterators.js"),c=n("./node_modules/core-js/internals/well-known-symbol.js"),o=c("iterator");a.exports=function(u){if(u!=null)return u[o]||u["@@iterator"]||l[i(u)]}}),"./node_modules/core-js/internals/global.js":(function(a,r,n){(function(i){var l="object",c=function(o){return o&&o.Math==Math&&o};a.exports=c(typeof globalThis==l&&globalThis)||c(typeof window==l&&window)||c(typeof self==l&&self)||c(typeof i==l&&i)||Function("return this")()}).call(this,n("./node_modules/webpack/buildin/global.js"))}),"./node_modules/core-js/internals/has.js":(function(a,r){var n={}.hasOwnProperty;a.exports=function(i,l){return n.call(i,l)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(a,r){a.exports={}}),"./node_modules/core-js/internals/hide.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/descriptors.js"),l=n("./node_modules/core-js/internals/object-define-property.js"),c=n("./node_modules/core-js/internals/create-property-descriptor.js");a.exports=i?function(o,u,d){return l.f(o,u,c(1,d))}:function(o,u,d){return o[u]=d,o}}),"./node_modules/core-js/internals/html.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/global.js"),l=i.document;a.exports=l&&l.documentElement}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/descriptors.js"),l=n("./node_modules/core-js/internals/fails.js"),c=n("./node_modules/core-js/internals/document-create-element.js");a.exports=!i&&!l(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!=7})}),"./node_modules/core-js/internals/indexed-object.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/fails.js"),l=n("./node_modules/core-js/internals/classof-raw.js"),c="".split;a.exports=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(o){return l(o)=="String"?c.call(o,""):Object(o)}:Object}),"./node_modules/core-js/internals/internal-state.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/native-weak-map.js"),l=n("./node_modules/core-js/internals/global.js"),c=n("./node_modules/core-js/internals/is-object.js"),o=n("./node_modules/core-js/internals/hide.js"),u=n("./node_modules/core-js/internals/has.js"),d=n("./node_modules/core-js/internals/shared-key.js"),f=n("./node_modules/core-js/internals/hidden-keys.js"),p=l.WeakMap,j,y,k,v=function(L){return k(L)?y(L):j(L,{})},S=function(L){return function(F){var Q;if(!c(F)||(Q=y(F)).type!==L)throw TypeError("Incompatible receiver, "+L+" required");return Q}};if(i){var C=new p,_=C.get,A=C.has,D=C.set;j=function(L,F){return D.call(C,L,F),F},y=function(L){return _.call(C,L)||{}},k=function(L){return A.call(C,L)}}else{var M=d("state");f[M]=!0,j=function(L,F){return o(L,M,F),F},y=function(L){return u(L,M)?L[M]:{}},k=function(L){return u(L,M)}}a.exports={set:j,get:y,has:k,enforce:v,getterFor:S}}),"./node_modules/core-js/internals/is-array-iterator-method.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/well-known-symbol.js"),l=n("./node_modules/core-js/internals/iterators.js"),c=i("iterator"),o=Array.prototype;a.exports=function(u){return u!==void 0&&(l.Array===u||o[c]===u)}}),"./node_modules/core-js/internals/is-forced.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/fails.js"),l=/#|\.prototype\./,c=function(p,j){var y=u[o(p)];return y==f?!0:y==d?!1:typeof j=="function"?i(j):!!j},o=c.normalize=function(p){return String(p).replace(l,".").toLowerCase()},u=c.data={},d=c.NATIVE="N",f=c.POLYFILL="P";a.exports=c}),"./node_modules/core-js/internals/is-object.js":(function(a,r){a.exports=function(n){return typeof n=="object"?n!==null:typeof n=="function"}}),"./node_modules/core-js/internals/is-pure.js":(function(a,r){a.exports=!1}),"./node_modules/core-js/internals/iterators-core.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/object-get-prototype-of.js"),l=n("./node_modules/core-js/internals/hide.js"),c=n("./node_modules/core-js/internals/has.js"),o=n("./node_modules/core-js/internals/well-known-symbol.js"),u=n("./node_modules/core-js/internals/is-pure.js"),d=o("iterator"),f=!1,p=function(){return this},j,y,k;[].keys&&(k=[].keys(),"next"in k?(y=i(i(k)),y!==Object.prototype&&(j=y)):f=!0),j==null&&(j={}),!u&&!c(j,d)&&l(j,d,p),a.exports={IteratorPrototype:j,BUGGY_SAFARI_ITERATORS:f}}),"./node_modules/core-js/internals/iterators.js":(function(a,r){a.exports={}}),"./node_modules/core-js/internals/native-symbol.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/fails.js");a.exports=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())})}),"./node_modules/core-js/internals/native-weak-map.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/global.js"),l=n("./node_modules/core-js/internals/function-to-string.js"),c=i.WeakMap;a.exports=typeof c=="function"&&/native code/.test(l.call(c))}),"./node_modules/core-js/internals/object-create.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/an-object.js"),l=n("./node_modules/core-js/internals/object-define-properties.js"),c=n("./node_modules/core-js/internals/enum-bug-keys.js"),o=n("./node_modules/core-js/internals/hidden-keys.js"),u=n("./node_modules/core-js/internals/html.js"),d=n("./node_modules/core-js/internals/document-create-element.js"),f=n("./node_modules/core-js/internals/shared-key.js"),p=f("IE_PROTO"),j="prototype",y=function(){},k=function(){var v=d("iframe"),S=c.length,C="<",_="script",A=">",D="java"+_+":",M;for(v.style.display="none",u.appendChild(v),v.src=String(D),M=v.contentWindow.document,M.open(),M.write(C+_+A+"document.F=Object"+C+"/"+_+A),M.close(),k=M.F;S--;)delete k[j][c[S]];return k()};a.exports=Object.create||function(S,C){var _;return S!==null?(y[j]=i(S),_=new y,y[j]=null,_[p]=S):_=k(),C===void 0?_:l(_,C)},o[p]=!0}),"./node_modules/core-js/internals/object-define-properties.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/descriptors.js"),l=n("./node_modules/core-js/internals/object-define-property.js"),c=n("./node_modules/core-js/internals/an-object.js"),o=n("./node_modules/core-js/internals/object-keys.js");a.exports=i?Object.defineProperties:function(d,f){c(d);for(var p=o(f),j=p.length,y=0,k;j>y;)l.f(d,k=p[y++],f[k]);return d}}),"./node_modules/core-js/internals/object-define-property.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/descriptors.js"),l=n("./node_modules/core-js/internals/ie8-dom-define.js"),c=n("./node_modules/core-js/internals/an-object.js"),o=n("./node_modules/core-js/internals/to-primitive.js"),u=Object.defineProperty;r.f=i?u:function(f,p,j){if(c(f),p=o(p,!0),c(j),l)try{return u(f,p,j)}catch{}if("get"in j||"set"in j)throw TypeError("Accessors not supported");return"value"in j&&(f[p]=j.value),f}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/descriptors.js"),l=n("./node_modules/core-js/internals/object-property-is-enumerable.js"),c=n("./node_modules/core-js/internals/create-property-descriptor.js"),o=n("./node_modules/core-js/internals/to-indexed-object.js"),u=n("./node_modules/core-js/internals/to-primitive.js"),d=n("./node_modules/core-js/internals/has.js"),f=n("./node_modules/core-js/internals/ie8-dom-define.js"),p=Object.getOwnPropertyDescriptor;r.f=i?p:function(y,k){if(y=o(y),k=u(k,!0),f)try{return p(y,k)}catch{}if(d(y,k))return c(!l.f.call(y,k),y[k])}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/object-keys-internal.js"),l=n("./node_modules/core-js/internals/enum-bug-keys.js"),c=l.concat("length","prototype");r.f=Object.getOwnPropertyNames||function(u){return i(u,c)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(a,r){r.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/has.js"),l=n("./node_modules/core-js/internals/to-object.js"),c=n("./node_modules/core-js/internals/shared-key.js"),o=n("./node_modules/core-js/internals/correct-prototype-getter.js"),u=c("IE_PROTO"),d=Object.prototype;a.exports=o?Object.getPrototypeOf:function(f){return f=l(f),i(f,u)?f[u]:typeof f.constructor=="function"&&f instanceof f.constructor?f.constructor.prototype:f instanceof Object?d:null}}),"./node_modules/core-js/internals/object-keys-internal.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/has.js"),l=n("./node_modules/core-js/internals/to-indexed-object.js"),c=n("./node_modules/core-js/internals/array-includes.js"),o=n("./node_modules/core-js/internals/hidden-keys.js"),u=c(!1);a.exports=function(d,f){var p=l(d),j=0,y=[],k;for(k in p)!i(o,k)&&i(p,k)&&y.push(k);for(;f.length>j;)i(p,k=f[j++])&&(~u(y,k)||y.push(k));return y}}),"./node_modules/core-js/internals/object-keys.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/object-keys-internal.js"),l=n("./node_modules/core-js/internals/enum-bug-keys.js");a.exports=Object.keys||function(o){return i(o,l)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(a,r,n){var i={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,c=l&&!i.call({1:2},1);r.f=c?function(u){var d=l(this,u);return!!d&&d.enumerable}:i}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/validate-set-prototype-of-arguments.js");a.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var l=!1,c={},o;try{o=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,o.call(c,[]),l=c instanceof Array}catch{}return function(d,f){return i(d,f),l?o.call(d,f):d.__proto__=f,d}})():void 0)}),"./node_modules/core-js/internals/own-keys.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/global.js"),l=n("./node_modules/core-js/internals/object-get-own-property-names.js"),c=n("./node_modules/core-js/internals/object-get-own-property-symbols.js"),o=n("./node_modules/core-js/internals/an-object.js"),u=i.Reflect;a.exports=u&&u.ownKeys||function(f){var p=l.f(o(f)),j=c.f;return j?p.concat(j(f)):p}}),"./node_modules/core-js/internals/path.js":(function(a,r,n){a.exports=n("./node_modules/core-js/internals/global.js")}),"./node_modules/core-js/internals/redefine.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/global.js"),l=n("./node_modules/core-js/internals/shared.js"),c=n("./node_modules/core-js/internals/hide.js"),o=n("./node_modules/core-js/internals/has.js"),u=n("./node_modules/core-js/internals/set-global.js"),d=n("./node_modules/core-js/internals/function-to-string.js"),f=n("./node_modules/core-js/internals/internal-state.js"),p=f.get,j=f.enforce,y=String(d).split("toString");l("inspectSource",function(k){return d.call(k)}),(a.exports=function(k,v,S,C){var _=C?!!C.unsafe:!1,A=C?!!C.enumerable:!1,D=C?!!C.noTargetGet:!1;if(typeof S=="function"&&(typeof v=="string"&&!o(S,"name")&&c(S,"name",v),j(S).source=y.join(typeof v=="string"?v:"")),k===i){A?k[v]=S:u(v,S);return}else _?!D&&k[v]&&(A=!0):delete k[v];A?k[v]=S:c(k,v,S)})(Function.prototype,"toString",function(){return typeof this=="function"&&p(this).source||d.call(this)})}),"./node_modules/core-js/internals/require-object-coercible.js":(function(a,r){a.exports=function(n){if(n==null)throw TypeError("Can't call method on "+n);return n}}),"./node_modules/core-js/internals/set-global.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/global.js"),l=n("./node_modules/core-js/internals/hide.js");a.exports=function(c,o){try{l(i,c,o)}catch{i[c]=o}return o}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/object-define-property.js").f,l=n("./node_modules/core-js/internals/has.js"),c=n("./node_modules/core-js/internals/well-known-symbol.js"),o=c("toStringTag");a.exports=function(u,d,f){u&&!l(u=f?u:u.prototype,o)&&i(u,o,{configurable:!0,value:d})}}),"./node_modules/core-js/internals/shared-key.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/shared.js"),l=n("./node_modules/core-js/internals/uid.js"),c=i("keys");a.exports=function(o){return c[o]||(c[o]=l(o))}}),"./node_modules/core-js/internals/shared.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/global.js"),l=n("./node_modules/core-js/internals/set-global.js"),c=n("./node_modules/core-js/internals/is-pure.js"),o="__core-js_shared__",u=i[o]||l(o,{});(a.exports=function(d,f){return u[d]||(u[d]=f!==void 0?f:{})})("versions",[]).push({version:"3.1.3",mode:c?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),"./node_modules/core-js/internals/string-at.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/to-integer.js"),l=n("./node_modules/core-js/internals/require-object-coercible.js");a.exports=function(c,o,u){var d=String(l(c)),f=i(o),p=d.length,j,y;return f<0||f>=p?u?"":void 0:(j=d.charCodeAt(f),j<55296||j>56319||f+1===p||(y=d.charCodeAt(f+1))<56320||y>57343?u?d.charAt(f):j:u?d.slice(f,f+2):(j-55296<<10)+(y-56320)+65536)}}),"./node_modules/core-js/internals/to-absolute-index.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/to-integer.js"),l=Math.max,c=Math.min;a.exports=function(o,u){var d=i(o);return d<0?l(d+u,0):c(d,u)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/indexed-object.js"),l=n("./node_modules/core-js/internals/require-object-coercible.js");a.exports=function(c){return i(l(c))}}),"./node_modules/core-js/internals/to-integer.js":(function(a,r){var n=Math.ceil,i=Math.floor;a.exports=function(l){return isNaN(l=+l)?0:(l>0?i:n)(l)}}),"./node_modules/core-js/internals/to-length.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/to-integer.js"),l=Math.min;a.exports=function(c){return c>0?l(i(c),9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/require-object-coercible.js");a.exports=function(l){return Object(i(l))}}),"./node_modules/core-js/internals/to-primitive.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/is-object.js");a.exports=function(l,c){if(!i(l))return l;var o,u;if(c&&typeof(o=l.toString)=="function"&&!i(u=o.call(l))||typeof(o=l.valueOf)=="function"&&!i(u=o.call(l))||!c&&typeof(o=l.toString)=="function"&&!i(u=o.call(l)))return u;throw TypeError("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/uid.js":(function(a,r){var n=0,i=Math.random();a.exports=function(l){return"Symbol(".concat(l===void 0?"":l,")_",(++n+i).toString(36))}}),"./node_modules/core-js/internals/validate-set-prototype-of-arguments.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/is-object.js"),l=n("./node_modules/core-js/internals/an-object.js");a.exports=function(c,o){if(l(c),!i(o)&&o!==null)throw TypeError("Can't set "+String(o)+" as a prototype")}}),"./node_modules/core-js/internals/well-known-symbol.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/global.js"),l=n("./node_modules/core-js/internals/shared.js"),c=n("./node_modules/core-js/internals/uid.js"),o=n("./node_modules/core-js/internals/native-symbol.js"),u=i.Symbol,d=l("wks");a.exports=function(f){return d[f]||(d[f]=o&&u[f]||(o?u:c)("Symbol."+f))}}),"./node_modules/core-js/modules/es.array.from.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/export.js"),l=n("./node_modules/core-js/internals/array-from.js"),c=n("./node_modules/core-js/internals/check-correctness-of-iteration.js"),o=!c(function(u){Array.from(u)});i({target:"Array",stat:!0,forced:o},{from:l})}),"./node_modules/core-js/modules/es.string.iterator.js":(function(a,r,n){var i=n("./node_modules/core-js/internals/string-at.js"),l=n("./node_modules/core-js/internals/internal-state.js"),c=n("./node_modules/core-js/internals/define-iterator.js"),o="String Iterator",u=l.set,d=l.getterFor(o);c(String,"String",function(f){u(this,{type:o,string:String(f),index:0})},function(){var p=d(this),j=p.string,y=p.index,k;return y>=j.length?{value:void 0,done:!0}:(k=i(j,y,!0),p.index+=k.length,{value:k,done:!1})})}),"./node_modules/webpack/buildin/global.js":(function(a,r){var n;n=(function(){return this})();try{n=n||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(n=window)}a.exports=n}),"./src/default-attrs.json":(function(a){a.exports={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"}}),"./src/icon.js":(function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=Object.assign||function(k){for(var v=1;v<arguments.length;v++){var S=arguments[v];for(var C in S)Object.prototype.hasOwnProperty.call(S,C)&&(k[C]=S[C])}return k},l=(function(){function k(v,S){for(var C=0;C<S.length;C++){var _=S[C];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(v,_.key,_)}}return function(v,S,C){return S&&k(v.prototype,S),C&&k(v,C),v}})(),c=n("./node_modules/classnames/dedupe.js"),o=f(c),u=n("./src/default-attrs.json"),d=f(u);function f(k){return k&&k.__esModule?k:{default:k}}function p(k,v){if(!(k instanceof v))throw new TypeError("Cannot call a class as a function")}var j=(function(){function k(v,S){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];p(this,k),this.name=v,this.contents=S,this.tags=C,this.attrs=i({},d.default,{class:"feather feather-"+v})}return l(k,[{key:"toSvg",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=i({},this.attrs,S,{class:(0,o.default)(this.attrs.class,S.class)});return"<svg "+y(C)+">"+this.contents+"</svg>"}},{key:"toString",value:function(){return this.contents}}]),k})();function y(k){return Object.keys(k).map(function(v){return v+'="'+k[v]+'"'}).join(" ")}r.default=j}),"./src/icons.js":(function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n("./src/icon.js"),l=f(i),c=n("./dist/icons.json"),o=f(c),u=n("./src/tags.json"),d=f(u);function f(p){return p&&p.__esModule?p:{default:p}}r.default=Object.keys(o.default).map(function(p){return new l.default(p,o.default[p],d.default[p])}).reduce(function(p,j){return p[j.name]=j,p},{})}),"./src/index.js":(function(a,r,n){var i=n("./src/icons.js"),l=f(i),c=n("./src/to-svg.js"),o=f(c),u=n("./src/replace.js"),d=f(u);function f(p){return p&&p.__esModule?p:{default:p}}a.exports={icons:l.default,toSvg:o.default,replace:d.default}}),"./src/replace.js":(function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=Object.assign||function(y){for(var k=1;k<arguments.length;k++){var v=arguments[k];for(var S in v)Object.prototype.hasOwnProperty.call(v,S)&&(y[S]=v[S])}return y},l=n("./node_modules/classnames/dedupe.js"),c=d(l),o=n("./src/icons.js"),u=d(o);function d(y){return y&&y.__esModule?y:{default:y}}function f(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof document>"u")throw new Error("`feather.replace()` only works in a browser environment.");var k=document.querySelectorAll("[data-feather]");Array.from(k).forEach(function(v){return p(v,y)})}function p(y){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=j(y),S=v["data-feather"];if(delete v["data-feather"],u.default[S]===void 0){console.warn("feather: '"+S+"' is not a valid icon");return}var C=u.default[S].toSvg(i({},k,v,{class:(0,c.default)(k.class,v.class)})),_=new DOMParser().parseFromString(C,"image/svg+xml"),A=_.querySelector("svg");y.parentNode.replaceChild(A,y)}function j(y){return Array.from(y.attributes).reduce(function(k,v){return k[v.name]=v.value,k},{})}r.default=f}),"./src/tags.json":(function(a){a.exports={activity:["pulse","health","action","motion"],airplay:["stream","cast","mirroring"],"alert-circle":["warning","alert","danger"],"alert-octagon":["warning","alert","danger"],"alert-triangle":["warning","alert","danger"],"align-center":["text alignment","center"],"align-justify":["text alignment","justified"],"align-left":["text alignment","left"],"align-right":["text alignment","right"],anchor:[],archive:["index","box"],"at-sign":["mention","at","email","message"],award:["achievement","badge"],aperture:["camera","photo"],"bar-chart":["statistics","diagram","graph"],"bar-chart-2":["statistics","diagram","graph"],battery:["power","electricity"],"battery-charging":["power","electricity"],bell:["alarm","notification","sound"],"bell-off":["alarm","notification","silent"],bluetooth:["wireless"],"book-open":["read","library"],book:["read","dictionary","booklet","magazine","library"],bookmark:["read","clip","marker","tag"],box:["cube"],briefcase:["work","bag","baggage","folder"],calendar:["date"],camera:["photo"],cast:["chromecast","airplay"],"chevron-down":["expand"],"chevron-up":["collapse"],circle:["off","zero","record"],clipboard:["copy"],clock:["time","watch","alarm"],"cloud-drizzle":["weather","shower"],"cloud-lightning":["weather","bolt"],"cloud-rain":["weather"],"cloud-snow":["weather","blizzard"],cloud:["weather"],codepen:["logo"],codesandbox:["logo"],code:["source","programming"],coffee:["drink","cup","mug","tea","cafe","hot","beverage"],columns:["layout"],command:["keyboard","cmd","terminal","prompt"],compass:["navigation","safari","travel","direction"],copy:["clone","duplicate"],"corner-down-left":["arrow","return"],"corner-down-right":["arrow"],"corner-left-down":["arrow"],"corner-left-up":["arrow"],"corner-right-down":["arrow"],"corner-right-up":["arrow"],"corner-up-left":["arrow"],"corner-up-right":["arrow"],cpu:["processor","technology"],"credit-card":["purchase","payment","cc"],crop:["photo","image"],crosshair:["aim","target"],database:["storage","memory"],delete:["remove"],disc:["album","cd","dvd","music"],"dollar-sign":["currency","money","payment"],droplet:["water"],edit:["pencil","change"],"edit-2":["pencil","change"],"edit-3":["pencil","change"],eye:["view","watch"],"eye-off":["view","watch","hide","hidden"],"external-link":["outbound"],facebook:["logo","social"],"fast-forward":["music"],figma:["logo","design","tool"],"file-minus":["delete","remove","erase"],"file-plus":["add","create","new"],"file-text":["data","txt","pdf"],film:["movie","video"],filter:["funnel","hopper"],flag:["report"],"folder-minus":["directory"],"folder-plus":["directory"],folder:["directory"],framer:["logo","design","tool"],frown:["emoji","face","bad","sad","emotion"],gift:["present","box","birthday","party"],"git-branch":["code","version control"],"git-commit":["code","version control"],"git-merge":["code","version control"],"git-pull-request":["code","version control"],github:["logo","version control"],gitlab:["logo","version control"],globe:["world","browser","language","translate"],"hard-drive":["computer","server","memory","data"],hash:["hashtag","number","pound"],headphones:["music","audio","sound"],heart:["like","love","emotion"],"help-circle":["question mark"],hexagon:["shape","node.js","logo"],home:["house","living"],image:["picture"],inbox:["email"],instagram:["logo","camera"],key:["password","login","authentication","secure"],layers:["stack"],layout:["window","webpage"],"life-buoy":["help","life ring","support"],link:["chain","url"],"link-2":["chain","url"],linkedin:["logo","social media"],list:["options"],lock:["security","password","secure"],"log-in":["sign in","arrow","enter"],"log-out":["sign out","arrow","exit"],mail:["email","message"],"map-pin":["location","navigation","travel","marker"],map:["location","navigation","travel"],maximize:["fullscreen"],"maximize-2":["fullscreen","arrows","expand"],meh:["emoji","face","neutral","emotion"],menu:["bars","navigation","hamburger"],"message-circle":["comment","chat"],"message-square":["comment","chat"],"mic-off":["record","sound","mute"],mic:["record","sound","listen"],minimize:["exit fullscreen","close"],"minimize-2":["exit fullscreen","arrows","close"],minus:["subtract"],monitor:["tv","screen","display"],moon:["dark","night"],"more-horizontal":["ellipsis"],"more-vertical":["ellipsis"],"mouse-pointer":["arrow","cursor"],move:["arrows"],music:["note"],navigation:["location","travel"],"navigation-2":["location","travel"],octagon:["stop"],package:["box","container"],paperclip:["attachment"],pause:["music","stop"],"pause-circle":["music","audio","stop"],"pen-tool":["vector","drawing"],percent:["discount"],"phone-call":["ring"],"phone-forwarded":["call"],"phone-incoming":["call"],"phone-missed":["call"],"phone-off":["call","mute"],"phone-outgoing":["call"],phone:["call"],play:["music","start"],"pie-chart":["statistics","diagram"],"play-circle":["music","start"],plus:["add","new"],"plus-circle":["add","new"],"plus-square":["add","new"],pocket:["logo","save"],power:["on","off"],printer:["fax","office","device"],radio:["signal"],"refresh-cw":["synchronise","arrows"],"refresh-ccw":["arrows"],repeat:["loop","arrows"],rewind:["music"],"rotate-ccw":["arrow"],"rotate-cw":["arrow"],rss:["feed","subscribe"],save:["floppy disk"],scissors:["cut"],search:["find","magnifier","magnifying glass"],send:["message","mail","email","paper airplane","paper aeroplane"],settings:["cog","edit","gear","preferences"],"share-2":["network","connections"],shield:["security","secure"],"shield-off":["security","insecure"],"shopping-bag":["ecommerce","cart","purchase","store"],"shopping-cart":["ecommerce","cart","purchase","store"],shuffle:["music"],"skip-back":["music"],"skip-forward":["music"],slack:["logo"],slash:["ban","no"],sliders:["settings","controls"],smartphone:["cellphone","device"],smile:["emoji","face","happy","good","emotion"],speaker:["audio","music"],star:["bookmark","favorite","like"],"stop-circle":["media","music"],sun:["brightness","weather","light"],sunrise:["weather","time","morning","day"],sunset:["weather","time","evening","night"],tablet:["device"],tag:["label"],target:["logo","bullseye"],terminal:["code","command line","prompt"],thermometer:["temperature","celsius","fahrenheit","weather"],"thumbs-down":["dislike","bad","emotion"],"thumbs-up":["like","good","emotion"],"toggle-left":["on","off","switch"],"toggle-right":["on","off","switch"],tool:["settings","spanner"],trash:["garbage","delete","remove","bin"],"trash-2":["garbage","delete","remove","bin"],triangle:["delta"],truck:["delivery","van","shipping","transport","lorry"],tv:["television","stream"],twitch:["logo"],twitter:["logo","social"],type:["text"],umbrella:["rain","weather"],unlock:["security"],"user-check":["followed","subscribed"],"user-minus":["delete","remove","unfollow","unsubscribe"],"user-plus":["new","add","create","follow","subscribe"],"user-x":["delete","remove","unfollow","unsubscribe","unavailable"],user:["person","account"],users:["group"],"video-off":["camera","movie","film"],video:["camera","movie","film"],voicemail:["phone"],volume:["music","sound","mute"],"volume-1":["music","sound"],"volume-2":["music","sound"],"volume-x":["music","sound","mute"],watch:["clock","time"],"wifi-off":["disabled"],wifi:["connection","signal","wireless"],wind:["weather","air"],"x-circle":["cancel","close","delete","remove","times","clear"],"x-octagon":["delete","stop","alert","warning","times","clear"],"x-square":["cancel","close","delete","remove","times","clear"],x:["cancel","close","delete","remove","times","clear"],youtube:["logo","video","play"],"zap-off":["flash","camera","lightning"],zap:["flash","camera","lightning"],"zoom-in":["magnifying glass"],"zoom-out":["magnifying glass"]}}),"./src/to-svg.js":(function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n("./src/icons.js"),l=c(i);function c(u){return u&&u.__esModule?u:{default:u}}function o(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(console.warn("feather.toSvg() is deprecated. Please use feather.icons[name].toSvg() instead."),!u)throw new Error("The required `key` (icon name) parameter is missing.");if(!l.default[u])throw new Error("No icon matching '"+u+"'. See the complete list of icons at https://feathericons.com");return l.default[u].toSvg(d)}r.default=o}),0:(function(a,r,n){n("./node_modules/core-js/es/array/from.js"),a.exports=n("./src/index.js")})})})})(Tv)),Tv.exports}var ZJ=XJ();const We=Va(ZJ),ss=({icon:s,className:t,style:a,...r})=>{if(!We.icons[s])return console.warn(`Feather icon "${s}" not found.`),null;const n=We.icons[s].toSvg({class:t,style:a,...r});return e.jsx("div",{dangerouslySetInnerHTML:{__html:n}})},JJ=()=>{const[s,t]=x.useState({name:"",email:"",password:"",password_confirmation:"",student_level:""}),[a,r]=x.useState([]),[n,i]=x.useState(null),[l,c]=x.useState({}),[o,u]=x.useState(!1),[d,f]=x.useState(null),[p,j]=x.useState(null),[y,k]=x.useState(!1),[v,S]=x.useState(!1),[C,_]=x.useState(0),[A,D]=x.useState(!1),M=Ut(),[L,F]=x.useState(localStorage.getItem("theme")||"light");x.useEffect(()=>{const V=document.documentElement.getAttribute("data-theme")||"light";F(V);const P=new MutationObserver(()=>{const q=document.documentElement.getAttribute("data-theme")||"light";F(q)});return P.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>P.disconnect()},[]),x.useEffect(()=>{We.replace()},[L,n,o,p,a]);const Q=V=>{let P=0;return V.length>=8&&(P+=25),/[a-z]/.test(V)&&(P+=25),/[A-Z]/.test(V)&&(P+=25),/[0-9]/.test(V)&&(P+=25),P},I=V=>V<25?"danger":V<50?"warning":V<75?"info":"success",H=V=>V<25?"Très faible":V<50?"Faible":V<75?"Moyen":"Fort",z=V=>{const{name:P,value:q}=V.target;t({...s,[P]:q}),c({...l,[P]:null}),i(null),P==="password"&&_(Q(q))};x.useEffect(()=>{he.get("/register/data").then(V=>{V.data.status==="success"&&r(V.data.classrooms||[])})},[]);const K=async V=>{if(V.preventDefault(),i(null),c({}),!A){i("Vous devez accepter les conditions d'utilisation pour continuer");return}u(!0);try{const P=await he.post("/register",s);j(P.data.message||"Inscription réussie ! Redirection vers la connexion..."),setTimeout(()=>M("/login"),3e3)}catch(P){const q=P.response;q?.status===422&&q.data?.errors?c(q.data.errors):i(q?.data?.message||"Une erreur s'est produite lors de l'inscription")}finally{u(!1)}},U=()=>{const V=document.documentElement,P=V.getAttribute("data-theme")==="dark"?"light":"dark";V.setAttribute("data-theme",P),localStorage.setItem("theme",P),F(P)};return x.useEffect(()=>{const V=localStorage.getItem("theme");V&&(document.documentElement.setAttribute("data-theme",V),F(V))},[]),e.jsx("div",{className:`min-vh-100 d-flex align-items-center py-4 ${L==="dark"?"bg-dark":"bg-light"}`,style:{background:L==="dark"?"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)":"linear-gradient(135deg, #e3f2fd 0%, #f8f9fa 50%, #e8f5e8 100%)"},children:e.jsx(yt,{children:e.jsx(pe,{className:"justify-content-center",children:e.jsxs(T,{xl:6,lg:7,md:9,sm:11,children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("h1",{className:`h3 fw-bold mb-2 ${L==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"book-open",className:"text-primary me-2",style:{width:"24px",height:"24px"}}),"Rejoindre Woop Service"]}),e.jsx("p",{className:`mb-0 ${L==="dark"?"text-light":"text-muted"}`,children:"Créez votre compte étudiant pour accéder à tous vos cours"}),e.jsx("div",{className:"d-flex justify-content-center align-items-center mt-2",children:e.jsxs("div",{className:"badge bg-info bg-opacity-10 text-info px-3 py-1 rounded-pill",children:[e.jsx("i",{"data-feather":"users",className:"me-1",style:{width:"14px",height:"14px"}}),"Rejoignez l'univers de l'apprentissage"]})})]}),e.jsxs(w,{className:`shadow-lg border-0 overflow-hidden ${L==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx("div",{className:"bg-success",style:{height:"4px"}}),e.jsx(w.Header,{className:`text-center py-4 border-0 ${L==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`mb-1 fw-bold ${L==="dark"?"text-light":"text-dark"}`,children:"Inscription Étudiante"}),e.jsx("small",{className:L==="dark"?"text-light":"text-muted",children:"Créez votre profil d'apprentissage personnalisé"})]}),e.jsx($,{variant:L==="dark"?"outline-light":"outline-secondary",size:"sm",onClick:U,className:"rounded-circle p-2",style:{width:"40px",height:"40px"},children:e.jsx("i",{"data-feather":L==="dark"?"sun":"moon",style:{width:"16px",height:"16px"}})})]})}),e.jsxs(w.Body,{className:`p-4 ${L==="dark"?"bg-dark":"bg-white"}`,children:[n&&e.jsxs(lt,{variant:"danger",className:"d-flex align-items-start mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"text-danger me-2 mt-1",style:{width:"18px",height:"18px"}}),e.jsxs("div",{children:[e.jsx("strong",{children:"Erreur d'inscription"}),e.jsx("div",{className:"small mt-1",children:n})]})]}),p&&e.jsxs(lt,{variant:"success",className:"d-flex align-items-start mb-4",children:[e.jsx("i",{"data-feather":"check-circle",className:"text-success me-2 mt-1",style:{width:"18px",height:"18px"}}),e.jsxs("div",{children:[e.jsx("strong",{children:"Inscription réussie !"}),e.jsx("div",{className:"small mt-1",children:p})]})]}),e.jsxs(b,{onSubmit:K,className:"needs-validation",noValidate:!0,children:[e.jsxs(pe,{className:"g-4",children:[e.jsx(T,{md:12,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{className:`fw-semibold ${L==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Nom complet *"]}),e.jsxs("div",{className:"position-relative",children:[e.jsx(b.Control,{type:"text",name:"name",placeholder:"Prénom et nom de famille",value:s.name,onChange:z,onFocus:()=>f("name"),onBlur:()=>f(null),isInvalid:!!l.name,className:`py-3 ps-5 ${L==="dark"?"bg-dark text-light border-secondary":"bg-light"} ${d==="name"?"border-primary shadow-sm":""}`,required:!0}),e.jsx("div",{className:"position-absolute top-50 start-0 translate-middle-y ps-3",children:e.jsx("i",{"data-feather":"user",className:`${d==="name"?"text-primary":L==="dark"?"text-light":"text-muted"}`,style:{width:"18px",height:"18px"}})})]}),l.name&&e.jsxs(b.Control.Feedback,{type:"invalid",className:"d-block",children:[e.jsx("i",{"data-feather":"x-circle",className:"me-1",style:{width:"14px",height:"14px"}}),l.name]})]})}),e.jsx(T,{md:12,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{className:`fw-semibold ${L==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Adresse email étudiante *"]}),e.jsxs("div",{className:"position-relative",children:[e.jsx(b.Control,{type:"email",name:"email",placeholder:"nom@gmail.com",value:s.email,onChange:z,onFocus:()=>f("email"),onBlur:()=>f(null),isInvalid:!!l.email,className:`py-3 ps-5 ${L==="dark"?"bg-dark text-light border-secondary":"bg-light"} ${d==="email"?"border-primary shadow-sm":""}`,required:!0}),e.jsx("div",{className:"position-absolute top-50 start-0 translate-middle-y ps-3",children:e.jsx("i",{"data-feather":"at-sign",className:`${d==="email"?"text-primary":L==="dark"?"text-light":"text-muted"}`,style:{width:"18px",height:"18px"}})})]}),l.email&&e.jsxs(b.Control.Feedback,{type:"invalid",className:"d-block",children:[e.jsx("i",{"data-feather":"x-circle",className:"me-1",style:{width:"14px",height:"14px"}}),l.email]})]})}),e.jsxs(b.Group,{md:12,children:[e.jsxs(b.Label,{className:`fw-semibold ${L==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"16px",height:"16px"}}),"Niveau d'étude *"]}),e.jsxs("div",{className:"position-relative",children:[e.jsxs(b.Select,{name:"matricule_classroom",value:s.matricule_classroom,onChange:z,onBlur:()=>f(null),onFocus:()=>f("matricule_classroom"),isInvalid:!!l.matricule_classroom,className:`py-3 ps-5 ${L==="dark"?"bg-dark text-light border-secondary":"bg-light"} ${d==="student_level"?"border-primary shadow-sm":""}`,required:!0,children:[e.jsx("option",{value:"",children:"Sélectionnez votre classe..."}),a.map(V=>e.jsxs("option",{value:V.matricule,children:[V.name,V.examen?" - "+V.examen:""]},V.matricule))]}),e.jsx("div",{className:"position-absolute top-50 start-0 translate-middle-y ps-3",children:e.jsx("i",{"data-feather":"book",className:`${d==="matricule_classroom"?"text-primary":L==="dark"?"text-light":"text-muted"}`,style:{width:"18px",height:"18px"}})})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:l.matricule_classroom})]}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{className:`fw-semibold ${L==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"lock",className:"me-2",style:{width:"16px",height:"16px"}}),"Mot de passe *"]}),e.jsxs("div",{className:"position-relative",children:[e.jsx(b.Control,{type:y?"text":"password",name:"password",placeholder:"••••••••",value:s.password,onChange:z,onFocus:()=>f("password"),onBlur:()=>f(null),isInvalid:!!l.password,className:`py-3 ps-5 pe-5 ${L==="dark"?"bg-dark text-light border-secondary":"bg-light"} ${d==="password"?"border-primary shadow-sm":""}`,required:!0}),e.jsx("div",{className:"position-absolute top-50 start-0 translate-middle-y ps-3",children:e.jsx("i",{"data-feather":"key",className:`${d==="password"?"text-primary":L==="dark"?"text-light":"text-muted"}`,style:{width:"18px",height:"18px"}})}),e.jsx($,{variant:"link",className:"position-absolute top-50 end-0 translate-middle-y border-0 text-decoration-none p-0 pe-3",onClick:()=>k(!y),type:"button",children:e.jsx("i",{"data-feather":y?"eye-off":"eye",className:L==="dark"?"text-light":"text-muted",style:{width:"18px",height:"18px"}})})]}),s.password&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[e.jsx("small",{className:L==="dark"?"text-light":"text-muted",children:"Force du mot de passe:"}),e.jsx("small",{className:`text-${I(C)}`,children:H(C)})]}),e.jsx(Zt,{now:C,variant:I(C),style:{height:"6px"}})]}),l.password&&e.jsxs(b.Control.Feedback,{type:"invalid",className:"d-block",children:[e.jsx("i",{"data-feather":"x-circle",className:"me-1",style:{width:"14px",height:"14px"}}),l.password]})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{className:`fw-semibold ${L==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"shield",className:"me-2",style:{width:"16px",height:"16px"}}),"Confirmer le mot de passe *"]}),e.jsxs("div",{className:"position-relative",children:[e.jsx(b.Control,{type:v?"text":"password",name:"password_confirmation",placeholder:"••••••••",value:s.password_confirmation,onChange:z,onFocus:()=>f("password_confirmation"),onBlur:()=>f(null),isInvalid:!!l.password_confirmation,className:`py-3 ps-5 pe-5 ${L==="dark"?"bg-dark text-light border-secondary":"bg-light"} ${d==="password_confirmation"?"border-primary shadow-sm":""}`,required:!0}),e.jsx("div",{className:"position-absolute top-50 start-0 translate-middle-y ps-3",children:e.jsx("i",{"data-feather":"check-circle",className:`${d==="password_confirmation"?"text-primary":L==="dark"?"text-light":"text-muted"}`,style:{width:"18px",height:"18px"}})}),e.jsx($,{variant:"link",className:"position-absolute top-50 end-0 translate-middle-y border-0 text-decoration-none p-0 pe-3",onClick:()=>S(!v),type:"button",children:e.jsx("i",{"data-feather":v?"eye-off":"eye",className:L==="dark"?"text-light":"text-muted",style:{width:"18px",height:"18px"}})})]}),l.password_confirmation&&e.jsxs(b.Control.Feedback,{type:"invalid",className:"d-block",children:[e.jsx("i",{"data-feather":"x-circle",className:"me-1",style:{width:"14px",height:"14px"}}),l.password_confirmation]})]})})]}),e.jsx("div",{className:"mt-4 p-3 rounded-3 bg-info bg-opacity-10",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{"data-feather":"info",className:"text-info me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("small",{className:"fw-semibold text-info",children:"Conseils pour un mot de passe sécurisé :"}),e.jsxs("ul",{className:`small mb-0 mt-1 ${L==="dark"?"text-light":"text-muted"}`,children:[e.jsx("li",{children:"Au moins 8 caractères"}),e.jsx("li",{children:"Majuscules et minuscules"}),e.jsx("li",{children:"Au moins un chiffre"})]})]})]})}),e.jsx("div",{className:"mt-4",children:e.jsx(b.Check,{type:"checkbox",id:"accept-terms",checked:A,onChange:V=>D(V.target.checked),label:e.jsxs("span",{className:L==="dark"?"text-light":"text-dark",children:["J'accepte les"," ",e.jsx(xe,{to:"/conditions",className:"text-primary text-decoration-none fw-semibold",children:"conditions d'utilisation"})," ","et la"," ",e.jsx(xe,{to:"/confidentialite",className:"text-primary text-decoration-none fw-semibold",children:"charte de vie privée"})]}),className:"user-select-none",required:!0})}),e.jsx($,{type:"submit",variant:"success",disabled:o||!A,className:"w-100 py-3 fw-semibold text-white border-0 mt-4 position-relative",style:{background:"linear-gradient(135deg, #28a745 0%, #20c997 100%)",boxShadow:"0 4px 15px rgba(40, 167, 69, 0.3)"},children:o?e.jsxs(e.Fragment,{children:[e.jsx(tt,{animation:"border",size:"sm",className:"me-2"}),"Création du compte..."]}):e.jsx(e.Fragment,{children:"Créer mon compte étudiant"})})]}),e.jsxs("div",{className:"text-center my-4",children:[e.jsx("hr",{className:L==="dark"?"border-secondary":""}),e.jsx("span",{className:`px-3 small ${L==="dark"?"bg-dark text-light":"bg-white text-muted"}`,children:"Déjà inscrit ?"})]}),e.jsx("div",{className:"text-center",children:e.jsxs(xe,{to:"/login",className:"btn btn-outline-primary w-100 py-3 fw-semibold",children:[e.jsx("i",{"data-feather":"log-in",className:"me-2",style:{width:"18px",height:"18px"}}),"Se connecter à un compte existant"]})})]}),e.jsx(w.Footer,{className:`text-center py-3 border-0 ${L==="dark"?"bg-dark":"bg-light"}`,children:e.jsxs(pe,{className:"g-2",children:[e.jsx(T,{children:e.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"shield",className:"text-success me-2",style:{width:"16px",height:"16px"}}),e.jsx("small",{className:`fw-semibold ${L==="dark"?"text-light":"text-muted"}`,children:"Données sécurisées"})]})}),e.jsx(T,{children:e.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"book",className:"text-warning me-2",style:{width:"16px",height:"16px"}}),e.jsx("small",{className:`fw-semibold ${L==="dark"?"text-light":"text-muted"}`,children:"Enseignement de qualité"})]})})]})})]}),e.jsxs(pe,{className:"mt-4 g-3",children:[e.jsx(T,{md:4,children:e.jsxs("div",{className:"text-center p-3 rounded-3 h-100 bg-primary bg-opacity-10",children:[e.jsx("i",{"data-feather":"play-circle",className:"text-primary mb-2",style:{width:"32px",height:"32px"}}),e.jsx("div",{className:"small fw-semibold text-primary mb-1",children:"Cours en ligne"}),e.jsx("div",{className:`small ${L==="dark"?"text-light":"text-muted"}`,children:"Accédez à tous vos cours 24h/7j"})]})}),e.jsx(T,{md:4,children:e.jsxs("div",{className:"text-center p-3 rounded-3 h-100 bg-success bg-opacity-10",children:[e.jsx("i",{"data-feather":"users",className:"text-success mb-2",style:{width:"32px",height:"32px"}}),e.jsx("div",{className:"small fw-semibold text-success mb-1",children:"Classe virtuelle"}),e.jsx("div",{className:`small ${L==="dark"?"text-light":"text-muted"}`,children:"Interagissez avec vos professeurs"})]})}),e.jsx(T,{md:4,children:e.jsxs("div",{className:"text-center p-3 rounded-3 h-100 bg-info bg-opacity-10",children:[e.jsx("i",{"data-feather":"trending-up",className:"text-info mb-2",style:{width:"32px",height:"32px"}}),e.jsx("div",{className:"small fw-semibold text-info mb-1",children:"Suivi des progrès"}),e.jsx("div",{className:`small ${L==="dark"?"text-light":"text-muted"}`,children:"Suivez vos performances et réussites"})]})})]})]})})})})},fL=x.createContext(),eee=({children:s})=>{const[t,a]=x.useState(null),[r,n]=x.useState(null),[i,l]=x.useState(!1),[c,o]=x.useState(!0),u=async(j,y)=>{if(y){n(y),localStorage.setItem("token",y);try{const k=await he.get("/me");a(k.data)}catch(k){console.error("Erreur lors de la récupération de l'utilisateur après connexion :",k),j&&a(j)}}else n(null),a(null),localStorage.removeItem("token")},d=async()=>{try{r&&await he.post("/logout")}catch(j){console.error("Erreur lors de la déconnexion :",j)}finally{a(null),n(null),localStorage.removeItem("token")}},f=async(j=null)=>{if(!(j||r)){a(null),o(!1);return}try{l(!0);const k=await he.get("/me");a(k.data)}catch(k){console.error("Erreur lors de la récupération de l'utilisateur :",k),k.response?.status===401&&(a(null),n(null),localStorage.removeItem("token"))}finally{l(!1),o(!1)}},p=()=>{f()};return x.useEffect(()=>{(async()=>{const y=localStorage.getItem("token");y?(n(y),await f(y)):o(!1)})()},[]),e.jsx(fL.Provider,{value:{user:t,token:r,loading:i,initializing:c,login:u,logout:d,refreshUser:p,fetchUser:f},children:s})},Aa=()=>x.useContext(fL),tee=()=>{const[s,t]=x.useState({email:"",password:""}),[a,r]=x.useState(null),[n,i]=x.useState({}),[l,c]=x.useState(!1),[o,u]=x.useState(null),[d,f]=x.useState(!1),{login:p}=Aa(),j=Ut(),[y,k]=x.useState(localStorage.getItem("theme")||"light");x.useEffect(()=>{const _=document.documentElement.getAttribute("data-theme")||"light";k(_);const A=new MutationObserver(()=>{const D=document.documentElement.getAttribute("data-theme")||"light";k(D)});return A.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>A.disconnect()},[]),x.useEffect(()=>{We.replace()},[y,a,l]);const v=_=>{t({...s,[_.target.name]:_.target.value}),i({...n,[_.target.name]:null}),r(null)},S=async _=>{_.preventDefault(),r(null),i({}),c(!0);try{const A=await he.post("/login",s),{token:D,user:M}=A.data.data;p(M,D);const L=M.role;j(L===0?"/etudiant-espace-attente/dashboard":L===1?"/etudiant/dashboard":L===2?"/formateur/dashboard":L===3?"/admin-systeme/dashboard":"/")}catch(A){const D=A.response;D?.status===422&&D.data?.errors?i(D.data.errors):r(D?.data?.message||"Erreur de connexion")}finally{c(!1)}},C=()=>{const _=document.documentElement,A=_.getAttribute("data-theme")==="dark"?"light":"dark";_.setAttribute("data-theme",A),localStorage.setItem("theme",A),k(A)};return x.useEffect(()=>{const _=localStorage.getItem("theme");_&&(document.documentElement.setAttribute("data-theme",_),k(_))},[]),e.jsx("div",{className:`min-vh-100 d-flex align-items-center py-4 ${y==="dark"?"bg-dark":"bg-light"}`,style:{background:y==="dark"?"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)":"linear-gradient(135deg, #e3f2fd 0%, #f8f9fa 50%, #e8f5e8 100%)"},children:e.jsx(yt,{children:e.jsx(pe,{className:"justify-content-center",children:e.jsxs(T,{xl:5,lg:6,md:8,sm:10,children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("h1",{className:`h3 fw-bold mb-2 ${y==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"book-open",className:"text-primary me-2",style:{width:"24px",height:"24px"}}),"Woop Service"]}),e.jsx("p",{className:`mb-0 ${y==="dark"?"text-light":"text-muted"}`,children:"Plateforme d'apprentissage en ligne pour le secondaire et l'universitaire"}),e.jsxs("div",{className:"d-flex justify-content-center align-items-center mt-2",children:[e.jsxs("div",{className:"badge bg-success bg-opacity-10 text-success px-3 py-1 rounded-pill me-2",children:[e.jsx("i",{"data-feather":"award",className:"me-1",style:{width:"14px",height:"14px"}}),"Certifié et reconnu"]}),e.jsxs("div",{className:"badge bg-info bg-opacity-10 text-info px-3 py-1 rounded-pill",children:[e.jsx("i",{"data-feather":"book",className:"me-1",style:{width:"14px",height:"14px"}}),"Apprentissage de qualité"]})]})]}),e.jsxs(w,{className:`shadow-lg border-0 overflow-hidden ${y==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx("div",{className:"bg-primary",style:{height:"4px"}}),e.jsx(w.Header,{className:`text-center py-4 border-0 ${y==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`mb-1 fw-bold ${y==="dark"?"text-light":"text-dark"}`,children:"Connexion à la plateforme"}),e.jsx("small",{className:y==="dark"?"text-light":"text-muted",children:"Accédez à vos cours et ressources"})]}),e.jsx($,{variant:y==="dark"?"outline-light":"outline-secondary",size:"sm",onClick:C,className:"rounded-circle p-2",style:{width:"40px",height:"40px"},children:e.jsx("i",{"data-feather":y==="dark"?"sun":"moon",style:{width:"16px",height:"16px"}})})]})}),e.jsxs(w.Body,{className:`p-4 ${y==="dark"?"bg-dark":"bg-white"}`,children:[a&&e.jsxs(lt,{variant:"danger",className:"d-flex align-items-start mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"text-danger me-2 mt-1",style:{width:"18px",height:"18px"}}),e.jsxs("div",{children:[e.jsx("strong",{children:"Erreur de connexion"}),e.jsx("div",{className:"small mt-1",children:a})]})]}),e.jsxs(b,{onSubmit:S,className:"needs-validation",noValidate:!0,children:[e.jsxs(b.Group,{className:"mb-4",children:[e.jsxs(b.Label,{className:`fw-semibold ${y==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Adresse email étudiante"]}),e.jsxs("div",{className:"position-relative",children:[e.jsx(b.Control,{type:"email",name:"email",placeholder:"prenom.nom@universite.fr",value:s.email,onChange:v,onFocus:()=>u("email"),onBlur:()=>u(null),isInvalid:!!n.email,className:`py-3 ps-5 ${y==="dark"?"bg-dark text-light border-secondary":"bg-light"} ${o==="email"?"border-primary shadow-sm":""}`,required:!0}),e.jsx("div",{className:"position-absolute top-50 start-0 translate-middle-y ps-3",children:e.jsx("i",{"data-feather":"user",className:`${o==="email"?"text-primary":y==="dark"?"text-light":"text-muted"}`,style:{width:"18px",height:"18px"}})})]}),n.email&&e.jsxs(b.Control.Feedback,{type:"invalid",className:"d-block",children:[e.jsx("i",{"data-feather":"x-circle",className:"me-1",style:{width:"14px",height:"14px"}}),n.email]})]}),e.jsxs(b.Group,{className:"mb-4",children:[e.jsxs(b.Label,{className:`fw-semibold ${y==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"lock",className:"me-2",style:{width:"16px",height:"16px"}}),"Mot de passe"]}),e.jsxs("div",{className:"position-relative",children:[e.jsx(b.Control,{type:d?"text":"password",name:"password",placeholder:"••••••••",value:s.password,onChange:v,onFocus:()=>u("password"),onBlur:()=>u(null),isInvalid:!!n.password,className:`py-3 ps-5 pe-5 ${y==="dark"?"bg-dark text-light border-secondary":"bg-light"} ${o==="password"?"border-primary shadow-sm":""}`,required:!0}),e.jsx("div",{className:"position-absolute top-50 start-0 translate-middle-y ps-3",children:e.jsx("i",{"data-feather":"key",className:`${o==="password"?"text-primary":y==="dark"?"text-light":"text-muted"}`,style:{width:"18px",height:"18px"}})}),e.jsx($,{variant:"link",className:"position-absolute top-50 end-0 translate-middle-y border-0 text-decoration-none p-0 pe-3",onClick:()=>f(!d),type:"button",children:e.jsx("i",{"data-feather":d?"eye-off":"eye",className:y==="dark"?"text-light":"text-muted",style:{width:"18px",height:"18px"}})})]}),n.password&&e.jsxs(b.Control.Feedback,{type:"invalid",className:"d-block",children:[e.jsx("i",{"data-feather":"x-circle",className:"me-1",style:{width:"14px",height:"14px"}}),n.password]})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx(b.Check,{type:"checkbox",id:"remember-me",label:"Se souvenir de moi",className:y==="dark"?"text-light":"text-dark"}),e.jsxs(xe,{to:"/forgot-password",className:"text-primary text-decoration-none small fw-semibold",children:[e.jsx("i",{"data-feather":"help-circle",className:"me-1",style:{width:"14px",height:"14px"}}),"Mot de passe oublié ?"]})]}),e.jsx($,{type:"submit",variant:"primary",disabled:l,className:"w-100 py-3 fw-semibold text-white border-0 position-relative",style:{background:"linear-gradient(135deg, #007bff 0%, #0056b3 100%)",boxShadow:"0 4px 15px rgba(0, 123, 255, 0.3)"},children:l?e.jsxs(e.Fragment,{children:[e.jsx(tt,{animation:"border",size:"sm",className:"me-2"}),"Connexion en cours..."]}):e.jsx(e.Fragment,{children:"Accéder à la plateforme"})})]}),e.jsxs("div",{className:"text-center my-4",children:[e.jsx("hr",{className:y==="dark"?"border-secondary":""}),e.jsx("span",{className:`px-3 small ${y==="dark"?"bg-dark text-light":"bg-white text-muted"}`,children:"Nouveau sur la plateforme ?"})]}),e.jsx("div",{className:"text-center",children:e.jsxs(xe,{to:"/register",className:"btn btn-outline-primary w-100 py-3 fw-semibold",children:[e.jsx("i",{"data-feather":"user-plus",className:"me-2",style:{width:"18px",height:"18px"}}),"Créer mon compte étudiant"]})})]}),e.jsx(w.Footer,{className:`text-center py-3 border-0 ${y==="dark"?"bg-dark":"bg-light"}`,children:e.jsxs(pe,{className:"g-2",children:[e.jsx(T,{children:e.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"book",className:"text-success me-2",style:{width:"16px",height:"16px"}}),e.jsx("small",{className:`fw-semibold ${y==="dark"?"text-light":"text-muted"}`,children:"Enseignement de qualité"})]})}),e.jsx(T,{children:e.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"headphones",className:"text-info me-2",style:{width:"16px",height:"16px"}}),e.jsx("small",{className:`fw-semibold ${y==="dark"?"text-light":"text-muted"}`,children:"Support étudiant"})]})})]})})]}),e.jsx("div",{className:`text-center mt-4 ${y==="dark"?"text-light":"text-muted"}`,children:e.jsxs("small",{children:[e.jsx("i",{"data-feather":"info",className:"me-1",style:{width:"12px",height:"12px"}}),"En vous connectant, vous acceptez nos"," ",e.jsx(xe,{to:"/conditions",className:"text-primary text-decoration-none",children:"conditions d'utilisation"})," ","et notre"," ",e.jsx(xe,{to:"/confidentialite",className:"text-primary text-decoration-none",children:"charte de vie privée"})]})})]})})})})},see=()=>{const s=Wa(),t=Ut(),a=new URLSearchParams(s.search).get("token"),r=new URLSearchParams(s.search).get("email"),[n,i]=x.useState({name:"",code_phone:"+237",phone:"",birthday:"",gender:"",password:"",password_confirmation:"",email:r||"",token:a||""}),[l,c]=x.useState(null),[o,u]=x.useState({}),[d,f]=x.useState(!1),[p,j]=x.useState(null),[y,k]=x.useState(null),[v,S]=x.useState(!1),[C,_]=x.useState(!1),[A,D]=x.useState(localStorage.getItem("theme")||"light");x.useEffect(()=>{const Q=document.documentElement.getAttribute("data-theme")||"light";D(Q);const I=new MutationObserver(()=>{const H=document.documentElement.getAttribute("data-theme")||"light";D(H)});return I.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>I.disconnect()},[]),x.useEffect(()=>{We.replace()},[A,l,d,y]);const M=Q=>{i({...n,[Q.target.name]:Q.target.value}),u({...o,[Q.target.name]:null}),c(null)},L=async Q=>{Q.preventDefault(),c(null),u({}),f(!0);try{await he.post("/register-invitation",n),k("Inscription réussie ! Redirection vers la connexion..."),setTimeout(()=>t("/login"),3e3)}catch(I){const H=I.response;H?.status===422&&H.data?.errors?u(H.data.errors):c(H?.data?.message||"Une erreur s'est produite")}finally{f(!1)}},F=()=>{const Q=document.documentElement,I=Q.getAttribute("data-theme")==="dark"?"light":"dark";Q.setAttribute("data-theme",I),localStorage.setItem("theme",I),D(I)};return x.useEffect(()=>{const Q=localStorage.getItem("theme");Q&&(document.documentElement.setAttribute("data-theme",Q),D(Q))},[]),e.jsx("div",{className:`min-vh-100 d-flex align-items-center py-4 ${A==="dark"?"bg-dark":"bg-light"}`,style:{background:A==="dark"?"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)":"linear-gradient(135deg, #e3f2fd 0%, #f8f9fa 50%, #e8f5e8 100%)"},children:e.jsx(yt,{children:e.jsx(pe,{className:"justify-content-center",children:e.jsxs(T,{xl:7,lg:8,md:10,sm:11,children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("h1",{className:`h3 fw-bold mb-2 ${A==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"book-open",className:"text-primary me-2",style:{width:"24px",height:"24px"}}),"Invitation Woop Service"]}),e.jsx("p",{className:`mb-0 ${A==="dark"?"text-light":"text-muted"}`,children:"Finalisez votre inscription sur invitation à notre plateforme d'apprentissage"}),r&&e.jsx("div",{className:"d-flex justify-content-center align-items-center mt-2",children:e.jsxs("div",{className:"badge bg-info bg-opacity-10 text-info px-3 py-1 rounded-pill",children:[e.jsx("i",{"data-feather":"mail",className:"me-1",style:{width:"14px",height:"14px"}}),r]})})]}),e.jsxs(w,{className:`shadow-lg border-0 overflow-hidden ${A==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx("div",{className:"bg-success",style:{height:"4px"}}),e.jsx(w.Header,{className:`text-center py-4 border-0 ${A==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`mb-1 fw-bold ${A==="dark"?"text-light":"text-dark"}`,children:"Finaliser l'inscription"}),e.jsx("small",{className:A==="dark"?"text-light":"text-muted",children:"Complétez votre profil étudiant pour accéder à la plateforme"})]}),e.jsx($,{variant:A==="dark"?"outline-light":"outline-secondary",size:"sm",onClick:F,className:"rounded-circle p-2",style:{width:"40px",height:"40px"},children:e.jsx("i",{"data-feather":A==="dark"?"sun":"moon",style:{width:"16px",height:"16px"}})})]})}),e.jsxs(w.Body,{className:`p-4 ${A==="dark"?"bg-dark":"bg-white"}`,children:[l&&e.jsxs(lt,{variant:"danger",className:"d-flex align-items-start mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"text-danger me-2 mt-1",style:{width:"18px",height:"18px"}}),e.jsxs("div",{children:[e.jsx("strong",{children:"Erreur d'inscription"}),e.jsx("div",{className:"small mt-1",children:l})]})]}),y&&e.jsxs(lt,{variant:"success",className:"d-flex align-items-start mb-4",children:[e.jsx("i",{"data-feather":"check-circle",className:"text-success me-2 mt-1",style:{width:"18px",height:"18px"}}),e.jsxs("div",{children:[e.jsx("strong",{children:"Inscription réussie !"}),e.jsx("div",{className:"small mt-1",children:y})]})]}),e.jsxs(b,{onSubmit:L,className:"needs-validation",noValidate:!0,children:[e.jsxs(pe,{className:"g-4",children:[e.jsx(T,{md:12,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{className:`fw-semibold ${A==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Nom complet *"]}),e.jsxs("div",{className:"position-relative",children:[e.jsx(b.Control,{type:"text",name:"name",placeholder:"Prénom et nom de famille",value:n.name,onChange:M,onFocus:()=>j("name"),onBlur:()=>j(null),isInvalid:!!o.name,className:`py-3 ps-5 ${A==="dark"?"bg-dark text-light border-secondary":"bg-light"} ${p==="name"?"border-primary shadow-sm":""}`,required:!0}),e.jsx("div",{className:"position-absolute top-50 start-0 translate-middle-y ps-3",children:e.jsx("i",{"data-feather":"user",className:`${p==="name"?"text-primary":A==="dark"?"text-light":"text-muted"}`,style:{width:"18px",height:"18px"}})})]}),o.name&&e.jsxs(b.Control.Feedback,{type:"invalid",className:"d-block",children:[e.jsx("i",{"data-feather":"x-circle",className:"me-1",style:{width:"14px",height:"14px"}}),o.name]})]})}),e.jsx(T,{md:4,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{className:`fw-semibold ${A==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"flag",className:"me-2",style:{width:"16px",height:"16px"}}),"Code pays *"]}),e.jsxs("div",{className:"position-relative",children:[e.jsx(b.Control,{type:"text",name:"code_phone",placeholder:"+237",value:n.code_phone,onChange:M,onFocus:()=>j("code_phone"),onBlur:()=>j(null),isInvalid:!!o.code_phone,max:new Date().toISOString().split("T")[0],className:`py-3 ps-5 ${A==="dark"?"bg-dark text-light border-secondary":"bg-light"} ${p==="code_phone"?"border-primary shadow-sm":""}`,required:!0}),e.jsx("div",{className:"position-absolute top-50 start-0 translate-middle-y ps-3",children:e.jsx("i",{"data-feather":"globe",className:`${p==="code_phone"?"text-primary":A==="dark"?"text-light":"text-muted"}`,style:{width:"18px",height:"18px"}})})]}),o.code_phone&&e.jsxs(b.Control.Feedback,{type:"invalid",className:"d-block",children:[e.jsx("i",{"data-feather":"x-circle",className:"me-1",style:{width:"14px",height:"14px"}}),o.code_phone]})]})}),e.jsx(T,{md:8,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{className:`fw-semibold ${A==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"phone",className:"me-2",style:{width:"16px",height:"16px"}}),"Numéro de téléphone *"]}),e.jsxs("div",{className:"position-relative",children:[e.jsx(b.Control,{type:"number",name:"phone",placeholder:"123456789",value:n.phone,onChange:M,onFocus:()=>j("phone"),onBlur:()=>j(null),isInvalid:!!o.phone,className:`py-3 ps-5 ${A==="dark"?"bg-dark text-light border-secondary":"bg-light"} ${p==="phone"?"border-primary shadow-sm":""}`,required:!0}),e.jsx("div",{className:"position-absolute top-50 start-0 translate-middle-y ps-3",children:e.jsx("i",{"data-feather":"phone",className:`${p==="phone"?"text-primary":A==="dark"?"text-light":"text-muted"}`,style:{width:"18px",height:"18px"}})})]}),o.phone&&e.jsxs(b.Control.Feedback,{type:"invalid",className:"d-block",children:[e.jsx("i",{"data-feather":"x-circle",className:"me-1",style:{width:"14px",height:"14px"}}),o.phone]})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{className:`fw-semibold ${A==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-2",style:{width:"16px",height:"16px"}}),"Date de naissance *"]}),e.jsxs("div",{className:"position-relative",children:[e.jsx(b.Control,{type:"date",name:"birthday",value:n.birthday,onChange:M,onFocus:()=>j("birthday"),onBlur:()=>j(null),isInvalid:!!o.birthday,className:`py-3 ps-5 ${A==="dark"?"bg-dark text-light border-secondary":"bg-light"} ${p==="birthday"?"border-primary shadow-sm":""}`,required:!0}),e.jsx("div",{className:"position-absolute top-50 start-0 translate-middle-y ps-3",children:e.jsx("i",{"data-feather":"calendar",className:`${p==="birthday"?"text-primary":A==="dark"?"text-light":"text-muted"}`,style:{width:"18px",height:"18px"}})})]}),o.birthday&&e.jsxs(b.Control.Feedback,{type:"invalid",className:"d-block",children:[e.jsx("i",{"data-feather":"x-circle",className:"me-1",style:{width:"14px",height:"14px"}}),o.birthday]})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{className:`fw-semibold ${A==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"users",className:"me-2",style:{width:"16px",height:"16px"}}),"Genre *"]}),e.jsxs("div",{className:"position-relative",children:[e.jsxs(b.Select,{name:"gender",value:n.gender,onChange:M,onFocus:()=>j("gender"),onBlur:()=>j(null),isInvalid:!!o.gender,className:`py-3 ps-5 ${A==="dark"?"bg-dark text-light border-secondary":"bg-light"} ${p==="gender"?"border-primary shadow-sm":""}`,required:!0,children:[e.jsx("option",{value:"",children:"Sélectionner"}),e.jsx("option",{value:"Masculin",children:"Homme"}),e.jsx("option",{value:"Feminin",children:"Femme"}),e.jsx("option",{value:"Autre",children:"Autre"})]}),e.jsx("div",{className:"position-absolute top-50 start-0 translate-middle-y ps-3",children:e.jsx("i",{"data-feather":"user",className:`${p==="gender"?"text-primary":A==="dark"?"text-light":"text-muted"}`,style:{width:"18px",height:"18px"}})})]}),o.gender&&e.jsxs(b.Control.Feedback,{type:"invalid",className:"d-block",children:[e.jsx("i",{"data-feather":"x-circle",className:"me-1",style:{width:"14px",height:"14px"}}),o.gender]})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{className:`fw-semibold ${A==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"lock",className:"me-2",style:{width:"16px",height:"16px"}}),"Mot de passe *"]}),e.jsxs("div",{className:"position-relative",children:[e.jsx(b.Control,{type:v?"text":"password",name:"password",placeholder:"••••••••",value:n.password,onChange:M,onFocus:()=>j("password"),onBlur:()=>j(null),isInvalid:!!o.password,className:`py-3 ps-5 pe-5 ${A==="dark"?"bg-dark text-light border-secondary":"bg-light"} ${p==="password"?"border-primary shadow-sm":""}`,required:!0}),e.jsx("div",{className:"position-absolute top-50 start-0 translate-middle-y ps-3",children:e.jsx("i",{"data-feather":"key",className:`${p==="password"?"text-primary":A==="dark"?"text-light":"text-muted"}`,style:{width:"18px",height:"18px"}})}),e.jsx($,{variant:"link",className:"position-absolute top-50 end-0 translate-middle-y border-0 text-decoration-none p-0 pe-3",onClick:()=>S(!v),type:"button",children:e.jsx("i",{"data-feather":v?"eye-off":"eye",className:A==="dark"?"text-light":"text-muted",style:{width:"18px",height:"18px"}})})]}),o.password&&e.jsxs(b.Control.Feedback,{type:"invalid",className:"d-block",children:[e.jsx("i",{"data-feather":"x-circle",className:"me-1",style:{width:"14px",height:"14px"}}),o.password]})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{className:`fw-semibold ${A==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"shield",className:"me-2",style:{width:"16px",height:"16px"}}),"Confirmation *"]}),e.jsxs("div",{className:"position-relative",children:[e.jsx(b.Control,{type:C?"text":"password",name:"password_confirmation",placeholder:"••••••••",value:n.password_confirmation,onChange:M,onFocus:()=>j("password_confirmation"),onBlur:()=>j(null),isInvalid:!!o.password_confirmation,className:`py-3 ps-5 pe-5 ${A==="dark"?"bg-dark text-light border-secondary":"bg-light"} ${p==="password_confirmation"?"border-primary shadow-sm":""}`,required:!0}),e.jsx("div",{className:"position-absolute top-50 start-0 translate-middle-y ps-3",children:e.jsx("i",{"data-feather":"check-circle",className:`${p==="password_confirmation"?"text-primary":A==="dark"?"text-light":"text-muted"}`,style:{width:"18px",height:"18px"}})}),e.jsx($,{variant:"link",className:"position-absolute top-50 end-0 translate-middle-y border-0 text-decoration-none p-0 pe-3",onClick:()=>_(!C),type:"button",children:e.jsx("i",{"data-feather":C?"eye-off":"eye",className:A==="dark"?"text-light":"text-muted",style:{width:"18px",height:"18px"}})})]}),o.password_confirmation&&e.jsxs(b.Control.Feedback,{type:"invalid",className:"d-block",children:[e.jsx("i",{"data-feather":"x-circle",className:"me-1",style:{width:"14px",height:"14px"}}),o.password_confirmation]})]})})]}),e.jsx("div",{className:"mt-4 p-3 rounded-3 bg-success bg-opacity-10",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{"data-feather":"mail",className:"text-success me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("small",{className:"fw-semibold text-success",children:"Inscription sur invitation"}),e.jsx("div",{className:`small mt-1 ${A==="dark"?"text-light":"text-muted"}`,children:"Vous avez été invité(e) à rejoindre Woop Service. Complétez ce formulaire pour finaliser votre inscription et accéder à la plateforme."})]})]})}),e.jsx($,{type:"submit",variant:"success",disabled:d,className:"w-100 py-3 fw-semibold text-white border-0 mt-4 position-relative",style:{background:"linear-gradient(135deg, #28a745 0%, #20c997 100%)",boxShadow:"0 4px 15px rgba(40, 167, 69, 0.3)"},children:d?e.jsxs(e.Fragment,{children:[e.jsx(tt,{animation:"border",size:"sm",className:"me-2"}),"Finalisation..."]}):e.jsx(e.Fragment,{children:"Finaliser l'inscription"})})]})]}),e.jsx(w.Footer,{className:`text-center py-3 border-0 ${A==="dark"?"bg-dark":"bg-light"}`,children:e.jsxs(pe,{className:"g-2",children:[e.jsx(T,{children:e.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"shield-check",className:"text-success me-2",style:{width:"16px",height:"16px"}}),e.jsx("small",{className:`fw-semibold ${A==="dark"?"text-light":"text-muted"}`,children:"Inscription sécurisée"})]})}),e.jsx(T,{children:e.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"book",className:"text-info me-2",style:{width:"16px",height:"16px"}}),e.jsx("small",{className:`fw-semibold ${A==="dark"?"text-light":"text-muted"}`,children:"Invitation validée"})]})})]})})]}),e.jsx("div",{className:`text-center mt-4 ${A==="dark"?"text-light":"text-muted"}`,children:e.jsxs("small",{children:[e.jsx("i",{"data-feather":"info",className:"me-1",style:{width:"12px",height:"12px"}}),"En finalisant votre inscription, vous acceptez nos conditions d'utilisation et notre politique de confidentialité."]})}),e.jsxs(pe,{className:"mt-4 g-3",children:[e.jsx(T,{md:4,children:e.jsxs("div",{className:"text-center p-3 rounded-3 h-100 bg-primary bg-opacity-10",children:[e.jsx("i",{"data-feather":"play-circle",className:"text-primary mb-2",style:{width:"32px",height:"32px"}}),e.jsx("div",{className:"small fw-semibold text-primary mb-1",children:"Cours en ligne"}),e.jsx("div",{className:`small ${A==="dark"?"text-light":"text-muted"}`,children:"Accédez à tous vos cours 24h/7j"})]})}),e.jsx(T,{md:4,children:e.jsxs("div",{className:"text-center p-3 rounded-3 h-100 bg-success bg-opacity-10",children:[e.jsx("i",{"data-feather":"users",className:"text-success mb-2",style:{width:"32px",height:"32px"}}),e.jsx("div",{className:"small fw-semibold text-success mb-1",children:"Classe virtuelle"}),e.jsx("div",{className:`small ${A==="dark"?"text-light":"text-muted"}`,children:"Interagissez avec vos professeurs"})]})}),e.jsx(T,{md:4,children:e.jsxs("div",{className:"text-center p-3 rounded-3 h-100 bg-info bg-opacity-10",children:[e.jsx("i",{"data-feather":"trending-up",className:"text-info mb-2",style:{width:"32px",height:"32px"}}),e.jsx("div",{className:"small fw-semibold text-info mb-1",children:"Suivi des progrès"}),e.jsx("div",{className:`small ${A==="dark"?"text-light":"text-muted"}`,children:"Suivez vos performances et réussites"})]})})]})]})})})})},aee=()=>{const[s,t]=x.useState({email:""}),[a,r]=x.useState(null),[n,i]=x.useState({}),[l,c]=x.useState(!1),[o,u]=x.useState(null),[d,f]=x.useState(null);Ut();const[p,j]=x.useState(localStorage.getItem("theme")||"light");x.useEffect(()=>{const S=document.documentElement.getAttribute("data-theme")||"light";j(S);const C=new MutationObserver(()=>{const _=document.documentElement.getAttribute("data-theme")||"light";j(_)});return C.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>C.disconnect()},[]),x.useEffect(()=>{We.replace()},[p,a,l,o]);const y=S=>{t({...s,[S.target.name]:S.target.value}),i({...n,[S.target.name]:null}),r(null)},k=async S=>{S.preventDefault(),r(null),i({}),c(!0);try{const C=await he.post("/forgot-password",s);u(C.data.message||"Un email de réinitialisation a été envoyé à votre adresse email. Veuillez vérifier votre boîte de réception.")}catch(C){const _=C.response;_?.status===422&&_.data?.errors?i(_.data.errors):r(_?.data?.message||"Une erreur s'est produite lors de l'envoi")}finally{c(!1)}},v=()=>{const S=document.documentElement,C=S.getAttribute("data-theme")==="dark"?"light":"dark";S.setAttribute("data-theme",C),localStorage.setItem("theme",C),j(C)};return x.useEffect(()=>{const S=localStorage.getItem("theme");S&&(document.documentElement.setAttribute("data-theme",S),j(S))},[]),e.jsx("div",{className:`min-vh-100 d-flex align-items-center py-4 ${p==="dark"?"bg-dark":"bg-light"}`,style:{background:p==="dark"?"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)":"linear-gradient(135deg, #e3f2fd 0%, #f8f9fa 50%, #e8f5e8 100%)"},children:e.jsx(yt,{children:e.jsx(pe,{className:"justify-content-center",children:e.jsxs(T,{xl:5,lg:6,md:8,sm:10,children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("h1",{className:`h3 fw-bold mb-2 ${p==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"book-open",className:"text-primary me-2",style:{width:"24px",height:"24px"}}),"Récupération de compte"]}),e.jsx("p",{className:`mb-0 ${p==="dark"?"text-light":"text-muted"}`,children:"Réinitialisez votre mot de passe pour accéder à vos cours"}),e.jsx("div",{className:"d-flex justify-content-center align-items-center mt-2",children:e.jsxs("div",{className:"badge bg-warning bg-opacity-10 text-warning px-3 py-1 rounded-pill",children:[e.jsx("i",{"data-feather":"key",className:"me-1",style:{width:"14px",height:"14px"}}),"Récupération sécurisée"]})})]}),e.jsxs(w,{className:`shadow-lg border-0 overflow-hidden ${p==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx("div",{className:"bg-warning",style:{height:"4px"}}),e.jsx(w.Header,{className:`text-center py-4 border-0 ${p==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`mb-1 fw-bold ${p==="dark"?"text-light":"text-dark"}`,children:"Mot de passe oublié"}),e.jsx("small",{className:p==="dark"?"text-light":"text-muted",children:"Saisissez votre email pour recevoir un lien de réinitialisation"})]}),e.jsx($,{variant:p==="dark"?"outline-light":"outline-secondary",size:"sm",onClick:v,className:"rounded-circle p-2",style:{width:"40px",height:"40px"},children:e.jsx("i",{"data-feather":p==="dark"?"sun":"moon",style:{width:"16px",height:"16px"}})})]})}),e.jsxs(w.Body,{className:`p-4 ${p==="dark"?"bg-dark":"bg-white"}`,children:[a&&e.jsxs(lt,{variant:"danger",className:"d-flex align-items-start mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"text-danger me-2 mt-1",style:{width:"18px",height:"18px"}}),e.jsxs("div",{children:[e.jsx("strong",{children:"Erreur de récupération"}),e.jsx("div",{className:"small mt-1",children:a})]})]}),o&&e.jsxs(lt,{variant:"success",className:"d-flex align-items-start mb-4",children:[e.jsx("i",{"data-feather":"check-circle",className:"text-success me-2 mt-1",style:{width:"18px",height:"18px"}}),e.jsxs("div",{children:[e.jsx("strong",{children:"Email envoyé !"}),e.jsx("div",{className:"small mt-1",children:o})]})]}),!o&&e.jsxs(b,{onSubmit:k,className:"needs-validation",noValidate:!0,children:[e.jsx("div",{className:"mb-4 p-3 rounded-3 bg-info bg-opacity-10",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{"data-feather":"info",className:"text-info me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("small",{className:"fw-semibold text-info",children:"Comment ça fonctionne :"}),e.jsxs("ul",{className:`small mb-0 mt-1 ${p==="dark"?"text-light":"text-muted"}`,children:[e.jsx("li",{children:"Saisissez l'adresse email de votre compte"}),e.jsx("li",{children:'Cliquez sur "Envoyer le lien"'}),e.jsx("li",{children:"Consultez votre boîte email"}),e.jsx("li",{children:"Suivez le lien pour créer un nouveau mot de passe"})]})]})]})}),e.jsxs(b.Group,{className:"mb-4",children:[e.jsxs(b.Label,{className:`fw-semibold ${p==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Adresse email du compte"]}),e.jsxs("div",{className:"position-relative",children:[e.jsx(b.Control,{type:"email",name:"email",placeholder:"votre.email@domaine.com",value:s.email,onChange:y,onFocus:()=>f("email"),onBlur:()=>f(null),isInvalid:!!n.email,className:`py-3 ps-5 ${p==="dark"?"bg-dark text-light border-secondary":"bg-light"} ${d==="email"?"border-primary shadow-sm":""}`,required:!0}),e.jsx("div",{className:"position-absolute top-50 start-0 translate-middle-y ps-3",children:e.jsx("i",{"data-feather":"at-sign",className:`${d==="email"?"text-primary":p==="dark"?"text-light":"text-muted"}`,style:{width:"18px",height:"18px"}})})]}),n.email&&e.jsxs(b.Control.Feedback,{type:"invalid",className:"d-block",children:[e.jsx("i",{"data-feather":"x-circle",className:"me-1",style:{width:"14px",height:"14px"}}),n.email]})]}),e.jsx($,{type:"submit",variant:"warning",disabled:l,className:"w-100 py-3 fw-semibold text-dark border-0 position-relative",style:{background:"linear-gradient(135deg, #ffc107 0%, #ffb300 100%)",boxShadow:"0 4px 15px rgba(255, 193, 7, 0.3)"},children:l?e.jsxs(e.Fragment,{children:[e.jsx(tt,{animation:"border",size:"sm",className:"me-2"}),"Envoi en cours..."]}):e.jsx(e.Fragment,{children:"Envoyer le lien de réinitialisation"})})]}),e.jsxs("div",{className:"text-center my-4",children:[e.jsx("hr",{className:p==="dark"?"border-secondary":""}),e.jsx("span",{className:`px-3 small ${p==="dark"?"bg-dark text-light":"bg-white text-muted"}`,children:"Vous vous souvenez de votre mot de passe ?"})]}),e.jsx("div",{className:"text-center",children:e.jsxs(xe,{to:"/login",className:"btn btn-outline-primary w-100 py-3 fw-semibold",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2",style:{width:"18px",height:"18px"}}),"Retour à la connexion"]})})]}),e.jsx(w.Footer,{className:`text-center py-3 border-0 ${p==="dark"?"bg-dark":"bg-light"}`,children:e.jsxs(pe,{className:"g-2",children:[e.jsx(T,{children:e.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"shield",className:"text-success me-2",style:{width:"16px",height:"16px"}}),e.jsx("small",{className:`fw-semibold ${p==="dark"?"text-light":"text-muted"}`,children:"Processus sécurisé"})]})}),e.jsx(T,{children:e.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"clock",className:"text-info me-2",style:{width:"16px",height:"16px"}}),e.jsx("small",{className:`fw-semibold ${p==="dark"?"text-light":"text-muted"}`,children:"Lien valide 1 heure"})]})})]})})]}),e.jsx("div",{className:`text-center mt-4 ${p==="dark"?"text-light":"text-muted"}`,children:e.jsxs("small",{children:[e.jsx("i",{"data-feather":"info",className:"me-1",style:{width:"12px",height:"12px"}}),"Si vous ne recevez pas l'email, vérifiez votre dossier spam ou contactez le support."]})}),e.jsxs(pe,{className:"mt-4 g-3",children:[e.jsx(T,{md:6,children:e.jsxs("div",{className:"text-center p-3 rounded-3 h-100 bg-success bg-opacity-10",children:[e.jsx("i",{"data-feather":"shield",className:"text-success mb-2",style:{width:"32px",height:"32px"}}),e.jsx("div",{className:"small fw-semibold text-success mb-1",children:"Sécurité renforcée"}),e.jsx("div",{className:`small ${p==="dark"?"text-light":"text-muted"}`,children:"Lien temporaire et chiffré"})]})}),e.jsx(T,{md:6,children:e.jsxs("div",{className:"text-center p-3 rounded-3 h-100 bg-warning bg-opacity-10",children:[e.jsx("i",{"data-feather":"clock",className:"text-warning mb-2",style:{width:"32px",height:"32px"}}),e.jsx("div",{className:"small fw-semibold text-warning mb-1",children:"Expiration rapide"}),e.jsx("div",{className:`small ${p==="dark"?"text-light":"text-muted"}`,children:"Le lien expire après 1 heure"})]})})]})]})})})})},ree=()=>{const s=Wa(),t=Ut(),a=new URLSearchParams(s.search).get("token"),r=new URLSearchParams(s.search).get("email"),[n,i]=x.useState({email:r||"",token:a||"",password:"",password_confirmation:""}),[l,c]=x.useState(null),[o,u]=x.useState({}),[d,f]=x.useState(!1),[p,j]=x.useState(null),[y,k]=x.useState(null),[v,S]=x.useState(!1),[C,_]=x.useState(!1),[A,D]=x.useState(0),[M,L]=x.useState(localStorage.getItem("theme")||"light");x.useEffect(()=>{(!a||!r)&&c("Lien de réinitialisation invalide. Veuillez demander un nouveau lien.")},[a,r]),x.useEffect(()=>{const U=document.documentElement.getAttribute("data-theme")||"light";L(U);const V=new MutationObserver(()=>{const P=document.documentElement.getAttribute("data-theme")||"light";L(P)});return V.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>V.disconnect()},[]),x.useEffect(()=>{We.replace()},[M,l,d,p]);const F=U=>{let V=0;return U.length>=8&&(V+=25),/[a-z]/.test(U)&&(V+=25),/[A-Z]/.test(U)&&(V+=25),/[0-9]/.test(U)&&(V+=25),V},Q=U=>U<25?"danger":U<50?"warning":U<75?"info":"success",I=U=>U<25?"Très faible":U<50?"Faible":U<75?"Moyen":"Fort",H=U=>{const{name:V,value:P}=U.target;i({...n,[V]:P}),u({...o,[V]:null}),c(null),V==="password"&&D(F(P))},z=async U=>{U.preventDefault(),c(null),u({}),f(!0);try{const V=await he.post("/reset-password",n);j(V.data.message||"Mot de passe réinitialisé avec succès ! Redirection vers la connexion..."),setTimeout(()=>t("/login"),3e3)}catch(V){const P=V.response;P?.status===422&&P.data?.errors?u(P.data.errors):c(P?.data?.message||"Une erreur s'est produite lors de la réinitialisation")}finally{f(!1)}},K=()=>{const U=document.documentElement,V=U.getAttribute("data-theme")==="dark"?"light":"dark";U.setAttribute("data-theme",V),localStorage.setItem("theme",V),L(V)};return x.useEffect(()=>{const U=localStorage.getItem("theme");U&&(document.documentElement.setAttribute("data-theme",U),L(U))},[]),e.jsx("div",{className:`min-vh-100 d-flex align-items-center py-4 ${M==="dark"?"bg-dark":"bg-light"}`,style:{background:M==="dark"?"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)":"linear-gradient(135deg, #e3f2fd 0%, #f8f9fa 50%, #e8f5e8 100%)"},children:e.jsx(yt,{children:e.jsx(pe,{className:"justify-content-center",children:e.jsxs(T,{xl:6,lg:7,md:9,sm:11,children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("h1",{className:`h3 fw-bold mb-2 ${M==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"book-open",className:"text-primary me-2",style:{width:"24px",height:"24px"}}),"Nouveau mot de passe"]}),e.jsx("p",{className:`mb-0 ${M==="dark"?"text-light":"text-muted"}`,children:"Créez un nouveau mot de passe sécurisé pour votre compte"}),r&&e.jsx("div",{className:"d-flex justify-content-center align-items-center mt-2",children:e.jsxs("div",{className:"badge bg-success bg-opacity-10 text-success px-3 py-1 rounded-pill",children:[e.jsx("i",{"data-feather":"mail",className:"me-1",style:{width:"14px",height:"14px"}}),r]})})]}),e.jsxs(w,{className:`shadow-lg border-0 overflow-hidden ${M==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx("div",{className:"bg-success",style:{height:"4px"}}),e.jsx(w.Header,{className:`text-center py-4 border-0 ${M==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`mb-1 fw-bold ${M==="dark"?"text-light":"text-dark"}`,children:"Réinitialisation du mot de passe"}),e.jsx("small",{className:M==="dark"?"text-light":"text-muted",children:"Définissez un nouveau mot de passe fort et sécurisé"})]}),e.jsx($,{variant:M==="dark"?"outline-light":"outline-secondary",size:"sm",onClick:K,className:"rounded-circle p-2",style:{width:"40px",height:"40px"},children:e.jsx("i",{"data-feather":M==="dark"?"sun":"moon",style:{width:"16px",height:"16px"}})})]})}),e.jsxs(w.Body,{className:`p-4 ${M==="dark"?"bg-dark":"bg-white"}`,children:[l&&e.jsxs(lt,{variant:"danger",className:"d-flex align-items-start mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"text-danger me-2 mt-1",style:{width:"18px",height:"18px"}}),e.jsxs("div",{children:[e.jsx("strong",{children:"Erreur de réinitialisation"}),e.jsx("div",{className:"small mt-1",children:l})]})]}),p&&e.jsxs(lt,{variant:"success",className:"d-flex align-items-start mb-4",children:[e.jsx("i",{"data-feather":"check-circle",className:"text-success me-2 mt-1",style:{width:"18px",height:"18px"}}),e.jsxs("div",{children:[e.jsx("strong",{children:"Mot de passe réinitialisé !"}),e.jsx("div",{className:"small mt-1",children:p})]})]}),!p&&!l&&e.jsxs(b,{onSubmit:z,className:"needs-validation",noValidate:!0,children:[e.jsx("div",{className:"mb-4 p-3 rounded-3 bg-success bg-opacity-10",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{"data-feather":"shield-check",className:"text-success me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("small",{className:"fw-semibold text-success",children:"Lien de réinitialisation valide"}),e.jsx("div",{className:`small mt-1 ${M==="dark"?"text-light":"text-muted"}`,children:"Vous pouvez maintenant définir un nouveau mot de passe sécurisé pour votre compte étudiant."})]})]})}),e.jsxs(pe,{className:"g-4",children:[e.jsx(T,{md:12,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{className:`fw-semibold ${M==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"lock",className:"me-2",style:{width:"16px",height:"16px"}}),"Nouveau mot de passe *"]}),e.jsxs("div",{className:"position-relative",children:[e.jsx(b.Control,{type:v?"text":"password",name:"password",placeholder:"••••••••",value:n.password,onChange:H,onFocus:()=>k("password"),onBlur:()=>k(null),isInvalid:!!o.password,className:`py-3 ps-5 pe-5 ${M==="dark"?"bg-dark text-light border-secondary":"bg-light"} ${y==="password"?"border-primary shadow-sm":""}`,required:!0}),e.jsx("div",{className:"position-absolute top-50 start-0 translate-middle-y ps-3",children:e.jsx("i",{"data-feather":"key",className:`${y==="password"?"text-primary":M==="dark"?"text-light":"text-muted"}`,style:{width:"18px",height:"18px"}})}),e.jsx($,{variant:"link",className:"position-absolute top-50 end-0 translate-middle-y border-0 text-decoration-none p-0 pe-3",onClick:()=>S(!v),type:"button",children:e.jsx("i",{"data-feather":v?"eye-off":"eye",className:M==="dark"?"text-light":"text-muted",style:{width:"18px",height:"18px"}})})]}),n.password&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[e.jsx("small",{className:M==="dark"?"text-light":"text-muted",children:"Force du mot de passe:"}),e.jsx("small",{className:`text-${Q(A)}`,children:I(A)})]}),e.jsx(Zt,{now:A,variant:Q(A),style:{height:"6px"}})]}),o.password&&e.jsxs(b.Control.Feedback,{type:"invalid",className:"d-block",children:[e.jsx("i",{"data-feather":"x-circle",className:"me-1",style:{width:"14px",height:"14px"}}),o.password]})]})}),e.jsx(T,{md:12,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{className:`fw-semibold ${M==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"shield",className:"me-2",style:{width:"16px",height:"16px"}}),"Confirmer le nouveau mot de passe *"]}),e.jsxs("div",{className:"position-relative",children:[e.jsx(b.Control,{type:C?"text":"password",name:"password_confirmation",placeholder:"••••••••",value:n.password_confirmation,onChange:H,onFocus:()=>k("password_confirmation"),onBlur:()=>k(null),isInvalid:!!o.password_confirmation,className:`py-3 ps-5 pe-5 ${M==="dark"?"bg-dark text-light border-secondary":"bg-light"} ${y==="password_confirmation"?"border-primary shadow-sm":""}`,required:!0}),e.jsx("div",{className:"position-absolute top-50 start-0 translate-middle-y ps-3",children:e.jsx("i",{"data-feather":"check-circle",className:`${y==="password_confirmation"?"text-primary":M==="dark"?"text-light":"text-muted"}`,style:{width:"18px",height:"18px"}})}),e.jsx($,{variant:"link",className:"position-absolute top-50 end-0 translate-middle-y border-0 text-decoration-none p-0 pe-3",onClick:()=>_(!C),type:"button",children:e.jsx("i",{"data-feather":C?"eye-off":"eye",className:M==="dark"?"text-light":"text-muted",style:{width:"18px",height:"18px"}})})]}),o.password_confirmation&&e.jsxs(b.Control.Feedback,{type:"invalid",className:"d-block",children:[e.jsx("i",{"data-feather":"x-circle",className:"me-1",style:{width:"14px",height:"14px"}}),o.password_confirmation]})]})})]}),e.jsx("div",{className:"mt-4 p-3 rounded-3 bg-info bg-opacity-10",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{"data-feather":"info",className:"text-info me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("small",{className:"fw-semibold text-info",children:"Conseils pour un mot de passe sécurisé :"}),e.jsxs("ul",{className:`small mb-0 mt-1 ${M==="dark"?"text-light":"text-muted"}`,children:[e.jsx("li",{children:"Au moins 8 caractères"}),e.jsx("li",{children:"Majuscules et minuscules"}),e.jsx("li",{children:"Au moins un chiffre"}),e.jsx("li",{children:"Différent de vos anciens mots de passe"})]})]})]})}),e.jsx($,{type:"submit",variant:"success",disabled:d||!n.password||!n.password_confirmation,className:"w-100 py-3 fw-semibold text-white border-0 mt-4 position-relative",style:{background:"linear-gradient(135deg, #28a745 0%, #20c997 100%)",boxShadow:"0 4px 15px rgba(40, 167, 69, 0.3)"},children:d?e.jsxs(e.Fragment,{children:[e.jsx(tt,{animation:"border",size:"sm",className:"me-2"}),"Réinitialisation..."]}):e.jsx(e.Fragment,{children:"Confirmer le nouveau mot de passe"})})]}),l&&e.jsx("div",{className:"text-center mt-4",children:e.jsxs(xe,{to:"/forgot-password",className:"btn btn-outline-warning w-100 py-3 fw-semibold",children:[e.jsx("i",{"data-feather":"refresh-cw",className:"me-2",style:{width:"18px",height:"18px"}}),"Demander un nouveau lien"]})}),e.jsxs("div",{className:"text-center my-4",children:[e.jsx("hr",{className:M==="dark"?"border-secondary":""}),e.jsx("span",{className:`px-3 small ${M==="dark"?"bg-dark text-light":"bg-white text-muted"}`,children:"Vous vous souvenez de votre mot de passe ?"})]}),e.jsx("div",{className:"text-center",children:e.jsxs(xe,{to:"/login",className:"btn btn-outline-primary w-100 py-3 fw-semibold",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2",style:{width:"18px",height:"18px"}}),"Retour à la connexion"]})})]}),e.jsx(w.Footer,{className:`text-center py-3 border-0 ${M==="dark"?"bg-dark":"bg-light"}`,children:e.jsxs(pe,{className:"g-2",children:[e.jsx(T,{children:e.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"shield-check",className:"text-success me-2",style:{width:"16px",height:"16px"}}),e.jsx("small",{className:`fw-semibold ${M==="dark"?"text-light":"text-muted"}`,children:"Réinitialisation sécurisée"})]})}),e.jsx(T,{children:e.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"clock",className:"text-info me-2",style:{width:"16px",height:"16px"}}),e.jsx("small",{className:`fw-semibold ${M==="dark"?"text-light":"text-muted"}`,children:"Lien à usage unique"})]})})]})})]}),e.jsx("div",{className:`text-center mt-4 ${M==="dark"?"text-light":"text-muted"}`,children:e.jsxs("small",{children:[e.jsx("i",{"data-feather":"info",className:"me-1",style:{width:"12px",height:"12px"}}),"Une fois votre mot de passe réinitialisé, ce lien ne sera plus valide."]})}),e.jsxs(pe,{className:"mt-4 g-3",children:[e.jsx(T,{md:4,children:e.jsxs("div",{className:"text-center p-3 rounded-3 h-100 bg-success bg-opacity-10",children:[e.jsx("i",{"data-feather":"key",className:"text-success mb-2",style:{width:"32px",height:"32px"}}),e.jsx("div",{className:"small fw-semibold text-success mb-1",children:"Nouveau mot de passe"}),e.jsx("div",{className:`small ${M==="dark"?"text-light":"text-muted"}`,children:"Choisissez un mot de passe fort"})]})}),e.jsx(T,{md:4,children:e.jsxs("div",{className:"text-center p-3 rounded-3 h-100 bg-warning bg-opacity-10",children:[e.jsx("i",{"data-feather":"clock",className:"text-warning mb-2",style:{width:"32px",height:"32px"}}),e.jsx("div",{className:"small fw-semibold text-warning mb-1",children:"Lien temporaire"}),e.jsx("div",{className:`small ${M==="dark"?"text-light":"text-muted"}`,children:"Valide une seule fois"})]})}),e.jsx(T,{md:4,children:e.jsxs("div",{className:"text-center p-3 rounded-3 h-100 bg-info bg-opacity-10",children:[e.jsx("i",{"data-feather":"shield",className:"text-info mb-2",style:{width:"32px",height:"32px"}}),e.jsx("div",{className:"small fw-semibold text-info mb-1",children:"Sécurité renforcée"}),e.jsx("div",{className:`small ${M==="dark"?"text-light":"text-muted"}`,children:"Processus chiffré"})]})})]})]})})})})};function pL(s){var t,a,r="";if(typeof s=="string"||typeof s=="number")r+=s;else if(typeof s=="object")if(Array.isArray(s)){var n=s.length;for(t=0;t<n;t++)s[t]&&(a=pL(s[t]))&&(r&&(r+=" "),r+=a)}else for(a in s)s[a]&&(r&&(r+=" "),r+=a);return r}function Kt(){for(var s,t,a=0,r="",n=arguments.length;a<n;a++)(s=arguments[a])&&(t=pL(s))&&(r&&(r+=" "),r+=t);return r}var vw={},bw={},gM;function nee(){return gM||(gM=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});function t(a){return a==="__proto__"}s.isUnsafeProperty=t})(bw)),bw}var Nw={},yM;function gL(){return yM||(yM=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});function t(a){switch(typeof a){case"number":case"symbol":return!1;case"string":return a.includes(".")||a.includes("[")||a.includes("]")}}s.isDeepKey=t})(Nw)),Nw}var ww={},jM;function yL(){return jM||(jM=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="string"||typeof a=="symbol"?a:Object.is(a?.valueOf?.(),-0)?"-0":String(a)}s.toKey=t})(ww)),ww}var kw={},vM;function CC(){return vM||(vM=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});function t(a){const r=[],n=a.length;if(n===0)return r;let i=0,l="",c="",o=!1;for(a.charCodeAt(0)===46&&(r.push(""),i++);i<n;){const u=a[i];c?u==="\\"&&i+1<n?(i++,l+=a[i]):u===c?c="":l+=u:o?u==='"'||u==="'"?c=u:u==="]"?(o=!1,r.push(l),l=""):l+=u:u==="["?(o=!0,l&&(r.push(l),l="")):u==="."?l&&(r.push(l),l=""):l+=u,i++}return l&&r.push(l),r}s.toPath=t})(kw)),kw}var bM;function EC(){return bM||(bM=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=nee(),a=gL(),r=yL(),n=CC();function i(c,o,u){if(c==null)return u;switch(typeof o){case"string":{if(t.isUnsafeProperty(o))return u;const d=c[o];return d===void 0?a.isDeepKey(o)?i(c,n.toPath(o),u):u:d}case"number":case"symbol":{typeof o=="number"&&(o=r.toKey(o));const d=c[o];return d===void 0?u:d}default:{if(Array.isArray(o))return l(c,o,u);if(Object.is(o?.valueOf(),-0)?o="-0":o=String(o),t.isUnsafeProperty(o))return u;const d=c[o];return d===void 0?u:d}}}function l(c,o,u){if(o.length===0)return u;let d=c;for(let f=0;f<o.length;f++){if(d==null||t.isUnsafeProperty(o[f]))return u;d=d[o[f]]}return d===void 0?u:d}s.get=i})(vw)),vw}var Sw,NM;function iee(){return NM||(NM=1,Sw=EC().get),Sw}var lee=iee();const Nd=Va(lee);var _w={exports:{}},Ds={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wM;function cee(){if(wM)return Ds;wM=1;var s=typeof Symbol=="function"&&Symbol.for,t=s?Symbol.for("react.element"):60103,a=s?Symbol.for("react.portal"):60106,r=s?Symbol.for("react.fragment"):60107,n=s?Symbol.for("react.strict_mode"):60108,i=s?Symbol.for("react.profiler"):60114,l=s?Symbol.for("react.provider"):60109,c=s?Symbol.for("react.context"):60110,o=s?Symbol.for("react.async_mode"):60111,u=s?Symbol.for("react.concurrent_mode"):60111,d=s?Symbol.for("react.forward_ref"):60112,f=s?Symbol.for("react.suspense"):60113,p=s?Symbol.for("react.suspense_list"):60120,j=s?Symbol.for("react.memo"):60115,y=s?Symbol.for("react.lazy"):60116,k=s?Symbol.for("react.block"):60121,v=s?Symbol.for("react.fundamental"):60117,S=s?Symbol.for("react.responder"):60118,C=s?Symbol.for("react.scope"):60119;function _(D){if(typeof D=="object"&&D!==null){var M=D.$$typeof;switch(M){case t:switch(D=D.type,D){case o:case u:case r:case i:case n:case f:return D;default:switch(D=D&&D.$$typeof,D){case c:case d:case y:case j:case l:return D;default:return M}}case a:return M}}}function A(D){return _(D)===u}return Ds.AsyncMode=o,Ds.ConcurrentMode=u,Ds.ContextConsumer=c,Ds.ContextProvider=l,Ds.Element=t,Ds.ForwardRef=d,Ds.Fragment=r,Ds.Lazy=y,Ds.Memo=j,Ds.Portal=a,Ds.Profiler=i,Ds.StrictMode=n,Ds.Suspense=f,Ds.isAsyncMode=function(D){return A(D)||_(D)===o},Ds.isConcurrentMode=A,Ds.isContextConsumer=function(D){return _(D)===c},Ds.isContextProvider=function(D){return _(D)===l},Ds.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===t},Ds.isForwardRef=function(D){return _(D)===d},Ds.isFragment=function(D){return _(D)===r},Ds.isLazy=function(D){return _(D)===y},Ds.isMemo=function(D){return _(D)===j},Ds.isPortal=function(D){return _(D)===a},Ds.isProfiler=function(D){return _(D)===i},Ds.isStrictMode=function(D){return _(D)===n},Ds.isSuspense=function(D){return _(D)===f},Ds.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===r||D===u||D===i||D===n||D===f||D===p||typeof D=="object"&&D!==null&&(D.$$typeof===y||D.$$typeof===j||D.$$typeof===l||D.$$typeof===c||D.$$typeof===d||D.$$typeof===v||D.$$typeof===S||D.$$typeof===C||D.$$typeof===k)},Ds.typeOf=_,Ds}var kM;function oee(){return kM||(kM=1,_w.exports=cee()),_w.exports}var dee=oee(),cr=s=>s===0?0:s>0?1:-1,Cn=s=>typeof s=="number"&&s!=+s,_h=s=>typeof s=="string"&&s.indexOf("%")===s.length-1,gt=s=>(typeof s=="number"||s instanceof Number)&&!Cn(s),Il=s=>gt(s)||typeof s=="string",hee=0,Dp=s=>{var t=++hee;return"".concat(s||"").concat(t)},an=function(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!gt(t)&&typeof t!="string")return r;var i;if(_h(t)){if(a==null)return r;var l=t.indexOf("%");i=a*parseFloat(t.slice(0,l))/100}else i=+t;return Cn(i)&&(i=r),n&&a!=null&&i>a&&(i=a),i},jL=s=>{if(!Array.isArray(s))return!1;for(var t=s.length,a={},r=0;r<t;r++)if(!a[s[r]])a[s[r]]=!0;else return!0;return!1},fm=(s,t)=>gt(s)&&gt(t)?a=>s+a*(t-s):()=>t;function Nr(s,t,a){return gt(s)&&gt(t)?s+a*(t-s):t}function vL(s,t,a){if(!(!s||!s.length))return s.find(r=>r&&(typeof t=="function"?t(r):Nd(r,t))===a)}var qs=s=>s===null||typeof s>"u",bg=s=>qs(s)?s:"".concat(s.charAt(0).toUpperCase()).concat(s.slice(1)),uee=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function AC(s){if(typeof s!="string")return!1;var t=uee;return t.includes(s)}var mee=["viewBox","children"],SM=["points","pathLength"],Cw={svg:mee,polygon:SM,polyline:SM},TC=(s,t)=>{if(!s||typeof s=="function"||typeof s=="boolean")return null;var a=s;if(x.isValidElement(s)&&(a=s.props),typeof a!="object"&&typeof a!="function")return null;var r={};return Object.keys(a).forEach(n=>{AC(n)&&(r[n]=(i=>a[n](a,i)))}),r},xee=(s,t,a)=>r=>(s(t,a,r),null),ox=(s,t,a)=>{if(s===null||typeof s!="object"&&typeof s!="function")return null;var r=null;return Object.keys(s).forEach(n=>{var i=s[n];AC(n)&&typeof i=="function"&&(r||(r={}),r[n]=xee(i,t,a))}),r},fee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function bL(s){if(typeof s!="string")return!1;var t=fee;return t.includes(s)}function Ya(s){var t=Object.entries(s).filter(a=>{var[r]=a;return bL(r)});return Object.fromEntries(t)}var _M=s=>typeof s=="string"?s:s?s.displayName||s.name||"Component":"",CM=null,Ew=null,NL=s=>{if(s===CM&&Array.isArray(Ew))return Ew;var t=[];return x.Children.forEach(s,a=>{qs(a)||(dee.isFragment(a)?t=t.concat(NL(a.props.children)):t.push(a))}),Ew=t,CM=s,t};function Ng(s,t){var a=[],r=[];return Array.isArray(t)?r=t.map(n=>_M(n)):r=[_M(t)],NL(s).forEach(n=>{var i=Nd(n,"type.displayName")||Nd(n,"type.name");r.indexOf(i)!==-1&&a.push(n)}),a}var _N=s=>s&&typeof s=="object"&&"clipDot"in s?!!s.clipDot:!0,pee=(s,t,a,r)=>{var n;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(n=r&&Cw?.[r])!==null&&n!==void 0?n:[],l=t.startsWith("data-"),c=typeof s!="function"&&(!!r&&i.includes(t)||bL(t)),o=!!a&&AC(t);return l||c||o},ns=(s,t,a)=>{if(!s||typeof s=="function"||typeof s=="boolean")return null;var r=s;if(x.isValidElement(s)&&(r=s.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{var l;pee((l=r)===null||l===void 0?void 0:l[i],i,t,a)&&(n[i]=r[i])}),n},gee=["children","width","height","viewBox","className","style","title","desc"];function mS(){return mS=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},mS.apply(null,arguments)}function yee(s,t){if(s==null)return{};var a,r,n=jee(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function jee(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var wL=x.forwardRef((s,t)=>{var{children:a,width:r,height:n,viewBox:i,className:l,style:c,title:o,desc:u}=s,d=yee(s,gee),f=i||{width:r,height:n,x:0,y:0},p=Kt("recharts-surface",l);return x.createElement("svg",mS({},ns(d,!0,"svg"),{className:p,width:r,height:n,style:c,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),x.createElement("title",null,o),x.createElement("desc",null,u),a)}),vee=["children","className"];function xS(){return xS=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},xS.apply(null,arguments)}function bee(s,t){if(s==null)return{};var a,r,n=Nee(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function Nee(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var Os=x.forwardRef((s,t)=>{var{children:a,className:r}=s,n=bee(s,vee),i=Kt("recharts-layer",r);return x.createElement("g",xS({className:i},ns(n,!0),{ref:t}),a)}),wee=x.createContext(null);function sa(s){return function(){return s}}const kL=Math.cos,Qv=Math.sin,Ki=Math.sqrt,Xv=Math.PI,CN=2*Xv,fS=Math.PI,pS=2*fS,ph=1e-6,kee=pS-ph;function SL(s){this._+=s[0];for(let t=1,a=s.length;t<a;++t)this._+=arguments[t]+s[t]}function See(s){let t=Math.floor(s);if(!(t>=0))throw new Error(`invalid digits: ${s}`);if(t>15)return SL;const a=10**t;return function(r){this._+=r[0];for(let n=1,i=r.length;n<i;++n)this._+=Math.round(arguments[n]*a)/a+r[n]}}class _ee{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?SL:See(t)}moveTo(t,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,a){this._append`L${this._x1=+t},${this._y1=+a}`}quadraticCurveTo(t,a,r,n){this._append`Q${+t},${+a},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(t,a,r,n,i,l){this._append`C${+t},${+a},${+r},${+n},${this._x1=+i},${this._y1=+l}`}arcTo(t,a,r,n,i){if(t=+t,a=+a,r=+r,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,c=this._y1,o=r-t,u=n-a,d=l-t,f=c-a,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=a}`;else if(p>ph)if(!(Math.abs(f*o-u*d)>ph)||!i)this._append`L${this._x1=t},${this._y1=a}`;else{let j=r-l,y=n-c,k=o*o+u*u,v=j*j+y*y,S=Math.sqrt(k),C=Math.sqrt(p),_=i*Math.tan((fS-Math.acos((k+p-v)/(2*S*C)))/2),A=_/C,D=_/S;Math.abs(A-1)>ph&&this._append`L${t+A*d},${a+A*f}`,this._append`A${i},${i},0,0,${+(f*j>d*y)},${this._x1=t+D*o},${this._y1=a+D*u}`}}arc(t,a,r,n,i,l){if(t=+t,a=+a,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(n),o=r*Math.sin(n),u=t+c,d=a+o,f=1^l,p=l?n-i:i-n;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ph||Math.abs(this._y1-d)>ph)&&this._append`L${u},${d}`,r&&(p<0&&(p=p%pS+pS),p>kee?this._append`A${r},${r},0,1,${f},${t-c},${a-o}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:p>ph&&this._append`A${r},${r},0,${+(p>=fS)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=a+r*Math.sin(i)}`)}rect(t,a,r,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}}function MC(s){let t=3;return s.digits=function(a){if(!arguments.length)return t;if(a==null)t=null;else{const r=Math.floor(a);if(!(r>=0))throw new RangeError(`invalid digits: ${a}`);t=r}return s},()=>new _ee(t)}function DC(s){return typeof s=="object"&&"length"in s?s:Array.from(s)}function _L(s){this._context=s}_L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(s,t){switch(s=+s,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(s,t):this._context.moveTo(s,t);break;case 1:this._point=2;default:this._context.lineTo(s,t);break}}};function EN(s){return new _L(s)}function CL(s){return s[0]}function EL(s){return s[1]}function AL(s,t){var a=sa(!0),r=null,n=EN,i=null,l=MC(c);s=typeof s=="function"?s:s===void 0?CL:sa(s),t=typeof t=="function"?t:t===void 0?EL:sa(t);function c(o){var u,d=(o=DC(o)).length,f,p=!1,j;for(r==null&&(i=n(j=l())),u=0;u<=d;++u)!(u<d&&a(f=o[u],u,o))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+s(f,u,o),+t(f,u,o));if(j)return i=null,j+""||null}return c.x=function(o){return arguments.length?(s=typeof o=="function"?o:sa(+o),c):s},c.y=function(o){return arguments.length?(t=typeof o=="function"?o:sa(+o),c):t},c.defined=function(o){return arguments.length?(a=typeof o=="function"?o:sa(!!o),c):a},c.curve=function(o){return arguments.length?(n=o,r!=null&&(i=n(r)),c):n},c.context=function(o){return arguments.length?(o==null?r=i=null:i=n(r=o),c):r},c}function Hj(s,t,a){var r=null,n=sa(!0),i=null,l=EN,c=null,o=MC(u);s=typeof s=="function"?s:s===void 0?CL:sa(+s),t=typeof t=="function"?t:sa(t===void 0?0:+t),a=typeof a=="function"?a:a===void 0?EL:sa(+a);function u(f){var p,j,y,k=(f=DC(f)).length,v,S=!1,C,_=new Array(k),A=new Array(k);for(i==null&&(c=l(C=o())),p=0;p<=k;++p){if(!(p<k&&n(v=f[p],p,f))===S)if(S=!S)j=p,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),y=p-1;y>=j;--y)c.point(_[y],A[y]);c.lineEnd(),c.areaEnd()}S&&(_[p]=+s(v,p,f),A[p]=+t(v,p,f),c.point(r?+r(v,p,f):_[p],a?+a(v,p,f):A[p]))}if(C)return c=null,C+""||null}function d(){return AL().defined(n).curve(l).context(i)}return u.x=function(f){return arguments.length?(s=typeof f=="function"?f:sa(+f),r=null,u):s},u.x0=function(f){return arguments.length?(s=typeof f=="function"?f:sa(+f),u):s},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:sa(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:sa(+f),a=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:sa(+f),u):t},u.y1=function(f){return arguments.length?(a=f==null?null:typeof f=="function"?f:sa(+f),u):a},u.lineX0=u.lineY0=function(){return d().x(s).y(t)},u.lineY1=function(){return d().x(s).y(a)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:sa(!!f),u):n},u.curve=function(f){return arguments.length?(l=f,i!=null&&(c=l(i)),u):l},u.context=function(f){return arguments.length?(f==null?i=c=null:c=l(i=f),u):i},u}class TL{constructor(t,a){this._context=t,this._x=a}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,a){switch(t=+t,a=+a,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,a):this._context.moveTo(t,a);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,a,t,a):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+a)/2,t,this._y0,t,a);break}}this._x0=t,this._y0=a}}function Cee(s){return new TL(s,!0)}function Eee(s){return new TL(s,!1)}const OC={draw(s,t){const a=Ki(t/Xv);s.moveTo(a,0),s.arc(0,0,a,0,CN)}},Aee={draw(s,t){const a=Ki(t/5)/2;s.moveTo(-3*a,-a),s.lineTo(-a,-a),s.lineTo(-a,-3*a),s.lineTo(a,-3*a),s.lineTo(a,-a),s.lineTo(3*a,-a),s.lineTo(3*a,a),s.lineTo(a,a),s.lineTo(a,3*a),s.lineTo(-a,3*a),s.lineTo(-a,a),s.lineTo(-3*a,a),s.closePath()}},ML=Ki(1/3),Tee=ML*2,Mee={draw(s,t){const a=Ki(t/Tee),r=a*ML;s.moveTo(0,-a),s.lineTo(r,0),s.lineTo(0,a),s.lineTo(-r,0),s.closePath()}},Dee={draw(s,t){const a=Ki(t),r=-a/2;s.rect(r,r,a,a)}},Oee=.8908130915292852,DL=Qv(Xv/10)/Qv(7*Xv/10),Ree=Qv(CN/10)*DL,$ee=-kL(CN/10)*DL,Pee={draw(s,t){const a=Ki(t*Oee),r=Ree*a,n=$ee*a;s.moveTo(0,-a),s.lineTo(r,n);for(let i=1;i<5;++i){const l=CN*i/5,c=kL(l),o=Qv(l);s.lineTo(o*a,-c*a),s.lineTo(c*r-o*n,o*r+c*n)}s.closePath()}},Aw=Ki(3),Iee={draw(s,t){const a=-Ki(t/(Aw*3));s.moveTo(0,a*2),s.lineTo(-Aw*a,-a),s.lineTo(Aw*a,-a),s.closePath()}},li=-.5,ci=Ki(3)/2,gS=1/Ki(12),Bee=(gS/2+1)*3,Lee={draw(s,t){const a=Ki(t/Bee),r=a/2,n=a*gS,i=r,l=a*gS+a,c=-i,o=l;s.moveTo(r,n),s.lineTo(i,l),s.lineTo(c,o),s.lineTo(li*r-ci*n,ci*r+li*n),s.lineTo(li*i-ci*l,ci*i+li*l),s.lineTo(li*c-ci*o,ci*c+li*o),s.lineTo(li*r+ci*n,li*n-ci*r),s.lineTo(li*i+ci*l,li*l-ci*i),s.lineTo(li*c+ci*o,li*o-ci*c),s.closePath()}};function Fee(s,t){let a=null,r=MC(n);s=typeof s=="function"?s:sa(s||OC),t=typeof t=="function"?t:sa(t===void 0?64:+t);function n(){let i;if(a||(a=i=r()),s.apply(this,arguments).draw(a,+t.apply(this,arguments)),i)return a=null,i+""||null}return n.type=function(i){return arguments.length?(s=typeof i=="function"?i:sa(i),n):s},n.size=function(i){return arguments.length?(t=typeof i=="function"?i:sa(+i),n):t},n.context=function(i){return arguments.length?(a=i??null,n):a},n}function Zv(){}function Jv(s,t,a){s._context.bezierCurveTo((2*s._x0+s._x1)/3,(2*s._y0+s._y1)/3,(s._x0+2*s._x1)/3,(s._y0+2*s._y1)/3,(s._x0+4*s._x1+t)/6,(s._y0+4*s._y1+a)/6)}function OL(s){this._context=s}OL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(s,t){switch(s=+s,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(s,t):this._context.moveTo(s,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jv(this,s,t);break}this._x0=this._x1,this._x1=s,this._y0=this._y1,this._y1=t}};function zee(s){return new OL(s)}function RL(s){this._context=s}RL.prototype={areaStart:Zv,areaEnd:Zv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(s,t){switch(s=+s,t=+t,this._point){case 0:this._point=1,this._x2=s,this._y2=t;break;case 1:this._point=2,this._x3=s,this._y3=t;break;case 2:this._point=3,this._x4=s,this._y4=t,this._context.moveTo((this._x0+4*this._x1+s)/6,(this._y0+4*this._y1+t)/6);break;default:Jv(this,s,t);break}this._x0=this._x1,this._x1=s,this._y0=this._y1,this._y1=t}};function Hee(s){return new RL(s)}function $L(s){this._context=s}$L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(s,t){switch(s=+s,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+s)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,r):this._context.moveTo(a,r);break;case 3:this._point=4;default:Jv(this,s,t);break}this._x0=this._x1,this._x1=s,this._y0=this._y1,this._y1=t}};function Uee(s){return new $L(s)}function PL(s){this._context=s}PL.prototype={areaStart:Zv,areaEnd:Zv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(s,t){s=+s,t=+t,this._point?this._context.lineTo(s,t):(this._point=1,this._context.moveTo(s,t))}};function qee(s){return new PL(s)}function EM(s){return s<0?-1:1}function AM(s,t,a){var r=s._x1-s._x0,n=t-s._x1,i=(s._y1-s._y0)/(r||n<0&&-0),l=(a-s._y1)/(n||r<0&&-0),c=(i*n+l*r)/(r+n);return(EM(i)+EM(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(c))||0}function TM(s,t){var a=s._x1-s._x0;return a?(3*(s._y1-s._y0)/a-t)/2:t}function Tw(s,t,a){var r=s._x0,n=s._y0,i=s._x1,l=s._y1,c=(i-r)/3;s._context.bezierCurveTo(r+c,n+c*t,i-c,l-c*a,i,l)}function eb(s){this._context=s}eb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tw(this,this._t0,TM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(s,t){var a=NaN;if(s=+s,t=+t,!(s===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(s,t):this._context.moveTo(s,t);break;case 1:this._point=2;break;case 2:this._point=3,Tw(this,TM(this,a=AM(this,s,t)),a);break;default:Tw(this,this._t0,a=AM(this,s,t));break}this._x0=this._x1,this._x1=s,this._y0=this._y1,this._y1=t,this._t0=a}}};function IL(s){this._context=new BL(s)}(IL.prototype=Object.create(eb.prototype)).point=function(s,t){eb.prototype.point.call(this,t,s)};function BL(s){this._context=s}BL.prototype={moveTo:function(s,t){this._context.moveTo(t,s)},closePath:function(){this._context.closePath()},lineTo:function(s,t){this._context.lineTo(t,s)},bezierCurveTo:function(s,t,a,r,n,i){this._context.bezierCurveTo(t,s,r,a,i,n)}};function Gee(s){return new eb(s)}function Vee(s){return new IL(s)}function LL(s){this._context=s}LL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var s=this._x,t=this._y,a=s.length;if(a)if(this._line?this._context.lineTo(s[0],t[0]):this._context.moveTo(s[0],t[0]),a===2)this._context.lineTo(s[1],t[1]);else for(var r=MM(s),n=MM(t),i=0,l=1;l<a;++i,++l)this._context.bezierCurveTo(r[0][i],n[0][i],r[1][i],n[1][i],s[l],t[l]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(s,t){this._x.push(+s),this._y.push(+t)}};function MM(s){var t,a=s.length-1,r,n=new Array(a),i=new Array(a),l=new Array(a);for(n[0]=0,i[0]=2,l[0]=s[0]+2*s[1],t=1;t<a-1;++t)n[t]=1,i[t]=4,l[t]=4*s[t]+2*s[t+1];for(n[a-1]=2,i[a-1]=7,l[a-1]=8*s[a-1]+s[a],t=1;t<a;++t)r=n[t]/i[t-1],i[t]-=r,l[t]-=r*l[t-1];for(n[a-1]=l[a-1]/i[a-1],t=a-2;t>=0;--t)n[t]=(l[t]-n[t+1])/i[t];for(i[a-1]=(s[a]+n[a-1])/2,t=0;t<a-1;++t)i[t]=2*s[t+1]-n[t+1];return[n,i]}function Wee(s){return new LL(s)}function AN(s,t){this._context=s,this._t=t}AN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(s,t){switch(s=+s,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(s,t):this._context.moveTo(s,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(s,t);else{var a=this._x*(1-this._t)+s*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}break}}this._x=s,this._y=t}};function Yee(s){return new AN(s,.5)}function Kee(s){return new AN(s,0)}function Qee(s){return new AN(s,1)}function Rm(s,t){if((l=s.length)>1)for(var a=1,r,n,i=s[t[0]],l,c=i.length;a<l;++a)for(n=i,i=s[t[a]],r=0;r<c;++r)i[r][1]+=i[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}function yS(s){for(var t=s.length,a=new Array(t);--t>=0;)a[t]=t;return a}function Xee(s,t){return s[t]}function Zee(s){const t=[];return t.key=s,t}function Jee(){var s=sa([]),t=yS,a=Rm,r=Xee;function n(i){var l=Array.from(s.apply(this,arguments),Zee),c,o=l.length,u=-1,d;for(const f of i)for(c=0,++u;c<o;++c)(l[c][u]=[0,+r(f,l[c].key,u,i)]).data=f;for(c=0,d=DC(t(l));c<o;++c)l[d[c]].index=c;return a(l,d),l}return n.keys=function(i){return arguments.length?(s=typeof i=="function"?i:sa(Array.from(i)),n):s},n.value=function(i){return arguments.length?(r=typeof i=="function"?i:sa(+i),n):r},n.order=function(i){return arguments.length?(t=i==null?yS:typeof i=="function"?i:sa(Array.from(i)),n):t},n.offset=function(i){return arguments.length?(a=i??Rm,n):a},n}function ete(s,t){if((r=s.length)>0){for(var a,r,n=0,i=s[0].length,l;n<i;++n){for(l=a=0;a<r;++a)l+=s[a][n][1]||0;if(l)for(a=0;a<r;++a)s[a][n][1]/=l}Rm(s,t)}}function tte(s,t){if((n=s.length)>0){for(var a=0,r=s[t[0]],n,i=r.length;a<i;++a){for(var l=0,c=0;l<n;++l)c+=s[l][a][1]||0;r[a][1]+=r[a][0]=-c/2}Rm(s,t)}}function ste(s,t){if(!(!((l=s.length)>0)||!((i=(n=s[t[0]]).length)>0))){for(var a=0,r=1,n,i,l;r<i;++r){for(var c=0,o=0,u=0;c<l;++c){for(var d=s[t[c]],f=d[r][1]||0,p=d[r-1][1]||0,j=(f-p)/2,y=0;y<c;++y){var k=s[t[y]],v=k[r][1]||0,S=k[r-1][1]||0;j+=v-S}o+=f,u+=j*f}n[r-1][1]+=n[r-1][0]=a,o&&(a-=u/o)}n[r-1][1]+=n[r-1][0]=a,Rm(s,t)}}var ate=["type","size","sizeType"];function jS(){return jS=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},jS.apply(null,arguments)}function DM(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function OM(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?DM(Object(a),!0).forEach(function(r){rte(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):DM(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function rte(s,t,a){return(t=nte(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function nte(s){var t=ite(s,"string");return typeof t=="symbol"?t:t+""}function ite(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function lte(s,t){if(s==null)return{};var a,r,n=cte(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function cte(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var FL={symbolCircle:OC,symbolCross:Aee,symbolDiamond:Mee,symbolSquare:Dee,symbolStar:Pee,symbolTriangle:Iee,symbolWye:Lee},ote=Math.PI/180,dte=s=>{var t="symbol".concat(bg(s));return FL[t]||OC},hte=(s,t,a)=>{if(t==="area")return s;switch(a){case"cross":return 5*s*s/9;case"diamond":return .5*s*s/Math.sqrt(3);case"square":return s*s;case"star":{var r=18*ote;return 1.25*s*s*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*s*s/4;case"wye":return(21-10*Math.sqrt(3))*s*s/8;default:return Math.PI*s*s/4}},ute=(s,t)=>{FL["symbol".concat(bg(s))]=t},zL=s=>{var{type:t="circle",size:a=64,sizeType:r="area"}=s,n=lte(s,ate),i=OM(OM({},n),{},{type:t,size:a,sizeType:r}),l=()=>{var f=dte(t),p=Fee().type(f).size(hte(a,r,t));return p()},{className:c,cx:o,cy:u}=i,d=ns(i,!0);return o===+o&&u===+u&&a===+a?x.createElement("path",jS({},d,{className:Kt("recharts-symbols",c),transform:"translate(".concat(o,", ").concat(u,")"),d:l()})):null};zL.registerSymbol=ute;var Mw={},Dw={},RM;function mte(){return RM||(RM=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});function t(a,r){const n=new Map;for(let i=0;i<a.length;i++){const l=a[i],c=r(l);n.has(c)||n.set(c,l)}return Array.from(n.values())}s.uniqBy=t})(Dw)),Dw}var Ow={},$M;function TN(){return $M||($M=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});function t(a){return a}s.identity=t})(Ow)),Ow}var Rw={},$w={},Pw={},PM;function xte(){return PM||(PM=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});function t(a){return Number.isSafeInteger(a)&&a>=0}s.isLength=t})(Pw)),Pw}var IM;function RC(){return IM||(IM=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=xte();function a(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}s.isArrayLike=a})($w)),$w}var Iw={},BM;function fte(){return BM||(BM=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="object"&&a!==null}s.isObjectLike=t})(Iw)),Iw}var LM;function pte(){return LM||(LM=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=RC(),a=fte();function r(n){return a.isObjectLike(n)&&t.isArrayLike(n)}s.isArrayLikeObject=r})(Rw)),Rw}var Bw={},Lw={},FM;function gte(){return FM||(FM=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=EC();function a(r){return function(n){return t.get(n,r)}}s.property=a})(Lw)),Lw}var Fw={},zw={},Hw={},Uw={},zM;function HL(){return zM||(zM=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});function t(a){return a!==null&&(typeof a=="object"||typeof a=="function")}s.isObject=t})(Uw)),Uw}var qw={},HM;function UL(){return HM||(HM=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});function t(a){return a==null||typeof a!="object"&&typeof a!="function"}s.isPrimitive=t})(qw)),qw}var Gw={},UM;function $C(){return UM||(UM=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});function t(a,r){return a===r||Number.isNaN(a)&&Number.isNaN(r)}s.eq=t})(Gw)),Gw}var qM;function yte(){return qM||(qM=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=PC(),a=HL(),r=UL(),n=$C();function i(f,p,j){return typeof j!="function"?t.isMatch(f,p):l(f,p,function y(k,v,S,C,_,A){const D=j(k,v,S,C,_,A);return D!==void 0?!!D:l(k,v,y,A)},new Map)}function l(f,p,j,y){if(p===f)return!0;switch(typeof p){case"object":return c(f,p,j,y);case"function":return Object.keys(p).length>0?l(f,{...p},j,y):n.eq(f,p);default:return a.isObject(f)?typeof p=="string"?p==="":!0:n.eq(f,p)}}function c(f,p,j,y){if(p==null)return!0;if(Array.isArray(p))return u(f,p,j,y);if(p instanceof Map)return o(f,p,j,y);if(p instanceof Set)return d(f,p,j,y);const k=Object.keys(p);if(f==null)return k.length===0;if(k.length===0)return!0;if(y&&y.has(p))return y.get(p)===f;y&&y.set(p,f);try{for(let v=0;v<k.length;v++){const S=k[v];if(!r.isPrimitive(f)&&!(S in f)||p[S]===void 0&&f[S]!==void 0||p[S]===null&&f[S]!==null||!j(f[S],p[S],S,f,p,y))return!1}return!0}finally{y&&y.delete(p)}}function o(f,p,j,y){if(p.size===0)return!0;if(!(f instanceof Map))return!1;for(const[k,v]of p.entries()){const S=f.get(k);if(j(S,v,k,f,p,y)===!1)return!1}return!0}function u(f,p,j,y){if(p.length===0)return!0;if(!Array.isArray(f))return!1;const k=new Set;for(let v=0;v<p.length;v++){const S=p[v];let C=!1;for(let _=0;_<f.length;_++){if(k.has(_))continue;const A=f[_];let D=!1;if(j(A,S,v,f,p,y)&&(D=!0),D){k.add(_),C=!0;break}}if(!C)return!1}return!0}function d(f,p,j,y){return p.size===0?!0:f instanceof Set?u([...f],[...p],j,y):!1}s.isMatchWith=i,s.isSetMatch=d})(Hw)),Hw}var GM;function PC(){return GM||(GM=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=yte();function a(r,n){return t.isMatchWith(r,n,()=>{})}s.isMatch=a})(zw)),zw}var Vw={},Ww={},Yw={},VM;function qL(){return VM||(VM=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});function t(a){return Object.getOwnPropertySymbols(a).filter(r=>Object.prototype.propertyIsEnumerable.call(a,r))}s.getSymbols=t})(Yw)),Yw}var Kw={},WM;function IC(){return WM||(WM=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});function t(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(a)}s.getTag=t})(Kw)),Kw}var Qw={},YM;function BC(){return YM||(YM=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",a="[object String]",r="[object Number]",n="[object Boolean]",i="[object Arguments]",l="[object Symbol]",c="[object Date]",o="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",p="[object ArrayBuffer]",j="[object Object]",y="[object Error]",k="[object DataView]",v="[object Uint8Array]",S="[object Uint8ClampedArray]",C="[object Uint16Array]",_="[object Uint32Array]",A="[object BigUint64Array]",D="[object Int8Array]",M="[object Int16Array]",L="[object Int32Array]",F="[object BigInt64Array]",Q="[object Float32Array]",I="[object Float64Array]";s.argumentsTag=i,s.arrayBufferTag=p,s.arrayTag=d,s.bigInt64ArrayTag=F,s.bigUint64ArrayTag=A,s.booleanTag=n,s.dataViewTag=k,s.dateTag=c,s.errorTag=y,s.float32ArrayTag=Q,s.float64ArrayTag=I,s.functionTag=f,s.int16ArrayTag=M,s.int32ArrayTag=L,s.int8ArrayTag=D,s.mapTag=o,s.numberTag=r,s.objectTag=j,s.regexpTag=t,s.setTag=u,s.stringTag=a,s.symbolTag=l,s.uint16ArrayTag=C,s.uint32ArrayTag=_,s.uint8ArrayTag=v,s.uint8ClampedArrayTag=S})(Qw)),Qw}var Xw={},KM;function jte(){return KM||(KM=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});function t(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}s.isTypedArray=t})(Xw)),Xw}var QM;function GL(){return QM||(QM=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=qL(),a=IC(),r=BC(),n=UL(),i=jte();function l(d,f){return c(d,void 0,d,new Map,f)}function c(d,f,p,j=new Map,y=void 0){const k=y?.(d,f,p,j);if(k!==void 0)return k;if(n.isPrimitive(d))return d;if(j.has(d))return j.get(d);if(Array.isArray(d)){const v=new Array(d.length);j.set(d,v);for(let S=0;S<d.length;S++)v[S]=c(d[S],S,p,j,y);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;j.set(d,v);for(const[S,C]of d)v.set(S,c(C,S,p,j,y));return v}if(d instanceof Set){const v=new Set;j.set(d,v);for(const S of d)v.add(c(S,void 0,p,j,y));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);j.set(d,v);for(let S=0;S<d.length;S++)v[S]=c(d[S],S,p,j,y);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return j.set(d,v),o(v,d,p,j,y),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return j.set(d,v),o(v,d,p,j,y),v}if(d instanceof Blob){const v=new Blob([d],{type:d.type});return j.set(d,v),o(v,d,p,j,y),v}if(d instanceof Error){const v=new d.constructor;return j.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,o(v,d,p,j,y),v}if(typeof d=="object"&&u(d)){const v=Object.create(Object.getPrototypeOf(d));return j.set(d,v),o(v,d,p,j,y),v}return d}function o(d,f,p=d,j,y){const k=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<k.length;v++){const S=k[v],C=Object.getOwnPropertyDescriptor(d,S);(C==null||C.writable)&&(d[S]=c(f[S],S,p,j,y))}}function u(d){switch(a.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}s.cloneDeepWith=l,s.cloneDeepWithImpl=c,s.copyProperties=o})(Ww)),Ww}var XM;function vte(){return XM||(XM=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=GL();function a(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}s.cloneDeep=a})(Vw)),Vw}var ZM;function bte(){return ZM||(ZM=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=PC(),a=vte();function r(n){return n=a.cloneDeep(n),i=>t.isMatch(i,n)}s.matches=r})(Fw)),Fw}var Zw={},Jw={},e2={},JM;function Nte(){return JM||(JM=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=GL(),a=BC();function r(n,i){return t.cloneDeepWith(n,(l,c,o,u)=>{const d=i?.(l,c,o,u);if(d!==void 0)return d;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case a.numberTag:case a.stringTag:case a.booleanTag:{const f=new n.constructor(n?.valueOf());return t.copyProperties(f,n),f}case a.argumentsTag:{const f={};return t.copyProperties(f,n),f.length=n.length,f[Symbol.iterator]=n[Symbol.iterator],f}default:return}})}s.cloneDeepWith=r})(e2)),e2}var eD;function wte(){return eD||(eD=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=Nte();function a(r){return t.cloneDeepWith(r)}s.cloneDeep=a})(Jw)),Jw}var t2={},s2={},tD;function VL(){return tD||(tD=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function a(r,n=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<n;case"symbol":return!1;case"string":return t.test(r)}}s.isIndex=a})(s2)),s2}var a2={},sD;function kte(){return sD||(sD=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=IC();function a(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}s.isArguments=a})(a2)),a2}var aD;function Ste(){return aD||(aD=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=gL(),a=VL(),r=kte(),n=CC();function i(l,c){let o;if(Array.isArray(c)?o=c:typeof c=="string"&&t.isDeepKey(c)&&l?.[c]==null?o=n.toPath(c):o=[c],o.length===0)return!1;let u=l;for(let d=0;d<o.length;d++){const f=o[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&a.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}s.has=i})(t2)),t2}var rD;function _te(){return rD||(rD=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=PC(),a=yL(),r=wte(),n=EC(),i=Ste();function l(c,o){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=a.toKey(c);break}}return o=r.cloneDeep(o),function(u){const d=n.get(u,c);return d===void 0?i.has(u,c):o===void 0?d===void 0:t.isMatch(d,o)}}s.matchesProperty=l})(Zw)),Zw}var nD;function LC(){return nD||(nD=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=TN(),a=gte(),r=bte(),n=_te();function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?n.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return a.property(l)}}s.iteratee=i})(Bw)),Bw}var iD;function Cte(){return iD||(iD=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=mte(),a=TN(),r=pte(),n=LC();function i(l,c=a.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),n.iteratee(c)):[]}s.uniqBy=i})(Mw)),Mw}var r2,lD;function Ete(){return lD||(lD=1,r2=Cte().uniqBy),r2}var Ate=Ete();const cD=Va(Ate);function Tte(s,t,a){return t===!0?cD(s,a):typeof t=="function"?cD(s,t):s}var n2={exports:{}},i2={},l2={exports:{}},c2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oD;function Mte(){if(oD)return c2;oD=1;var s=Zm();function t(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var a=typeof Object.is=="function"?Object.is:t,r=s.useState,n=s.useEffect,i=s.useLayoutEffect,l=s.useDebugValue;function c(f,p){var j=p(),y=r({inst:{value:j,getSnapshot:p}}),k=y[0].inst,v=y[1];return i(function(){k.value=j,k.getSnapshot=p,o(k)&&v({inst:k})},[f,j,p]),n(function(){return o(k)&&v({inst:k}),f(function(){o(k)&&v({inst:k})})},[f]),l(j),j}function o(f){var p=f.getSnapshot;f=f.value;try{var j=p();return!a(f,j)}catch{return!0}}function u(f,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:c;return c2.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:d,c2}var dD;function Dte(){return dD||(dD=1,l2.exports=Mte()),l2.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hD;function Ote(){if(hD)return i2;hD=1;var s=Zm(),t=Dte();function a(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:a,n=t.useSyncExternalStore,i=s.useRef,l=s.useEffect,c=s.useMemo,o=s.useDebugValue;return i2.useSyncExternalStoreWithSelector=function(u,d,f,p,j){var y=i(null);if(y.current===null){var k={hasValue:!1,value:null};y.current=k}else k=y.current;y=c(function(){function S(M){if(!C){if(C=!0,_=M,M=p(M),j!==void 0&&k.hasValue){var L=k.value;if(j(L,M))return A=L}return A=M}if(L=A,r(_,M))return L;var F=p(M);return j!==void 0&&j(L,F)?(_=M,L):(_=M,A=F)}var C=!1,_,A,D=f===void 0?null:f;return[function(){return S(d())},D===null?void 0:function(){return S(D())}]},[d,f,p,j]);var v=n(u,y[0],y[1]);return l(function(){k.hasValue=!0,k.value=v},[v]),o(v),v},i2}var uD;function Rte(){return uD||(uD=1,n2.exports=Ote()),n2.exports}var $te=Rte(),FC=x.createContext(null),Pte=s=>s,ya=()=>{var s=x.useContext(FC);return s?s.store.dispatch:Pte},Mv=()=>{},Ite=()=>Mv,Bte=(s,t)=>s===t;function jt(s){var t=x.useContext(FC);return $te.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Ite,t?t.store.getState:Mv,t?t.store.getState:Mv,t?s:Mv,Bte)}function Lte(s,t=`expected a function, instead received ${typeof s}`){if(typeof s!="function")throw new TypeError(t)}function Fte(s,t=`expected an object, instead received ${typeof s}`){if(typeof s!="object")throw new TypeError(t)}function zte(s,t="expected all items to be functions, instead received the following types: "){if(!s.every(a=>typeof a=="function")){const a=s.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${a}]`)}}var mD=s=>Array.isArray(s)?s:[s];function Hte(s){const t=Array.isArray(s[0])?s[0]:s;return zte(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Ute(s,t){const a=[],{length:r}=s;for(let n=0;n<r;n++)a.push(s[n].apply(null,t));return a}var qte=class{constructor(s){this.value=s}deref(){return this.value}},Gte=typeof WeakRef<"u"?WeakRef:qte,Vte=0,xD=1;function Uj(){return{s:Vte,v:void 0,o:null,p:null}}function WL(s,t={}){let a=Uj();const{resultEqualityCheck:r}=t;let n,i=0;function l(){let c=a;const{length:o}=arguments;for(let f=0,p=o;f<p;f++){const j=arguments[f];if(typeof j=="function"||typeof j=="object"&&j!==null){let y=c.o;y===null&&(c.o=y=new WeakMap);const k=y.get(j);k===void 0?(c=Uj(),y.set(j,c)):c=k}else{let y=c.p;y===null&&(c.p=y=new Map);const k=y.get(j);k===void 0?(c=Uj(),y.set(j,c)):c=k}}const u=c;let d;if(c.s===xD)d=c.v;else if(d=s.apply(null,arguments),i++,r){const f=n?.deref?.()??n;f!=null&&r(f,d)&&(d=f,i!==0&&i--),n=typeof d=="object"&&d!==null||typeof d=="function"?new Gte(d):d}return u.s=xD,u.v=d,d}return l.clearCache=()=>{a=Uj(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function Wte(s,...t){const a=typeof s=="function"?{memoize:s,memoizeOptions:t}:s,r=(...n)=>{let i=0,l=0,c,o={},u=n.pop();typeof u=="object"&&(o=u,u=n.pop()),Lte(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...a,...o},{memoize:f,memoizeOptions:p=[],argsMemoize:j=WL,argsMemoizeOptions:y=[]}=d,k=mD(p),v=mD(y),S=Hte(n),C=f(function(){return i++,u.apply(null,arguments)},...k),_=j(function(){l++;const D=Ute(S,arguments);return c=C.apply(null,D),c},...v);return Object.assign(_,{resultFunc:u,memoizedResultFunc:C,dependencies:S,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:j})};return Object.assign(r,{withTypes:()=>r}),r}var Pe=Wte(WL),Yte=Object.assign((s,t=Pe)=>{Fte(s,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof s}`);const a=Object.keys(s),r=a.map(i=>s[i]);return t(r,(...i)=>i.reduce((l,c,o)=>(l[a[o]]=c,l),{}))},{withTypes:()=>Yte}),o2={},d2={},h2={},fD;function Kte(){return fD||(fD=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const a=(r,n,i)=>{if(r!==n){const l=t(r),c=t(n);if(l===c&&l===0){if(r<n)return i==="desc"?1:-1;if(r>n)return i==="desc"?-1:1}return i==="desc"?c-l:l-c}return 0};s.compareValues=a})(h2)),h2}var u2={},m2={},pD;function YL(){return pD||(pD=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"||a instanceof Symbol}s.isSymbol=t})(m2)),m2}var gD;function Qte(){return gD||(gD=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=YL(),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function n(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(r.test(i)||!a.test(i))||l!=null&&Object.hasOwn(l,i)}s.isKey=n})(u2)),u2}var yD;function Xte(){return yD||(yD=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=Kte(),a=Qte(),r=CC();function n(i,l,c,o){if(i==null)return[];c=o?void 0:c,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(j=>String(j));const u=(j,y)=>{let k=j;for(let v=0;v<y.length&&k!=null;++v)k=k[y[v]];return k},d=(j,y)=>y==null||j==null?y:typeof j=="object"&&"key"in j?Object.hasOwn(y,j.key)?y[j.key]:u(y,j.path):typeof j=="function"?j(y):Array.isArray(j)?u(y,j):typeof y=="object"?y[j]:y,f=l.map(j=>(Array.isArray(j)&&j.length===1&&(j=j[0]),j==null||typeof j=="function"||Array.isArray(j)||a.isKey(j)?j:{key:j,path:r.toPath(j)}));return i.map(j=>({original:j,criteria:f.map(y=>d(y,j))})).slice().sort((j,y)=>{for(let k=0;k<f.length;k++){const v=t.compareValues(j.criteria[k],y.criteria[k],c[k]);if(v!==0)return v}return 0}).map(j=>j.original)}s.orderBy=n})(d2)),d2}var x2={},jD;function Zte(){return jD||(jD=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});function t(a,r=1){const n=[],i=Math.floor(r),l=(c,o)=>{for(let u=0;u<c.length;u++){const d=c[u];Array.isArray(d)&&o<i?l(d,o+1):n.push(d)}};return l(a,0),n}s.flatten=t})(x2)),x2}var f2={},vD;function KL(){return vD||(vD=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=VL(),a=RC(),r=HL(),n=$C();function i(l,c,o){return r.isObject(o)&&(typeof c=="number"&&a.isArrayLike(o)&&t.isIndex(c)&&c<o.length||typeof c=="string"&&c in o)?n.eq(o[c],l):!1}s.isIterateeCall=i})(f2)),f2}var bD;function Jte(){return bD||(bD=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=Xte(),a=Zte(),r=KL();function n(i,...l){const c=l.length;return c>1&&r.isIterateeCall(i,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,a.flatten(l),["asc"])}s.sortBy=n})(o2)),o2}var p2,ND;function ese(){return ND||(ND=1,p2=Jte().sortBy),p2}var tse=ese();const MN=Va(tse);var QL=s=>s.legend.settings,sse=s=>s.legend.size,ase=s=>s.legend.payload;Pe([ase,QL],(s,t)=>{var{itemSorter:a}=t,r=s.flat(1);return a?MN(r,a):r});var qj=1;function rse(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,a]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(n=>{if(n!=null){var i=n.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>qj||Math.abs(l.left-t.left)>qj||Math.abs(l.top-t.top)>qj||Math.abs(l.width-t.width)>qj)&&a({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...s]);return[t,r]}function vr(s){return`Minified Redux error #${s}; visit https://redux.js.org/Errors?code=${s} for the full message or use the non-minified dev environment for full errors. `}var nse=typeof Symbol=="function"&&Symbol.observable||"@@observable",wD=nse,g2=()=>Math.random().toString(36).substring(7).split("").join("."),ise={INIT:`@@redux/INIT${g2()}`,REPLACE:`@@redux/REPLACE${g2()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${g2()}`},tb=ise;function zC(s){if(typeof s!="object"||s===null)return!1;let t=s;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(s)===t||Object.getPrototypeOf(s)===null}function XL(s,t,a){if(typeof s!="function")throw new Error(vr(2));if(typeof t=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(vr(0));if(typeof t=="function"&&typeof a>"u"&&(a=t,t=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(vr(1));return a(XL)(s,t)}let r=s,n=t,i=new Map,l=i,c=0,o=!1;function u(){l===i&&(l=new Map,i.forEach((v,S)=>{l.set(S,v)}))}function d(){if(o)throw new Error(vr(3));return n}function f(v){if(typeof v!="function")throw new Error(vr(4));if(o)throw new Error(vr(5));let S=!0;u();const C=c++;return l.set(C,v),function(){if(S){if(o)throw new Error(vr(6));S=!1,u(),l.delete(C),i=null}}}function p(v){if(!zC(v))throw new Error(vr(7));if(typeof v.type>"u")throw new Error(vr(8));if(typeof v.type!="string")throw new Error(vr(17));if(o)throw new Error(vr(9));try{o=!0,n=r(n,v)}finally{o=!1}return(i=l).forEach(C=>{C()}),v}function j(v){if(typeof v!="function")throw new Error(vr(10));r=v,p({type:tb.REPLACE})}function y(){const v=f;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(vr(11));function C(){const A=S;A.next&&A.next(d())}return C(),{unsubscribe:v(C)}},[wD](){return this}}}return p({type:tb.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:j,[wD]:y}}function lse(s){Object.keys(s).forEach(t=>{const a=s[t];if(typeof a(void 0,{type:tb.INIT})>"u")throw new Error(vr(12));if(typeof a(void 0,{type:tb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(vr(13))})}function ZL(s){const t=Object.keys(s),a={};for(let i=0;i<t.length;i++){const l=t[i];typeof s[l]=="function"&&(a[l]=s[l])}const r=Object.keys(a);let n;try{lse(a)}catch(i){n=i}return function(l={},c){if(n)throw n;let o=!1;const u={};for(let d=0;d<r.length;d++){const f=r[d],p=a[f],j=l[f],y=p(j,c);if(typeof y>"u")throw c&&c.type,new Error(vr(14));u[f]=y,o=o||y!==j}return o=o||r.length!==Object.keys(l).length,o?u:l}}function sb(...s){return s.length===0?t=>t:s.length===1?s[0]:s.reduce((t,a)=>(...r)=>t(a(...r)))}function cse(...s){return t=>(a,r)=>{const n=t(a,r);let i=()=>{throw new Error(vr(15))};const l={getState:n.getState,dispatch:(o,...u)=>i(o,...u)},c=s.map(o=>o(l));return i=sb(...c)(n.dispatch),{...n,dispatch:i}}}function JL(s){return zC(s)&&"type"in s&&typeof s.type=="string"}var eF=Symbol.for("immer-nothing"),kD=Symbol.for("immer-draftable"),Gn=Symbol.for("immer-state");function Bi(s,...t){throw new Error(`[Immer] minified error nr: ${s}. Full error at: https://bit.ly/3cXEKWf`)}var $m=Object.getPrototypeOf;function Vh(s){return!!s&&!!s[Gn]}function Uc(s){return s?tF(s)||Array.isArray(s)||!!s[kD]||!!s.constructor?.[kD]||ON(s)||RN(s):!1}var ose=Object.prototype.constructor.toString();function tF(s){if(!s||typeof s!="object")return!1;const t=$m(s);if(t===null)return!0;const a=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return a===Object?!0:typeof a=="function"&&Function.toString.call(a)===ose}function ab(s,t){DN(s)===0?Reflect.ownKeys(s).forEach(a=>{t(a,s[a],s)}):s.forEach((a,r)=>t(r,a,s))}function DN(s){const t=s[Gn];return t?t.type_:Array.isArray(s)?1:ON(s)?2:RN(s)?3:0}function vS(s,t){return DN(s)===2?s.has(t):Object.prototype.hasOwnProperty.call(s,t)}function sF(s,t,a){const r=DN(s);r===2?s.set(t,a):r===3?s.add(a):s[t]=a}function dse(s,t){return s===t?s!==0||1/s===1/t:s!==s&&t!==t}function ON(s){return s instanceof Map}function RN(s){return s instanceof Set}function gh(s){return s.copy_||s.base_}function bS(s,t){if(ON(s))return new Map(s);if(RN(s))return new Set(s);if(Array.isArray(s))return Array.prototype.slice.call(s);const a=tF(s);if(t===!0||t==="class_only"&&!a){const r=Object.getOwnPropertyDescriptors(s);delete r[Gn];let n=Reflect.ownKeys(r);for(let i=0;i<n.length;i++){const l=n[i],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:s[l]})}return Object.create($m(s),r)}else{const r=$m(s);if(r!==null&&a)return{...s};const n=Object.create(r);return Object.assign(n,s)}}function HC(s,t=!1){return $N(s)||Vh(s)||!Uc(s)||(DN(s)>1&&(s.set=s.add=s.clear=s.delete=hse),Object.freeze(s),t&&Object.entries(s).forEach(([a,r])=>HC(r,!0))),s}function hse(){Bi(2)}function $N(s){return Object.isFrozen(s)}var use={};function Wh(s){const t=use[s];return t||Bi(0,s),t}var Op;function aF(){return Op}function mse(s,t){return{drafts_:[],parent_:s,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function SD(s,t){t&&(Wh("Patches"),s.patches_=[],s.inversePatches_=[],s.patchListener_=t)}function NS(s){wS(s),s.drafts_.forEach(xse),s.drafts_=null}function wS(s){s===Op&&(Op=s.parent_)}function _D(s){return Op=mse(Op,s)}function xse(s){const t=s[Gn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function CD(s,t){t.unfinalizedDrafts_=t.drafts_.length;const a=t.drafts_[0];return s!==void 0&&s!==a?(a[Gn].modified_&&(NS(t),Bi(4)),Uc(s)&&(s=rb(t,s),t.parent_||nb(t,s)),t.patches_&&Wh("Patches").generateReplacementPatches_(a[Gn].base_,s,t.patches_,t.inversePatches_)):s=rb(t,a,[]),NS(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),s!==eF?s:void 0}function rb(s,t,a){if($N(t))return t;const r=t[Gn];if(!r)return ab(t,(n,i)=>ED(s,r,t,n,i,a)),t;if(r.scope_!==s)return t;if(!r.modified_)return nb(s,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const n=r.copy_;let i=n,l=!1;r.type_===3&&(i=new Set(n),n.clear(),l=!0),ab(i,(c,o)=>ED(s,r,n,c,o,a,l)),nb(s,n,!1),a&&s.patches_&&Wh("Patches").generatePatches_(r,a,s.patches_,s.inversePatches_)}return r.copy_}function ED(s,t,a,r,n,i,l){if(Vh(n)){const c=i&&t&&t.type_!==3&&!vS(t.assigned_,r)?i.concat(r):void 0,o=rb(s,n,c);if(sF(a,r,o),Vh(o))s.canAutoFreeze_=!1;else return}else l&&a.add(n);if(Uc(n)&&!$N(n)){if(!s.immer_.autoFreeze_&&s.unfinalizedDrafts_<1)return;rb(s,n),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(a,r)&&nb(s,n)}}function nb(s,t,a=!1){!s.parent_&&s.immer_.autoFreeze_&&s.canAutoFreeze_&&HC(t,a)}function fse(s,t){const a=Array.isArray(s),r={type_:a?1:0,scope_:t?t.scope_:aF(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:s,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=r,i=UC;a&&(n=[r],i=Rp);const{revoke:l,proxy:c}=Proxy.revocable(n,i);return r.draft_=c,r.revoke_=l,c}var UC={get(s,t){if(t===Gn)return s;const a=gh(s);if(!vS(a,t))return pse(s,a,t);const r=a[t];return s.finalized_||!Uc(r)?r:r===y2(s.base_,t)?(j2(s),s.copy_[t]=SS(r,s)):r},has(s,t){return t in gh(s)},ownKeys(s){return Reflect.ownKeys(gh(s))},set(s,t,a){const r=rF(gh(s),t);if(r?.set)return r.set.call(s.draft_,a),!0;if(!s.modified_){const n=y2(gh(s),t),i=n?.[Gn];if(i&&i.base_===a)return s.copy_[t]=a,s.assigned_[t]=!1,!0;if(dse(a,n)&&(a!==void 0||vS(s.base_,t)))return!0;j2(s),kS(s)}return s.copy_[t]===a&&(a!==void 0||t in s.copy_)||Number.isNaN(a)&&Number.isNaN(s.copy_[t])||(s.copy_[t]=a,s.assigned_[t]=!0),!0},deleteProperty(s,t){return y2(s.base_,t)!==void 0||t in s.base_?(s.assigned_[t]=!1,j2(s),kS(s)):delete s.assigned_[t],s.copy_&&delete s.copy_[t],!0},getOwnPropertyDescriptor(s,t){const a=gh(s),r=Reflect.getOwnPropertyDescriptor(a,t);return r&&{writable:!0,configurable:s.type_!==1||t!=="length",enumerable:r.enumerable,value:a[t]}},defineProperty(){Bi(11)},getPrototypeOf(s){return $m(s.base_)},setPrototypeOf(){Bi(12)}},Rp={};ab(UC,(s,t)=>{Rp[s]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Rp.deleteProperty=function(s,t){return Rp.set.call(this,s,t,void 0)};Rp.set=function(s,t,a){return UC.set.call(this,s[0],t,a,s[0])};function y2(s,t){const a=s[Gn];return(a?gh(a):s)[t]}function pse(s,t,a){const r=rF(t,a);return r?"value"in r?r.value:r.get?.call(s.draft_):void 0}function rF(s,t){if(!(t in s))return;let a=$m(s);for(;a;){const r=Object.getOwnPropertyDescriptor(a,t);if(r)return r;a=$m(a)}}function kS(s){s.modified_||(s.modified_=!0,s.parent_&&kS(s.parent_))}function j2(s){s.copy_||(s.copy_=bS(s.base_,s.scope_.immer_.useStrictShallowCopy_))}var gse=class{constructor(s){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,a,r)=>{if(typeof t=="function"&&typeof a!="function"){const i=a;a=t;const l=this;return function(o=i,...u){return l.produce(o,d=>a.call(this,d,...u))}}typeof a!="function"&&Bi(6),r!==void 0&&typeof r!="function"&&Bi(7);let n;if(Uc(t)){const i=_D(this),l=SS(t,void 0);let c=!0;try{n=a(l),c=!1}finally{c?NS(i):wS(i)}return SD(i,r),CD(n,i)}else if(!t||typeof t!="object"){if(n=a(t),n===void 0&&(n=t),n===eF&&(n=void 0),this.autoFreeze_&&HC(n,!0),r){const i=[],l=[];Wh("Patches").generateReplacementPatches_(t,n,i,l),r(i,l)}return n}else Bi(1,t)},this.produceWithPatches=(t,a)=>{if(typeof t=="function")return(l,...c)=>this.produceWithPatches(l,o=>t(o,...c));let r,n;return[this.produce(t,a,(l,c)=>{r=l,n=c}),r,n]},typeof s?.autoFreeze=="boolean"&&this.setAutoFreeze(s.autoFreeze),typeof s?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(s.useStrictShallowCopy)}createDraft(s){Uc(s)||Bi(8),Vh(s)&&(s=Rc(s));const t=_D(this),a=SS(s,void 0);return a[Gn].isManual_=!0,wS(t),a}finishDraft(s,t){const a=s&&s[Gn];(!a||!a.isManual_)&&Bi(9);const{scope_:r}=a;return SD(r,t),CD(void 0,r)}setAutoFreeze(s){this.autoFreeze_=s}setUseStrictShallowCopy(s){this.useStrictShallowCopy_=s}applyPatches(s,t){let a;for(a=t.length-1;a>=0;a--){const n=t[a];if(n.path.length===0&&n.op==="replace"){s=n.value;break}}a>-1&&(t=t.slice(a+1));const r=Wh("Patches").applyPatches_;return Vh(s)?r(s,t):this.produce(s,n=>r(n,t))}};function SS(s,t){const a=ON(s)?Wh("MapSet").proxyMap_(s,t):RN(s)?Wh("MapSet").proxySet_(s,t):fse(s,t);return(t?t.scope_:aF()).drafts_.push(a),a}function Rc(s){return Vh(s)||Bi(10,s),nF(s)}function nF(s){if(!Uc(s)||$N(s))return s;const t=s[Gn];let a;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,a=bS(s,t.scope_.immer_.useStrictShallowCopy_)}else a=bS(s,!0);return ab(a,(r,n)=>{sF(a,r,nF(n))}),t&&(t.finalized_=!1),a}var Vn=new gse,iF=Vn.produce;Vn.produceWithPatches.bind(Vn);Vn.setAutoFreeze.bind(Vn);Vn.setUseStrictShallowCopy.bind(Vn);Vn.applyPatches.bind(Vn);Vn.createDraft.bind(Vn);Vn.finishDraft.bind(Vn);function lF(s){return({dispatch:a,getState:r})=>n=>i=>typeof i=="function"?i(a,r,s):n(i)}var yse=lF(),jse=lF,vse=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?sb:sb.apply(null,arguments)};function ji(s,t){function a(...r){if(t){let n=t(...r);if(!n)throw new Error(zn(0));return{type:s,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:s,payload:r[0]}}return a.toString=()=>`${s}`,a.type=s,a.match=r=>JL(r)&&r.type===s,a}var cF=class ip extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ip.prototype)}static get[Symbol.species](){return ip}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ip(...t[0].concat(this)):new ip(...t.concat(this))}};function AD(s){return Uc(s)?iF(s,()=>{}):s}function Gj(s,t,a){return s.has(t)?s.get(t):s.set(t,a(t)).get(t)}function bse(s){return typeof s=="boolean"}var Nse=()=>function(t){const{thunk:a=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=t??{};let l=new cF;return a&&(bse(a)?l.push(yse):l.push(jse(a.extraArgument))),l},wse="RTK_autoBatch",TD=s=>t=>{setTimeout(t,s)},kse=(s={type:"raf"})=>t=>(...a)=>{const r=t(...a);let n=!0,i=!1,l=!1;const c=new Set,o=s.type==="tick"?queueMicrotask:s.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:TD(10):s.type==="callback"?s.queueNotification:TD(s.timeout),u=()=>{l=!1,i&&(i=!1,c.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>n&&d(),p=r.subscribe(f);return c.add(d),()=>{p(),c.delete(d)}},dispatch(d){try{return n=!d?.meta?.[wse],i=!n,i&&(l||(l=!0,o(u))),r.dispatch(d)}finally{n=!0}}})},Sse=s=>function(a){const{autoBatch:r=!0}=a??{};let n=new cF(s);return r&&n.push(kse(typeof r=="object"?r:void 0)),n};function _se(s){const t=Nse(),{reducer:a=void 0,middleware:r,devTools:n=!0,preloadedState:i=void 0,enhancers:l=void 0}=s||{};let c;if(typeof a=="function")c=a;else if(zC(a))c=ZL(a);else throw new Error(zn(1));let o;typeof r=="function"?o=r(t):o=t();let u=sb;n&&(u=vse({trace:!1,...typeof n=="object"&&n}));const d=cse(...o),f=Sse(d);let p=typeof l=="function"?l(f):f();const j=u(...p);return XL(c,i,j)}function oF(s){const t={},a=[];let r;const n={addCase(i,l){const c=typeof i=="string"?i:i.type;if(!c)throw new Error(zn(28));if(c in t)throw new Error(zn(29));return t[c]=l,n},addMatcher(i,l){return a.push({matcher:i,reducer:l}),n},addDefaultCase(i){return r=i,n}};return s(n),[t,a,r]}function Cse(s){return typeof s=="function"}function Ese(s,t){let[a,r,n]=oF(t),i;if(Cse(s))i=()=>AD(s());else{const c=AD(s);i=()=>c}function l(c=i(),o){let u=[a[o.type],...r.filter(({matcher:d})=>d(o)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[n]),u.reduce((d,f)=>{if(f)if(Vh(d)){const j=f(d,o);return j===void 0?d:j}else{if(Uc(d))return iF(d,p=>f(p,o));{const p=f(d,o);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},c)}return l.getInitialState=i,l}var Ase="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Tse=(s=21)=>{let t="",a=s;for(;a--;)t+=Ase[Math.random()*64|0];return t},Mse=Symbol.for("rtk-slice-createasyncthunk");function Dse(s,t){return`${s}/${t}`}function Ose({creators:s}={}){const t=s?.asyncThunk?.[Mse];return function(r){const{name:n,reducerPath:i=n}=r;if(!n)throw new Error(zn(11));const l=(typeof r.reducers=="function"?r.reducers($se()):r.reducers)||{},c=Object.keys(l),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(_,A){const D=typeof _=="string"?_:_.type;if(!D)throw new Error(zn(12));if(D in o.sliceCaseReducersByType)throw new Error(zn(13));return o.sliceCaseReducersByType[D]=A,u},addMatcher(_,A){return o.sliceMatchers.push({matcher:_,reducer:A}),u},exposeAction(_,A){return o.actionCreators[_]=A,u},exposeCaseReducer(_,A){return o.sliceCaseReducersByName[_]=A,u}};c.forEach(_=>{const A=l[_],D={reducerName:_,type:Dse(n,_),createNotation:typeof r.reducers=="function"};Ise(A)?Lse(D,A,u,t):Pse(D,A,u)});function d(){const[_={},A=[],D=void 0]=typeof r.extraReducers=="function"?oF(r.extraReducers):[r.extraReducers],M={..._,...o.sliceCaseReducersByType};return Ese(r.initialState,L=>{for(let F in M)L.addCase(F,M[F]);for(let F of o.sliceMatchers)L.addMatcher(F.matcher,F.reducer);for(let F of A)L.addMatcher(F.matcher,F.reducer);D&&L.addDefaultCase(D)})}const f=_=>_,p=new Map,j=new WeakMap;let y;function k(_,A){return y||(y=d()),y(_,A)}function v(){return y||(y=d()),y.getInitialState()}function S(_,A=!1){function D(L){let F=L[_];return typeof F>"u"&&A&&(F=Gj(j,D,v)),F}function M(L=f){const F=Gj(p,A,()=>new WeakMap);return Gj(F,L,()=>{const Q={};for(const[I,H]of Object.entries(r.selectors??{}))Q[I]=Rse(H,L,()=>Gj(j,L,v),A);return Q})}return{reducerPath:_,getSelectors:M,get selectors(){return M(D)},selectSlice:D}}const C={name:n,reducer:k,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:v,...S(i),injectInto(_,{reducerPath:A,...D}={}){const M=A??i;return _.inject({reducerPath:M,reducer:k},D),{...C,...S(M,!0)}}};return C}}function Rse(s,t,a,r){function n(i,...l){let c=t(i);return typeof c>"u"&&r&&(c=a()),s(c,...l)}return n.unwrapped=s,n}var Yn=Ose();function $se(){function s(t,a){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...a}}return s.withTypes=()=>s,{reducer(t){return Object.assign({[t.name](...a){return t(...a)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,a){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:a}},asyncThunk:s}}function Pse({type:s,reducerName:t,createNotation:a},r,n){let i,l;if("reducer"in r){if(a&&!Bse(r))throw new Error(zn(17));i=r.reducer,l=r.prepare}else i=r;n.addCase(s,i).exposeCaseReducer(t,i).exposeAction(t,l?ji(s,l):ji(s))}function Ise(s){return s._reducerDefinitionType==="asyncThunk"}function Bse(s){return s._reducerDefinitionType==="reducerWithPrepare"}function Lse({type:s,reducerName:t},a,r,n){if(!n)throw new Error(zn(18));const{payloadCreator:i,fulfilled:l,pending:c,rejected:o,settled:u,options:d}=a,f=n(s,i,d);r.exposeAction(t,f),l&&r.addCase(f.fulfilled,l),c&&r.addCase(f.pending,c),o&&r.addCase(f.rejected,o),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(t,{fulfilled:l||Vj,pending:c||Vj,rejected:o||Vj,settled:u||Vj})}function Vj(){}var Fse="task",dF="listener",hF="completed",qC="cancelled",zse=`task-${qC}`,Hse=`task-${hF}`,_S=`${dF}-${qC}`,Use=`${dF}-${hF}`,PN=class{constructor(s){this.code=s,this.message=`${Fse} ${qC} (reason: ${s})`}name="TaskAbortError";message},GC=(s,t)=>{if(typeof s!="function")throw new TypeError(zn(32))},ib=()=>{},uF=(s,t=ib)=>(s.catch(t),s),mF=(s,t)=>(s.addEventListener("abort",t,{once:!0}),()=>s.removeEventListener("abort",t)),$h=(s,t)=>{const a=s.signal;a.aborted||("reason"in a||Object.defineProperty(a,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),s.abort(t))},Ph=s=>{if(s.aborted){const{reason:t}=s;throw new PN(t)}};function xF(s,t){let a=ib;return new Promise((r,n)=>{const i=()=>n(new PN(s.reason));if(s.aborted){i();return}a=mF(s,i),t.finally(()=>a()).then(r,n)}).finally(()=>{a=ib})}var qse=async(s,t)=>{try{return await Promise.resolve(),{status:"ok",value:await s()}}catch(a){return{status:a instanceof PN?"cancelled":"rejected",error:a}}finally{t?.()}},lb=s=>t=>uF(xF(s,t).then(a=>(Ph(s),a))),fF=s=>{const t=lb(s);return a=>t(new Promise(r=>setTimeout(r,a)))},{assign:bm}=Object,MD={},IN="listenerMiddleware",Gse=(s,t)=>{const a=r=>mF(s,()=>$h(r,s.reason));return(r,n)=>{GC(r);const i=new AbortController;a(i);const l=qse(async()=>{Ph(s),Ph(i.signal);const c=await r({pause:lb(i.signal),delay:fF(i.signal),signal:i.signal});return Ph(i.signal),c},()=>$h(i,Hse));return n?.autoJoin&&t.push(l.catch(ib)),{result:lb(s)(l),cancel(){$h(i,zse)}}}},Vse=(s,t)=>{const a=async(r,n)=>{Ph(t);let i=()=>{};const c=[new Promise((o,u)=>{let d=s({predicate:r,effect:(f,p)=>{p.unsubscribe(),o([f,p.getState(),p.getOriginalState()])}});i=()=>{d(),u()}})];n!=null&&c.push(new Promise(o=>setTimeout(o,n,null)));try{const o=await xF(t,Promise.race(c));return Ph(t),o}finally{i()}};return(r,n)=>uF(a(r,n))},pF=s=>{let{type:t,actionCreator:a,matcher:r,predicate:n,effect:i}=s;if(t)n=ji(t).match;else if(a)t=a.type,n=a.match;else if(r)n=r;else if(!n)throw new Error(zn(21));return GC(i),{predicate:n,type:t,effect:i}},gF=bm(s=>{const{type:t,predicate:a,effect:r}=pF(s);return{id:Tse(),effect:r,type:t,predicate:a,pending:new Set,unsubscribe:()=>{throw new Error(zn(22))}}},{withTypes:()=>gF}),DD=(s,t)=>{const{type:a,effect:r,predicate:n}=pF(t);return Array.from(s.values()).find(i=>(typeof a=="string"?i.type===a:i.predicate===n)&&i.effect===r)},CS=s=>{s.pending.forEach(t=>{$h(t,_S)})},Wse=s=>()=>{s.forEach(CS),s.clear()},OD=(s,t,a)=>{try{s(t,a)}catch(r){setTimeout(()=>{throw r},0)}},yF=bm(ji(`${IN}/add`),{withTypes:()=>yF}),Yse=ji(`${IN}/removeAll`),jF=bm(ji(`${IN}/remove`),{withTypes:()=>jF}),Kse=(...s)=>{console.error(`${IN}/error`,...s)},wg=(s={})=>{const t=new Map,{extra:a,onError:r=Kse}=s;GC(r);const n=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f?.cancelActive&&CS(d)}),i=d=>{const f=DD(t,d)??gF(d);return n(f)};bm(i,{withTypes:()=>i});const l=d=>{const f=DD(t,d);return f&&(f.unsubscribe(),d.cancelActive&&CS(f)),!!f};bm(l,{withTypes:()=>l});const c=async(d,f,p,j)=>{const y=new AbortController,k=Vse(i,y.signal),v=[];try{d.pending.add(y),await Promise.resolve(d.effect(f,bm({},p,{getOriginalState:j,condition:(S,C)=>k(S,C).then(Boolean),take:k,delay:fF(y.signal),pause:lb(y.signal),extra:a,signal:y.signal,fork:Gse(y.signal,v),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((S,C,_)=>{S!==y&&($h(S,_S),_.delete(S))})},cancel:()=>{$h(y,_S),d.pending.delete(y)},throwIfCancelled:()=>{Ph(y.signal)}})))}catch(S){S instanceof PN||OD(r,S,{raisedBy:"effect"})}finally{await Promise.all(v),$h(y,Use),d.pending.delete(y)}},o=Wse(t);return{middleware:d=>f=>p=>{if(!JL(p))return f(p);if(yF.match(p))return i(p.payload);if(Yse.match(p)){o();return}if(jF.match(p))return l(p.payload);let j=d.getState();const y=()=>{if(j===MD)throw new Error(zn(23));return j};let k;try{if(k=f(p),t.size>0){const v=d.getState(),S=Array.from(t.values());for(const C of S){let _=!1;try{_=C.predicate(p,v,j)}catch(A){_=!1,OD(r,A,{raisedBy:"predicate"})}_&&c(C,p,d,y)}}}finally{j=MD}return k},startListening:i,stopListening:l,clearListeners:o}};function zn(s){return`Minified Redux Toolkit error #${s}; visit https://redux-toolkit.js.org/Errors?code=${s} for the full message or use the non-minified dev environment for full errors. `}var Qse={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},vF=Yn({name:"chartLayout",initialState:Qse,reducers:{setLayout(s,t){s.layoutType=t.payload},setChartSize(s,t){s.width=t.payload.width,s.height=t.payload.height},setMargin(s,t){s.margin.top=t.payload.top,s.margin.right=t.payload.right,s.margin.bottom=t.payload.bottom,s.margin.left=t.payload.left},setScale(s,t){s.scale=t.payload}}}),{setMargin:Xse,setLayout:Zse,setChartSize:Jse,setScale:eae}=vF.actions,tae=vF.reducer;function RD(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function $D(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?RD(Object(a),!0).forEach(function(r){sae(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):RD(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function sae(s,t,a){return(t=aae(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function aae(s){var t=rae(s,"string");return typeof t=="symbol"?t:t+""}function rae(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}var cb=Math.PI/180,nae=s=>s*180/Math.PI,As=(s,t,a,r)=>({x:s+Math.cos(-cb*r)*a,y:t+Math.sin(-cb*r)*a}),bF=function(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(a-(r.top||0)-(r.bottom||0)))/2},iae=(s,t)=>{var{x:a,y:r}=s,{x:n,y:i}=t;return Math.sqrt((a-n)**2+(r-i)**2)},lae=(s,t)=>{var{x:a,y:r}=s,{cx:n,cy:i}=t,l=iae({x:a,y:r},{x:n,y:i});if(l<=0)return{radius:l,angle:0};var c=(a-n)/l,o=Math.acos(c);return r>i&&(o=2*Math.PI-o),{radius:l,angle:nae(o),angleInRadian:o}},cae=s=>{var{startAngle:t,endAngle:a}=s,r=Math.floor(t/360),n=Math.floor(a/360),i=Math.min(r,n);return{startAngle:t-i*360,endAngle:a-i*360}},oae=(s,t)=>{var{startAngle:a,endAngle:r}=t,n=Math.floor(a/360),i=Math.floor(r/360),l=Math.min(n,i);return s+l*360},dae=(s,t)=>{var{x:a,y:r}=s,{radius:n,angle:i}=lae({x:a,y:r},t),{innerRadius:l,outerRadius:c}=t;if(n<l||n>c||n===0)return null;var{startAngle:o,endAngle:u}=cae(t),d=i,f;if(o<=u){for(;d>u;)d-=360;for(;d<o;)d+=360;f=d>=o&&d<=u}else{for(;d>o;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=o}return f?$D($D({},t),{},{radius:n,angle:oae(d,t)}):null},NF=s=>!x.isValidElement(s)&&typeof s!="function"&&typeof s!="boolean"&&s!=null?s.className:"";function wF(s,t,a){return Array.isArray(s)&&s&&t+a!==0?s.slice(t,a+1):s}function PD(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function ui(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?PD(Object(a),!0).forEach(function(r){hae(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):PD(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function hae(s,t,a){return(t=uae(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function uae(s){var t=mae(s,"string");return typeof t=="symbol"?t:t+""}function mae(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function Es(s,t,a){return qs(s)||qs(t)?a:Il(t)?Nd(s,t,a):typeof t=="function"?t(s):a}var xae=(s,t,a,r,n)=>{var i,l=-1,c=(i=t?.length)!==null&&i!==void 0?i:0;if(c<=1||s==null)return 0;if(r==="angleAxis"&&n!=null&&Math.abs(Math.abs(n[1]-n[0])-360)<=1e-6)for(var o=0;o<c;o++){var u=o>0?a[o-1].coordinate:a[c-1].coordinate,d=a[o].coordinate,f=o>=c-1?a[0].coordinate:a[o+1].coordinate,p=void 0;if(cr(d-u)!==cr(f-d)){var j=[];if(cr(f-d)===cr(n[1]-n[0])){p=f;var y=d+n[1]-n[0];j[0]=Math.min(y,(y+u)/2),j[1]=Math.max(y,(y+u)/2)}else{p=u;var k=f+n[1]-n[0];j[0]=Math.min(d,(k+d)/2),j[1]=Math.max(d,(k+d)/2)}var v=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(s>v[0]&&s<=v[1]||s>=j[0]&&s<=j[1]){({index:l}=a[o]);break}}else{var S=Math.min(u,f),C=Math.max(u,f);if(s>(S+d)/2&&s<=(C+d)/2){({index:l}=a[o]);break}}}else if(t){for(var _=0;_<c;_++)if(_===0&&s<=(t[_].coordinate+t[_+1].coordinate)/2||_>0&&_<c-1&&s>(t[_].coordinate+t[_-1].coordinate)/2&&s<=(t[_].coordinate+t[_+1].coordinate)/2||_===c-1&&s>(t[_].coordinate+t[_-1].coordinate)/2){({index:l}=t[_]);break}}return l},fae=(s,t,a)=>{if(t&&a){var{width:r,height:n}=a,{align:i,verticalAlign:l,layout:c}=t;if((c==="vertical"||c==="horizontal"&&l==="middle")&&i!=="center"&&gt(s[i]))return ui(ui({},s),{},{[i]:s[i]+(r||0)});if((c==="horizontal"||c==="vertical"&&i==="center")&&l!=="middle"&&gt(s[l]))return ui(ui({},s),{},{[l]:s[l]+(n||0)})}return s},Qi=(s,t)=>s==="horizontal"&&t==="xAxis"||s==="vertical"&&t==="yAxis"||s==="centric"&&t==="angleAxis"||s==="radial"&&t==="radiusAxis",kF=(s,t,a,r)=>{if(r)return s.map(c=>c.coordinate);var n,i,l=s.map(c=>(c.coordinate===t&&(n=!0),c.coordinate===a&&(i=!0),c.coordinate));return n||l.push(t),i||l.push(a),l},SF=(s,t,a)=>{if(!s)return null;var{duplicateDomain:r,type:n,range:i,scale:l,realScaleType:c,isCategorical:o,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:p,axisType:j}=s;if(!l)return null;var y=c==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,k=n==="category"&&l.bandwidth?l.bandwidth()/y:0;if(k=j==="angleAxis"&&i&&i.length>=2?cr(i[0]-i[1])*2*k:k,f||p){var v=(f||p||[]).map((S,C)=>{var _=r?r.indexOf(S):S;return{coordinate:l(_)+k,value:S,offset:k,index:C}});return v.filter(S=>!Cn(S.coordinate))}return o&&u?u.map((S,C)=>({coordinate:l(S)+k,value:S,index:C,offset:k})):l.ticks&&d!=null?l.ticks(d).map((S,C)=>({coordinate:l(S)+k,value:S,offset:k,index:C})):l.domain().map((S,C)=>({coordinate:l(S)+k,value:r?r[S]:S,index:C,offset:k}))},ID=1e-4,pae=s=>{var t=s.domain();if(!(!t||t.length<=2)){var a=t.length,r=s.range(),n=Math.min(r[0],r[1])-ID,i=Math.max(r[0],r[1])+ID,l=s(t[0]),c=s(t[a-1]);(l<n||l>i||c<n||c>i)&&s.domain([t[0],t[a-1]])}},gae=(s,t)=>{if(!t||t.length!==2||!gt(t[0])||!gt(t[1]))return s;var a=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),n=[s[0],s[1]];return(!gt(s[0])||s[0]<a)&&(n[0]=a),(!gt(s[1])||s[1]>r)&&(n[1]=r),n[0]>r&&(n[0]=r),n[1]<a&&(n[1]=a),n},yae=s=>{var t=s.length;if(!(t<=0))for(var a=0,r=s[0].length;a<r;++a)for(var n=0,i=0,l=0;l<t;++l){var c=Cn(s[l][a][1])?s[l][a][0]:s[l][a][1];c>=0?(s[l][a][0]=n,s[l][a][1]=n+c,n=s[l][a][1]):(s[l][a][0]=i,s[l][a][1]=i+c,i=s[l][a][1])}},jae=s=>{var t=s.length;if(!(t<=0))for(var a=0,r=s[0].length;a<r;++a)for(var n=0,i=0;i<t;++i){var l=Cn(s[i][a][1])?s[i][a][0]:s[i][a][1];l>=0?(s[i][a][0]=n,s[i][a][1]=n+l,n=s[i][a][1]):(s[i][a][0]=0,s[i][a][1]=0)}},vae={sign:yae,expand:ete,none:Rm,silhouette:tte,wiggle:ste,positive:jae},bae=(s,t,a)=>{var r=vae[a],n=Jee().keys(t).value((i,l)=>+Es(i,l,0)).order(yS).offset(r);return n(s)};function _F(s){return s==null?void 0:String(s)}function ob(s){var{axis:t,ticks:a,bandSize:r,entry:n,index:i,dataKey:l}=s;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!qs(n[t.dataKey])){var c=vL(a,"value",n[t.dataKey]);if(c)return c.coordinate+r/2}return a[i]?a[i].coordinate+r/2:null}var o=Es(n,qs(l)?t.dataKey:l);return qs(o)?null:t.scale(o)}var BD=s=>{var{axis:t,ticks:a,offset:r,bandSize:n,entry:i,index:l}=s;if(t.type==="category")return a[l]?a[l].coordinate+r:null;var c=Es(i,t.dataKey,t.scale.domain()[l]);return qs(c)?null:t.scale(c)-n/2+r},Nae=s=>{var{numericAxis:t}=s,a=t.scale.domain();if(t.type==="number"){var r=Math.min(a[0],a[1]),n=Math.max(a[0],a[1]);return r<=0&&n>=0?0:n<0?n:r}return a[0]},wae=s=>{var t=s.flat(2).filter(gt);return[Math.min(...t),Math.max(...t)]},kae=s=>[s[0]===1/0?0:s[0],s[1]===-1/0?0:s[1]],Sae=(s,t,a)=>{if(s!=null)return kae(Object.keys(s).reduce((r,n)=>{var i=s[n],{stackedData:l}=i,c=l.reduce((o,u)=>{var d=wF(u,t,a),f=wae(d);return[Math.min(o[0],f[0]),Math.max(o[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},LD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,FD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qc=(s,t,a)=>{if(s&&s.scale&&s.scale.bandwidth){var r=s.scale.bandwidth();if(!a||r>0)return r}if(s&&t&&t.length>=2){for(var n=MN(t,d=>d.coordinate),i=1/0,l=1,c=n.length;l<c;l++){var o=n[l],u=n[l-1];i=Math.min((o.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return a?void 0:0};function zD(s){var{tooltipEntrySettings:t,dataKey:a,payload:r,value:n,name:i}=s;return ui(ui({},t),{},{dataKey:a,payload:r,value:n,name:i})}function Hl(s,t){if(s)return String(s);if(typeof t=="string")return t}function _ae(s,t,a,r,n){if(a==="horizontal"||a==="vertical"){var i=s>=n.left&&s<=n.left+n.width&&t>=n.top&&t<=n.top+n.height;return i?{x:s,y:t}:null}return r?dae({x:s,y:t},r):null}var Cae=(s,t,a,r)=>{var n=t.find(u=>u&&u.index===a);if(n){if(s==="horizontal")return{x:n.coordinate,y:r.y};if(s==="vertical")return{x:r.x,y:n.coordinate};if(s==="centric"){var i=n.coordinate,{radius:l}=r;return ui(ui(ui({},r),As(r.cx,r.cy,l,i)),{},{angle:i,radius:l})}var c=n.coordinate,{angle:o}=r;return ui(ui(ui({},r),As(r.cx,r.cy,c,o)),{},{angle:o,radius:c})}return{x:0,y:0}},Eae=(s,t)=>t==="horizontal"?s.x:t==="vertical"?s.y:t==="centric"?s.angle:s.radius,eo=s=>s.layout.width,to=s=>s.layout.height,Aae=s=>s.layout.scale,CF=s=>s.layout.margin,VC=Pe(s=>s.cartesianAxis.xAxis,s=>Object.values(s)),WC=Pe(s=>s.cartesianAxis.yAxis,s=>Object.values(s)),EF="data-recharts-item-index",AF="data-recharts-item-data-key",BN=60;function HD(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function rd(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?HD(Object(a),!0).forEach(function(r){Tae(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):HD(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function Tae(s,t,a){return(t=Mae(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Mae(s){var t=Dae(s,"string");return typeof t=="symbol"?t:t+""}function Dae(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}var Oae=s=>s.brush.height,Ka=Pe([eo,to,CF,Oae,VC,WC,QL,sse],(s,t,a,r,n,i,l,c)=>{var o=i.reduce((y,k)=>{var{orientation:v}=k;if(!k.mirror&&!k.hide){var S=typeof k.width=="number"?k.width:BN;return rd(rd({},y),{},{[v]:y[v]+S})}return y},{left:a.left||0,right:a.right||0}),u=n.reduce((y,k)=>{var{orientation:v}=k;return!k.mirror&&!k.hide?rd(rd({},y),{},{[v]:Nd(y,"".concat(v))+k.height}):y},{top:a.top||0,bottom:a.bottom||0}),d=rd(rd({},u),o),f=d.bottom;d.bottom+=r,d=fae(d,l,c);var p=s-d.left-d.right,j=t-d.top-d.bottom;return rd(rd({brushBottom:f},d),{},{width:Math.max(p,0),height:Math.max(j,0)})}),Rae=Pe(Ka,s=>({x:s.left,y:s.top,width:s.width,height:s.height})),TF=Pe(eo,to,(s,t)=>({x:0,y:0,width:s,height:t})),$ae=x.createContext(null),dr=()=>x.useContext($ae)!=null,LN=s=>s.brush,FN=Pe([LN,Ka,CF],(s,t,a)=>({height:s.height,x:gt(s.x)?s.x:t.left,y:gt(s.y)?s.y:t.top+t.height+t.brushBottom-(a?.bottom||0),width:gt(s.width)?s.width:t.width})),YC=()=>{var s,t=dr(),a=jt(Rae),r=jt(FN),n=(s=jt(LN))===null||s===void 0?void 0:s.padding;return!t||!r||!n?a:{width:r.width-n.left-n.right,height:r.height-n.top-n.bottom,x:n.left,y:n.top}},Pae={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},MF=()=>{var s;return(s=jt(Ka))!==null&&s!==void 0?s:Pae},DF=()=>jt(eo),OF=()=>jt(to),Jt=s=>s.layout.layoutType,kg=()=>jt(Jt),Iae={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},RF=Yn({name:"legend",initialState:Iae,reducers:{setLegendSize(s,t){s.size.width=t.payload.width,s.size.height=t.payload.height},setLegendSettings(s,t){s.settings.align=t.payload.align,s.settings.layout=t.payload.layout,s.settings.verticalAlign=t.payload.verticalAlign,s.settings.itemSorter=t.payload.itemSorter},addLegendPayload(s,t){s.payload.push(t.payload)},removeLegendPayload(s,t){var a=Rc(s).payload.indexOf(t.payload);a>-1&&s.payload.splice(a,1)}}}),{setLegendSize:r6e,setLegendSettings:n6e,addLegendPayload:$F,removeLegendPayload:PF}=RF.actions,Bae=RF.reducer;function ES(){return ES=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},ES.apply(null,arguments)}function UD(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function v2(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?UD(Object(a),!0).forEach(function(r){Lae(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):UD(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function Lae(s,t,a){return(t=Fae(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Fae(s){var t=zae(s,"string");return typeof t=="symbol"?t:t+""}function zae(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function Hae(s){return Array.isArray(s)&&Il(s[0])&&Il(s[1])?s.join(" ~ "):s}var Uae=s=>{var{separator:t=" : ",contentStyle:a={},itemStyle:r={},labelStyle:n={},payload:i,formatter:l,itemSorter:c,wrapperClassName:o,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:p=!1}=s,j=()=>{if(i&&i.length){var D={padding:0,margin:0},M=(c?MN(i,c):i).map((L,F)=>{if(L.type==="none")return null;var Q=L.formatter||l||Hae,{value:I,name:H}=L,z=I,K=H;if(Q){var U=Q(I,H,L,F,i);if(Array.isArray(U))[z,K]=U;else if(U!=null)z=U;else return null}var V=v2({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:V},Il(K)?x.createElement("span",{className:"recharts-tooltip-item-name"},K):null,Il(K)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},z),x.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:D},M)}return null},y=v2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),k=v2({margin:0},n),v=!qs(d),S=v?d:"",C=Kt("recharts-default-tooltip",o),_=Kt("recharts-tooltip-label",u);v&&f&&i!==void 0&&i!==null&&(S=f(d,i));var A=p?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",ES({className:C,style:y},A),x.createElement("p",{className:_,style:k},x.isValidElement(S)?S:"".concat(S)),j())},Gf="recharts-tooltip-wrapper",qae={visibility:"hidden"};function Gae(s){var{coordinate:t,translateX:a,translateY:r}=s;return Kt(Gf,{["".concat(Gf,"-right")]:gt(a)&&t&&gt(t.x)&&a>=t.x,["".concat(Gf,"-left")]:gt(a)&&t&&gt(t.x)&&a<t.x,["".concat(Gf,"-bottom")]:gt(r)&&t&&gt(t.y)&&r>=t.y,["".concat(Gf,"-top")]:gt(r)&&t&&gt(t.y)&&r<t.y})}function qD(s){var{allowEscapeViewBox:t,coordinate:a,key:r,offsetTopLeft:n,position:i,reverseDirection:l,tooltipDimension:c,viewBox:o,viewBoxDimension:u}=s;if(i&&gt(i[r]))return i[r];var d=a[r]-c-(n>0?n:0),f=a[r]+n;if(t[r])return l[r]?d:f;var p=o[r];if(p==null)return 0;if(l[r]){var j=d,y=p;return j<y?Math.max(f,p):Math.max(d,p)}if(u==null)return 0;var k=f+c,v=p+u;return k>v?Math.max(d,p):Math.max(f,p)}function Vae(s){var{translateX:t,translateY:a,useTranslate3d:r}=s;return{transform:r?"translate3d(".concat(t,"px, ").concat(a,"px, 0)"):"translate(".concat(t,"px, ").concat(a,"px)")}}function Wae(s){var{allowEscapeViewBox:t,coordinate:a,offsetTopLeft:r,position:n,reverseDirection:i,tooltipBox:l,useTranslate3d:c,viewBox:o}=s,u,d,f;return l.height>0&&l.width>0&&a?(d=qD({allowEscapeViewBox:t,coordinate:a,key:"x",offsetTopLeft:r,position:n,reverseDirection:i,tooltipDimension:l.width,viewBox:o,viewBoxDimension:o.width}),f=qD({allowEscapeViewBox:t,coordinate:a,key:"y",offsetTopLeft:r,position:n,reverseDirection:i,tooltipDimension:l.height,viewBox:o,viewBoxDimension:o.height}),u=Vae({translateX:d,translateY:f,useTranslate3d:c})):u=qae,{cssProperties:u,cssClasses:Gae({translateX:d,translateY:f,coordinate:a})}}function GD(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function Wj(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?GD(Object(a),!0).forEach(function(r){AS(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):GD(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function AS(s,t,a){return(t=Yae(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Yae(s){var t=Kae(s,"string");return typeof t=="symbol"?t:t+""}function Kae(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}class Qae extends x.PureComponent{constructor(){super(...arguments),AS(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),AS(this,"handleKeyDown",t=>{if(t.key==="Escape"){var a,r,n,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&a!==void 0?a:0,y:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&n!==void 0?n:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,a;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:a,animationDuration:r,animationEasing:n,children:i,coordinate:l,hasPayload:c,isAnimationActive:o,offset:u,position:d,reverseDirection:f,useTranslate3d:p,viewBox:j,wrapperStyle:y,lastBoundingBox:k,innerRef:v,hasPortalFromProps:S}=this.props,{cssClasses:C,cssProperties:_}=Wae({allowEscapeViewBox:a,coordinate:l,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:k.height,width:k.width},useTranslate3d:p,viewBox:j}),A=S?{}:Wj(Wj({transition:o&&t?"transform ".concat(r,"ms ").concat(n):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),D=Wj(Wj({},A),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},y);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:D,ref:v},i)}}var Xae=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),so={isSsr:Xae()},IF=()=>jt(s=>s.rootProps.accessibilityLayer);function kr(s){return Number.isFinite(s)}function Pm(s){return typeof s=="number"&&s>0&&Number.isFinite(s)}function TS(){return TS=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},TS.apply(null,arguments)}function VD(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function WD(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?VD(Object(a),!0).forEach(function(r){Zae(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):VD(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function Zae(s,t,a){return(t=Jae(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Jae(s){var t=ere(s,"string");return typeof t=="symbol"?t:t+""}function ere(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}var YD={curveBasisClosed:Hee,curveBasisOpen:Uee,curveBasis:zee,curveBumpX:Cee,curveBumpY:Eee,curveLinearClosed:qee,curveLinear:EN,curveMonotoneX:Gee,curveMonotoneY:Vee,curveNatural:Wee,curveStep:Yee,curveStepAfter:Qee,curveStepBefore:Kee},Yj=s=>kr(s.x)&&kr(s.y),Vf=s=>s.x,Wf=s=>s.y,tre=(s,t)=>{if(typeof s=="function")return s;var a="curve".concat(bg(s));return(a==="curveMonotone"||a==="curveBump")&&t?YD["".concat(a).concat(t==="vertical"?"Y":"X")]:YD[a]||EN},sre=s=>{var{type:t="linear",points:a=[],baseLine:r,layout:n,connectNulls:i=!1}=s,l=tre(t,n),c=i?a.filter(Yj):a,o;if(Array.isArray(r)){var u=i?r.filter(f=>Yj(f)):r,d=c.map((f,p)=>WD(WD({},f),{},{base:u[p]}));return n==="vertical"?o=Hj().y(Wf).x1(Vf).x0(f=>f.base.x):o=Hj().x(Vf).y1(Wf).y0(f=>f.base.y),o.defined(Yj).curve(l),o(d)}return n==="vertical"&&gt(r)?o=Hj().y(Wf).x1(Vf).x0(r):gt(r)?o=Hj().x(Vf).y1(Wf).y0(r):o=AL().x(Vf).y(Wf),o.defined(Yj).curve(l),o(c)},Nm=s=>{var{className:t,points:a,path:r,pathRef:n}=s;if((!a||!a.length)&&!r)return null;var i=a&&a.length?sre(s):r;return x.createElement("path",TS({},Ya(s),TC(s),{className:Kt("recharts-curve",t),d:i===null?void 0:i,ref:n}))},are=["x","y","top","left","width","height","className"];function MS(){return MS=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},MS.apply(null,arguments)}function KD(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function rre(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?KD(Object(a),!0).forEach(function(r){nre(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):KD(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function nre(s,t,a){return(t=ire(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function ire(s){var t=lre(s,"string");return typeof t=="symbol"?t:t+""}function lre(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function cre(s,t){if(s==null)return{};var a,r,n=ore(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function ore(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var dre=(s,t,a,r,n,i)=>"M".concat(s,",").concat(n,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(a),hre=s=>{var{x:t=0,y:a=0,top:r=0,left:n=0,width:i=0,height:l=0,className:c}=s,o=cre(s,are),u=rre({x:t,y:a,top:r,left:n,width:i,height:l},o);return!gt(t)||!gt(a)||!gt(i)||!gt(l)||!gt(r)||!gt(n)?null:x.createElement("path",MS({},ns(u,!0),{className:Kt("recharts-cross",c),d:dre(t,a,i,l,r,n)}))};function ure(s,t,a,r){var n=r/2;return{stroke:"none",fill:"#ccc",x:s==="horizontal"?t.x-n:a.left+.5,y:s==="horizontal"?a.top+.5:t.y-n,width:s==="horizontal"?r:a.width-1,height:s==="horizontal"?a.height-1:r}}function QD(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function mre(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?QD(Object(a),!0).forEach(function(r){xre(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):QD(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function xre(s,t,a){return(t=fre(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function fre(s){var t=pre(s,"string");return typeof t=="symbol"?t:t+""}function pre(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function Gr(s,t){var a=mre({},s),r=t,n=Object.keys(t),i=n.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),a);return i}var b2={},N2={},w2={},XD;function gre(){return XD||(XD=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});function t(a){if(!a||typeof a!="object")return!1;const r=Object.getPrototypeOf(a);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(a)==="[object Object]":!1}s.isPlainObject=t})(w2)),w2}var ZD;function yre(){return ZD||(ZD=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=gre(),a=qL(),r=IC(),n=BC(),i=$C();function l(u,d,f){return c(u,d,void 0,void 0,void 0,void 0,f)}function c(u,d,f,p,j,y,k){const v=k(u,d,f,p,j,y);if(v!==void 0)return v;if(typeof u==typeof d)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===d;case"number":return u===d||Object.is(u,d);case"function":return u===d;case"object":return o(u,d,y,k)}return o(u,d,y,k)}function o(u,d,f,p){if(Object.is(u,d))return!0;let j=r.getTag(u),y=r.getTag(d);if(j===n.argumentsTag&&(j=n.objectTag),y===n.argumentsTag&&(y=n.objectTag),j!==y)return!1;switch(j){case n.stringTag:return u.toString()===d.toString();case n.numberTag:{const S=u.valueOf(),C=d.valueOf();return i.eq(S,C)}case n.booleanTag:case n.dateTag:case n.symbolTag:return Object.is(u.valueOf(),d.valueOf());case n.regexpTag:return u.source===d.source&&u.flags===d.flags;case n.functionTag:return u===d}f=f??new Map;const k=f.get(u),v=f.get(d);if(k!=null&&v!=null)return k===d;f.set(u,d),f.set(d,u);try{switch(j){case n.mapTag:{if(u.size!==d.size)return!1;for(const[S,C]of u.entries())if(!d.has(S)||!c(C,d.get(S),S,u,d,f,p))return!1;return!0}case n.setTag:{if(u.size!==d.size)return!1;const S=Array.from(u.values()),C=Array.from(d.values());for(let _=0;_<S.length;_++){const A=S[_],D=C.findIndex(M=>c(A,M,void 0,u,d,f,p));if(D===-1)return!1;C.splice(D,1)}return!0}case n.arrayTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:case n.bigUint64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.bigInt64ArrayTag:case n.float32ArrayTag:case n.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(d)||u.length!==d.length)return!1;for(let S=0;S<u.length;S++)if(!c(u[S],d[S],S,u,d,f,p))return!1;return!0}case n.arrayBufferTag:return u.byteLength!==d.byteLength?!1:o(new Uint8Array(u),new Uint8Array(d),f,p);case n.dataViewTag:return u.byteLength!==d.byteLength||u.byteOffset!==d.byteOffset?!1:o(new Uint8Array(u),new Uint8Array(d),f,p);case n.errorTag:return u.name===d.name&&u.message===d.message;case n.objectTag:{if(!(o(u.constructor,d.constructor,f,p)||t.isPlainObject(u)&&t.isPlainObject(d)))return!1;const C=[...Object.keys(u),...a.getSymbols(u)],_=[...Object.keys(d),...a.getSymbols(d)];if(C.length!==_.length)return!1;for(let A=0;A<C.length;A++){const D=C[A],M=u[D];if(!Object.hasOwn(d,D))return!1;const L=d[D];if(!c(M,L,D,u,d,f,p))return!1}return!0}default:return!1}}finally{f.delete(u),f.delete(d)}}s.isEqualWith=l})(N2)),N2}var k2={},JD;function jre(){return JD||(JD=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});function t(){}s.noop=t})(k2)),k2}var eO;function vre(){return eO||(eO=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=yre(),a=jre();function r(n,i){return t.isEqualWith(n,i,a.noop)}s.isEqual=r})(b2)),b2}var S2,tO;function bre(){return tO||(tO=1,S2=vre().isEqual),S2}var Nre=bre();const wre=Va(Nre);var db=1e-4,BF=(s,t)=>[0,3*s,3*t-6*s,3*s-3*t+1],LF=(s,t)=>s.map((a,r)=>a*t**r).reduce((a,r)=>a+r),sO=(s,t)=>a=>{var r=BF(s,t);return LF(r,a)},kre=(s,t)=>a=>{var r=BF(s,t),n=[...r.map((i,l)=>i*l).slice(1),0];return LF(n,a)},aO=function(){for(var t,a,r,n,i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];if(l.length===1)switch(l[0]){case"linear":[t,r,a,n]=[0,0,1,1];break;case"ease":[t,r,a,n]=[.25,.1,.25,1];break;case"ease-in":[t,r,a,n]=[.42,0,1,1];break;case"ease-out":[t,r,a,n]=[.42,0,.58,1];break;case"ease-in-out":[t,r,a,n]=[0,0,.58,1];break;default:{var o=l[0].split("(");o[0]==="cubic-bezier"&&o[1].split(")")[0].split(",").length===4&&([t,r,a,n]=o[1].split(")")[0].split(",").map(y=>parseFloat(y)))}}else l.length===4&&([t,r,a,n]=l);var u=sO(t,a),d=sO(r,n),f=kre(t,a),p=y=>y>1?1:y<0?0:y,j=y=>{for(var k=y>1?1:y,v=k,S=0;S<8;++S){var C=u(v)-k,_=f(v);if(Math.abs(C-k)<db||_<db)return d(v);v=p(v-C/_)}return d(v)};return j.isStepper=!1,j},Sre=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:a=100,damping:r=8,dt:n=17}=t,i=(l,c,o)=>{var u=-(l-c)*a,d=o*r,f=o+(u-d)*n/1e3,p=o*n/1e3+l;return Math.abs(p-c)<db&&Math.abs(f)<db?[c,0]:[p,f]};return i.isStepper=!0,i.dt=n,i},FF=s=>{if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return aO(s);case"spring":return Sre();default:if(s.split("(")[0]==="cubic-bezier")return aO(s)}return typeof s=="function"?s:null};function rO(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function nO(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(a),!0).forEach(function(r){_re(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):rO(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function _re(s,t,a){return(t=Cre(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Cre(s){var t=Ere(s,"string");return typeof t=="symbol"?t:t+""}function Ere(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}var Are=s=>s.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Tre=(s,t,a)=>s.map(r=>"".concat(Are(r)," ").concat(t,"ms ").concat(a)).join(","),Mre=(s,t)=>[Object.keys(s),Object.keys(t)].reduce((a,r)=>a.filter(n=>r.includes(n))),$p=(s,t)=>Object.keys(t).reduce((a,r)=>nO(nO({},a),{},{[r]:s(r,t[r])}),{});function iO(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function br(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?iO(Object(a),!0).forEach(function(r){Dre(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):iO(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function Dre(s,t,a){return(t=Ore(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Ore(s){var t=Rre(s,"string");return typeof t=="symbol"?t:t+""}function Rre(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}var hb=(s,t,a)=>s+(t-s)*a,DS=s=>{var{from:t,to:a}=s;return t!==a},zF=(s,t,a)=>{var r=$p((n,i)=>{if(DS(i)){var[l,c]=s(i.from,i.to,i.velocity);return br(br({},i),{},{from:l,velocity:c})}return i},t);return a<1?$p((n,i)=>DS(i)?br(br({},i),{},{velocity:hb(i.velocity,r[n].velocity,a),from:hb(i.from,r[n].from,a)}):i,t):zF(s,r,a-1)};function $re(s,t,a,r,n,i){var l,c=r.reduce((p,j)=>br(br({},p),{},{[j]:{from:s[j],velocity:0,to:t[j]}}),{}),o=()=>$p((p,j)=>j.from,c),u=()=>!Object.values(c).filter(DS).length,d=null,f=p=>{l||(l=p);var j=p-l,y=j/a.dt;c=zF(a,c,y),n(br(br(br({},s),t),o())),l=p,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{d()})}function Pre(s,t,a,r,n,i,l){var c=null,o=n.reduce((f,p)=>br(br({},f),{},{[p]:[s[p],t[p]]}),{}),u,d=f=>{u||(u=f);var p=(f-u)/r,j=$p((k,v)=>hb(...v,a(p)),o);if(i(br(br(br({},s),t),j)),p<1)c=l.setTimeout(d);else{var y=$p((k,v)=>hb(...v,a(1)),o);i(br(br(br({},s),t),y))}};return()=>(c=l.setTimeout(d),()=>{c()})}const HF=(s,t,a,r,n,i)=>{var l=Mre(s,t);return a.isStepper===!0?$re(s,t,a,l,n,i):Pre(s,t,a,r,l,n,i)};function Ire(s){var t,a=()=>null,r=!1,n=null,i=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[o,...u]=c;if(typeof o=="number"){n=s.setTimeout(i.bind(null,u),o);return}i(o),n=s.setTimeout(i.bind(null,u));return}typeof l=="string"&&(t=l,a(t)),typeof l=="object"&&(t=l,a(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,n&&(n(),n=null),i(l)},subscribe:l=>(a=l,()=>{a=()=>null}),getTimeoutController:()=>s}}class Bre{setTimeout(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),n=null,i=l=>{l-r>=a?t(l):typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{cancelAnimationFrame(n)}}}function Lre(){return Ire(new Bre)}var Fre=x.createContext(Lre);function UF(s,t){var a=x.useContext(Fre);return x.useMemo(()=>t??a(s),[s,t,a])}var zre=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function OS(){return OS=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},OS.apply(null,arguments)}function Hre(s,t){if(s==null)return{};var a,r,n=Ure(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function Ure(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}function lO(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function nd(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(a),!0).forEach(function(r){Ch(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):lO(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function Ch(s,t,a){return(t=qre(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function qre(s){var t=Gre(s,"string");return typeof t=="symbol"?t:t+""}function Gre(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}class KC extends x.PureComponent{constructor(t,a){super(t,a),Ch(this,"mounted",!1),Ch(this,"manager",void 0),Ch(this,"stopJSAnimation",null),Ch(this,"unSubscribe",null);var{isActive:r,attributeName:n,from:i,to:l,children:c,duration:o,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||o<=0){this.state={style:{}},typeof c=="function"&&(this.state={style:l});return}if(i){if(typeof c=="function"){this.state={style:i};return}this.state={style:n?{[n]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:a}=this.props;this.mounted=!0,!(!t||!a)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:a,canBegin:r,attributeName:n,shouldReAnimate:i,to:l,from:c}=this.props,{style:o}=this.state;if(r){if(!a){var u={style:n?{[n]:l}:l};this.state&&o&&(n&&o[n]!==l||!n&&o!==l)&&this.setState(u);return}if(!(wre(t.to,l)&&t.canBegin&&t.isActive)){var d=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=d||i?c:t.to;if(this.state&&o){var p={style:n?{[n]:f}:f};(n&&o[n]!==f||!n&&o!==f)&&this.setState(p)}this.runAnimation(nd(nd({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:a,to:r,duration:n,easing:i,begin:l,onAnimationEnd:c,onAnimationStart:o}=t,u=HF(a,r,FF(i),n,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=u()};this.manager.start([o,l,d,n,c])}runAnimation(t){var{begin:a,duration:r,attributeName:n,to:i,easing:l,onAnimationStart:c,onAnimationEnd:o,children:u}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof l=="function"||typeof u=="function"||l==="spring"){this.runJSAnimation(t);return}var d=n?{[n]:i}:i,f=Tre(Object.keys(d),r,l);this.manager.start([c,a,nd(nd({},d),{},{transition:f}),r,o])}render(){var t=this.props,{children:a,begin:r,duration:n,attributeName:i,easing:l,isActive:c,from:o,to:u,canBegin:d,onAnimationEnd:f,shouldReAnimate:p,onAnimationReStart:j,animationManager:y}=t,k=Hre(t,zre),v=x.Children.count(a),S=this.state.style;if(typeof a=="function")return a(S);if(!c||v===0||n<=0)return a;var C=_=>{var{style:A={},className:D}=_.props,M=x.cloneElement(_,nd(nd({},k),{},{style:nd(nd({},A),S),className:D}));return M};return v===1?C(x.Children.only(a)):x.createElement("div",null,x.Children.map(a,_=>C(_)))}}Ch(KC,"displayName","Animate");Ch(KC,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function ub(s){var t,a=UF((t=s.attributeName)!==null&&t!==void 0?t:Object.keys(s.to).join(","),s.animationManager);return x.createElement(KC,OS({},s,{animationManager:a}))}function mb(){return mb=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},mb.apply(null,arguments)}var cO=(s,t,a,r,n)=>{var i=Math.min(Math.abs(a)/2,Math.abs(r)/2),l=r>=0?1:-1,c=a>=0?1:-1,o=r>=0&&a>=0||r<0&&a<0?1:0,u;if(i>0&&n instanceof Array){for(var d=[0,0,0,0],f=0,p=4;f<p;f++)d[f]=n[f]>i?i:n[f];u="M".concat(s,",").concat(t+l*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(o,",").concat(s+c*d[0],",").concat(t)),u+="L ".concat(s+a-c*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(o,`,
        `).concat(s+a,",").concat(t+l*d[1])),u+="L ".concat(s+a,",").concat(t+r-l*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(o,`,
        `).concat(s+a-c*d[2],",").concat(t+r)),u+="L ".concat(s+c*d[3],",").concat(t+r),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(o,`,
        `).concat(s,",").concat(t+r-l*d[3])),u+="Z"}else if(i>0&&n===+n&&n>0){var j=Math.min(i,n);u="M ".concat(s,",").concat(t+l*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(o,",").concat(s+c*j,",").concat(t,`
            L `).concat(s+a-c*j,",").concat(t,`
            A `).concat(j,",").concat(j,",0,0,").concat(o,",").concat(s+a,",").concat(t+l*j,`
            L `).concat(s+a,",").concat(t+r-l*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(o,",").concat(s+a-c*j,",").concat(t+r,`
            L `).concat(s+c*j,",").concat(t+r,`
            A `).concat(j,",").concat(j,",0,0,").concat(o,",").concat(s,",").concat(t+r-l*j," Z")}else u="M ".concat(s,",").concat(t," h ").concat(a," v ").concat(r," h ").concat(-a," Z");return u},Vre={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qF=s=>{var t=Gr(s,Vre),a=x.useRef(null),[r,n]=x.useState(-1);x.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var S=a.current.getTotalLength();S&&n(S)}catch{}},[]);var{x:i,y:l,width:c,height:o,radius:u,className:d}=t,{animationEasing:f,animationDuration:p,animationBegin:j,isAnimationActive:y,isUpdateAnimationActive:k}=t;if(i!==+i||l!==+l||c!==+c||o!==+o||c===0||o===0)return null;var v=Kt("recharts-rectangle",d);return k?x.createElement(ub,{canBegin:r>0,from:{width:c,height:o,x:i,y:l},to:{width:c,height:o,x:i,y:l},duration:p,animationEasing:f,isActive:k},S=>{var{width:C,height:_,x:A,y:D}=S;return x.createElement(ub,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:p,isActive:y,easing:f},x.createElement("path",mb({},ns(t,!0),{className:v,d:cO(A,D,C,_,u),ref:a})))}):x.createElement("path",mb({},ns(t,!0),{className:v,d:cO(i,l,c,o,u)}))};function GF(s){var{cx:t,cy:a,radius:r,startAngle:n,endAngle:i}=s,l=As(t,a,r,n),c=As(t,a,r,i);return{points:[l,c],cx:t,cy:a,radius:r,startAngle:n,endAngle:i}}function RS(){return RS=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},RS.apply(null,arguments)}var Wre=(s,t)=>{var a=cr(t-s),r=Math.min(Math.abs(t-s),359.999);return a*r},Kj=s=>{var{cx:t,cy:a,radius:r,angle:n,sign:i,isExternal:l,cornerRadius:c,cornerIsExternal:o}=s,u=c*(l?1:-1)+r,d=Math.asin(c/u)/cb,f=o?n:n+i*d,p=As(t,a,u,f),j=As(t,a,r,f),y=o?n-i*d:n,k=As(t,a,u*Math.cos(d*cb),y);return{center:p,circleTangency:j,lineTangency:k,theta:d}},VF=s=>{var{cx:t,cy:a,innerRadius:r,outerRadius:n,startAngle:i,endAngle:l}=s,c=Wre(i,l),o=i+c,u=As(t,a,n,i),d=As(t,a,n,o),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(n,",").concat(n,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>o),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var p=As(t,a,r,i),j=As(t,a,r,o);f+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=o),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(t,",").concat(a," Z");return f},Yre=s=>{var{cx:t,cy:a,innerRadius:r,outerRadius:n,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:c,startAngle:o,endAngle:u}=s,d=cr(u-o),{circleTangency:f,lineTangency:p,theta:j}=Kj({cx:t,cy:a,radius:n,angle:o,sign:d,cornerRadius:i,cornerIsExternal:c}),{circleTangency:y,lineTangency:k,theta:v}=Kj({cx:t,cy:a,radius:n,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:c}),S=c?Math.abs(o-u):Math.abs(o-u)-j-v;if(S<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):VF({cx:t,cy:a,innerRadius:r,outerRadius:n,startAngle:o,endAngle:u});var C="M ".concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(n,",").concat(n,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
  `);if(r>0){var{circleTangency:_,lineTangency:A,theta:D}=Kj({cx:t,cy:a,radius:r,angle:o,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),{circleTangency:M,lineTangency:L,theta:F}=Kj({cx:t,cy:a,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),Q=c?Math.abs(o-u):Math.abs(o-u)-D-F;if(Q<0&&i===0)return"".concat(C,"L").concat(t,",").concat(a,"Z");C+="L".concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(Q>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(A.x,",").concat(A.y,"Z")}else C+="L".concat(t,",").concat(a,"Z");return C},Kre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},WF=s=>{var t=Gr(s,Kre),{cx:a,cy:r,innerRadius:n,outerRadius:i,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:o,startAngle:u,endAngle:d,className:f}=t;if(i<n||u===d)return null;var p=Kt("recharts-sector",f),j=i-n,y=an(l,j,0,!0),k;return y>0&&Math.abs(u-d)<360?k=Yre({cx:a,cy:r,innerRadius:n,outerRadius:i,cornerRadius:Math.min(y,j/2),forceCornerRadius:c,cornerIsExternal:o,startAngle:u,endAngle:d}):k=VF({cx:a,cy:r,innerRadius:n,outerRadius:i,startAngle:u,endAngle:d}),x.createElement("path",RS({},ns(t,!0),{className:p,d:k}))};function Qre(s,t,a){var r,n,i,l;if(s==="horizontal")r=t.x,i=r,n=a.top,l=a.top+a.height;else if(s==="vertical")n=t.y,l=n,r=a.left,i=a.left+a.width;else if(t.cx!=null&&t.cy!=null)if(s==="centric"){var{cx:c,cy:o,innerRadius:u,outerRadius:d,angle:f}=t,p=As(c,o,u,f),j=As(c,o,d,f);r=p.x,n=p.y,i=j.x,l=j.y}else return GF(t);return[{x:r,y:n},{x:i,y:l}]}var _2={},C2={},E2={},oO;function Xre(){return oO||(oO=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=YL();function a(r){return t.isSymbol(r)?NaN:Number(r)}s.toNumber=a})(E2)),E2}var dO;function Zre(){return dO||(dO=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=Xre();function a(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}s.toFinite=a})(C2)),C2}var hO;function Jre(){return hO||(hO=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=KL(),a=Zre();function r(n,i,l){l&&typeof l!="number"&&t.isIterateeCall(n,i,l)&&(i=l=void 0),n=a.toFinite(n),i===void 0?(i=n,n=0):i=a.toFinite(i),l=l===void 0?n<i?1:-1:a.toFinite(l);const c=Math.max(Math.ceil((i-n)/(l||1)),0),o=new Array(c);for(let u=0;u<c;u++)o[u]=n,n+=l;return o}s.range=r})(_2)),_2}var A2,uO;function ene(){return uO||(uO=1,A2=Jre().range),A2}var tne=ene();const YF=Va(tne);function pd(s,t){return s==null||t==null?NaN:s<t?-1:s>t?1:s>=t?0:NaN}function sne(s,t){return s==null||t==null?NaN:t<s?-1:t>s?1:t>=s?0:NaN}function QC(s){let t,a,r;s.length!==2?(t=pd,a=(c,o)=>pd(s(c),o),r=(c,o)=>s(c)-o):(t=s===pd||s===sne?s:ane,a=s,r=s);function n(c,o,u=0,d=c.length){if(u<d){if(t(o,o)!==0)return d;do{const f=u+d>>>1;a(c[f],o)<0?u=f+1:d=f}while(u<d)}return u}function i(c,o,u=0,d=c.length){if(u<d){if(t(o,o)!==0)return d;do{const f=u+d>>>1;a(c[f],o)<=0?u=f+1:d=f}while(u<d)}return u}function l(c,o,u=0,d=c.length){const f=n(c,o,u,d-1);return f>u&&r(c[f-1],o)>-r(c[f],o)?f-1:f}return{left:n,center:l,right:i}}function ane(){return 0}function KF(s){return s===null?NaN:+s}function*rne(s,t){for(let a of s)a!=null&&(a=+a)>=a&&(yield a)}const nne=QC(pd),Sg=nne.right;QC(KF).center;class mO extends Map{constructor(t,a=cne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),t!=null)for(const[r,n]of t)this.set(r,n)}get(t){return super.get(xO(this,t))}has(t){return super.has(xO(this,t))}set(t,a){return super.set(ine(this,t),a)}delete(t){return super.delete(lne(this,t))}}function xO({_intern:s,_key:t},a){const r=t(a);return s.has(r)?s.get(r):a}function ine({_intern:s,_key:t},a){const r=t(a);return s.has(r)?s.get(r):(s.set(r,a),a)}function lne({_intern:s,_key:t},a){const r=t(a);return s.has(r)&&(a=s.get(r),s.delete(r)),a}function cne(s){return s!==null&&typeof s=="object"?s.valueOf():s}function one(s=pd){if(s===pd)return QF;if(typeof s!="function")throw new TypeError("compare is not a function");return(t,a)=>{const r=s(t,a);return r||r===0?r:(s(a,a)===0)-(s(t,t)===0)}}function QF(s,t){return(s==null||!(s>=s))-(t==null||!(t>=t))||(s<t?-1:s>t?1:0)}const dne=Math.sqrt(50),hne=Math.sqrt(10),une=Math.sqrt(2);function xb(s,t,a){const r=(t-s)/Math.max(0,a),n=Math.floor(Math.log10(r)),i=r/Math.pow(10,n),l=i>=dne?10:i>=hne?5:i>=une?2:1;let c,o,u;return n<0?(u=Math.pow(10,-n)/l,c=Math.round(s*u),o=Math.round(t*u),c/u<s&&++c,o/u>t&&--o,u=-u):(u=Math.pow(10,n)*l,c=Math.round(s/u),o=Math.round(t/u),c*u<s&&++c,o*u>t&&--o),o<c&&.5<=a&&a<2?xb(s,t,a*2):[c,o,u]}function $S(s,t,a){if(t=+t,s=+s,a=+a,!(a>0))return[];if(s===t)return[s];const r=t<s,[n,i,l]=r?xb(t,s,a):xb(s,t,a);if(!(i>=n))return[];const c=i-n+1,o=new Array(c);if(r)if(l<0)for(let u=0;u<c;++u)o[u]=(i-u)/-l;else for(let u=0;u<c;++u)o[u]=(i-u)*l;else if(l<0)for(let u=0;u<c;++u)o[u]=(n+u)/-l;else for(let u=0;u<c;++u)o[u]=(n+u)*l;return o}function PS(s,t,a){return t=+t,s=+s,a=+a,xb(s,t,a)[2]}function IS(s,t,a){t=+t,s=+s,a=+a;const r=t<s,n=r?PS(t,s,a):PS(s,t,a);return(r?-1:1)*(n<0?1/-n:n)}function fO(s,t){let a;for(const r of s)r!=null&&(a<r||a===void 0&&r>=r)&&(a=r);return a}function pO(s,t){let a;for(const r of s)r!=null&&(a>r||a===void 0&&r>=r)&&(a=r);return a}function XF(s,t,a=0,r=1/0,n){if(t=Math.floor(t),a=Math.floor(Math.max(0,a)),r=Math.floor(Math.min(s.length-1,r)),!(a<=t&&t<=r))return s;for(n=n===void 0?QF:one(n);r>a;){if(r-a>600){const o=r-a+1,u=t-a+1,d=Math.log(o),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(o-f)/o)*(u-o/2<0?-1:1),j=Math.max(a,Math.floor(t-u*f/o+p)),y=Math.min(r,Math.floor(t+(o-u)*f/o+p));XF(s,t,j,y,n)}const i=s[t];let l=a,c=r;for(Yf(s,a,t),n(s[r],i)>0&&Yf(s,a,r);l<c;){for(Yf(s,l,c),++l,--c;n(s[l],i)<0;)++l;for(;n(s[c],i)>0;)--c}n(s[a],i)===0?Yf(s,a,c):(++c,Yf(s,c,r)),c<=t&&(a=c+1),t<=c&&(r=c-1)}return s}function Yf(s,t,a){const r=s[t];s[t]=s[a],s[a]=r}function mne(s,t,a){if(s=Float64Array.from(rne(s)),!(!(r=s.length)||isNaN(t=+t))){if(t<=0||r<2)return pO(s);if(t>=1)return fO(s);var r,n=(r-1)*t,i=Math.floor(n),l=fO(XF(s,i).subarray(0,i+1)),c=pO(s.subarray(i+1));return l+(c-l)*(n-i)}}function xne(s,t,a=KF){if(!(!(r=s.length)||isNaN(t=+t))){if(t<=0||r<2)return+a(s[0],0,s);if(t>=1)return+a(s[r-1],r-1,s);var r,n=(r-1)*t,i=Math.floor(n),l=+a(s[i],i,s),c=+a(s[i+1],i+1,s);return l+(c-l)*(n-i)}}function fne(s,t,a){s=+s,t=+t,a=(n=arguments.length)<2?(t=s,s=0,1):n<3?1:+a;for(var r=-1,n=Math.max(0,Math.ceil((t-s)/a))|0,i=new Array(n);++r<n;)i[r]=s+r*a;return i}function bi(s,t){switch(arguments.length){case 0:break;case 1:this.range(s);break;default:this.range(t).domain(s);break}return this}function ao(s,t){switch(arguments.length){case 0:break;case 1:{typeof s=="function"?this.interpolator(s):this.range(s);break}default:{this.domain(s),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const BS=Symbol("implicit");function XC(){var s=new mO,t=[],a=[],r=BS;function n(i){let l=s.get(i);if(l===void 0){if(r!==BS)return r;s.set(i,l=t.push(i)-1)}return a[l%a.length]}return n.domain=function(i){if(!arguments.length)return t.slice();t=[],s=new mO;for(const l of i)s.has(l)||s.set(l,t.push(l)-1);return n},n.range=function(i){return arguments.length?(a=Array.from(i),n):a.slice()},n.unknown=function(i){return arguments.length?(r=i,n):r},n.copy=function(){return XC(t,a).unknown(r)},bi.apply(n,arguments),n}function ZC(){var s=XC().unknown(void 0),t=s.domain,a=s.range,r=0,n=1,i,l,c=!1,o=0,u=0,d=.5;delete s.unknown;function f(){var p=t().length,j=n<r,y=j?n:r,k=j?r:n;i=(k-y)/Math.max(1,p-o+u*2),c&&(i=Math.floor(i)),y+=(k-y-i*(p-o))*d,l=i*(1-o),c&&(y=Math.round(y),l=Math.round(l));var v=fne(p).map(function(S){return y+i*S});return a(j?v.reverse():v)}return s.domain=function(p){return arguments.length?(t(p),f()):t()},s.range=function(p){return arguments.length?([r,n]=p,r=+r,n=+n,f()):[r,n]},s.rangeRound=function(p){return[r,n]=p,r=+r,n=+n,c=!0,f()},s.bandwidth=function(){return l},s.step=function(){return i},s.round=function(p){return arguments.length?(c=!!p,f()):c},s.padding=function(p){return arguments.length?(o=Math.min(1,u=+p),f()):o},s.paddingInner=function(p){return arguments.length?(o=Math.min(1,p),f()):o},s.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},s.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},s.copy=function(){return ZC(t(),[r,n]).round(c).paddingInner(o).paddingOuter(u).align(d)},bi.apply(f(),arguments)}function ZF(s){var t=s.copy;return s.padding=s.paddingOuter,delete s.paddingInner,delete s.paddingOuter,s.copy=function(){return ZF(t())},s}function pne(){return ZF(ZC.apply(null,arguments).paddingInner(1))}function JC(s,t,a){s.prototype=t.prototype=a,a.constructor=s}function JF(s,t){var a=Object.create(s.prototype);for(var r in t)a[r]=t[r];return a}function _g(){}var Pp=.7,fb=1/Pp,wm="\\s*([+-]?\\d+)\\s*",Ip="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ol="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gne=/^#([0-9a-f]{3,8})$/,yne=new RegExp(`^rgb\\(${wm},${wm},${wm}\\)$`),jne=new RegExp(`^rgb\\(${Ol},${Ol},${Ol}\\)$`),vne=new RegExp(`^rgba\\(${wm},${wm},${wm},${Ip}\\)$`),bne=new RegExp(`^rgba\\(${Ol},${Ol},${Ol},${Ip}\\)$`),Nne=new RegExp(`^hsl\\(${Ip},${Ol},${Ol}\\)$`),wne=new RegExp(`^hsla\\(${Ip},${Ol},${Ol},${Ip}\\)$`),gO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};JC(_g,Bp,{copy(s){return Object.assign(new this.constructor,this,s)},displayable(){return this.rgb().displayable()},hex:yO,formatHex:yO,formatHex8:kne,formatHsl:Sne,formatRgb:jO,toString:jO});function yO(){return this.rgb().formatHex()}function kne(){return this.rgb().formatHex8()}function Sne(){return ez(this).formatHsl()}function jO(){return this.rgb().formatRgb()}function Bp(s){var t,a;return s=(s+"").trim().toLowerCase(),(t=gne.exec(s))?(a=t[1].length,t=parseInt(t[1],16),a===6?vO(t):a===3?new vn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):a===8?Qj(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):a===4?Qj(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=yne.exec(s))?new vn(t[1],t[2],t[3],1):(t=jne.exec(s))?new vn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=vne.exec(s))?Qj(t[1],t[2],t[3],t[4]):(t=bne.exec(s))?Qj(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Nne.exec(s))?wO(t[1],t[2]/100,t[3]/100,1):(t=wne.exec(s))?wO(t[1],t[2]/100,t[3]/100,t[4]):gO.hasOwnProperty(s)?vO(gO[s]):s==="transparent"?new vn(NaN,NaN,NaN,0):null}function vO(s){return new vn(s>>16&255,s>>8&255,s&255,1)}function Qj(s,t,a,r){return r<=0&&(s=t=a=NaN),new vn(s,t,a,r)}function _ne(s){return s instanceof _g||(s=Bp(s)),s?(s=s.rgb(),new vn(s.r,s.g,s.b,s.opacity)):new vn}function LS(s,t,a,r){return arguments.length===1?_ne(s):new vn(s,t,a,r??1)}function vn(s,t,a,r){this.r=+s,this.g=+t,this.b=+a,this.opacity=+r}JC(vn,LS,JF(_g,{brighter(s){return s=s==null?fb:Math.pow(fb,s),new vn(this.r*s,this.g*s,this.b*s,this.opacity)},darker(s){return s=s==null?Pp:Math.pow(Pp,s),new vn(this.r*s,this.g*s,this.b*s,this.opacity)},rgb(){return this},clamp(){return new vn(Ih(this.r),Ih(this.g),Ih(this.b),pb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bO,formatHex:bO,formatHex8:Cne,formatRgb:NO,toString:NO}));function bO(){return`#${Eh(this.r)}${Eh(this.g)}${Eh(this.b)}`}function Cne(){return`#${Eh(this.r)}${Eh(this.g)}${Eh(this.b)}${Eh((isNaN(this.opacity)?1:this.opacity)*255)}`}function NO(){const s=pb(this.opacity);return`${s===1?"rgb(":"rgba("}${Ih(this.r)}, ${Ih(this.g)}, ${Ih(this.b)}${s===1?")":`, ${s})`}`}function pb(s){return isNaN(s)?1:Math.max(0,Math.min(1,s))}function Ih(s){return Math.max(0,Math.min(255,Math.round(s)||0))}function Eh(s){return s=Ih(s),(s<16?"0":"")+s.toString(16)}function wO(s,t,a,r){return r<=0?s=t=a=NaN:a<=0||a>=1?s=t=NaN:t<=0&&(s=NaN),new Li(s,t,a,r)}function ez(s){if(s instanceof Li)return new Li(s.h,s.s,s.l,s.opacity);if(s instanceof _g||(s=Bp(s)),!s)return new Li;if(s instanceof Li)return s;s=s.rgb();var t=s.r/255,a=s.g/255,r=s.b/255,n=Math.min(t,a,r),i=Math.max(t,a,r),l=NaN,c=i-n,o=(i+n)/2;return c?(t===i?l=(a-r)/c+(a<r)*6:a===i?l=(r-t)/c+2:l=(t-a)/c+4,c/=o<.5?i+n:2-i-n,l*=60):c=o>0&&o<1?0:l,new Li(l,c,o,s.opacity)}function Ene(s,t,a,r){return arguments.length===1?ez(s):new Li(s,t,a,r??1)}function Li(s,t,a,r){this.h=+s,this.s=+t,this.l=+a,this.opacity=+r}JC(Li,Ene,JF(_g,{brighter(s){return s=s==null?fb:Math.pow(fb,s),new Li(this.h,this.s,this.l*s,this.opacity)},darker(s){return s=s==null?Pp:Math.pow(Pp,s),new Li(this.h,this.s,this.l*s,this.opacity)},rgb(){var s=this.h%360+(this.h<0)*360,t=isNaN(s)||isNaN(this.s)?0:this.s,a=this.l,r=a+(a<.5?a:1-a)*t,n=2*a-r;return new vn(T2(s>=240?s-240:s+120,n,r),T2(s,n,r),T2(s<120?s+240:s-120,n,r),this.opacity)},clamp(){return new Li(kO(this.h),Xj(this.s),Xj(this.l),pb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const s=pb(this.opacity);return`${s===1?"hsl(":"hsla("}${kO(this.h)}, ${Xj(this.s)*100}%, ${Xj(this.l)*100}%${s===1?")":`, ${s})`}`}}));function kO(s){return s=(s||0)%360,s<0?s+360:s}function Xj(s){return Math.max(0,Math.min(1,s||0))}function T2(s,t,a){return(s<60?t+(a-t)*s/60:s<180?a:s<240?t+(a-t)*(240-s)/60:t)*255}const eE=s=>()=>s;function Ane(s,t){return function(a){return s+a*t}}function Tne(s,t,a){return s=Math.pow(s,a),t=Math.pow(t,a)-s,a=1/a,function(r){return Math.pow(s+r*t,a)}}function Mne(s){return(s=+s)==1?tz:function(t,a){return a-t?Tne(t,a,s):eE(isNaN(t)?a:t)}}function tz(s,t){var a=t-s;return a?Ane(s,a):eE(isNaN(s)?t:s)}const SO=(function s(t){var a=Mne(t);function r(n,i){var l=a((n=LS(n)).r,(i=LS(i)).r),c=a(n.g,i.g),o=a(n.b,i.b),u=tz(n.opacity,i.opacity);return function(d){return n.r=l(d),n.g=c(d),n.b=o(d),n.opacity=u(d),n+""}}return r.gamma=s,r})(1);function Dne(s,t){t||(t=[]);var a=s?Math.min(t.length,s.length):0,r=t.slice(),n;return function(i){for(n=0;n<a;++n)r[n]=s[n]*(1-i)+t[n]*i;return r}}function One(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}function Rne(s,t){var a=t?t.length:0,r=s?Math.min(a,s.length):0,n=new Array(r),i=new Array(a),l;for(l=0;l<r;++l)n[l]=dx(s[l],t[l]);for(;l<a;++l)i[l]=t[l];return function(c){for(l=0;l<r;++l)i[l]=n[l](c);return i}}function $ne(s,t){var a=new Date;return s=+s,t=+t,function(r){return a.setTime(s*(1-r)+t*r),a}}function gb(s,t){return s=+s,t=+t,function(a){return s*(1-a)+t*a}}function Pne(s,t){var a={},r={},n;(s===null||typeof s!="object")&&(s={}),(t===null||typeof t!="object")&&(t={});for(n in t)n in s?a[n]=dx(s[n],t[n]):r[n]=t[n];return function(i){for(n in a)r[n]=a[n](i);return r}}var FS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,M2=new RegExp(FS.source,"g");function Ine(s){return function(){return s}}function Bne(s){return function(t){return s(t)+""}}function Lne(s,t){var a=FS.lastIndex=M2.lastIndex=0,r,n,i,l=-1,c=[],o=[];for(s=s+"",t=t+"";(r=FS.exec(s))&&(n=M2.exec(t));)(i=n.index)>a&&(i=t.slice(a,i),c[l]?c[l]+=i:c[++l]=i),(r=r[0])===(n=n[0])?c[l]?c[l]+=n:c[++l]=n:(c[++l]=null,o.push({i:l,x:gb(r,n)})),a=M2.lastIndex;return a<t.length&&(i=t.slice(a),c[l]?c[l]+=i:c[++l]=i),c.length<2?o[0]?Bne(o[0].x):Ine(t):(t=o.length,function(u){for(var d=0,f;d<t;++d)c[(f=o[d]).i]=f.x(u);return c.join("")})}function dx(s,t){var a=typeof t,r;return t==null||a==="boolean"?eE(t):(a==="number"?gb:a==="string"?(r=Bp(t))?(t=r,SO):Lne:t instanceof Bp?SO:t instanceof Date?$ne:One(t)?Dne:Array.isArray(t)?Rne:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Pne:gb)(s,t)}function tE(s,t){return s=+s,t=+t,function(a){return Math.round(s*(1-a)+t*a)}}function Fne(s,t){t===void 0&&(t=s,s=dx);for(var a=0,r=t.length-1,n=t[0],i=new Array(r<0?0:r);a<r;)i[a]=s(n,n=t[++a]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return i[c](l-c)}}function zne(s){return function(){return s}}function yb(s){return+s}var _O=[0,1];function en(s){return s}function zS(s,t){return(t-=s=+s)?function(a){return(a-s)/t}:zne(isNaN(t)?NaN:.5)}function Hne(s,t){var a;return s>t&&(a=s,s=t,t=a),function(r){return Math.max(s,Math.min(t,r))}}function Une(s,t,a){var r=s[0],n=s[1],i=t[0],l=t[1];return n<r?(r=zS(n,r),i=a(l,i)):(r=zS(r,n),i=a(i,l)),function(c){return i(r(c))}}function qne(s,t,a){var r=Math.min(s.length,t.length)-1,n=new Array(r),i=new Array(r),l=-1;for(s[r]<s[0]&&(s=s.slice().reverse(),t=t.slice().reverse());++l<r;)n[l]=zS(s[l],s[l+1]),i[l]=a(t[l],t[l+1]);return function(c){var o=Sg(s,c,1,r)-1;return i[o](n[o](c))}}function Cg(s,t){return t.domain(s.domain()).range(s.range()).interpolate(s.interpolate()).clamp(s.clamp()).unknown(s.unknown())}function zN(){var s=_O,t=_O,a=dx,r,n,i,l=en,c,o,u;function d(){var p=Math.min(s.length,t.length);return l!==en&&(l=Hne(s[0],s[p-1])),c=p>2?qne:Une,o=u=null,f}function f(p){return p==null||isNaN(p=+p)?i:(o||(o=c(s.map(r),t,a)))(r(l(p)))}return f.invert=function(p){return l(n((u||(u=c(t,s.map(r),gb)))(p)))},f.domain=function(p){return arguments.length?(s=Array.from(p,yb),d()):s.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),a=tE,d()},f.clamp=function(p){return arguments.length?(l=p?!0:en,d()):l!==en},f.interpolate=function(p){return arguments.length?(a=p,d()):a},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,j){return r=p,n=j,d()}}function sE(){return zN()(en,en)}function Gne(s){return Math.abs(s=Math.round(s))>=1e21?s.toLocaleString("en").replace(/,/g,""):s.toString(10)}function jb(s,t){if((a=(s=t?s.toExponential(t-1):s.toExponential()).indexOf("e"))<0)return null;var a,r=s.slice(0,a);return[r.length>1?r[0]+r.slice(2):r,+s.slice(a+1)]}function Im(s){return s=jb(Math.abs(s)),s?s[1]:NaN}function Vne(s,t){return function(a,r){for(var n=a.length,i=[],l=0,c=s[0],o=0;n>0&&c>0&&(o+c+1>r&&(c=Math.max(1,r-o)),i.push(a.substring(n-=c,n+c)),!((o+=c+1)>r));)c=s[l=(l+1)%s.length];return i.reverse().join(t)}}function Wne(s){return function(t){return t.replace(/[0-9]/g,function(a){return s[+a]})}}var Yne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lp(s){if(!(t=Yne.exec(s)))throw new Error("invalid format: "+s);var t;return new aE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Lp.prototype=aE.prototype;function aE(s){this.fill=s.fill===void 0?" ":s.fill+"",this.align=s.align===void 0?">":s.align+"",this.sign=s.sign===void 0?"-":s.sign+"",this.symbol=s.symbol===void 0?"":s.symbol+"",this.zero=!!s.zero,this.width=s.width===void 0?void 0:+s.width,this.comma=!!s.comma,this.precision=s.precision===void 0?void 0:+s.precision,this.trim=!!s.trim,this.type=s.type===void 0?"":s.type+""}aE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Kne(s){e:for(var t=s.length,a=1,r=-1,n;a<t;++a)switch(s[a]){case".":r=n=a;break;case"0":r===0&&(r=a),n=a;break;default:if(!+s[a])break e;r>0&&(r=0);break}return r>0?s.slice(0,r)+s.slice(n+1):s}var sz;function Qne(s,t){var a=jb(s,t);if(!a)return s+"";var r=a[0],n=a[1],i=n-(sz=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,l=r.length;return i===l?r:i>l?r+new Array(i-l+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+jb(s,Math.max(0,t+i-1))[0]}function CO(s,t){var a=jb(s,t);if(!a)return s+"";var r=a[0],n=a[1];return n<0?"0."+new Array(-n).join("0")+r:r.length>n+1?r.slice(0,n+1)+"."+r.slice(n+1):r+new Array(n-r.length+2).join("0")}const EO={"%":(s,t)=>(s*100).toFixed(t),b:s=>Math.round(s).toString(2),c:s=>s+"",d:Gne,e:(s,t)=>s.toExponential(t),f:(s,t)=>s.toFixed(t),g:(s,t)=>s.toPrecision(t),o:s=>Math.round(s).toString(8),p:(s,t)=>CO(s*100,t),r:CO,s:Qne,X:s=>Math.round(s).toString(16).toUpperCase(),x:s=>Math.round(s).toString(16)};function AO(s){return s}var TO=Array.prototype.map,MO=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Xne(s){var t=s.grouping===void 0||s.thousands===void 0?AO:Vne(TO.call(s.grouping,Number),s.thousands+""),a=s.currency===void 0?"":s.currency[0]+"",r=s.currency===void 0?"":s.currency[1]+"",n=s.decimal===void 0?".":s.decimal+"",i=s.numerals===void 0?AO:Wne(TO.call(s.numerals,String)),l=s.percent===void 0?"%":s.percent+"",c=s.minus===void 0?"−":s.minus+"",o=s.nan===void 0?"NaN":s.nan+"";function u(f){f=Lp(f);var p=f.fill,j=f.align,y=f.sign,k=f.symbol,v=f.zero,S=f.width,C=f.comma,_=f.precision,A=f.trim,D=f.type;D==="n"?(C=!0,D="g"):EO[D]||(_===void 0&&(_=12),A=!0,D="g"),(v||p==="0"&&j==="=")&&(v=!0,p="0",j="=");var M=k==="$"?a:k==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",L=k==="$"?r:/[%p]/.test(D)?l:"",F=EO[D],Q=/[defgprs%]/.test(D);_=_===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function I(H){var z=M,K=L,U,V,P;if(D==="c")K=F(H)+K,H="";else{H=+H;var q=H<0||1/H<0;if(H=isNaN(H)?o:F(Math.abs(H),_),A&&(H=Kne(H)),q&&+H==0&&y!=="+"&&(q=!1),z=(q?y==="("?y:c:y==="-"||y==="("?"":y)+z,K=(D==="s"?MO[8+sz/3]:"")+K+(q&&y==="("?")":""),Q){for(U=-1,V=H.length;++U<V;)if(P=H.charCodeAt(U),48>P||P>57){K=(P===46?n+H.slice(U+1):H.slice(U))+K,H=H.slice(0,U);break}}}C&&!v&&(H=t(H,1/0));var G=z.length+H.length+K.length,se=G<S?new Array(S-G+1).join(p):"";switch(C&&v&&(H=t(se+H,se.length?S-K.length:1/0),se=""),j){case"<":H=z+H+K+se;break;case"=":H=z+se+H+K;break;case"^":H=se.slice(0,G=se.length>>1)+z+H+K+se.slice(G);break;default:H=se+z+H+K;break}return i(H)}return I.toString=function(){return f+""},I}function d(f,p){var j=u((f=Lp(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Im(p)/3)))*3,k=Math.pow(10,-y),v=MO[8+y/3];return function(S){return j(k*S)+v}}return{format:u,formatPrefix:d}}var Zj,rE,az;Zne({thousands:",",grouping:[3],currency:["$",""]});function Zne(s){return Zj=Xne(s),rE=Zj.format,az=Zj.formatPrefix,Zj}function Jne(s){return Math.max(0,-Im(Math.abs(s)))}function eie(s,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Im(t)/3)))*3-Im(Math.abs(s)))}function tie(s,t){return s=Math.abs(s),t=Math.abs(t)-s,Math.max(0,Im(t)-Im(s))+1}function rz(s,t,a,r){var n=IS(s,t,a),i;switch(r=Lp(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(s),Math.abs(t));return r.precision==null&&!isNaN(i=eie(n,l))&&(r.precision=i),az(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=tie(n,Math.max(Math.abs(s),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Jne(n))&&(r.precision=i-(r.type==="%")*2);break}}return rE(r)}function Td(s){var t=s.domain;return s.ticks=function(a){var r=t();return $S(r[0],r[r.length-1],a??10)},s.tickFormat=function(a,r){var n=t();return rz(n[0],n[n.length-1],a??10,r)},s.nice=function(a){a==null&&(a=10);var r=t(),n=0,i=r.length-1,l=r[n],c=r[i],o,u,d=10;for(c<l&&(u=l,l=c,c=u,u=n,n=i,i=u);d-- >0;){if(u=PS(l,c,a),u===o)return r[n]=l,r[i]=c,t(r);if(u>0)l=Math.floor(l/u)*u,c=Math.ceil(c/u)*u;else if(u<0)l=Math.ceil(l*u)/u,c=Math.floor(c*u)/u;else break;o=u}return s},s}function nz(){var s=sE();return s.copy=function(){return Cg(s,nz())},bi.apply(s,arguments),Td(s)}function iz(s){var t;function a(r){return r==null||isNaN(r=+r)?t:r}return a.invert=a,a.domain=a.range=function(r){return arguments.length?(s=Array.from(r,yb),a):s.slice()},a.unknown=function(r){return arguments.length?(t=r,a):t},a.copy=function(){return iz(s).unknown(t)},s=arguments.length?Array.from(s,yb):[0,1],Td(a)}function lz(s,t){s=s.slice();var a=0,r=s.length-1,n=s[a],i=s[r],l;return i<n&&(l=a,a=r,r=l,l=n,n=i,i=l),s[a]=t.floor(n),s[r]=t.ceil(i),s}function DO(s){return Math.log(s)}function OO(s){return Math.exp(s)}function sie(s){return-Math.log(-s)}function aie(s){return-Math.exp(-s)}function rie(s){return isFinite(s)?+("1e"+s):s<0?0:s}function nie(s){return s===10?rie:s===Math.E?Math.exp:t=>Math.pow(s,t)}function iie(s){return s===Math.E?Math.log:s===10&&Math.log10||s===2&&Math.log2||(s=Math.log(s),t=>Math.log(t)/s)}function RO(s){return(t,a)=>-s(-t,a)}function nE(s){const t=s(DO,OO),a=t.domain;let r=10,n,i;function l(){return n=iie(r),i=nie(r),a()[0]<0?(n=RO(n),i=RO(i),s(sie,aie)):s(DO,OO),t}return t.base=function(c){return arguments.length?(r=+c,l()):r},t.domain=function(c){return arguments.length?(a(c),l()):a()},t.ticks=c=>{const o=a();let u=o[0],d=o[o.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=n(u),j=n(d),y,k;const v=c==null?10:+c;let S=[];if(!(r%1)&&j-p<v){if(p=Math.floor(p),j=Math.ceil(j),u>0){for(;p<=j;++p)for(y=1;y<r;++y)if(k=p<0?y/i(-p):y*i(p),!(k<u)){if(k>d)break;S.push(k)}}else for(;p<=j;++p)for(y=r-1;y>=1;--y)if(k=p>0?y/i(-p):y*i(p),!(k<u)){if(k>d)break;S.push(k)}S.length*2<v&&(S=$S(u,d,v))}else S=$S(p,j,Math.min(j-p,v)).map(i);return f?S.reverse():S},t.tickFormat=(c,o)=>{if(c==null&&(c=10),o==null&&(o=r===10?"s":","),typeof o!="function"&&(!(r%1)&&(o=Lp(o)).precision==null&&(o.trim=!0),o=rE(o)),c===1/0)return o;const u=Math.max(1,r*c/t.ticks().length);return d=>{let f=d/i(Math.round(n(d)));return f*r<r-.5&&(f*=r),f<=u?o(d):""}},t.nice=()=>a(lz(a(),{floor:c=>i(Math.floor(n(c))),ceil:c=>i(Math.ceil(n(c)))})),t}function cz(){const s=nE(zN()).domain([1,10]);return s.copy=()=>Cg(s,cz()).base(s.base()),bi.apply(s,arguments),s}function $O(s){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/s))}}function PO(s){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*s}}function iE(s){var t=1,a=s($O(t),PO(t));return a.constant=function(r){return arguments.length?s($O(t=+r),PO(t)):t},Td(a)}function oz(){var s=iE(zN());return s.copy=function(){return Cg(s,oz()).constant(s.constant())},bi.apply(s,arguments)}function IO(s){return function(t){return t<0?-Math.pow(-t,s):Math.pow(t,s)}}function lie(s){return s<0?-Math.sqrt(-s):Math.sqrt(s)}function cie(s){return s<0?-s*s:s*s}function lE(s){var t=s(en,en),a=1;function r(){return a===1?s(en,en):a===.5?s(lie,cie):s(IO(a),IO(1/a))}return t.exponent=function(n){return arguments.length?(a=+n,r()):a},Td(t)}function cE(){var s=lE(zN());return s.copy=function(){return Cg(s,cE()).exponent(s.exponent())},bi.apply(s,arguments),s}function oie(){return cE.apply(null,arguments).exponent(.5)}function BO(s){return Math.sign(s)*s*s}function die(s){return Math.sign(s)*Math.sqrt(Math.abs(s))}function dz(){var s=sE(),t=[0,1],a=!1,r;function n(i){var l=die(s(i));return isNaN(l)?r:a?Math.round(l):l}return n.invert=function(i){return s.invert(BO(i))},n.domain=function(i){return arguments.length?(s.domain(i),n):s.domain()},n.range=function(i){return arguments.length?(s.range((t=Array.from(i,yb)).map(BO)),n):t.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(a=!!i,n):a},n.clamp=function(i){return arguments.length?(s.clamp(i),n):s.clamp()},n.unknown=function(i){return arguments.length?(r=i,n):r},n.copy=function(){return dz(s.domain(),t).round(a).clamp(s.clamp()).unknown(r)},bi.apply(n,arguments),Td(n)}function hz(){var s=[],t=[],a=[],r;function n(){var l=0,c=Math.max(1,t.length);for(a=new Array(c-1);++l<c;)a[l-1]=xne(s,l/c);return i}function i(l){return l==null||isNaN(l=+l)?r:t[Sg(a,l)]}return i.invertExtent=function(l){var c=t.indexOf(l);return c<0?[NaN,NaN]:[c>0?a[c-1]:s[0],c<a.length?a[c]:s[s.length-1]]},i.domain=function(l){if(!arguments.length)return s.slice();s=[];for(let c of l)c!=null&&!isNaN(c=+c)&&s.push(c);return s.sort(pd),n()},i.range=function(l){return arguments.length?(t=Array.from(l),n()):t.slice()},i.unknown=function(l){return arguments.length?(r=l,i):r},i.quantiles=function(){return a.slice()},i.copy=function(){return hz().domain(s).range(t).unknown(r)},bi.apply(i,arguments)}function uz(){var s=0,t=1,a=1,r=[.5],n=[0,1],i;function l(o){return o!=null&&o<=o?n[Sg(r,o,0,a)]:i}function c(){var o=-1;for(r=new Array(a);++o<a;)r[o]=((o+1)*t-(o-a)*s)/(a+1);return l}return l.domain=function(o){return arguments.length?([s,t]=o,s=+s,t=+t,c()):[s,t]},l.range=function(o){return arguments.length?(a=(n=Array.from(o)).length-1,c()):n.slice()},l.invertExtent=function(o){var u=n.indexOf(o);return u<0?[NaN,NaN]:u<1?[s,r[0]]:u>=a?[r[a-1],t]:[r[u-1],r[u]]},l.unknown=function(o){return arguments.length&&(i=o),l},l.thresholds=function(){return r.slice()},l.copy=function(){return uz().domain([s,t]).range(n).unknown(i)},bi.apply(Td(l),arguments)}function mz(){var s=[.5],t=[0,1],a,r=1;function n(i){return i!=null&&i<=i?t[Sg(s,i,0,r)]:a}return n.domain=function(i){return arguments.length?(s=Array.from(i),r=Math.min(s.length,t.length-1),n):s.slice()},n.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(s.length,t.length-1),n):t.slice()},n.invertExtent=function(i){var l=t.indexOf(i);return[s[l-1],s[l]]},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return mz().domain(s).range(t).unknown(a)},bi.apply(n,arguments)}const D2=new Date,O2=new Date;function Qa(s,t,a,r){function n(i){return s(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(s(i=new Date(+i)),i),n.ceil=i=>(s(i=new Date(i-1)),t(i,1),s(i),i),n.round=i=>{const l=n(i),c=n.ceil(i);return i-l<c-i?l:c},n.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),n.range=(i,l,c)=>{const o=[];if(i=n.ceil(i),c=c==null?1:Math.floor(c),!(i<l)||!(c>0))return o;let u;do o.push(u=new Date(+i)),t(i,c),s(i);while(u<i&&i<l);return o},n.filter=i=>Qa(l=>{if(l>=l)for(;s(l),!i(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;t(l,-1),!i(l););else for(;--c>=0;)for(;t(l,1),!i(l););}),a&&(n.count=(i,l)=>(D2.setTime(+i),O2.setTime(+l),s(D2),s(O2),Math.floor(a(D2,O2))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(r?l=>r(l)%i===0:l=>n.count(0,l)%i===0):n)),n}const vb=Qa(()=>{},(s,t)=>{s.setTime(+s+t)},(s,t)=>t-s);vb.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?Qa(t=>{t.setTime(Math.floor(t/s)*s)},(t,a)=>{t.setTime(+t+a*s)},(t,a)=>(a-t)/s):vb);vb.range;const Cc=1e3,fi=Cc*60,Ec=fi*60,Gc=Ec*24,oE=Gc*7,LO=Gc*30,R2=Gc*365,Ah=Qa(s=>{s.setTime(s-s.getMilliseconds())},(s,t)=>{s.setTime(+s+t*Cc)},(s,t)=>(t-s)/Cc,s=>s.getUTCSeconds());Ah.range;const dE=Qa(s=>{s.setTime(s-s.getMilliseconds()-s.getSeconds()*Cc)},(s,t)=>{s.setTime(+s+t*fi)},(s,t)=>(t-s)/fi,s=>s.getMinutes());dE.range;const hE=Qa(s=>{s.setUTCSeconds(0,0)},(s,t)=>{s.setTime(+s+t*fi)},(s,t)=>(t-s)/fi,s=>s.getUTCMinutes());hE.range;const uE=Qa(s=>{s.setTime(s-s.getMilliseconds()-s.getSeconds()*Cc-s.getMinutes()*fi)},(s,t)=>{s.setTime(+s+t*Ec)},(s,t)=>(t-s)/Ec,s=>s.getHours());uE.range;const mE=Qa(s=>{s.setUTCMinutes(0,0,0)},(s,t)=>{s.setTime(+s+t*Ec)},(s,t)=>(t-s)/Ec,s=>s.getUTCHours());mE.range;const Eg=Qa(s=>s.setHours(0,0,0,0),(s,t)=>s.setDate(s.getDate()+t),(s,t)=>(t-s-(t.getTimezoneOffset()-s.getTimezoneOffset())*fi)/Gc,s=>s.getDate()-1);Eg.range;const HN=Qa(s=>{s.setUTCHours(0,0,0,0)},(s,t)=>{s.setUTCDate(s.getUTCDate()+t)},(s,t)=>(t-s)/Gc,s=>s.getUTCDate()-1);HN.range;const xz=Qa(s=>{s.setUTCHours(0,0,0,0)},(s,t)=>{s.setUTCDate(s.getUTCDate()+t)},(s,t)=>(t-s)/Gc,s=>Math.floor(s/Gc));xz.range;function nu(s){return Qa(t=>{t.setDate(t.getDate()-(t.getDay()+7-s)%7),t.setHours(0,0,0,0)},(t,a)=>{t.setDate(t.getDate()+a*7)},(t,a)=>(a-t-(a.getTimezoneOffset()-t.getTimezoneOffset())*fi)/oE)}const UN=nu(0),bb=nu(1),hie=nu(2),uie=nu(3),Bm=nu(4),mie=nu(5),xie=nu(6);UN.range;bb.range;hie.range;uie.range;Bm.range;mie.range;xie.range;function iu(s){return Qa(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-s)%7),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCDate(t.getUTCDate()+a*7)},(t,a)=>(a-t)/oE)}const qN=iu(0),Nb=iu(1),fie=iu(2),pie=iu(3),Lm=iu(4),gie=iu(5),yie=iu(6);qN.range;Nb.range;fie.range;pie.range;Lm.range;gie.range;yie.range;const xE=Qa(s=>{s.setDate(1),s.setHours(0,0,0,0)},(s,t)=>{s.setMonth(s.getMonth()+t)},(s,t)=>t.getMonth()-s.getMonth()+(t.getFullYear()-s.getFullYear())*12,s=>s.getMonth());xE.range;const fE=Qa(s=>{s.setUTCDate(1),s.setUTCHours(0,0,0,0)},(s,t)=>{s.setUTCMonth(s.getUTCMonth()+t)},(s,t)=>t.getUTCMonth()-s.getUTCMonth()+(t.getUTCFullYear()-s.getUTCFullYear())*12,s=>s.getUTCMonth());fE.range;const Vc=Qa(s=>{s.setMonth(0,1),s.setHours(0,0,0,0)},(s,t)=>{s.setFullYear(s.getFullYear()+t)},(s,t)=>t.getFullYear()-s.getFullYear(),s=>s.getFullYear());Vc.every=s=>!isFinite(s=Math.floor(s))||!(s>0)?null:Qa(t=>{t.setFullYear(Math.floor(t.getFullYear()/s)*s),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,a)=>{t.setFullYear(t.getFullYear()+a*s)});Vc.range;const Wc=Qa(s=>{s.setUTCMonth(0,1),s.setUTCHours(0,0,0,0)},(s,t)=>{s.setUTCFullYear(s.getUTCFullYear()+t)},(s,t)=>t.getUTCFullYear()-s.getUTCFullYear(),s=>s.getUTCFullYear());Wc.every=s=>!isFinite(s=Math.floor(s))||!(s>0)?null:Qa(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/s)*s),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCFullYear(t.getUTCFullYear()+a*s)});Wc.range;function fz(s,t,a,r,n,i){const l=[[Ah,1,Cc],[Ah,5,5*Cc],[Ah,15,15*Cc],[Ah,30,30*Cc],[i,1,fi],[i,5,5*fi],[i,15,15*fi],[i,30,30*fi],[n,1,Ec],[n,3,3*Ec],[n,6,6*Ec],[n,12,12*Ec],[r,1,Gc],[r,2,2*Gc],[a,1,oE],[t,1,LO],[t,3,3*LO],[s,1,R2]];function c(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const j=f&&typeof f.range=="function"?f:o(u,d,f),y=j?j.range(u,+d+1):[];return p?y.reverse():y}function o(u,d,f){const p=Math.abs(d-u)/f,j=QC(([,,v])=>v).right(l,p);if(j===l.length)return s.every(IS(u/R2,d/R2,f));if(j===0)return vb.every(Math.max(IS(u,d,f),1));const[y,k]=l[p/l[j-1][2]<l[j][2]/p?j-1:j];return y.every(k)}return[c,o]}const[jie,vie]=fz(Wc,fE,qN,xz,mE,hE),[bie,Nie]=fz(Vc,xE,UN,Eg,uE,dE);function $2(s){if(0<=s.y&&s.y<100){var t=new Date(-1,s.m,s.d,s.H,s.M,s.S,s.L);return t.setFullYear(s.y),t}return new Date(s.y,s.m,s.d,s.H,s.M,s.S,s.L)}function P2(s){if(0<=s.y&&s.y<100){var t=new Date(Date.UTC(-1,s.m,s.d,s.H,s.M,s.S,s.L));return t.setUTCFullYear(s.y),t}return new Date(Date.UTC(s.y,s.m,s.d,s.H,s.M,s.S,s.L))}function Kf(s,t,a){return{y:s,m:t,d:a,H:0,M:0,S:0,L:0}}function wie(s){var t=s.dateTime,a=s.date,r=s.time,n=s.periods,i=s.days,l=s.shortDays,c=s.months,o=s.shortMonths,u=Qf(n),d=Xf(n),f=Qf(i),p=Xf(i),j=Qf(l),y=Xf(l),k=Qf(c),v=Xf(c),S=Qf(o),C=Xf(o),_={a:q,A:G,b:se,B:O,c:null,d:GO,e:GO,f:Vie,g:sle,G:rle,H:Uie,I:qie,j:Gie,L:pz,m:Wie,M:Yie,p:W,q:Z,Q:YO,s:KO,S:Kie,u:Qie,U:Xie,V:Zie,w:Jie,W:ele,x:null,X:null,y:tle,Y:ale,Z:nle,"%":WO},A={a:te,A:ie,b:fe,B:J,c:null,d:VO,e:VO,f:ole,g:jle,G:ble,H:ile,I:lle,j:cle,L:yz,m:dle,M:hle,p:ge,q:re,Q:YO,s:KO,S:ule,u:mle,U:xle,V:fle,w:ple,W:gle,x:null,X:null,y:yle,Y:vle,Z:Nle,"%":WO},D={a:I,A:H,b:z,B:K,c:U,d:UO,e:UO,f:Lie,g:HO,G:zO,H:qO,I:qO,j:$ie,L:Bie,m:Rie,M:Pie,p:Q,q:Oie,Q:zie,s:Hie,S:Iie,u:Eie,U:Aie,V:Tie,w:Cie,W:Mie,x:V,X:P,y:HO,Y:zO,Z:Die,"%":Fie};_.x=M(a,_),_.X=M(r,_),_.c=M(t,_),A.x=M(a,A),A.X=M(r,A),A.c=M(t,A);function M(ve,Oe){return function(ee){var me=[],Xe=-1,Se=0,ae=ve.length,ye,st,He;for(ee instanceof Date||(ee=new Date(+ee));++Xe<ae;)ve.charCodeAt(Xe)===37&&(me.push(ve.slice(Se,Xe)),(st=FO[ye=ve.charAt(++Xe)])!=null?ye=ve.charAt(++Xe):st=ye==="e"?" ":"0",(He=Oe[ye])&&(ye=He(ee,st)),me.push(ye),Se=Xe+1);return me.push(ve.slice(Se,Xe)),me.join("")}}function L(ve,Oe){return function(ee){var me=Kf(1900,void 0,1),Xe=F(me,ve,ee+="",0),Se,ae;if(Xe!=ee.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(Oe&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Se=P2(Kf(me.y,0,1)),ae=Se.getUTCDay(),Se=ae>4||ae===0?Nb.ceil(Se):Nb(Se),Se=HN.offset(Se,(me.V-1)*7),me.y=Se.getUTCFullYear(),me.m=Se.getUTCMonth(),me.d=Se.getUTCDate()+(me.w+6)%7):(Se=$2(Kf(me.y,0,1)),ae=Se.getDay(),Se=ae>4||ae===0?bb.ceil(Se):bb(Se),Se=Eg.offset(Se,(me.V-1)*7),me.y=Se.getFullYear(),me.m=Se.getMonth(),me.d=Se.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),ae="Z"in me?P2(Kf(me.y,0,1)).getUTCDay():$2(Kf(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(ae+5)%7:me.w+me.U*7-(ae+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,P2(me)):$2(me)}}function F(ve,Oe,ee,me){for(var Xe=0,Se=Oe.length,ae=ee.length,ye,st;Xe<Se;){if(me>=ae)return-1;if(ye=Oe.charCodeAt(Xe++),ye===37){if(ye=Oe.charAt(Xe++),st=D[ye in FO?Oe.charAt(Xe++):ye],!st||(me=st(ve,ee,me))<0)return-1}else if(ye!=ee.charCodeAt(me++))return-1}return me}function Q(ve,Oe,ee){var me=u.exec(Oe.slice(ee));return me?(ve.p=d.get(me[0].toLowerCase()),ee+me[0].length):-1}function I(ve,Oe,ee){var me=j.exec(Oe.slice(ee));return me?(ve.w=y.get(me[0].toLowerCase()),ee+me[0].length):-1}function H(ve,Oe,ee){var me=f.exec(Oe.slice(ee));return me?(ve.w=p.get(me[0].toLowerCase()),ee+me[0].length):-1}function z(ve,Oe,ee){var me=S.exec(Oe.slice(ee));return me?(ve.m=C.get(me[0].toLowerCase()),ee+me[0].length):-1}function K(ve,Oe,ee){var me=k.exec(Oe.slice(ee));return me?(ve.m=v.get(me[0].toLowerCase()),ee+me[0].length):-1}function U(ve,Oe,ee){return F(ve,t,Oe,ee)}function V(ve,Oe,ee){return F(ve,a,Oe,ee)}function P(ve,Oe,ee){return F(ve,r,Oe,ee)}function q(ve){return l[ve.getDay()]}function G(ve){return i[ve.getDay()]}function se(ve){return o[ve.getMonth()]}function O(ve){return c[ve.getMonth()]}function W(ve){return n[+(ve.getHours()>=12)]}function Z(ve){return 1+~~(ve.getMonth()/3)}function te(ve){return l[ve.getUTCDay()]}function ie(ve){return i[ve.getUTCDay()]}function fe(ve){return o[ve.getUTCMonth()]}function J(ve){return c[ve.getUTCMonth()]}function ge(ve){return n[+(ve.getUTCHours()>=12)]}function re(ve){return 1+~~(ve.getUTCMonth()/3)}return{format:function(ve){var Oe=M(ve+="",_);return Oe.toString=function(){return ve},Oe},parse:function(ve){var Oe=L(ve+="",!1);return Oe.toString=function(){return ve},Oe},utcFormat:function(ve){var Oe=M(ve+="",A);return Oe.toString=function(){return ve},Oe},utcParse:function(ve){var Oe=L(ve+="",!0);return Oe.toString=function(){return ve},Oe}}}var FO={"-":"",_:" ",0:"0"},hr=/^\s*\d+/,kie=/^%/,Sie=/[\\^$*+?|[\]().{}]/g;function ws(s,t,a){var r=s<0?"-":"",n=(r?-s:s)+"",i=n.length;return r+(i<a?new Array(a-i+1).join(t)+n:n)}function _ie(s){return s.replace(Sie,"\\$&")}function Qf(s){return new RegExp("^(?:"+s.map(_ie).join("|")+")","i")}function Xf(s){return new Map(s.map((t,a)=>[t.toLowerCase(),a]))}function Cie(s,t,a){var r=hr.exec(t.slice(a,a+1));return r?(s.w=+r[0],a+r[0].length):-1}function Eie(s,t,a){var r=hr.exec(t.slice(a,a+1));return r?(s.u=+r[0],a+r[0].length):-1}function Aie(s,t,a){var r=hr.exec(t.slice(a,a+2));return r?(s.U=+r[0],a+r[0].length):-1}function Tie(s,t,a){var r=hr.exec(t.slice(a,a+2));return r?(s.V=+r[0],a+r[0].length):-1}function Mie(s,t,a){var r=hr.exec(t.slice(a,a+2));return r?(s.W=+r[0],a+r[0].length):-1}function zO(s,t,a){var r=hr.exec(t.slice(a,a+4));return r?(s.y=+r[0],a+r[0].length):-1}function HO(s,t,a){var r=hr.exec(t.slice(a,a+2));return r?(s.y=+r[0]+(+r[0]>68?1900:2e3),a+r[0].length):-1}function Die(s,t,a){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(a,a+6));return r?(s.Z=r[1]?0:-(r[2]+(r[3]||"00")),a+r[0].length):-1}function Oie(s,t,a){var r=hr.exec(t.slice(a,a+1));return r?(s.q=r[0]*3-3,a+r[0].length):-1}function Rie(s,t,a){var r=hr.exec(t.slice(a,a+2));return r?(s.m=r[0]-1,a+r[0].length):-1}function UO(s,t,a){var r=hr.exec(t.slice(a,a+2));return r?(s.d=+r[0],a+r[0].length):-1}function $ie(s,t,a){var r=hr.exec(t.slice(a,a+3));return r?(s.m=0,s.d=+r[0],a+r[0].length):-1}function qO(s,t,a){var r=hr.exec(t.slice(a,a+2));return r?(s.H=+r[0],a+r[0].length):-1}function Pie(s,t,a){var r=hr.exec(t.slice(a,a+2));return r?(s.M=+r[0],a+r[0].length):-1}function Iie(s,t,a){var r=hr.exec(t.slice(a,a+2));return r?(s.S=+r[0],a+r[0].length):-1}function Bie(s,t,a){var r=hr.exec(t.slice(a,a+3));return r?(s.L=+r[0],a+r[0].length):-1}function Lie(s,t,a){var r=hr.exec(t.slice(a,a+6));return r?(s.L=Math.floor(r[0]/1e3),a+r[0].length):-1}function Fie(s,t,a){var r=kie.exec(t.slice(a,a+1));return r?a+r[0].length:-1}function zie(s,t,a){var r=hr.exec(t.slice(a));return r?(s.Q=+r[0],a+r[0].length):-1}function Hie(s,t,a){var r=hr.exec(t.slice(a));return r?(s.s=+r[0],a+r[0].length):-1}function GO(s,t){return ws(s.getDate(),t,2)}function Uie(s,t){return ws(s.getHours(),t,2)}function qie(s,t){return ws(s.getHours()%12||12,t,2)}function Gie(s,t){return ws(1+Eg.count(Vc(s),s),t,3)}function pz(s,t){return ws(s.getMilliseconds(),t,3)}function Vie(s,t){return pz(s,t)+"000"}function Wie(s,t){return ws(s.getMonth()+1,t,2)}function Yie(s,t){return ws(s.getMinutes(),t,2)}function Kie(s,t){return ws(s.getSeconds(),t,2)}function Qie(s){var t=s.getDay();return t===0?7:t}function Xie(s,t){return ws(UN.count(Vc(s)-1,s),t,2)}function gz(s){var t=s.getDay();return t>=4||t===0?Bm(s):Bm.ceil(s)}function Zie(s,t){return s=gz(s),ws(Bm.count(Vc(s),s)+(Vc(s).getDay()===4),t,2)}function Jie(s){return s.getDay()}function ele(s,t){return ws(bb.count(Vc(s)-1,s),t,2)}function tle(s,t){return ws(s.getFullYear()%100,t,2)}function sle(s,t){return s=gz(s),ws(s.getFullYear()%100,t,2)}function ale(s,t){return ws(s.getFullYear()%1e4,t,4)}function rle(s,t){var a=s.getDay();return s=a>=4||a===0?Bm(s):Bm.ceil(s),ws(s.getFullYear()%1e4,t,4)}function nle(s){var t=s.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ws(t/60|0,"0",2)+ws(t%60,"0",2)}function VO(s,t){return ws(s.getUTCDate(),t,2)}function ile(s,t){return ws(s.getUTCHours(),t,2)}function lle(s,t){return ws(s.getUTCHours()%12||12,t,2)}function cle(s,t){return ws(1+HN.count(Wc(s),s),t,3)}function yz(s,t){return ws(s.getUTCMilliseconds(),t,3)}function ole(s,t){return yz(s,t)+"000"}function dle(s,t){return ws(s.getUTCMonth()+1,t,2)}function hle(s,t){return ws(s.getUTCMinutes(),t,2)}function ule(s,t){return ws(s.getUTCSeconds(),t,2)}function mle(s){var t=s.getUTCDay();return t===0?7:t}function xle(s,t){return ws(qN.count(Wc(s)-1,s),t,2)}function jz(s){var t=s.getUTCDay();return t>=4||t===0?Lm(s):Lm.ceil(s)}function fle(s,t){return s=jz(s),ws(Lm.count(Wc(s),s)+(Wc(s).getUTCDay()===4),t,2)}function ple(s){return s.getUTCDay()}function gle(s,t){return ws(Nb.count(Wc(s)-1,s),t,2)}function yle(s,t){return ws(s.getUTCFullYear()%100,t,2)}function jle(s,t){return s=jz(s),ws(s.getUTCFullYear()%100,t,2)}function vle(s,t){return ws(s.getUTCFullYear()%1e4,t,4)}function ble(s,t){var a=s.getUTCDay();return s=a>=4||a===0?Lm(s):Lm.ceil(s),ws(s.getUTCFullYear()%1e4,t,4)}function Nle(){return"+0000"}function WO(){return"%"}function YO(s){return+s}function KO(s){return Math.floor(+s/1e3)}var om,vz,bz;wle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function wle(s){return om=wie(s),vz=om.format,om.parse,bz=om.utcFormat,om.utcParse,om}function kle(s){return new Date(s)}function Sle(s){return s instanceof Date?+s:+new Date(+s)}function pE(s,t,a,r,n,i,l,c,o,u){var d=sE(),f=d.invert,p=d.domain,j=u(".%L"),y=u(":%S"),k=u("%I:%M"),v=u("%I %p"),S=u("%a %d"),C=u("%b %d"),_=u("%B"),A=u("%Y");function D(M){return(o(M)<M?j:c(M)<M?y:l(M)<M?k:i(M)<M?v:r(M)<M?n(M)<M?S:C:a(M)<M?_:A)(M)}return d.invert=function(M){return new Date(f(M))},d.domain=function(M){return arguments.length?p(Array.from(M,Sle)):p().map(kle)},d.ticks=function(M){var L=p();return s(L[0],L[L.length-1],M??10)},d.tickFormat=function(M,L){return L==null?D:u(L)},d.nice=function(M){var L=p();return(!M||typeof M.range!="function")&&(M=t(L[0],L[L.length-1],M??10)),M?p(lz(L,M)):d},d.copy=function(){return Cg(d,pE(s,t,a,r,n,i,l,c,o,u))},d}function _le(){return bi.apply(pE(bie,Nie,Vc,xE,UN,Eg,uE,dE,Ah,vz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Cle(){return bi.apply(pE(jie,vie,Wc,fE,qN,HN,mE,hE,Ah,bz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function GN(){var s=0,t=1,a,r,n,i,l=en,c=!1,o;function u(f){return f==null||isNaN(f=+f)?o:l(n===0?.5:(f=(i(f)-a)*n,c?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([s,t]=f,a=i(s=+s),r=i(t=+t),n=a===r?0:1/(r-a),u):[s,t]},u.clamp=function(f){return arguments.length?(c=!!f,u):c},u.interpolator=function(f){return arguments.length?(l=f,u):l};function d(f){return function(p){var j,y;return arguments.length?([j,y]=p,l=f(j,y),u):[l(0),l(1)]}}return u.range=d(dx),u.rangeRound=d(tE),u.unknown=function(f){return arguments.length?(o=f,u):o},function(f){return i=f,a=f(s),r=f(t),n=a===r?0:1/(r-a),u}}function Md(s,t){return t.domain(s.domain()).interpolator(s.interpolator()).clamp(s.clamp()).unknown(s.unknown())}function Nz(){var s=Td(GN()(en));return s.copy=function(){return Md(s,Nz())},ao.apply(s,arguments)}function wz(){var s=nE(GN()).domain([1,10]);return s.copy=function(){return Md(s,wz()).base(s.base())},ao.apply(s,arguments)}function kz(){var s=iE(GN());return s.copy=function(){return Md(s,kz()).constant(s.constant())},ao.apply(s,arguments)}function gE(){var s=lE(GN());return s.copy=function(){return Md(s,gE()).exponent(s.exponent())},ao.apply(s,arguments)}function Ele(){return gE.apply(null,arguments).exponent(.5)}function Sz(){var s=[],t=en;function a(r){if(r!=null&&!isNaN(r=+r))return t((Sg(s,r,1)-1)/(s.length-1))}return a.domain=function(r){if(!arguments.length)return s.slice();s=[];for(let n of r)n!=null&&!isNaN(n=+n)&&s.push(n);return s.sort(pd),a},a.interpolator=function(r){return arguments.length?(t=r,a):t},a.range=function(){return s.map((r,n)=>t(n/(s.length-1)))},a.quantiles=function(r){return Array.from({length:r+1},(n,i)=>mne(s,i/r))},a.copy=function(){return Sz(t).domain(s)},ao.apply(a,arguments)}function VN(){var s=0,t=.5,a=1,r=1,n,i,l,c,o,u=en,d,f=!1,p;function j(k){return isNaN(k=+k)?p:(k=.5+((k=+d(k))-i)*(r*k<r*i?c:o),u(f?Math.max(0,Math.min(1,k)):k))}j.domain=function(k){return arguments.length?([s,t,a]=k,n=d(s=+s),i=d(t=+t),l=d(a=+a),c=n===i?0:.5/(i-n),o=i===l?0:.5/(l-i),r=i<n?-1:1,j):[s,t,a]},j.clamp=function(k){return arguments.length?(f=!!k,j):f},j.interpolator=function(k){return arguments.length?(u=k,j):u};function y(k){return function(v){var S,C,_;return arguments.length?([S,C,_]=v,u=Fne(k,[S,C,_]),j):[u(0),u(.5),u(1)]}}return j.range=y(dx),j.rangeRound=y(tE),j.unknown=function(k){return arguments.length?(p=k,j):p},function(k){return d=k,n=k(s),i=k(t),l=k(a),c=n===i?0:.5/(i-n),o=i===l?0:.5/(l-i),r=i<n?-1:1,j}}function _z(){var s=Td(VN()(en));return s.copy=function(){return Md(s,_z())},ao.apply(s,arguments)}function Cz(){var s=nE(VN()).domain([.1,1,10]);return s.copy=function(){return Md(s,Cz()).base(s.base())},ao.apply(s,arguments)}function Ez(){var s=iE(VN());return s.copy=function(){return Md(s,Ez()).constant(s.constant())},ao.apply(s,arguments)}function yE(){var s=lE(VN());return s.copy=function(){return Md(s,yE()).exponent(s.exponent())},ao.apply(s,arguments)}function Ale(){return yE.apply(null,arguments).exponent(.5)}const lp=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ZC,scaleDiverging:_z,scaleDivergingLog:Cz,scaleDivergingPow:yE,scaleDivergingSqrt:Ale,scaleDivergingSymlog:Ez,scaleIdentity:iz,scaleImplicit:BS,scaleLinear:nz,scaleLog:cz,scaleOrdinal:XC,scalePoint:pne,scalePow:cE,scaleQuantile:hz,scaleQuantize:uz,scaleRadial:dz,scaleSequential:Nz,scaleSequentialLog:wz,scaleSequentialPow:gE,scaleSequentialQuantile:Sz,scaleSequentialSqrt:Ele,scaleSequentialSymlog:kz,scaleSqrt:oie,scaleSymlog:oz,scaleThreshold:mz,scaleTime:_le,scaleUtc:Cle,tickFormat:rz},Symbol.toStringTag,{value:"Module"}));var Dd=s=>s.chartData,WN=Pe([Dd],s=>{var t=s.chartData!=null?s.chartData.length-1:0;return{chartData:s.chartData,computedData:s.computedData,dataEndIndex:t,dataStartIndex:0}}),Ag=(s,t,a,r)=>r?WN(s):Dd(s);function Fm(s){if(Array.isArray(s)&&s.length===2){var[t,a]=s;if(kr(t)&&kr(a))return!0}return!1}function QO(s,t,a){return a?s:[Math.min(s[0],t[0]),Math.max(s[1],t[1])]}function Tle(s,t){if(t&&typeof s!="function"&&Array.isArray(s)&&s.length===2){var[a,r]=s,n,i;if(kr(a))n=a;else if(typeof a=="function")return;if(kr(r))i=r;else if(typeof r=="function")return;var l=[n,i];if(Fm(l))return l}}function Mle(s,t,a){if(!(!a&&t==null)){if(typeof s=="function"&&t!=null)try{var r=s(t,a);if(Fm(r))return QO(r,t,a)}catch{}if(Array.isArray(s)&&s.length===2){var[n,i]=s,l,c;if(n==="auto")t!=null&&(l=Math.min(...t));else if(gt(n))l=n;else if(typeof n=="function")try{t!=null&&(l=n(t?.[0]))}catch{}else if(typeof n=="string"&&LD.test(n)){var o=LD.exec(n);if(o==null||t==null)l=void 0;else{var u=+o[1];l=t[0]-u}}else l=t?.[0];if(i==="auto")t!=null&&(c=Math.max(...t));else if(gt(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t?.[1]))}catch{}else if(typeof i=="string"&&FD.test(i)){var d=FD.exec(i);if(d==null||t==null)c=void 0;else{var f=+d[1];c=t[1]+f}}else c=t?.[1];var p=[l,c];if(Fm(p))return t==null?p:QO(p,t,a)}}}var hx=1e9,Dle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},vE,ua=!0,vi="[DecimalError] ",Bh=vi+"Invalid argument: ",jE=vi+"Exponent out of range: ",ux=Math.floor,yh=Math.pow,Ole=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ln,ir=1e7,la=7,Az=9007199254740991,wb=ux(Az/la),kt={};kt.absoluteValue=kt.abs=function(){var s=new this.constructor(this);return s.s&&(s.s=1),s};kt.comparedTo=kt.cmp=function(s){var t,a,r,n,i=this;if(s=new i.constructor(s),i.s!==s.s)return i.s||-s.s;if(i.e!==s.e)return i.e>s.e^i.s<0?1:-1;for(r=i.d.length,n=s.d.length,t=0,a=r<n?r:n;t<a;++t)if(i.d[t]!==s.d[t])return i.d[t]>s.d[t]^i.s<0?1:-1;return r===n?0:r>n^i.s<0?1:-1};kt.decimalPlaces=kt.dp=function(){var s=this,t=s.d.length-1,a=(t-s.e)*la;if(t=s.d[t],t)for(;t%10==0;t/=10)a--;return a<0?0:a};kt.dividedBy=kt.div=function(s){return $c(this,new this.constructor(s))};kt.dividedToIntegerBy=kt.idiv=function(s){var t=this,a=t.constructor;return Ks($c(t,new a(s),0,1),a.precision)};kt.equals=kt.eq=function(s){return!this.cmp(s)};kt.exponent=function(){return La(this)};kt.greaterThan=kt.gt=function(s){return this.cmp(s)>0};kt.greaterThanOrEqualTo=kt.gte=function(s){return this.cmp(s)>=0};kt.isInteger=kt.isint=function(){return this.e>this.d.length-2};kt.isNegative=kt.isneg=function(){return this.s<0};kt.isPositive=kt.ispos=function(){return this.s>0};kt.isZero=function(){return this.s===0};kt.lessThan=kt.lt=function(s){return this.cmp(s)<0};kt.lessThanOrEqualTo=kt.lte=function(s){return this.cmp(s)<1};kt.logarithm=kt.log=function(s){var t,a=this,r=a.constructor,n=r.precision,i=n+5;if(s===void 0)s=new r(10);else if(s=new r(s),s.s<1||s.eq(Ln))throw Error(vi+"NaN");if(a.s<1)throw Error(vi+(a.s?"NaN":"-Infinity"));return a.eq(Ln)?new r(0):(ua=!1,t=$c(Fp(a,i),Fp(s,i),i),ua=!0,Ks(t,n))};kt.minus=kt.sub=function(s){var t=this;return s=new t.constructor(s),t.s==s.s?Dz(t,s):Tz(t,(s.s=-s.s,s))};kt.modulo=kt.mod=function(s){var t,a=this,r=a.constructor,n=r.precision;if(s=new r(s),!s.s)throw Error(vi+"NaN");return a.s?(ua=!1,t=$c(a,s,0,1).times(s),ua=!0,a.minus(t)):Ks(new r(a),n)};kt.naturalExponential=kt.exp=function(){return Mz(this)};kt.naturalLogarithm=kt.ln=function(){return Fp(this)};kt.negated=kt.neg=function(){var s=new this.constructor(this);return s.s=-s.s||0,s};kt.plus=kt.add=function(s){var t=this;return s=new t.constructor(s),t.s==s.s?Tz(t,s):Dz(t,(s.s=-s.s,s))};kt.precision=kt.sd=function(s){var t,a,r,n=this;if(s!==void 0&&s!==!!s&&s!==1&&s!==0)throw Error(Bh+s);if(t=La(n)+1,r=n.d.length-1,a=r*la+1,r=n.d[r],r){for(;r%10==0;r/=10)a--;for(r=n.d[0];r>=10;r/=10)a++}return s&&t>a?t:a};kt.squareRoot=kt.sqrt=function(){var s,t,a,r,n,i,l,c=this,o=c.constructor;if(c.s<1){if(!c.s)return new o(0);throw Error(vi+"NaN")}for(s=La(c),ua=!1,n=Math.sqrt(+c),n==0||n==1/0?(t=El(c.d),(t.length+s)%2==0&&(t+="0"),n=Math.sqrt(t),s=ux((s+1)/2)-(s<0||s%2),n==1/0?t="5e"+s:(t=n.toExponential(),t=t.slice(0,t.indexOf("e")+1)+s),r=new o(t)):r=new o(n.toString()),a=o.precision,n=l=a+3;;)if(i=r,r=i.plus($c(c,i,l+2)).times(.5),El(i.d).slice(0,l)===(t=El(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),n==l&&t=="4999"){if(Ks(i,a+1,0),i.times(i).eq(c)){r=i;break}}else if(t!="9999")break;l+=4}return ua=!0,Ks(r,a)};kt.times=kt.mul=function(s){var t,a,r,n,i,l,c,o,u,d=this,f=d.constructor,p=d.d,j=(s=new f(s)).d;if(!d.s||!s.s)return new f(0);for(s.s*=d.s,a=d.e+s.e,o=p.length,u=j.length,o<u&&(i=p,p=j,j=i,l=o,o=u,u=l),i=[],l=o+u,r=l;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,n=o+r;n>r;)c=i[n]+j[r]*p[n-r-1]+t,i[n--]=c%ir|0,t=c/ir|0;i[n]=(i[n]+t)%ir|0}for(;!i[--l];)i.pop();return t?++a:i.shift(),s.d=i,s.e=a,ua?Ks(s,f.precision):s};kt.toDecimalPlaces=kt.todp=function(s,t){var a=this,r=a.constructor;return a=new r(a),s===void 0?a:(Bl(s,0,hx),t===void 0?t=r.rounding:Bl(t,0,8),Ks(a,s+La(a)+1,t))};kt.toExponential=function(s,t){var a,r=this,n=r.constructor;return s===void 0?a=Yh(r,!0):(Bl(s,0,hx),t===void 0?t=n.rounding:Bl(t,0,8),r=Ks(new n(r),s+1,t),a=Yh(r,!0,s+1)),a};kt.toFixed=function(s,t){var a,r,n=this,i=n.constructor;return s===void 0?Yh(n):(Bl(s,0,hx),t===void 0?t=i.rounding:Bl(t,0,8),r=Ks(new i(n),s+La(n)+1,t),a=Yh(r.abs(),!1,s+La(r)+1),n.isneg()&&!n.isZero()?"-"+a:a)};kt.toInteger=kt.toint=function(){var s=this,t=s.constructor;return Ks(new t(s),La(s)+1,t.rounding)};kt.toNumber=function(){return+this};kt.toPower=kt.pow=function(s){var t,a,r,n,i,l,c=this,o=c.constructor,u=12,d=+(s=new o(s));if(!s.s)return new o(Ln);if(c=new o(c),!c.s){if(s.s<1)throw Error(vi+"Infinity");return c}if(c.eq(Ln))return c;if(r=o.precision,s.eq(Ln))return Ks(c,r);if(t=s.e,a=s.d.length-1,l=t>=a,i=c.s,l){if((a=d<0?-d:d)<=Az){for(n=new o(Ln),t=Math.ceil(r/la+4),ua=!1;a%2&&(n=n.times(c),ZO(n.d,t)),a=ux(a/2),a!==0;)c=c.times(c),ZO(c.d,t);return ua=!0,s.s<0?new o(Ln).div(n):Ks(n,r)}}else if(i<0)throw Error(vi+"NaN");return i=i<0&&s.d[Math.max(t,a)]&1?-1:1,c.s=1,ua=!1,n=s.times(Fp(c,r+u)),ua=!0,n=Mz(n),n.s=i,n};kt.toPrecision=function(s,t){var a,r,n=this,i=n.constructor;return s===void 0?(a=La(n),r=Yh(n,a<=i.toExpNeg||a>=i.toExpPos)):(Bl(s,1,hx),t===void 0?t=i.rounding:Bl(t,0,8),n=Ks(new i(n),s,t),a=La(n),r=Yh(n,s<=a||a<=i.toExpNeg,s)),r};kt.toSignificantDigits=kt.tosd=function(s,t){var a=this,r=a.constructor;return s===void 0?(s=r.precision,t=r.rounding):(Bl(s,1,hx),t===void 0?t=r.rounding:Bl(t,0,8)),Ks(new r(a),s,t)};kt.toString=kt.valueOf=kt.val=kt.toJSON=kt[Symbol.for("nodejs.util.inspect.custom")]=function(){var s=this,t=La(s),a=s.constructor;return Yh(s,t<=a.toExpNeg||t>=a.toExpPos)};function Tz(s,t){var a,r,n,i,l,c,o,u,d=s.constructor,f=d.precision;if(!s.s||!t.s)return t.s||(t=new d(s)),ua?Ks(t,f):t;if(o=s.d,u=t.d,l=s.e,n=t.e,o=o.slice(),i=l-n,i){for(i<0?(r=o,i=-i,c=u.length):(r=u,n=l,c=o.length),l=Math.ceil(f/la),c=l>c?l+1:c+1,i>c&&(i=c,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(c=o.length,i=u.length,c-i<0&&(i=c,r=u,u=o,o=r),a=0;i;)a=(o[--i]=o[i]+u[i]+a)/ir|0,o[i]%=ir;for(a&&(o.unshift(a),++n),c=o.length;o[--c]==0;)o.pop();return t.d=o,t.e=n,ua?Ks(t,f):t}function Bl(s,t,a){if(s!==~~s||s<t||s>a)throw Error(Bh+s)}function El(s){var t,a,r,n=s.length-1,i="",l=s[0];if(n>0){for(i+=l,t=1;t<n;t++)r=s[t]+"",a=la-r.length,a&&(i+=ld(a)),i+=r;l=s[t],r=l+"",a=la-r.length,a&&(i+=ld(a))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var $c=(function(){function s(r,n){var i,l=0,c=r.length;for(r=r.slice();c--;)i=r[c]*n+l,r[c]=i%ir|0,l=i/ir|0;return l&&r.unshift(l),r}function t(r,n,i,l){var c,o;if(i!=l)o=i>l?1:-1;else for(c=o=0;c<i;c++)if(r[c]!=n[c]){o=r[c]>n[c]?1:-1;break}return o}function a(r,n,i){for(var l=0;i--;)r[i]-=l,l=r[i]<n[i]?1:0,r[i]=l*ir+r[i]-n[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,n,i,l){var c,o,u,d,f,p,j,y,k,v,S,C,_,A,D,M,L,F,Q=r.constructor,I=r.s==n.s?1:-1,H=r.d,z=n.d;if(!r.s)return new Q(r);if(!n.s)throw Error(vi+"Division by zero");for(o=r.e-n.e,L=z.length,D=H.length,j=new Q(I),y=j.d=[],u=0;z[u]==(H[u]||0);)++u;if(z[u]>(H[u]||0)&&--o,i==null?C=i=Q.precision:l?C=i+(La(r)-La(n))+1:C=i,C<0)return new Q(0);if(C=C/la+2|0,u=0,L==1)for(d=0,z=z[0],C++;(u<D||d)&&C--;u++)_=d*ir+(H[u]||0),y[u]=_/z|0,d=_%z|0;else{for(d=ir/(z[0]+1)|0,d>1&&(z=s(z,d),H=s(H,d),L=z.length,D=H.length),A=L,k=H.slice(0,L),v=k.length;v<L;)k[v++]=0;F=z.slice(),F.unshift(0),M=z[0],z[1]>=ir/2&&++M;do d=0,c=t(z,k,L,v),c<0?(S=k[0],L!=v&&(S=S*ir+(k[1]||0)),d=S/M|0,d>1?(d>=ir&&(d=ir-1),f=s(z,d),p=f.length,v=k.length,c=t(f,k,p,v),c==1&&(d--,a(f,L<p?F:z,p))):(d==0&&(c=d=1),f=z.slice()),p=f.length,p<v&&f.unshift(0),a(k,f,v),c==-1&&(v=k.length,c=t(z,k,L,v),c<1&&(d++,a(k,L<v?F:z,v))),v=k.length):c===0&&(d++,k=[0]),y[u++]=d,c&&k[0]?k[v++]=H[A]||0:(k=[H[A]],v=1);while((A++<D||k[0]!==void 0)&&C--)}return y[0]||y.shift(),j.e=o,Ks(j,l?i+La(j)+1:i)}})();function Mz(s,t){var a,r,n,i,l,c,o=0,u=0,d=s.constructor,f=d.precision;if(La(s)>16)throw Error(jE+La(s));if(!s.s)return new d(Ln);for(ua=!1,c=f,l=new d(.03125);s.abs().gte(.1);)s=s.times(l),u+=5;for(r=Math.log(yh(2,u))/Math.LN10*2+5|0,c+=r,a=n=i=new d(Ln),d.precision=c;;){if(n=Ks(n.times(s),c),a=a.times(++o),l=i.plus($c(n,a,c)),El(l.d).slice(0,c)===El(i.d).slice(0,c)){for(;u--;)i=Ks(i.times(i),c);return d.precision=f,t==null?(ua=!0,Ks(i,f)):i}i=l}}function La(s){for(var t=s.e*la,a=s.d[0];a>=10;a/=10)t++;return t}function I2(s,t,a){if(t>s.LN10.sd())throw ua=!0,a&&(s.precision=a),Error(vi+"LN10 precision limit exceeded");return Ks(new s(s.LN10),t)}function ld(s){for(var t="";s--;)t+="0";return t}function Fp(s,t){var a,r,n,i,l,c,o,u,d,f=1,p=10,j=s,y=j.d,k=j.constructor,v=k.precision;if(j.s<1)throw Error(vi+(j.s?"NaN":"-Infinity"));if(j.eq(Ln))return new k(0);if(t==null?(ua=!1,u=v):u=t,j.eq(10))return t==null&&(ua=!0),I2(k,u);if(u+=p,k.precision=u,a=El(y),r=a.charAt(0),i=La(j),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&a.charAt(1)>3;)j=j.times(s),a=El(j.d),r=a.charAt(0),f++;i=La(j),r>1?(j=new k("0."+a),i++):j=new k(r+"."+a.slice(1))}else return o=I2(k,u+2,v).times(i+""),j=Fp(new k(r+"."+a.slice(1)),u-p).plus(o),k.precision=v,t==null?(ua=!0,Ks(j,v)):j;for(c=l=j=$c(j.minus(Ln),j.plus(Ln),u),d=Ks(j.times(j),u),n=3;;){if(l=Ks(l.times(d),u),o=c.plus($c(l,new k(n),u)),El(o.d).slice(0,u)===El(c.d).slice(0,u))return c=c.times(2),i!==0&&(c=c.plus(I2(k,u+2,v).times(i+""))),c=$c(c,new k(f),u),k.precision=v,t==null?(ua=!0,Ks(c,v)):c;c=o,n+=2}}function XO(s,t){var a,r,n;for((a=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(a<0&&(a=r),a+=+t.slice(r+1),t=t.substring(0,r)):a<0&&(a=t.length),r=0;t.charCodeAt(r)===48;)++r;for(n=t.length;t.charCodeAt(n-1)===48;)--n;if(t=t.slice(r,n),t){if(n-=r,a=a-r-1,s.e=ux(a/la),s.d=[],r=(a+1)%la,a<0&&(r+=la),r<n){for(r&&s.d.push(+t.slice(0,r)),n-=la;r<n;)s.d.push(+t.slice(r,r+=la));t=t.slice(r),r=la-t.length}else r-=n;for(;r--;)t+="0";if(s.d.push(+t),ua&&(s.e>wb||s.e<-wb))throw Error(jE+a)}else s.s=0,s.e=0,s.d=[0];return s}function Ks(s,t,a){var r,n,i,l,c,o,u,d,f=s.d;for(l=1,i=f[0];i>=10;i/=10)l++;if(r=t-l,r<0)r+=la,n=t,u=f[d=0];else{if(d=Math.ceil((r+1)/la),i=f.length,d>=i)return s;for(u=i=f[d],l=1;i>=10;i/=10)l++;r%=la,n=r-la+l}if(a!==void 0&&(i=yh(10,l-n-1),c=u/i%10|0,o=t<0||f[d+1]!==void 0||u%i,o=a<4?(c||o)&&(a==0||a==(s.s<0?3:2)):c>5||c==5&&(a==4||o||a==6&&(r>0?n>0?u/yh(10,l-n):0:f[d-1])%10&1||a==(s.s<0?8:7))),t<1||!f[0])return o?(i=La(s),f.length=1,t=t-i-1,f[0]=yh(10,(la-t%la)%la),s.e=ux(-t/la)||0):(f.length=1,f[0]=s.e=s.s=0),s;if(r==0?(f.length=d,i=1,d--):(f.length=d+1,i=yh(10,la-r),f[d]=n>0?(u/yh(10,l-n)%yh(10,n)|0)*i:0),o)for(;;)if(d==0){(f[0]+=i)==ir&&(f[0]=1,++s.e);break}else{if(f[d]+=i,f[d]!=ir)break;f[d--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(ua&&(s.e>wb||s.e<-wb))throw Error(jE+La(s));return s}function Dz(s,t){var a,r,n,i,l,c,o,u,d,f,p=s.constructor,j=p.precision;if(!s.s||!t.s)return t.s?t.s=-t.s:t=new p(s),ua?Ks(t,j):t;if(o=s.d,f=t.d,r=t.e,u=s.e,o=o.slice(),l=u-r,l){for(d=l<0,d?(a=o,l=-l,c=f.length):(a=f,r=u,c=o.length),n=Math.max(Math.ceil(j/la),c)+2,l>n&&(l=n,a.length=1),a.reverse(),n=l;n--;)a.push(0);a.reverse()}else{for(n=o.length,c=f.length,d=n<c,d&&(c=n),n=0;n<c;n++)if(o[n]!=f[n]){d=o[n]<f[n];break}l=0}for(d&&(a=o,o=f,f=a,t.s=-t.s),c=o.length,n=f.length-c;n>0;--n)o[c++]=0;for(n=f.length;n>l;){if(o[--n]<f[n]){for(i=n;i&&o[--i]===0;)o[i]=ir-1;--o[i],o[n]+=ir}o[n]-=f[n]}for(;o[--c]===0;)o.pop();for(;o[0]===0;o.shift())--r;return o[0]?(t.d=o,t.e=r,ua?Ks(t,j):t):new p(0)}function Yh(s,t,a){var r,n=La(s),i=El(s.d),l=i.length;return t?(a&&(r=a-l)>0?i=i.charAt(0)+"."+i.slice(1)+ld(r):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+ld(-n-1)+i,a&&(r=a-l)>0&&(i+=ld(r))):n>=l?(i+=ld(n+1-l),a&&(r=a-n-1)>0&&(i=i+"."+ld(r))):((r=n+1)<l&&(i=i.slice(0,r)+"."+i.slice(r)),a&&(r=a-l)>0&&(n+1===l&&(i+="."),i+=ld(r))),s.s<0?"-"+i:i}function ZO(s,t){if(s.length>t)return s.length=t,!0}function Oz(s){var t,a,r;function n(i){var l=this;if(!(l instanceof n))return new n(i);if(l.constructor=n,i instanceof n){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Bh+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return XO(l,i.toString())}else if(typeof i!="string")throw Error(Bh+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,Ole.test(i))XO(l,i);else throw Error(Bh+i)}if(n.prototype=kt,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=Oz,n.config=n.set=Rle,s===void 0&&(s={}),s)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)s.hasOwnProperty(a=r[t++])||(s[a]=this[a]);return n.config(s),n}function Rle(s){if(!s||typeof s!="object")throw Error(vi+"Object expected");var t,a,r,n=["precision",1,hx,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<n.length;t+=3)if((r=s[a=n[t]])!==void 0)if(ux(r)===r&&r>=n[t+1]&&r<=n[t+2])this[a]=r;else throw Error(Bh+a+": "+r);if((r=s[a="LN10"])!==void 0)if(r==Math.LN10)this[a]=new this(r);else throw Error(Bh+a+": "+r);return this}var vE=Oz(Dle);Ln=new vE(1);const Ls=vE;var $le=s=>s,Rz={},$z=s=>s===Rz,JO=s=>function t(){return arguments.length===0||arguments.length===1&&$z(arguments.length<=0?void 0:arguments[0])?t:s(...arguments)},Pz=(s,t)=>s===1?t:JO(function(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];var i=r.filter(l=>l!==Rz).length;return i>=s?t(...r):Pz(s-i,JO(function(){for(var l=arguments.length,c=new Array(l),o=0;o<l;o++)c[o]=arguments[o];var u=r.map(d=>$z(d)?c.shift():d);return t(...u,...c)}))}),YN=s=>Pz(s.length,s),HS=(s,t)=>{for(var a=[],r=s;r<t;++r)a[r-s]=r;return a},Ple=YN((s,t)=>Array.isArray(t)?t.map(s):Object.keys(t).map(a=>t[a]).map(s)),Ile=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];if(!a.length)return $le;var n=a.reverse(),i=n[0],l=n.slice(1);return function(){return l.reduce((c,o)=>o(c),i(...arguments))}},US=s=>Array.isArray(s)?s.reverse():s.split("").reverse().join(""),Iz=s=>{var t=null,a=null;return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t&&n.every((l,c)=>{var o;return l===((o=t)===null||o===void 0?void 0:o[c])})||(t=n,a=s(...n)),a}};function Bz(s){var t;return s===0?t=1:t=Math.floor(new Ls(s).abs().log(10).toNumber())+1,t}function Lz(s,t,a){for(var r=new Ls(s),n=0,i=[];r.lt(t)&&n<1e5;)i.push(r.toNumber()),r=r.add(a),n++;return i}YN((s,t,a)=>{var r=+s,n=+t;return r+a*(n-r)});YN((s,t,a)=>{var r=t-+s;return r=r||1/0,(a-s)/r});YN((s,t,a)=>{var r=t-+s;return r=r||1/0,Math.max(0,Math.min(1,(a-s)/r))});var Fz=s=>{var[t,a]=s,[r,n]=[t,a];return t>a&&([r,n]=[a,t]),[r,n]},zz=(s,t,a)=>{if(s.lte(0))return new Ls(0);var r=Bz(s.toNumber()),n=new Ls(10).pow(r),i=s.div(n),l=r!==1?.05:.1,c=new Ls(Math.ceil(i.div(l).toNumber())).add(a).mul(l),o=c.mul(n);return t?new Ls(o.toNumber()):new Ls(Math.ceil(o.toNumber()))},Ble=(s,t,a)=>{var r=new Ls(1),n=new Ls(s);if(!n.isint()&&a){var i=Math.abs(s);i<1?(r=new Ls(10).pow(Bz(s)-1),n=new Ls(Math.floor(n.div(r).toNumber())).mul(r)):i>1&&(n=new Ls(Math.floor(s)))}else s===0?n=new Ls(Math.floor((t-1)/2)):a||(n=new Ls(Math.floor(s)));var l=Math.floor((t-1)/2),c=Ile(Ple(o=>n.add(new Ls(o-l).mul(r)).toNumber()),HS);return c(0,t)},Hz=function(t,a,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((a-t)/(r-1)))return{step:new Ls(0),tickMin:new Ls(0),tickMax:new Ls(0)};var l=zz(new Ls(a).sub(t).div(r-1),n,i),c;t<=0&&a>=0?c=new Ls(0):(c=new Ls(t).add(a).div(2),c=c.sub(new Ls(c).mod(l)));var o=Math.ceil(c.sub(t).div(l).toNumber()),u=Math.ceil(new Ls(a).sub(c).div(l).toNumber()),d=o+u+1;return d>r?Hz(t,a,r,n,i+1):(d<r&&(u=a>0?u+(r-d):u,o=a>0?o:o+(r-d)),{step:l,tickMin:c.sub(new Ls(o).mul(l)),tickMax:c.add(new Ls(u).mul(l))})};function Lle(s){var[t,a]=s,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(r,2),[l,c]=Fz([t,a]);if(l===-1/0||c===1/0){var o=c===1/0?[l,...HS(0,r-1).map(()=>1/0)]:[...HS(0,r-1).map(()=>-1/0),c];return t>a?US(o):o}if(l===c)return Ble(l,r,n);var{step:u,tickMin:d,tickMax:f}=Hz(l,c,i,n,0),p=Lz(d,f.add(new Ls(.1).mul(u)),u);return t>a?US(p):p}function Fle(s,t){var[a,r]=s,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=Fz([a,r]);if(i===-1/0||l===1/0)return[a,r];if(i===l)return[i];var c=Math.max(t,2),o=zz(new Ls(l).sub(i).div(c-1),n,0),u=[...Lz(new Ls(i),new Ls(l),o),l];return n===!1&&(u=u.map(d=>Math.round(d))),a>r?US(u):u}var zle=Iz(Lle),Hle=Iz(Fle),Uz=s=>s.rootProps.maxBarSize,Ule=s=>s.rootProps.barGap,qz=s=>s.rootProps.barCategoryGap,qle=s=>s.rootProps.barSize,Tg=s=>s.rootProps.stackOffset,bE=s=>s.options.chartName,NE=s=>s.rootProps.syncId,Gz=s=>s.rootProps.syncMethod,wE=s=>s.options.eventEmitter,_l={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},gn={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},KN=(s,t)=>{if(!(!s||!t))return s!=null&&s.reversed?[t[1],t[0]]:t},Gle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:_l.angleAxisId,includeHidden:!1,name:void 0,reversed:_l.reversed,scale:_l.scale,tick:_l.tick,tickCount:void 0,ticks:void 0,type:_l.type,unit:void 0},Vle={allowDataOverflow:gn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:gn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gn.scale,tick:gn.tick,tickCount:gn.tickCount,ticks:void 0,type:gn.type,unit:void 0},Wle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:_l.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_l.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_l.scale,tick:_l.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Yle={allowDataOverflow:gn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:gn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gn.scale,tick:gn.tick,tickCount:gn.tickCount,ticks:void 0,type:"category",unit:void 0},mx=(s,t)=>s.polarAxis.angleAxis[t]!=null?s.polarAxis.angleAxis[t]:s.layout.layoutType==="radial"?Wle:Gle,Mg=(s,t)=>s.polarAxis.radiusAxis[t]!=null?s.polarAxis.radiusAxis[t]:s.layout.layoutType==="radial"?Yle:Vle,QN=s=>s.polarOptions,kE=Pe([eo,to,Ka],bF),Vz=Pe([QN,kE],(s,t)=>{if(s!=null)return an(s.innerRadius,t,0)}),Wz=Pe([QN,kE],(s,t)=>{if(s!=null)return an(s.outerRadius,t,t*.8)}),Kle=s=>{if(s==null)return[0,0];var{startAngle:t,endAngle:a}=s;return[t,a]},Yz=Pe([QN],Kle),Qle=Pe([mx,Yz],KN),Kz=Pe([kE,Vz,Wz],(s,t,a)=>{if(!(s==null||t==null||a==null))return[t,a]}),Xle=Pe([Mg,Kz],KN),xx=Pe([Jt,QN,Vz,Wz,eo,to],(s,t,a,r,n,i)=>{if(!(s!=="centric"&&s!=="radial"||t==null||a==null||r==null)){var{cx:l,cy:c,startAngle:o,endAngle:u}=t;return{cx:an(l,n,n/2),cy:an(c,i,i/2),innerRadius:a,outerRadius:r,startAngle:o,endAngle:u,clockWise:!1}}}),Xs=(s,t)=>t,Dg=(s,t,a)=>a;function XN(s){return s?.id}var Xa=s=>{var t=Jt(s);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},fx=s=>s.tooltip.settings.axisId,Za=s=>{var t=Xa(s),a=fx(s);return px(s,t,a)};function Qz(s,t,a){var{chartData:r=[]}=t,n=a?.dataKey,i=new Map;return s.forEach(l=>{var c,o=(c=l.data)!==null&&c!==void 0?c:r;if(!(o==null||o.length===0)){var u=XN(l);o.forEach((d,f)=>{var p=n==null?f:String(Es(d,n,null)),j=Es(d,l.dataKey,0),y;i.has(p)?y=i.get(p):y={},Object.assign(y,{[u]:j}),i.set(p,y)})}}),Array.from(i.values())}function ZN(s){return s.stackId!=null&&s.dataKey!=null}function eR(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function kb(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(a),!0).forEach(function(r){Zle(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):eR(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function Zle(s,t,a){return(t=Jle(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Jle(s){var t=ece(s,"string");return typeof t=="symbol"?t:t+""}function ece(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}var qS=[0,"auto"],In={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ro=(s,t)=>{var a=s.cartesianAxis.xAxis[t];return a??In},Bn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:qS,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:BN},Od=(s,t)=>{var a=s.cartesianAxis.yAxis[t];return a??Bn},tce={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},SE=(s,t)=>{var a=s.cartesianAxis.zAxis[t];return a??tce},Pa=(s,t,a)=>{switch(t){case"xAxis":return ro(s,a);case"yAxis":return Od(s,a);case"zAxis":return SE(s,a);case"angleAxis":return mx(s,a);case"radiusAxis":return Mg(s,a);default:throw new Error("Unexpected axis type: ".concat(t))}},sce=(s,t,a)=>{switch(t){case"xAxis":return ro(s,a);case"yAxis":return Od(s,a);default:throw new Error("Unexpected axis type: ".concat(t))}},px=(s,t,a)=>{switch(t){case"xAxis":return ro(s,a);case"yAxis":return Od(s,a);case"angleAxis":return mx(s,a);case"radiusAxis":return Mg(s,a);default:throw new Error("Unexpected axis type: ".concat(t))}},Xz=s=>s.graphicalItems.cartesianItems.some(t=>t.type==="bar")||s.graphicalItems.polarItems.some(t=>t.type==="radialBar");function _E(s,t){return a=>{switch(s){case"xAxis":return"xAxisId"in a&&a.xAxisId===t;case"yAxis":return"yAxisId"in a&&a.yAxisId===t;case"zAxis":return"zAxisId"in a&&a.zAxisId===t;case"angleAxis":return"angleAxisId"in a&&a.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in a&&a.radiusAxisId===t;default:return!1}}}var Og=s=>s.graphicalItems.cartesianItems,ace=Pe([Xs,Dg],_E),CE=(s,t,a)=>s.filter(a).filter(r=>t?.includeHidden===!0?!0:!r.hide),Rg=Pe([Og,Pa,ace],CE),Zz=Pe([Rg],s=>s.filter(t=>t.type==="area"||t.type==="bar").filter(ZN)),Jz=s=>s.filter(t=>!("stackId"in t)||t.stackId===void 0),e7=Pe([Rg],Jz),EE=s=>s.map(t=>t.data).filter(Boolean).flat(1),rce=Pe([Rg],EE),AE=(s,t)=>{var{chartData:a=[],dataStartIndex:r,dataEndIndex:n}=t;return s.length>0?s:a.slice(r,n+1)},TE=Pe([rce,Ag],AE),ME=(s,t,a)=>t?.dataKey!=null?s.map(r=>({value:Es(r,t.dataKey)})):a.length>0?a.map(r=>r.dataKey).flatMap(r=>s.map(n=>({value:Es(n,r)}))):s.map(r=>({value:r})),JN=Pe([TE,Pa,Rg],ME);function t7(s,t){switch(s){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function lu(s){return s.filter(t=>Il(t)||t instanceof Date).map(Number).filter(t=>Cn(t)===!1)}function nce(s,t,a){return!a||typeof t!="number"||Cn(t)?[]:a.length?lu(a.flatMap(r=>{var n=Es(s,r.dataKey),i,l;if(Array.isArray(n)?[i,l]=n:i=l=n,!(!kr(i)||!kr(l)))return[t-i,t+l]})):[]}var ice=Pe([Zz,Ag,Za],Qz),s7=(s,t,a)=>{var r={},n=t.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),r);return Object.fromEntries(Object.entries(n).map(i=>{var[l,c]=i,o=c.map(XN);return[l,{stackedData:bae(s,o,a),graphicalItems:c}]}))},zp=Pe([ice,Zz,Tg],s7),a7=(s,t,a)=>{var{dataStartIndex:r,dataEndIndex:n}=t;if(a!=="zAxis"){var i=Sae(s,r,n);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},lce=Pe([zp,Dd,Xs],a7),r7=(s,t,a,r,n)=>a.length>0?s.flatMap(i=>a.flatMap(l=>{var c,o,u=(c=r[l.id])===null||c===void 0?void 0:c.filter(f=>t7(n,f)),d=Es(i,(o=t.dataKey)!==null&&o!==void 0?o:l.dataKey);return{value:d,errorDomain:nce(i,d,u)}})).filter(Boolean):t?.dataKey!=null?s.map(i=>({value:Es(i,t.dataKey),errorDomain:[]})):s.map(i=>({value:i,errorDomain:[]})),e1=s=>s.errorBars,n7=(s,t,a)=>s.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>t7(a,r));Pe([e7,e1,Xs],n7);var cce=Pe([TE,Pa,e7,e1,Xs],r7);function oce(s){var{value:t}=s;if(Il(t)||t instanceof Date)return t}var tR=s=>{var t=s.flatMap(r=>[r.value,r.errorDomain]).flat(1),a=lu(t);if(a.length!==0)return[Math.min(...a),Math.max(...a)]},dce=(s,t,a)=>{var r=s.map(oce).filter(n=>n!=null);return a&&(t.dataKey==null||t.allowDuplicatedCategory&&jL(r))?YF(0,s.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},DE=s=>{var t;if(s==null||!("domain"in s))return qS;if(s.domain!=null)return s.domain;if(s.ticks!=null){if(s.type==="number"){var a=lu(s.ticks);return[Math.min(...a),Math.max(...a)]}if(s.type==="category")return s.ticks.map(String)}return(t=s?.domain)!==null&&t!==void 0?t:qS},Sb=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];var n=a.filter(Boolean);if(n.length!==0){var i=n.flat(),l=Math.min(...i),c=Math.max(...i);return[l,c]}},i7=s=>s.referenceElements.dots,gx=(s,t,a)=>s.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===a:r.yAxisId===a),hce=Pe([i7,Xs,Dg],gx),l7=s=>s.referenceElements.areas,uce=Pe([l7,Xs,Dg],gx),c7=s=>s.referenceElements.lines,mce=Pe([c7,Xs,Dg],gx),o7=(s,t)=>{var a=lu(s.map(r=>t==="xAxis"?r.x:r.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},xce=Pe(hce,Xs,o7),d7=(s,t)=>{var a=lu(s.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},fce=Pe([uce,Xs],d7),h7=(s,t)=>{var a=lu(s.map(r=>t==="xAxis"?r.x:r.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},pce=Pe(mce,Xs,h7),gce=Pe(xce,pce,fce,(s,t,a)=>Sb(s,a,t)),u7=Pe([Pa],DE),OE=(s,t,a,r,n,i,l)=>{var c=Tle(t,s.allowDataOverflow);if(c!=null)return c;var o=i==="vertical"&&l==="xAxis"||i==="horizontal"&&l==="yAxis",u=o?Sb(a,n,tR(r)):Sb(n,tR(r));return Mle(t,u,s.allowDataOverflow)},yce=Pe([Pa,u7,lce,cce,gce,Jt,Xs],OE),jce=[0,1],RE=(s,t,a,r,n,i,l)=>{if(!((s==null||a==null||a.length===0)&&l===void 0)){var{dataKey:c,type:o}=s,u=Qi(t,i);return u&&c==null?YF(0,a.length):o==="category"?dce(r,s,u):n==="expand"?jce:l}},$E=Pe([Pa,Jt,TE,JN,Tg,Xs,yce],RE),m7=(s,t,a,r,n)=>{if(s!=null){var{scale:i,type:l}=s;if(i==="auto")return t==="radial"&&n==="radiusAxis"?"band":t==="radial"&&n==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var c="scale".concat(bg(i));return c in lp?c:"point"}}},Rd=Pe([Pa,Jt,Xz,bE,Xs],m7);function vce(s){if(s!=null){if(s in lp)return lp[s]();var t="scale".concat(bg(s));if(t in lp)return lp[t]()}}function t1(s,t,a,r){if(!(a==null||r==null)){if(typeof s.scale=="function")return s.scale.copy().domain(a).range(r);var n=vce(t);if(n!=null){var i=n.domain(a).range(r);return pae(i),i}}}var PE=(s,t,a)=>{var r=DE(t);if(!(a!=="auto"&&a!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Fm(s))return zle(s,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Fm(s))return Hle(s,t.tickCount,t.allowDecimals)}},IE=Pe([$E,px,Rd],PE),BE=(s,t,a,r)=>{if(r!=="angleAxis"&&s?.type==="number"&&Fm(t)&&Array.isArray(a)&&a.length>0){var n=t[0],i=a[0],l=t[1],c=a[a.length-1];return[Math.min(n,i),Math.max(l,c)]}return t},bce=Pe([Pa,$E,IE,Xs],BE),Nce=Pe(JN,Pa,(s,t)=>{if(!(!t||t.type!=="number")){var a=1/0,r=Array.from(lu(s.map(c=>c.value))).sort((c,o)=>c-o);if(r.length<2)return 1/0;var n=r[r.length-1]-r[0];if(n===0)return 1/0;for(var i=0;i<r.length-1;i++){var l=r[i+1]-r[i];a=Math.min(a,l)}return a/n}}),x7=Pe(Nce,Jt,qz,Ka,(s,t,a,r)=>r,(s,t,a,r,n)=>{if(!kr(s))return 0;var i=t==="vertical"?r.height:r.width;if(n==="gap")return s*i/2;if(n==="no-gap"){var l=an(a,s*i),c=s*i/2;return c-l-(c-l)/i*l}return 0}),wce=(s,t)=>{var a=ro(s,t);return a==null||typeof a.padding!="string"?0:x7(s,"xAxis",t,a.padding)},kce=(s,t)=>{var a=Od(s,t);return a==null||typeof a.padding!="string"?0:x7(s,"yAxis",t,a.padding)},Sce=Pe(ro,wce,(s,t)=>{var a,r;if(s==null)return{left:0,right:0};var{padding:n}=s;return typeof n=="string"?{left:t,right:t}:{left:((a=n.left)!==null&&a!==void 0?a:0)+t,right:((r=n.right)!==null&&r!==void 0?r:0)+t}}),_ce=Pe(Od,kce,(s,t)=>{var a,r;if(s==null)return{top:0,bottom:0};var{padding:n}=s;return typeof n=="string"?{top:t,bottom:t}:{top:((a=n.top)!==null&&a!==void 0?a:0)+t,bottom:((r=n.bottom)!==null&&r!==void 0?r:0)+t}}),Cce=Pe([Ka,Sce,FN,LN,(s,t,a)=>a],(s,t,a,r,n)=>{var{padding:i}=r;return n?[i.left,a.width-i.right]:[s.left+t.left,s.left+s.width-t.right]}),Ece=Pe([Ka,Jt,_ce,FN,LN,(s,t,a)=>a],(s,t,a,r,n,i)=>{var{padding:l}=n;return i?[r.height-l.bottom,l.top]:t==="horizontal"?[s.top+s.height-a.bottom,s.top+a.top]:[s.top+a.top,s.top+s.height-a.bottom]}),$g=(s,t,a,r)=>{var n;switch(t){case"xAxis":return Cce(s,a,r);case"yAxis":return Ece(s,a,r);case"zAxis":return(n=SE(s,a))===null||n===void 0?void 0:n.range;case"angleAxis":return Yz(s);case"radiusAxis":return Kz(s,a);default:return}},f7=Pe([Pa,$g],KN),yx=Pe([Pa,Rd,bce,f7],t1);Pe([Rg,e1,Xs],n7);function p7(s,t){return s.id<t.id?-1:s.id>t.id?1:0}var s1=(s,t)=>t,a1=(s,t,a)=>a,Ace=Pe(VC,s1,a1,(s,t,a)=>s.filter(r=>r.orientation===t).filter(r=>r.mirror===a).sort(p7)),Tce=Pe(WC,s1,a1,(s,t,a)=>s.filter(r=>r.orientation===t).filter(r=>r.mirror===a).sort(p7)),g7=(s,t)=>({width:s.width,height:t.height}),Mce=(s,t)=>{var a=typeof t.width=="number"?t.width:BN;return{width:a,height:s.height}},y7=Pe(Ka,ro,g7),Dce=(s,t,a)=>{switch(t){case"top":return s.top;case"bottom":return a-s.bottom;default:return 0}},Oce=(s,t,a)=>{switch(t){case"left":return s.left;case"right":return a-s.right;default:return 0}},Rce=Pe(to,Ka,Ace,s1,a1,(s,t,a,r,n)=>{var i={},l;return a.forEach(c=>{var o=g7(t,c);l==null&&(l=Dce(t,r,s));var u=r==="top"&&!n||r==="bottom"&&n;i[c.id]=l-Number(u)*o.height,l+=(u?-1:1)*o.height}),i}),$ce=Pe(eo,Ka,Tce,s1,a1,(s,t,a,r,n)=>{var i={},l;return a.forEach(c=>{var o=Mce(t,c);l==null&&(l=Oce(t,r,s));var u=r==="left"&&!n||r==="right"&&n;i[c.id]=l-Number(u)*o.width,l+=(u?-1:1)*o.width}),i}),Pce=(s,t)=>{var a=Ka(s),r=ro(s,t);if(r!=null){var n=Rce(s,r.orientation,r.mirror),i=n[t];return i==null?{x:a.left,y:0}:{x:a.left,y:i}}},Ice=(s,t)=>{var a=Ka(s),r=Od(s,t);if(r!=null){var n=$ce(s,r.orientation,r.mirror),i=n[t];return i==null?{x:0,y:a.top}:{x:i,y:a.top}}},j7=Pe(Ka,Od,(s,t)=>{var a=typeof t.width=="number"?t.width:BN;return{width:a,height:s.height}}),sR=(s,t,a)=>{switch(t){case"xAxis":return y7(s,a).width;case"yAxis":return j7(s,a).height;default:return}},v7=(s,t,a,r)=>{if(a!=null){var{allowDuplicatedCategory:n,type:i,dataKey:l}=a,c=Qi(s,r),o=t.map(u=>u.value);if(l&&c&&i==="category"&&n&&jL(o))return o}},Pg=Pe([Jt,JN,Pa,Xs],v7),LE=(s,t,a,r)=>{if(!(a==null||a.dataKey==null)){var{type:n,scale:i}=a,l=Qi(s,r);if(l&&(n==="number"||i!=="auto"))return t.map(c=>c.value)}},FE=Pe([Jt,JN,px,Xs],LE),aR=Pe([Jt,sce,Rd,yx,Pg,FE,$g,IE,Xs],(s,t,a,r,n,i,l,c,o)=>{if(t==null)return null;var u=Qi(s,o);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:o,categoricalDomain:i,duplicateDomain:n,isCategorical:u,niceTicks:c,range:l,realScaleType:a,scale:r}}),b7=(s,t,a,r,n,i,l,c,o)=>{if(!(t==null||r==null)){var u=Qi(s,o),{type:d,ticks:f,tickCount:p}=t,j=a==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,y=d==="category"&&r.bandwidth?r.bandwidth()/j:0;y=o==="angleAxis"&&i!=null&&i.length>=2?cr(i[0]-i[1])*2*y:y;var k=f||n;if(k){var v=k.map((S,C)=>{var _=l?l.indexOf(S):S;return{index:C,coordinate:r(_)+y,value:S,offset:y}});return v.filter(S=>!Cn(S.coordinate))}return u&&c?c.map((S,C)=>({coordinate:r(S)+y,value:S,index:C,offset:y})):r.ticks?r.ticks(p).map(S=>({coordinate:r(S)+y,value:S,offset:y})):r.domain().map((S,C)=>({coordinate:r(S)+y,value:l?l[S]:S,index:C,offset:y}))}},N7=Pe([Jt,px,Rd,yx,IE,$g,Pg,FE,Xs],b7),w7=(s,t,a,r,n,i,l)=>{if(!(t==null||a==null||r==null||r[0]===r[1])){var c=Qi(s,l),{tickCount:o}=t,u=0;return u=l==="angleAxis"&&r?.length>=2?cr(r[0]-r[1])*2*u:u,c&&i?i.map((d,f)=>({coordinate:a(d)+u,value:d,index:f,offset:u})):a.ticks?a.ticks(o).map(d=>({coordinate:a(d)+u,value:d,offset:u})):a.domain().map((d,f)=>({coordinate:a(d)+u,value:n?n[d]:d,index:f,offset:u}))}},Ll=Pe([Jt,px,yx,$g,Pg,FE,Xs],w7),Fl=Pe(Pa,yx,(s,t)=>{if(!(s==null||t==null))return kb(kb({},s),{},{scale:t})}),Bce=Pe([Pa,Rd,$E,f7],t1);Pe((s,t,a)=>SE(s,a),Bce,(s,t)=>{if(!(s==null||t==null))return kb(kb({},s),{},{scale:t})});var Lce=Pe([Jt,VC,WC],(s,t,a)=>{switch(s){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return a.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),k7=s=>s.options.defaultTooltipEventType,S7=s=>s.options.validateTooltipEventTypes;function _7(s,t,a){if(s==null)return t;var r=s?"axis":"item";return a==null?t:a.includes(r)?r:t}function zE(s,t){var a=k7(s),r=S7(s);return _7(t,a,r)}function Fce(s){return jt(t=>zE(t,s))}var C7=(s,t)=>{var a,r=Number(t);if(!(Cn(r)||t==null))return r>=0?s==null||(a=s[r])===null||a===void 0?void 0:a.value:void 0},zce=s=>s.tooltip.settings,cd={active:!1,index:null,dataKey:void 0,coordinate:void 0},Hce={itemInteraction:{click:cd,hover:cd},axisInteraction:{click:cd,hover:cd},keyboardInteraction:cd,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},E7=Yn({name:"tooltip",initialState:Hce,reducers:{addTooltipEntrySettings(s,t){s.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(s,t){var a=Rc(s).tooltipItemPayloads.indexOf(t.payload);a>-1&&s.tooltipItemPayloads.splice(a,1)},setTooltipSettingsState(s,t){s.settings=t.payload},setActiveMouseOverItemIndex(s,t){s.syncInteraction.active=!1,s.keyboardInteraction.active=!1,s.itemInteraction.hover.active=!0,s.itemInteraction.hover.index=t.payload.activeIndex,s.itemInteraction.hover.dataKey=t.payload.activeDataKey,s.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(s){s.itemInteraction.hover.active=!1,s.axisInteraction.hover.active=!1},mouseLeaveItem(s){s.itemInteraction.hover.active=!1},setActiveClickItemIndex(s,t){s.syncInteraction.active=!1,s.itemInteraction.click.active=!0,s.keyboardInteraction.active=!1,s.itemInteraction.click.index=t.payload.activeIndex,s.itemInteraction.click.dataKey=t.payload.activeDataKey,s.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(s,t){s.syncInteraction.active=!1,s.axisInteraction.hover.active=!0,s.keyboardInteraction.active=!1,s.axisInteraction.hover.index=t.payload.activeIndex,s.axisInteraction.hover.dataKey=t.payload.activeDataKey,s.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(s,t){s.syncInteraction.active=!1,s.keyboardInteraction.active=!1,s.axisInteraction.click.active=!0,s.axisInteraction.click.index=t.payload.activeIndex,s.axisInteraction.click.dataKey=t.payload.activeDataKey,s.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(s,t){s.syncInteraction=t.payload},setKeyboardInteraction(s,t){s.keyboardInteraction.active=t.payload.active,s.keyboardInteraction.index=t.payload.activeIndex,s.keyboardInteraction.coordinate=t.payload.activeCoordinate,s.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Uce,removeTooltipEntrySettings:qce,setTooltipSettingsState:Gce,setActiveMouseOverItemIndex:A7,mouseLeaveItem:Vce,mouseLeaveChart:T7,setActiveClickItemIndex:Wce,setMouseOverAxisIndex:M7,setMouseClickAxisIndex:Yce,setSyncInteraction:GS,setKeyboardInteraction:VS}=E7.actions,Kce=E7.reducer;function rR(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function Jj(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?rR(Object(a),!0).forEach(function(r){Qce(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):rR(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function Qce(s,t,a){return(t=Xce(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Xce(s){var t=Zce(s,"string");return typeof t=="symbol"?t:t+""}function Zce(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function Jce(s,t,a){return t==="axis"?a==="click"?s.axisInteraction.click:s.axisInteraction.hover:a==="click"?s.itemInteraction.click:s.itemInteraction.hover}function eoe(s){return s.index!=null}var D7=(s,t,a,r)=>{if(t==null)return cd;var n=Jce(s,t,a);if(n==null)return cd;if(n.active)return n;if(s.keyboardInteraction.active)return s.keyboardInteraction;if(s.syncInteraction.active&&s.syncInteraction.index!=null)return s.syncInteraction;var i=s.settings.active===!0;if(eoe(n)){if(i)return Jj(Jj({},n),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Jj(Jj({},cd),{},{coordinate:n.coordinate})},HE=(s,t)=>{var a=s?.index;if(a==null)return null;var r=Number(a);if(!kr(r))return a;var n=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(n,Math.min(r,i)))},O7=(s,t,a,r,n,i,l,c)=>{if(!(i==null||c==null)){var o=l[0],u=o==null?void 0:c(o.positions,i);if(u!=null)return u;var d=n?.[Number(i)];if(d)switch(a){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+s)/2,y:d.coordinate}}}},R7=(s,t,a,r)=>{if(t==="axis")return s.tooltipItemPayloads;if(s.tooltipItemPayloads.length===0)return[];var n;return a==="hover"?n=s.itemInteraction.hover.dataKey:n=s.itemInteraction.click.dataKey,n==null&&r!=null?[s.tooltipItemPayloads[0]]:s.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===n})},Ig=s=>s.options.tooltipPayloadSearcher,jx=s=>s.tooltip;function nR(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function iR(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(a),!0).forEach(function(r){toe(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):nR(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function toe(s,t,a){return(t=soe(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function soe(s){var t=aoe(s,"string");return typeof t=="symbol"?t:t+""}function aoe(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function roe(s,t){return s??t}var $7=(s,t,a,r,n,i,l)=>{if(!(t==null||i==null)){var{chartData:c,computedData:o,dataStartIndex:u,dataEndIndex:d}=a,f=[];return s.reduce((p,j)=>{var y,{dataDefinedOnItem:k,settings:v}=j,S=roe(k,c),C=Array.isArray(S)?wF(S,u,d):S,_=(y=v?.dataKey)!==null&&y!==void 0?y:r?.dataKey,A=v?.nameKey,D;if(r!=null&&r.dataKey&&Array.isArray(C)&&!Array.isArray(C[0])&&l==="axis"?D=vL(C,r.dataKey,n):D=i(C,t,o,A),Array.isArray(D))D.forEach(L=>{var F=iR(iR({},v),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});p.push(zD({tooltipEntrySettings:F,dataKey:L.dataKey,payload:L.payload,value:Es(L.payload,L.dataKey),name:L.name}))});else{var M;p.push(zD({tooltipEntrySettings:v,dataKey:_,payload:D,value:Es(D,_),name:(M=Es(D,A))!==null&&M!==void 0?M:v?.name}))}return p},f)}},UE=Pe([Za,Jt,Xz,bE,Xa],m7),noe=Pe([s=>s.graphicalItems.cartesianItems,s=>s.graphicalItems.polarItems],(s,t)=>[...s,...t]),ioe=Pe([Xa,fx],_E),Bg=Pe([noe,Za,ioe],CE),loe=Pe([Bg],s=>s.filter(ZN)),coe=Pe([Bg],EE),vx=Pe([coe,Dd],AE),ooe=Pe([loe,Dd,Za],Qz),qE=Pe([vx,Za,Bg],ME),doe=Pe([Za],DE),hoe=Pe([Bg],s=>s.filter(ZN)),uoe=Pe([ooe,hoe,Tg],s7),moe=Pe([uoe,Dd,Xa],a7),xoe=Pe([Bg],Jz),foe=Pe([vx,Za,xoe,e1,Xa],r7),poe=Pe([i7,Xa,fx],gx),goe=Pe([poe,Xa],o7),yoe=Pe([l7,Xa,fx],gx),joe=Pe([yoe,Xa],d7),voe=Pe([c7,Xa,fx],gx),boe=Pe([voe,Xa],h7),Noe=Pe([goe,boe,joe],Sb),woe=Pe([Za,doe,moe,foe,Noe,Jt,Xa],OE),P7=Pe([Za,Jt,vx,qE,Tg,Xa,woe],RE),koe=Pe([P7,Za,UE],PE),Soe=Pe([Za,P7,koe,Xa],BE),I7=s=>{var t=Xa(s),a=fx(s),r=!1;return $g(s,t,a,r)},B7=Pe([Za,I7],KN),L7=Pe([Za,UE,Soe,B7],t1),_oe=Pe([Jt,qE,Za,Xa],v7),Coe=Pe([Jt,qE,Za,Xa],LE),Eoe=(s,t,a,r,n,i,l,c)=>{if(t){var{type:o}=t,u=Qi(s,c);if(r){var d=a==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=o==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=c==="angleAxis"&&n!=null&&n?.length>=2?cr(n[0]-n[1])*2*f:f,u&&l?l.map((p,j)=>({coordinate:r(p)+f,value:p,index:j,offset:f})):r.domain().map((p,j)=>({coordinate:r(p)+f,value:i?i[p]:p,index:j,offset:f}))}}},no=Pe([Jt,Za,UE,L7,I7,_oe,Coe,Xa],Eoe),GE=Pe([k7,S7,zce],(s,t,a)=>_7(a.shared,s,t)),F7=s=>s.tooltip.settings.trigger,VE=s=>s.tooltip.settings.defaultIndex,r1=Pe([jx,GE,F7,VE],D7),wd=Pe([r1,vx],HE),z7=Pe([no,wd],C7),H7=Pe([r1],s=>{if(s)return s.dataKey}),U7=Pe([jx,GE,F7,VE],R7),Aoe=Pe([eo,to,Jt,Ka,no,VE,U7,Ig],O7),Toe=Pe([r1,Aoe],(s,t)=>s!=null&&s.coordinate?s.coordinate:t),Moe=Pe([r1],s=>s.active),Doe=Pe([U7,wd,Dd,Za,z7,Ig,GE],$7),Ooe=Pe([Doe],s=>{if(s!=null){var t=s.map(a=>a.payload).filter(a=>a!=null);return Array.from(new Set(t))}});function lR(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function cR(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(a),!0).forEach(function(r){Roe(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):lR(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function Roe(s,t,a){return(t=$oe(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function $oe(s){var t=Poe(s,"string");return typeof t=="symbol"?t:t+""}function Poe(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}var Ioe=()=>jt(Za),Boe=()=>{var s=Ioe(),t=jt(no),a=jt(L7);return qc(cR(cR({},s),{},{scale:a}),t)},q7=()=>jt(bE),WE=(s,t)=>t,G7=(s,t,a)=>a,YE=(s,t,a,r)=>r,Loe=Pe(no,s=>MN(s,t=>t.coordinate)),KE=Pe([jx,WE,G7,YE],D7),V7=Pe([KE,vx],HE),Foe=(s,t,a)=>{if(t!=null){var r=jx(s);return t==="axis"?a==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:a==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},W7=Pe([jx,WE,G7,YE],R7),_b=Pe([eo,to,Jt,Ka,no,YE,W7,Ig],O7),zoe=Pe([KE,_b],(s,t)=>{var a;return(a=s.coordinate)!==null&&a!==void 0?a:t}),Y7=Pe(no,V7,C7),Hoe=Pe([W7,V7,Dd,Za,Y7,Ig,WE],$7),Uoe=Pe([KE],s=>({isActive:s.active,activeIndex:s.index})),qoe=(s,t,a,r,n,i,l,c)=>{if(!(!s||!t||!r||!n||!i)){var o=_ae(s.chartX,s.chartY,t,a,c);if(o){var u=Eae(o,t),d=xae(u,l,i,r,n),f=Cae(t,i,d,o);return{activeIndex:String(d),activeCoordinate:f}}}};function WS(){return WS=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},WS.apply(null,arguments)}function oR(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function ev(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?oR(Object(a),!0).forEach(function(r){Goe(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):oR(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function Goe(s,t,a){return(t=Voe(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Voe(s){var t=Woe(s,"string");return typeof t=="symbol"?t:t+""}function Woe(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function Yoe(s){var{coordinate:t,payload:a,index:r,offset:n,tooltipAxisBandSize:i,layout:l,cursor:c,tooltipEventType:o,chartName:u}=s,d=t,f=a,p=r;if(!c||!d||u!=="ScatterChart"&&o!=="axis")return null;var j,y;if(u==="ScatterChart")j=d,y=hre;else if(u==="BarChart")j=ure(l,d,n,i),y=qF;else if(l==="radial"){var{cx:k,cy:v,radius:S,startAngle:C,endAngle:_}=GF(d);j={cx:k,cy:v,startAngle:C,endAngle:_,innerRadius:S,outerRadius:S},y=WF}else j={points:Qre(l,d,n)},y=Nm;var A=typeof c=="object"&&"className"in c?c.className:void 0,D=ev(ev(ev(ev({stroke:"#ccc",pointerEvents:"none"},n),j),ns(c,!1)),{},{payload:f,payloadIndex:p,className:Kt("recharts-tooltip-cursor",A)});return x.isValidElement(c)?x.cloneElement(c,D):x.createElement(y,D)}function Koe(s){var t=Boe(),a=MF(),r=kg(),n=q7();return x.createElement(Yoe,WS({},s,{coordinate:s.coordinate,index:s.index,payload:s.payload,offset:a,layout:r,tooltipAxisBandSize:t,chartName:n}))}var K7=x.createContext(null),Qoe=()=>x.useContext(K7),B2={exports:{}},dR;function Xoe(){return dR||(dR=1,(function(s){var t=Object.prototype.hasOwnProperty,a="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(a=!1));function n(o,u,d){this.fn=o,this.context=u,this.once=d||!1}function i(o,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var j=new n(d,f||o,p),y=a?a+u:u;return o._events[y]?o._events[y].fn?o._events[y]=[o._events[y],j]:o._events[y].push(j):(o._events[y]=j,o._eventsCount++),o}function l(o,u){--o._eventsCount===0?o._events=new r:delete o._events[u]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(a?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},c.prototype.listeners=function(u){var d=a?a+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,j=f.length,y=new Array(j);p<j;p++)y[p]=f[p].fn;return y},c.prototype.listenerCount=function(u){var d=a?a+u:u,f=this._events[d];return f?f.fn?1:f.length:0},c.prototype.emit=function(u,d,f,p,j,y){var k=a?a+u:u;if(!this._events[k])return!1;var v=this._events[k],S=arguments.length,C,_;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),S){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,p),!0;case 5:return v.fn.call(v.context,d,f,p,j),!0;case 6:return v.fn.call(v.context,d,f,p,j,y),!0}for(_=1,C=new Array(S-1);_<S;_++)C[_-1]=arguments[_];v.fn.apply(v.context,C)}else{var A=v.length,D;for(_=0;_<A;_++)switch(v[_].once&&this.removeListener(u,v[_].fn,void 0,!0),S){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,d);break;case 3:v[_].fn.call(v[_].context,d,f);break;case 4:v[_].fn.call(v[_].context,d,f,p);break;default:if(!C)for(D=1,C=new Array(S-1);D<S;D++)C[D-1]=arguments[D];v[_].fn.apply(v[_].context,C)}}return!0},c.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},c.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},c.prototype.removeListener=function(u,d,f,p){var j=a?a+u:u;if(!this._events[j])return this;if(!d)return l(this,j),this;var y=this._events[j];if(y.fn)y.fn===d&&(!p||y.once)&&(!f||y.context===f)&&l(this,j);else{for(var k=0,v=[],S=y.length;k<S;k++)(y[k].fn!==d||p&&!y[k].once||f&&y[k].context!==f)&&v.push(y[k]);v.length?this._events[j]=v.length===1?v[0]:v:l(this,j)}return this},c.prototype.removeAllListeners=function(u){var d;return u?(d=a?a+u:u,this._events[d]&&l(this,d)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=a,c.EventEmitter=c,s.exports=c})(B2)),B2.exports}var Zoe=Xoe();const Joe=Va(Zoe);var Hp=new Joe,YS="recharts.syncEvent.tooltip",hR="recharts.syncEvent.brush";function Lg(s,t){if(t){var a=Number.parseInt(t,10);if(!Cn(a))return s?.[a]}}var ede={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Q7=Yn({name:"options",initialState:ede,reducers:{createEventEmitter:s=>{s.eventEmitter==null&&(s.eventEmitter=Symbol("rechartsEventEmitter"))}}}),tde=Q7.reducer,{createEventEmitter:sde}=Q7.actions;function ade(s){return s.tooltip.syncInteraction}var rde={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},X7=Yn({name:"chartData",initialState:rde,reducers:{setChartData(s,t){if(s.chartData=t.payload,t.payload==null){s.dataStartIndex=0,s.dataEndIndex=0;return}t.payload.length>0&&s.dataEndIndex!==t.payload.length-1&&(s.dataEndIndex=t.payload.length-1)},setComputedData(s,t){s.computedData=t.payload},setDataStartEndIndexes(s,t){var{startIndex:a,endIndex:r}=t.payload;a!=null&&(s.dataStartIndex=a),r!=null&&(s.dataEndIndex=r)}}}),{setChartData:uR,setDataStartEndIndexes:nde,setComputedData:i6e}=X7.actions,ide=X7.reducer,Z7=()=>{};function lde(){var s=jt(NE),t=jt(wE),a=ya(),r=jt(Gz),n=jt(no),i=kg(),l=YC(),c=jt(o=>o.rootProps.className);x.useEffect(()=>{if(s==null)return Z7;var o=(u,d,f)=>{if(t!==f&&s===u){if(r==="index"){a(d);return}if(n!=null){var p;if(typeof r=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},y=r(n,j);p=n[y]}else r==="value"&&(p=n.find(M=>String(M.value)===d.payload.label));var{coordinate:k}=d.payload;if(p==null||d.payload.active===!1||k==null||l==null){a(GS({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:v,y:S}=k,C=Math.min(v,l.x+l.width),_=Math.min(S,l.y+l.height),A={x:i==="horizontal"?p.coordinate:C,y:i==="horizontal"?_:p.coordinate},D=GS({active:d.payload.active,coordinate:A,dataKey:d.payload.dataKey,index:String(p.index),label:d.payload.label});a(D)}}};return Hp.on(YS,o),()=>{Hp.off(YS,o)}},[c,a,t,s,r,n,i,l])}function cde(){var s=jt(NE),t=jt(wE),a=ya();x.useEffect(()=>{if(s==null)return Z7;var r=(n,i,l)=>{t!==l&&s===n&&a(nde(i))};return Hp.on(hR,r),()=>{Hp.off(hR,r)}},[a,t,s])}function ode(){var s=ya();x.useEffect(()=>{s(sde())},[s]),lde(),cde()}function dde(s,t,a,r,n,i){var l=jt(p=>Foe(p,s,t)),c=jt(wE),o=jt(NE),u=jt(Gz),d=jt(ade),f=d?.active;x.useEffect(()=>{if(!f&&o!=null&&c!=null){var p=GS({active:i,coordinate:a,dataKey:l,index:n,label:typeof r=="number"?String(r):r});Hp.emit(YS,o,p,c)}},[f,a,l,n,r,c,o,u,i])}function mR(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function xR(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?mR(Object(a),!0).forEach(function(r){hde(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):mR(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function hde(s,t,a){return(t=ude(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function ude(s){var t=mde(s,"string");return typeof t=="symbol"?t:t+""}function mde(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function xde(s){return s.dataKey}function fde(s,t){return x.isValidElement(s)?x.cloneElement(s,t):typeof s=="function"?x.createElement(s,t):x.createElement(Uae,t)}var fR=[],pde={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!so.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Da(s){var t=Gr(s,pde),{active:a,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,content:l,filterNull:c,isAnimationActive:o,offset:u,payloadUniqBy:d,position:f,reverseDirection:p,useTranslate3d:j,wrapperStyle:y,cursor:k,shared:v,trigger:S,defaultIndex:C,portal:_,axisId:A}=t,D=ya(),M=typeof C=="number"?String(C):C;x.useEffect(()=>{D(Gce({shared:v,trigger:S,axisId:A,active:a,defaultIndex:M}))},[D,v,S,A,a,M]);var L=YC(),F=IF(),Q=Fce(v),{activeIndex:I,isActive:H}=jt(fe=>Uoe(fe,Q,S,M)),z=jt(fe=>Hoe(fe,Q,S,M)),K=jt(fe=>Y7(fe,Q,S,M)),U=jt(fe=>zoe(fe,Q,S,M)),V=z,P=Qoe(),q=a??H,[G,se]=rse([V,q]),O=Q==="axis"?K:void 0;dde(Q,S,U,O,I,q);var W=_??P;if(W==null)return null;var Z=V??fR;q||(Z=fR),c&&Z.length&&(Z=Tte(V.filter(fe=>fe.value!=null&&(fe.hide!==!0||t.includeHidden)),d,xde));var te=Z.length>0,ie=x.createElement(Qae,{allowEscapeViewBox:r,animationDuration:n,animationEasing:i,isAnimationActive:o,active:q,coordinate:U,hasPayload:te,offset:u,position:f,reverseDirection:p,useTranslate3d:j,viewBox:L,wrapperStyle:y,lastBoundingBox:G,innerRef:se,hasPortalFromProps:!!_},fde(l,xR(xR({},t),{},{payload:Z,label:O,active:q,coordinate:U,accessibilityLayer:F})));return x.createElement(x.Fragment,null,Ep.createPortal(ie,W),q&&x.createElement(Koe,{cursor:k,tooltipEventType:Q,coordinate:U,payload:V,index:I}))}var L2={},F2={},z2={},pR;function gde(){return pR||(pR=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});function t(a,r,{signal:n,edges:i}={}){let l,c=null;const o=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{c!==null&&(a.apply(l,c),l=void 0,c=null)},f=()=>{u&&d(),k()};let p=null;const j=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},r)},y=()=>{p!==null&&(clearTimeout(p),p=null)},k=()=>{y(),l=void 0,c=null},v=()=>{d()},S=function(...C){if(n?.aborted)return;l=this,c=C;const _=p==null;j(),o&&_&&d()};return S.schedule=j,S.cancel=k,S.flush=v,n?.addEventListener("abort",k,{once:!0}),S}s.debounce=t})(z2)),z2}var gR;function yde(){return gR||(gR=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=gde();function a(r,n=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:c=!0,maxWait:o}=i,u=Array(2);l&&(u[0]="leading"),c&&(u[1]="trailing");let d,f=null;const p=t.debounce(function(...k){d=r.apply(this,k),f=null},n,{edges:u}),j=function(...k){return o!=null&&(f===null&&(f=Date.now()),Date.now()-f>=o)?(d=r.apply(this,k),f=Date.now(),p.cancel(),p.schedule(),d):(p.apply(this,k),d)},y=()=>(p.flush(),d);return j.cancel=p.cancel,j.flush=y,j}s.debounce=a})(F2)),F2}var yR;function jde(){return yR||(yR=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=yde();function a(r,n=0,i={}){const{leading:l=!0,trailing:c=!0}=i;return t.debounce(r,n,{leading:l,maxWait:n,trailing:c})}s.throttle=a})(L2)),L2}var H2,jR;function vde(){return jR||(jR=1,H2=jde().throttle),H2}var bde=vde();const Nde=Va(bde);var fp=function(t,a){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]};function vR(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function U2(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?vR(Object(a),!0).forEach(function(r){wde(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):vR(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function wde(s,t,a){return(t=kde(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function kde(s){var t=Sde(s,"string");return typeof t=="symbol"?t:t+""}function Sde(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}var Sa=x.forwardRef((s,t)=>{var{aspect:a,initialDimension:r={width:-1,height:-1},width:n="100%",height:i="100%",minWidth:l=0,minHeight:c,maxHeight:o,children:u,debounce:d=0,id:f,className:p,onResize:j,style:y={}}=s,k=x.useRef(null),v=x.useRef();v.current=j,x.useImperativeHandle(t,()=>k.current);var[S,C]=x.useState({containerWidth:r.width,containerHeight:r.height}),_=x.useCallback((D,M)=>{C(L=>{var F=Math.round(D),Q=Math.round(M);return L.containerWidth===F&&L.containerHeight===Q?L:{containerWidth:F,containerHeight:Q}})},[]);x.useEffect(()=>{var D=Q=>{var I,{width:H,height:z}=Q[0].contentRect;_(H,z),(I=v.current)===null||I===void 0||I.call(v,H,z)};d>0&&(D=Nde(D,d,{trailing:!0,leading:!1}));var M=new ResizeObserver(D),{width:L,height:F}=k.current.getBoundingClientRect();return _(L,F),M.observe(k.current),()=>{M.disconnect()}},[_,d]);var A=x.useMemo(()=>{var{containerWidth:D,containerHeight:M}=S;if(D<0||M<0)return null;fp(_h(n)||_h(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,n,i),fp(!a||a>0,"The aspect(%s) must be greater than zero.",a);var L=_h(n)?D:n,F=_h(i)?M:i;return a&&a>0&&(L?F=L/a:F&&(L=F*a),o&&F>o&&(F=o)),fp(L>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,F,n,i,l,c,a),x.Children.map(u,Q=>x.cloneElement(Q,{width:L,height:F,style:U2({width:L,height:F},Q.props.style)}))},[a,u,i,o,c,l,S,n]);return x.createElement("div",{id:f?"".concat(f):void 0,className:Kt("recharts-responsive-container",p),style:U2(U2({},y),{},{width:n,height:i,minWidth:l,minHeight:c,maxHeight:o}),ref:k},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},A))}),Yc=s=>null;Yc.displayName="Cell";function _de(s,t,a){return(t=Cde(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Cde(s){var t=Ede(s,"string");return typeof t=="symbol"?t:t+""}function Ede(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}class Ade{constructor(t){_de(this,"cache",new Map),this.maxSize=t}get(t){var a=this.cache.get(t);return a!==void 0&&(this.cache.delete(t),this.cache.set(t,a)),a}set(t,a){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,a)}clear(){this.cache.clear()}size(){return this.cache.size}}function bR(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function Tde(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(a),!0).forEach(function(r){Mde(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):bR(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function Mde(s,t,a){return(t=Dde(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Dde(s){var t=Ode(s,"string");return typeof t=="symbol"?t:t+""}function Ode(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}var Rde={cacheSize:2e3,enableCache:!0},J7=Tde({},Rde),NR=new Ade(J7.cacheSize),$de={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},wR="recharts_measurement_span";function Pde(s,t){var a=t.fontSize||"",r=t.fontFamily||"",n=t.fontWeight||"",i=t.fontStyle||"",l=t.letterSpacing||"",c=t.textTransform||"";return"".concat(s,"|").concat(a,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(l,"|").concat(c)}var kR=(s,t)=>{try{var a=document.getElementById(wR);a||(a=document.createElement("span"),a.setAttribute("id",wR),a.setAttribute("aria-hidden","true"),document.body.appendChild(a)),Object.assign(a.style,$de,t),a.textContent="".concat(s);var r=a.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},pp=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||so.isSsr)return{width:0,height:0};if(!J7.enableCache)return kR(t,a);var r=Pde(t,a),n=NR.get(r);if(n)return n;var i=kR(t,a);return NR.set(r,i),i},SR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_R=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ide=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Bde=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Lde=Object.keys(eH),pm="NaN";function Fde(s,t){return s*eH[t]}class pn{static parse(t){var a,[,r,n]=(a=Bde.exec(t))!==null&&a!==void 0?a:[];return new pn(parseFloat(r),n??"")}constructor(t,a){this.num=t,this.unit=a,this.num=t,this.unit=a,Cn(t)&&(this.unit=""),a!==""&&!Ide.test(a)&&(this.num=NaN,this.unit=""),Lde.includes(a)&&(this.num=Fde(t,a),this.unit="px")}add(t){return this.unit!==t.unit?new pn(NaN,""):new pn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new pn(NaN,""):new pn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new pn(NaN,""):new pn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new pn(NaN,""):new pn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Cn(this.num)}}function tH(s){if(s.includes(pm))return pm;for(var t=s;t.includes("*")||t.includes("/");){var a,[,r,n,i]=(a=SR.exec(t))!==null&&a!==void 0?a:[],l=pn.parse(r??""),c=pn.parse(i??""),o=n==="*"?l.multiply(c):l.divide(c);if(o.isNaN())return pm;t=t.replace(SR,o.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,p]=(u=_R.exec(t))!==null&&u!==void 0?u:[],j=pn.parse(d??""),y=pn.parse(p??""),k=f==="+"?j.add(y):j.subtract(y);if(k.isNaN())return pm;t=t.replace(_R,k.toString())}return t}var CR=/\(([^()]*)\)/;function zde(s){for(var t=s,a;(a=CR.exec(t))!=null;){var[,r]=a;t=t.replace(CR,tH(r))}return t}function Hde(s){var t=s.replace(/\s+/g,"");return t=zde(t),t=tH(t),t}function Ude(s){try{return Hde(s)}catch{return pm}}function q2(s){var t=Ude(s.slice(5,-1));return t===pm?"":t}var qde=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Gde=["dx","dy","angle","className","breakAll"];function KS(){return KS=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},KS.apply(null,arguments)}function ER(s,t){if(s==null)return{};var a,r,n=Vde(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function Vde(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var sH=/[ \f\n\r\t\v\u2028\u2029]+/,aH=s=>{var{children:t,breakAll:a,style:r}=s;try{var n=[];qs(t)||(a?n=t.toString().split(""):n=t.toString().split(sH));var i=n.map(c=>({word:c,width:pp(c,r).width})),l=a?0:pp(" ",r).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},Wde=(s,t,a,r,n)=>{var{maxLines:i,children:l,style:c,breakAll:o}=s,u=gt(i),d=l,f=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce((z,K)=>{var{word:U,width:V}=K,P=z[z.length-1];if(P&&(r==null||n||P.width+V+a<Number(r)))P.words.push(U),P.width+=V+a;else{var q={words:[U],width:V};z.push(q)}return z},[])},p=f(t),j=I=>I.reduce((H,z)=>H.width>z.width?H:z);if(!u||n)return p;var y=p.length>i||j(p).width>Number(r);if(!y)return p;for(var k="…",v=I=>{var H=d.slice(0,I),z=aH({breakAll:o,style:c,children:H+k}).wordsWithComputedWidth,K=f(z),U=K.length>i||j(K).width>Number(r);return[U,K]},S=0,C=d.length-1,_=0,A;S<=C&&_<=d.length-1;){var D=Math.floor((S+C)/2),M=D-1,[L,F]=v(M),[Q]=v(D);if(!L&&!Q&&(S=D+1),L&&Q&&(C=D-1),!L&&Q){A=F;break}_++}return A||p},AR=s=>{var t=qs(s)?[]:s.toString().split(sH);return[{words:t}]},Yde=s=>{var{width:t,scaleToFit:a,children:r,style:n,breakAll:i,maxLines:l}=s;if((t||a)&&!so.isSsr){var c,o,u=aH({breakAll:i,children:r,style:n});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;c=d,o=f}else return AR(r);return Wde({breakAll:i,children:r,maxLines:l,style:n},c,o,t,a)}return AR(r)},TR="#808080",bx=x.forwardRef((s,t)=>{var{x:a=0,y:r=0,lineHeight:n="1em",capHeight:i="0.71em",scaleToFit:l=!1,textAnchor:c="start",verticalAnchor:o="end",fill:u=TR}=s,d=ER(s,qde),f=x.useMemo(()=>Yde({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:p,dy:j,angle:y,className:k,breakAll:v}=d,S=ER(d,Gde);if(!Il(a)||!Il(r))return null;var C=a+(gt(p)?p:0),_=r+(gt(j)?j:0),A;switch(o){case"start":A=q2("calc(".concat(i,")"));break;case"middle":A=q2("calc(".concat((f.length-1)/2," * -").concat(n," + (").concat(i," / 2))"));break;default:A=q2("calc(".concat(f.length-1," * -").concat(n,")"));break}var D=[];if(l){var M=f[0].width,{width:L}=d;D.push("scale(".concat(gt(L)?L/M:1,")"))}return y&&D.push("rotate(".concat(y,", ").concat(C,", ").concat(_,")")),D.length&&(S.transform=D.join(" ")),x.createElement("text",KS({},ns(S,!0),{ref:t,x:C,y:_,className:Kt("recharts-text",k),textAnchor:c,fill:u.includes("url")?TR:u}),f.map((F,Q)=>{var I=F.words.join(v?"":" ");return x.createElement("tspan",{x:C,dy:Q===0?A:n,key:"".concat(I,"-").concat(Q)},I)}))});bx.displayName="Text";var Kde=["offset"],Qde=["labelRef"];function MR(s,t){if(s==null)return{};var a,r,n=Xde(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function Xde(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}function DR(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function Na(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(a),!0).forEach(function(r){Zde(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):DR(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function Zde(s,t,a){return(t=Jde(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Jde(s){var t=ehe(s,"string");return typeof t=="symbol"?t:t+""}function ehe(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function Sc(){return Sc=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},Sc.apply(null,arguments)}var the=s=>{var{value:t,formatter:a}=s,r=qs(s.children)?t:s.children;return typeof a=="function"?a(r):r},QE=s=>s!=null&&typeof s=="function",she=(s,t)=>{var a=cr(t-s),r=Math.min(Math.abs(t-s),360);return a*r},ahe=(s,t,a,r)=>{var{position:n,offset:i,className:l}=s,{cx:c,cy:o,innerRadius:u,outerRadius:d,startAngle:f,endAngle:p,clockWise:j}=r,y=(u+d)/2,k=she(f,p),v=k>=0?1:-1,S,C;n==="insideStart"?(S=f+v*i,C=j):n==="insideEnd"?(S=p-v*i,C=!j):n==="end"&&(S=p+v*i,C=j),C=k<=0?C:!C;var _=As(c,o,y,S),A=As(c,o,y,S+(C?1:-1)*359),D="M".concat(_.x,",").concat(_.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(C?0:1,`,
    `).concat(A.x,",").concat(A.y),M=qs(s.id)?Dp("recharts-radial-line-"):s.id;return x.createElement("text",Sc({},a,{dominantBaseline:"central",className:Kt("recharts-radial-bar-label",l)}),x.createElement("defs",null,x.createElement("path",{id:M,d:D})),x.createElement("textPath",{xlinkHref:"#".concat(M)},t))},rhe=(s,t,a)=>{var{cx:r,cy:n,innerRadius:i,outerRadius:l,startAngle:c,endAngle:o}=s,u=(c+o)/2;if(a==="outside"){var{x:d,y:f}=As(r,n,l+t,u);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:r,y:n,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:r,y:n,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:r,y:n,textAnchor:"middle",verticalAnchor:"end"};var p=(i+l)/2,{x:j,y}=As(r,n,p,u);return{x:j,y,textAnchor:"middle",verticalAnchor:"middle"}},nhe=(s,t)=>{var{parentViewBox:a,offset:r,position:n}=s,{x:i,y:l,width:c,height:o}=t,u=o>=0?1:-1,d=u*r,f=u>0?"end":"start",p=u>0?"start":"end",j=c>=0?1:-1,y=j*r,k=j>0?"end":"start",v=j>0?"start":"end";if(n==="top"){var S={x:i+c/2,y:l-u*r,textAnchor:"middle",verticalAnchor:f};return Na(Na({},S),a?{height:Math.max(l-a.y,0),width:c}:{})}if(n==="bottom"){var C={x:i+c/2,y:l+o+d,textAnchor:"middle",verticalAnchor:p};return Na(Na({},C),a?{height:Math.max(a.y+a.height-(l+o),0),width:c}:{})}if(n==="left"){var _={x:i-y,y:l+o/2,textAnchor:k,verticalAnchor:"middle"};return Na(Na({},_),a?{width:Math.max(_.x-a.x,0),height:o}:{})}if(n==="right"){var A={x:i+c+y,y:l+o/2,textAnchor:v,verticalAnchor:"middle"};return Na(Na({},A),a?{width:Math.max(a.x+a.width-A.x,0),height:o}:{})}var D=a?{width:c,height:o}:{};return n==="insideLeft"?Na({x:i+y,y:l+o/2,textAnchor:v,verticalAnchor:"middle"},D):n==="insideRight"?Na({x:i+c-y,y:l+o/2,textAnchor:k,verticalAnchor:"middle"},D):n==="insideTop"?Na({x:i+c/2,y:l+d,textAnchor:"middle",verticalAnchor:p},D):n==="insideBottom"?Na({x:i+c/2,y:l+o-d,textAnchor:"middle",verticalAnchor:f},D):n==="insideTopLeft"?Na({x:i+y,y:l+d,textAnchor:v,verticalAnchor:p},D):n==="insideTopRight"?Na({x:i+c-y,y:l+d,textAnchor:k,verticalAnchor:p},D):n==="insideBottomLeft"?Na({x:i+y,y:l+o-d,textAnchor:v,verticalAnchor:f},D):n==="insideBottomRight"?Na({x:i+c-y,y:l+o-d,textAnchor:k,verticalAnchor:f},D):n&&typeof n=="object"&&(gt(n.x)||_h(n.x))&&(gt(n.y)||_h(n.y))?Na({x:i+an(n.x,c),y:l+an(n.y,o),textAnchor:"end",verticalAnchor:"end"},D):Na({x:i+c/2,y:l+o/2,textAnchor:"middle",verticalAnchor:"middle"},D)},ihe=s=>"cx"in s&&gt(s.cx);function yn(s){var{offset:t=5}=s,a=MR(s,Kde),r=Na({offset:t},a),{viewBox:n,position:i,value:l,children:c,content:o,className:u="",textBreakAll:d,labelRef:f}=r,p=jt(xx),j=YC(),y=i==="center"?j:p??j,k=n||y;if(!k||qs(l)&&qs(c)&&!x.isValidElement(o)&&typeof o!="function")return null;var v=Na(Na({},r),{},{viewBox:k});if(x.isValidElement(o)){var{labelRef:S}=v,C=MR(v,Qde);return x.cloneElement(o,C)}var _;if(typeof o=="function"){if(_=x.createElement(o,v),x.isValidElement(_))return _}else _=the(r);var A=ihe(k),D=ns(r,!0);if(A&&(i==="insideStart"||i==="insideEnd"||i==="end"))return ahe(r,_,D,k);var M=A?rhe(k,r.offset,r.position):nhe(r,k);return x.createElement(bx,Sc({ref:f,className:Kt("recharts-label",u)},D,M,{breakAll:d}),_)}yn.displayName="Label";var rH=s=>{var{cx:t,cy:a,angle:r,startAngle:n,endAngle:i,r:l,radius:c,innerRadius:o,outerRadius:u,x:d,y:f,top:p,left:j,width:y,height:k,clockWise:v,labelViewBox:S}=s;if(S)return S;if(gt(y)&&gt(k)){if(gt(d)&&gt(f))return{x:d,y:f,width:y,height:k};if(gt(p)&&gt(j))return{x:p,y:j,width:y,height:k}}if(gt(d)&&gt(f))return{x:d,y:f,width:0,height:0};if(gt(t)&&gt(a))return{cx:t,cy:a,startAngle:n||r||0,endAngle:i||r||0,innerRadius:o||0,outerRadius:u||c||l||0,clockWise:v};if(s.viewBox)return s.viewBox},lhe=(s,t,a)=>{if(!s)return null;var r={viewBox:t,labelRef:a};return s===!0?x.createElement(yn,Sc({key:"label-implicit"},r)):Il(s)?x.createElement(yn,Sc({key:"label-implicit",value:s},r)):x.isValidElement(s)?s.type===yn?x.cloneElement(s,Na({key:"label-implicit"},r)):x.createElement(yn,Sc({key:"label-implicit",content:s},r)):QE(s)?x.createElement(yn,Sc({key:"label-implicit",content:s},r)):s&&typeof s=="object"?x.createElement(yn,Sc({},s,{key:"label-implicit"},r)):null},che=function(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:n,labelRef:i}=t,l=rH(t),c=Ng(n,yn).map((u,d)=>x.cloneElement(u,{viewBox:a||l,key:"label-".concat(d)}));if(!r)return c;var o=lhe(t.label,a||l,i);return[o,...c]};yn.parseViewBox=rH;yn.renderCallByParent=che;var G2={},V2={},OR;function ohe(){return OR||(OR=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});function t(a){return a[a.length-1]}s.last=t})(V2)),V2}var W2={},RR;function dhe(){return RR||(RR=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});function t(a){return Array.isArray(a)?a:Array.from(a)}s.toArray=t})(W2)),W2}var $R;function hhe(){return $R||($R=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=ohe(),a=dhe(),r=RC();function n(i){if(r.isArrayLike(i))return t.last(a.toArray(i))}s.last=n})(G2)),G2}var Y2,PR;function uhe(){return PR||(PR=1,Y2=hhe().last),Y2}var mhe=uhe();const nH=Va(mhe);var xhe=["valueAccessor"],fhe=["data","dataKey","clockWise","id","textBreakAll"];function Cb(){return Cb=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},Cb.apply(null,arguments)}function IR(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function BR(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?IR(Object(a),!0).forEach(function(r){phe(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):IR(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function phe(s,t,a){return(t=ghe(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function ghe(s){var t=yhe(s,"string");return typeof t=="symbol"?t:t+""}function yhe(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function LR(s,t){if(s==null)return{};var a,r,n=jhe(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function jhe(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var vhe=s=>Array.isArray(s.value)?nH(s.value):s.value;function Rl(s){var{valueAccessor:t=vhe}=s,a=LR(s,xhe),{data:r,dataKey:n,clockWise:i,id:l,textBreakAll:c}=a,o=LR(a,fhe);return!r||!r.length?null:x.createElement(Os,{className:"recharts-label-list"},r.map((u,d)=>{var f=qs(n)?t(u,d):Es(u&&u.payload,n),p=qs(l)?{}:{id:"".concat(l,"-").concat(d)};return x.createElement(yn,Cb({},ns(u,!0),o,p,{parentViewBox:u.parentViewBox,value:f,textBreakAll:c,viewBox:yn.parseViewBox(qs(i)?u:BR(BR({},u),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}Rl.displayName="LabelList";function bhe(s,t){return s?s===!0?x.createElement(Rl,{key:"labelList-implicit",data:t}):x.isValidElement(s)||QE(s)?x.createElement(Rl,{key:"labelList-implicit",data:t,content:s}):typeof s=="object"?x.createElement(Rl,Cb({data:t},s,{key:"labelList-implicit"})):null:null}function Nhe(s,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!s||!s.children&&a&&!s.label)return null;var{children:r}=s,n=Ng(r,Rl).map((l,c)=>x.cloneElement(l,{data:t,key:"labelList-".concat(c)}));if(!a)return n;var i=bhe(s.label,t);return[i,...n]}Rl.renderCallByParent=Nhe;var whe=["points","className","baseLinePoints","connectNulls"];function gm(){return gm=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},gm.apply(null,arguments)}function khe(s,t){if(s==null)return{};var a,r,n=She(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function She(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var FR=s=>s&&s.x===+s.x&&s.y===+s.y,_he=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=[[]];return t.forEach(r=>{FR(r)?a[a.length-1].push(r):a[a.length-1].length>0&&a.push([])}),FR(t[0])&&a[a.length-1].push(t[0]),a[a.length-1].length<=0&&(a=a.slice(0,-1)),a},gp=(s,t)=>{var a=_he(s);t&&(a=[a.reduce((n,i)=>[...n,...i],[])]);var r=a.map(n=>n.reduce((i,l,c)=>"".concat(i).concat(c===0?"M":"L").concat(l.x,",").concat(l.y),"")).join("");return a.length===1?"".concat(r,"Z"):r},Che=(s,t,a)=>{var r=gp(s,a);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(gp(t.reverse(),a).slice(1))},iH=s=>{var{points:t,className:a,baseLinePoints:r,connectNulls:n}=s,i=khe(s,whe);if(!t||!t.length)return null;var l=Kt("recharts-polygon",a);if(r&&r.length){var c=i.stroke&&i.stroke!=="none",o=Che(t,r,n);return x.createElement("g",{className:l},x.createElement("path",gm({},ns(i,!0),{fill:o.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:o})),c?x.createElement("path",gm({},ns(i,!0),{fill:"none",d:gp(t,n)})):null,c?x.createElement("path",gm({},ns(i,!0),{fill:"none",d:gp(r,n)})):null)}var u=gp(t,n);return x.createElement("path",gm({},ns(i,!0),{fill:u.slice(-1)==="Z"?i.fill:"none",className:l,d:u}))};function QS(){return QS=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},QS.apply(null,arguments)}var Fg=s=>{var{cx:t,cy:a,r,className:n}=s,i=Kt("recharts-dot",n);return t===+t&&a===+a&&r===+r?x.createElement("circle",QS({},Ya(s),TC(s),{className:i,cx:t,cy:a,r})):null},XE=s=>s.graphicalItems.polarItems,Ehe=Pe([Xs,Dg],_E),ZE=Pe([XE,Pa,Ehe],CE),Ahe=Pe([ZE],EE),JE=Pe([Ahe,WN],AE),lH=Pe([JE,Pa,ZE],ME),The=Pe([JE,Pa,ZE],(s,t,a)=>a.length>0?s.flatMap(r=>a.flatMap(n=>{var i,l=Es(r,(i=t.dataKey)!==null&&i!==void 0?i:n.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?s.map(r=>({value:Es(r,t.dataKey),errorDomain:[]})):s.map(r=>({value:r,errorDomain:[]}))),zR=()=>{},Mhe=Pe([Pa,u7,zR,The,zR,Jt,Xs],OE),cH=Pe([Pa,Jt,JE,lH,Tg,Xs,Mhe],RE),oH=Pe([cH,Pa,Rd],PE),Dhe=Pe([Pa,cH,oH,Xs],BE),eA=(s,t,a)=>{switch(t){case"angleAxis":return mx(s,a);case"radiusAxis":return Mg(s,a);default:throw new Error("Unexpected axis type: ".concat(t))}},tA=(s,t,a)=>{switch(t){case"angleAxis":return Qle(s,a);case"radiusAxis":return Xle(s,a);default:throw new Error("Unexpected axis type: ".concat(t))}},Nx=Pe([eA,Rd,Dhe,tA],t1),dH=Pe([Jt,lH,px,Xs],LE),wx=Pe([Jt,eA,Rd,Nx,oH,tA,Pg,dH,Xs],b7);Pe([Jt,eA,Nx,tA,Pg,dH,Xs],w7);var Ohe=(s,t)=>wx(s,"angleAxis",t,!1),Rhe=Pe([Ohe],s=>{if(s)return s.map(t=>t.coordinate)}),$he=(s,t)=>wx(s,"radiusAxis",t,!1),Phe=Pe([$he],s=>{if(s)return s.map(t=>t.coordinate)}),Ihe=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function Bhe(s,t){if(s==null)return{};var a,r,n=Lhe(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function Lhe(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}function Kc(){return Kc=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},Kc.apply(null,arguments)}function HR(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function zm(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(a),!0).forEach(function(r){Fhe(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):HR(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function Fhe(s,t,a){return(t=zhe(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function zhe(s){var t=Hhe(s,"string");return typeof t=="symbol"?t:t+""}function Hhe(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}var Uhe=(s,t,a,r)=>{var n="";return r.forEach((i,l)=>{var c=As(t,a,s,i);l?n+="L ".concat(c.x,",").concat(c.y):n+="M ".concat(c.x,",").concat(c.y)}),n+="Z",n},qhe=s=>{var{cx:t,cy:a,innerRadius:r,outerRadius:n,polarAngles:i,radialLines:l}=s;if(!i||!i.length||!l)return null;var c=zm({stroke:"#ccc"},Ya(s));return x.createElement("g",{className:"recharts-polar-grid-angle"},i.map(o=>{var u=As(t,a,r,o),d=As(t,a,n,o);return x.createElement("line",Kc({},c,{key:"line-".concat(o),x1:u.x,y1:u.y,x2:d.x,y2:d.y}))}))},Ghe=s=>{var{cx:t,cy:a,radius:r,index:n}=s,i=zm(zm({stroke:"#ccc"},Ya(s)),{},{fill:"none"});return x.createElement("circle",Kc({},i,{className:Kt("recharts-polar-grid-concentric-circle",s.className),key:"circle-".concat(n),cx:t,cy:a,r}))},Vhe=s=>{var{radius:t,index:a}=s,r=zm(zm({stroke:"#ccc"},Ya(s)),{},{fill:"none"});return x.createElement("path",Kc({},r,{className:Kt("recharts-polar-grid-concentric-polygon",s.className),key:"path-".concat(a),d:Uhe(t,s.cx,s.cy,s.polarAngles)}))},Whe=s=>{var{polarRadius:t,gridType:a}=s;return!t||!t.length?null:x.createElement("g",{className:"recharts-polar-grid-concentric"},t.map((r,n)=>{var i=n;return a==="circle"?x.createElement(Ghe,Kc({key:i},s,{radius:r,index:n})):x.createElement(Vhe,Kc({key:i},s,{radius:r,index:n}))}))},sA=s=>{var t,a,r,n,i,l,c,o,{gridType:u="polygon",radialLines:d=!0,angleAxisId:f=0,radiusAxisId:p=0,cx:j,cy:y,innerRadius:k,outerRadius:v}=s,S=Bhe(s,Ihe),C=jt(xx),_=zm({cx:(t=(a=C?.cx)!==null&&a!==void 0?a:j)!==null&&t!==void 0?t:0,cy:(r=(n=C?.cy)!==null&&n!==void 0?n:y)!==null&&r!==void 0?r:0,innerRadius:(i=(l=C?.innerRadius)!==null&&l!==void 0?l:k)!==null&&i!==void 0?i:0,outerRadius:(c=(o=C?.outerRadius)!==null&&o!==void 0?o:v)!==null&&c!==void 0?c:0},S),{polarAngles:A,polarRadius:D,cx:M,cy:L,innerRadius:F,outerRadius:Q}=_,I=jt(U=>Rhe(U,f)),H=jt(U=>Phe(U,p)),z=Array.isArray(A)?A:I,K=Array.isArray(D)?D:H;return Q<=0||z==null||K==null?null:x.createElement("g",{className:"recharts-polar-grid"},x.createElement(qhe,Kc({cx:M,cy:L,innerRadius:F,outerRadius:Q,gridType:u,radialLines:d},_,{polarAngles:z,polarRadius:K})),x.createElement(Whe,Kc({cx:M,cy:L,innerRadius:F,outerRadius:Q,gridType:u,radialLines:d},_,{polarAngles:z,polarRadius:K})))};sA.displayName="PolarGrid";var K2={},Q2={},UR;function Yhe(){return UR||(UR=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});function t(a,r){if(a.length===0)return;let n=a[0],i=r(n);for(let l=1;l<a.length;l++){const c=a[l],o=r(c);o>i&&(i=o,n=c)}return n}s.maxBy=t})(Q2)),Q2}var qR;function Khe(){return qR||(qR=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=Yhe(),a=TN(),r=LC();function n(i,l){if(i!=null)return t.maxBy(Array.from(i),r.iteratee(l??a.identity))}s.maxBy=n})(K2)),K2}var X2,GR;function Qhe(){return GR||(GR=1,X2=Khe().maxBy),X2}var Xhe=Qhe();const Zhe=Va(Xhe);var Z2={},J2={},VR;function Jhe(){return VR||(VR=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});function t(a,r){if(a.length===0)return;let n=a[0],i=r(n);for(let l=1;l<a.length;l++){const c=a[l],o=r(c);o<i&&(i=o,n=c)}return n}s.minBy=t})(J2)),J2}var WR;function eue(){return WR||(WR=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});const t=Jhe(),a=TN(),r=LC();function n(i,l){if(i!=null)return t.minBy(Array.from(i),r.iteratee(l??a.identity))}s.minBy=n})(Z2)),Z2}var ek,YR;function tue(){return YR||(YR=1,ek=eue().minBy),ek}var sue=tue();const aue=Va(sue);var rue={radiusAxis:{},angleAxis:{}},hH=Yn({name:"polarAxis",initialState:rue,reducers:{addRadiusAxis(s,t){s.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(s,t){delete s.radiusAxis[t.payload.id]},addAngleAxis(s,t){s.angleAxis[t.payload.id]=t.payload},removeAngleAxis(s,t){delete s.angleAxis[t.payload.id]}}}),{addRadiusAxis:nue,removeRadiusAxis:iue,addAngleAxis:lue,removeAngleAxis:cue}=hH.actions,oue=hH.reducer,due=["cx","cy","angle","axisLine"],hue=["angle","tickFormatter","stroke","tick"];function Up(){return Up=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},Up.apply(null,arguments)}function KR(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function Al(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?KR(Object(a),!0).forEach(function(r){n1(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):KR(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function n1(s,t,a){return(t=uue(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function uue(s){var t=mue(s,"string");return typeof t=="symbol"?t:t+""}function mue(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function uH(s,t){if(s==null)return{};var a,r,n=xue(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function xue(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var mH="radiusAxis";function fue(s){var t=ya();return x.useEffect(()=>(t(nue(s)),()=>{t(iue(s))})),null}var pue=(s,t,a,r)=>{var{coordinate:n}=s;return As(a,r,n,t)},gue=s=>{var t;switch(s){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},yue=(s,t,a,r)=>{var n=Zhe(r,l=>l.coordinate||0),i=aue(r,l=>l.coordinate||0);return{cx:t,cy:a,startAngle:s,endAngle:s,innerRadius:i.coordinate||0,outerRadius:n.coordinate||0}},jue=(s,t)=>{var{cx:a,cy:r,angle:n,axisLine:i}=s,l=uH(s,due),c=t.reduce((f,p)=>[Math.min(f[0],p.coordinate),Math.max(f[1],p.coordinate)],[1/0,-1/0]),o=As(a,r,c[0],n),u=As(a,r,c[1],n),d=Al(Al(Al({},Ya(l)),{},{fill:"none"},ns(i,!1)),{},{x1:o.x,y1:o.y,x2:u.x,y2:u.y});return x.createElement("line",Up({className:"recharts-polar-radius-axis-line"},d))},vue=(s,t,a)=>{var r;return x.isValidElement(s)?r=x.cloneElement(s,t):typeof s=="function"?r=s(t):r=x.createElement(bx,Up({},t,{className:"recharts-polar-radius-axis-tick-value"}),a),r},bue=(s,t)=>{var{angle:a,tickFormatter:r,stroke:n,tick:i}=s,l=uH(s,hue),c=gue(s.orientation),o=Ya(l),u=ns(i,!1),d=t.map((f,p)=>{var j=pue(f,s.angle,s.cx,s.cy),y=Al(Al(Al(Al({textAnchor:c,transform:"rotate(".concat(90-a,", ").concat(j.x,", ").concat(j.y,")")},o),{},{stroke:"none",fill:n},u),{},{index:p},j),{},{payload:f});return x.createElement(Os,Up({className:Kt("recharts-polar-radius-axis-tick",NF(i)),key:"tick-".concat(f.coordinate)},ox(s,f,p)),vue(i,y,r?r(f.value,p):f.value))});return x.createElement(Os,{className:"recharts-polar-radius-axis-ticks"},d)},Nue=s=>{var{radiusAxisId:t}=s,a=jt(xx),r=jt(o=>Nx(o,"radiusAxis",t)),n=jt(o=>wx(o,"radiusAxis",t,!1));if(a==null||!n||!n.length)return null;var i=Al(Al(Al({},s),{},{scale:r},a),{},{radius:a.outerRadius}),{tick:l,axisLine:c}=i;return x.createElement(Os,{className:Kt("recharts-polar-radius-axis",mH,i.className)},c&&jue(i,n),l&&bue(i,n),yn.renderCallByParent(i,yue(i.angle,i.cx,i.cy,n)))};class zg extends x.PureComponent{render(){return x.createElement(x.Fragment,null,x.createElement(fue,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),x.createElement(Nue,this.props))}}n1(zg,"displayName","PolarRadiusAxis");n1(zg,"axisType",mH);n1(zg,"defaultProps",gn);var wue=["children"];function Qc(){return Qc=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},Qc.apply(null,arguments)}function QR(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function Cl(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(a),!0).forEach(function(r){i1(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):QR(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function i1(s,t,a){return(t=kue(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function kue(s){var t=Sue(s,"string");return typeof t=="symbol"?t:t+""}function Sue(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function _ue(s,t){if(s==null)return{};var a,r,n=Cue(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function Cue(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var Eue=Math.PI/180,XR=1e-5,xH="angleAxis";function Aue(s){var t=ya(),a=x.useMemo(()=>{var{children:i}=s,l=_ue(s,wue);return l},[s]),r=jt(i=>mx(i,a.id)),n=a===r;return x.useEffect(()=>(t(lue(a)),()=>{t(cue(a))}),[t,a]),n?s.children:null}var Tue=(s,t)=>{var{cx:a,cy:r,radius:n,orientation:i,tickSize:l}=t,c=l||8,o=As(a,r,n,s.coordinate),u=As(a,r,n+(i==="inner"?-1:1)*c,s.coordinate);return{x1:o.x,y1:o.y,x2:u.x,y2:u.y}},Mue=(s,t)=>{var a=Math.cos(-s.coordinate*Eue);return a>XR?t==="outer"?"start":"end":a<-XR?t==="outer"?"end":"start":"middle"},Due=s=>{var{cx:t,cy:a,radius:r,axisLineType:n,axisLine:i,ticks:l}=s;if(!i)return null;var c=Cl(Cl({},Ya(s)),{},{fill:"none"},ns(i,!1));if(n==="circle")return x.createElement(Fg,Qc({className:"recharts-polar-angle-axis-line"},c,{cx:t,cy:a,r}));var o=l.map(u=>As(t,a,r,u.coordinate));return x.createElement(iH,Qc({className:"recharts-polar-angle-axis-line"},c,{points:o}))},Oue=s=>{var{tick:t,tickProps:a,value:r}=s;return t?x.isValidElement(t)?x.cloneElement(t,a):typeof t=="function"?t(a):x.createElement(bx,Qc({},a,{className:"recharts-polar-angle-axis-tick-value"}),r):null},Rue=s=>{var{tick:t,tickLine:a,tickFormatter:r,stroke:n,ticks:i}=s,l=Ya(s),c=ns(t,!1),o=Cl(Cl({},l),{},{fill:"none"},ns(a,!1)),u=i.map((d,f)=>{var p=Tue(d,s),j=Mue(d,s.orientation),y=Cl(Cl(Cl({},l),{},{textAnchor:j,stroke:"none",fill:n},c),{},{index:f,payload:d,x:p.x2,y:p.y2});return x.createElement(Os,Qc({className:Kt("recharts-polar-angle-axis-tick",NF(t)),key:"tick-".concat(d.coordinate)},ox(s,d,f)),a&&x.createElement("line",Qc({className:"recharts-polar-angle-axis-tick-line"},o,p)),x.createElement(Oue,{tick:t,tickProps:y,value:r?r(d.value,f):d.value}))});return x.createElement(Os,{className:"recharts-polar-angle-axis-ticks"},u)},$ue=s=>{var{angleAxisId:t}=s,a=jt(xx),r=jt(c=>Nx(c,"angleAxis",t)),n=dr(),i=jt(c=>wx(c,"angleAxis",t,n));if(a==null||!i||!i.length)return null;var l=Cl(Cl(Cl({},s),{},{scale:r},a),{},{radius:a.outerRadius});return x.createElement(Os,{className:Kt("recharts-polar-angle-axis",xH,l.className)},x.createElement(Due,Qc({},l,{ticks:i})),x.createElement(Rue,Qc({},l,{ticks:i})))};class Hg extends x.PureComponent{render(){return this.props.radius<=0?null:x.createElement(Aue,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},x.createElement($ue,this.props))}}i1(Hg,"displayName","PolarAngleAxis");i1(Hg,"axisType",xH);i1(Hg,"defaultProps",_l);function ZR(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function JR(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(a),!0).forEach(function(r){Pue(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):ZR(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function Pue(s,t,a){return(t=Iue(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Iue(s){var t=Bue(s,"string");return typeof t=="symbol"?t:t+""}function Bue(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}var Lue=(s,t)=>t,aA=Pe([XE,Lue],(s,t)=>s.filter(a=>a.type==="pie").find(a=>a.id===t)),Fue=[],rA=(s,t,a)=>a?.length===0?Fue:a,fH=Pe([WN,aA,rA],(s,t,a)=>{var{chartData:r}=s;if(t!=null){var n;if(t?.data!=null&&t.data.length>0?n=t.data:n=r,(!n||!n.length)&&a!=null&&(n=a.map(i=>JR(JR({},t.presentationProps),i.props))),n!=null)return n}}),zue=Pe([fH,aA,rA],(s,t,a)=>{if(!(s==null||t==null))return s.map((r,n)=>{var i,l=Es(r,t.nameKey,t.name),c;return a!=null&&(i=a[n])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?c=a[n].props.fill:typeof r=="object"&&r!=null&&"fill"in r?c=r.fill:c=t.fill,{value:Hl(l,t.dataKey),color:c,payload:r,type:t.legendType}})}),Hue=Pe([fH,aA,rA,Ka],(s,t,a,r)=>{if(!(t==null||s==null))return Ome({offset:r,pieSettings:t,displayedData:s,cells:a})}),tk={},e5;function Uue(){return e5||(e5=1,(function(s){Object.defineProperty(s,Symbol.toStringTag,{value:"Module"});function t(a){if(typeof a!="object"||a==null)return!1;if(Object.getPrototypeOf(a)===null)return!0;if(Object.prototype.toString.call(a)!=="[object Object]"){const n=a[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(a,Symbol.toStringTag)?.writable?!1:a.toString()===`[object ${n}]`}let r=a;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(a)===r}s.isPlainObject=t})(tk)),tk}var sk,t5;function que(){return t5||(t5=1,sk=Uue().isPlainObject),sk}var Gue=que();const Vue=Va(Gue);function Eb(){return Eb=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},Eb.apply(null,arguments)}var s5=(s,t,a,r,n)=>{var i=a-r,l;return l="M ".concat(s,",").concat(t),l+="L ".concat(s+a,",").concat(t),l+="L ".concat(s+a-i/2,",").concat(t+n),l+="L ".concat(s+a-i/2-r,",").concat(t+n),l+="L ".concat(s,",").concat(t," Z"),l},Wue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Yue=s=>{var t=Gr(s,Wue),a=x.useRef(),[r,n]=x.useState(-1);x.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var v=a.current.getTotalLength();v&&n(v)}catch{}},[]);var{x:i,y:l,upperWidth:c,lowerWidth:o,height:u,className:d}=t,{animationEasing:f,animationDuration:p,animationBegin:j,isUpdateAnimationActive:y}=t;if(i!==+i||l!==+l||c!==+c||o!==+o||u!==+u||c===0&&o===0||u===0)return null;var k=Kt("recharts-trapezoid",d);return y?x.createElement(ub,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:u,x:i,y:l},to:{upperWidth:c,lowerWidth:o,height:u,x:i,y:l},duration:p,animationEasing:f,isActive:y},v=>{var{upperWidth:S,lowerWidth:C,height:_,x:A,y:D}=v;return x.createElement(ub,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:p,easing:f},x.createElement("path",Eb({},ns(t,!0),{className:k,d:s5(A,D,S,C,_),ref:a})))}):x.createElement("g",null,x.createElement("path",Eb({},ns(t,!0),{className:k,d:s5(i,l,c,o,u)})))},Kue=["option","shapeType","propTransformer","activeClassName","isActive"];function Que(s,t){if(s==null)return{};var a,r,n=Xue(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function Xue(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}function a5(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function Ab(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?a5(Object(a),!0).forEach(function(r){Zue(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):a5(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function Zue(s,t,a){return(t=Jue(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Jue(s){var t=eme(s,"string");return typeof t=="symbol"?t:t+""}function eme(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function tme(s,t){return Ab(Ab({},t),s)}function sme(s,t){return s==="symbols"}function r5(s){var{shapeType:t,elementProps:a}=s;switch(t){case"rectangle":return x.createElement(qF,a);case"trapezoid":return x.createElement(Yue,a);case"sector":return x.createElement(WF,a);case"symbols":if(sme(t))return x.createElement(zL,a);break;default:return null}}function ame(s){return x.isValidElement(s)?s.props:s}function pH(s){var{option:t,shapeType:a,propTransformer:r=tme,activeClassName:n="recharts-active-shape",isActive:i}=s,l=Que(s,Kue),c;if(x.isValidElement(t))c=x.cloneElement(t,Ab(Ab({},l),ame(t)));else if(typeof t=="function")c=t(l);else if(Vue(t)&&typeof t!="boolean"){var o=r(t,l);c=x.createElement(r5,{shapeType:a,elementProps:o})}else{var u=l;c=x.createElement(r5,{shapeType:a,elementProps:u})}return i?x.createElement(Os,{className:n},c):c}var nA=(s,t)=>{var a=ya();return(r,n)=>i=>{s?.(r,n,i),a(A7({activeIndex:String(n),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},iA=s=>{var t=ya();return(a,r)=>n=>{s?.(a,r,n),t(Vce())}},lA=(s,t)=>{var a=ya();return(r,n)=>i=>{s?.(r,n,i),a(Wce({activeIndex:String(n),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function Ug(s){var{fn:t,args:a}=s,r=ya(),n=dr();return x.useEffect(()=>{if(!n){var i=t(a);return r(Uce(i)),()=>{r(qce(i))}}},[t,a,r,n]),null}var gH=()=>{};function cA(s){var{legendPayload:t}=s,a=ya(),r=dr();return x.useEffect(()=>r?gH:(a($F(t)),()=>{a(PF(t))}),[a,r,t]),null}function yH(s){var{legendPayload:t}=s,a=ya(),r=jt(Jt);return x.useEffect(()=>r!=="centric"&&r!=="radial"?gH:(a($F(t)),()=>{a(PF(t))}),[a,r,t]),null}function qg(s){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",a=x.useRef(Dp(t)),r=x.useRef(s);return r.current!==s&&(a.current=Dp(t),r.current=s),a.current}var ak,rme=()=>{var[s]=x.useState(()=>Dp("uid-"));return s},nme=(ak=EV.useId)!==null&&ak!==void 0?ak:rme;function ime(s,t){var a=nme();return t||(s?"".concat(s,"-").concat(a):a)}var lme=x.createContext(void 0),Gg=s=>{var{id:t,type:a,children:r}=s,n=ime("recharts-".concat(a),t);return x.createElement(lme.Provider,{value:n},r(n))},cme={cartesianItems:[],polarItems:[]},jH=Yn({name:"graphicalItems",initialState:cme,reducers:{addCartesianGraphicalItem(s,t){s.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(s,t){var{prev:a,next:r}=t.payload,n=Rc(s).cartesianItems.indexOf(a);n>-1&&(s.cartesianItems[n]=r)},removeCartesianGraphicalItem(s,t){var a=Rc(s).cartesianItems.indexOf(t.payload);a>-1&&s.cartesianItems.splice(a,1)},addPolarGraphicalItem(s,t){s.polarItems.push(t.payload)},removePolarGraphicalItem(s,t){var a=Rc(s).polarItems.indexOf(t.payload);a>-1&&s.polarItems.splice(a,1)}}}),{addCartesianGraphicalItem:ome,replaceCartesianGraphicalItem:dme,removeCartesianGraphicalItem:hme,addPolarGraphicalItem:ume,removePolarGraphicalItem:mme}=jH.actions,xme=jH.reducer;function oA(s){var t=ya(),a=x.useRef(null);return x.useEffect(()=>{a.current===null?t(ome(s)):a.current!==s&&t(dme({prev:a.current,next:s})),a.current=s},[t,s]),x.useEffect(()=>()=>{a.current&&(t(hme(a.current)),a.current=null)},[t]),null}function vH(s){var t=ya();return x.useEffect(()=>(t(ume(s)),()=>{t(mme(s))}),[t,s]),null}function fme(){}var pme={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},n5={t:0},rk={t:1};function Vg(s){var t=Gr(s,pme),{isActive:a,canBegin:r,duration:n,easing:i,begin:l,onAnimationEnd:c,onAnimationStart:o,children:u}=t,d=UF("JavascriptAnimate",t.animationManager),[f,p]=x.useState(a?n5:rk),j=x.useRef(null);return x.useEffect(()=>{a||p(rk)},[a]),x.useEffect(()=>{if(!a||!r)return fme;var y=HF(n5,rk,FF(i),n,p,d.getTimeoutController()),k=()=>{j.current=y()};return d.start([o,l,k,n,c]),()=>{d.stop(),j.current&&j.current(),c()}},[a,r,n,i,l,o,c,d]),u(f.t)}var gme=["onMouseEnter","onClick","onMouseLeave"],yme=["id"],jme=["id"];function dA(s,t){if(s==null)return{};var a,r,n=vme(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function vme(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}function i5(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function wa(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?i5(Object(a),!0).forEach(function(r){bme(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):i5(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function bme(s,t,a){return(t=Nme(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Nme(s){var t=wme(s,"string");return typeof t=="symbol"?t:t+""}function wme(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function Xc(){return Xc=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},Xc.apply(null,arguments)}function kme(s){var t=x.useMemo(()=>Ng(s.children,Yc),[s.children]),a=jt(r=>zue(r,s.id,t));return a==null?null:x.createElement(yH,{legendPayload:a})}function Sme(s){var{dataKey:t,nameKey:a,sectors:r,stroke:n,strokeWidth:i,fill:l,name:c,hide:o,tooltipType:u}=s;return{dataDefinedOnItem:r?.map(d=>d.tooltipPayload),positions:r?.map(d=>d.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:l,dataKey:t,nameKey:a,name:Hl(c,t),hide:o,type:u,color:l,unit:""}}}var _me=(s,t)=>s>t?"start":s<t?"end":"middle",Cme=(s,t,a)=>typeof t=="function"?t(s):an(t,a,a*.8),Eme=(s,t,a)=>{var{top:r,left:n,width:i,height:l}=t,c=bF(i,l),o=n+an(s.cx,i,i/2),u=r+an(s.cy,l,l/2),d=an(s.innerRadius,c,0),f=Cme(a,s.outerRadius,c),p=s.maxRadius||Math.sqrt(i*i+l*l)/2;return{cx:o,cy:u,innerRadius:d,outerRadius:f,maxRadius:p}},Ame=(s,t)=>{var a=cr(t-s),r=Math.min(Math.abs(t-s),360);return a*r},Tme=(s,t)=>{if(x.isValidElement(s))return x.cloneElement(s,t);if(typeof s=="function")return s(t);var a=Kt("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return x.createElement(Nm,Xc({},t,{type:"linear",className:a}))},Mme=(s,t,a)=>{if(x.isValidElement(s))return x.cloneElement(s,t);var r=a;if(typeof s=="function"&&(r=s(t),x.isValidElement(r)))return r;var n=Kt("recharts-pie-label-text",typeof s!="boolean"&&typeof s!="function"?s.className:"");return x.createElement(bx,Xc({},t,{alignmentBaseline:"middle",className:n}),r)};function Dme(s){var{sectors:t,props:a,showLabels:r}=s,{label:n,labelLine:i,dataKey:l}=a;if(!r||!n||!t)return null;var c=Ya(a),o=ns(n,!1),u=ns(i,!1),d=typeof n=="object"&&"offsetRadius"in n&&n.offsetRadius||20,f=t.map((p,j)=>{var y=(p.startAngle+p.endAngle)/2,k=As(p.cx,p.cy,p.outerRadius+d,y),v=wa(wa(wa(wa({},c),p),{},{stroke:"none"},o),{},{index:j,textAnchor:_me(k.x,p.cx)},k),S=wa(wa(wa(wa({},c),p),{},{fill:"none",stroke:p.fill},u),{},{index:j,points:[As(p.cx,p.cy,p.outerRadius,y),k],key:"line"});return x.createElement(Os,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(j)},i&&Tme(i,S),Mme(n,v,Es(p,l)))});return x.createElement(Os,{className:"recharts-pie-labels"},f)}function bH(s){var{sectors:t,activeShape:a,inactiveShape:r,allOtherPieProps:n,showLabels:i}=s,l=jt(wd),{onMouseEnter:c,onClick:o,onMouseLeave:u}=n,d=dA(n,gme),f=nA(c,n.dataKey),p=iA(u),j=lA(o,n.dataKey);return t==null?null:x.createElement(x.Fragment,null,t.map((y,k)=>{if(y?.startAngle===0&&y?.endAngle===0&&t.length!==1)return null;var v=a&&String(k)===l,S=l?r:null,C=v?a:S,_=wa(wa({},y),{},{stroke:y.stroke,tabIndex:-1,[EF]:k,[AF]:n.dataKey});return x.createElement(Os,Xc({tabIndex:-1,className:"recharts-pie-sector"},ox(d,y,k),{onMouseEnter:f(y,k),onMouseLeave:p(y,k),onClick:j(y,k),key:"sector-".concat(y?.startAngle,"-").concat(y?.endAngle,"-").concat(y.midAngle,"-").concat(k)}),x.createElement(pH,Xc({option:C,isActive:v,shapeType:"sector"},_)))}),x.createElement(Dme,{sectors:t,props:n,showLabels:i}))}function Ome(s){var t,{pieSettings:a,displayedData:r,cells:n,offset:i}=s,{cornerRadius:l,startAngle:c,endAngle:o,dataKey:u,nameKey:d,tooltipType:f}=a,p=Math.abs(a.minAngle),j=Ame(c,o),y=Math.abs(j),k=r.length<=1?0:(t=a.paddingAngle)!==null&&t!==void 0?t:0,v=r.filter(M=>Es(M,u,0)!==0).length,S=(y>=360?v:v-1)*k,C=y-v*p-S,_=r.reduce((M,L)=>{var F=Es(L,u,0);return M+(gt(F)?F:0)},0),A;if(_>0){var D;A=r.map((M,L)=>{var F=Es(M,u,0),Q=Es(M,d,L),I=Eme(a,i,M),H=(gt(F)?F:0)/_,z,K=wa(wa({},M),n&&n[L]&&n[L].props);L?z=D.endAngle+cr(j)*k*(F!==0?1:0):z=c;var U=z+cr(j)*((F!==0?p:0)+H*C),V=(z+U)/2,P=(I.innerRadius+I.outerRadius)/2,q=[{name:Q,value:F,payload:K,dataKey:u,type:f}],G=As(I.cx,I.cy,P,V);return D=wa(wa(wa(wa({},a.presentationProps),{},{percent:H,cornerRadius:l,name:Q,tooltipPayload:q,midAngle:V,middleRadius:P,tooltipPosition:G},K),I),{},{value:Es(M,u),startAngle:z,endAngle:U,payload:K,paddingAngle:cr(j)*k}),D})}return A}function Rme(s){var{props:t,previousSectorsRef:a}=s,{sectors:r,isAnimationActive:n,animationBegin:i,animationDuration:l,animationEasing:c,activeShape:o,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=t,p=qg(t,"recharts-pie-"),j=a.current,[y,k]=x.useState(!0),v=x.useCallback(()=>{typeof f=="function"&&f(),k(!1)},[f]),S=x.useCallback(()=>{typeof d=="function"&&d(),k(!0)},[d]);return x.createElement(Vg,{begin:i,duration:l,isActive:n,easing:c,onAnimationStart:S,onAnimationEnd:v,key:p},C=>{var _=[],A=r&&r[0],D=A.startAngle;return r.forEach((M,L)=>{var F=j&&j[L],Q=L>0?Nd(M,"paddingAngle",0):0;if(F){var I=fm(F.endAngle-F.startAngle,M.endAngle-M.startAngle),H=wa(wa({},M),{},{startAngle:D+Q,endAngle:D+I(C)+Q});_.push(H),D=H.endAngle}else{var{endAngle:z,startAngle:K}=M,U=fm(0,z-K),V=U(C),P=wa(wa({},M),{},{startAngle:D+Q,endAngle:D+V+Q});_.push(P),D=P.endAngle}}),a.current=_,x.createElement(Os,null,x.createElement(bH,{sectors:_,activeShape:o,inactiveShape:u,allOtherPieProps:t,showLabels:!y}))})}function $me(s){var{sectors:t,isAnimationActive:a,activeShape:r,inactiveShape:n}=s,i=x.useRef(null),l=i.current;return a&&t&&t.length&&(!l||l!==t)?x.createElement(Rme,{props:s,previousSectorsRef:i}):x.createElement(bH,{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:s,showLabels:!0})}function Pme(s){var{hide:t,className:a,rootTabIndex:r}=s,n=Kt("recharts-pie",a);return t?null:x.createElement(Os,{tabIndex:r,className:n},x.createElement($me,s))}var Ime={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!so.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Bme(s){var{id:t}=s,a=dA(s,yme),r=x.useMemo(()=>Ng(s.children,Yc),[s.children]),n=jt(i=>Hue(i,t,r));return x.createElement(x.Fragment,null,x.createElement(Ug,{fn:Sme,args:wa(wa({},s),{},{sectors:n})}),x.createElement(Pme,Xc({},a,{sectors:n})))}function Kh(s){var t=Gr(s,Ime),{id:a}=t,r=dA(t,jme),n=Ya(r);return x.createElement(Gg,{id:a,type:"pie"},i=>x.createElement(x.Fragment,null,x.createElement(vH,{type:"pie",id:i,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:n}),x.createElement(kme,Xc({},r,{id:i})),x.createElement(Bme,Xc({},r,{id:i})),r.children))}Kh.displayName="Pie";var Lme=Pe([Ka],s=>{if(s)return{top:s.top,bottom:s.bottom,left:s.left,right:s.right}}),Fme=Pe([Lme,eo,to],(s,t,a)=>{if(!(!s||t==null||a==null))return{x:s.left,y:s.top,width:Math.max(0,t-s.left-s.right),height:Math.max(0,a-s.top-s.bottom)}}),l1=()=>jt(Fme),zme=()=>jt(Ooe);function l5(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function c5(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?l5(Object(a),!0).forEach(function(r){Hme(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):l5(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function Hme(s,t,a){return(t=Ume(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Ume(s){var t=qme(s,"string");return typeof t=="symbol"?t:t+""}function qme(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}var Gme=s=>{var{point:t,childIndex:a,mainColor:r,activeDot:n,dataKey:i}=s;if(n===!1||t.x==null||t.y==null)return null;var l=c5(c5({index:a,dataKey:i,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},ns(n,!1)),TC(n)),c;return x.isValidElement(n)?c=x.cloneElement(n,l):typeof n=="function"?c=n(l):c=x.createElement(Fg,l),x.createElement(Os,{className:"recharts-active-dot"},c)};function Tb(s){var{points:t,mainColor:a,activeDot:r,itemDataKey:n}=s,i=jt(wd),l=zme();if(t==null||l==null)return null;var c=t.find(o=>l.includes(o.payload));return qs(c)?null:Gme({point:c,childIndex:Number(i),mainColor:a,dataKey:n,activeDot:r})}function o5(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function Mb(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?o5(Object(a),!0).forEach(function(r){Vme(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):o5(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function Vme(s,t,a){return(t=Wme(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Wme(s){var t=Yme(s,"string");return typeof t=="symbol"?t:t+""}function Yme(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}var NH=(s,t)=>Nx(s,"radiusAxis",t),Kme=Pe([NH],s=>{if(s!=null)return{scale:s}}),Qme=Pe([Mg,NH],(s,t)=>{if(!(s==null||t==null))return Mb(Mb({},s),{},{scale:t})}),Xme=(s,t,a,r)=>wx(s,"radiusAxis",t,r),wH=(s,t,a)=>mx(s,a),kH=(s,t,a)=>Nx(s,"angleAxis",a),Zme=Pe([wH,kH],(s,t)=>{if(!(s==null||t==null))return Mb(Mb({},s),{},{scale:t})}),Jme=(s,t,a,r)=>wx(s,"angleAxis",a,r),exe=Pe([wH,kH,xx],(s,t,a)=>{if(!(a==null||t==null))return{scale:t,type:s.type,dataKey:s.dataKey,cx:a.cx,cy:a.cy}}),txe=(s,t,a,r,n)=>n,sxe=Pe([Jt,Qme,Xme,Zme,Jme],(s,t,a,r,n)=>Qi(s,"radiusAxis")?qc(t,a,!1):qc(r,n,!1)),axe=Pe([XE,txe],(s,t)=>{if(s.some(a=>a.type==="radar"&&t===a.dataKey))return t}),rxe=Pe([Kme,exe,WN,axe,sxe],(s,t,a,r,n)=>{var{chartData:i,dataStartIndex:l,dataEndIndex:c}=a;if(!(s==null||t==null||i==null||n==null||r==null)){var o=i.slice(l,c+1);return mxe({radiusAxis:s,angleAxis:t,displayedData:o,dataKey:r,bandSize:n})}}),nxe=["id"];function ixe(s,t){if(s==null)return{};var a,r,n=lxe(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function lxe(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}function d5(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function tn(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?d5(Object(a),!0).forEach(function(r){hA(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):d5(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function hA(s,t,a){return(t=cxe(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function cxe(s){var t=oxe(s,"string");return typeof t=="symbol"?t:t+""}function oxe(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function Hm(){return Hm=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},Hm.apply(null,arguments)}function uA(s,t){return s&&s!=="none"?s:t}var dxe=s=>{var{dataKey:t,name:a,stroke:r,fill:n,legendType:i,hide:l}=s;return[{inactive:l,dataKey:t,type:i,color:uA(r,n),value:Hl(a,t),payload:s}]};function hxe(s){var{dataKey:t,stroke:a,strokeWidth:r,fill:n,name:i,hide:l,tooltipType:c}=s;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:r,fill:n,nameKey:void 0,dataKey:t,name:Hl(i,t),hide:l,type:c,color:uA(a,n),unit:""}}}function uxe(s,t){var a;return x.isValidElement(s)?a=x.cloneElement(s,t):typeof s=="function"?a=s(t):a=x.createElement(Fg,Hm({},t,{className:Kt("recharts-radar-dot",typeof s!="boolean"?s.className:"")})),a}function mxe(s){var{radiusAxis:t,angleAxis:a,displayedData:r,dataKey:n,bandSize:i}=s,{cx:l,cy:c}=a,o=!1,u=[],d=a.type!=="number"?i??0:0;r.forEach((p,j)=>{var y=Es(p,a.dataKey,j),k=Es(p,n),v=a.scale(y)+d,S=Array.isArray(k)?nH(k):k,C=qs(S)?void 0:t.scale(S);Array.isArray(k)&&k.length>=2&&(o=!0),u.push(tn(tn({},As(l,c,C,v)),{},{name:y,value:k,cx:l,cy:c,radius:C,angle:v,payload:p}))});var f=[];return o&&u.forEach(p=>{if(Array.isArray(p.value)){var j=p.value[0],y=qs(j)?void 0:t.scale(j);f.push(tn(tn({},p),{},{radius:y},As(l,c,y,p.angle)))}else f.push(p)}),{points:u,isRange:o,baseLinePoints:f}}function xxe(s){var{points:t,props:a}=s,{dot:r,dataKey:n}=a;if(!r)return null;var{id:i}=a,l=ixe(a,nxe),c=Ya(l),o=ns(r,!0),u=t.map((d,f)=>{var p=tn(tn(tn({key:"dot-".concat(f),r:3},c),o),{},{dataKey:n,cx:d.x,cy:d.y,index:f,payload:d});return uxe(r,p)});return x.createElement(Os,{className:"recharts-radar-dots"},u)}function SH(s){var{points:t,props:a,showLabels:r}=s;if(t==null)return null;var{shape:n,isRange:i,baseLinePoints:l,connectNulls:c}=a,o=f=>{var{onMouseEnter:p}=a;p&&p(a,f)},u=f=>{var{onMouseLeave:p}=a;p&&p(a,f)},d;return x.isValidElement(n)?d=x.cloneElement(n,tn(tn({},a),{},{points:t})):typeof n=="function"?d=n(tn(tn({},a),{},{points:t})):d=x.createElement(iH,Hm({},ns(a,!0),{onMouseEnter:o,onMouseLeave:u,points:t,baseLinePoints:i?l:null,connectNulls:c})),x.createElement(Os,{className:"recharts-radar-polygon"},d,x.createElement(xxe,{props:a,points:t}),r&&Rl.renderCallByParent(a,t))}function fxe(s){var{props:t,previousPointsRef:a}=s,{points:r,isAnimationActive:n,animationBegin:i,animationDuration:l,animationEasing:c,onAnimationEnd:o,onAnimationStart:u}=t,d=a.current,f=qg(t,"recharts-radar-"),[p,j]=x.useState(!0),y=x.useCallback(()=>{typeof o=="function"&&o(),j(!1)},[o]),k=x.useCallback(()=>{typeof u=="function"&&u(),j(!0)},[u]);return x.createElement(Vg,{begin:i,duration:l,isActive:n,easing:c,key:"radar-".concat(f),onAnimationEnd:y,onAnimationStart:k},v=>{var S=d&&d.length/r.length,C=v===1?r:r.map((_,A)=>{var D=d&&d[Math.floor(A*S)];if(D){var M=fm(D.x,_.x),L=fm(D.y,_.y);return tn(tn({},_),{},{x:M(v),y:L(v)})}var F=fm(_.cx,_.x),Q=fm(_.cy,_.y);return tn(tn({},_),{},{x:F(v),y:Q(v)})});return v>0&&(a.current=C),x.createElement(SH,{points:C,props:t,showLabels:!p})})}function pxe(s){var{points:t,isAnimationActive:a,isRange:r}=s,n=x.useRef(void 0),i=n.current;return a&&t&&t.length&&!r&&(!i||i!==t)?x.createElement(fxe,{props:s,previousPointsRef:n}):x.createElement(SH,{points:t,props:s,showLabels:!0})}var gxe={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!so.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class yxe extends x.PureComponent{render(){var{hide:t,className:a,points:r}=this.props;if(t)return null;var n=Kt("recharts-radar",a);return x.createElement(x.Fragment,null,x.createElement(Os,{className:n},x.createElement(pxe,this.props)),x.createElement(Tb,{points:r,mainColor:uA(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function jxe(s){var t=dr(),a=jt(r=>rxe(r,s.radiusAxisId,s.angleAxisId,t,s.dataKey));return x.createElement(yxe,Hm({},s,{points:a?.points,baseLinePoints:a?.baseLinePoints,isRange:a?.isRange}))}let c1=class extends x.PureComponent{render(){return x.createElement(Gg,{id:this.props.id,type:"radar"},t=>x.createElement(x.Fragment,null,x.createElement(vH,{type:"radar",id:t,data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId}),x.createElement(yH,{legendPayload:dxe(this.props)}),x.createElement(Ug,{fn:hxe,args:this.props}),x.createElement(jxe,Hm({},this.props,{id:t}))))}};hA(c1,"displayName","Radar");hA(c1,"defaultProps",gxe);var vxe="Invariant failed";function bxe(s,t){throw new Error(vxe)}var Nxe=["x","y"];function XS(){return XS=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},XS.apply(null,arguments)}function h5(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function Zf(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?h5(Object(a),!0).forEach(function(r){wxe(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):h5(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function wxe(s,t,a){return(t=kxe(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function kxe(s){var t=Sxe(s,"string");return typeof t=="symbol"?t:t+""}function Sxe(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function _xe(s,t){if(s==null)return{};var a,r,n=Cxe(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function Cxe(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}function Exe(s,t){var{x:a,y:r}=s,n=_xe(s,Nxe),i="".concat(a),l=parseInt(i,10),c="".concat(r),o=parseInt(c,10),u="".concat(t.height||n.height),d=parseInt(u,10),f="".concat(t.width||n.width),p=parseInt(f,10);return Zf(Zf(Zf(Zf(Zf({},t),n),l?{x:l}:{}),o?{y:o}:{}),{},{height:d,width:p,name:t.name,radius:t.radius})}function _H(s){return x.createElement(pH,XS({shapeType:"rectangle",propTransformer:Exe,activeClassName:"recharts-active-bar"},s))}var Axe=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,n)=>{if(gt(t))return t;var i=gt(r)||qs(r);return i?t(r,n):(i||bxe(),a)}},Txe={},CH=Yn({name:"errorBars",initialState:Txe,reducers:{addErrorBar:(s,t)=>{var{itemId:a,errorBar:r}=t.payload;s[a]||(s[a]=[]),s[a].push(r)},removeErrorBar:(s,t)=>{var{itemId:a,errorBar:r}=t.payload;s[a]&&(s[a]=s[a].filter(n=>n.dataKey!==r.dataKey||n.direction!==r.direction))}}}),{addErrorBar:c6e,removeErrorBar:o6e}=CH.actions,Mxe=CH.reducer,Dxe=["children"];function Oxe(s,t){if(s==null)return{};var a,r,n=Rxe(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function Rxe(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var $xe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Pxe=x.createContext($xe);function EH(s){var{children:t}=s,a=Oxe(s,Dxe);return x.createElement(Pxe.Provider,{value:a},t)}function o1(s,t){var a,r,n=jt(u=>ro(u,s)),i=jt(u=>Od(u,t)),l=(a=n?.allowDataOverflow)!==null&&a!==void 0?a:In.allowDataOverflow,c=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:Bn.allowDataOverflow,o=l||c;return{needClip:o,needClipX:l,needClipY:c}}function mA(s){var{xAxisId:t,yAxisId:a,clipPathId:r}=s,n=l1(),{needClipX:i,needClipY:l,needClip:c}=o1(t,a);if(!c)return null;var{x:o,y:u,width:d,height:f}=n;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:i?o:o-d/2,y:l?u:u-f/2,width:i?d:d*2,height:l?f:f*2}))}var Ixe=["onMouseEnter","onMouseLeave","onClick"],Bxe=["value","background","tooltipPosition"],Lxe=["id"],Fxe=["onMouseEnter","onClick","onMouseLeave"];function Um(){return Um=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},Um.apply(null,arguments)}function u5(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function Ir(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?u5(Object(a),!0).forEach(function(r){zxe(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):u5(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function zxe(s,t,a){return(t=Hxe(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Hxe(s){var t=Uxe(s,"string");return typeof t=="symbol"?t:t+""}function Uxe(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function Db(s,t){if(s==null)return{};var a,r,n=qxe(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function qxe(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var Gxe=s=>{var{dataKey:t,name:a,fill:r,legendType:n,hide:i}=s;return[{inactive:i,dataKey:t,type:n,color:r,value:Hl(a,t),payload:s}]};function Vxe(s){var{dataKey:t,stroke:a,strokeWidth:r,fill:n,name:i,hide:l,unit:c}=s;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:r,fill:n,dataKey:t,nameKey:void 0,name:Hl(i,t),hide:l,type:s.tooltipType,color:s.fill,unit:c}}}function Wxe(s){var t=jt(wd),{data:a,dataKey:r,background:n,allOtherBarProps:i}=s,{onMouseEnter:l,onMouseLeave:c,onClick:o}=i,u=Db(i,Ixe),d=nA(l,r),f=iA(c),p=lA(o,r);if(!n||a==null)return null;var j=ns(n,!1);return x.createElement(x.Fragment,null,a.map((y,k)=>{var{value:v,background:S,tooltipPosition:C}=y,_=Db(y,Bxe);if(!S)return null;var A=d(y,k),D=f(y,k),M=p(y,k),L=Ir(Ir(Ir(Ir(Ir({option:n,isActive:String(k)===t},_),{},{fill:"#eee"},S),j),ox(u,y,k)),{},{onMouseEnter:A,onMouseLeave:D,onClick:M,dataKey:r,index:k,className:"recharts-bar-background-rectangle"});return x.createElement(_H,Um({key:"background-bar-".concat(k)},L))}))}function AH(s){var{data:t,props:a,showLabels:r}=s,n=Ya(a),{id:i}=n,l=Db(n,Lxe),{shape:c,dataKey:o,activeBar:u}=a,d=jt(wd),f=jt(H7),{onMouseEnter:p,onClick:j,onMouseLeave:y}=a,k=Db(a,Fxe),v=nA(p,o),S=iA(y),C=lA(j,o);return t?x.createElement(x.Fragment,null,t.map((_,A)=>{var D=u&&String(A)===d&&(f==null||o===f),M=D?u:c,L=Ir(Ir(Ir({},l),_),{},{isActive:D,option:M,index:A,dataKey:o});return x.createElement(Os,Um({className:"recharts-bar-rectangle"},ox(k,_,A),{onMouseEnter:v(_,A),onMouseLeave:S(_,A),onClick:C(_,A),key:"rectangle-".concat(_?.x,"-").concat(_?.y,"-").concat(_?.value,"-").concat(A)}),x.createElement(_H,L))}),r&&Rl.renderCallByParent(a,t)):null}function Yxe(s){var{props:t,previousRectanglesRef:a}=s,{data:r,layout:n,isAnimationActive:i,animationBegin:l,animationDuration:c,animationEasing:o,onAnimationEnd:u,onAnimationStart:d}=t,f=a.current,p=qg(t,"recharts-bar-"),[j,y]=x.useState(!1),k=x.useCallback(()=>{typeof u=="function"&&u(),y(!1)},[u]),v=x.useCallback(()=>{typeof d=="function"&&d(),y(!0)},[d]);return x.createElement(Vg,{begin:l,duration:c,isActive:i,easing:o,onAnimationEnd:k,onAnimationStart:v,key:p},S=>{var C=S===1?r:r?.map((_,A)=>{var D=f&&f[A];if(D)return Ir(Ir({},_),{},{x:Nr(D.x,_.x,S),y:Nr(D.y,_.y,S),width:Nr(D.width,_.width,S),height:Nr(D.height,_.height,S)});if(n==="horizontal"){var M=Nr(0,_.height,S);return Ir(Ir({},_),{},{y:_.y+_.height-M,height:M})}var L=Nr(0,_.width,S);return Ir(Ir({},_),{},{width:L})});return S>0&&(a.current=C??null),C==null?null:x.createElement(Os,null,x.createElement(AH,{props:t,data:C,showLabels:!j}))})}function Kxe(s){var{data:t,isAnimationActive:a}=s,r=x.useRef(null);return a&&t&&t.length&&(r.current==null||r.current!==t)?x.createElement(Yxe,{previousRectanglesRef:r,props:s}):x.createElement(AH,{props:s,data:t,showLabels:!0})}var TH=0,Qxe=(s,t)=>{var a=Array.isArray(s.value)?s.value[1]:s.value;return{x:s.x,y:s.y,value:a,errorVal:Es(s,t)}};class Xxe extends x.PureComponent{render(){var{hide:t,data:a,dataKey:r,className:n,xAxisId:i,yAxisId:l,needClip:c,background:o,id:u}=this.props;if(t)return null;var d=Kt("recharts-bar",n),f=u;return x.createElement(Os,{className:d,id:u},c&&x.createElement("defs",null,x.createElement(mA,{clipPathId:f,xAxisId:i,yAxisId:l})),x.createElement(Os,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(f,")"):void 0},x.createElement(Wxe,{data:a,dataKey:r,background:o,allOtherBarProps:this.props}),x.createElement(Kxe,this.props)),this.props.children)}}var Zxe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!so.isSsr,legendType:"rect",minPointSize:TH,xAxisId:0,yAxisId:0};function Jxe(s){var{xAxisId:t,yAxisId:a,hide:r,legendType:n,minPointSize:i,activeBar:l,animationBegin:c,animationDuration:o,animationEasing:u,isAnimationActive:d}=s,{needClip:f}=o1(t,a),p=kg(),j=dr(),y=Ng(s.children,Yc),k=jt(C=>_fe(C,t,a,j,s.id,y));if(p!=="vertical"&&p!=="horizontal")return null;var v,S=k?.[0];return S==null||S.height==null||S.width==null?v=0:v=p==="vertical"?S.height/2:S.width/2,x.createElement(EH,{xAxisId:t,yAxisId:a,data:k,dataPointFormatter:Qxe,errorBarOffset:v},x.createElement(Xxe,Um({},s,{layout:p,needClip:f,data:k,xAxisId:t,yAxisId:a,hide:r,legendType:n,minPointSize:i,activeBar:l,animationBegin:c,animationDuration:o,animationEasing:u,isAnimationActive:d})))}function efe(s){var{layout:t,barSettings:{dataKey:a,minPointSize:r},pos:n,bandSize:i,xAxis:l,yAxis:c,xAxisTicks:o,yAxisTicks:u,stackedData:d,displayedData:f,offset:p,cells:j}=s,y=t==="horizontal"?c:l,k=d?y.scale.domain():null,v=Nae({numericAxis:y});return f.map((S,C)=>{var _,A,D,M,L,F;d?_=gae(d[C],k):(_=Es(S,a),Array.isArray(_)||(_=[v,_]));var Q=Axe(r,TH)(_[1],C);if(t==="horizontal"){var I,[H,z]=[c.scale(_[0]),c.scale(_[1])];A=BD({axis:l,ticks:o,bandSize:i,offset:n.offset,entry:S,index:C}),D=(I=z??H)!==null&&I!==void 0?I:void 0,M=n.size;var K=H-z;if(L=Cn(K)?0:K,F={x:A,y:p.top,width:M,height:p.height},Math.abs(Q)>0&&Math.abs(L)<Math.abs(Q)){var U=cr(L||Q)*(Math.abs(Q)-Math.abs(L));D-=U,L+=U}}else{var[V,P]=[l.scale(_[0]),l.scale(_[1])];if(A=V,D=BD({axis:c,ticks:u,bandSize:i,offset:n.offset,entry:S,index:C}),M=P-V,L=n.size,F={x:p.left,y:D,width:p.width,height:L},Math.abs(Q)>0&&Math.abs(M)<Math.abs(Q)){var q=cr(M||Q)*(Math.abs(Q)-Math.abs(M));M+=q}}if(A==null||D==null||M==null||L==null)return null;var G=Ir(Ir({},S),{},{x:A,y:D,width:M,height:L,value:d?_:_[1],payload:S,background:F,tooltipPosition:{x:A+M/2,y:D+L/2}},j&&j[C]&&j[C].props);return G}).filter(Boolean)}function Wg(s){var t=Gr(s,Zxe),a=dr();return x.createElement(Gg,{id:t.id,type:"bar"},r=>x.createElement(x.Fragment,null,x.createElement(cA,{legendPayload:Gxe(t)}),x.createElement(Ug,{fn:Vxe,args:t}),x.createElement(oA,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:_F(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:a}),x.createElement(Jxe,Um({},t,{id:r}))))}Wg.displayName="Bar";function m5(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function tv(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?m5(Object(a),!0).forEach(function(r){tfe(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):m5(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function tfe(s,t,a){return(t=sfe(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function sfe(s){var t=afe(s,"string");return typeof t=="symbol"?t:t+""}function afe(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}var rfe=(s,t)=>t,nfe=(s,t,a)=>a,ife=(s,t,a,r)=>r,lfe=(s,t,a,r,n)=>n,Yg=Pe([Og,lfe],(s,t)=>s.filter(a=>a.type==="bar").find(a=>a.id===t)),cfe=Pe([Yg],s=>s?.maxBarSize),ofe=(s,t,a,r,n,i)=>i,x5=(s,t,a)=>{var r=a??s;if(!qs(r))return an(r,t,0)},dfe=Pe([Jt,Og,rfe,nfe,ife],(s,t,a,r,n)=>t.filter(i=>s==="horizontal"?i.xAxisId===a:i.yAxisId===r).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),hfe=(s,t,a,r)=>{var n=Jt(s);return n==="horizontal"?zp(s,"yAxis",a,r):zp(s,"xAxis",t,r)},ufe=(s,t,a)=>{var r=Jt(s);return r==="horizontal"?sR(s,"xAxis",t):sR(s,"yAxis",a)},mfe=(s,t,a)=>{var r={},n=s.filter(ZN),i=s.filter(u=>u.stackId==null),l=n.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),r),c=Object.entries(l).map(u=>{var[d,f]=u,p=f.map(y=>y.dataKey),j=x5(t,a,f[0].barSize);return{stackId:d,dataKeys:p,barSize:j}}),o=i.map(u=>{var d=[u.dataKey].filter(p=>p!=null),f=x5(t,a,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...c,...o]},xfe=Pe([dfe,qle,ufe],mfe),ffe=(s,t,a,r,n)=>{var i,l,c=Yg(s,t,a,r,n);if(c!=null){var o=Jt(s),u=Uz(s),{maxBarSize:d}=c,f=qs(d)?u:d,p,j;return o==="horizontal"?(p=Fl(s,"xAxis",t,r),j=Ll(s,"xAxis",t,r)):(p=Fl(s,"yAxis",a,r),j=Ll(s,"yAxis",a,r)),(i=(l=qc(p,j,!0))!==null&&l!==void 0?l:f)!==null&&i!==void 0?i:0}},MH=(s,t,a,r)=>{var n=Jt(s),i,l;return n==="horizontal"?(i=Fl(s,"xAxis",t,r),l=Ll(s,"xAxis",t,r)):(i=Fl(s,"yAxis",a,r),l=Ll(s,"yAxis",a,r)),qc(i,l)};function pfe(s,t,a,r,n){var i=r.length;if(!(i<1)){var l=an(s,a,0,!0),c,o=[];if(kr(r[0].barSize)){var u=!1,d=a/i,f=r.reduce((S,C)=>S+(C.barSize||0),0);f+=(i-1)*l,f>=a&&(f-=(i-1)*l,l=0),f>=a&&d>0&&(u=!0,d*=.9,f=i*d);var p=(a-f)/2>>0,j={offset:p-l,size:0};c=r.reduce((S,C)=>{var _,A={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:j.offset+j.size+l,size:u?d:(_=C.barSize)!==null&&_!==void 0?_:0}},D=[...S,A];return j=D[D.length-1].position,D},o)}else{var y=an(t,a,0,!0);a-2*y-(i-1)*l<=0&&(l=0);var k=(a-2*y-(i-1)*l)/i;k>1&&(k>>=0);var v=kr(n)?Math.min(k,n):k;c=r.reduce((S,C,_)=>[...S,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:y+(k+l)*_+(k-v)/2,size:v}}],o)}return c}}var gfe=(s,t,a,r,n,i,l)=>{var c=qs(l)?t:l,o=pfe(a,r,n!==i?n:i,s,c);return n!==i&&o!=null&&(o=o.map(u=>tv(tv({},u),{},{position:tv(tv({},u.position),{},{offset:u.position.offset-n/2})}))),o},yfe=Pe([xfe,Uz,Ule,qz,ffe,MH,cfe],gfe),jfe=(s,t,a,r)=>Fl(s,"xAxis",t,r),vfe=(s,t,a,r)=>Fl(s,"yAxis",a,r),bfe=(s,t,a,r)=>Ll(s,"xAxis",t,r),Nfe=(s,t,a,r)=>Ll(s,"yAxis",a,r),wfe=Pe([yfe,Yg],(s,t)=>{if(!(s==null||t==null)){var a=s.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(a!=null)return a.position}}),kfe=(s,t)=>{var a=XN(t);if(!(!s||a==null||t==null)){var{stackId:r}=t;if(r!=null){var n=s[r];if(n){var{stackedData:i}=n;if(i)return i.find(l=>l.key===a)}}}},Sfe=Pe([hfe,Yg],kfe),_fe=Pe([Ka,jfe,vfe,bfe,Nfe,wfe,Jt,Ag,MH,Sfe,Yg,ofe],(s,t,a,r,n,i,l,c,o,u,d,f)=>{var{chartData:p,dataStartIndex:j,dataEndIndex:y}=c;if(!(d==null||i==null||l!=="horizontal"&&l!=="vertical"||t==null||a==null||r==null||n==null||o==null)){var{data:k}=d,v;if(k!=null&&k.length>0?v=k:v=p?.slice(j,y+1),v!=null)return efe({layout:l,barSettings:d,pos:i,bandSize:o,xAxis:t,yAxis:a,xAxisTicks:r,yAxisTicks:n,stackedData:u,displayedData:v,offset:s,cells:f})}}),DH=s=>{var{chartData:t}=s,a=ya(),r=dr();return x.useEffect(()=>r?()=>{}:(a(uR(t)),()=>{a(uR(void 0))}),[t,a,r]),null},f5={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},OH=Yn({name:"brush",initialState:f5,reducers:{setBrushSettings(s,t){return t.payload==null?f5:t.payload}}}),{setBrushSettings:d6e}=OH.actions,Cfe=OH.reducer;function Efe(s,t,a){return(t=Afe(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Afe(s){var t=Tfe(s,"string");return typeof t=="symbol"?t:t+""}function Tfe(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}class xA{static create(t){return new xA(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:a,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+n}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var a=this.range(),r=a[0],n=a[a.length-1];return r<=n?t>=r&&t<=n:t>=n&&t<=r}}Efe(xA,"EPS",1e-4);function Mfe(s){return(s%180+180)%180}var Dfe=function(t){var{width:a,height:r}=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Mfe(n),l=i*Math.PI/180,c=Math.atan(r/a),o=l>c&&l<Math.PI-c?r/Math.sin(l):a/Math.cos(l);return Math.abs(o)},Ofe={dots:[],areas:[],lines:[]},RH=Yn({name:"referenceElements",initialState:Ofe,reducers:{addDot:(s,t)=>{s.dots.push(t.payload)},removeDot:(s,t)=>{var a=Rc(s).dots.findIndex(r=>r===t.payload);a!==-1&&s.dots.splice(a,1)},addArea:(s,t)=>{s.areas.push(t.payload)},removeArea:(s,t)=>{var a=Rc(s).areas.findIndex(r=>r===t.payload);a!==-1&&s.areas.splice(a,1)},addLine:(s,t)=>{s.lines.push(t.payload)},removeLine:(s,t)=>{var a=Rc(s).lines.findIndex(r=>r===t.payload);a!==-1&&s.lines.splice(a,1)}}}),{addDot:h6e,removeDot:u6e,addArea:m6e,removeArea:x6e,addLine:f6e,removeLine:p6e}=RH.actions,Rfe=RH.reducer,$fe=x.createContext(void 0),Pfe=s=>{var{children:t}=s,[a]=x.useState("".concat(Dp("recharts"),"-clip")),r=l1();if(r==null)return null;var{x:n,y:i,width:l,height:c}=r;return x.createElement($fe.Provider,{value:a},x.createElement("defs",null,x.createElement("clipPath",{id:a},x.createElement("rect",{x:n,y:i,height:c,width:l}))),t)};function nk(s,t){for(var a in s)if({}.hasOwnProperty.call(s,a)&&(!{}.hasOwnProperty.call(t,a)||s[a]!==t[a]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(s,r))return!1;return!0}function $H(s,t,a){if(t<1)return[];if(t===1&&a===void 0)return s;for(var r=[],n=0;n<s.length;n+=t)r.push(s[n]);return r}function Ife(s,t,a){var r={width:s.width+t.width,height:s.height+t.height};return Dfe(r,a)}function Bfe(s,t,a){var r=a==="width",{x:n,y:i,width:l,height:c}=s;return t===1?{start:r?n:i,end:r?n+l:i+c}:{start:r?n+l:i+c,end:r?n:i}}function Ob(s,t,a,r,n){if(s*t<s*r||s*t>s*n)return!1;var i=a();return s*(t-s*i/2-r)>=0&&s*(t+s*i/2-n)<=0}function Lfe(s,t){return $H(s,t+1)}function Ffe(s,t,a,r,n){for(var i=(r||[]).slice(),{start:l,end:c}=t,o=0,u=1,d=l,f=function(){var y=r?.[o];if(y===void 0)return{v:$H(r,u)};var k=o,v,S=()=>(v===void 0&&(v=a(y,k)),v),C=y.coordinate,_=o===0||Ob(s,C,S,d,c);_||(o=0,d=l,u+=1),_&&(d=C+s*(S()/2+n),o+=u)},p;u<=i.length;)if(p=f(),p)return p.v;return[]}function p5(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function Or(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?p5(Object(a),!0).forEach(function(r){zfe(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):p5(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function zfe(s,t,a){return(t=Hfe(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Hfe(s){var t=Ufe(s,"string");return typeof t=="symbol"?t:t+""}function Ufe(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function qfe(s,t,a,r,n){for(var i=(r||[]).slice(),l=i.length,{start:c}=t,{end:o}=t,u=function(p){var j=i[p],y,k=()=>(y===void 0&&(y=a(j,p)),y);if(p===l-1){var v=s*(j.coordinate+s*k()/2-o);i[p]=j=Or(Or({},j),{},{tickCoord:v>0?j.coordinate-v*s:j.coordinate})}else i[p]=j=Or(Or({},j),{},{tickCoord:j.coordinate});var S=Ob(s,j.tickCoord,k,c,o);S&&(o=j.tickCoord-s*(k()/2+n),i[p]=Or(Or({},j),{},{isShow:!0}))},d=l-1;d>=0;d--)u(d);return i}function Gfe(s,t,a,r,n,i){var l=(r||[]).slice(),c=l.length,{start:o,end:u}=t;if(i){var d=r[c-1],f=a(d,c-1),p=s*(d.coordinate+s*f/2-u);l[c-1]=d=Or(Or({},d),{},{tickCoord:p>0?d.coordinate-p*s:d.coordinate});var j=Ob(s,d.tickCoord,()=>f,o,u);j&&(u=d.tickCoord-s*(f/2+n),l[c-1]=Or(Or({},d),{},{isShow:!0}))}for(var y=i?c-1:c,k=function(C){var _=l[C],A,D=()=>(A===void 0&&(A=a(_,C)),A);if(C===0){var M=s*(_.coordinate-s*D()/2-o);l[C]=_=Or(Or({},_),{},{tickCoord:M<0?_.coordinate-M*s:_.coordinate})}else l[C]=_=Or(Or({},_),{},{tickCoord:_.coordinate});var L=Ob(s,_.tickCoord,D,o,u);L&&(o=_.tickCoord+s*(D()/2+n),l[C]=Or(Or({},_),{},{isShow:!0}))},v=0;v<y;v++)k(v);return l}function fA(s,t,a){var{tick:r,ticks:n,viewBox:i,minTickGap:l,orientation:c,interval:o,tickFormatter:u,unit:d,angle:f}=s;if(!n||!n.length||!r)return[];if(gt(o)||so.isSsr){var p;return(p=Lfe(n,gt(o)?o:0))!==null&&p!==void 0?p:[]}var j=[],y=c==="top"||c==="bottom"?"width":"height",k=d&&y==="width"?pp(d,{fontSize:t,letterSpacing:a}):{width:0,height:0},v=(_,A)=>{var D=typeof u=="function"?u(_.value,A):_.value;return y==="width"?Ife(pp(D,{fontSize:t,letterSpacing:a}),k,f):pp(D,{fontSize:t,letterSpacing:a})[y]},S=n.length>=2?cr(n[1].coordinate-n[0].coordinate):1,C=Bfe(i,S,y);return o==="equidistantPreserveStart"?Ffe(S,C,v,n,l):(o==="preserveStart"||o==="preserveStartEnd"?j=Gfe(S,C,v,n,l,o==="preserveStartEnd"):j=qfe(S,C,v,n,l),j.filter(_=>_.isShow))}var Vfe=["viewBox"],Wfe=["viewBox"];function ym(){return ym=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},ym.apply(null,arguments)}function g5(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function Ua(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?g5(Object(a),!0).forEach(function(r){pA(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):g5(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function y5(s,t){if(s==null)return{};var a,r,n=Yfe(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function Yfe(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}function pA(s,t,a){return(t=Kfe(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Kfe(s){var t=Qfe(s,"string");return typeof t=="symbol"?t:t+""}function Qfe(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}class $d extends x.Component{constructor(t){super(t),this.tickRefs=x.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,a){var{viewBox:r}=t,n=y5(t,Vfe),i=this.props,{viewBox:l}=i,c=y5(i,Wfe);return!nk(r,l)||!nk(n,c)||!nk(a,this.state)}getTickLineCoord(t){var{x:a,y:r,width:n,height:i,orientation:l,tickSize:c,mirror:o,tickMargin:u}=this.props,d,f,p,j,y,k,v=o?-1:1,S=t.tickSize||c,C=gt(t.tickCoord)?t.tickCoord:t.coordinate;switch(l){case"top":d=f=t.coordinate,j=r+ +!o*i,p=j-v*S,k=p-v*u,y=C;break;case"left":p=j=t.coordinate,f=a+ +!o*n,d=f-v*S,y=d-v*u,k=C;break;case"right":p=j=t.coordinate,f=a+ +o*n,d=f+v*S,y=d+v*u,k=C;break;default:d=f=t.coordinate,j=r+ +o*i,p=j+v*S,k=p+v*u,y=C;break}return{line:{x1:d,y1:p,x2:f,y2:j},tick:{x:y,y:k}}}getTickTextAnchor(){var{orientation:t,mirror:a}=this.props,r;switch(t){case"left":r=a?"start":"end";break;case"right":r=a?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:t,mirror:a}=this.props;switch(t){case"left":case"right":return"middle";case"top":return a?"start":"end";default:return a?"end":"start"}}renderAxisLine(){var{x:t,y:a,width:r,height:n,orientation:i,mirror:l,axisLine:c}=this.props,o=Ua(Ua(Ua({},ns(this.props,!1)),ns(c,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!l||i==="bottom"&&l);o=Ua(Ua({},o),{},{x1:t,y1:a+u*n,x2:t+r,y2:a+u*n})}else{var d=+(i==="left"&&!l||i==="right"&&l);o=Ua(Ua({},o),{},{x1:t+d*r,y1:a,x2:t+d*r,y2:a+n})}return x.createElement("line",ym({},o,{className:Kt("recharts-cartesian-axis-line",Nd(c,"className"))}))}static renderTickItem(t,a,r){var n,i=Kt(a.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))n=x.cloneElement(t,Ua(Ua({},a),{},{className:i}));else if(typeof t=="function")n=t(Ua(Ua({},a),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Kt(l,t.className)),n=x.createElement(bx,ym({},a,{className:l}),r)}return n}renderTicks(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:n,stroke:i,tick:l,tickFormatter:c,unit:o,padding:u}=this.props,d=fA(Ua(Ua({},this.props),{},{ticks:r}),t,a),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),j=Ya(this.props),y=ns(l,!1),k=Ua(Ua({},j),{},{fill:"none"},ns(n,!1)),v=d.map((S,C)=>{var{line:_,tick:A}=this.getTickLineCoord(S),D=Ua(Ua(Ua(Ua({textAnchor:f,verticalAnchor:p},j),{},{stroke:"none",fill:i},y),A),{},{index:C,payload:S,visibleTicksCount:d.length,tickFormatter:c,padding:u});return x.createElement(Os,ym({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},ox(this.props,S,C)),n&&x.createElement("line",ym({},k,_,{className:Kt("recharts-cartesian-axis-tick-line",Nd(n,"className"))})),l&&$d.renderTickItem(l,D,"".concat(typeof c=="function"?c(S.value,C):S.value).concat(o||"")))});return v.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},v):null}render(){var{axisLine:t,width:a,height:r,className:n,hide:i}=this.props;if(i)return null;var{ticks:l}=this.props;return a!=null&&a<=0||r!=null&&r<=0?null:x.createElement(Os,{className:Kt("recharts-cartesian-axis",n),ref:c=>{if(c){var o=c.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(o);var u=o[0];if(u){var d=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(d!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,l),yn.renderCallByParent(this.props))}}pA($d,"displayName","CartesianAxis");pA($d,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Xfe=["x1","y1","x2","y2","key"],Zfe=["offset"],Jfe=["xAxisId","yAxisId"],epe=["xAxisId","yAxisId"];function j5(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function Br(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?j5(Object(a),!0).forEach(function(r){tpe(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):j5(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function tpe(s,t,a){return(t=spe(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function spe(s){var t=ape(s,"string");return typeof t=="symbol"?t:t+""}function ape(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function Th(){return Th=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},Th.apply(null,arguments)}function Rb(s,t){if(s==null)return{};var a,r,n=rpe(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function rpe(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var npe=s=>{var{fill:t}=s;if(!t||t==="none")return null;var{fillOpacity:a,x:r,y:n,width:i,height:l,ry:c}=s;return x.createElement("rect",{x:r,y:n,ry:c,width:i,height:l,stroke:"none",fill:t,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function PH(s,t){var a;if(x.isValidElement(s))a=x.cloneElement(s,t);else if(typeof s=="function")a=s(t);else{var{x1:r,y1:n,x2:i,y2:l,key:c}=t,o=Rb(t,Xfe),u=Ya(o),{offset:d}=u,f=Rb(u,Zfe);a=x.createElement("line",Th({},f,{x1:r,y1:n,x2:i,y2:l,fill:"none",key:c}))}return a}function ipe(s){var{x:t,width:a,horizontal:r=!0,horizontalPoints:n}=s;if(!r||!n||!n.length)return null;var{xAxisId:i,yAxisId:l}=s,c=Rb(s,Jfe),o=n.map((u,d)=>{var f=Br(Br({},c),{},{x1:t,y1:u,x2:t+a,y2:u,key:"line-".concat(d),index:d});return PH(r,f)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function lpe(s){var{y:t,height:a,vertical:r=!0,verticalPoints:n}=s;if(!r||!n||!n.length)return null;var{xAxisId:i,yAxisId:l}=s,c=Rb(s,epe),o=n.map((u,d)=>{var f=Br(Br({},c),{},{x1:u,y1:t,x2:u,y2:t+a,key:"line-".concat(d),index:d});return PH(r,f)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function cpe(s){var{horizontalFill:t,fillOpacity:a,x:r,y:n,width:i,height:l,horizontalPoints:c,horizontal:o=!0}=s;if(!o||!t||!t.length)return null;var u=c.map(f=>Math.round(f+n-n)).sort((f,p)=>f-p);n!==u[0]&&u.unshift(0);var d=u.map((f,p)=>{var j=!u[p+1],y=j?n+l-f:u[p+1]-f;if(y<=0)return null;var k=p%t.length;return x.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:y,width:i,stroke:"none",fill:t[k],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function ope(s){var{vertical:t=!0,verticalFill:a,fillOpacity:r,x:n,y:i,width:l,height:c,verticalPoints:o}=s;if(!t||!a||!a.length)return null;var u=o.map(f=>Math.round(f+n-n)).sort((f,p)=>f-p);n!==u[0]&&u.unshift(0);var d=u.map((f,p)=>{var j=!u[p+1],y=j?n+l-f:u[p+1]-f;if(y<=0)return null;var k=p%a.length;return x.createElement("rect",{key:"react-".concat(p),x:f,y:i,width:y,height:c,stroke:"none",fill:a[k],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var dpe=(s,t)=>{var{xAxis:a,width:r,height:n,offset:i}=s;return kF(fA(Br(Br(Br({},$d.defaultProps),a),{},{ticks:SF(a),viewBox:{x:0,y:0,width:r,height:n}})),i.left,i.left+i.width,t)},hpe=(s,t)=>{var{yAxis:a,width:r,height:n,offset:i}=s;return kF(fA(Br(Br(Br({},$d.defaultProps),a),{},{ticks:SF(a),viewBox:{x:0,y:0,width:r,height:n}})),i.top,i.top+i.height,t)},upe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function sn(s){var t=DF(),a=OF(),r=MF(),n=Br(Br({},Gr(s,upe)),{},{x:gt(s.x)?s.x:r.left,y:gt(s.y)?s.y:r.top,width:gt(s.width)?s.width:r.width,height:gt(s.height)?s.height:r.height}),{xAxisId:i,yAxisId:l,x:c,y:o,width:u,height:d,syncWithTicks:f,horizontalValues:p,verticalValues:j}=n,y=dr(),k=jt(Q=>aR(Q,"xAxis",i,y)),v=jt(Q=>aR(Q,"yAxis",l,y));if(!gt(u)||u<=0||!gt(d)||d<=0||!gt(c)||c!==+c||!gt(o)||o!==+o)return null;var S=n.verticalCoordinatesGenerator||dpe,C=n.horizontalCoordinatesGenerator||hpe,{horizontalPoints:_,verticalPoints:A}=n;if((!_||!_.length)&&typeof C=="function"){var D=p&&p.length,M=C({yAxis:v?Br(Br({},v),{},{ticks:D?p:v.ticks}):void 0,width:t,height:a,offset:r},D?!0:f);fp(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(_=M)}if((!A||!A.length)&&typeof S=="function"){var L=j&&j.length,F=S({xAxis:k?Br(Br({},k),{},{ticks:L?j:k.ticks}):void 0,width:t,height:a,offset:r},L?!0:f);fp(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(A=F)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(npe,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),x.createElement(cpe,Th({},n,{horizontalPoints:_})),x.createElement(ope,Th({},n,{verticalPoints:A})),x.createElement(ipe,Th({},n,{offset:r,horizontalPoints:_,xAxis:k,yAxis:v})),x.createElement(lpe,Th({},n,{offset:r,verticalPoints:A,xAxis:k,yAxis:v})))}sn.displayName="CartesianGrid";var IH=(s,t,a,r)=>Fl(s,"xAxis",t,r),BH=(s,t,a,r)=>Ll(s,"xAxis",t,r),LH=(s,t,a,r)=>Fl(s,"yAxis",a,r),FH=(s,t,a,r)=>Ll(s,"yAxis",a,r),mpe=Pe([Jt,IH,LH,BH,FH],(s,t,a,r,n)=>Qi(s,"xAxis")?qc(t,r,!1):qc(a,n,!1)),xpe=(s,t,a,r,n)=>n;function fpe(s){return s.type==="line"}var ppe=Pe([Og,xpe],(s,t)=>s.filter(fpe).find(a=>a.id===t)),gpe=Pe([Jt,IH,LH,BH,FH,ppe,mpe,Ag],(s,t,a,r,n,i,l,c)=>{var{chartData:o,dataStartIndex:u,dataEndIndex:d}=c;if(!(i==null||t==null||a==null||r==null||n==null||r.length===0||n.length===0||l==null)){var{dataKey:f,data:p}=i,j;if(p!=null&&p.length>0?j=p:j=o?.slice(u,d+1),j!=null)return Bpe({layout:s,xAxis:t,yAxis:a,xAxisTicks:r,yAxisTicks:n,dataKey:f,bandSize:l,displayedData:j})}}),ype=["id"],jpe=["type","layout","connectNulls","needClip"],vpe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function v5(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function Ii(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?v5(Object(a),!0).forEach(function(r){bpe(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):v5(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function bpe(s,t,a){return(t=Npe(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Npe(s){var t=wpe(s,"string");return typeof t=="symbol"?t:t+""}function wpe(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function gA(s,t){if(s==null)return{};var a,r,n=kpe(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function kpe(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}function Qh(){return Qh=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},Qh.apply(null,arguments)}var Spe=s=>{var{dataKey:t,name:a,stroke:r,legendType:n,hide:i}=s;return[{inactive:i,dataKey:t,type:n,color:r,value:Hl(a,t),payload:s}]};function _pe(s){var{dataKey:t,data:a,stroke:r,strokeWidth:n,fill:i,name:l,hide:c,unit:o}=s;return{dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Hl(l,t),hide:c,type:s.tooltipType,color:s.stroke,unit:o}}}var zH=(s,t)=>"".concat(t,"px ").concat(s-t,"px");function Cpe(s,t){for(var a=s.length%2!==0?[...s,0]:s,r=[],n=0;n<t;++n)r=[...r,...a];return r}var Epe=(s,t,a)=>{var r=a.reduce((f,p)=>f+p);if(!r)return zH(t,s);for(var n=Math.floor(s/r),i=s%r,l=t-s,c=[],o=0,u=0;o<a.length;u+=a[o],++o)if(u+a[o]>i){c=[...a.slice(0,o),i-u];break}var d=c.length%2===0?[0,l]:[l];return[...Cpe(a,n),...c,...d].map(f=>"".concat(f,"px")).join(", ")};function Ape(s,t){var a;if(x.isValidElement(s))a=x.cloneElement(s,t);else if(typeof s=="function")a=s(t);else{var r=Kt("recharts-line-dot",typeof s!="boolean"?s.className:"");a=x.createElement(Fg,Qh({},t,{className:r}))}return a}function Tpe(s,t){return s==null?!1:t?!0:s.length===1}function Mpe(s){var{clipPathId:t,points:a,props:r}=s,{dot:n,dataKey:i,needClip:l}=r;if(!Tpe(a,n))return null;var{id:c}=r,o=gA(r,ype),u=_N(n),d=Ya(o),f=ns(n,!0),p=a.map((y,k)=>{var v=Ii(Ii(Ii({key:"dot-".concat(k),r:3},d),f),{},{index:k,cx:y.x,cy:y.y,dataKey:i,value:y.value,payload:y.payload,points:a});return Ape(n,v)}),j={clipPath:l?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return x.createElement(Os,Qh({className:"recharts-line-dots",key:"dots"},j),p)}function ZS(s){var{clipPathId:t,pathRef:a,points:r,strokeDasharray:n,props:i,showLabels:l}=s,{type:c,layout:o,connectNulls:u,needClip:d}=i,f=gA(i,jpe),p=Ii(Ii({},ns(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:r,type:c,layout:o,connectNulls:u,strokeDasharray:n??i.strokeDasharray});return x.createElement(x.Fragment,null,r?.length>1&&x.createElement(Nm,Qh({},p,{pathRef:a})),x.createElement(Mpe,{points:r,clipPathId:t,props:i}),l&&Rl.renderCallByParent(i,r))}function Dpe(s){try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}function Ope(s){var{clipPathId:t,props:a,pathRef:r,previousPointsRef:n,longestAnimatedLengthRef:i}=s,{points:l,strokeDasharray:c,isAnimationActive:o,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:p,width:j,height:y,onAnimationEnd:k,onAnimationStart:v}=a,S=n.current,C=qg(a,"recharts-line-"),[_,A]=x.useState(!1),D=x.useCallback(()=>{typeof k=="function"&&k(),A(!1)},[k]),M=x.useCallback(()=>{typeof v=="function"&&v(),A(!0)},[v]),L=Dpe(r.current),F=i.current;return x.createElement(Vg,{begin:u,duration:d,isActive:o,easing:f,onAnimationEnd:D,onAnimationStart:M,key:C},Q=>{var I=Nr(F,L+F,Q),H=Math.min(I,L),z;if(c){var K="".concat(c).split(/[,\s]+/gim).map(P=>parseFloat(P));z=Epe(H,L,K)}else z=zH(L,H);if(S){var U=S.length/l.length,V=Q===1?l:l.map((P,q)=>{var G=Math.floor(q*U);if(S[G]){var se=S[G];return Ii(Ii({},P),{},{x:Nr(se.x,P.x,Q),y:Nr(se.y,P.y,Q)})}return p?Ii(Ii({},P),{},{x:Nr(j*2,P.x,Q),y:Nr(y/2,P.y,Q)}):Ii(Ii({},P),{},{x:P.x,y:P.y})});return n.current=V,x.createElement(ZS,{props:a,points:V,clipPathId:t,pathRef:r,showLabels:!_,strokeDasharray:z})}return Q>0&&L>0&&(n.current=l,i.current=H),x.createElement(ZS,{props:a,points:l,clipPathId:t,pathRef:r,showLabels:!_,strokeDasharray:z})})}function Rpe(s){var{clipPathId:t,props:a}=s,{points:r,isAnimationActive:n}=a,i=x.useRef(null),l=x.useRef(0),c=x.useRef(null),o=i.current;return n&&r&&r.length&&o!==r?x.createElement(Ope,{props:a,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:l,pathRef:c}):x.createElement(ZS,{props:a,points:r,clipPathId:t,pathRef:c,showLabels:!0})}var $pe=(s,t)=>({x:s.x,y:s.y,value:s.value,errorVal:Es(s.payload,t)});class Ppe extends x.Component{render(){var t,{hide:a,dot:r,points:n,className:i,xAxisId:l,yAxisId:c,top:o,left:u,width:d,height:f,id:p,needClip:j}=this.props;if(a)return null;var y=Kt("recharts-line",i),k=p,{r:v=3,strokeWidth:S=2}=(t=ns(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},C=_N(r),_=v*2+S;return x.createElement(x.Fragment,null,x.createElement(Os,{className:y},j&&x.createElement("defs",null,x.createElement(mA,{clipPathId:k,xAxisId:l,yAxisId:c}),!C&&x.createElement("clipPath",{id:"clipPath-dots-".concat(k)},x.createElement("rect",{x:u-_/2,y:o-_/2,width:d+_,height:f+_}))),x.createElement(Rpe,{props:this.props,clipPathId:k}),x.createElement(EH,{xAxisId:l,yAxisId:c,data:n,dataPointFormatter:$pe,errorBarOffset:0},this.props.children)),x.createElement(Tb,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var HH={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!so.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Ipe(s){var t=Gr(s,HH),{activeDot:a,animateNewValues:r,animationBegin:n,animationDuration:i,animationEasing:l,connectNulls:c,dot:o,hide:u,isAnimationActive:d,label:f,legendType:p,xAxisId:j,yAxisId:y,id:k}=t,v=gA(t,vpe),{needClip:S}=o1(j,y),C=l1(),_=kg(),A=dr(),D=jt(I=>gpe(I,j,y,A,k));if(_!=="horizontal"&&_!=="vertical"||D==null||C==null)return null;var{height:M,width:L,x:F,y:Q}=C;return x.createElement(Ppe,Qh({},v,{id:k,connectNulls:c,dot:o,activeDot:a,animateNewValues:r,animationBegin:n,animationDuration:i,animationEasing:l,isAnimationActive:d,hide:u,label:f,legendType:p,xAxisId:j,yAxisId:y,points:D,layout:_,height:M,width:L,left:F,top:Q,needClip:S}))}function Bpe(s){var{layout:t,xAxis:a,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:l,bandSize:c,displayedData:o}=s;return o.map((u,d)=>{var f=Es(u,l);if(t==="horizontal"){var p=ob({axis:a,ticks:n,bandSize:c,entry:u,index:d}),j=qs(f)?null:r.scale(f);return{x:p,y:j,value:f,payload:u}}var y=qs(f)?null:a.scale(f),k=ob({axis:r,ticks:i,bandSize:c,entry:u,index:d});return y==null||k==null?null:{x:y,y:k,value:f,payload:u}}).filter(Boolean)}function bn(s){var t=Gr(s,HH),a=dr();return x.createElement(Gg,{id:t.id,type:"line"},r=>x.createElement(x.Fragment,null,x.createElement(cA,{legendPayload:Spe(t)}),x.createElement(Ug,{fn:_pe,args:t}),x.createElement(oA,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:a}),x.createElement(Ipe,Qh({},t,{id:r}))))}bn.displayName="Line";var UH=(s,t,a,r)=>Fl(s,"xAxis",t,r),qH=(s,t,a,r)=>Ll(s,"xAxis",t,r),GH=(s,t,a,r)=>Fl(s,"yAxis",a,r),VH=(s,t,a,r)=>Ll(s,"yAxis",a,r),Lpe=Pe([Jt,UH,GH,qH,VH],(s,t,a,r,n)=>Qi(s,"xAxis")?qc(t,r,!1):qc(a,n,!1)),Fpe=(s,t,a,r,n)=>n,WH=Pe([Og,Fpe],(s,t)=>s.filter(a=>a.type==="area").find(a=>a.id===t)),zpe=(s,t,a,r,n)=>{var i,l=WH(s,t,a,r,n);if(l!=null){var c=Jt(s),o=Qi(c,"xAxis"),u;if(o?u=zp(s,"yAxis",a,r):u=zp(s,"xAxis",t,r),u!=null){var{stackId:d}=l,f=XN(l);if(!(d==null||f==null)){var p=(i=u[d])===null||i===void 0?void 0:i.stackedData;return p?.find(j=>j.key===f)}}}},Hpe=Pe([Jt,UH,GH,qH,VH,zpe,Ag,Lpe,WH],(s,t,a,r,n,i,l,c,o)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:f}=l;if(!(o==null||s!=="horizontal"&&s!=="vertical"||t==null||a==null||r==null||n==null||r.length===0||n.length===0||c==null)){var{data:p}=o,j;if(p&&p.length>0?j=p:j=u?.slice(d,f+1),j!=null){var y=void 0;return cge({layout:s,xAxis:t,yAxis:a,xAxisTicks:r,yAxisTicks:n,dataStartIndex:d,areaSettings:o,stackedData:i,displayedData:j,chartBaseValue:y,bandSize:c})}}}),Upe=["id"],qpe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function YH(s,t){if(s==null)return{};var a,r,n=Gpe(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function Gpe(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}function b5(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function Mh(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?b5(Object(a),!0).forEach(function(r){Vpe(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):b5(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function Vpe(s,t,a){return(t=Wpe(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Wpe(s){var t=Ype(s,"string");return typeof t=="symbol"?t:t+""}function Ype(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function Pc(){return Pc=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},Pc.apply(null,arguments)}function $b(s,t){return s&&s!=="none"?s:t}var Kpe=s=>{var{dataKey:t,name:a,stroke:r,fill:n,legendType:i,hide:l}=s;return[{inactive:l,dataKey:t,type:i,color:$b(r,n),value:Hl(a,t),payload:s}]};function Qpe(s){var{dataKey:t,data:a,stroke:r,strokeWidth:n,fill:i,name:l,hide:c,unit:o}=s;return{dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Hl(l,t),hide:c,type:s.tooltipType,color:$b(r,i),unit:o}}}var Xpe=(s,t)=>{var a;if(x.isValidElement(s))a=x.cloneElement(s,t);else if(typeof s=="function")a=s(t);else{var r=Kt("recharts-area-dot",typeof s!="boolean"?s.className:"");a=x.createElement(Fg,Pc({},t,{className:r}))}return a};function Zpe(s,t){return s==null?!1:t?!0:s.length===1}function Jpe(s){var{clipPathId:t,points:a,props:r}=s,{needClip:n,dot:i,dataKey:l}=r;if(!Zpe(a,i))return null;var c=_N(i),o=Ya(r),u=ns(i,!0),d=a.map((p,j)=>{var y=Mh(Mh(Mh({key:"dot-".concat(j),r:3},o),u),{},{index:j,cx:p.x,cy:p.y,dataKey:l,value:p.value,payload:p.payload,points:a});return Xpe(i,y)}),f={clipPath:n?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return x.createElement(Os,Pc({className:"recharts-area-dots"},f),d)}function JS(s){var{points:t,baseLine:a,needClip:r,clipPathId:n,props:i,showLabels:l}=s,{layout:c,type:o,stroke:u,connectNulls:d,isRange:f}=i,{id:p}=i,j=YH(i,Upe),y=Ya(j);return x.createElement(x.Fragment,null,t?.length>1&&x.createElement(Os,{clipPath:r?"url(#clipPath-".concat(n,")"):void 0},x.createElement(Nm,Pc({},y,{id:p,points:t,connectNulls:d,type:o,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&x.createElement(Nm,Pc({},y,{className:"recharts-area-curve",layout:c,type:o,connectNulls:d,fill:"none",points:t})),u!=="none"&&f&&x.createElement(Nm,Pc({},y,{className:"recharts-area-curve",layout:c,type:o,connectNulls:d,fill:"none",points:a}))),x.createElement(Jpe,{points:t,props:j,clipPathId:n}),l&&Rl.renderCallByParent(j,t))}function ege(s){var{alpha:t,baseLine:a,points:r,strokeWidth:n}=s,i=r[0].y,l=r[r.length-1].y;if(!kr(i)||!kr(l))return null;var c=t*Math.abs(i-l),o=Math.max(...r.map(u=>u.x||0));return gt(a)?o=Math.max(a,o):a&&Array.isArray(a)&&a.length&&(o=Math.max(...a.map(u=>u.x||0),o)),gt(o)?x.createElement("rect",{x:0,y:i<l?i:i-c,width:o+(n?parseInt("".concat(n),10):1),height:Math.floor(c)}):null}function tge(s){var{alpha:t,baseLine:a,points:r,strokeWidth:n}=s,i=r[0].x,l=r[r.length-1].x;if(!kr(i)||!kr(l))return null;var c=t*Math.abs(i-l),o=Math.max(...r.map(u=>u.y||0));return gt(a)?o=Math.max(a,o):a&&Array.isArray(a)&&a.length&&(o=Math.max(...a.map(u=>u.y||0),o)),gt(o)?x.createElement("rect",{x:i<l?i:i-c,y:0,width:c,height:Math.floor(o+(n?parseInt("".concat(n),10):1))}):null}function sge(s){var{alpha:t,layout:a,points:r,baseLine:n,strokeWidth:i}=s;return a==="vertical"?x.createElement(ege,{alpha:t,points:r,baseLine:n,strokeWidth:i}):x.createElement(tge,{alpha:t,points:r,baseLine:n,strokeWidth:i})}function age(s){var{needClip:t,clipPathId:a,props:r,previousPointsRef:n,previousBaselineRef:i}=s,{points:l,baseLine:c,isAnimationActive:o,animationBegin:u,animationDuration:d,animationEasing:f,onAnimationStart:p,onAnimationEnd:j}=r,y=qg(r,"recharts-area-"),[k,v]=x.useState(!0),S=x.useCallback(()=>{typeof j=="function"&&j(),v(!1)},[j]),C=x.useCallback(()=>{typeof p=="function"&&p(),v(!0)},[p]),_=n.current,A=i.current;return x.createElement(Vg,{begin:u,duration:d,isActive:o,easing:f,onAnimationEnd:S,onAnimationStart:C,key:y},D=>{if(_){var M=_.length/l.length,L=D===1?l:l.map((Q,I)=>{var H=Math.floor(I*M);if(_[H]){var z=_[H];return Mh(Mh({},Q),{},{x:Nr(z.x,Q.x,D),y:Nr(z.y,Q.y,D)})}return Q}),F;return gt(c)?F=Nr(A,c,D):qs(c)||Cn(c)?F=Nr(A,0,D):F=c.map((Q,I)=>{var H=Math.floor(I*M);if(Array.isArray(A)&&A[H]){var z=A[H];return Mh(Mh({},Q),{},{x:Nr(z.x,Q.x,D),y:Nr(z.y,Q.y,D)})}return Q}),D>0&&(n.current=L,i.current=F),x.createElement(JS,{points:L,baseLine:F,needClip:t,clipPathId:a,props:r,showLabels:!k})}return D>0&&(n.current=l,i.current=c),x.createElement(Os,null,x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(a)},x.createElement(sge,{alpha:D,points:l,baseLine:c,layout:r.layout,strokeWidth:r.strokeWidth}))),x.createElement(Os,{clipPath:"url(#animationClipPath-".concat(a,")")},x.createElement(JS,{points:l,baseLine:c,needClip:t,clipPathId:a,props:r,showLabels:!0})))})}function rge(s){var{needClip:t,clipPathId:a,props:r}=s,{points:n,baseLine:i,isAnimationActive:l}=r,c=x.useRef(null),o=x.useRef(),u=c.current,d=o.current;return l&&n&&n.length&&(u!==n||d!==i)?x.createElement(age,{needClip:t,clipPathId:a,props:r,previousPointsRef:c,previousBaselineRef:o}):x.createElement(JS,{points:n,baseLine:i,needClip:t,clipPathId:a,props:r,showLabels:!0})}class nge extends x.PureComponent{render(){var t,{hide:a,dot:r,points:n,className:i,top:l,left:c,needClip:o,xAxisId:u,yAxisId:d,width:f,height:p,id:j,baseLine:y}=this.props;if(a)return null;var k=Kt("recharts-area",i),v=j,{r:S=3,strokeWidth:C=2}=(t=ns(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},_=_N(r),A=S*2+C;return x.createElement(x.Fragment,null,x.createElement(Os,{className:k},o&&x.createElement("defs",null,x.createElement(mA,{clipPathId:v,xAxisId:u,yAxisId:d}),!_&&x.createElement("clipPath",{id:"clipPath-dots-".concat(v)},x.createElement("rect",{x:c-A/2,y:l-A/2,width:f+A,height:p+A}))),x.createElement(rge,{needClip:o,clipPathId:v,props:this.props})),x.createElement(Tb,{points:n,mainColor:$b(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(y)&&x.createElement(Tb,{points:y,mainColor:$b(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var KH={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!so.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function ige(s){var t,a=Gr(s,KH),{activeDot:r,animationBegin:n,animationDuration:i,animationEasing:l,connectNulls:c,dot:o,fill:u,fillOpacity:d,hide:f,isAnimationActive:p,legendType:j,stroke:y,xAxisId:k,yAxisId:v}=a,S=YH(a,qpe),C=kg(),_=q7(),{needClip:A}=o1(k,v),D=dr(),{points:M,isRange:L,baseLine:F}=(t=jt(U=>Hpe(U,k,v,D,s.id)))!==null&&t!==void 0?t:{},Q=l1();if(C!=="horizontal"&&C!=="vertical"||Q==null||_!=="AreaChart"&&_!=="ComposedChart")return null;var{height:I,width:H,x:z,y:K}=Q;return!M||!M.length?null:x.createElement(nge,Pc({},S,{activeDot:r,animationBegin:n,animationDuration:i,animationEasing:l,baseLine:F,connectNulls:c,dot:o,fill:u,fillOpacity:d,height:I,hide:f,layout:C,isAnimationActive:p,isRange:L,legendType:j,needClip:A,points:M,stroke:y,width:H,left:z,top:K,xAxisId:k,yAxisId:v}))}var lge=(s,t,a,r,n)=>{var i=a??t;if(gt(i))return i;var l=s==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var o=Math.max(c[0],c[1]),u=Math.min(c[0],c[1]);return i==="dataMin"?u:i==="dataMax"||o<0?o:Math.max(Math.min(c[0],c[1]),0)}return i==="dataMin"?c[0]:i==="dataMax"?c[1]:c[0]};function cge(s){var{areaSettings:{connectNulls:t,baseValue:a,dataKey:r},stackedData:n,layout:i,chartBaseValue:l,xAxis:c,yAxis:o,displayedData:u,dataStartIndex:d,xAxisTicks:f,yAxisTicks:p,bandSize:j}=s,y=n&&n.length,k=lge(i,l,a,c,o),v=i==="horizontal",S=!1,C=u.map((A,D)=>{var M;y?M=n[d+D]:(M=Es(A,r),Array.isArray(M)?S=!0:M=[k,M]);var L=M[1]==null||y&&!t&&Es(A,r)==null;return v?{x:ob({axis:c,ticks:f,bandSize:j,entry:A,index:D}),y:L?null:o.scale(M[1]),value:M,payload:A}:{x:L?null:c.scale(M[1]),y:ob({axis:o,ticks:p,bandSize:j,entry:A,index:D}),value:M,payload:A}}),_;return y||S?_=C.map(A=>{var D=Array.isArray(A.value)?A.value[0]:null;return v?{x:A.x,y:D!=null&&A.y!=null?o.scale(D):null,payload:A.payload}:{x:D!=null?c.scale(D):null,y:A.y,payload:A.payload}}):_=v?o.scale(k):c.scale(k),{points:C,baseLine:_,isRange:S}}function Ic(s){var t=Gr(s,KH),a=dr();return x.createElement(Gg,{id:t.id,type:"area"},r=>x.createElement(x.Fragment,null,x.createElement(cA,{legendPayload:Kpe(t)}),x.createElement(Ug,{fn:Qpe,args:t}),x.createElement(oA,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:_F(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:a,connectNulls:t.connectNulls}),x.createElement(ige,Pc({},t,{id:r}))))}Ic.displayName="Area";function N5(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function w5(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?N5(Object(a),!0).forEach(function(r){oge(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):N5(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function oge(s,t,a){return(t=dge(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function dge(s){var t=hge(s,"string");return typeof t=="symbol"?t:t+""}function hge(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}var uge={xAxis:{},yAxis:{},zAxis:{}},QH=Yn({name:"cartesianAxis",initialState:uge,reducers:{addXAxis(s,t){s.xAxis[t.payload.id]=t.payload},removeXAxis(s,t){delete s.xAxis[t.payload.id]},addYAxis(s,t){s.yAxis[t.payload.id]=t.payload},removeYAxis(s,t){delete s.yAxis[t.payload.id]},addZAxis(s,t){s.zAxis[t.payload.id]=t.payload},removeZAxis(s,t){delete s.zAxis[t.payload.id]},updateYAxisWidth(s,t){var{id:a,width:r}=t.payload;s.yAxis[a]&&(s.yAxis[a]=w5(w5({},s.yAxis[a]),{},{width:r}))}}}),{addXAxis:mge,removeXAxis:xge,addYAxis:fge,removeYAxis:pge,addZAxis:g6e,removeZAxis:y6e,updateYAxisWidth:gge}=QH.actions,yge=QH.reducer,jge=["children"],vge=["dangerouslySetInnerHTML","ticks"];function XH(s,t,a){return(t=bge(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function bge(s){var t=Nge(s,"string");return typeof t=="symbol"?t:t+""}function Nge(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function e_(){return e_=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},e_.apply(null,arguments)}function ZH(s,t){if(s==null)return{};var a,r,n=wge(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function wge(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}function kge(s){var t=ya(),a=x.useMemo(()=>{var{children:i}=s,l=ZH(s,jge);return l},[s]),r=jt(i=>ro(i,a.id)),n=a===r;return x.useEffect(()=>(t(mge(a)),()=>{t(xge(a))}),[a,t]),n?s.children:null}var Sge=s=>{var{xAxisId:t,className:a}=s,r=jt(TF),n=dr(),i="xAxis",l=jt(j=>yx(j,i,t,n)),c=jt(j=>N7(j,i,t,n)),o=jt(j=>y7(j,t)),u=jt(j=>Pce(j,t));if(o==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f}=s,p=ZH(s,vge);return x.createElement($d,e_({},p,{scale:l,x:u.x,y:u.y,width:o.width,height:o.height,className:Kt("recharts-".concat(i," ").concat(i),a),viewBox:r,ticks:c}))},_ge=s=>{var t,a,r,n,i;return x.createElement(kge,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(a=s.includeHidden)!==null&&a!==void 0?a:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(n=s.minTickGap)!==null&&n!==void 0?n:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter},x.createElement(Sge,s))};class zr extends x.Component{render(){return x.createElement(_ge,this.props)}}XH(zr,"displayName","XAxis");XH(zr,"defaultProps",{allowDataOverflow:In.allowDataOverflow,allowDecimals:In.allowDecimals,allowDuplicatedCategory:In.allowDuplicatedCategory,height:In.height,hide:!1,mirror:In.mirror,orientation:In.orientation,padding:In.padding,reversed:In.reversed,scale:In.scale,tickCount:In.tickCount,type:In.type,xAxisId:0});var Cge=s=>{var{ticks:t,label:a,labelGapWithTick:r=5,tickSize:n=0,tickMargin:i=0}=s,l=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>l&&(l=f.width)}});var c=a?a.getBoundingClientRect().width:0,o=n+i,u=l+o+c+(a?r:0);return Math.round(u)}return 0},Ege=["dangerouslySetInnerHTML","ticks"];function JH(s,t,a){return(t=Age(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Age(s){var t=Tge(s,"string");return typeof t=="symbol"?t:t+""}function Tge(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function t_(){return t_=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},t_.apply(null,arguments)}function Mge(s,t){if(s==null)return{};var a,r,n=Dge(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function Dge(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}function Oge(s){var t=ya();return x.useEffect(()=>(t(fge(s)),()=>{t(pge(s))}),[s,t]),null}var Rge=s=>{var t,{yAxisId:a,className:r,width:n,label:i}=s,l=x.useRef(null),c=x.useRef(null),o=jt(TF),u=dr(),d=ya(),f="yAxis",p=jt(_=>yx(_,f,a,u)),j=jt(_=>j7(_,a)),y=jt(_=>Ice(_,a)),k=jt(_=>N7(_,f,a,u));if(x.useLayoutEffect(()=>{var _;if(!(n!=="auto"||!j||QE(i)||x.isValidElement(i))){var A=l.current,D=A==null||(_=A.tickRefs)===null||_===void 0?void 0:_.current,{tickSize:M,tickMargin:L}=A.props,F=Cge({ticks:D,label:c.current,labelGapWithTick:5,tickSize:M,tickMargin:L});Math.round(j.width)!==Math.round(F)&&d(gge({id:a,width:F}))}},[l,l==null||(t=l.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,j?.width,j,d,i,a,n]),j==null||y==null)return null;var{dangerouslySetInnerHTML:v,ticks:S}=s,C=Mge(s,Ege);return x.createElement($d,t_({},C,{ref:l,labelRef:c,scale:p,x:y.x,y:y.y,width:j.width,height:j.height,className:Kt("recharts-".concat(f," ").concat(f),r),viewBox:o,ticks:k}))},$ge=s=>{var t,a,r,n,i;return x.createElement(x.Fragment,null,x.createElement(Oge,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(a=s.includeHidden)!==null&&a!==void 0?a:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(n=s.minTickGap)!==null&&n!==void 0?n:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter}),x.createElement(Rge,s))},Pge={allowDataOverflow:Bn.allowDataOverflow,allowDecimals:Bn.allowDecimals,allowDuplicatedCategory:Bn.allowDuplicatedCategory,hide:!1,mirror:Bn.mirror,orientation:Bn.orientation,padding:Bn.padding,reversed:Bn.reversed,scale:Bn.scale,tickCount:Bn.tickCount,type:Bn.type,width:Bn.width,yAxisId:0};class Hr extends x.Component{render(){return x.createElement($ge,this.props)}}JH(Hr,"displayName","YAxis");JH(Hr,"defaultProps",Pge);var ik={exports:{}},lk={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k5;function Ige(){if(k5)return lk;k5=1;var s=Zm();function t(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var a=typeof Object.is=="function"?Object.is:t,r=s.useSyncExternalStore,n=s.useRef,i=s.useEffect,l=s.useMemo,c=s.useDebugValue;return lk.useSyncExternalStoreWithSelector=function(o,u,d,f,p){var j=n(null);if(j.current===null){var y={hasValue:!1,value:null};j.current=y}else y=j.current;j=l(function(){function v(D){if(!S){if(S=!0,C=D,D=f(D),p!==void 0&&y.hasValue){var M=y.value;if(p(M,D))return _=M}return _=D}if(M=_,a(C,D))return M;var L=f(D);return p!==void 0&&p(M,L)?(C=D,M):(C=D,_=L)}var S=!1,C,_,A=d===void 0?null:d;return[function(){return v(u())},A===null?void 0:function(){return v(A())}]},[u,d,f,p]);var k=r(o,j[0],j[1]);return i(function(){y.hasValue=!0,y.value=k},[k]),c(k),k},lk}var S5;function Bge(){return S5||(S5=1,ik.exports=Ige()),ik.exports}Bge();function Lge(s){s()}function Fge(){let s=null,t=null;return{clear(){s=null,t=null},notify(){Lge(()=>{let a=s;for(;a;)a.callback(),a=a.next})},get(){const a=[];let r=s;for(;r;)a.push(r),r=r.next;return a},subscribe(a){let r=!0;const n=t={callback:a,next:null,prev:t};return n.prev?n.prev.next=n:s=n,function(){!r||s===null||(r=!1,n.next?n.next.prev=n.prev:t=n.prev,n.prev?n.prev.next=n.next:s=n.next)}}}}var _5={notify(){},get:()=>[]};function zge(s,t){let a,r=_5,n=0,i=!1;function l(k){d();const v=r.subscribe(k);let S=!1;return()=>{S||(S=!0,v(),f())}}function c(){r.notify()}function o(){y.onStateChange&&y.onStateChange()}function u(){return i}function d(){n++,a||(a=s.subscribe(o),r=Fge())}function f(){n--,a&&n===0&&(a(),a=void 0,r.clear(),r=_5)}function p(){i||(i=!0,d())}function j(){i&&(i=!1,f())}const y={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:o,isSubscribed:u,trySubscribe:p,tryUnsubscribe:j,getListeners:()=>r};return y}var Hge=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Uge=Hge(),qge=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Gge=qge(),Vge=()=>Uge||Gge?x.useLayoutEffect:x.useEffect,Wge=Vge(),Yge=Symbol.for("react-redux-context"),Kge=typeof globalThis<"u"?globalThis:{};function Qge(){if(!x.createContext)return{};const s=Kge[Yge]??=new Map;let t=s.get(x.createContext);return t||(t=x.createContext(null),s.set(x.createContext,t)),t}var Xge=Qge();function Zge(s){const{children:t,context:a,serverState:r,store:n}=s,i=x.useMemo(()=>{const o=zge(n);return{store:n,subscription:o,getServerState:r?()=>r:void 0}},[n,r]),l=x.useMemo(()=>n.getState(),[n]);Wge(()=>{const{subscription:o}=i;return o.onStateChange=o.notifyNestedSubs,o.trySubscribe(),l!==n.getState()&&o.notifyNestedSubs(),()=>{o.tryUnsubscribe(),o.onStateChange=void 0}},[i,l]);const c=a||Xge;return x.createElement(c.Provider,{value:i},t)}var Jge=Zge,eye=(s,t)=>t,yA=Pe([eye,Jt,xx,Xa,B7,no,Loe,Ka],qoe),jA=s=>{var t=s.currentTarget.getBoundingClientRect(),a=t.width/s.currentTarget.offsetWidth,r=t.height/s.currentTarget.offsetHeight;return{chartX:Math.round((s.clientX-t.left)/a),chartY:Math.round((s.clientY-t.top)/r)}},e9=ji("mouseClick"),t9=wg();t9.startListening({actionCreator:e9,effect:(s,t)=>{var a=s.payload,r=yA(t.getState(),jA(a));r?.activeIndex!=null&&t.dispatch(Yce({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var s_=ji("mouseMove"),s9=wg();s9.startListening({actionCreator:s_,effect:(s,t)=>{var a=s.payload,r=t.getState(),n=zE(r,r.tooltip.settings.shared),i=yA(r,jA(a));n==="axis"&&(i?.activeIndex!=null?t.dispatch(M7({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(T7()))}});function tye(s,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var C5={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},a9=Yn({name:"rootProps",initialState:C5,reducers:{updateOptions:(s,t)=>{var a;s.accessibilityLayer=t.payload.accessibilityLayer,s.barCategoryGap=t.payload.barCategoryGap,s.barGap=(a=t.payload.barGap)!==null&&a!==void 0?a:C5.barGap,s.barSize=t.payload.barSize,s.maxBarSize=t.payload.maxBarSize,s.stackOffset=t.payload.stackOffset,s.syncId=t.payload.syncId,s.syncMethod=t.payload.syncMethod,s.className=t.payload.className}}}),sye=a9.reducer,{updateOptions:aye}=a9.actions,r9=Yn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(s,t)=>t.payload}}),{updatePolarOptions:rye}=r9.actions,nye=r9.reducer,n9=ji("keyDown"),i9=ji("focus"),vA=wg();vA.startListening({actionCreator:n9,effect:(s,t)=>{var a=t.getState(),r=a.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:n}=a.tooltip,i=s.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(HE(n,vx(a))),c=no(a);if(i==="Enter"){var o=_b(a,"axis","hover",String(n.index));t.dispatch(VS({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:o}));return}var u=Lce(a),d=u==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,p=l+f*d;if(!(c==null||p>=c.length||p<0)){var j=_b(a,"axis","hover",String(p));t.dispatch(VS({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:j}))}}}}});vA.startListening({actionCreator:i9,effect:(s,t)=>{var a=t.getState(),r=a.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:n}=a.tooltip;if(!n.active&&n.index==null){var i="0",l=_b(a,"axis","hover",String(i));t.dispatch(VS({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var di=ji("externalEvent"),l9=wg();l9.startListening({actionCreator:di,effect:(s,t)=>{if(s.payload.handler!=null){var a=t.getState(),r={activeCoordinate:Toe(a),activeDataKey:H7(a),activeIndex:wd(a),activeLabel:z7(a),activeTooltipIndex:wd(a),isTooltipActive:Moe(a)};s.payload.handler(r,s.payload.reactEvent)}}});var iye=Pe([jx],s=>s.tooltipItemPayloads),lye=Pe([iye,Ig,(s,t,a)=>t,(s,t,a)=>a],(s,t,a,r)=>{var n=s.find(c=>c.settings.dataKey===r);if(n!=null){var{positions:i}=n;if(i!=null){var l=t(i,a);return l}}}),c9=ji("touchMove"),o9=wg();o9.startListening({actionCreator:c9,effect:(s,t)=>{var a=s.payload,r=t.getState(),n=zE(r,r.tooltip.settings.shared);if(n==="axis"){var i=yA(r,jA({clientX:a.touches[0].clientX,clientY:a.touches[0].clientY,currentTarget:a.currentTarget}));i?.activeIndex!=null&&t.dispatch(M7({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(n==="item"){var l,c=a.touches[0],o=document.elementFromPoint(c.clientX,c.clientY);if(!o||!o.getAttribute)return;var u=o.getAttribute(EF),d=(l=o.getAttribute(AF))!==null&&l!==void 0?l:void 0,f=lye(t.getState(),u,d);t.dispatch(A7({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var cye=ZL({brush:Cfe,cartesianAxis:yge,chartData:ide,errorBars:Mxe,graphicalItems:xme,layout:tae,legend:Bae,options:tde,polarAxis:oue,polarOptions:nye,referenceElements:Rfe,rootProps:sye,tooltip:Kce}),oye=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return _se({reducer:cye,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([t9.middleware,s9.middleware,vA.middleware,l9.middleware,o9.middleware]),devTools:{serialize:{replacer:tye},name:"recharts-".concat(a)}})};function d9(s){var{preloadedState:t,children:a,reduxStoreName:r}=s,n=dr(),i=x.useRef(null);if(n)return a;i.current==null&&(i.current=oye(t,r));var l=FC;return x.createElement(Jge,{context:l,store:i.current},a)}function h9(s){var{layout:t,width:a,height:r,margin:n}=s,i=ya(),l=dr();return x.useEffect(()=>{l||(i(Zse(t)),i(Jse({width:a,height:r})),i(Xse(n)))},[i,l,t,a,r,n]),null}function u9(s){var t=ya();return x.useEffect(()=>{t(aye(s))},[t,s]),null}var dye=["children"];function hye(s,t){if(s==null)return{};var a,r,n=uye(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function uye(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}function Pb(){return Pb=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},Pb.apply(null,arguments)}var mye={width:"100%",height:"100%"},xye=x.forwardRef((s,t)=>{var a=DF(),r=OF(),n=IF();if(!Pm(a)||!Pm(r))return null;var{children:i,otherAttributes:l,title:c,desc:o}=s,u,d;return typeof l.tabIndex=="number"?u=l.tabIndex:u=n?0:void 0,typeof l.role=="string"?d=l.role:d=n?"application":void 0,x.createElement(wL,Pb({},l,{title:c,desc:o,role:d,tabIndex:u,width:a,height:r,style:mye,ref:t}),i)}),fye=s=>{var{children:t}=s,a=jt(FN);if(!a)return null;var{width:r,height:n,y:i,x:l}=a;return x.createElement(wL,{width:r,height:n,x:l,y:i},t)},E5=x.forwardRef((s,t)=>{var{children:a}=s,r=hye(s,dye),n=dr();return n?x.createElement(fye,null,a):x.createElement(xye,Pb({ref:t},r),a)});function pye(){var s=ya(),[t,a]=x.useState(null),r=jt(Aae);return x.useEffect(()=>{if(t!=null){var n=t.getBoundingClientRect(),i=n.width/t.offsetWidth;kr(i)&&i!==r&&s(eae(i))}},[t,s,r]),a}function A5(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function gye(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?A5(Object(a),!0).forEach(function(r){yye(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):A5(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function yye(s,t,a){return(t=jye(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function jye(s){var t=vye(s,"string");return typeof t=="symbol"?t:t+""}function vye(s,t){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}var bye=x.forwardRef((s,t)=>{var{children:a,className:r,height:n,onClick:i,onContextMenu:l,onDoubleClick:c,onMouseDown:o,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:p,onTouchEnd:j,onTouchMove:y,onTouchStart:k,style:v,width:S}=s,C=ya(),[_,A]=x.useState(null),[D,M]=x.useState(null);ode();var L=pye(),F=x.useCallback(Z=>{L(Z),typeof t=="function"&&t(Z),A(Z),M(Z)},[L,t,A,M]),Q=x.useCallback(Z=>{C(e9(Z)),C(di({handler:i,reactEvent:Z}))},[C,i]),I=x.useCallback(Z=>{C(s_(Z)),C(di({handler:u,reactEvent:Z}))},[C,u]),H=x.useCallback(Z=>{C(T7()),C(di({handler:d,reactEvent:Z}))},[C,d]),z=x.useCallback(Z=>{C(s_(Z)),C(di({handler:f,reactEvent:Z}))},[C,f]),K=x.useCallback(()=>{C(i9())},[C]),U=x.useCallback(Z=>{C(n9(Z.key))},[C]),V=x.useCallback(Z=>{C(di({handler:l,reactEvent:Z}))},[C,l]),P=x.useCallback(Z=>{C(di({handler:c,reactEvent:Z}))},[C,c]),q=x.useCallback(Z=>{C(di({handler:o,reactEvent:Z}))},[C,o]),G=x.useCallback(Z=>{C(di({handler:p,reactEvent:Z}))},[C,p]),se=x.useCallback(Z=>{C(di({handler:k,reactEvent:Z}))},[C,k]),O=x.useCallback(Z=>{C(c9(Z)),C(di({handler:y,reactEvent:Z}))},[C,y]),W=x.useCallback(Z=>{C(di({handler:j,reactEvent:Z}))},[C,j]);return x.createElement(K7.Provider,{value:_},x.createElement(wee.Provider,{value:D},x.createElement("div",{className:Kt("recharts-wrapper",r),style:gye({position:"relative",cursor:"default",width:S,height:n},v),onClick:Q,onContextMenu:V,onDoubleClick:P,onFocus:K,onKeyDown:U,onMouseDown:q,onMouseEnter:I,onMouseLeave:H,onMouseMove:z,onMouseUp:G,onTouchEnd:W,onTouchMove:O,onTouchStart:se,ref:F},a)))}),Nye=["children","className","width","height","style","compact","title","desc"];function wye(s,t){if(s==null)return{};var a,r,n=kye(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function kye(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var m9=x.forwardRef((s,t)=>{var{children:a,className:r,width:n,height:i,style:l,compact:c,title:o,desc:u}=s,d=wye(s,Nye),f=Ya(d);return c?x.createElement(E5,{otherAttributes:f,title:o,desc:u},a):x.createElement(bye,{className:r,style:l,width:n,height:i,onClick:s.onClick,onMouseLeave:s.onMouseLeave,onMouseEnter:s.onMouseEnter,onMouseMove:s.onMouseMove,onMouseDown:s.onMouseDown,onMouseUp:s.onMouseUp,onContextMenu:s.onContextMenu,onDoubleClick:s.onDoubleClick,onTouchStart:s.onTouchStart,onTouchMove:s.onTouchMove,onTouchEnd:s.onTouchEnd},x.createElement(E5,{otherAttributes:f,title:o,desc:u,ref:t},x.createElement(Pfe,null,a)))}),Sye=["width","height"];function a_(){return a_=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},a_.apply(null,arguments)}function _ye(s,t){if(s==null)return{};var a,r,n=Cye(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function Cye(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var Eye={top:5,right:5,bottom:5,left:5},Aye={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Eye,reverseStackOrder:!1,syncMethod:"index"},bA=x.forwardRef(function(t,a){var r,n=Gr(t.categoricalChartProps,Aye),{width:i,height:l}=n,c=_ye(n,Sye);if(!Pm(i)||!Pm(l))return null;var{chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:p}=t,j={chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return x.createElement(d9,{preloadedState:{options:j},reduxStoreName:(r=p.id)!==null&&r!==void 0?r:o},x.createElement(DH,{chartData:p.data}),x.createElement(h9,{width:i,height:l,layout:n.layout,margin:n.margin}),x.createElement(u9,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),x.createElement(m9,a_({},c,{width:i,height:l,ref:a})))}),Tye=["axis"],Kg=x.forwardRef((s,t)=>x.createElement(bA,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Tye,tooltipPayloadSearcher:Lg,categoricalChartProps:s,ref:t})),Mye=["axis","item"],d1=x.forwardRef((s,t)=>x.createElement(bA,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Mye,tooltipPayloadSearcher:Lg,categoricalChartProps:s,ref:t}));function Dye(s){var t=ya();return x.useEffect(()=>{t(rye(s))},[t,s]),null}var Oye=["width","height","layout"];function r_(){return r_=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},r_.apply(null,arguments)}function Rye(s,t){if(s==null)return{};var a,r,n=$ye(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function $ye(s,t){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var Pye={top:5,right:5,bottom:5,left:5},Iye={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Pye,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},x9=x.forwardRef(function(t,a){var r,n=Gr(t.categoricalChartProps,Iye),{width:i,height:l,layout:c}=n,o=Rye(n,Oye);if(!Pm(i)||!Pm(l))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:p}=t,j={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,eventEmitter:void 0};return x.createElement(d9,{preloadedState:{options:j},reduxStoreName:(r=n.id)!==null&&r!==void 0?r:u},x.createElement(DH,{chartData:n.data}),x.createElement(h9,{width:i,height:l,layout:c,margin:n.margin}),x.createElement(u9,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),x.createElement(Dye,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),x.createElement(m9,r_({width:i,height:l},o,{ref:a})))}),Bye=["item"],Lye={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},qm=x.forwardRef((s,t)=>{var a=Gr(s,Lye);return x.createElement(x9,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Bye,tooltipPayloadSearcher:Lg,categoricalChartProps:a,ref:t})}),Fye=["axis"],zye={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},f9=x.forwardRef((s,t)=>{var a=Gr(s,zye);return x.createElement(x9,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Fye,tooltipPayloadSearcher:Lg,categoricalChartProps:a,ref:t})}),Hye=["axis"],qp=x.forwardRef((s,t)=>x.createElement(bA,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Hye,tooltipPayloadSearcher:Lg,categoricalChartProps:s,ref:t}));function Uye({user:s}){const{logout:t}=Aa(),a=Ut(),[r,n]=x.useState("light");x.useEffect(()=>{const d=document.documentElement.getAttribute("data-theme")||"light";n(d);const f=new MutationObserver(()=>{const p=document.documentElement.getAttribute("data-theme")||"light";n(p)});return f.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>f.disconnect()},[]);const i=()=>{const d=document.documentElement,f=d.getAttribute("data-theme")==="dark"?"light":"dark";d.setAttribute("data-theme",f),localStorage.setItem("theme",f),n(f)},l=()=>{t(),a("/")},c=d=>d?d.split(" ").map(f=>f[0]).join("").toUpperCase().slice(0,2):"U",o=(d,f=15)=>d.length>f?d.slice(0,f-3)+"...":d;x.useEffect(()=>{We.replace()},[r]);const u=({size:d=32,showBorder:f=!0})=>e.jsxs("div",{className:"user-avatar",style:{position:"relative"},children:[s?.profil_url?e.jsx("img",{src:s.profil_url,alt:s.name||"Utilisateur",style:{width:`${d}px`,height:`${d}px`,borderRadius:"50%",objectFit:"cover",border:f?"2px solid rgba(255, 255, 255, 0.3)":"none"},onError:p=>{p.target.style.display="none",p.target.nextElementSibling.style.display="flex"}}):null,e.jsx("div",{style:{display:s?.profil_url?"none":"flex",alignItems:"center",justifyContent:"center",width:`${d}px`,height:`${d}px`,fontSize:d>40?"1.1rem":"0.75rem",fontWeight:"600",backgroundColor:r==="dark"?"#495057":"#6c757d",color:"white",borderRadius:"50%"},children:c(s?.name)})]});return e.jsxs(xi,{className:"waiting-area-navbar fixed-top",expand:!1,children:[e.jsxs("div",{className:"waiting-area-navbar-left",children:[e.jsxs("div",{className:"logo-container",children:[e.jsx("div",{className:"logo",children:e.jsx("span",{children:"WS"})}),e.jsx(xi.Brand,{className:"navbar-brand mb-0",children:"Woop Service"})]}),e.jsxs("div",{className:"waiting-status-badge",children:[e.jsx("i",{"data-feather":"clock",style:{width:"16px",height:"16px"}}),e.jsx("span",{children:"En attente d'approbation"})]})]}),e.jsxs("div",{className:"waiting-area-navbar-right",children:[e.jsx($,{variant:"link",onClick:i,className:"theme-toggle me-3",title:`Passer au thème ${r==="dark"?"clair":"sombre"}`,children:e.jsx("i",{"data-feather":r==="dark"?"sun":"moon"})}),e.jsxs(at,{align:"end",className:"user-dropdown",onToggle:d=>{d&&setTimeout(()=>We.replace(),0)},children:[e.jsxs(at.Toggle,{variant:"primary",id:"dropdown-user",className:"dropdown-toggle",children:[e.jsx(u,{size:32,showBorder:!0}),e.jsx("span",{className:"user-name d-none d-sm-inline",children:o(s?.name||"Utilisateur")}),e.jsx("i",{"data-feather":"chevron-down",style:{width:"16px",height:"16px"}})]}),e.jsxs(at.Menu,{className:`dropdown-menu ${r==="dark"?"bg-dark border-secondary":""}`,children:[e.jsxs("div",{className:"px-3 py-2 border-bottom d-flex align-items-center",children:[e.jsx("div",{className:"me-3",children:e.jsx(u,{size:48,showBorder:!1})}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("div",{className:"fw-semibold",children:s?.name||"Utilisateur"}),e.jsx("div",{className:"text-muted small",children:s?.email||"etudiant@woopservice.com"}),e.jsxs("div",{className:"text-warning small d-flex align-items-center",children:[e.jsx("i",{"data-feather":"clock",style:{width:"12px",height:"12px"},className:"me-1"}),"En attente"]})]})]}),e.jsxs(at.Item,{as:xe,to:"/etudiant-espace-attente/view/profil",className:`dropdown-item ${r==="dark"?"text-light":""}`,children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Mon Profil"]}),e.jsxs(at.Item,{className:"dropdown-item d-flex align-items-center justify-content-between",style:{cursor:"default"},children:[e.jsxs("span",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"16px",height:"16px"}}),"Statut du compte"]}),e.jsx("span",{className:"badge bg-warning text-dark",children:"Pending"})]}),e.jsx(at.Divider,{className:r==="dark"?"border-secondary":""}),e.jsxs(at.Item,{onClick:l,className:"dropdown-item text-danger",children:[e.jsx("i",{"data-feather":"log-out",className:"me-2",style:{width:"16px",height:"16px"}}),"Déconnexion"]})]})]})]})]})}function Lh({children:s}){const t=Wa(),{user:a}=Aa(),[r,n]=x.useState("light");return x.useEffect(()=>{We.replace()},[t.pathname,r]),x.useEffect(()=>{const i=localStorage.getItem("theme")||"light";document.documentElement.setAttribute("data-theme",i),document.documentElement.setAttribute("data-bs-theme",i),n(i)},[]),x.useEffect(()=>{const i=new MutationObserver(()=>{const l=document.documentElement.getAttribute("data-theme")||"light";n(l),document.documentElement.setAttribute("data-bs-theme",l)});return i.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>i.disconnect()},[]),e.jsxs("div",{className:"d-flex flex-column min-vh-100",children:[e.jsx(Uye,{user:a}),e.jsx("div",{className:"flex-grow-1 waiting-area-content",children:e.jsx("main",{className:"container-fluid",children:e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"waiting-area-main-content",children:s})})})})})]})}function qye(){const[s,t]=x.useState(!0),[a,r]=x.useState("light"),[n,i]=x.useState({}),[l,c]=x.useState({}),[o,u]=x.useState({}),[d,f]=x.useState({}),[p,j]=x.useState({}),[y,k]=x.useState({}),[v,S]=x.useState([]),[C,_]=x.useState({}),[A,D]=x.useState({}),[M,L]=x.useState({}),[F,Q]=x.useState("status"),[I,H]=x.useState(!1),[z,K]=x.useState(!1),[U,V]=x.useState(""),[P,q]=x.useState("success");x.useEffect(()=>{const Z=document.documentElement.getAttribute("data-theme")||"light";r(Z);const te=new MutationObserver(()=>{const ie=document.documentElement.getAttribute("data-theme")||"light";r(ie)});return te.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>te.disconnect()},[]);const G=(Z,te="success")=>{V(Z),q(te),K(!0)},se=x.useCallback(async()=>{try{t(!0);const Z=await he.get("/etudiant/pending/dashboard");Z.data.status==="success"?(i(Z.data.user),c(Z.data.classroom),u(Z.data.student_info),f(Z.data.platform_overview),j(Z.data.classroom_preview),k(Z.data.platform_stats),S(Z.data.available_features),_(Z.data.user_guide),D(Z.data.waiting_time_estimate),L(Z.data.chart_data)):G(Z.data.message||"Erreur lors du chargement","danger")}catch(Z){console.error("Erreur dashboard:",Z),G("Erreur lors du chargement des données","danger")}finally{t(!1)}},[]);x.useEffect(()=>{se()},[se]),x.useEffect(()=>{We.replace()},[o,y,v]);const O={primary:"#007bff",success:"#28a745",info:"#17a2b8"},W=({active:Z,payload:te,label:ie})=>Z&&te&&te.length?e.jsxs("div",{className:`p-3 rounded shadow border ${a==="dark"?"bg-dark text-light border-secondary":"bg-white"}`,children:[e.jsx("p",{className:"mb-1 fw-bold",children:ie}),te.map((fe,J)=>e.jsx("p",{className:"mb-1",style:{color:fe.color},children:`${fe.name}: ${fe.value}${fe.name.includes("score")||fe.name.includes("moyenne")?"%":""}`},J))]}):null;return s?e.jsx(Lh,{children:e.jsx("div",{className:`min-vh-100 ${a==="dark"?"bg-dark":"bg-light"}`,children:e.jsx(yt,{className:"py-5",children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement de votre espace d'attente..."})]})})})}):e.jsx(Lh,{children:e.jsx("div",{className:`min-vh-100 ${a==="dark"?"bg-dark":"bg-light"}`,children:e.jsxs(yt,{className:"py-4",children:[e.jsx("div",{className:"mb-4",children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"p-4",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:`me-4 p-3 rounded-circle ${a==="dark"?"bg-warning bg-opacity-25":"bg-warning bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"clock",className:"text-warning",style:{width:"32px",height:"32px"}})}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsxs("h2",{className:`mb-1 ${a==="dark"?"text-light":"text-dark"}`,children:["Bienvenue, ",o.name,"!"]}),e.jsxs("p",{className:`mb-2 ${a==="dark"?"text-light":"text-muted"}`,children:["Votre compte est en cours d'approbation • ",l.name]}),e.jsxs(oe,{bg:"warning",className:"px-3 py-2",children:[e.jsx("i",{"data-feather":"clock",className:"me-2",style:{width:"14px",height:"14px"}}),"En attente d'approbation"]})]}),e.jsx("div",{className:"text-end",children:e.jsx($,{variant:"outline-primary",onClick:se,title:"Actualiser",size:"sm",children:e.jsx("i",{"data-feather":"refresh-cw",style:{width:"16px",height:"16px"}})})})]})})})}),e.jsx(w,{className:`border-0 shadow-sm mb-4 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs(w.Body,{className:"p-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("h5",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"trending-up",className:"me-2",style:{width:"20px",height:"20px"}}),"Progression de votre approbation"]}),e.jsxs(oe,{bg:"info",className:"px-3 py-2",children:[o.progress_percentage,"% complété"]})]}),e.jsx(Zt,{now:o.progress_percentage,variant:"info",style:{height:"12px"},className:"mb-3"}),e.jsxs("div",{className:"d-flex justify-content-between small text-muted",children:[e.jsx("span",{children:"Inscription soumise"}),e.jsx("span",{children:"Approbation finale"})]})]})}),e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{"data-feather":"list",className:"me-2",style:{width:"20px",height:"20px"}}),"Étapes du processus d'approbation"]})}),e.jsx(w.Body,{children:o.approval_steps&&o.approval_steps.map((Z,te)=>e.jsxs("div",{className:`d-flex align-items-center mb-3 ${te<o.approval_steps.length-1?"pb-3 border-bottom":""}`,children:[e.jsx("div",{className:`me-3 rounded-circle d-flex align-items-center justify-content-center ${Z.completed?"bg-success text-white":Z.step===o.current_step?"bg-warning text-white":"bg-light text-muted"}`,style:{width:"40px",height:"40px"},children:Z.completed?e.jsx("i",{"data-feather":"check",style:{width:"20px",height:"20px"}}):Z.step===o.current_step?e.jsx("i",{"data-feather":"clock",style:{width:"20px",height:"20px"}}):e.jsx("span",{className:"fw-bold",children:Z.step})}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("h6",{className:`mb-1 ${a==="dark"?"text-light":"text-dark"}`,children:Z.title}),e.jsx("p",{className:"text-muted mb-0",children:Z.description}),Z.date&&e.jsxs("small",{className:"text-success",children:[e.jsx("i",{"data-feather":"check-circle",className:"me-1",style:{width:"12px",height:"12px"}}),"Complété le ",new Date(Z.date).toLocaleDateString("fr-FR")]})]})]},Z.step))})]}),A.estimated_days_remaining&&e.jsx(lt,{variant:"info",className:"mb-4",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"info",className:"me-3",style:{width:"24px",height:"24px"}}),e.jsxs("div",{children:[e.jsx("h6",{className:"mb-2",children:"Temps d'attente estimé"}),e.jsxs("p",{className:"mb-1",children:[e.jsxs("strong",{children:[A.estimated_days_remaining," jour",A.estimated_days_remaining>1?"s":""]})," restant",A.estimated_days_remaining>1?"s":""," avant l'approbation"]}),e.jsxs("small",{className:"text-muted",children:["Position dans la file d'attente: #",A.current_queue_position," • Confiance: ",A.confidence_level,"%"]})]})]})}),e.jsxs(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs(Fi,{activeKey:F,onSelect:Z=>Q(Z),className:"border-0",children:[e.jsx(xs,{eventKey:"status",title:e.jsxs("span",{children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"16px",height:"16px"}}),"Mon Statut"]})}),e.jsx(xs,{eventKey:"platform",title:e.jsxs("span",{children:[e.jsx("i",{"data-feather":"monitor",className:"me-2",style:{width:"16px",height:"16px"}}),"La Plateforme"]})}),e.jsx(xs,{eventKey:"classroom",title:e.jsxs("span",{children:[e.jsx("i",{"data-feather":"users",className:"me-2",style:{width:"16px",height:"16px"}}),"Ma Classe"]})}),e.jsx(xs,{eventKey:"features",title:e.jsxs("span",{children:[e.jsx("i",{"data-feather":"star",className:"me-2",style:{width:"16px",height:"16px"}}),"Fonctionnalités"]})})]})}),e.jsxs(w.Body,{className:a==="dark"?"bg-dark":"bg-white",children:[F==="status"&&e.jsxs(pe,{children:[e.jsxs(T,{lg:8,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsx("h6",{className:"mb-0",children:"Informations de votre compte"})}),e.jsx(w.Body,{children:e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:6,children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Matricule:"}),e.jsx("span",{className:`fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:o.matricule})]})}),e.jsx(T,{md:6,children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Email:"}),e.jsx("span",{className:a==="dark"?"text-light":"text-dark",children:o.email})]})}),e.jsx(T,{md:6,children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Classe assignée:"}),e.jsx("span",{className:`fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:o.classroom_name})]})}),e.jsx(T,{md:6,children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Date d'inscription:"}),e.jsx("span",{className:a==="dark"?"text-light":"text-dark",children:new Date(o.registration_date).toLocaleDateString("fr-FR")})]})})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsx("h6",{className:"mb-0",children:"Facteurs influençant le délai"})}),e.jsx(w.Body,{children:A.factors_affecting_delay&&A.factors_affecting_delay.map((Z,te)=>e.jsxs("div",{className:`d-flex justify-content-between align-items-center mb-2 ${te<A.factors_affecting_delay.length-1?"pb-2 border-bottom":""}`,children:[e.jsxs("div",{children:[e.jsx("div",{className:`fw-medium ${a==="dark"?"text-light":"text-dark"}`,children:Z.factor}),e.jsx("small",{className:"text-muted",children:Z.description})]}),e.jsx(oe,{bg:Z.impact==="Élevée"?"danger":Z.impact==="Modérée"?"warning":"success",children:Z.impact})]},te))})]})]}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsx("h6",{className:"mb-0",children:"Progression visuelle"})}),e.jsxs(w.Body,{children:[M.classroom_capacity&&e.jsx(Sa,{width:"100%",height:200,children:e.jsxs(qm,{children:[e.jsx(Kh,{data:M.classroom_capacity,cx:"50%",cy:"50%",outerRadius:60,dataKey:"value",children:M.classroom_capacity.map((Z,te)=>e.jsx(Yc,{fill:Z.color},`cell-${te}`))}),e.jsx(Da,{content:e.jsx(W,{})})]})}),e.jsx("div",{className:"mt-3",children:M.classroom_capacity&&M.classroom_capacity.map((Z,te)=>e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("div",{className:"rounded me-2",style:{width:"12px",height:"12px",backgroundColor:Z.color}}),e.jsxs("small",{className:a==="dark"?"text-light":"text-dark",children:[Z.name,": ",Z.value]})]},te))})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsx("h6",{className:"mb-0",children:"Actions recommandées"})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"outline-info",onClick:()=>H(!0),size:"sm",children:[e.jsx("i",{"data-feather":"book-open",className:"me-2",style:{width:"14px",height:"14px"}}),"Consulter le guide"]}),e.jsxs($,{variant:"outline-secondary",onClick:se,size:"sm",children:[e.jsx("i",{"data-feather":"refresh-cw",className:"me-2",style:{width:"14px",height:"14px"}}),"Vérifier le statut"]})]}),e.jsx("div",{className:"mt-3 p-3 rounded bg-info bg-opacity-10",children:e.jsxs("small",{className:a==="dark"?"text-light":"text-dark",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"12px",height:"12px"}}),"Vous recevrez un email dès que votre compte sera approuvé."]})})]})]})]})]}),F==="platform"&&e.jsxs(pe,{children:[e.jsxs(T,{lg:8,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsx("h6",{className:"mb-0",children:"Présentation de la plateforme"})}),e.jsxs(w.Body,{children:[e.jsxs("h5",{className:`mb-3 ${a==="dark"?"text-light":"text-dark"}`,children:[d.name," v",d.version]}),e.jsx("p",{className:a==="dark"?"text-light":"text-dark",children:d.description}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{className:a==="dark"?"text-light":"text-dark",children:"Fonctionnalités principales:"}),e.jsx(pe,{className:"g-2",children:d.features&&d.features.map((Z,te)=>e.jsx(T,{md:6,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"check",className:"text-success me-2",style:{width:"16px",height:"16px"}}),e.jsx("small",{className:a==="dark"?"text-light":"text-dark",children:Z})]})},te))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{className:a==="dark"?"text-light":"text-dark",children:"Avantages pour vous:"}),e.jsx(pe,{className:"g-2",children:d.benefits&&d.benefits.map((Z,te)=>e.jsx(T,{md:6,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"star",className:"text-warning me-2",style:{width:"16px",height:"16px"}}),e.jsx("small",{className:a==="dark"?"text-light":"text-dark",children:Z})]})},te))})]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsx("h6",{className:"mb-0",children:"Activité de la plateforme (dernières semaines)"})}),e.jsx(w.Body,{children:M.weekly_platform_activity&&e.jsx(Sa,{width:"100%",height:300,children:e.jsxs(qp,{data:M.weekly_platform_activity,children:[e.jsx(sn,{strokeDasharray:"3 3",stroke:a==="dark"?"#495057":"#e9ecef"}),e.jsx(zr,{dataKey:"week",stroke:a==="dark"?"#ffffff":"#666666"}),e.jsx(Hr,{stroke:a==="dark"?"#ffffff":"#666666"}),e.jsx(Da,{content:e.jsx(W,{})}),e.jsx(Ic,{type:"monotone",dataKey:"cours_published",stackId:"1",stroke:O.primary,fill:O.primary,fillOpacity:.6,name:"Cours publiés"}),e.jsx(Ic,{type:"monotone",dataKey:"evaluations_completed",stackId:"1",stroke:O.success,fill:O.success,fillOpacity:.6,name:"Évaluations réalisées"}),e.jsx(Ic,{type:"monotone",dataKey:"students_active",stackId:"1",stroke:O.info,fill:O.info,fillOpacity:.6,name:"Étudiants actifs"})]})})})]})]}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsx("h6",{className:"mb-0",children:"Statistiques globales"})}),e.jsx(w.Body,{children:y.global_stats&&e.jsxs("div",{className:"d-grid gap-3",children:[e.jsxs("div",{className:"text-center p-3 rounded bg-primary bg-opacity-10",children:[e.jsx("h4",{className:"text-primary mb-0",children:y.global_stats.total_students?.toLocaleString()}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Étudiants inscrits"})]}),e.jsxs("div",{className:"text-center p-3 rounded bg-success bg-opacity-10",children:[e.jsx("h4",{className:"text-success mb-0",children:y.global_stats.total_teachers}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Formateurs actifs"})]}),e.jsxs("div",{className:"text-center p-3 rounded bg-info bg-opacity-10",children:[e.jsx("h4",{className:"text-info mb-0",children:y.global_stats.total_cours?.toLocaleString()}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Cours disponibles"})]}),e.jsxs("div",{className:"text-center p-3 rounded bg-warning bg-opacity-10",children:[e.jsx("h4",{className:"text-warning mb-0",children:y.global_stats.total_evaluations?.toLocaleString()}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Évaluations créées"})]})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsx("h6",{className:"mb-0",children:"Performances"})}),e.jsx(w.Body,{children:y.performance_stats&&e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("small",{className:"text-muted",children:"Taux de réussite moyen:"}),e.jsxs("small",{className:"text-success fw-bold",children:[y.performance_stats.average_success_rate,"%"]})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("small",{className:"text-muted",children:"Complétion des cours:"}),e.jsxs("small",{className:"text-info fw-bold",children:[y.performance_stats.course_completion_rate,"%"]})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("small",{className:"text-muted",children:"Satisfaction étudiants:"}),e.jsxs("small",{className:"text-warning fw-bold",children:[y.performance_stats.student_satisfaction,"/5"]})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("small",{className:"text-muted",children:"Disponibilité:"}),e.jsxs("small",{className:"text-success fw-bold",children:[y.performance_stats.platform_uptime,"%"]})]})]})})]})]})]}),F==="classroom"&&e.jsxs(pe,{children:[e.jsxs(T,{lg:8,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h6",{className:"mb-0",children:["Aperçu de votre classe: ",l.name]})}),e.jsxs(w.Body,{children:[e.jsxs(pe,{className:"g-3 mb-4",children:[e.jsx(T,{md:4,children:e.jsxs("div",{className:"text-center p-3 rounded bg-primary bg-opacity-10",children:[e.jsx("h4",{className:"text-primary mb-0",children:p.students_stats?.active_students}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Étudiants actifs"})]})}),e.jsx(T,{md:4,children:e.jsxs("div",{className:"text-center p-3 rounded bg-success bg-opacity-10",children:[e.jsx("h4",{className:"text-success mb-0",children:p.academic_content?.total_subjects}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Matières"})]})}),e.jsx(T,{md:4,children:e.jsxs("div",{className:"text-center p-3 rounded bg-info bg-opacity-10",children:[e.jsx("h4",{className:"text-info mb-0",children:p.academic_content?.total_cours}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Cours disponibles"})]})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{className:a==="dark"?"text-light":"text-dark",children:"Matières de votre classe:"}),e.jsx(pe,{className:"g-3",children:p.subjects_preview&&p.subjects_preview.map(Z=>e.jsx(T,{md:6,children:e.jsx(w,{className:`border ${a==="dark"?"bg-dark border-secondary":"bg-white"} h-100`,children:e.jsxs(w.Body,{className:"p-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[e.jsx("h6",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:Z.name}),e.jsxs(oe,{bg:"info",children:["Coef. ",Z.coefficient]})]}),e.jsxs("div",{className:"d-flex gap-3 text-center",children:[e.jsxs("div",{children:[e.jsx("small",{className:"text-muted d-block",children:"Cours"}),e.jsx("small",{className:`fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:Z.cours_count})]}),e.jsxs("div",{children:[e.jsx("small",{className:"text-muted d-block",children:"Éval."}),e.jsx("small",{className:`fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:Z.evaluations_count})]})]})]})})},Z.id))})]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsx("h6",{className:"mb-0",children:"Progression moyenne de la classe"})}),e.jsx(w.Body,{children:M.class_progression&&e.jsx(Sa,{width:"100%",height:300,children:e.jsxs(Kg,{data:M.class_progression,children:[e.jsx(sn,{strokeDasharray:"3 3",stroke:a==="dark"?"#495057":"#e9ecef"}),e.jsx(zr,{dataKey:"month",stroke:a==="dark"?"#ffffff":"#666666"}),e.jsx(Hr,{stroke:a==="dark"?"#ffffff":"#666666"}),e.jsx(Da,{content:e.jsx(W,{})}),e.jsx(bn,{type:"monotone",dataKey:"average",stroke:O.success,strokeWidth:3,name:"Moyenne de classe"}),e.jsx(bn,{type:"monotone",dataKey:"participation",stroke:O.info,strokeWidth:2,name:"Taux de participation"})]})})})]})]}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsx("h6",{className:"mb-0",children:"Répartition des matières"})}),e.jsxs(w.Body,{children:[M.subject_coefficients&&e.jsx(Sa,{width:"100%",height:200,children:e.jsxs(qm,{children:[e.jsx(Kh,{data:M.subject_coefficients,cx:"50%",cy:"50%",outerRadius:60,dataKey:"value",children:M.subject_coefficients.map((Z,te)=>e.jsx(Yc,{fill:Z.color},`cell-${te}`))}),e.jsx(Da,{content:e.jsx(W,{})})]})}),e.jsx("div",{className:"mt-3",children:M.subject_coefficients&&M.subject_coefficients.slice(0,5).map((Z,te)=>e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"rounded me-2",style:{width:"12px",height:"12px",backgroundColor:Z.color}}),e.jsx("small",{className:a==="dark"?"text-light":"text-dark",children:Z.name})]}),e.jsxs(oe,{bg:"secondary",className:"small",children:["Coef. ",Z.value]})]},te))})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsx("h6",{className:"mb-0",children:"Activité récente de la classe"})}),e.jsx(w.Body,{children:p.classroom_activity&&e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("small",{className:"text-muted",children:"Cours récents:"}),e.jsx("small",{className:"fw-bold text-success",children:p.classroom_activity.recent_cours_published})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("small",{className:"text-muted",children:"Évaluations à venir:"}),e.jsx("small",{className:"fw-bold text-info",children:p.classroom_activity.upcoming_evaluations})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("small",{className:"text-muted",children:"Discussions actives:"}),e.jsx("small",{className:"fw-bold text-primary",children:p.classroom_activity.active_discussions})]})]})})]})]})]}),F==="features"&&e.jsx(pe,{children:e.jsx(T,{lg:12,children:v.map((Z,te)=>e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h6",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":Z.icon,className:"me-2",style:{width:"20px",height:"20px"}}),Z.category]})}),e.jsx(w.Body,{children:e.jsx(pe,{className:"g-4",children:Z.features.map((ie,fe)=>e.jsx(T,{md:6,children:e.jsx(w,{className:`border h-100 ${a==="dark"?"bg-dark border-secondary":"bg-white"}`,children:e.jsxs(w.Body,{className:"p-3",children:[e.jsx("h6",{className:`mb-2 ${a==="dark"?"text-light":"text-dark"}`,children:ie.name}),e.jsx("p",{className:"text-muted mb-3 small",children:ie.description}),e.jsx("div",{className:"d-flex flex-wrap gap-1",children:ie.benefits.map((J,ge)=>e.jsx(oe,{bg:"outline-info",className:"small",children:J},ge))})]})})},fe))})})]},te))})})]})]}),e.jsxs(Y,{show:I,onHide:()=>H(!1),size:"lg",centered:!0,contentClassName:a==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:a==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsxs(Y.Title,{children:[e.jsx("i",{"data-feather":"book-open",className:"me-2",style:{width:"20px",height:"20px"}}),"Guide d'utilisation"]})}),e.jsxs(Y.Body,{className:a==="dark"?"bg-dark text-light":"",children:[e.jsxs(Fi,{defaultActiveKey:"getting-started",className:"mb-3",children:[e.jsx(xs,{eventKey:"getting-started",title:"Premiers pas",children:e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{className:a==="dark"?"text-light":"text-dark",children:"Étapes après approbation:"}),C.getting_started&&C.getting_started.map((Z,te)=>e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("div",{className:"bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:"30px",height:"30px",fontSize:"14px"},children:Z.step}),e.jsxs("div",{children:[e.jsx("h6",{className:`mb-1 ${a==="dark"?"text-light":"text-dark"}`,children:Z.title}),e.jsx("p",{className:"text-muted mb-1",children:Z.description}),e.jsxs("small",{className:"text-info",children:["Durée estimée: ",Z.duration]})]})]},te))]})}),e.jsx(xs,{eventKey:"best-practices",title:"Bonnes pratiques",children:e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{className:a==="dark"?"text-light":"text-dark",children:"Conseils pour bien utiliser la plateforme:"}),C.best_practices&&C.best_practices.map((Z,te)=>e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"check",className:"text-success me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsx("small",{className:a==="dark"?"text-light":"text-dark",children:Z})]},te))]})}),e.jsx(xs,{eventKey:"technical",title:"Prérequis techniques",children:e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{className:a==="dark"?"text-light":"text-dark",children:"Configuration minimale requise:"}),C.technical_requirements&&C.technical_requirements.map((Z,te)=>e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"monitor",className:"text-info me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsx("small",{className:a==="dark"?"text-light":"text-dark",children:Z})]},te))]})})]}),e.jsxs("div",{className:"p-3 rounded bg-info bg-opacity-10",children:[e.jsxs("h6",{className:"text-info mb-2",children:[e.jsx("i",{"data-feather":"help-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Besoin d'aide?"]}),e.jsx("p",{className:"mb-2 small",children:"Des ressources d'aide seront disponibles après l'activation de votre compte:"}),C.support_resources&&C.support_resources.map((Z,te)=>e.jsxs("div",{className:"mb-1",children:[e.jsx("i",{"data-feather":Z.type==="document"?"file-text":Z.type==="video"?"video":"message-circle",className:"me-2 text-muted",style:{width:"12px",height:"12px"}}),e.jsxs("small",{className:a==="dark"?"text-light":"text-dark",children:[e.jsx("strong",{children:Z.title})," - ",Z.description]})]},te))]})]}),e.jsx(Y.Footer,{className:a==="dark"?"bg-dark text-light border-secondary":"",children:e.jsx($,{variant:"primary",onClick:()=>H(!1),children:"Compris"})})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:z,onClose:()=>K(!1),delay:4e3,autohide:!0,bg:P==="success"?"success":"danger",className:a==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${P==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":P==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:a==="dark"?"bg-dark text-light":"",children:U})]})})]})})})}function Gye(){const{user:s}=Aa(),[t,a]=x.useState(null),[r,n]=x.useState(!0),[i,l]=x.useState(null);x.useEffect(()=>{(async()=>{try{n(!0);const d=await he.get("/me");a(d.data)}catch(d){l("Erreur lors du chargement du profil"),console.error("Erreur profil:",d)}finally{n(!1)}})()},[]),x.useEffect(()=>{We.replace()},[t]);const c=u=>u?new Date(u).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}):"Non renseigné",o=u=>({Masculin:"primary",Féminin:"info",Autre:"secondary"})[u]||"secondary";return r?e.jsx(Lh,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement du profil..."})]})}):i?e.jsx(Lh,{children:e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),i]})}):e.jsxs(Lh,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"h3 mb-1",children:"Mon Profil Personnel"}),e.jsx("p",{className:"text-muted mb-0",children:"Consultez et gérez vos informations professionnelles"})]}),e.jsxs($,{variant:"primary",size:"lg",as:xe,to:"/etudiant-espace-attente/edit/profil",className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"edit-2",className:"me-2",style:{width:"20px",height:"20px"}}),"Modifier le profil"]})]}),e.jsxs(pe,{children:[e.jsx(T,{lg:8,className:"mb-4",children:e.jsxs(w,{className:"border-0 shadow-sm",children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations professionnelles"]})}),e.jsxs(w.Body,{children:[e.jsxs(pe,{className:"align-items-center mb-4",children:[e.jsx(T,{md:3,className:"text-center",children:e.jsxs("div",{className:"position-relative d-inline-block",children:[t?.profil?e.jsx(Mt,{src:t.profil_url,alt:"Photo de profil",className:"rounded-circle",width:"120",height:"120",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-light d-flex align-items-center justify-content-center border",style:{width:"120px",height:"120px"},children:e.jsx("i",{"data-feather":"user-check",className:"text-muted",style:{width:"48px",height:"48px"}})}),e.jsx(oe,{bg:"success",className:"position-absolute bottom-0 end-0 rounded-circle p-2",style:{transform:"translate(25%, 25%)"},children:e.jsx("i",{"data-feather":"stethoscope",style:{width:"12px",height:"12px"}})})]})}),e.jsxs(T,{md:9,children:[e.jsx("h4",{className:"mb-2",children:t?.name||"Nom non renseigné"}),e.jsxs("p",{className:"text-muted mb-2",children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),t?.email||"Email non renseigné"]}),t?.phone&&e.jsxs("p",{className:"text-muted mb-2",children:[e.jsx("i",{"data-feather":"phone",className:"me-2",style:{width:"16px",height:"16px"}}),t.code_phone&&`${t.code_phone} `,t.phone]}),e.jsxs("div",{className:"d-flex align-items-center flex-wrap gap-2",children:[e.jsx(oe,{bg:"success",className:"me-2",children:"Conpte Vérifié"}),t?.gender&&e.jsx(oe,{bg:o(t.gender),children:t.gender})]})]})]}),e.jsx("hr",{className:"my-4"}),e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Nom complet :"}),e.jsx("span",{className:"fw-medium",children:t?.name||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Email :"}),e.jsx("span",{className:"fw-medium",children:t?.email||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Date de naissance :"}),e.jsx("span",{className:"fw-medium",children:c(t?.birthday)})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Genre :"}),e.jsx("span",{className:"fw-medium",children:t?.gender||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Indicatif pays :"}),e.jsx("span",{className:"fw-medium",children:t?.code_phone||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Téléphone :"}),e.jsx("span",{className:"fw-medium",children:t?.phone||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Membre depuis :"}),e.jsx("span",{className:"fw-medium",children:c(t?.created_at)})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Dernière mise à jour :"}),e.jsx("span",{className:"fw-medium",children:c(t?.updated_at)})]})})]})]})]})}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:"border-0 shadow-sm mb-4",children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"20px",height:"20px"}}),"Actions rapides"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"primary",as:xe,to:"/etudiant-espace-attente/edit/profil",className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"edit-2",className:"me-2",style:{width:"18px",height:"18px"}}),"Modifier le profil"]}),e.jsxs($,{variant:"outline-primary",as:xe,to:"/etudiant-espace-attente/profil/securite",className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"shield",className:"me-2",style:{width:"18px",height:"18px"}}),"Sécurité du compte"]}),e.jsxs($,{variant:"outline-info",as:xe,to:"/etudiant-espace-attente/dashboard",className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"grid",className:"me-2",style:{width:"18px",height:"18px"}}),"Retour au Dashboard"]})]})})]}),e.jsxs(w,{className:"border-0 shadow-sm mb-4",children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"20px",height:"20px"}}),"Activité professionnelle"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("div",{className:"text-primary mb-2",children:e.jsx("i",{"data-feather":"users",style:{width:"32px",height:"32px"}})}),e.jsx("h6",{className:"mb-0",children:"Evolution du compte"}),e.jsx("h4",{className:"text-primary mb-0",children:t?.profil&&t?.birthday&&t?.phone&&t?.gender?"100%":t?.name&&t?.email&&t?.gender?"85%":t?.name&&t?.email?"70%":"50%"}),e.jsx("small",{className:"text-muted",children:t?.profil&&t?.birthday&&t?.phone&&t?.gender?"Complété":t?.name&&t?.email&&t?.gender?"En cours de progression":(t?.name&&t?.email,"En attente")})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Profil complété :"}),e.jsx("span",{className:"fw-bold text-success",children:t?.profil&&t?.birthday&&t?.phone&&t?.gender?"100%":t?.name&&t?.email&&t?.gender?"85%":t?.name&&t?.email?"70%":"50%"})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Dernière connexion :"}),e.jsx("span",{children:c(t?.updated_at)})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Type de compte :"}),e.jsx(oe,{bg:"success",children:"Administrateur Systeme"})]})]})]})]}),e.jsxs(w,{className:"border-0 shadow-sm",children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"award",className:"me-2 text-success",style:{width:"20px",height:"20px"}}),"Informations professionnelles"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("i",{"data-feather":"check-circle",className:"text-success me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:"Compte vérifié"}),e.jsx("div",{className:"text-muted",children:"Identité confirmée"})]})]}),e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("i",{"data-feather":"clock",className:"text-info me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:"Disponibilité"}),e.jsx("div",{className:"text-muted",children:"Lun-Ven: 8h-18h"})]})]})]})})]})]})]})]})}function Vye(){const{user:s,updateUser:t}=Aa(),a=Ut(),[r,n]=x.useState(null),[i,l]=x.useState(!0),[c,o]=x.useState(!1),[u,d]=x.useState(null),[f,p]=x.useState(null),[j,y]=x.useState({}),[k,v]=x.useState(!1),[S,C]=x.useState({name:"",email:"",birthday:"",gender:"",code_phone:"",phone:"",profil:null}),[_,A]=x.useState({password:"",password_confirmation:""}),[D,M]=x.useState(null);x.useEffect(()=>{(async()=>{try{l(!0);const U=(await he.get("/me")).data;n(U),C({name:U.name||"",email:U.email||"",birthday:U.birthday||"",gender:U.gender||"",code_phone:U.code_phone||"",phone:U.phone||"",profil:null}),U.profil&&M(`${U.profil_url}`)}catch(K){d("Erreur lors du chargement du profil"),console.error("Erreur profil:",K)}finally{l(!1)}})()},[]),x.useEffect(()=>{We.replace()},[r]);const L=z=>{const{name:K,value:U}=z.target;C(V=>({...V,[K]:U})),j[K]&&y(V=>({...V,[K]:null}))},F=z=>{const{name:K,value:U}=z.target;A(V=>({...V,[K]:U}))},Q=z=>{const K=z.target.files[0];if(K){if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(K.type)){y(q=>({...q,profil:"Format de fichier non supporté. Utilisez JPG, PNG ou WEBP."}));return}if(K.size>2097152){y(q=>({...q,profil:"La taille du fichier ne doit pas dépasser 2MB."}));return}C(q=>({...q,profil:K}));const P=new FileReader;P.onload=q=>{M(q.target.result)},P.readAsDataURL(K),j.profil&&y(q=>({...q,profil:null}))}},I=async z=>{z.preventDefault();try{o(!0),d(null),p(null),y({});const K=new FormData;Object.keys(S).forEach(V=>{V==="profil"?S.profil instanceof File&&K.append("profil",S.profil):S[V]!==null&&S[V]!==""&&K.append(V,S[V])}),K.append("_method","PUT");const U=await he.post("/me/update",K,{headers:{"Content-Type":"multipart/form-data"}});U.data.status==="success"&&(p("Profil mis à jour avec succès !"),t&&t(U.data.data.user),setTimeout(()=>{a("/etudiant-espace-attente/view/profil")},2e3))}catch(K){K.response?.data?.errors?y(K.response.data.errors):d(K.response?.data?.message||"Erreur lors de la mise à jour du profil")}finally{o(!1)}},H=async z=>{if(z.preventDefault(),!_.password||!_.password_confirmation){d("Veuillez remplir tous les champs du mot de passe");return}if(_.password!==_.password_confirmation){d("Les mots de passe ne correspondent pas");return}try{o(!0),d(null),(await he.put("/me/update",_)).data.status==="success"&&(p("Mot de passe mis à jour avec succès !"),v(!1),A({password:"",password_confirmation:""}))}catch(K){K.response?.data?.errors?y(K.response.data.errors):d(K.response?.data?.message||"Erreur lors de la mise à jour du mot de passe")}finally{o(!1)}};return i?e.jsx(Lh,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement du profil..."})]})}):e.jsxs(Lh,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"h3 mb-1",children:"Modifier mon profil"}),e.jsx("p",{className:"text-muted mb-0",children:"Mettez à jour vos informations professionnelles"})]}),e.jsxs($,{variant:"outline-secondary",size:"lg",as:xe,to:"/etudiant/view/profil",className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2",style:{width:"20px",height:"20px"}}),"Retour au profil"]})]}),u&&e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),u]}),f&&e.jsxs(lt,{variant:"success",className:"mb-4",children:[e.jsx("i",{"data-feather":"check-circle",className:"me-2"}),f]}),e.jsx(b,{onSubmit:I,children:e.jsxs(pe,{children:[e.jsx(T,{lg:8,className:"mb-4",children:e.jsxs(w,{className:"border-0 shadow-sm",children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations professionnelles"]})}),e.jsxs(w.Body,{children:[e.jsx(pe,{className:"mb-4",children:e.jsxs(T,{md:3,className:"text-center",children:[e.jsxs("div",{className:"position-relative d-inline-block mb-3",children:[D?e.jsx(Mt,{src:D,alt:"Photo de profil",className:"rounded-circle",width:"120",height:"120",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-light d-flex align-items-center justify-content-center border",style:{width:"120px",height:"120px"},children:e.jsx("i",{"data-feather":"user-check",className:"text-muted",style:{width:"48px",height:"48px"}})}),e.jsx($,{variant:"primary",size:"sm",className:"position-absolute bottom-0 end-0 rounded-circle p-2",style:{transform:"translate(25%, 25%)"},onClick:()=>document.getElementById("profileImage").click(),children:e.jsx("i",{"data-feather":"camera",style:{width:"12px",height:"12px"}})})]}),e.jsx("input",{type:"file",id:"profileImage",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:Q,style:{display:"none"}}),e.jsx("p",{className:"small text-muted mb-0",children:"JPG, PNG, WEBP - Max 2MB"}),j.profil&&e.jsx("div",{className:"text-danger small mt-1",children:j.profil})]})}),e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Nom complet *"]}),e.jsx(b.Control,{type:"text",name:"name",value:S.name,onChange:L,placeholder:"Dr. Votre nom complet",isInvalid:!!j.name,required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.name?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Email professionnel *"]}),e.jsx(b.Control,{type:"email",name:"email",value:S.email,onChange:L,placeholder:"dr.nom@hopital.com",isInvalid:!!j.email,required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.email?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"calendar",className:"me-2",style:{width:"16px",height:"16px"}}),"Date de naissance"]}),e.jsx(b.Control,{type:"date",name:"birthday",value:S.birthday,onChange:L,max:new Date().toISOString().split("T")[0],isInvalid:!!j.birthday}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.birthday?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"16px",height:"16px"}}),"Genre"]}),e.jsxs(b.Select,{name:"gender",value:S.gender,onChange:L,isInvalid:!!j.gender,children:[e.jsx("option",{value:"",children:"Sélectionner..."}),e.jsx("option",{value:"Masculin",children:"Masculin"}),e.jsx("option",{value:"Féminin",children:"Féminin"}),e.jsx("option",{value:"Autre",children:"Autre"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.gender?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"flag",className:"me-2",style:{width:"16px",height:"16px"}}),"Indicatif pays"]}),e.jsxs(b.Select,{name:"code_phone",value:S.code_phone,onChange:L,isInvalid:!!j.code_phone,children:[e.jsx("option",{value:"",children:"Sélectionner..."}),e.jsx("option",{value:"+237",children:"+237"}),e.jsx("option",{value:"+33",children:"+33"}),e.jsx("option",{value:"+235",children:"+235"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.code_phone?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"phone",className:"me-2",style:{width:"16px",height:"16px"}}),"Numéro de téléphone"]}),e.jsx(b.Control,{type:"tel",name:"phone",value:S.phone,onChange:L,placeholder:"690123456",isInvalid:!!j.phone}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.phone?.[0]}),e.jsx(b.Text,{className:"text-muted",children:"Numéro pour les urgences et rendez-vous"})]})})]}),e.jsx("hr",{className:"my-4"}),e.jsx(pe,{children:e.jsx(T,{md:12,children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs($,{variant:"outline-warning",onClick:()=>v(!0),className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"lock",className:"me-2",style:{width:"16px",height:"16px"}}),"Changer le mot de passe"]}),e.jsxs("div",{children:[e.jsx($,{variant:"outline-secondary",as:xe,to:"/etudiant/view/profil",className:"me-2",disabled:c,children:"Annuler"}),e.jsx($,{variant:"primary",type:"submit",disabled:c,className:"d-flex align-items-center",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner-border spinner-border-sm me-2",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),"Mise à jour..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ss,{icon:"save",size:16,className:"me-2"}),"Enregistrer les Modifications"]})})]})]})})})]})]})}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:"border-0 shadow-sm mb-4",children:[e.jsx(w.Header,{className:"bg-white border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"help-circle",className:"me-2 text-info",style:{width:"20px",height:"20px"}}),"Conseils professionnels"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"user-check",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Utilisez votre nom complet tel qu'il apparaît sur votre acte de naissance"})]}),e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"mail",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Utilisez un email professionnel pour recevoir les notifications"})]}),e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{"data-feather":"phone",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Votre numéro sera utilisé pour les urgences et confirmations"})]})]})})]}),e.jsxs(w,{className:"border-0 shadow-sm mb-4",children:[e.jsx(w.Header,{className:"bg-white border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"shield",className:"me-2 text-success",style:{width:"20px",height:"20px"}}),"Sécurité du compte"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Mot de passe"}),e.jsx($,{variant:"outline-primary",size:"sm",onClick:()=>v(!0),children:"Modifier"})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Email vérifié"}),e.jsx("i",{"data-feather":"check-circle",className:"text-success",style:{width:"16px",height:"16px"}})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Compte Administrateur systeme"}),e.jsx("i",{"data-feather":"user-check",className:"text-success",style:{width:"16px",height:"16px"}})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsx("span",{className:"small",children:"Profil sécurisé"}),e.jsx("i",{"data-feather":"shield",className:"text-success",style:{width:"16px",height:"16px"}})]})]})]}),e.jsxs(w,{className:"border-0 shadow-sm border-warning",children:[e.jsx(w.Header,{className:"bg-warning bg-opacity-10 border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center text-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"20px",height:"20px"}}),"Important"]})}),e.jsxs(w.Body,{children:[e.jsxs("p",{className:"small mb-2",children:[e.jsx("strong",{children:"Champs obligatoires :"})," Nom et email sont requis pour votre profil."]}),e.jsxs("p",{className:"small mb-2",children:[e.jsx("strong",{children:"Photo de profil :"})," Une photo professionnelle inspire confiance aux patients."]}),e.jsxs("p",{className:"small mb-0",children:[e.jsx("strong",{children:"Validation :"})," Vos informations peuvent être vérifiées par l'administration."]})]})]})]})]})}),e.jsxs(Y,{show:k,onHide:()=>v(!1),centered:!0,children:[e.jsx(Y.Header,{closeButton:!0,children:e.jsxs(Y.Title,{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"lock",className:"me-2",style:{width:"20px",height:"20px"}}),"Changer le mot de passe"]})}),e.jsxs(b,{onSubmit:H,children:[e.jsxs(Y.Body,{children:[e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Nouveau mot de passe"}),e.jsxs(bd,{children:[e.jsx(b.Control,{type:"password",name:"password",value:_.password,onChange:F,placeholder:"Entrez votre nouveau mot de passe",isInvalid:!!j.password,required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.password?.[0]})]}),e.jsx(b.Text,{className:"text-muted",children:"Minimum 8 caractères avec majuscules, minuscules et chiffres"})]}),e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Confirmer le mot de passe"}),e.jsx(b.Control,{type:"password",name:"password_confirmation",value:_.password_confirmation,onChange:F,placeholder:"Confirmez votre nouveau mot de passe",required:!0})]})]}),e.jsxs(Y.Footer,{children:[e.jsx($,{variant:"secondary",onClick:()=>v(!1),disabled:c,children:"Annuler"}),e.jsx($,{variant:"primary",type:"submit",disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx(tt,{animation:"border",size:"sm",className:"me-2"}),"Mise à jour..."]}):"Mettre à jour"})]})]})]})]})}function Wye({user:s,collapsed:t}){const a=Wa(),[r,n]=x.useState("light"),[i,l]=x.useState(0);x.useEffect(()=>{const u=document.documentElement.getAttribute("data-theme")||"light";n(u);const d=new MutationObserver(()=>{const f=document.documentElement.getAttribute("data-theme")||"light";n(f)});return d.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>d.disconnect()},[]);const c=async()=>{try{const u=await he.get("/etudiant/chat/unread-count");l(u.data.unread_messages_count||0)}catch(u){console.error("Erreur lors de la récupération du compteur de messages",u)}};x.useEffect(()=>{c();const u=setInterval(()=>{c()},3e4);return()=>clearInterval(u)},[]),x.useEffect(()=>{a.pathname==="/etudiant/view/tchat"&&setTimeout(()=>{c()},1e3)},[a.pathname]);const o=[{title:"Tableau de bord",items:[{label:"Dashboard",icon:"home",path:"/etudiant/dashboard"},{label:"Statistiques",icon:"bar-chart-2",path:"/etudiant/statistics"}]},{title:"Gestion du contenu",items:[{label:"Matières",icon:"book",path:"/etudiant/view/my-matieres"},{label:"Cours",icon:"play-circle",path:"/etudiant/view/my-cours"}]},{title:"Planification et suivi des évaluations",items:[{label:"Calendrier",icon:"calendar",path:"/etudiant/view/calendar"},{label:"Évaluations",icon:"file-text",path:"/etudiant/view/evaluations/my-classroom"},{label:"Resultats",icon:"bar-chart-2",path:"/etudiant/view/my-resultats-evaluations"}]},{title:"Communication",items:[{label:"Tchat",icon:"message-circle",path:"/etudiant/view/tchat",badge:i>0?i.toString():null,badgeColor:i>0?"bg-primary text-white":null}]}];return e.jsxs("aside",{className:`sidebar ${t?"collapsed":""}  ${r==="dark"?"bg-dark text-light":"bg-white text-dark"}`,children:[e.jsx("div",{className:"sidebar-header",children:e.jsxs("div",{className:"sidebar-logo",children:[e.jsx("div",{className:"sidebar-logo-icon",children:e.jsx("span",{children:"WS"})}),e.jsxs("div",{className:"sidebar-logo-text",children:[e.jsx("h6",{className:"sidebar-logo-title",children:"Woop Service"}),e.jsx("p",{className:"sidebar-logo-subtitle",children:"Plateforme Éducative"})]})]})}),e.jsx("nav",{className:"sidebar-nav",children:o.map((u,d)=>e.jsxs("div",{className:"sidebar-nav-section",children:[e.jsx("h6",{className:"sidebar-nav-section-title",children:u.title}),e.jsx("ul",{className:"list-unstyled mb-0",children:u.items.map((f,p)=>e.jsx("li",{className:"sidebar-nav-item",children:e.jsxs(xe,{to:f.path,className:`sidebar-nav-link ${a.pathname.startsWith(f.path)?"active":""}`,children:[e.jsx("i",{"data-feather":f.icon,className:"sidebar-nav-icon"}),e.jsx("span",{className:"sidebar-nav-text",children:f.label}),f.badge&&e.jsx("span",{className:`sidebar-nav-badge ${f.badgeColor||"bg-primary text-white"}`,children:f.badge})]})},p))})]},d))})]})}function Yye({toggleSidebar:s}){const{logout:t,user:a}=Aa(),r=Ut(),n=Wa(),[i,l]=x.useState("light"),[c,o]=x.useState(0);x.useEffect(()=>{const v=document.documentElement.getAttribute("data-theme")||"light";l(v);const S=new MutationObserver(()=>{const C=document.documentElement.getAttribute("data-theme")||"light";l(C)});return S.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>S.disconnect()},[]);const u=async()=>{try{const v=await he.get("/etudiant/chat/unread-count");o(v.data.unread_messages_count||0)}catch(v){console.error("Erreur lors de la récupération du compteur de messages",v)}};x.useEffect(()=>{u();const v=setInterval(()=>{u()},3e4);return()=>clearInterval(v)},[]),x.useEffect(()=>{n.pathname==="/etudiant/view/tchat"&&setTimeout(()=>{u()},1e3)},[n.pathname]),x.useEffect(()=>{const v=()=>{u()};return window.addEventListener("messagesRead",v),window.addEventListener("messageSent",v),()=>{window.removeEventListener("messagesRead",v),window.removeEventListener("messageSent",v)}},[]);const d=()=>{const v=document.documentElement,S=v.getAttribute("data-theme")==="dark"?"light":"dark";v.setAttribute("data-theme",S),localStorage.setItem("theme",S),l(S)},f=()=>{t(),r("/")},p=v=>v?v.split(" ").map(S=>S[0]).join("").toUpperCase().slice(0,2):"U",j=(v,S=15)=>v.length>S?v.slice(0,S-3)+"...":v;x.useEffect(()=>{We.replace()},[i,c]);const y=v=>{v.preventDefault(),v.stopPropagation(),console.log("Toggle sidebar clicked"),typeof s=="function"?s():console.warn("toggleSidebar function not provided or not a function")},k=({size:v=32,showBorder:S=!0})=>e.jsxs("div",{className:"user-avatar",style:{position:"relative"},children:[a?.profil_url?e.jsx("img",{src:a.profil_url,alt:a.name||"Utilisateur",style:{width:`${v}px`,height:`${v}px`,borderRadius:"50%",objectFit:"cover",border:S?"2px solid rgba(255, 255, 255, 0.3)":"none"},onError:C=>{C.target.style.display="none",C.target.nextElementSibling.style.display="flex"}}):null,e.jsx("div",{style:{display:a?.profil_url?"none":"flex",alignItems:"center",justifyContent:"center",width:`${v}px`,height:`${v}px`,fontSize:v>40?"1.1rem":"0.75rem",fontWeight:"600",backgroundColor:i==="dark"?"#495057":"#6c757d",color:"white",borderRadius:"50%"},children:p(a?.name)})]});return e.jsxs(xi,{className:"navbar fixed-top",expand:!1,children:[e.jsxs("div",{className:"navbar-left",children:[e.jsx($,{variant:"link",onClick:y,className:"toggle-btn me-3",title:"Toggle Sidebar",style:{display:"flex !important",visibility:"visible !important",opacity:"1 !important",position:"relative",zIndex:1031,border:"none",background:"transparent",padding:"8px 12px",borderRadius:"10px",minWidth:"44px",minHeight:"44px",alignItems:"center",justifyContent:"center"},children:e.jsx("i",{"data-feather":"menu",style:{width:"20px",height:"20px",strokeWidth:"2.5"}})}),e.jsxs("div",{className:"logo-container",children:[e.jsx("div",{className:"logo",children:e.jsx("span",{children:"WS"})}),e.jsx(xi.Brand,{className:"navbar-brand mb-0",children:"Woop Service"})]})]}),e.jsxs("div",{className:"navbar-right",children:[e.jsx("div",{className:"position-relative me-3",children:e.jsxs($,{variant:"link",as:xe,to:"/etudiant/view/tchat",className:"navbar-action-btn",title:`Messages (${c} non lus)`,style:{position:"relative",border:"none",background:"transparent",padding:"8px 12px",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",color:i==="dark"?"#fff":"#000",transition:"all 0.2s ease"},children:[e.jsx("i",{"data-feather":"message-circle",style:{width:"20px",height:"20px"}}),c>0&&e.jsx(oe,{bg:"primary",pill:!0,className:"position-absolute",style:{top:"2px",right:"2px",fontSize:"0.65em",minWidth:"18px",height:"18px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:c>99?"99+":c})]})}),e.jsx($,{variant:"link",onClick:d,className:"theme-toggle me-3",title:`Passer au thème ${i==="dark"?"clair":"sombre"}`,style:{border:"none",background:"transparent",padding:"8px 12px",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",color:i==="dark"?"#fff":"#000"},children:e.jsx("i",{"data-feather":i==="dark"?"sun":"moon",style:{width:"20px",height:"20px"}})}),e.jsxs(at,{align:"end",className:"user-dropdown",onToggle:v=>{v&&setTimeout(()=>We.replace(),0)},children:[e.jsxs(at.Toggle,{variant:"primary",id:"dropdown-user",className:"dropdown-toggle",children:[e.jsx(k,{size:32,showBorder:!0}),e.jsx("span",{className:"user-name d-none d-sm-inline",children:j(a?.name||"Utilisateur")}),e.jsx("i",{"data-feather":"chevron-down",style:{width:"16px",height:"16px"}})]}),e.jsxs(at.Menu,{className:`dropdown-menu ${i==="dark"?"bg-dark border-secondary":""}`,children:[e.jsxs("div",{className:"px-3 py-2 border-bottom d-flex align-items-center",children:[e.jsx("div",{className:"me-3",children:e.jsx(k,{size:48,showBorder:!1})}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("div",{className:"fw-semibold",children:a?.name||"Utilisateur"}),e.jsx("div",{className:"text-muted small",children:a?.email||"etudiant@woopservice.com"}),e.jsx("div",{className:"text-primary small",children:"Étudiant"})]})]}),e.jsxs(at.Item,{as:xe,to:"/etudiant/view/profil",className:`dropdown-item ${i==="dark"?"text-light":""}`,children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Mon Profil"]}),e.jsxs(at.Item,{as:xe,to:"/etudiant/view/statistics/my-classroom",className:`dropdown-item ${i==="dark"?"text-light":""}`,children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"16px",height:"16px"}}),"Ma salle de classe"]}),e.jsx(at.Divider,{className:i==="dark"?"border-secondary":""}),e.jsxs("div",{className:"px-3 py-2 border-bottom",children:[e.jsx("div",{className:"small text-muted mb-2",children:"Accès rapide"}),e.jsx("div",{className:"d-flex gap-2",children:e.jsxs($,{as:xe,to:"/etudiant/view/tchat",variant:"outline-primary",size:"sm",className:"position-relative flex-fill",children:[e.jsx("i",{"data-feather":"message-circle",className:"me-1",style:{width:"12px",height:"12px"}}),"Messages",c>0&&e.jsx(oe,{bg:"primary",pill:!0,className:"ms-1",style:{fontSize:"0.6em"},children:c>9?"9+":c})]})})]}),e.jsx(at.Divider,{className:i==="dark"?"border-secondary":""}),e.jsxs(at.Item,{onClick:f,className:"dropdown-item text-danger",children:[e.jsx("i",{"data-feather":"log-out",className:"me-2",style:{width:"16px",height:"16px"}}),"Déconnexion"]})]})]})]})]})}function fs({children:s}){const t=Wa(),{user:a}=Aa(),[r,n]=x.useState(!0),[i,l]=x.useState(window.innerWidth<992),[c,o]=x.useState("light");x.useEffect(()=>{We.replace()},[t.pathname,r,c]),x.useEffect(()=>{const d=localStorage.getItem("theme")||"light";document.documentElement.setAttribute("data-theme",d),document.documentElement.setAttribute("data-bs-theme",d),o(d)},[]),x.useEffect(()=>{const d=new MutationObserver(()=>{const f=document.documentElement.getAttribute("data-theme")||"light";o(f),document.documentElement.setAttribute("data-bs-theme",f)});return d.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>d.disconnect()},[]),x.useEffect(()=>{const d=()=>{const f=window.innerWidth<992;l(f),n(!f)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),x.useEffect(()=>{i&&r&&n(!1)},[t.pathname]);const u=()=>{n(d=>!d)};return e.jsxs("div",{className:"d-flex min-vh-100",children:[e.jsx(Yye,{toggleSidebar:u}),e.jsx(Wye,{user:a,collapsed:!r}),i&&r&&e.jsx("div",{className:"sidebar-overlay",onClick:()=>n(!1)}),e.jsx("div",{className:`flex-grow-1 main-content ${r?"":"expanded"}`,children:e.jsx("main",{className:"p-4",children:e.jsx("div",{className:"container-fluid py-2",children:e.jsx("div",{className:"py-4",children:e.jsx("div",{className:"py-4",children:s})})})})})]})}function Kye(){const{user:s}=Aa(),[t,a]=x.useState(!0),[r,n]=x.useState("light"),[i,l]=x.useState({}),[c,o]=x.useState({}),[u,d]=x.useState([]),[f,p]=x.useState([]),[j,y]=x.useState([]),[k,v]=x.useState([]),[S,C]=x.useState([]),[_,A]=x.useState([]),[D,M]=x.useState({}),[L,F]=x.useState([]),[Q,I]=x.useState({}),[H,z]=x.useState(new Date),[K,U]=x.useState(!1),[V,P]=x.useState(""),[q,G]=x.useState("success");x.useEffect(()=>{const re=document.documentElement.getAttribute("data-theme")||"light";n(re);const ve=new MutationObserver(()=>{const Oe=document.documentElement.getAttribute("data-theme")||"light";n(Oe)});return ve.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>ve.disconnect()},[]);const se=(re,ve="success")=>{P(re),G(ve),U(!0)},O=x.useCallback(async()=>{try{a(!0);const re=await he.get("/etudiant/dashboard");re.data.status==="success"?(l(re.data.classroom),o(re.data.general_stats),d(re.data.upcoming_evaluations),p(re.data.recent_evaluations),y(re.data.recent_cours),v(re.data.recent_activity),C(re.data.subject_progress),A(re.data.notifications),M(re.data.chart_data),F(re.data.calendar_events),I(re.data.my_ranking)):se(re.data.message||"Erreur lors du chargement du dashboard","danger")}catch(re){console.error("Erreur dashboard:",re),se("Erreur lors du chargement des données","danger")}finally{a(!1)}},[]);x.useEffect(()=>{O()},[O]),x.useEffect(()=>{const re=setInterval(()=>z(new Date),15e3);return()=>clearInterval(re)},[]),x.useEffect(()=>{We.replace()},[c,u,k]);const W=()=>{const re=new Date().getHours();return re<12?"Bonjour":re<18?"Bon après-midi":"Bonsoir"},Z=re=>re?new Date(re).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}):"",te=re=>re>=85?"success":re>=70?"info":re>=50?"warning":"danger",ie=re=>{switch(re){case"evaluation_completed":return"check-circle";case"cours_published":return"book-open";case"evaluation_started":return"play-circle";default:return"activity"}},fe=re=>{switch(re){case"warning":return"alert-triangle";case"info":return"info";case"success":return"check-circle";default:return"bell"}},J={primary:"#007bff",success:"#28a745"},ge=({active:re,payload:ve,label:Oe})=>re&&ve&&ve.length?e.jsxs("div",{className:`p-3 rounded shadow border ${r==="dark"?"bg-dark text-light border-secondary":"bg-white"}`,children:[e.jsx("p",{className:"mb-1 fw-bold",children:Oe}),ve.map((ee,me)=>e.jsx("p",{className:"mb-1",style:{color:ee.color},children:`${ee.name}: ${ee.value}${ee.name.includes("score")||ee.name.includes("moyenne")?"%":""}`},me))]}):null;return t?e.jsx(fs,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement de votre dashboard..."})]})}):e.jsx(fs,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:`h3 mb-2 ${r==="dark"?"text-light":"text-dark"}`,children:[W(),", ",s?.name,"! 👋"]}),e.jsxs("p",{className:`mb-1 ${r==="dark"?"text-light":"text-muted"}`,children:[e.jsx("span",{className:"",children:"Nous sommes "}),H.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," et il est  ",H.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]}),e.jsxs("p",{className:`mb-0 ${r==="dark"?"text-light":"text-muted"}`,children:["Voici un aperçu de votre progression • ",i.name]})]}),e.jsx("div",{className:"d-flex gap-2",children:e.jsx($,{variant:"outline-primary",onClick:O,title:"Actualiser",size:"sm",children:e.jsx("i",{"data-feather":"refresh-cw",style:{width:"16px",height:"16px"}})})})]}),_.length>0&&e.jsx(lt,{variant:"info",className:"mt-3 mb-0",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{"data-feather":"bell",className:"me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("h6",{className:"mb-2",children:"Notifications importantes"}),_.slice(0,3).map((re,ve)=>e.jsxs("div",{className:"mb-2 pb-2 border-bottom border-light",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":fe(re.type),className:"me-2",style:{width:"14px",height:"14px"}}),e.jsx("strong",{children:re.title})]}),e.jsx("small",{className:"text-muted d-block mt-1",children:re.message}),re.action_url&&e.jsx("div",{className:"mt-1",children:e.jsx($,{as:xe,to:re.action_url,variant:"outline-info",size:"sm",children:re.action_text})})]},ve))]})]})})]}),e.jsxs(pe,{className:"g-4 mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm h-100 ${r==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"avatar-sm rounded-circle bg-primary d-flex align-items-center justify-content-center",children:e.jsx("i",{"data-feather":"clipboard",className:"text-white",style:{width:"20px",height:"20px"}})})}),e.jsxs("div",{className:"flex-grow-1 ms-3",children:[e.jsx("h4",{className:`mb-0 ${r==="dark"?"text-light":"text-dark"}`,children:c.total_evaluations||0}),e.jsx("p",{className:"text-muted mb-0",children:"Évaluations totales"})]})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm h-100 ${r==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"avatar-sm rounded-circle bg-success d-flex align-items-center justify-content-center",children:e.jsx("i",{"data-feather":"trending-up",className:"text-white",style:{width:"20px",height:"20px"}})})}),e.jsxs("div",{className:"flex-grow-1 ms-3",children:[e.jsxs("h4",{className:`mb-0 ${r==="dark"?"text-light":"text-dark"}`,children:[c.moyenne_generale||0,"%"]}),e.jsx("p",{className:"text-muted mb-0",children:"Moyenne générale"})]})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm h-100 ${r==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"avatar-sm rounded-circle bg-info d-flex align-items-center justify-content-center",children:e.jsx("i",{"data-feather":"award",className:"text-white",style:{width:"20px",height:"20px"}})})}),e.jsxs("div",{className:"flex-grow-1 ms-3",children:[e.jsxs("h4",{className:`mb-0 ${r==="dark"?"text-light":"text-dark"}`,children:["#",Q.my_rank||"--"]}),e.jsx("p",{className:"text-muted mb-0",children:"Rang dans la classe"})]})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm h-100 ${r==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"avatar-sm rounded-circle bg-warning d-flex align-items-center justify-content-center",children:e.jsx("i",{"data-feather":"activity",className:"text-white",style:{width:"20px",height:"20px"}})})}),e.jsxs("div",{className:"flex-grow-1 ms-3",children:[e.jsxs("h4",{className:`mb-0 ${r==="dark"?"text-light":"text-dark"}`,children:[c.taux_participation||0,"%"]}),e.jsx("p",{className:"text-muted mb-0",children:"Taux participation"})]})]})})})})]}),e.jsxs(pe,{className:"g-4",children:[e.jsxs(T,{lg:8,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${r==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"trending-up",className:"me-2",style:{width:"20px",height:"20px"}}),"Évolution de vos performances"]})}),e.jsx(w.Body,{children:D.monthly_evolution&&D.monthly_evolution.length>0?e.jsx(Sa,{width:"100%",height:300,children:e.jsxs(qp,{data:D.monthly_evolution,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorAverage",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:J.primary,stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:J.primary,stopOpacity:0})]})}),e.jsx(sn,{strokeDasharray:"3 3",stroke:r==="dark"?"#495057":"#e9ecef"}),e.jsx(zr,{dataKey:"month",stroke:r==="dark"?"#ffffff":"#666666"}),e.jsx(Hr,{stroke:r==="dark"?"#ffffff":"#666666"}),e.jsx(Da,{content:e.jsx(ge,{})}),e.jsx(Ic,{type:"monotone",dataKey:"average",stroke:J.primary,fillOpacity:1,fill:"url(#colorAverage)",name:"Moyenne"})]})}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{"data-feather":"trending-up",className:"text-muted mb-2",style:{width:"48px",height:"48px"}}),e.jsx("p",{className:"text-muted",children:"Pas encore assez de données pour afficher l'évolution"})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${r==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"bar-chart-2",className:"me-2",style:{width:"20px",height:"20px"}}),"Performance par matière"]})}),e.jsx(w.Body,{children:S&&S.length>0?e.jsx(Sa,{width:"100%",height:300,children:e.jsxs(d1,{data:S,children:[e.jsx(sn,{strokeDasharray:"3 3",stroke:r==="dark"?"#495057":"#e9ecef"}),e.jsx(zr,{dataKey:"nom",stroke:r==="dark"?"#ffffff":"#666666"}),e.jsx(Hr,{stroke:r==="dark"?"#ffffff":"#666666"}),e.jsx(Da,{content:e.jsx(ge,{})}),e.jsx(Wg,{dataKey:"moyenne",fill:J.success,name:"Moyenne",radius:[4,4,0,0]})]})}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{"data-feather":"bar-chart-2",className:"text-muted mb-2",style:{width:"48px",height:"48px"}}),e.jsx("p",{className:"text-muted",children:"Aucune donnée de performance par matière"})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm ${r==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"20px",height:"20px"}}),"Activité récente"]})}),e.jsx(w.Body,{children:k.length>0?e.jsx("div",{className:"timeline",children:k.map((re,ve)=>e.jsxs("div",{className:"timeline-item d-flex mb-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"avatar-xs rounded-circle bg-light d-flex align-items-center justify-content-center",children:e.jsx("i",{"data-feather":ie(re.type),className:"text-muted",style:{width:"14px",height:"14px"}})})}),e.jsxs("div",{className:"flex-grow-1 ms-3",children:[e.jsx("div",{className:`fw-medium ${r==="dark"?"text-light":"text-dark"}`,children:re.title}),e.jsx("p",{className:"text-muted mb-1",children:re.description}),e.jsxs("small",{className:"text-muted",children:[re.matiere," • ",Z(re.date)]})]})]},ve))}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{"data-feather":"activity",className:"text-muted mb-2",style:{width:"32px",height:"32px"}}),e.jsx("p",{className:"text-muted mb-0",children:"Aucune activité récente"})]})})]})]}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${r==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"clock",className:"me-2",style:{width:"20px",height:"20px"}}),"Prochaines évaluations"]})}),e.jsx(w.Body,{className:"p-0",children:u.length>0?u.map((re,ve)=>e.jsxs("div",{className:`p-3 ${ve<u.length-1?"border-bottom":""}`,children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[e.jsx("h6",{className:`mb-0 ${r==="dark"?"text-light":"text-dark"}`,children:re.titre}),e.jsx(oe,{bg:"warning",className:"ms-2",children:re.temps_avant_debut_human})]}),e.jsx("p",{className:"text-muted mb-1",children:re.matiere?.nom}),e.jsxs("small",{className:"text-muted",children:[Z(re.date_debut)," • ",re.duree_minutes," min"]})]},re.id)):e.jsxs("div",{className:"p-3 text-center",children:[e.jsx("i",{"data-feather":"clock",className:"text-muted mb-2",style:{width:"32px",height:"32px"}}),e.jsx("p",{className:"text-muted mb-0",children:"Aucune évaluation prochaine"})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${r==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"book-open",className:"me-2",style:{width:"20px",height:"20px"}}),"Cours récents"]})}),e.jsx(w.Body,{className:"p-0",children:j.length>0?j.map((re,ve)=>e.jsx("div",{className:`p-3 ${ve<j.length-1?"border-bottom":""}`,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("h6",{className:`mb-1 ${r==="dark"?"text-light":"text-dark"}`,children:re.titre.length>30?re.titre.substring(0,30)+"...":re.titre}),e.jsx("p",{className:"text-muted mb-1",children:re.matiere?.nom}),e.jsx("small",{className:"text-muted",children:re.temps_depuis_publication})]}),e.jsx($,{as:xe,to:`/etudiant/show/cours/${re.id}`,variant:"outline-primary",size:"sm",children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})})]})},re.id)):e.jsxs("div",{className:"p-3 text-center",children:[e.jsx("i",{"data-feather":"book-open",className:"text-muted mb-2",style:{width:"32px",height:"32px"}}),e.jsx("p",{className:"text-muted mb-0",children:"Aucun cours récent"})]})})]}),Q.my_rank&&e.jsxs(w,{className:`border-0 shadow-sm ${r==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"award",className:"me-2",style:{width:"20px",height:"20px"}}),"Mon classement"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsxs("h2",{className:"text-primary mb-0",children:["#",Q.my_rank]}),e.jsxs("p",{className:"text-muted",children:["sur ",Q.total_students," étudiants"]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[e.jsx("small",{className:"text-muted",children:"Ma moyenne"}),e.jsxs("small",{className:`fw-bold text-${te(Q.my_average)}`,children:[Q.my_average,"%"]})]}),e.jsx(Zt,{now:Q.my_average,variant:te(Q.my_average),style:{height:"6px"}})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsx("span",{className:"text-muted",children:"Moyenne de classe:"}),e.jsxs("span",{className:r==="dark"?"text-light":"text-dark",children:[Q.class_average,"%"]})]}),Q.top_3&&e.jsxs("div",{children:[e.jsx("h6",{className:r==="dark"?"text-light":"text-dark",children:"Top 3 de la classe"}),Q.top_3.map((re,ve)=>e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs(oe,{bg:ve===0?"warning":ve===1?"secondary":"info",className:"me-2",children:["#",ve+1]}),e.jsxs("span",{className:`small ${r==="dark"?"text-light":"text-dark"}`,children:[re.name," (",re.average,"%)"]})]},re.student_id))]})]})]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:K,onClose:()=>U(!1),delay:4e3,autohide:!0,bg:q==="success"?"success":"danger",className:r==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${q==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":q==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:r==="dark"?"bg-dark text-light":"",children:V})]})})]})})}function Qye(){const[s,t]=x.useState(!0),[a,r]=x.useState("light"),[n,i]=x.useState({}),[l,c]=x.useState({}),[o,u]=x.useState({}),[d,f]=x.useState([]),[p,j]=x.useState({}),[y,k]=x.useState({}),[v,S]=x.useState({}),[C,_]=x.useState([]),[A,D]=x.useState({}),[M,L]=x.useState([]),[F,Q]=x.useState([]),[I,H]=x.useState("overview"),[z,K]=x.useState(!1),[U,V]=x.useState(""),[P,q]=x.useState("success");x.useEffect(()=>{const J=document.documentElement.getAttribute("data-theme")||"light";r(J);const ge=new MutationObserver(()=>{const re=document.documentElement.getAttribute("data-theme")||"light";r(re)});return ge.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>ge.disconnect()},[]);const G=(J,ge="success")=>{V(J),q(ge),K(!0)},se=x.useCallback(async()=>{try{t(!0);const J=await he.get("/etudiant/statistics");J.data.status==="success"?(i(J.data.classroom),c(J.data.personal_stats),u(J.data.temporal_evolution),f(J.data.subject_analysis),j(J.data.class_comparison),k(J.data.skills_analysis),S(J.data.trends),_(J.data.performance_details),D(J.data.advanced_chart_data),L(J.data.recommendations),Q(J.data.full_history)):G(J.data.message||"Erreur lors du chargement des statistiques","danger")}catch(J){console.error("Erreur lors du chargement des statistiques:",J);const ge=J.response?.data?.message||"Erreur lors du chargement des statistiques";G(ge,"danger")}finally{t(!1)}},[]);x.useEffect(()=>{se()},[se]),x.useEffect(()=>{We.replace()},[l,d,y]);const O=J=>J>=85?"success":J>=70?"info":J>=50?"warning":"danger",W=J=>J>=85?"Excellent":J>=70?"Bien":J>=50?"Passable":"À améliorer",Z=J=>{switch(J){case"improving":return"trending-up";case"declining":return"trending-down";default:return"minus"}},te=J=>{switch(J){case"improving":return"success";case"declining":return"danger";default:return"secondary"}},ie=J=>{switch(J){case"Expert":return"success";case"Avancé":return"info";case"Intermédiaire":return"warning";default:return"secondary"}},fe=({active:J,payload:ge,label:re})=>J&&ge&&ge.length?e.jsxs("div",{className:`p-3 rounded shadow border ${a==="dark"?"bg-dark text-light border-secondary":"bg-white"}`,children:[e.jsx("p",{className:"mb-1 fw-bold",children:re}),ge.map((ve,Oe)=>e.jsx("p",{className:"mb-1",style:{color:ve.color},children:`${ve.name}: ${ve.value}${ve.name.includes("score")||ve.name.includes("%")?"%":""}`},Oe))]}):null;return s?e.jsx(fs,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement de vos statistiques détaillées..."})]})}):e.jsx(fs,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${a==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"bar-chart-2",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${a==="dark"?"text-light":"text-dark"}`,children:"Mes Statistiques Détaillées"}),e.jsxs("p",{className:`mb-0 ${a==="dark"?"text-light":"text-muted"}`,children:["Analyse complète de vos performances • ",n.name||"Ma Classe"]})]})]}),e.jsx($,{variant:"outline-primary",onClick:se,title:"Actualiser",children:e.jsx("i",{"data-feather":"refresh-cw",style:{width:"16px",height:"16px"}})})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:l.total_evaluations_completed||0}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Évaluations faites"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"check-circle",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:`mb-0 text-${O(l.overall_average)}`,children:[l.overall_average||0,"%"]}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Moyenne générale"})]}),e.jsx("div",{className:`text-${O(l.overall_average)}`,children:e.jsx("i",{"data-feather":"trending-up",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:l.perfect_scores_count||0}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Scores parfaits"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"award",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"mb-0 text-info",children:[l.consistency_score||0,"%"]}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Régularité"})]}),e.jsx("div",{className:"text-info",children:e.jsx("i",{"data-feather":"target",style:{width:"24px",height:"24px"}})})]})})})})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs(Fi,{activeKey:I,onSelect:J=>H(J),className:"border-0",children:[e.jsx(xs,{eventKey:"overview",title:e.jsxs("span",{children:[e.jsx("i",{"data-feather":"grid",className:"me-2",style:{width:"16px",height:"16px"}}),"Vue d'ensemble"]})}),e.jsx(xs,{eventKey:"temporal",title:e.jsxs("span",{children:[e.jsx("i",{"data-feather":"trending-up",className:"me-2",style:{width:"16px",height:"16px"}}),"Évolution temporelle"]})}),e.jsx(xs,{eventKey:"subjects",title:e.jsxs("span",{children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"16px",height:"16px"}}),"Analyse par matière"]})}),e.jsx(xs,{eventKey:"skills",title:e.jsxs("span",{children:[e.jsx("i",{"data-feather":"target",className:"me-2",style:{width:"16px",height:"16px"}}),"Compétences"]})}),e.jsx(xs,{eventKey:"comparison",title:e.jsxs("span",{children:[e.jsx("i",{"data-feather":"users",className:"me-2",style:{width:"16px",height:"16px"}}),"Comparaison classe"]})})]})}),e.jsxs(w.Body,{className:a==="dark"?"bg-dark":"bg-white",children:[I==="overview"&&e.jsxs(pe,{children:[e.jsxs(T,{lg:8,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h6",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"18px",height:"18px"}}),"Évolution de vos performances (6 derniers mois)"]})}),e.jsx(w.Body,{children:o.monthly_evolution&&o.monthly_evolution.length>0?e.jsx(Sa,{width:"100%",height:300,children:e.jsxs(Kg,{data:o.monthly_evolution,children:[e.jsx(sn,{strokeDasharray:"3 3",stroke:a==="dark"?"#495057":"#e9ecef"}),e.jsx(zr,{dataKey:"period",stroke:a==="dark"?"#ffffff":"#666666"}),e.jsx(Hr,{stroke:a==="dark"?"#ffffff":"#666666"}),e.jsx(Da,{content:e.jsx(fe,{})}),e.jsx(bn,{type:"monotone",dataKey:"average_score",stroke:"#007bff",strokeWidth:3,dot:{fill:"#007bff",strokeWidth:2,r:6},name:"Score moyen"}),e.jsx(bn,{type:"monotone",dataKey:"participation_rate",stroke:"#28a745",strokeWidth:2,dot:{fill:"#28a745",strokeWidth:2,r:4},name:"Taux de participation"})]})}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{"data-feather":"activity",className:"text-muted mb-2",style:{width:"32px",height:"32px"}}),e.jsx("p",{className:"text-muted",children:"Pas encore de données d'évolution"})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h6",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"lightbulb",className:"me-2",style:{width:"18px",height:"18px"}}),"Recommandations personnalisées"]})}),e.jsx(w.Body,{children:M.length>0?e.jsx("div",{className:"d-grid gap-3",children:M.map((J,ge)=>e.jsx(w,{className:`border-start border-4 border-${J.priority==="high"?"danger":J.priority==="medium"?"warning":"info"} ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs(w.Body,{className:"py-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[e.jsx("h6",{className:`mb-1 ${a==="dark"?"text-light":"text-dark"}`,children:J.title}),e.jsx(oe,{bg:J.priority==="high"?"danger":J.priority==="medium"?"warning":"info",children:J.priority==="high"?"Urgent":J.priority==="medium"?"Important":"Suggestion"})]}),e.jsx("p",{className:"text-muted mb-2",children:J.description}),e.jsxs("div",{className:"small",children:[e.jsx("strong",{children:"Actions recommandées :"}),e.jsx("ul",{className:"mb-0 mt-1",children:J.actions.map((re,ve)=>e.jsx("li",{className:"text-muted",children:re},ve))})]})]})},ge))}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{"data-feather":"lightbulb",className:"text-success mb-2",style:{width:"32px",height:"32px"}}),e.jsx("p",{className:"text-success mb-0",children:"Excellent travail ! Continuez ainsi."})]})})]})]}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h6",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"trending-up",className:"me-2",style:{width:"18px",height:"18px"}}),"Tendances et prédictions"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("span",{className:"text-muted",children:"Tendance performance:"}),e.jsxs(oe,{bg:te(v.performance_trend),children:[e.jsx("i",{"data-feather":Z(v.performance_trend),className:"me-1",style:{width:"12px",height:"12px"}}),v.performance_trend==="improving"?"En progression":v.performance_trend==="declining"?"En baisse":"Stable"]})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("span",{className:"text-muted",children:"Efficacité temps:"}),e.jsx(oe,{bg:te(v.time_efficiency_trend),children:v.time_efficiency_trend==="improving"?"S'améliore":v.time_efficiency_trend==="declining"?"Diminue":"Stable"})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("span",{className:"text-muted",children:"Momentum:"}),e.jsxs("span",{className:`fw-bold ${v.momentum>0?"text-success":v.momentum<0?"text-danger":"text-muted"}`,children:[v.momentum>0?"+":"",v.momentum||0,"%"]})]})]}),e.jsx("hr",{}),e.jsxs("div",{children:[e.jsx("h6",{className:a==="dark"?"text-light":"text-dark",children:"Prédictions"}),e.jsxs("div",{className:"mb-2",children:[e.jsx("small",{className:"text-muted",children:"Prochain score estimé:"}),e.jsxs("div",{className:`fw-bold text-${O(v.predictions?.next_score||0)}`,children:[v.predictions?.next_score||0,"%",e.jsxs("small",{className:"text-muted ms-1",children:["(Confiance: ",v.predictions?.confidence||0,"%)"]})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("small",{className:"text-muted",children:"Volatilité:"}),e.jsxs("div",{className:a==="dark"?"text-light":"text-dark",children:[v.volatility||0,"%"]})]})]})]})]}),v.seasonal_patterns&&e.jsxs(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h6",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"clock",className:"me-2",style:{width:"18px",height:"18px"}}),"Vos meilleurs moments"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"text-center mb-3",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("i",{"data-feather":"calendar",className:"text-primary me-2",style:{width:"16px",height:"16px"}}),e.jsx("span",{className:`fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:v.seasonal_patterns.best_day}),e.jsx("small",{className:"text-muted d-block",children:"Meilleur jour de la semaine"})]}),e.jsxs("div",{children:[e.jsx("i",{"data-feather":"clock",className:"text-info me-2",style:{width:"16px",height:"16px"}}),e.jsxs("span",{className:`fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:[v.seasonal_patterns.best_hour,"h"]}),e.jsx("small",{className:"text-muted d-block",children:"Meilleure heure"})]})]})})]})]})]}),I==="temporal"&&e.jsxs("div",{children:[e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{lg:8,children:e.jsxs(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsx("h6",{className:"mb-0",children:"Évolution mensuelle détaillée"})}),e.jsx(w.Body,{children:o.monthly_evolution&&o.monthly_evolution.length>0?e.jsx(Sa,{width:"100%",height:400,children:e.jsxs(qp,{data:o.monthly_evolution,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorScore",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#007bff",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#007bff",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorParticipation",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#28a745",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#28a745",stopOpacity:0})]})]}),e.jsx(sn,{strokeDasharray:"3 3",stroke:a==="dark"?"#495057":"#e9ecef"}),e.jsx(zr,{dataKey:"period",stroke:a==="dark"?"#ffffff":"#666666"}),e.jsx(Hr,{stroke:a==="dark"?"#ffffff":"#666666"}),e.jsx(Da,{content:e.jsx(fe,{})}),e.jsx(Ic,{type:"monotone",dataKey:"average_score",stackId:"1",stroke:"#007bff",fill:"url(#colorScore)",name:"Score moyen"}),e.jsx(Ic,{type:"monotone",dataKey:"participation_rate",stackId:"2",stroke:"#28a745",fill:"url(#colorParticipation)",name:"Participation"})]})}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{"data-feather":"trending-up",className:"text-muted",style:{width:"48px",height:"48px"}}),e.jsx("p",{className:"text-muted mt-2",children:"Pas de données d'évolution temporelle"})]})})]})}),e.jsx(T,{lg:4,children:e.jsxs(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsx("h6",{className:"mb-0",children:"Activité hebdomadaire"})}),e.jsx(w.Body,{children:o.weekly_evolution&&o.weekly_evolution.length>0?e.jsx(Sa,{width:"100%",height:300,children:e.jsxs(d1,{data:o.weekly_evolution,children:[e.jsx(sn,{strokeDasharray:"3 3",stroke:a==="dark"?"#495057":"#e9ecef"}),e.jsx(zr,{dataKey:"period",stroke:a==="dark"?"#ffffff":"#666666"}),e.jsx(Hr,{stroke:a==="dark"?"#ffffff":"#666666"}),e.jsx(Da,{content:e.jsx(fe,{})}),e.jsx(Wg,{dataKey:"evaluations_count",fill:"#17a2b8",name:"Évaluations",radius:[4,4,0,0]})]})}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{"data-feather":"bar-chart",className:"text-muted",style:{width:"32px",height:"32px"}}),e.jsx("p",{className:"text-muted mt-2",children:"Pas de données hebdomadaires"})]})})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsx("h6",{className:"mb-0",children:"Activité des 30 derniers jours"})}),e.jsx(w.Body,{children:o.daily_activity&&o.daily_activity.length>0?e.jsx(Sa,{width:"100%",height:200,children:e.jsxs(qp,{data:o.daily_activity,children:[e.jsx(sn,{strokeDasharray:"3 3",stroke:a==="dark"?"#495057":"#e9ecef"}),e.jsx(zr,{dataKey:"date",stroke:a==="dark"?"#ffffff":"#666666"}),e.jsx(Hr,{stroke:a==="dark"?"#ffffff":"#666666"}),e.jsx(Da,{content:e.jsx(fe,{})}),e.jsx(Ic,{type:"monotone",dataKey:"evaluations_count",stroke:"#ffc107",fill:"#ffc107",fillOpacity:.6,name:"Évaluations"})]})}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{"data-feather":"calendar",className:"text-muted",style:{width:"32px",height:"32px"}}),e.jsx("p",{className:"text-muted mt-2",children:"Pas de données d'activité quotidienne"})]})})]})]}),I==="subjects"&&e.jsxs("div",{children:[e.jsx(pe,{className:"g-4",children:d.map((J,ge)=>e.jsx(T,{lg:6,children:e.jsxs(w,{className:`h-100 border-0 shadow-sm ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("h6",{className:"mb-0",children:J.name}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs(oe,{bg:O(J.average_score),children:[J.average_score,"%"]}),e.jsxs(oe,{bg:te(J.trend),children:[e.jsx("i",{"data-feather":Z(J.trend),className:"me-1",style:{width:"12px",height:"12px"}}),J.trend==="improving"?"Progression":J.trend==="declining"?"Baisse":"Stable"]})]})]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[e.jsx("small",{className:"text-muted",children:"Performance globale"}),e.jsx("small",{className:`fw-bold text-${O(J.average_score)}`,children:W(J.average_score)})]}),e.jsx(Zt,{now:J.average_score,variant:O(J.average_score),style:{height:"8px"}})]}),e.jsxs(pe,{className:"g-2 mb-3",children:[e.jsx(T,{xs:6,children:e.jsxs("div",{className:"text-center p-2 rounded bg-opacity-10 bg-primary",children:[e.jsx("div",{className:`fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:J.evaluations_count}),e.jsx("small",{className:"text-muted",children:"Évaluations"})]})}),e.jsx(T,{xs:6,children:e.jsxs("div",{className:"text-center p-2 rounded bg-opacity-10 bg-success",children:[e.jsxs("div",{className:`fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:[J.consistency,"%"]}),e.jsx("small",{className:"text-muted",children:"Régularité"})]})})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[e.jsx("span",{className:"small text-muted",children:"Meilleur score:"}),e.jsxs("span",{className:"small fw-bold text-success",children:[J.best_score,"%"]})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[e.jsx("span",{className:"small text-muted",children:"Score le plus bas:"}),e.jsxs("span",{className:"small fw-bold text-danger",children:[J.worst_score,"%"]})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("h6",{className:"small fw-bold text-success",children:"Points forts:"}),e.jsx("div",{className:"d-flex flex-wrap gap-1 mb-2",children:J.strengths.map((re,ve)=>e.jsx(oe,{bg:"success",className:"small",children:re},ve))}),e.jsx("h6",{className:"small fw-bold text-warning",children:"À améliorer:"}),e.jsx("div",{className:"d-flex flex-wrap gap-1",children:J.weaknesses.map((re,ve)=>e.jsx(oe,{bg:"warning",className:"small",children:re},ve))})]}),J.recent_performance&&J.recent_performance.length>0&&e.jsxs("div",{children:[e.jsx("h6",{className:"small mb-2",children:"5 dernières évaluations:"}),e.jsx("div",{className:"d-flex justify-content-between",children:J.recent_performance.map((re,ve)=>e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`small fw-bold text-${O(re)}`,children:[re,"%"]}),e.jsxs("small",{className:"text-muted",children:["#",ve+1]})]},ve))})]})]})]})},J.subject_id))}),d.length===0&&e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{"data-feather":"book",className:"text-muted mb-3",style:{width:"48px",height:"48px"}}),e.jsx("h6",{className:"text-muted",children:"Aucune donnée d'analyse par matière"}),e.jsx("p",{className:"text-muted",children:"Participez à des évaluations pour voir vos analyses détaillées"})]})]}),I==="skills"&&e.jsxs(pe,{children:[e.jsxs(T,{lg:8,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h6",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"target",className:"me-2",style:{width:"18px",height:"18px"}}),"Radar des compétences"]})}),e.jsx(w.Body,{children:y.detailed_skills?e.jsx(Sa,{width:"100%",height:400,children:e.jsxs(f9,{data:[{skill:"Résolution problèmes",value:y.detailed_skills.problem_solving?.success_rate||0},{skill:"Compréhension",value:y.detailed_skills.comprehension?.success_rate||0},{skill:"Analyse",value:y.detailed_skills.analysis?.success_rate||0},{skill:"Mémorisation",value:y.detailed_skills.memorization?.success_rate||0}],children:[e.jsx(sA,{stroke:a==="dark"?"#495057":"#e9ecef"}),e.jsx(Hg,{dataKey:"skill",tick:{fill:a==="dark"?"#ffffff":"#666666"}}),e.jsx(zg,{angle:90,domain:[0,100],tick:{fill:a==="dark"?"#ffffff":"#666666"}}),e.jsx(c1,{name:"Niveau de compétence",dataKey:"value",stroke:"#007bff",fill:"#007bff",fillOpacity:.3})]})}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{"data-feather":"target",className:"text-muted",style:{width:"48px",height:"48px"}}),e.jsx("p",{className:"text-muted mt-2",children:"Pas encore de données de compétences"})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsx("h6",{className:"mb-0",children:"Détail des compétences"})}),e.jsx(w.Body,{children:y.detailed_skills?e.jsx(pe,{className:"g-3",children:Object.entries(y.detailed_skills).map(([J,ge])=>e.jsx(T,{md:6,children:e.jsx(w,{className:`border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs(w.Body,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("h6",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:J.replace("_"," ").replace(/\b\w/g,re=>re.toUpperCase())}),e.jsx(oe,{bg:ie(ge.level),children:ge.level})]}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[e.jsx("small",{className:"text-muted",children:"Taux de réussite"}),e.jsxs("small",{className:`fw-bold text-${O(ge.success_rate)}`,children:[ge.success_rate,"%"]})]}),e.jsx(Zt,{now:ge.success_rate,variant:O(ge.success_rate),style:{height:"6px"}})]}),e.jsxs("div",{className:"small text-muted",children:[e.jsxs("div",{children:["Questions traitées: ",ge.total]}),e.jsxs("div",{children:["Réponses correctes: ",ge.correct]}),e.jsxs("div",{children:["Temps moyen: ",Math.round(ge.avg_time),"s"]})]})]})})},J))}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{"data-feather":"target",className:"text-muted",style:{width:"32px",height:"32px"}}),e.jsx("p",{className:"text-muted mt-2",children:"Aucune donnée de compétence disponible"})]})})]})]}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h6",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"trending-up",className:"me-2 text-success",style:{width:"18px",height:"18px"}}),"Vos forces"]})}),e.jsx(w.Body,{children:y.strengths&&y.strengths.length>0?e.jsx("div",{className:"d-grid gap-2",children:y.strengths.map((J,ge)=>e.jsxs("div",{className:`p-2 rounded border-start border-4 border-success ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx("div",{className:`fw-medium ${a==="dark"?"text-light":"text-dark"}`,children:J.skill.replace("_"," ").replace(/\b\w/g,re=>re.toUpperCase())}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs("small",{className:"text-success",children:[J.score,"% de réussite"]}),e.jsx(oe,{bg:"success",className:"small",children:J.level})]})]},ge))}):e.jsxs("div",{className:"text-center py-3",children:[e.jsx("i",{"data-feather":"trending-up",className:"text-muted",style:{width:"24px",height:"24px"}}),e.jsx("p",{className:"text-muted small mb-0",children:"Continuez à progresser pour identifier vos forces"})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h6",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"trending-down",className:"me-2 text-warning",style:{width:"18px",height:"18px"}}),"Points à améliorer"]})}),e.jsx(w.Body,{children:y.weaknesses&&y.weaknesses.length>0?e.jsx("div",{className:"d-grid gap-2",children:y.weaknesses.map((J,ge)=>e.jsxs("div",{className:`p-2 rounded border-start border-4 border-warning ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx("div",{className:`fw-medium ${a==="dark"?"text-light":"text-dark"}`,children:J.skill.replace("_"," ").replace(/\b\w/g,re=>re.toUpperCase())}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs("small",{className:"text-warning",children:[J.score,"% de réussite"]}),e.jsx(oe,{bg:"warning",className:"small",children:J.level})]})]},ge))}):e.jsxs("div",{className:"text-center py-3",children:[e.jsx("i",{"data-feather":"check-circle",className:"text-success",style:{width:"24px",height:"24px"}}),e.jsx("p",{className:"text-success small mb-0",children:"Excellent ! Aucune faiblesse majeure détectée"})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h6",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"lightbulb",className:"me-2",style:{width:"18px",height:"18px"}}),"Conseils d'amélioration"]})}),e.jsx(w.Body,{children:y.recommendations&&y.recommendations.length>0?e.jsx("ul",{className:"list-unstyled mb-0",children:y.recommendations.map((J,ge)=>e.jsx("li",{className:"mb-2 pb-2 border-bottom border-light",children:e.jsx("small",{className:a==="dark"?"text-light":"text-dark",children:J})},ge))}):e.jsxs("div",{className:"text-center py-3",children:[e.jsx("i",{"data-feather":"star",className:"text-success",style:{width:"24px",height:"24px"}}),e.jsx("p",{className:"text-success small mb-0",children:"Continuez votre excellent travail !"})]})})]})]})]}),I==="comparison"&&e.jsxs(pe,{children:[e.jsx(T,{lg:8,children:e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h6",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"users",className:"me-2",style:{width:"18px",height:"18px"}}),"Comparaison avec la classe"]})}),e.jsxs(w.Body,{children:[e.jsx("div",{className:"text-center mb-4",children:e.jsxs(pe,{children:[e.jsx(T,{md:4,children:e.jsxs("div",{className:"mb-2",children:[e.jsxs("h3",{className:`text-${O(p.my_average)} mb-0`,children:[p.my_average||0,"%"]}),e.jsx("small",{className:"text-muted",children:"Ma moyenne"})]})}),e.jsx(T,{md:4,children:e.jsxs("div",{className:"mb-2",children:[e.jsxs("h3",{className:`${a==="dark"?"text-light":"text-dark"} mb-0`,children:[p.class_average||0,"%"]}),e.jsx("small",{className:"text-muted",children:"Moyenne de classe"})]})}),e.jsx(T,{md:4,children:e.jsxs("div",{className:"mb-2",children:[e.jsxs("h3",{className:`${p.difference_from_average>=0?"text-success":"text-danger"} mb-0`,children:[p.difference_from_average>=0?"+":"",p.difference_from_average||0,"%"]}),e.jsx("small",{className:"text-muted",children:"Différence"})]})})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("span",{className:"text-muted",children:"Ma position dans la classe"}),e.jsxs(oe,{bg:"primary",className:"px-3 py-2",children:["#",p.my_rank||0," / ",p.total_students||0]})]}),e.jsx(Zt,{now:p.my_percentile||0,variant:"info",style:{height:"10px"}}),e.jsxs("div",{className:"d-flex justify-content-between mt-1",children:[e.jsx("small",{className:"text-muted",children:"0ème percentile"}),e.jsxs("small",{className:"text-info fw-bold",children:[p.my_percentile||0,"ème percentile"]}),e.jsx("small",{className:"text-muted",children:"100ème percentile"})]})]}),p.subject_comparisons&&p.subject_comparisons.length>0&&e.jsxs("div",{children:[e.jsx("h6",{className:a==="dark"?"text-light":"text-dark",children:"Comparaison par matière"}),e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{size:"sm",className:a==="dark"?"table-dark":"",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Matière"}),e.jsx("th",{className:"text-center",children:"Mon score"}),e.jsx("th",{className:"text-center",children:"Moyenne classe"}),e.jsx("th",{className:"text-center",children:"Différence"}),e.jsx("th",{className:"text-center",children:"Position"})]})}),e.jsx("tbody",{children:p.subject_comparisons.map((J,ge)=>e.jsxs("tr",{children:[e.jsx("td",{className:a==="dark"?"text-light":"text-dark",children:J.subject_name}),e.jsx("td",{className:"text-center",children:e.jsxs(oe,{bg:O(J.my_score),children:[J.my_score,"%"]})}),e.jsxs("td",{className:"text-center text-muted",children:[J.class_average,"%"]}),e.jsxs("td",{className:`text-center ${J.difference>=0?"text-success":"text-danger"}`,children:[J.difference>=0?"+":"",J.difference,"%"]}),e.jsx("td",{className:"text-center",children:e.jsxs(oe,{bg:"info",children:["#",J.position]})})]},ge))})]})})]})]})]})}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsx("h6",{className:"mb-0",children:"Répartition de la classe"})}),e.jsx(w.Body,{children:p.performance_categories?e.jsx(Sa,{width:"100%",height:200,children:e.jsxs(qm,{children:[e.jsx(Kh,{data:[{name:"Excellent",value:p.performance_categories.excellent,fill:"#28a745"},{name:"Bien",value:p.performance_categories.good,fill:"#007bff"},{name:"Moyen",value:p.performance_categories.average,fill:"#ffc107"},{name:"À améliorer",value:p.performance_categories.needs_improvement,fill:"#dc3545"}],dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80}),e.jsx(Da,{})]})}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{"data-feather":"pie-chart",className:"text-muted",style:{width:"32px",height:"32px"}}),e.jsx("p",{className:"text-muted mt-2",children:"Pas de données de répartition"})]})})]}),p.top_performers&&e.jsxs(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsx("h6",{className:"mb-0",children:"Top 3 de la classe"})}),e.jsx(w.Body,{children:p.top_performers.map((J,ge)=>e.jsxs("div",{className:"d-flex align-items-center mb-2 pb-2 border-bottom border-light",children:[e.jsxs(oe,{bg:ge===0?"warning":ge===1?"secondary":"info",className:"me-3 px-2 py-1",children:["#",ge+1]}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("div",{className:`fw-medium ${a==="dark"?"text-light":"text-dark"}`,children:J.name}),e.jsxs("small",{className:"text-muted",children:[J.average_score,"% • ",J.evaluations_count," évaluations"]})]})]},ge))})]})]})]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:z,onClose:()=>K(!1),delay:4e3,autohide:!0,bg:P==="success"?"success":"danger",className:a==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${P==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":P==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:a==="dark"?"bg-dark text-light":"",children:U})]})})]})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Qg(s){return s+.5|0}const od=(s,t,a)=>Math.max(Math.min(s,a),t);function cp(s){return od(Qg(s*2.55),0,255)}function gd(s){return od(Qg(s*255),0,255)}function wc(s){return od(Qg(s/2.55)/100,0,1)}function T5(s){return od(Qg(s*100),0,100)}const oi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},n_=[..."0123456789ABCDEF"],Xye=s=>n_[s&15],Zye=s=>n_[(s&240)>>4]+n_[s&15],sv=s=>(s&240)>>4===(s&15),Jye=s=>sv(s.r)&&sv(s.g)&&sv(s.b)&&sv(s.a);function eje(s){var t=s.length,a;return s[0]==="#"&&(t===4||t===5?a={r:255&oi[s[1]]*17,g:255&oi[s[2]]*17,b:255&oi[s[3]]*17,a:t===5?oi[s[4]]*17:255}:(t===7||t===9)&&(a={r:oi[s[1]]<<4|oi[s[2]],g:oi[s[3]]<<4|oi[s[4]],b:oi[s[5]]<<4|oi[s[6]],a:t===9?oi[s[7]]<<4|oi[s[8]]:255})),a}const tje=(s,t)=>s<255?t(s):"";function sje(s){var t=Jye(s)?Xye:Zye;return s?"#"+t(s.r)+t(s.g)+t(s.b)+tje(s.a,t):void 0}const aje=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function p9(s,t,a){const r=t*Math.min(a,1-a),n=(i,l=(i+s/30)%12)=>a-r*Math.max(Math.min(l-3,9-l,1),-1);return[n(0),n(8),n(4)]}function rje(s,t,a){const r=(n,i=(n+s/60)%6)=>a-a*t*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function nje(s,t,a){const r=p9(s,1,.5);let n;for(t+a>1&&(n=1/(t+a),t*=n,a*=n),n=0;n<3;n++)r[n]*=1-t-a,r[n]+=t;return r}function ije(s,t,a,r,n){return s===n?(t-a)/r+(t<a?6:0):t===n?(a-s)/r+2:(s-t)/r+4}function NA(s){const a=s.r/255,r=s.g/255,n=s.b/255,i=Math.max(a,r,n),l=Math.min(a,r,n),c=(i+l)/2;let o,u,d;return i!==l&&(d=i-l,u=c>.5?d/(2-i-l):d/(i+l),o=ije(a,r,n,d,i),o=o*60+.5),[o|0,u||0,c]}function wA(s,t,a,r){return(Array.isArray(t)?s(t[0],t[1],t[2]):s(t,a,r)).map(gd)}function kA(s,t,a){return wA(p9,s,t,a)}function lje(s,t,a){return wA(nje,s,t,a)}function cje(s,t,a){return wA(rje,s,t,a)}function g9(s){return(s%360+360)%360}function oje(s){const t=aje.exec(s);let a=255,r;if(!t)return;t[5]!==r&&(a=t[6]?cp(+t[5]):gd(+t[5]));const n=g9(+t[2]),i=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?r=lje(n,i,l):t[1]==="hsv"?r=cje(n,i,l):r=kA(n,i,l),{r:r[0],g:r[1],b:r[2],a}}function dje(s,t){var a=NA(s);a[0]=g9(a[0]+t),a=kA(a),s.r=a[0],s.g=a[1],s.b=a[2]}function hje(s){if(!s)return;const t=NA(s),a=t[0],r=T5(t[1]),n=T5(t[2]);return s.a<255?`hsla(${a}, ${r}%, ${n}%, ${wc(s.a)})`:`hsl(${a}, ${r}%, ${n}%)`}const M5={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},D5={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function uje(){const s={},t=Object.keys(D5),a=Object.keys(M5);let r,n,i,l,c;for(r=0;r<t.length;r++){for(l=c=t[r],n=0;n<a.length;n++)i=a[n],c=c.replace(i,M5[i]);i=parseInt(D5[l],16),s[c]=[i>>16&255,i>>8&255,i&255]}return s}let av;function mje(s){av||(av=uje(),av.transparent=[0,0,0,0]);const t=av[s.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const xje=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function fje(s){const t=xje.exec(s);let a=255,r,n,i;if(t){if(t[7]!==r){const l=+t[7];a=t[8]?cp(l):od(l*255,0,255)}return r=+t[1],n=+t[3],i=+t[5],r=255&(t[2]?cp(r):od(r,0,255)),n=255&(t[4]?cp(n):od(n,0,255)),i=255&(t[6]?cp(i):od(i,0,255)),{r,g:n,b:i,a}}}function pje(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${wc(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const ck=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,dm=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function gje(s,t,a){const r=dm(wc(s.r)),n=dm(wc(s.g)),i=dm(wc(s.b));return{r:gd(ck(r+a*(dm(wc(t.r))-r))),g:gd(ck(n+a*(dm(wc(t.g))-n))),b:gd(ck(i+a*(dm(wc(t.b))-i))),a:s.a+a*(t.a-s.a)}}function rv(s,t,a){if(s){let r=NA(s);r[t]=Math.max(0,Math.min(r[t]+r[t]*a,t===0?360:1)),r=kA(r),s.r=r[0],s.g=r[1],s.b=r[2]}}function y9(s,t){return s&&Object.assign(t||{},s)}function O5(s){var t={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(t={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(t.a=gd(s[3]))):(t=y9(s,{r:0,g:0,b:0,a:1}),t.a=gd(t.a)),t}function yje(s){return s.charAt(0)==="r"?fje(s):oje(s)}class Gp{constructor(t){if(t instanceof Gp)return t;const a=typeof t;let r;a==="object"?r=O5(t):a==="string"&&(r=eje(t)||mje(t)||yje(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=y9(this._rgb);return t&&(t.a=wc(t.a)),t}set rgb(t){this._rgb=O5(t)}rgbString(){return this._valid?pje(this._rgb):void 0}hexString(){return this._valid?sje(this._rgb):void 0}hslString(){return this._valid?hje(this._rgb):void 0}mix(t,a){if(t){const r=this.rgb,n=t.rgb;let i;const l=a===i?.5:a,c=2*l-1,o=r.a-n.a,u=((c*o===-1?c:(c+o)/(1+c*o))+1)/2;i=1-u,r.r=255&u*r.r+i*n.r+.5,r.g=255&u*r.g+i*n.g+.5,r.b=255&u*r.b+i*n.b+.5,r.a=l*r.a+(1-l)*n.a,this.rgb=r}return this}interpolate(t,a){return t&&(this._rgb=gje(this._rgb,t._rgb,a)),this}clone(){return new Gp(this.rgb)}alpha(t){return this._rgb.a=gd(t),this}clearer(t){const a=this._rgb;return a.a*=1-t,this}greyscale(){const t=this._rgb,a=Qg(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=a,this}opaquer(t){const a=this._rgb;return a.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return rv(this._rgb,2,t),this}darken(t){return rv(this._rgb,2,-t),this}saturate(t){return rv(this._rgb,1,t),this}desaturate(t){return rv(this._rgb,1,-t),this}rotate(t){return dje(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function yc(){}const jje=(()=>{let s=0;return()=>s++})();function ys(s){return s==null}function ha(s){if(Array.isArray&&Array.isArray(s))return!0;const t=Object.prototype.toString.call(s);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function os(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function or(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function vl(s,t){return or(s)?s:t}function Xt(s,t){return typeof s>"u"?t:s}const vje=(s,t)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100:+s/t,j9=(s,t)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*t:+s;function aa(s,t,a){if(s&&typeof s.call=="function")return s.apply(a,t)}function Bs(s,t,a,r){let n,i,l;if(ha(s))for(i=s.length,n=0;n<i;n++)t.call(a,s[n],n);else if(os(s))for(l=Object.keys(s),i=l.length,n=0;n<i;n++)t.call(a,s[l[n]],l[n])}function Ib(s,t){let a,r,n,i;if(!s||!t||s.length!==t.length)return!1;for(a=0,r=s.length;a<r;++a)if(n=s[a],i=t[a],n.datasetIndex!==i.datasetIndex||n.index!==i.index)return!1;return!0}function Bb(s){if(ha(s))return s.map(Bb);if(os(s)){const t=Object.create(null),a=Object.keys(s),r=a.length;let n=0;for(;n<r;++n)t[a[n]]=Bb(s[a[n]]);return t}return s}function v9(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function bje(s,t,a,r){if(!v9(s))return;const n=t[s],i=a[s];os(n)&&os(i)?Vp(n,i,r):t[s]=Bb(i)}function Vp(s,t,a){const r=ha(t)?t:[t],n=r.length;if(!os(s))return s;a=a||{};const i=a.merger||bje;let l;for(let c=0;c<n;++c){if(l=r[c],!os(l))continue;const o=Object.keys(l);for(let u=0,d=o.length;u<d;++u)i(o[u],s,l,a)}return s}function yp(s,t){return Vp(s,t,{merger:Nje})}function Nje(s,t,a){if(!v9(s))return;const r=t[s],n=a[s];os(r)&&os(n)?yp(r,n):Object.prototype.hasOwnProperty.call(t,s)||(t[s]=Bb(n))}const R5={"":s=>s,x:s=>s.x,y:s=>s.y};function wje(s){const t=s.split("."),a=[];let r="";for(const n of t)r+=n,r.endsWith("\\")?r=r.slice(0,-1)+".":(a.push(r),r="");return a}function kje(s){const t=wje(s);return a=>{for(const r of t){if(r==="")break;a=a&&a[r]}return a}}function kd(s,t){return(R5[t]||(R5[t]=kje(t)))(s)}function SA(s){return s.charAt(0).toUpperCase()+s.slice(1)}const Wp=s=>typeof s<"u",Sd=s=>typeof s=="function",$5=(s,t)=>{if(s.size!==t.size)return!1;for(const a of s)if(!t.has(a))return!1;return!0};function Sje(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const Cs=Math.PI,oa=2*Cs,_je=oa+Cs,Lb=Number.POSITIVE_INFINITY,Cje=Cs/180,Ra=Cs/2,mh=Cs/4,P5=Cs*2/3,b9=Math.log10,$l=Math.sign;function jp(s,t,a){return Math.abs(s-t)<a}function I5(s){const t=Math.round(s);s=jp(s,t,s/1e3)?t:s;const a=Math.pow(10,Math.floor(b9(s))),r=s/a;return(r<=1?1:r<=2?2:r<=5?5:10)*a}function Eje(s){const t=[],a=Math.sqrt(s);let r;for(r=1;r<a;r++)s%r===0&&(t.push(r),t.push(s/r));return a===(a|0)&&t.push(a),t.sort((n,i)=>n-i).pop(),t}function Aje(s){return typeof s=="symbol"||typeof s=="object"&&s!==null&&!(Symbol.toPrimitive in s||"toString"in s||"valueOf"in s)}function Yp(s){return!Aje(s)&&!isNaN(parseFloat(s))&&isFinite(s)}function Tje(s,t){const a=Math.round(s);return a-t<=s&&a+t>=s}function Mje(s,t,a){let r,n,i;for(r=0,n=s.length;r<n;r++)i=s[r][a],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function Tl(s){return s*(Cs/180)}function _A(s){return s*(180/Cs)}function B5(s){if(!or(s))return;let t=1,a=0;for(;Math.round(s*t)/t!==s;)t*=10,a++;return a}function N9(s,t){const a=t.x-s.x,r=t.y-s.y,n=Math.sqrt(a*a+r*r);let i=Math.atan2(r,a);return i<-.5*Cs&&(i+=oa),{angle:i,distance:n}}function i_(s,t){return Math.sqrt(Math.pow(t.x-s.x,2)+Math.pow(t.y-s.y,2))}function Dje(s,t){return(s-t+_je)%oa-Cs}function Pr(s){return(s%oa+oa)%oa}function Kp(s,t,a,r){const n=Pr(s),i=Pr(t),l=Pr(a),c=Pr(i-n),o=Pr(l-n),u=Pr(n-i),d=Pr(n-l);return n===i||n===l||r&&i===l||c>o&&u<d}function Ur(s,t,a){return Math.max(t,Math.min(a,s))}function Oje(s){return Ur(s,-32768,32767)}function Ac(s,t,a,r=1e-6){return s>=Math.min(t,a)-r&&s<=Math.max(t,a)+r}function CA(s,t,a){a=a||(l=>s[l]<t);let r=s.length-1,n=0,i;for(;r-n>1;)i=n+r>>1,a(i)?n=i:r=i;return{lo:n,hi:r}}const Dh=(s,t,a,r)=>CA(s,a,r?n=>{const i=s[n][t];return i<a||i===a&&s[n+1][t]===a}:n=>s[n][t]<a),Rje=(s,t,a)=>CA(s,a,r=>s[r][t]>=a);function $je(s,t,a){let r=0,n=s.length;for(;r<n&&s[r]<t;)r++;for(;n>r&&s[n-1]>a;)n--;return r>0||n<s.length?s.slice(r,n):s}const w9=["push","pop","shift","splice","unshift"];function Pje(s,t){if(s._chartjs){s._chartjs.listeners.push(t);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),w9.forEach(a=>{const r="_onData"+SA(a),n=s[a];Object.defineProperty(s,a,{configurable:!0,enumerable:!1,value(...i){const l=n.apply(this,i);return s._chartjs.listeners.forEach(c=>{typeof c[r]=="function"&&c[r](...i)}),l}})})}function L5(s,t){const a=s._chartjs;if(!a)return;const r=a.listeners,n=r.indexOf(t);n!==-1&&r.splice(n,1),!(r.length>0)&&(w9.forEach(i=>{delete s[i]}),delete s._chartjs)}function k9(s){const t=new Set(s);return t.size===s.length?s:Array.from(t)}const S9=(function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame})();function _9(s,t){let a=[],r=!1;return function(...n){a=n,r||(r=!0,S9.call(window,()=>{r=!1,s.apply(t,a)}))}}function Ije(s,t){let a;return function(...r){return t?(clearTimeout(a),a=setTimeout(s,t,r)):s.apply(this,r),t}}const EA=s=>s==="start"?"left":s==="end"?"right":"center",Dr=(s,t,a)=>s==="start"?t:s==="end"?a:(t+a)/2,Bje=(s,t,a,r)=>s===(r?"left":"right")?a:s==="center"?(t+a)/2:t;function Lje(s,t,a){const r=t.length;let n=0,i=r;if(s._sorted){const{iScale:l,vScale:c,_parsed:o}=s,u=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null,d=l.axis,{min:f,max:p,minDefined:j,maxDefined:y}=l.getUserBounds();if(j){if(n=Math.min(Dh(o,d,f).lo,a?r:Dh(t,d,l.getPixelForValue(f)).lo),u){const k=o.slice(0,n+1).reverse().findIndex(v=>!ys(v[c.axis]));n-=Math.max(0,k)}n=Ur(n,0,r-1)}if(y){let k=Math.max(Dh(o,l.axis,p,!0).hi+1,a?0:Dh(t,d,l.getPixelForValue(p),!0).hi+1);if(u){const v=o.slice(k-1).findIndex(S=>!ys(S[c.axis]));k+=Math.max(0,v)}i=Ur(k,n,r)-n}else i=r-n}return{start:n,count:i}}function Fje(s){const{xScale:t,yScale:a,_scaleRanges:r}=s,n={xmin:t.min,xmax:t.max,ymin:a.min,ymax:a.max};if(!r)return s._scaleRanges=n,!0;const i=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==a.min||r.ymax!==a.max;return Object.assign(r,n),i}const nv=s=>s===0||s===1,F5=(s,t,a)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-t)*oa/a)),z5=(s,t,a)=>Math.pow(2,-10*s)*Math.sin((s-t)*oa/a)+1,vp={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*Ra)+1,easeOutSine:s=>Math.sin(s*Ra),easeInOutSine:s=>-.5*(Math.cos(Cs*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>nv(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>nv(s)?s:F5(s,.075,.3),easeOutElastic:s=>nv(s)?s:z5(s,.075,.3),easeInOutElastic(s){return nv(s)?s:s<.5?.5*F5(s*2,.1125,.45):.5+.5*z5(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let t=1.70158;return(s/=.5)<1?.5*(s*s*(((t*=1.525)+1)*s-t)):.5*((s-=2)*s*(((t*=1.525)+1)*s+t)+2)},easeInBounce:s=>1-vp.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?vp.easeInBounce(s*2)*.5:vp.easeOutBounce(s*2-1)*.5+.5};function AA(s){if(s&&typeof s=="object"){const t=s.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function H5(s){return AA(s)?s:new Gp(s)}function ok(s){return AA(s)?s:new Gp(s).saturate(.5).darken(.1).hexString()}const zje=["x","y","borderWidth","radius","tension"],Hje=["color","borderColor","backgroundColor"];function Uje(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),s.set("animations",{colors:{type:"color",properties:Hje},numbers:{type:"number",properties:zje}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function qje(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const U5=new Map;function Gje(s,t){t=t||{};const a=s+JSON.stringify(t);let r=U5.get(a);return r||(r=new Intl.NumberFormat(s,t),U5.set(a,r)),r}function TA(s,t,a){return Gje(t,a).format(s)}const Vje={values(s){return ha(s)?s:""+s},numeric(s,t,a){if(s===0)return"0";const r=this.chart.options.locale;let n,i=s;if(a.length>1){const u=Math.max(Math.abs(a[0].value),Math.abs(a[a.length-1].value));(u<1e-4||u>1e15)&&(n="scientific"),i=Wje(s,a)}const l=b9(Math.abs(i)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),o={notation:n,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(o,this.options.ticks.format),TA(s,r,o)}};function Wje(s,t){let a=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(a)>=1&&s!==Math.floor(s)&&(a=s-Math.floor(s)),a}var MA={formatters:Vje};function Yje(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,a)=>a.lineWidth,tickColor:(t,a)=>a.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:MA.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Xh=Object.create(null),l_=Object.create(null);function bp(s,t){if(!t)return s;const a=t.split(".");for(let r=0,n=a.length;r<n;++r){const i=a[r];s=s[i]||(s[i]=Object.create(null))}return s}function dk(s,t,a){return typeof t=="string"?Vp(bp(s,t),a):Vp(bp(s,""),t)}class Kje{constructor(t,a){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,n)=>ok(n.backgroundColor),this.hoverBorderColor=(r,n)=>ok(n.borderColor),this.hoverColor=(r,n)=>ok(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(a)}set(t,a){return dk(this,t,a)}get(t){return bp(this,t)}describe(t,a){return dk(l_,t,a)}override(t,a){return dk(Xh,t,a)}route(t,a,r,n){const i=bp(this,t),l=bp(this,r),c="_"+a;Object.defineProperties(i,{[c]:{value:i[a],writable:!0},[a]:{enumerable:!0,get(){const o=this[c],u=l[n];return os(o)?Object.assign({},u,o):Xt(o,u)},set(o){this[c]=o}}})}apply(t){t.forEach(a=>a(this))}}var _a=new Kje({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Uje,qje,Yje]);function Qje(s){return!s||ys(s.size)||ys(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function Fb(s,t,a,r,n){let i=t[n];return i||(i=t[n]=s.measureText(n).width,a.push(n)),i>r&&(r=i),r}function Xje(s,t,a,r){r=r||{};let n=r.data=r.data||{},i=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(n=r.data={},i=r.garbageCollect=[],r.font=t),s.save(),s.font=t;let l=0;const c=a.length;let o,u,d,f,p;for(o=0;o<c;o++)if(f=a[o],f!=null&&!ha(f))l=Fb(s,n,i,l,f);else if(ha(f))for(u=0,d=f.length;u<d;u++)p=f[u],p!=null&&!ha(p)&&(l=Fb(s,n,i,l,p));s.restore();const j=i.length/2;if(j>a.length){for(o=0;o<j;o++)delete n[i[o]];i.splice(0,j)}return l}function xh(s,t,a){const r=s.currentDevicePixelRatio,n=a!==0?Math.max(a/2,.5):0;return Math.round((t-n)*r)/r+n}function q5(s,t){!t&&!s||(t=t||s.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,s.width,s.height),t.restore())}function c_(s,t,a,r){C9(s,t,a,r,null)}function C9(s,t,a,r,n){let i,l,c,o,u,d,f,p;const j=t.pointStyle,y=t.rotation,k=t.radius;let v=(y||0)*Cje;if(j&&typeof j=="object"&&(i=j.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){s.save(),s.translate(a,r),s.rotate(v),s.drawImage(j,-j.width/2,-j.height/2,j.width,j.height),s.restore();return}if(!(isNaN(k)||k<=0)){switch(s.beginPath(),j){default:n?s.ellipse(a,r,n/2,k,0,0,oa):s.arc(a,r,k,0,oa),s.closePath();break;case"triangle":d=n?n/2:k,s.moveTo(a+Math.sin(v)*d,r-Math.cos(v)*k),v+=P5,s.lineTo(a+Math.sin(v)*d,r-Math.cos(v)*k),v+=P5,s.lineTo(a+Math.sin(v)*d,r-Math.cos(v)*k),s.closePath();break;case"rectRounded":u=k*.516,o=k-u,l=Math.cos(v+mh)*o,f=Math.cos(v+mh)*(n?n/2-u:o),c=Math.sin(v+mh)*o,p=Math.sin(v+mh)*(n?n/2-u:o),s.arc(a-f,r-c,u,v-Cs,v-Ra),s.arc(a+p,r-l,u,v-Ra,v),s.arc(a+f,r+c,u,v,v+Ra),s.arc(a-p,r+l,u,v+Ra,v+Cs),s.closePath();break;case"rect":if(!y){o=Math.SQRT1_2*k,d=n?n/2:o,s.rect(a-d,r-o,2*d,2*o);break}v+=mh;case"rectRot":f=Math.cos(v)*(n?n/2:k),l=Math.cos(v)*k,c=Math.sin(v)*k,p=Math.sin(v)*(n?n/2:k),s.moveTo(a-f,r-c),s.lineTo(a+p,r-l),s.lineTo(a+f,r+c),s.lineTo(a-p,r+l),s.closePath();break;case"crossRot":v+=mh;case"cross":f=Math.cos(v)*(n?n/2:k),l=Math.cos(v)*k,c=Math.sin(v)*k,p=Math.sin(v)*(n?n/2:k),s.moveTo(a-f,r-c),s.lineTo(a+f,r+c),s.moveTo(a+p,r-l),s.lineTo(a-p,r+l);break;case"star":f=Math.cos(v)*(n?n/2:k),l=Math.cos(v)*k,c=Math.sin(v)*k,p=Math.sin(v)*(n?n/2:k),s.moveTo(a-f,r-c),s.lineTo(a+f,r+c),s.moveTo(a+p,r-l),s.lineTo(a-p,r+l),v+=mh,f=Math.cos(v)*(n?n/2:k),l=Math.cos(v)*k,c=Math.sin(v)*k,p=Math.sin(v)*(n?n/2:k),s.moveTo(a-f,r-c),s.lineTo(a+f,r+c),s.moveTo(a+p,r-l),s.lineTo(a-p,r+l);break;case"line":l=n?n/2:Math.cos(v)*k,c=Math.sin(v)*k,s.moveTo(a-l,r-c),s.lineTo(a+l,r+c);break;case"dash":s.moveTo(a,r),s.lineTo(a+Math.cos(v)*(n?n/2:k),r+Math.sin(v)*k);break;case!1:s.closePath();break}s.fill(),t.borderWidth>0&&s.stroke()}}function Tc(s,t,a){return a=a||.5,!t||s&&s.x>t.left-a&&s.x<t.right+a&&s.y>t.top-a&&s.y<t.bottom+a}function h1(s,t){s.save(),s.beginPath(),s.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),s.clip()}function u1(s){s.restore()}function Zje(s,t,a,r,n){if(!t)return s.lineTo(a.x,a.y);if(n==="middle"){const i=(t.x+a.x)/2;s.lineTo(i,t.y),s.lineTo(i,a.y)}else n==="after"!=!!r?s.lineTo(t.x,a.y):s.lineTo(a.x,t.y);s.lineTo(a.x,a.y)}function Jje(s,t,a,r){if(!t)return s.lineTo(a.x,a.y);s.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?a.cp2x:a.cp1x,r?a.cp2y:a.cp1y,a.x,a.y)}function eve(s,t){t.translation&&s.translate(t.translation[0],t.translation[1]),ys(t.rotation)||s.rotate(t.rotation),t.color&&(s.fillStyle=t.color),t.textAlign&&(s.textAlign=t.textAlign),t.textBaseline&&(s.textBaseline=t.textBaseline)}function tve(s,t,a,r,n){if(n.strikethrough||n.underline){const i=s.measureText(r),l=t-i.actualBoundingBoxLeft,c=t+i.actualBoundingBoxRight,o=a-i.actualBoundingBoxAscent,u=a+i.actualBoundingBoxDescent,d=n.strikethrough?(o+u)/2:u;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=n.decorationWidth||2,s.moveTo(l,d),s.lineTo(c,d),s.stroke()}}function sve(s,t){const a=s.fillStyle;s.fillStyle=t.color,s.fillRect(t.left,t.top,t.width,t.height),s.fillStyle=a}function Zh(s,t,a,r,n,i={}){const l=ha(t)?t:[t],c=i.strokeWidth>0&&i.strokeColor!=="";let o,u;for(s.save(),s.font=n.string,eve(s,i),o=0;o<l.length;++o)u=l[o],i.backdrop&&sve(s,i.backdrop),c&&(i.strokeColor&&(s.strokeStyle=i.strokeColor),ys(i.strokeWidth)||(s.lineWidth=i.strokeWidth),s.strokeText(u,a,r,i.maxWidth)),s.fillText(u,a,r,i.maxWidth),tve(s,a,r,u,i),r+=Number(n.lineHeight);s.restore()}function Qp(s,t){const{x:a,y:r,w:n,h:i,radius:l}=t;s.arc(a+l.topLeft,r+l.topLeft,l.topLeft,1.5*Cs,Cs,!0),s.lineTo(a,r+i-l.bottomLeft),s.arc(a+l.bottomLeft,r+i-l.bottomLeft,l.bottomLeft,Cs,Ra,!0),s.lineTo(a+n-l.bottomRight,r+i),s.arc(a+n-l.bottomRight,r+i-l.bottomRight,l.bottomRight,Ra,0,!0),s.lineTo(a+n,r+l.topRight),s.arc(a+n-l.topRight,r+l.topRight,l.topRight,0,-Ra,!0),s.lineTo(a+l.topLeft,r)}const ave=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,rve=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function nve(s,t){const a=(""+s).match(ave);if(!a||a[1]==="normal")return t*1.2;switch(s=+a[2],a[3]){case"px":return s;case"%":s/=100;break}return t*s}const ive=s=>+s||0;function DA(s,t){const a={},r=os(t),n=r?Object.keys(t):t,i=os(s)?r?l=>Xt(s[l],s[t[l]]):l=>s[l]:()=>s;for(const l of n)a[l]=ive(i(l));return a}function E9(s){return DA(s,{top:"y",right:"x",bottom:"y",left:"x"})}function Fh(s){return DA(s,["topLeft","topRight","bottomLeft","bottomRight"])}function qr(s){const t=E9(s);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function qa(s,t){s=s||{},t=t||_a.font;let a=Xt(s.size,t.size);typeof a=="string"&&(a=parseInt(a,10));let r=Xt(s.style,t.style);r&&!(""+r).match(rve)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const n={family:Xt(s.family,t.family),lineHeight:nve(Xt(s.lineHeight,t.lineHeight),a),size:a,style:r,weight:Xt(s.weight,t.weight),string:""};return n.string=Qje(n),n}function iv(s,t,a,r){let n,i,l;for(n=0,i=s.length;n<i;++n)if(l=s[n],l!==void 0&&l!==void 0)return l}function lve(s,t,a){const{min:r,max:n}=s,i=j9(t,(n-r)/2),l=(c,o)=>a&&c===0?0:c+o;return{min:l(r,-Math.abs(i)),max:l(n,i)}}function Pd(s,t){return Object.assign(Object.create(s),t)}function OA(s,t=[""],a,r,n=()=>s[0]){const i=a||s;typeof r>"u"&&(r=D9("_fallback",s));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:i,_fallback:r,_getTarget:n,override:c=>OA([c,...s],t,i,r)};return new Proxy(l,{deleteProperty(c,o){return delete c[o],delete c._keys,delete s[0][o],!0},get(c,o){return T9(c,o,()=>fve(o,t,s,c))},getOwnPropertyDescriptor(c,o){return Reflect.getOwnPropertyDescriptor(c._scopes[0],o)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(c,o){return V5(c).includes(o)},ownKeys(c){return V5(c)},set(c,o,u){const d=c._storage||(c._storage=n());return c[o]=d[o]=u,delete c._keys,!0}})}function Gm(s,t,a,r){const n={_cacheable:!1,_proxy:s,_context:t,_subProxy:a,_stack:new Set,_descriptors:A9(s,r),setContext:i=>Gm(s,i,a,r),override:i=>Gm(s.override(i),t,a,r)};return new Proxy(n,{deleteProperty(i,l){return delete i[l],delete s[l],!0},get(i,l,c){return T9(i,l,()=>ove(i,l,c))},getOwnPropertyDescriptor(i,l){return i._descriptors.allKeys?Reflect.has(s,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,l)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(i,l){return Reflect.has(s,l)},ownKeys(){return Reflect.ownKeys(s)},set(i,l,c){return s[l]=c,delete i[l],!0}})}function A9(s,t={scriptable:!0,indexable:!0}){const{_scriptable:a=t.scriptable,_indexable:r=t.indexable,_allKeys:n=t.allKeys}=s;return{allKeys:n,scriptable:a,indexable:r,isScriptable:Sd(a)?a:()=>a,isIndexable:Sd(r)?r:()=>r}}const cve=(s,t)=>s?s+SA(t):t,RA=(s,t)=>os(t)&&s!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function T9(s,t,a){if(Object.prototype.hasOwnProperty.call(s,t)||t==="constructor")return s[t];const r=a();return s[t]=r,r}function ove(s,t,a){const{_proxy:r,_context:n,_subProxy:i,_descriptors:l}=s;let c=r[t];return Sd(c)&&l.isScriptable(t)&&(c=dve(t,c,s,a)),ha(c)&&c.length&&(c=hve(t,c,s,l.isIndexable)),RA(t,c)&&(c=Gm(c,n,i&&i[t],l)),c}function dve(s,t,a,r){const{_proxy:n,_context:i,_subProxy:l,_stack:c}=a;if(c.has(s))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+s);c.add(s);let o=t(i,l||r);return c.delete(s),RA(s,o)&&(o=$A(n._scopes,n,s,o)),o}function hve(s,t,a,r){const{_proxy:n,_context:i,_subProxy:l,_descriptors:c}=a;if(typeof i.index<"u"&&r(s))return t[i.index%t.length];if(os(t[0])){const o=t,u=n._scopes.filter(d=>d!==o);t=[];for(const d of o){const f=$A(u,n,s,d);t.push(Gm(f,i,l&&l[s],c))}}return t}function M9(s,t,a){return Sd(s)?s(t,a):s}const uve=(s,t)=>s===!0?t:typeof s=="string"?kd(t,s):void 0;function mve(s,t,a,r,n){for(const i of t){const l=uve(a,i);if(l){s.add(l);const c=M9(l._fallback,a,n);if(typeof c<"u"&&c!==a&&c!==r)return c}else if(l===!1&&typeof r<"u"&&a!==r)return null}return!1}function $A(s,t,a,r){const n=t._rootScopes,i=M9(t._fallback,a,r),l=[...s,...n],c=new Set;c.add(r);let o=G5(c,l,a,i||a,r);return o===null||typeof i<"u"&&i!==a&&(o=G5(c,l,i,o,r),o===null)?!1:OA(Array.from(c),[""],n,i,()=>xve(t,a,r))}function G5(s,t,a,r,n){for(;a;)a=mve(s,t,a,r,n);return a}function xve(s,t,a){const r=s._getTarget();t in r||(r[t]={});const n=r[t];return ha(n)&&os(a)?a:n||{}}function fve(s,t,a,r){let n;for(const i of t)if(n=D9(cve(i,s),a),typeof n<"u")return RA(s,n)?$A(a,r,s,n):n}function D9(s,t){for(const a of t){if(!a)continue;const r=a[s];if(typeof r<"u")return r}}function V5(s){let t=s._keys;return t||(t=s._keys=pve(s._scopes)),t}function pve(s){const t=new Set;for(const a of s)for(const r of Object.keys(a).filter(n=>!n.startsWith("_")))t.add(r);return Array.from(t)}function gve(s,t,a,r){const{iScale:n}=s,{key:i="r"}=this._parsing,l=new Array(r);let c,o,u,d;for(c=0,o=r;c<o;++c)u=c+a,d=t[u],l[c]={r:n.parse(kd(d,i),u)};return l}const yve=Number.EPSILON||1e-14,Vm=(s,t)=>t<s.length&&!s[t].skip&&s[t],O9=s=>s==="x"?"y":"x";function jve(s,t,a,r){const n=s.skip?t:s,i=t,l=a.skip?t:a,c=i_(i,n),o=i_(l,i);let u=c/(c+o),d=o/(c+o);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=r*u,p=r*d;return{previous:{x:i.x-f*(l.x-n.x),y:i.y-f*(l.y-n.y)},next:{x:i.x+p*(l.x-n.x),y:i.y+p*(l.y-n.y)}}}function vve(s,t,a){const r=s.length;let n,i,l,c,o,u=Vm(s,0);for(let d=0;d<r-1;++d)if(o=u,u=Vm(s,d+1),!(!o||!u)){if(jp(t[d],0,yve)){a[d]=a[d+1]=0;continue}n=a[d]/t[d],i=a[d+1]/t[d],c=Math.pow(n,2)+Math.pow(i,2),!(c<=9)&&(l=3/Math.sqrt(c),a[d]=n*l*t[d],a[d+1]=i*l*t[d])}}function bve(s,t,a="x"){const r=O9(a),n=s.length;let i,l,c,o=Vm(s,0);for(let u=0;u<n;++u){if(l=c,c=o,o=Vm(s,u+1),!c)continue;const d=c[a],f=c[r];l&&(i=(d-l[a])/3,c[`cp1${a}`]=d-i,c[`cp1${r}`]=f-i*t[u]),o&&(i=(o[a]-d)/3,c[`cp2${a}`]=d+i,c[`cp2${r}`]=f+i*t[u])}}function Nve(s,t="x"){const a=O9(t),r=s.length,n=Array(r).fill(0),i=Array(r);let l,c,o,u=Vm(s,0);for(l=0;l<r;++l)if(c=o,o=u,u=Vm(s,l+1),!!o){if(u){const d=u[t]-o[t];n[l]=d!==0?(u[a]-o[a])/d:0}i[l]=c?u?$l(n[l-1])!==$l(n[l])?0:(n[l-1]+n[l])/2:n[l-1]:n[l]}vve(s,n,i),bve(s,i,t)}function lv(s,t,a){return Math.max(Math.min(s,a),t)}function wve(s,t){let a,r,n,i,l,c=Tc(s[0],t);for(a=0,r=s.length;a<r;++a)l=i,i=c,c=a<r-1&&Tc(s[a+1],t),i&&(n=s[a],l&&(n.cp1x=lv(n.cp1x,t.left,t.right),n.cp1y=lv(n.cp1y,t.top,t.bottom)),c&&(n.cp2x=lv(n.cp2x,t.left,t.right),n.cp2y=lv(n.cp2y,t.top,t.bottom)))}function kve(s,t,a,r,n){let i,l,c,o;if(t.spanGaps&&(s=s.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")Nve(s,n);else{let u=r?s[s.length-1]:s[0];for(i=0,l=s.length;i<l;++i)c=s[i],o=jve(u,c,s[Math.min(i+1,l-(r?0:1))%l],t.tension),c.cp1x=o.previous.x,c.cp1y=o.previous.y,c.cp2x=o.next.x,c.cp2y=o.next.y,u=c}t.capBezierPoints&&wve(s,a)}function PA(){return typeof window<"u"&&typeof document<"u"}function IA(s){let t=s.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function zb(s,t,a){let r;return typeof s=="string"?(r=parseInt(s,10),s.indexOf("%")!==-1&&(r=r/100*t.parentNode[a])):r=s,r}const m1=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function Sve(s,t){return m1(s).getPropertyValue(t)}const _ve=["top","right","bottom","left"];function zh(s,t,a){const r={};a=a?"-"+a:"";for(let n=0;n<4;n++){const i=_ve[n];r[i]=parseFloat(s[t+"-"+i+a])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Cve=(s,t,a)=>(s>0||t>0)&&(!a||!a.shadowRoot);function Eve(s,t){const a=s.touches,r=a&&a.length?a[0]:s,{offsetX:n,offsetY:i}=r;let l=!1,c,o;if(Cve(n,i,s.target))c=n,o=i;else{const u=t.getBoundingClientRect();c=r.clientX-u.left,o=r.clientY-u.top,l=!0}return{x:c,y:o,box:l}}function jh(s,t){if("native"in s)return s;const{canvas:a,currentDevicePixelRatio:r}=t,n=m1(a),i=n.boxSizing==="border-box",l=zh(n,"padding"),c=zh(n,"border","width"),{x:o,y:u,box:d}=Eve(s,a),f=l.left+(d&&c.left),p=l.top+(d&&c.top);let{width:j,height:y}=t;return i&&(j-=l.width+c.width,y-=l.height+c.height),{x:Math.round((o-f)/j*a.width/r),y:Math.round((u-p)/y*a.height/r)}}function Ave(s,t,a){let r,n;if(t===void 0||a===void 0){const i=s&&IA(s);if(!i)t=s.clientWidth,a=s.clientHeight;else{const l=i.getBoundingClientRect(),c=m1(i),o=zh(c,"border","width"),u=zh(c,"padding");t=l.width-u.width-o.width,a=l.height-u.height-o.height,r=zb(c.maxWidth,i,"clientWidth"),n=zb(c.maxHeight,i,"clientHeight")}}return{width:t,height:a,maxWidth:r||Lb,maxHeight:n||Lb}}const cv=s=>Math.round(s*10)/10;function Tve(s,t,a,r){const n=m1(s),i=zh(n,"margin"),l=zb(n.maxWidth,s,"clientWidth")||Lb,c=zb(n.maxHeight,s,"clientHeight")||Lb,o=Ave(s,t,a);let{width:u,height:d}=o;if(n.boxSizing==="content-box"){const p=zh(n,"border","width"),j=zh(n,"padding");u-=j.width+p.width,d-=j.height+p.height}return u=Math.max(0,u-i.width),d=Math.max(0,r?u/r:d-i.height),u=cv(Math.min(u,l,o.maxWidth)),d=cv(Math.min(d,c,o.maxHeight)),u&&!d&&(d=cv(u/2)),(t!==void 0||a!==void 0)&&r&&o.height&&d>o.height&&(d=o.height,u=cv(Math.floor(d*r))),{width:u,height:d}}function W5(s,t,a){const r=t||1,n=Math.floor(s.height*r),i=Math.floor(s.width*r);s.height=Math.floor(s.height),s.width=Math.floor(s.width);const l=s.canvas;return l.style&&(a||!l.style.height&&!l.style.width)&&(l.style.height=`${s.height}px`,l.style.width=`${s.width}px`),s.currentDevicePixelRatio!==r||l.height!==n||l.width!==i?(s.currentDevicePixelRatio=r,l.height=n,l.width=i,s.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Mve=(function(){let s=!1;try{const t={get passive(){return s=!0,!1}};PA()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return s})();function Y5(s,t){const a=Sve(s,t),r=a&&a.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function vh(s,t,a,r){return{x:s.x+a*(t.x-s.x),y:s.y+a*(t.y-s.y)}}function Dve(s,t,a,r){return{x:s.x+a*(t.x-s.x),y:r==="middle"?a<.5?s.y:t.y:r==="after"?a<1?s.y:t.y:a>0?t.y:s.y}}function Ove(s,t,a,r){const n={x:s.cp2x,y:s.cp2y},i={x:t.cp1x,y:t.cp1y},l=vh(s,n,a),c=vh(n,i,a),o=vh(i,t,a),u=vh(l,c,a),d=vh(c,o,a);return vh(u,d,a)}const Rve=function(s,t){return{x(a){return s+s+t-a},setWidth(a){t=a},textAlign(a){return a==="center"?a:a==="right"?"left":"right"},xPlus(a,r){return a-r},leftForLtr(a,r){return a-r}}},$ve=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,t){return s+t},leftForLtr(s,t){return s}}};function km(s,t,a){return s?Rve(t,a):$ve()}function R9(s,t){let a,r;(t==="ltr"||t==="rtl")&&(a=s.canvas.style,r=[a.getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",t,"important"),s.prevTextDirection=r)}function $9(s,t){t!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",t[0],t[1]))}function P9(s){return s==="angle"?{between:Kp,compare:Dje,normalize:Pr}:{between:Ac,compare:(t,a)=>t-a,normalize:t=>t}}function K5({start:s,end:t,count:a,loop:r,style:n}){return{start:s%a,end:t%a,loop:r&&(t-s+1)%a===0,style:n}}function Pve(s,t,a){const{property:r,start:n,end:i}=a,{between:l,normalize:c}=P9(r),o=t.length;let{start:u,end:d,loop:f}=s,p,j;if(f){for(u+=o,d+=o,p=0,j=o;p<j&&l(c(t[u%o][r]),n,i);++p)u--,d--;u%=o,d%=o}return d<u&&(d+=o),{start:u,end:d,loop:f,style:s.style}}function I9(s,t,a){if(!a)return[s];const{property:r,start:n,end:i}=a,l=t.length,{compare:c,between:o,normalize:u}=P9(r),{start:d,end:f,loop:p,style:j}=Pve(s,t,a),y=[];let k=!1,v=null,S,C,_;const A=()=>o(n,_,S)&&c(n,_)!==0,D=()=>c(i,S)===0||o(i,_,S),M=()=>k||A(),L=()=>!k||D();for(let F=d,Q=d;F<=f;++F)C=t[F%l],!C.skip&&(S=u(C[r]),S!==_&&(k=o(S,n,i),v===null&&M()&&(v=c(S,n)===0?F:Q),v!==null&&L()&&(y.push(K5({start:v,end:F,loop:p,count:l,style:j})),v=null),Q=F,_=S));return v!==null&&y.push(K5({start:v,end:f,loop:p,count:l,style:j})),y}function B9(s,t){const a=[],r=s.segments;for(let n=0;n<r.length;n++){const i=I9(r[n],s.points,t);i.length&&a.push(...i)}return a}function Ive(s,t,a,r){let n=0,i=t-1;if(a&&!r)for(;n<t&&!s[n].skip;)n++;for(;n<t&&s[n].skip;)n++;for(n%=t,a&&(i+=n);i>n&&s[i%t].skip;)i--;return i%=t,{start:n,end:i}}function Bve(s,t,a,r){const n=s.length,i=[];let l=t,c=s[t],o;for(o=t+1;o<=a;++o){const u=s[o%n];u.skip||u.stop?c.skip||(r=!1,i.push({start:t%n,end:(o-1)%n,loop:r}),t=l=u.stop?o:null):(l=o,c.skip&&(t=o)),c=u}return l!==null&&i.push({start:t%n,end:l%n,loop:r}),i}function Lve(s,t){const a=s.points,r=s.options.spanGaps,n=a.length;if(!n)return[];const i=!!s._loop,{start:l,end:c}=Ive(a,n,i,r);if(r===!0)return Q5(s,[{start:l,end:c,loop:i}],a,t);const o=c<l?c+n:c,u=!!s._fullLoop&&l===0&&c===n-1;return Q5(s,Bve(a,l,o,u),a,t)}function Q5(s,t,a,r){return!r||!r.setContext||!a?t:Fve(s,t,a,r)}function Fve(s,t,a,r){const n=s._chart.getContext(),i=X5(s.options),{_datasetIndex:l,options:{spanGaps:c}}=s,o=a.length,u=[];let d=i,f=t[0].start,p=f;function j(y,k,v,S){const C=c?-1:1;if(y!==k){for(y+=o;a[y%o].skip;)y-=C;for(;a[k%o].skip;)k+=C;y%o!==k%o&&(u.push({start:y%o,end:k%o,loop:v,style:S}),d=S,f=k%o)}}for(const y of t){f=c?f:y.start;let k=a[f%o],v;for(p=f+1;p<=y.end;p++){const S=a[p%o];v=X5(r.setContext(Pd(n,{type:"segment",p0:k,p1:S,p0DataIndex:(p-1)%o,p1DataIndex:p%o,datasetIndex:l}))),zve(v,d)&&j(f,p-1,y.loop,d),k=S,d=v}f<p-1&&j(f,p-1,y.loop,d)}return u}function X5(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function zve(s,t){if(!t)return!1;const a=[],r=function(n,i){return AA(i)?(a.includes(i)||a.push(i),a.indexOf(i)):i};return JSON.stringify(s,r)!==JSON.stringify(t,r)}function ov(s,t,a){return s.options.clip?s[a]:t[a]}function Hve(s,t){const{xScale:a,yScale:r}=s;return a&&r?{left:ov(a,t,"left"),right:ov(a,t,"right"),top:ov(r,t,"top"),bottom:ov(r,t,"bottom")}:t}function L9(s,t){const a=t._clip;if(a.disabled)return!1;const r=Hve(t,s.chartArea);return{left:a.left===!1?0:r.left-(a.left===!0?0:a.left),right:a.right===!1?s.width:r.right+(a.right===!0?0:a.right),top:a.top===!1?0:r.top-(a.top===!0?0:a.top),bottom:a.bottom===!1?s.height:r.bottom+(a.bottom===!0?0:a.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Uve{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,a,r,n){const i=a.listeners[n],l=a.duration;i.forEach(c=>c({chart:t,initial:a.initial,numSteps:l,currentStep:Math.min(r-a.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=S9.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let a=0;this._charts.forEach((r,n)=>{if(!r.running||!r.items.length)return;const i=r.items;let l=i.length-1,c=!1,o;for(;l>=0;--l)o=i[l],o._active?(o._total>r.duration&&(r.duration=o._total),o.tick(t),c=!0):(i[l]=i[i.length-1],i.pop());c&&(n.draw(),this._notify(n,r,t,"progress")),i.length||(r.running=!1,this._notify(n,r,t,"complete"),r.initial=!1),a+=i.length}),this._lastDate=t,a===0&&(this._running=!1)}_getAnims(t){const a=this._charts;let r=a.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},a.set(t,r)),r}listen(t,a,r){this._getAnims(t).listeners[a].push(r)}add(t,a){!a||!a.length||this._getAnims(t).items.push(...a)}has(t){return this._getAnims(t).items.length>0}start(t){const a=this._charts.get(t);a&&(a.running=!0,a.start=Date.now(),a.duration=a.items.reduce((r,n)=>Math.max(r,n._duration),0),this._refresh())}running(t){if(!this._running)return!1;const a=this._charts.get(t);return!(!a||!a.running||!a.items.length)}stop(t){const a=this._charts.get(t);if(!a||!a.items.length)return;const r=a.items;let n=r.length-1;for(;n>=0;--n)r[n].cancel();a.items=[],this._notify(t,a,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var vc=new Uve;const Z5="transparent",qve={boolean(s,t,a){return a>.5?t:s},color(s,t,a){const r=H5(s||Z5),n=r.valid&&H5(t||Z5);return n&&n.valid?n.mix(r,a).hexString():t},number(s,t,a){return s+(t-s)*a}};class Gve{constructor(t,a,r,n){const i=a[r];n=iv([t.to,n,i,t.from]);const l=iv([t.from,i,n]);this._active=!0,this._fn=t.fn||qve[t.type||typeof l],this._easing=vp[t.easing]||vp.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=a,this._prop=r,this._from=l,this._to=n,this._promises=void 0}active(){return this._active}update(t,a,r){if(this._active){this._notify(!1);const n=this._target[this._prop],i=r-this._start,l=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=iv([t.to,a,n,t.from]),this._from=iv([t.from,n,a])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const a=t-this._start,r=this._duration,n=this._prop,i=this._from,l=this._loop,c=this._to;let o;if(this._active=i!==c&&(l||a<r),!this._active){this._target[n]=c,this._notify(!0);return}if(a<0){this._target[n]=i;return}o=a/r%2,o=l&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[n]=this._fn(i,c,o)}wait(){const t=this._promises||(this._promises=[]);return new Promise((a,r)=>{t.push({res:a,rej:r})})}_notify(t){const a=t?"res":"rej",r=this._promises||[];for(let n=0;n<r.length;n++)r[n][a]()}}class F9{constructor(t,a){this._chart=t,this._properties=new Map,this.configure(a)}configure(t){if(!os(t))return;const a=Object.keys(_a.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(n=>{const i=t[n];if(!os(i))return;const l={};for(const c of a)l[c]=i[c];(ha(i.properties)&&i.properties||[n]).forEach(c=>{(c===n||!r.has(c))&&r.set(c,l)})})}_animateOptions(t,a){const r=a.options,n=Wve(t,r);if(!n)return[];const i=this._createAnimations(n,r);return r.$shared&&Vve(t.options.$animations,r).then(()=>{t.options=r},()=>{}),i}_createAnimations(t,a){const r=this._properties,n=[],i=t.$animations||(t.$animations={}),l=Object.keys(a),c=Date.now();let o;for(o=l.length-1;o>=0;--o){const u=l[o];if(u.charAt(0)==="$")continue;if(u==="options"){n.push(...this._animateOptions(t,a));continue}const d=a[u];let f=i[u];const p=r.get(u);if(f)if(p&&f.active()){f.update(p,d,c);continue}else f.cancel();if(!p||!p.duration){t[u]=d;continue}i[u]=f=new Gve(p,t,u,d),n.push(f)}return n}update(t,a){if(this._properties.size===0){Object.assign(t,a);return}const r=this._createAnimations(t,a);if(r.length)return vc.add(this._chart,r),!0}}function Vve(s,t){const a=[],r=Object.keys(t);for(let n=0;n<r.length;n++){const i=s[r[n]];i&&i.active()&&a.push(i.wait())}return Promise.all(a)}function Wve(s,t){if(!t)return;let a=s.options;if(!a){s.options=t;return}return a.$shared&&(s.options=a=Object.assign({},a,{$shared:!1,$animations:{}})),a}function J5(s,t){const a=s&&s.options||{},r=a.reverse,n=a.min===void 0?t:0,i=a.max===void 0?t:0;return{start:r?i:n,end:r?n:i}}function Yve(s,t,a){if(a===!1)return!1;const r=J5(s,a),n=J5(t,a);return{top:n.end,right:r.end,bottom:n.start,left:r.start}}function Kve(s){let t,a,r,n;return os(s)?(t=s.top,a=s.right,r=s.bottom,n=s.left):t=a=r=n=s,{top:t,right:a,bottom:r,left:n,disabled:s===!1}}function z9(s,t){const a=[],r=s._getSortedDatasetMetas(t);let n,i;for(n=0,i=r.length;n<i;++n)a.push(r[n].index);return a}function e$(s,t,a,r={}){const n=s.keys,i=r.mode==="single";let l,c,o,u;if(t===null)return;let d=!1;for(l=0,c=n.length;l<c;++l){if(o=+n[l],o===a){if(d=!0,r.all)continue;break}u=s.values[o],or(u)&&(i||t===0||$l(t)===$l(u))&&(t+=u)}return!d&&!r.all?0:t}function Qve(s,t){const{iScale:a,vScale:r}=t,n=a.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",l=Object.keys(s),c=new Array(l.length);let o,u,d;for(o=0,u=l.length;o<u;++o)d=l[o],c[o]={[n]:d,[i]:s[d]};return c}function hk(s,t){const a=s&&s.options.stacked;return a||a===void 0&&t.stack!==void 0}function Xve(s,t,a){return`${s.id}.${t.id}.${a.stack||a.type}`}function Zve(s){const{min:t,max:a,minDefined:r,maxDefined:n}=s.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:n?a:Number.POSITIVE_INFINITY}}function Jve(s,t,a){const r=s[t]||(s[t]={});return r[a]||(r[a]={})}function t$(s,t,a,r){for(const n of t.getMatchingVisibleMetas(r).reverse()){const i=s[n.index];if(a&&i>0||!a&&i<0)return n.index}return null}function s$(s,t){const{chart:a,_cachedMeta:r}=s,n=a._stacks||(a._stacks={}),{iScale:i,vScale:l,index:c}=r,o=i.axis,u=l.axis,d=Xve(i,l,r),f=t.length;let p;for(let j=0;j<f;++j){const y=t[j],{[o]:k,[u]:v}=y,S=y._stacks||(y._stacks={});p=S[u]=Jve(n,d,k),p[c]=v,p._top=t$(p,l,!0,r.type),p._bottom=t$(p,l,!1,r.type);const C=p._visualValues||(p._visualValues={});C[c]=v}}function uk(s,t){const a=s.scales;return Object.keys(a).filter(r=>a[r].axis===t).shift()}function ebe(s,t){return Pd(s,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function tbe(s,t,a){return Pd(s,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:a,index:t,mode:"default",type:"data"})}function Jf(s,t){const a=s.controller.index,r=s.vScale&&s.vScale.axis;if(r){t=t||s._parsed;for(const n of t){const i=n._stacks;if(!i||i[r]===void 0||i[r][a]===void 0)return;delete i[r][a],i[r]._visualValues!==void 0&&i[r]._visualValues[a]!==void 0&&delete i[r]._visualValues[a]}}}const mk=s=>s==="reset"||s==="none",a$=(s,t)=>t?s:Object.assign({},s),sbe=(s,t,a)=>s&&!t.hidden&&t._stacked&&{keys:z9(a,!0),values:null};class Xg{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,a){this.chart=t,this._ctx=t.ctx,this.index=a,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=hk(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Jf(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,a=this._cachedMeta,r=this.getDataset(),n=(f,p,j,y)=>f==="x"?p:f==="r"?y:j,i=a.xAxisID=Xt(r.xAxisID,uk(t,"x")),l=a.yAxisID=Xt(r.yAxisID,uk(t,"y")),c=a.rAxisID=Xt(r.rAxisID,uk(t,"r")),o=a.indexAxis,u=a.iAxisID=n(o,i,l,c),d=a.vAxisID=n(o,l,i,c);a.xScale=this.getScaleForId(i),a.yScale=this.getScaleForId(l),a.rScale=this.getScaleForId(c),a.iScale=this.getScaleForId(u),a.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const a=this._cachedMeta;return t===a.iScale?a.vScale:a.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&L5(this._data,this),t._stacked&&Jf(t)}_dataCheck(){const t=this.getDataset(),a=t.data||(t.data=[]),r=this._data;if(os(a)){const n=this._cachedMeta;this._data=Qve(a,n)}else if(r!==a){if(r){L5(r,this);const n=this._cachedMeta;Jf(n),n._parsed=[]}a&&Object.isExtensible(a)&&Pje(a,this),this._syncList=[],this._data=a}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const a=this._cachedMeta,r=this.getDataset();let n=!1;this._dataCheck();const i=a._stacked;a._stacked=hk(a.vScale,a),a.stack!==r.stack&&(n=!0,Jf(a),a.stack=r.stack),this._resyncElements(t),(n||i!==a._stacked)&&(s$(this,a._parsed),a._stacked=hk(a.vScale,a))}configure(){const t=this.chart.config,a=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),a,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,a){const{_cachedMeta:r,_data:n}=this,{iScale:i,_stacked:l}=r,c=i.axis;let o=t===0&&a===n.length?!0:r._sorted,u=t>0&&r._parsed[t-1],d,f,p;if(this._parsing===!1)r._parsed=n,r._sorted=!0,p=n;else{ha(n[t])?p=this.parseArrayData(r,n,t,a):os(n[t])?p=this.parseObjectData(r,n,t,a):p=this.parsePrimitiveData(r,n,t,a);const j=()=>f[c]===null||u&&f[c]<u[c];for(d=0;d<a;++d)r._parsed[d+t]=f=p[d],o&&(j()&&(o=!1),u=f);r._sorted=o}l&&s$(this,p)}parsePrimitiveData(t,a,r,n){const{iScale:i,vScale:l}=t,c=i.axis,o=l.axis,u=i.getLabels(),d=i===l,f=new Array(n);let p,j,y;for(p=0,j=n;p<j;++p)y=p+r,f[p]={[c]:d||i.parse(u[y],y),[o]:l.parse(a[y],y)};return f}parseArrayData(t,a,r,n){const{xScale:i,yScale:l}=t,c=new Array(n);let o,u,d,f;for(o=0,u=n;o<u;++o)d=o+r,f=a[d],c[o]={x:i.parse(f[0],d),y:l.parse(f[1],d)};return c}parseObjectData(t,a,r,n){const{xScale:i,yScale:l}=t,{xAxisKey:c="x",yAxisKey:o="y"}=this._parsing,u=new Array(n);let d,f,p,j;for(d=0,f=n;d<f;++d)p=d+r,j=a[p],u[d]={x:i.parse(kd(j,c),p),y:l.parse(kd(j,o),p)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,a,r){const n=this.chart,i=this._cachedMeta,l=a[t.axis],c={keys:z9(n,!0),values:a._stacks[t.axis]._visualValues};return e$(c,l,i.index,{mode:r})}updateRangeFromParsed(t,a,r,n){const i=r[a.axis];let l=i===null?NaN:i;const c=n&&r._stacks[a.axis];n&&c&&(n.values=c,l=e$(n,i,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,a){const r=this._cachedMeta,n=r._parsed,i=r._sorted&&t===r.iScale,l=n.length,c=this._getOtherScale(t),o=sbe(a,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=Zve(c);let p,j;function y(){j=n[p];const k=j[c.axis];return!or(j[t.axis])||d>k||f<k}for(p=0;p<l&&!(!y()&&(this.updateRangeFromParsed(u,t,j,o),i));++p);if(i){for(p=l-1;p>=0;--p)if(!y()){this.updateRangeFromParsed(u,t,j,o);break}}return u}getAllParsedValues(t){const a=this._cachedMeta._parsed,r=[];let n,i,l;for(n=0,i=a.length;n<i;++n)l=a[n][t.axis],or(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const a=this._cachedMeta,r=a.iScale,n=a.vScale,i=this.getParsed(t);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:n?""+n.getLabelForValue(i[n.axis]):""}}_update(t){const a=this._cachedMeta;this.update(t||"default"),a._clip=Kve(Xt(this.options.clip,Yve(a.xScale,a.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,a=this.chart,r=this._cachedMeta,n=r.data||[],i=a.chartArea,l=[],c=this._drawStart||0,o=this._drawCount||n.length-c,u=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(t,i,c,o),d=c;d<c+o;++d){const f=n[d];f.hidden||(f.active&&u?l.push(f):f.draw(t,i))}for(d=0;d<l.length;++d)l[d].draw(t,i)}getStyle(t,a){const r=a?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,a,r){const n=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];i=l.$context||(l.$context=tbe(this.getContext(),t,l)),i.parsed=this.getParsed(t),i.raw=n.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=ebe(this.chart.getContext(),this.index)),i.dataset=n,i.index=i.datasetIndex=this.index;return i.active=!!a,i.mode=r,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,a){return this._resolveElementOptions(this.dataElementType.id,a,t)}_resolveElementOptions(t,a="default",r){const n=a==="active",i=this._cachedDataOpts,l=t+"-"+a,c=i[l],o=this.enableOptionSharing&&Wp(r);if(c)return a$(c,o);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,t),f=n?[`${t}Hover`,"hover",t,""]:[t,""],p=u.getOptionScopes(this.getDataset(),d),j=Object.keys(_a.elements[t]),y=()=>this.getContext(r,n,a),k=u.resolveNamedOptions(p,j,y,f);return k.$shared&&(k.$shared=o,i[l]=Object.freeze(a$(k,o))),k}_resolveAnimations(t,a,r){const n=this.chart,i=this._cachedDataOpts,l=`animation-${a}`,c=i[l];if(c)return c;let o;if(n.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,a),p=d.getOptionScopes(this.getDataset(),f);o=d.createResolver(p,this.getContext(t,r,a))}const u=new F9(n,o&&o.animations);return o&&o._cacheable&&(i[l]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,a){return!a||mk(t)||this.chart._animationsDisabled}_getSharedOptions(t,a){const r=this.resolveDataElementOptions(t,a),n=this._sharedOptions,i=this.getSharedOptions(r),l=this.includeOptions(a,i)||i!==n;return this.updateSharedOptions(i,a,r),{sharedOptions:i,includeOptions:l}}updateElement(t,a,r,n){mk(n)?Object.assign(t,r):this._resolveAnimations(a,n).update(t,r)}updateSharedOptions(t,a,r){t&&!mk(a)&&this._resolveAnimations(void 0,a).update(t,r)}_setStyle(t,a,r,n){t.active=n;const i=this.getStyle(a,n);this._resolveAnimations(a,r,n).update(t,{options:!n&&this.getSharedOptions(i)||i})}removeHoverStyle(t,a,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,a,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const a=this._data,r=this._cachedMeta.data;for(const[c,o,u]of this._syncList)this[c](o,u);this._syncList=[];const n=r.length,i=a.length,l=Math.min(i,n);l&&this.parse(0,l),i>n?this._insertElements(n,i-n,t):i<n&&this._removeElements(i,n-i)}_insertElements(t,a,r=!0){const n=this._cachedMeta,i=n.data,l=t+a;let c;const o=u=>{for(u.length+=a,c=u.length-1;c>=l;c--)u[c]=u[c-a]};for(o(i),c=t;c<l;++c)i[c]=new this.dataElementType;this._parsing&&o(n._parsed),this.parse(t,a),r&&this.updateElements(i,t,a,"reset")}updateElements(t,a,r,n){}_removeElements(t,a){const r=this._cachedMeta;if(this._parsing){const n=r._parsed.splice(t,a);r._stacked&&Jf(r,n)}r.data.splice(t,a)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[a,r,n]=t;this[a](r,n)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,a){a&&this._sync(["_removeElements",t,a]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function abe(s,t){if(!s._cache.$bar){const a=s.getMatchingVisibleMetas(t);let r=[];for(let n=0,i=a.length;n<i;n++)r=r.concat(a[n].controller.getAllParsedValues(s));s._cache.$bar=k9(r.sort((n,i)=>n-i))}return s._cache.$bar}function rbe(s){const t=s.iScale,a=abe(t,s.type);let r=t._length,n,i,l,c;const o=()=>{l===32767||l===-32768||(Wp(c)&&(r=Math.min(r,Math.abs(l-c)||r)),c=l)};for(n=0,i=a.length;n<i;++n)l=t.getPixelForValue(a[n]),o();for(c=void 0,n=0,i=t.ticks.length;n<i;++n)l=t.getPixelForTick(n),o();return r}function nbe(s,t,a,r){const n=a.barThickness;let i,l;return ys(n)?(i=t.min*a.categoryPercentage,l=a.barPercentage):(i=n*r,l=1),{chunk:i/r,ratio:l,start:t.pixels[s]-i/2}}function ibe(s,t,a,r){const n=t.pixels,i=n[s];let l=s>0?n[s-1]:null,c=s<n.length-1?n[s+1]:null;const o=a.categoryPercentage;l===null&&(l=i-(c===null?t.end-t.start:c-i)),c===null&&(c=i+i-l);const u=i-(i-Math.min(l,c))/2*o;return{chunk:Math.abs(c-l)/2*o/r,ratio:a.barPercentage,start:u}}function lbe(s,t,a,r){const n=a.parse(s[0],r),i=a.parse(s[1],r),l=Math.min(n,i),c=Math.max(n,i);let o=l,u=c;Math.abs(l)>Math.abs(c)&&(o=c,u=l),t[a.axis]=u,t._custom={barStart:o,barEnd:u,start:n,end:i,min:l,max:c}}function H9(s,t,a,r){return ha(s)?lbe(s,t,a,r):t[a.axis]=a.parse(s,r),t}function r$(s,t,a,r){const n=s.iScale,i=s.vScale,l=n.getLabels(),c=n===i,o=[];let u,d,f,p;for(u=a,d=a+r;u<d;++u)p=t[u],f={},f[n.axis]=c||n.parse(l[u],u),o.push(H9(p,f,i,u));return o}function xk(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function cbe(s,t,a){return s!==0?$l(s):(t.isHorizontal()?1:-1)*(t.min>=a?1:-1)}function obe(s){let t,a,r,n,i;return s.horizontal?(t=s.base>s.x,a="left",r="right"):(t=s.base<s.y,a="bottom",r="top"),t?(n="end",i="start"):(n="start",i="end"),{start:a,end:r,reverse:t,top:n,bottom:i}}function dbe(s,t,a,r){let n=t.borderSkipped;const i={};if(!n){s.borderSkipped=i;return}if(n===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:o,top:u,bottom:d}=obe(s);n==="middle"&&a&&(s.enableBorderRadius=!0,(a._top||0)===r?n=u:(a._bottom||0)===r?n=d:(i[n$(d,l,c,o)]=!0,n=u)),i[n$(n,l,c,o)]=!0,s.borderSkipped=i}function n$(s,t,a,r){return r?(s=hbe(s,t,a),s=i$(s,a,t)):s=i$(s,t,a),s}function hbe(s,t,a){return s===t?a:s===a?t:s}function i$(s,t,a){return s==="start"?t:s==="end"?a:s}function ube(s,{inflateAmount:t},a){s.inflateAmount=t==="auto"?a===1?.33:0:t}class mbe extends Xg{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,a,r,n){return r$(t,a,r,n)}parseArrayData(t,a,r,n){return r$(t,a,r,n)}parseObjectData(t,a,r,n){const{iScale:i,vScale:l}=t,{xAxisKey:c="x",yAxisKey:o="y"}=this._parsing,u=i.axis==="x"?c:o,d=l.axis==="x"?c:o,f=[];let p,j,y,k;for(p=r,j=r+n;p<j;++p)k=a[p],y={},y[i.axis]=i.parse(kd(k,u),p),f.push(H9(kd(k,d),y,l,p));return f}updateRangeFromParsed(t,a,r,n){super.updateRangeFromParsed(t,a,r,n);const i=r._custom;i&&a===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const a=this._cachedMeta,{iScale:r,vScale:n}=a,i=this.getParsed(t),l=i._custom,c=xk(l)?"["+l.start+", "+l.end+"]":""+n.getLabelForValue(i[n.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const a=this._cachedMeta;this.updateElements(a.data,0,a.data.length,t)}updateElements(t,a,r,n){const i=n==="reset",{index:l,_cachedMeta:{vScale:c}}=this,o=c.getBasePixel(),u=c.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:p}=this._getSharedOptions(a,n);for(let j=a;j<a+r;j++){const y=this.getParsed(j),k=i||ys(y[c.axis])?{base:o,head:o}:this._calculateBarValuePixels(j),v=this._calculateBarIndexPixels(j,d),S=(y._stacks||{})[c.axis],C={horizontal:u,base:k.base,enableBorderRadius:!S||xk(y._custom)||l===S._top||l===S._bottom,x:u?k.head:v.center,y:u?v.center:k.head,height:u?v.size:Math.abs(k.size),width:u?Math.abs(k.size):v.size};p&&(C.options=f||this.resolveDataElementOptions(j,t[j].active?"active":n));const _=C.options||t[j].options;dbe(C,_,S,l),ube(C,_,d.ratio),this.updateElement(t[j],j,C,n)}}_getStacks(t,a){const{iScale:r}=this._cachedMeta,n=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=r.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(a),o=c&&c[r.axis],u=d=>{const f=d._parsed.find(j=>j[r.axis]===o),p=f&&f[d.vScale.axis];if(ys(p)||isNaN(p))return!0};for(const d of n)if(!(a!==void 0&&u(d))&&((i===!1||l.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&l.push(d.stack),d.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,a=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===a).shift()}_getAxis(){const t={},a=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[Xt(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,a)]=!0;return Object.keys(t)}_getStackIndex(t,a,r){const n=this._getStacks(t,r),i=a!==void 0?n.indexOf(a):-1;return i===-1?n.length-1:i}_getRuler(){const t=this.options,a=this._cachedMeta,r=a.iScale,n=[];let i,l;for(i=0,l=a.data.length;i<l;++i)n.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const c=t.barThickness;return{min:c||rbe(a),pixels:n,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:a,_stacked:r,index:n},options:{base:i,minBarLength:l}}=this,c=i||0,o=this.getParsed(t),u=o._custom,d=xk(u);let f=o[a.axis],p=0,j=r?this.applyStack(a,o,r):f,y,k;j!==f&&(p=j-f,j=f),d&&(f=u.barStart,j=u.barEnd-u.barStart,f!==0&&$l(f)!==$l(u.barEnd)&&(p=0),p+=f);const v=!ys(i)&&!d?i:p;let S=a.getPixelForValue(v);if(this.chart.getDataVisibility(t)?y=a.getPixelForValue(p+j):y=S,k=y-S,Math.abs(k)<l){k=cbe(k,a,c)*l,f===c&&(S-=k/2);const C=a.getPixelForDecimal(0),_=a.getPixelForDecimal(1),A=Math.min(C,_),D=Math.max(C,_);S=Math.max(Math.min(S,D),A),y=S+k,r&&!d&&(o._stacks[a.axis]._visualValues[n]=a.getValueForPixel(y)-a.getValueForPixel(S))}if(S===a.getPixelForValue(c)){const C=$l(k)*a.getLineWidthForValue(c)/2;S+=C,k-=C}return{size:k,base:S,head:y,center:y+k/2}}_calculateBarIndexPixels(t,a){const r=a.scale,n=this.options,i=n.skipNull,l=Xt(n.maxBarThickness,1/0);let c,o;const u=this._getAxisCount();if(a.grouped){const d=i?this._getStackCount(t):a.stackCount,f=n.barThickness==="flex"?ibe(t,a,n,d*u):nbe(t,a,n,d*u),p=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,j=this._getAxis().indexOf(Xt(p,this.getFirstScaleIdForIndexAxis())),y=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0)+j;c=f.start+f.chunk*y+f.chunk/2,o=Math.min(l,f.chunk*f.ratio)}else c=r.getPixelForValue(this.getParsed(t)[r.axis],t),o=Math.min(l,a.min*a.ratio);return{base:c-o/2,head:c+o/2,center:c,size:o}}draw(){const t=this._cachedMeta,a=t.vScale,r=t.data,n=r.length;let i=0;for(;i<n;++i)this.getParsed(i)[a.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}function xbe(s,t,a){let r=1,n=1,i=0,l=0;if(t<oa){const c=s,o=c+t,u=Math.cos(c),d=Math.sin(c),f=Math.cos(o),p=Math.sin(o),j=(_,A,D)=>Kp(_,c,o,!0)?1:Math.max(A,A*a,D,D*a),y=(_,A,D)=>Kp(_,c,o,!0)?-1:Math.min(A,A*a,D,D*a),k=j(0,u,f),v=j(Ra,d,p),S=y(Cs,u,f),C=y(Cs+Ra,d,p);r=(k-S)/2,n=(v-C)/2,i=-(k+S)/2,l=-(v+C)/2}return{ratioX:r,ratioY:n,offsetX:i,offsetY:l}}class U9 extends Xg{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const a=t.data;if(a.labels.length&&a.datasets.length){const{labels:{pointStyle:r,color:n}}=t.legend.options;return a.labels.map((i,l)=>{const o=t.getDatasetMeta(0).controller.getStyle(l);return{text:i,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:n,lineWidth:o.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,a,r){r.chart.toggleDataVisibility(a.index),r.chart.update()}}}};constructor(t,a){super(t,a),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,a){const r=this.getDataset().data,n=this._cachedMeta;if(this._parsing===!1)n._parsed=r;else{let i=o=>+r[o];if(os(r[t])){const{key:o="value"}=this._parsing;i=u=>+kd(r[u],o)}let l,c;for(l=t,c=t+a;l<c;++l)n._parsed[l]=i(l)}}_getRotation(){return Tl(this.options.rotation-90)}_getCircumference(){return Tl(this.options.circumference)}_getRotationExtents(){let t=oa,a=-oa;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const n=this.chart.getDatasetMeta(r).controller,i=n._getRotation(),l=n._getCircumference();t=Math.min(t,i),a=Math.max(a,i+l)}return{rotation:t,circumference:a-t}}update(t){const a=this.chart,{chartArea:r}=a,n=this._cachedMeta,i=n.data,l=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-l)/2,0),o=Math.min(vje(this.options.cutout,c),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:p,ratioY:j,offsetX:y,offsetY:k}=xbe(f,d,o),v=(r.width-l)/p,S=(r.height-l)/j,C=Math.max(Math.min(v,S)/2,0),_=j9(this.options.radius,C),A=Math.max(_*o,0),D=(_-A)/this._getVisibleDatasetWeightTotal();this.offsetX=y*_,this.offsetY=k*_,n.total=this.calculateTotal(),this.outerRadius=_-D*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-D*u,0),this.updateElements(i,0,i.length,t)}_circumference(t,a){const r=this.options,n=this._cachedMeta,i=this._getCircumference();return a&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||n._parsed[t]===null||n.data[t].hidden?0:this.calculateCircumference(n._parsed[t]*i/oa)}updateElements(t,a,r,n){const i=n==="reset",l=this.chart,c=l.chartArea,u=l.options.animation,d=(c.left+c.right)/2,f=(c.top+c.bottom)/2,p=i&&u.animateScale,j=p?0:this.innerRadius,y=p?0:this.outerRadius,{sharedOptions:k,includeOptions:v}=this._getSharedOptions(a,n);let S=this._getRotation(),C;for(C=0;C<a;++C)S+=this._circumference(C,i);for(C=a;C<a+r;++C){const _=this._circumference(C,i),A=t[C],D={x:d+this.offsetX,y:f+this.offsetY,startAngle:S,endAngle:S+_,circumference:_,outerRadius:y,innerRadius:j};v&&(D.options=k||this.resolveDataElementOptions(C,A.active?"active":n)),S+=_,this.updateElement(A,C,D,n)}}calculateTotal(){const t=this._cachedMeta,a=t.data;let r=0,n;for(n=0;n<a.length;n++){const i=t._parsed[n];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(n)&&!a[n].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(t){const a=this._cachedMeta.total;return a>0&&!isNaN(t)?oa*(Math.abs(t)/a):0}getLabelAndValue(t){const a=this._cachedMeta,r=this.chart,n=r.data.labels||[],i=TA(a._parsed[t],r.options.locale);return{label:n[t]||"",value:i}}getMaxBorderWidth(t){let a=0;const r=this.chart;let n,i,l,c,o;if(!t){for(n=0,i=r.data.datasets.length;n<i;++n)if(r.isDatasetVisible(n)){l=r.getDatasetMeta(n),t=l.data,c=l.controller;break}}if(!t)return 0;for(n=0,i=t.length;n<i;++n)o=c.resolveDataElementOptions(n),o.borderAlign!=="inner"&&(a=Math.max(a,o.borderWidth||0,o.hoverBorderWidth||0));return a}getMaxOffset(t){let a=0;for(let r=0,n=t.length;r<n;++r){const i=this.resolveDataElementOptions(r);a=Math.max(a,i.offset||0,i.hoverOffset||0)}return a}_getRingWeightOffset(t){let a=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(a+=this._getRingWeight(r));return a}_getRingWeight(t){return Math.max(Xt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class fbe extends Xg{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const a=this._cachedMeta,{dataset:r,data:n=[],_dataset:i}=a,l=this.chart._animationsDisabled;let{start:c,count:o}=Lje(a,n,l);this._drawStart=c,this._drawCount=o,Fje(a)&&(c=0,o=n.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=n;const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!l,options:u},t),this.updateElements(n,c,o,t)}updateElements(t,a,r,n){const i=n==="reset",{iScale:l,vScale:c,_stacked:o,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(a,n),p=l.axis,j=c.axis,{spanGaps:y,segment:k}=this.options,v=Yp(y)?y:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||i||n==="none",C=a+r,_=t.length;let A=a>0&&this.getParsed(a-1);for(let D=0;D<_;++D){const M=t[D],L=S?M:{};if(D<a||D>=C){L.skip=!0;continue}const F=this.getParsed(D),Q=ys(F[j]),I=L[p]=l.getPixelForValue(F[p],D),H=L[j]=i||Q?c.getBasePixel():c.getPixelForValue(o?this.applyStack(c,F,o):F[j],D);L.skip=isNaN(I)||isNaN(H)||Q,L.stop=D>0&&Math.abs(F[p]-A[p])>v,k&&(L.parsed=F,L.raw=u.data[D]),f&&(L.options=d||this.resolveDataElementOptions(D,M.active?"active":n)),S||this.updateElement(M,D,L,n),A=F}}getMaxOverflow(){const t=this._cachedMeta,a=t.dataset,r=a.options&&a.options.borderWidth||0,n=t.data||[];if(!n.length)return r;const i=n[0].size(this.resolveDataElementOptions(0)),l=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,i,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class pbe extends U9{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class gbe extends Xg{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const a=this._cachedMeta.vScale,r=this.getParsed(t);return{label:a.getLabels()[t],value:""+a.getLabelForValue(r[a.axis])}}parseObjectData(t,a,r,n){return gve.bind(this)(t,a,r,n)}update(t){const a=this._cachedMeta,r=a.dataset,n=a.data||[],i=a.iScale.getLabels();if(r.points=n,t!=="resize"){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0);const c={_loop:!0,_fullLoop:i.length===n.length,options:l};this.updateElement(r,void 0,c,t)}this.updateElements(n,0,n.length,t)}updateElements(t,a,r,n){const i=this._cachedMeta.rScale,l=n==="reset";for(let c=a;c<a+r;c++){const o=t[c],u=this.resolveDataElementOptions(c,o.active?"active":n),d=i.getPointPositionForValue(c,this.getParsed(c).r),f=l?i.xCenter:d.x,p=l?i.yCenter:d.y,j={x:f,y:p,angle:d.angle,skip:isNaN(f)||isNaN(p),options:u};this.updateElement(o,c,j,n)}}}function fh(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class BA{static override(t){Object.assign(BA.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return fh()}parse(){return fh()}format(){return fh()}add(){return fh()}diff(){return fh()}startOf(){return fh()}endOf(){return fh()}}var ybe={_date:BA};function jbe(s,t,a,r){const{controller:n,data:i,_sorted:l}=s,c=n._cachedMeta.iScale,o=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&l&&i.length){const u=c._reversePixels?Rje:Dh;if(r){if(n._sharedOptions){const d=i[0],f=typeof d.getRange=="function"&&d.getRange(t);if(f){const p=u(i,t,a-f),j=u(i,t,a+f);return{lo:p.lo,hi:j.hi}}}}else{const d=u(i,t,a);if(o){const{vScale:f}=n._cachedMeta,{_parsed:p}=s,j=p.slice(0,d.lo+1).reverse().findIndex(k=>!ys(k[f.axis]));d.lo-=Math.max(0,j);const y=p.slice(d.hi).findIndex(k=>!ys(k[f.axis]));d.hi+=Math.max(0,y)}return d}}return{lo:0,hi:i.length-1}}function x1(s,t,a,r,n){const i=s.getSortedVisibleDatasetMetas(),l=a[t];for(let c=0,o=i.length;c<o;++c){const{index:u,data:d}=i[c],{lo:f,hi:p}=jbe(i[c],t,l,n);for(let j=f;j<=p;++j){const y=d[j];y.skip||r(y,u,j)}}}function vbe(s){const t=s.indexOf("x")!==-1,a=s.indexOf("y")!==-1;return function(r,n){const i=t?Math.abs(r.x-n.x):0,l=a?Math.abs(r.y-n.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(l,2))}}function fk(s,t,a,r,n){const i=[];return!n&&!s.isPointInArea(t)||x1(s,a,t,function(c,o,u){!n&&!Tc(c,s.chartArea,0)||c.inRange(t.x,t.y,r)&&i.push({element:c,datasetIndex:o,index:u})},!0),i}function bbe(s,t,a,r){let n=[];function i(l,c,o){const{startAngle:u,endAngle:d}=l.getProps(["startAngle","endAngle"],r),{angle:f}=N9(l,{x:t.x,y:t.y});Kp(f,u,d)&&n.push({element:l,datasetIndex:c,index:o})}return x1(s,a,t,i),n}function Nbe(s,t,a,r,n,i){let l=[];const c=vbe(a);let o=Number.POSITIVE_INFINITY;function u(d,f,p){const j=d.inRange(t.x,t.y,n);if(r&&!j)return;const y=d.getCenterPoint(n);if(!(!!i||s.isPointInArea(y))&&!j)return;const v=c(t,y);v<o?(l=[{element:d,datasetIndex:f,index:p}],o=v):v===o&&l.push({element:d,datasetIndex:f,index:p})}return x1(s,a,t,u),l}function pk(s,t,a,r,n,i){return!i&&!s.isPointInArea(t)?[]:a==="r"&&!r?bbe(s,t,a,n):Nbe(s,t,a,r,n,i)}function l$(s,t,a,r,n){const i=[],l=a==="x"?"inXRange":"inYRange";let c=!1;return x1(s,a,t,(o,u,d)=>{o[l]&&o[l](t[a],n)&&(i.push({element:o,datasetIndex:u,index:d}),c=c||o.inRange(t.x,t.y,n))}),r&&!c?[]:i}var wbe={modes:{index(s,t,a,r){const n=jh(t,s),i=a.axis||"x",l=a.includeInvisible||!1,c=a.intersect?fk(s,n,i,r,l):pk(s,n,i,!1,r,l),o=[];return c.length?(s.getSortedVisibleDatasetMetas().forEach(u=>{const d=c[0].index,f=u.data[d];f&&!f.skip&&o.push({element:f,datasetIndex:u.index,index:d})}),o):[]},dataset(s,t,a,r){const n=jh(t,s),i=a.axis||"xy",l=a.includeInvisible||!1;let c=a.intersect?fk(s,n,i,r,l):pk(s,n,i,!1,r,l);if(c.length>0){const o=c[0].datasetIndex,u=s.getDatasetMeta(o).data;c=[];for(let d=0;d<u.length;++d)c.push({element:u[d],datasetIndex:o,index:d})}return c},point(s,t,a,r){const n=jh(t,s),i=a.axis||"xy",l=a.includeInvisible||!1;return fk(s,n,i,r,l)},nearest(s,t,a,r){const n=jh(t,s),i=a.axis||"xy",l=a.includeInvisible||!1;return pk(s,n,i,a.intersect,r,l)},x(s,t,a,r){const n=jh(t,s);return l$(s,n,"x",a.intersect,r)},y(s,t,a,r){const n=jh(t,s);return l$(s,n,"y",a.intersect,r)}}};const q9=["left","top","right","bottom"];function ep(s,t){return s.filter(a=>a.pos===t)}function c$(s,t){return s.filter(a=>q9.indexOf(a.pos)===-1&&a.box.axis===t)}function tp(s,t){return s.sort((a,r)=>{const n=t?r:a,i=t?a:r;return n.weight===i.weight?n.index-i.index:n.weight-i.weight})}function kbe(s){const t=[];let a,r,n,i,l,c;for(a=0,r=(s||[]).length;a<r;++a)n=s[a],{position:i,options:{stack:l,stackWeight:c=1}}=n,t.push({index:a,box:n,pos:i,horizontal:n.isHorizontal(),weight:n.weight,stack:l&&i+l,stackWeight:c});return t}function Sbe(s){const t={};for(const a of s){const{stack:r,pos:n,stackWeight:i}=a;if(!r||!q9.includes(n))continue;const l=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=i}return t}function _be(s,t){const a=Sbe(s),{vBoxMaxWidth:r,hBoxMaxHeight:n}=t;let i,l,c;for(i=0,l=s.length;i<l;++i){c=s[i];const{fullSize:o}=c.box,u=a[c.stack],d=u&&c.stackWeight/u.weight;c.horizontal?(c.width=d?d*r:o&&t.availableWidth,c.height=n):(c.width=r,c.height=d?d*n:o&&t.availableHeight)}return a}function Cbe(s){const t=kbe(s),a=tp(t.filter(u=>u.box.fullSize),!0),r=tp(ep(t,"left"),!0),n=tp(ep(t,"right")),i=tp(ep(t,"top"),!0),l=tp(ep(t,"bottom")),c=c$(t,"x"),o=c$(t,"y");return{fullSize:a,leftAndTop:r.concat(i),rightAndBottom:n.concat(o).concat(l).concat(c),chartArea:ep(t,"chartArea"),vertical:r.concat(n).concat(o),horizontal:i.concat(l).concat(c)}}function o$(s,t,a,r){return Math.max(s[a],t[a])+Math.max(s[r],t[r])}function G9(s,t){s.top=Math.max(s.top,t.top),s.left=Math.max(s.left,t.left),s.bottom=Math.max(s.bottom,t.bottom),s.right=Math.max(s.right,t.right)}function Ebe(s,t,a,r){const{pos:n,box:i}=a,l=s.maxPadding;if(!os(n)){a.size&&(s[n]-=a.size);const f=r[a.stack]||{size:0,count:1};f.size=Math.max(f.size,a.horizontal?i.height:i.width),a.size=f.size/f.count,s[n]+=a.size}i.getPadding&&G9(l,i.getPadding());const c=Math.max(0,t.outerWidth-o$(l,s,"left","right")),o=Math.max(0,t.outerHeight-o$(l,s,"top","bottom")),u=c!==s.w,d=o!==s.h;return s.w=c,s.h=o,a.horizontal?{same:u,other:d}:{same:d,other:u}}function Abe(s){const t=s.maxPadding;function a(r){const n=Math.max(t[r]-s[r],0);return s[r]+=n,n}s.y+=a("top"),s.x+=a("left"),a("right"),a("bottom")}function Tbe(s,t){const a=t.maxPadding;function r(n){const i={left:0,top:0,right:0,bottom:0};return n.forEach(l=>{i[l]=Math.max(t[l],a[l])}),i}return r(s?["left","right"]:["top","bottom"])}function op(s,t,a,r){const n=[];let i,l,c,o,u,d;for(i=0,l=s.length,u=0;i<l;++i){c=s[i],o=c.box,o.update(c.width||t.w,c.height||t.h,Tbe(c.horizontal,t));const{same:f,other:p}=Ebe(t,a,c,r);u|=f&&n.length,d=d||p,o.fullSize||n.push(c)}return u&&op(n,t,a,r)||d}function dv(s,t,a,r,n){s.top=a,s.left=t,s.right=t+r,s.bottom=a+n,s.width=r,s.height=n}function d$(s,t,a,r){const n=a.padding;let{x:i,y:l}=t;for(const c of s){const o=c.box,u=r[c.stack]||{placed:0,weight:1},d=c.stackWeight/u.weight||1;if(c.horizontal){const f=t.w*d,p=u.size||o.height;Wp(u.start)&&(l=u.start),o.fullSize?dv(o,n.left,l,a.outerWidth-n.right-n.left,p):dv(o,t.left+u.placed,l,f,p),u.start=l,u.placed+=f,l=o.bottom}else{const f=t.h*d,p=u.size||o.width;Wp(u.start)&&(i=u.start),o.fullSize?dv(o,i,n.top,p,a.outerHeight-n.bottom-n.top):dv(o,i,t.top+u.placed,p,f),u.start=i,u.placed+=f,i=o.right}}t.x=i,t.y=l}var pi={addBox(s,t){s.boxes||(s.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(a){t.draw(a)}}]},s.boxes.push(t)},removeBox(s,t){const a=s.boxes?s.boxes.indexOf(t):-1;a!==-1&&s.boxes.splice(a,1)},configure(s,t,a){t.fullSize=a.fullSize,t.position=a.position,t.weight=a.weight},update(s,t,a,r){if(!s)return;const n=qr(s.options.layout.padding),i=Math.max(t-n.width,0),l=Math.max(a-n.height,0),c=Cbe(s.boxes),o=c.vertical,u=c.horizontal;Bs(s.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});const d=o.reduce((k,v)=>v.box.options&&v.box.options.display===!1?k:k+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:a,padding:n,availableWidth:i,availableHeight:l,vBoxMaxWidth:i/2/d,hBoxMaxHeight:l/2}),p=Object.assign({},n);G9(p,qr(r));const j=Object.assign({maxPadding:p,w:i,h:l,x:n.left,y:n.top},n),y=_be(o.concat(u),f);op(c.fullSize,j,f,y),op(o,j,f,y),op(u,j,f,y)&&op(o,j,f,y),Abe(j),d$(c.leftAndTop,j,f,y),j.x+=j.w,j.y+=j.h,d$(c.rightAndBottom,j,f,y),s.chartArea={left:j.left,top:j.top,right:j.left+j.w,bottom:j.top+j.h,height:j.h,width:j.w},Bs(c.chartArea,k=>{const v=k.box;Object.assign(v,s.chartArea),v.update(j.w,j.h,{left:0,top:0,right:0,bottom:0})})}};class V9{acquireContext(t,a){}releaseContext(t){return!1}addEventListener(t,a,r){}removeEventListener(t,a,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,a,r,n){return a=Math.max(0,a||t.width),r=r||t.height,{width:a,height:Math.max(0,n?Math.floor(a/n):r)}}isAttached(t){return!0}updateConfig(t){}}class Mbe extends V9{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Dv="$chartjs",Dbe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},h$=s=>s===null||s==="";function Obe(s,t){const a=s.style,r=s.getAttribute("height"),n=s.getAttribute("width");if(s[Dv]={initial:{height:r,width:n,style:{display:a.display,height:a.height,width:a.width}}},a.display=a.display||"block",a.boxSizing=a.boxSizing||"border-box",h$(n)){const i=Y5(s,"width");i!==void 0&&(s.width=i)}if(h$(r))if(s.style.height==="")s.height=s.width/(t||2);else{const i=Y5(s,"height");i!==void 0&&(s.height=i)}return s}const W9=Mve?{passive:!0}:!1;function Rbe(s,t,a){s&&s.addEventListener(t,a,W9)}function $be(s,t,a){s&&s.canvas&&s.canvas.removeEventListener(t,a,W9)}function Pbe(s,t){const a=Dbe[s.type]||s.type,{x:r,y:n}=jh(s,t);return{type:a,chart:t,native:s,x:r!==void 0?r:null,y:n!==void 0?n:null}}function Hb(s,t){for(const a of s)if(a===t||a.contains(t))return!0}function Ibe(s,t,a){const r=s.canvas,n=new MutationObserver(i=>{let l=!1;for(const c of i)l=l||Hb(c.addedNodes,r),l=l&&!Hb(c.removedNodes,r);l&&a()});return n.observe(document,{childList:!0,subtree:!0}),n}function Bbe(s,t,a){const r=s.canvas,n=new MutationObserver(i=>{let l=!1;for(const c of i)l=l||Hb(c.removedNodes,r),l=l&&!Hb(c.addedNodes,r);l&&a()});return n.observe(document,{childList:!0,subtree:!0}),n}const Xp=new Map;let u$=0;function Y9(){const s=window.devicePixelRatio;s!==u$&&(u$=s,Xp.forEach((t,a)=>{a.currentDevicePixelRatio!==s&&t()}))}function Lbe(s,t){Xp.size||window.addEventListener("resize",Y9),Xp.set(s,t)}function Fbe(s){Xp.delete(s),Xp.size||window.removeEventListener("resize",Y9)}function zbe(s,t,a){const r=s.canvas,n=r&&IA(r);if(!n)return;const i=_9((c,o)=>{const u=n.clientWidth;a(c,o),u<n.clientWidth&&a()},window),l=new ResizeObserver(c=>{const o=c[0],u=o.contentRect.width,d=o.contentRect.height;u===0&&d===0||i(u,d)});return l.observe(n),Lbe(s,i),l}function gk(s,t,a){a&&a.disconnect(),t==="resize"&&Fbe(s)}function Hbe(s,t,a){const r=s.canvas,n=_9(i=>{s.ctx!==null&&a(Pbe(i,s))},s);return Rbe(r,t,n),n}class Ube extends V9{acquireContext(t,a){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(Obe(t,a),r):null}releaseContext(t){const a=t.canvas;if(!a[Dv])return!1;const r=a[Dv].initial;["height","width"].forEach(i=>{const l=r[i];ys(l)?a.removeAttribute(i):a.setAttribute(i,l)});const n=r.style||{};return Object.keys(n).forEach(i=>{a.style[i]=n[i]}),a.width=a.width,delete a[Dv],!0}addEventListener(t,a,r){this.removeEventListener(t,a);const n=t.$proxies||(t.$proxies={}),l={attach:Ibe,detach:Bbe,resize:zbe}[a]||Hbe;n[a]=l(t,a,r)}removeEventListener(t,a){const r=t.$proxies||(t.$proxies={}),n=r[a];if(!n)return;({attach:gk,detach:gk,resize:gk}[a]||$be)(t,a,n),r[a]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,a,r,n){return Tve(t,a,r,n)}isAttached(t){const a=t&&IA(t);return!!(a&&a.isConnected)}}function qbe(s){return!PA()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?Mbe:Ube}let io=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:a,y:r}=this.getProps(["x","y"],t);return{x:a,y:r}}hasValue(){return Yp(this.x)&&Yp(this.y)}getProps(t,a){const r=this.$animations;if(!a||!r)return this;const n={};return t.forEach(i=>{n[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),n}};function Gbe(s,t){const a=s.options.ticks,r=Vbe(s),n=Math.min(a.maxTicksLimit||r,r),i=a.major.enabled?Ybe(t):[],l=i.length,c=i[0],o=i[l-1],u=[];if(l>n)return Kbe(t,u,i,l/n),u;const d=Wbe(i,t,n);if(l>0){let f,p;const j=l>1?Math.round((o-c)/(l-1)):null;for(hv(t,u,d,ys(j)?0:c-j,c),f=0,p=l-1;f<p;f++)hv(t,u,d,i[f],i[f+1]);return hv(t,u,d,o,ys(j)?t.length:o+j),u}return hv(t,u,d),u}function Vbe(s){const t=s.options.offset,a=s._tickSize(),r=s._length/a+(t?0:1),n=s._maxLength/a;return Math.floor(Math.min(r,n))}function Wbe(s,t,a){const r=Qbe(s),n=t.length/a;if(!r)return Math.max(n,1);const i=Eje(r);for(let l=0,c=i.length-1;l<c;l++){const o=i[l];if(o>n)return o}return Math.max(n,1)}function Ybe(s){const t=[];let a,r;for(a=0,r=s.length;a<r;a++)s[a].major&&t.push(a);return t}function Kbe(s,t,a,r){let n=0,i=a[0],l;for(r=Math.ceil(r),l=0;l<s.length;l++)l===i&&(t.push(s[l]),n++,i=a[n*r])}function hv(s,t,a,r,n){const i=Xt(r,0),l=Math.min(Xt(n,s.length),s.length);let c=0,o,u,d;for(a=Math.ceil(a),n&&(o=n-r,a=o/Math.floor(o/a)),d=i;d<0;)c++,d=Math.round(i+c*a);for(u=Math.max(i,0);u<l;u++)u===d&&(t.push(s[u]),c++,d=Math.round(i+c*a))}function Qbe(s){const t=s.length;let a,r;if(t<2)return!1;for(r=s[0],a=1;a<t;++a)if(s[a]-s[a-1]!==r)return!1;return r}const Xbe=s=>s==="left"?"right":s==="right"?"left":s,m$=(s,t,a)=>t==="top"||t==="left"?s[t]+a:s[t]-a,x$=(s,t)=>Math.min(t||s,s);function f$(s,t){const a=[],r=s.length/t,n=s.length;let i=0;for(;i<n;i+=r)a.push(s[Math.floor(i)]);return a}function Zbe(s,t,a){const r=s.ticks.length,n=Math.min(t,r-1),i=s._startPixel,l=s._endPixel,c=1e-6;let o=s.getPixelForTick(n),u;if(!(a&&(r===1?u=Math.max(o-i,l-o):t===0?u=(s.getPixelForTick(1)-o)/2:u=(o-s.getPixelForTick(n-1))/2,o+=n<t?u:-u,o<i-c||o>l+c)))return o}function Jbe(s,t){Bs(s,a=>{const r=a.gc,n=r.length/2;let i;if(n>t){for(i=0;i<n;++i)delete a.data[r[i]];r.splice(0,n)}})}function sp(s){return s.drawTicks?s.tickLength:0}function p$(s,t){if(!s.display)return 0;const a=qa(s.font,t),r=qr(s.padding);return(ha(s.text)?s.text.length:1)*a.lineHeight+r.height}function eNe(s,t){return Pd(s,{scale:t,type:"scale"})}function tNe(s,t,a){return Pd(s,{tick:a,index:t,type:"tick"})}function sNe(s,t,a){let r=EA(s);return(a&&t!=="right"||!a&&t==="right")&&(r=Xbe(r)),r}function aNe(s,t,a,r){const{top:n,left:i,bottom:l,right:c,chart:o}=s,{chartArea:u,scales:d}=o;let f=0,p,j,y;const k=l-n,v=c-i;if(s.isHorizontal()){if(j=Dr(r,i,c),os(a)){const S=Object.keys(a)[0],C=a[S];y=d[S].getPixelForValue(C)+k-t}else a==="center"?y=(u.bottom+u.top)/2+k-t:y=m$(s,a,t);p=c-i}else{if(os(a)){const S=Object.keys(a)[0],C=a[S];j=d[S].getPixelForValue(C)-v+t}else a==="center"?j=(u.left+u.right)/2-v+t:j=m$(s,a,t);y=Dr(r,l,n),f=a==="left"?-Ra:Ra}return{titleX:j,titleY:y,maxWidth:p,rotation:f}}class kx extends io{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,a){return t}getUserBounds(){let{_userMin:t,_userMax:a,_suggestedMin:r,_suggestedMax:n}=this;return t=vl(t,Number.POSITIVE_INFINITY),a=vl(a,Number.NEGATIVE_INFINITY),r=vl(r,Number.POSITIVE_INFINITY),n=vl(n,Number.NEGATIVE_INFINITY),{min:vl(t,r),max:vl(a,n),minDefined:or(t),maxDefined:or(a)}}getMinMax(t){let{min:a,max:r,minDefined:n,maxDefined:i}=this.getUserBounds(),l;if(n&&i)return{min:a,max:r};const c=this.getMatchingVisibleMetas();for(let o=0,u=c.length;o<u;++o)l=c[o].controller.getMinMax(this,t),n||(a=Math.min(a,l.min)),i||(r=Math.max(r,l.max));return a=i&&a>r?r:a,r=n&&a>r?a:r,{min:vl(a,vl(r,a)),max:vl(r,vl(a,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){aa(this.options.beforeUpdate,[this])}update(t,a,r){const{beginAtZero:n,grace:i,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=a,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=lve(this,i,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=c<this.ticks.length;this._convertTicksToLabels(o?f$(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=Gbe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,a,r;this.isHorizontal()?(a=this.left,r=this.right):(a=this.top,r=this.bottom,t=!t),this._startPixel=a,this._endPixel=r,this._reversePixels=t,this._length=r-a,this._alignToPixels=this.options.alignToPixels}afterUpdate(){aa(this.options.afterUpdate,[this])}beforeSetDimensions(){aa(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){aa(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),aa(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){aa(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const a=this.options.ticks;let r,n,i;for(r=0,n=t.length;r<n;r++)i=t[r],i.label=aa(a.callback,[i.value,r,t],this)}afterTickToLabelConversion(){aa(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){aa(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,a=t.ticks,r=x$(this.ticks.length,t.ticks.maxTicksLimit),n=a.minRotation||0,i=a.maxRotation;let l=n,c,o,u;if(!this._isVisible()||!a.display||n>=i||r<=1||!this.isHorizontal()){this.labelRotation=n;return}const d=this._getLabelSizes(),f=d.widest.width,p=d.highest.height,j=Ur(this.chart.width-f,0,this.maxWidth);c=t.offset?this.maxWidth/r:j/(r-1),f+6>c&&(c=j/(r-(t.offset?.5:1)),o=this.maxHeight-sp(t.grid)-a.padding-p$(t.title,this.chart.options.font),u=Math.sqrt(f*f+p*p),l=_A(Math.min(Math.asin(Ur((d.highest.height+6)/c,-1,1)),Math.asin(Ur(o/u,-1,1))-Math.asin(Ur(p/u,-1,1)))),l=Math.max(n,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){aa(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){aa(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:a,options:{ticks:r,title:n,grid:i}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const o=p$(n,a.options.font);if(c?(t.width=this.maxWidth,t.height=sp(i)+o):(t.height=this.maxHeight,t.width=sp(i)+o),r.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:p}=this._getLabelSizes(),j=r.padding*2,y=Tl(this.labelRotation),k=Math.cos(y),v=Math.sin(y);if(c){const S=r.mirror?0:v*f.width+k*p.height;t.height=Math.min(this.maxHeight,t.height+S+j)}else{const S=r.mirror?0:k*f.width+v*p.height;t.width=Math.min(this.maxWidth,t.width+S+j)}this._calculatePadding(u,d,v,k)}}this._handleMargins(),c?(this.width=this._length=a.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=a.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,a,r,n){const{ticks:{align:i,padding:l},position:c}=this.options,o=this.labelRotation!==0,u=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,j=0;o?u?(p=n*t.width,j=r*a.height):(p=r*t.height,j=n*a.width):i==="start"?j=a.width:i==="end"?p=t.width:i!=="inner"&&(p=t.width/2,j=a.width/2),this.paddingLeft=Math.max((p-d+l)*this.width/(this.width-d),0),this.paddingRight=Math.max((j-f+l)*this.width/(this.width-f),0)}else{let d=a.height/2,f=t.height/2;i==="start"?(d=0,f=t.height):i==="end"&&(d=a.height,f=0),this.paddingTop=d+l,this.paddingBottom=f+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){aa(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:a}=this.options;return a==="top"||a==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let a,r;for(a=0,r=t.length;a<r;a++)ys(t[a].label)&&(t.splice(a,1),r--,a--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const a=this.options.ticks.sampleSize;let r=this.ticks;a<r.length&&(r=f$(r,a)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,a,r){const{ctx:n,_longestTextCache:i}=this,l=[],c=[],o=Math.floor(a/x$(a,r));let u=0,d=0,f,p,j,y,k,v,S,C,_,A,D;for(f=0;f<a;f+=o){if(y=t[f].label,k=this._resolveTickFontOptions(f),n.font=v=k.string,S=i[v]=i[v]||{data:{},gc:[]},C=k.lineHeight,_=A=0,!ys(y)&&!ha(y))_=Fb(n,S.data,S.gc,_,y),A=C;else if(ha(y))for(p=0,j=y.length;p<j;++p)D=y[p],!ys(D)&&!ha(D)&&(_=Fb(n,S.data,S.gc,_,D),A+=C);l.push(_),c.push(A),u=Math.max(_,u),d=Math.max(A,d)}Jbe(i,a);const M=l.indexOf(u),L=c.indexOf(d),F=Q=>({width:l[Q]||0,height:c[Q]||0});return{first:F(0),last:F(a-1),widest:F(M),highest:F(L),widths:l,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,a){return NaN}getValueForPixel(t){}getPixelForTick(t){const a=this.ticks;return t<0||t>a.length-1?null:this.getPixelForValue(a[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const a=this._startPixel+t*this._length;return Oje(this._alignToPixels?xh(this.chart,a,0):a)}getDecimalForPixel(t){const a=(t-this._startPixel)/this._length;return this._reversePixels?1-a:a}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:a}=this;return t<0&&a<0?a:t>0&&a>0?t:0}getContext(t){const a=this.ticks||[];if(t>=0&&t<a.length){const r=a[t];return r.$context||(r.$context=tNe(this.getContext(),t,r))}return this.$context||(this.$context=eNe(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,a=Tl(this.labelRotation),r=Math.abs(Math.cos(a)),n=Math.abs(Math.sin(a)),i=this._getLabelSizes(),l=t.autoSkipPadding||0,c=i?i.widest.width+l:0,o=i?i.highest.height+l:0;return this.isHorizontal()?o*r>c*n?c/r:o/n:o*n<c*r?o/r:c/n}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const a=this.axis,r=this.chart,n=this.options,{grid:i,position:l,border:c}=n,o=i.offset,u=this.isHorizontal(),f=this.ticks.length+(o?1:0),p=sp(i),j=[],y=c.setContext(this.getContext()),k=y.display?y.width:0,v=k/2,S=function(P){return xh(r,P,k)};let C,_,A,D,M,L,F,Q,I,H,z,K;if(l==="top")C=S(this.bottom),L=this.bottom-p,Q=C-v,H=S(t.top)+v,K=t.bottom;else if(l==="bottom")C=S(this.top),H=t.top,K=S(t.bottom)-v,L=C+v,Q=this.top+p;else if(l==="left")C=S(this.right),M=this.right-p,F=C-v,I=S(t.left)+v,z=t.right;else if(l==="right")C=S(this.left),I=t.left,z=S(t.right)-v,M=C+v,F=this.left+p;else if(a==="x"){if(l==="center")C=S((t.top+t.bottom)/2+.5);else if(os(l)){const P=Object.keys(l)[0],q=l[P];C=S(this.chart.scales[P].getPixelForValue(q))}H=t.top,K=t.bottom,L=C+v,Q=L+p}else if(a==="y"){if(l==="center")C=S((t.left+t.right)/2);else if(os(l)){const P=Object.keys(l)[0],q=l[P];C=S(this.chart.scales[P].getPixelForValue(q))}M=C-v,F=M-p,I=t.left,z=t.right}const U=Xt(n.ticks.maxTicksLimit,f),V=Math.max(1,Math.ceil(f/U));for(_=0;_<f;_+=V){const P=this.getContext(_),q=i.setContext(P),G=c.setContext(P),se=q.lineWidth,O=q.color,W=G.dash||[],Z=G.dashOffset,te=q.tickWidth,ie=q.tickColor,fe=q.tickBorderDash||[],J=q.tickBorderDashOffset;A=Zbe(this,_,o),A!==void 0&&(D=xh(r,A,se),u?M=F=I=z=D:L=Q=H=K=D,j.push({tx1:M,ty1:L,tx2:F,ty2:Q,x1:I,y1:H,x2:z,y2:K,width:se,color:O,borderDash:W,borderDashOffset:Z,tickWidth:te,tickColor:ie,tickBorderDash:fe,tickBorderDashOffset:J}))}return this._ticksLength=f,this._borderValue=C,j}_computeLabelItems(t){const a=this.axis,r=this.options,{position:n,ticks:i}=r,l=this.isHorizontal(),c=this.ticks,{align:o,crossAlign:u,padding:d,mirror:f}=i,p=sp(r.grid),j=p+d,y=f?-d:j,k=-Tl(this.labelRotation),v=[];let S,C,_,A,D,M,L,F,Q,I,H,z,K="middle";if(n==="top")M=this.bottom-y,L=this._getXAxisLabelAlignment();else if(n==="bottom")M=this.top+y,L=this._getXAxisLabelAlignment();else if(n==="left"){const V=this._getYAxisLabelAlignment(p);L=V.textAlign,D=V.x}else if(n==="right"){const V=this._getYAxisLabelAlignment(p);L=V.textAlign,D=V.x}else if(a==="x"){if(n==="center")M=(t.top+t.bottom)/2+j;else if(os(n)){const V=Object.keys(n)[0],P=n[V];M=this.chart.scales[V].getPixelForValue(P)+j}L=this._getXAxisLabelAlignment()}else if(a==="y"){if(n==="center")D=(t.left+t.right)/2-j;else if(os(n)){const V=Object.keys(n)[0],P=n[V];D=this.chart.scales[V].getPixelForValue(P)}L=this._getYAxisLabelAlignment(p).textAlign}a==="y"&&(o==="start"?K="top":o==="end"&&(K="bottom"));const U=this._getLabelSizes();for(S=0,C=c.length;S<C;++S){_=c[S],A=_.label;const V=i.setContext(this.getContext(S));F=this.getPixelForTick(S)+i.labelOffset,Q=this._resolveTickFontOptions(S),I=Q.lineHeight,H=ha(A)?A.length:1;const P=H/2,q=V.color,G=V.textStrokeColor,se=V.textStrokeWidth;let O=L;l?(D=F,L==="inner"&&(S===C-1?O=this.options.reverse?"left":"right":S===0?O=this.options.reverse?"right":"left":O="center"),n==="top"?u==="near"||k!==0?z=-H*I+I/2:u==="center"?z=-U.highest.height/2-P*I+I:z=-U.highest.height+I/2:u==="near"||k!==0?z=I/2:u==="center"?z=U.highest.height/2-P*I:z=U.highest.height-H*I,f&&(z*=-1),k!==0&&!V.showLabelBackdrop&&(D+=I/2*Math.sin(k))):(M=F,z=(1-H)*I/2);let W;if(V.showLabelBackdrop){const Z=qr(V.backdropPadding),te=U.heights[S],ie=U.widths[S];let fe=z-Z.top,J=0-Z.left;switch(K){case"middle":fe-=te/2;break;case"bottom":fe-=te;break}switch(L){case"center":J-=ie/2;break;case"right":J-=ie;break;case"inner":S===C-1?J-=ie:S>0&&(J-=ie/2);break}W={left:J,top:fe,width:ie+Z.width,height:te+Z.height,color:V.backdropColor}}v.push({label:A,font:Q,textOffset:z,options:{rotation:k,color:q,strokeColor:G,strokeWidth:se,textAlign:O,textBaseline:K,translation:[D,M],backdrop:W}})}return v}_getXAxisLabelAlignment(){const{position:t,ticks:a}=this.options;if(-Tl(this.labelRotation))return t==="top"?"left":"right";let n="center";return a.align==="start"?n="left":a.align==="end"?n="right":a.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:a,ticks:{crossAlign:r,mirror:n,padding:i}}=this.options,l=this._getLabelSizes(),c=t+i,o=l.widest.width;let u,d;return a==="left"?n?(d=this.right+i,r==="near"?u="left":r==="center"?(u="center",d+=o/2):(u="right",d+=o)):(d=this.right-c,r==="near"?u="right":r==="center"?(u="center",d-=o/2):(u="left",d=this.left)):a==="right"?n?(d=this.left+i,r==="near"?u="right":r==="center"?(u="center",d-=o/2):(u="left",d-=o)):(d=this.left+c,r==="near"?u="left":r==="center"?(u="center",d+=o/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,a=this.options.position;if(a==="left"||a==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(a==="top"||a==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:a},left:r,top:n,width:i,height:l}=this;a&&(t.save(),t.fillStyle=a,t.fillRect(r,n,i,l),t.restore())}getLineWidthForValue(t){const a=this.options.grid;if(!this._isVisible()||!a.display)return 0;const n=this.ticks.findIndex(i=>i.value===t);return n>=0?a.setContext(this.getContext(n)).lineWidth:0}drawGrid(t){const a=this.options.grid,r=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,l;const c=(o,u,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(o.x,o.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(a.display)for(i=0,l=n.length;i<l;++i){const o=n[i];a.drawOnChartArea&&c({x:o.x1,y:o.y1},{x:o.x2,y:o.y2},o),a.drawTicks&&c({x:o.tx1,y:o.ty1},{x:o.tx2,y:o.ty2},{color:o.tickColor,width:o.tickWidth,borderDash:o.tickBorderDash,borderDashOffset:o.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:a,options:{border:r,grid:n}}=this,i=r.setContext(this.getContext()),l=r.display?i.width:0;if(!l)return;const c=n.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let u,d,f,p;this.isHorizontal()?(u=xh(t,this.left,l)-l/2,d=xh(t,this.right,c)+c/2,f=p=o):(f=xh(t,this.top,l)-l/2,p=xh(t,this.bottom,c)+c/2,u=d=o),a.save(),a.lineWidth=i.width,a.strokeStyle=i.color,a.beginPath(),a.moveTo(u,f),a.lineTo(d,p),a.stroke(),a.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,n=this._computeLabelArea();n&&h1(r,n);const i=this.getLabelItems(t);for(const l of i){const c=l.options,o=l.font,u=l.label,d=l.textOffset;Zh(r,u,0,d,o,c)}n&&u1(r)}drawTitle(){const{ctx:t,options:{position:a,title:r,reverse:n}}=this;if(!r.display)return;const i=qa(r.font),l=qr(r.padding),c=r.align;let o=i.lineHeight/2;a==="bottom"||a==="center"||os(a)?(o+=l.bottom,ha(r.text)&&(o+=i.lineHeight*(r.text.length-1))):o+=l.top;const{titleX:u,titleY:d,maxWidth:f,rotation:p}=aNe(this,o,a,c);Zh(t,r.text,0,0,i,{color:r.color,maxWidth:f,rotation:p,textAlign:sNe(c,a,n),textBaseline:"middle",translation:[u,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,a=t.ticks&&t.ticks.z||0,r=Xt(t.grid&&t.grid.z,-1),n=Xt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==kx.prototype.draw?[{z:a,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:a,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const a=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",n=[];let i,l;for(i=0,l=a.length;i<l;++i){const c=a[i];c[r]===this.id&&(!t||c.type===t)&&n.push(c)}return n}_resolveTickFontOptions(t){const a=this.options.ticks.setContext(this.getContext(t));return qa(a.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class uv{constructor(t,a,r){this.type=t,this.scope=a,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const a=Object.getPrototypeOf(t);let r;iNe(a)&&(r=this.register(a));const n=this.items,i=t.id,l=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in n||(n[i]=t,rNe(t,l,r),this.override&&_a.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const a=this.items,r=t.id,n=this.scope;r in a&&delete a[r],n&&r in _a[n]&&(delete _a[n][r],this.override&&delete Xh[r])}}function rNe(s,t,a){const r=Vp(Object.create(null),[a?_a.get(a):{},_a.get(t),s.defaults]);_a.set(t,r),s.defaultRoutes&&nNe(t,s.defaultRoutes),s.descriptors&&_a.describe(t,s.descriptors)}function nNe(s,t){Object.keys(t).forEach(a=>{const r=a.split("."),n=r.pop(),i=[s].concat(r).join("."),l=t[a].split("."),c=l.pop(),o=l.join(".");_a.route(i,n,o,c)})}function iNe(s){return"id"in s&&"defaults"in s}class lNe{constructor(){this.controllers=new uv(Xg,"datasets",!0),this.elements=new uv(io,"elements"),this.plugins=new uv(Object,"plugins"),this.scales=new uv(kx,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,a,r){[...a].forEach(n=>{const i=r||this._getRegistryForType(n);r||i.isForType(n)||i===this.plugins&&n.id?this._exec(t,i,n):Bs(n,l=>{const c=r||this._getRegistryForType(l);this._exec(t,c,l)})})}_exec(t,a,r){const n=SA(t);aa(r["before"+n],[],r),a[t](r),aa(r["after"+n],[],r)}_getRegistryForType(t){for(let a=0;a<this._typedRegistries.length;a++){const r=this._typedRegistries[a];if(r.isForType(t))return r}return this.plugins}_get(t,a,r){const n=a.get(t);if(n===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return n}}var Nl=new lNe;class cNe{constructor(){this._init=[]}notify(t,a,r,n){a==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=n?this._descriptors(t).filter(n):this._descriptors(t),l=this._notify(i,t,a,r);return a==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,a,r,n){n=n||{};for(const i of t){const l=i.plugin,c=l[r],o=[a,n,i.options];if(aa(c,o,l)===!1&&n.cancelable)return!1}return!0}invalidate(){ys(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const a=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),a}_createDescriptors(t,a){const r=t&&t.config,n=Xt(r.options&&r.options.plugins,{}),i=oNe(r);return n===!1&&!a?[]:hNe(t,i,n,a)}_notifyStateChanges(t){const a=this._oldCache||[],r=this._cache,n=(i,l)=>i.filter(c=>!l.some(o=>c.plugin.id===o.plugin.id));this._notify(n(a,r),t,"stop"),this._notify(n(r,a),t,"start")}}function oNe(s){const t={},a=[],r=Object.keys(Nl.plugins.items);for(let i=0;i<r.length;i++)a.push(Nl.getPlugin(r[i]));const n=s.plugins||[];for(let i=0;i<n.length;i++){const l=n[i];a.indexOf(l)===-1&&(a.push(l),t[l.id]=!0)}return{plugins:a,localIds:t}}function dNe(s,t){return!t&&s===!1?null:s===!0?{}:s}function hNe(s,{plugins:t,localIds:a},r,n){const i=[],l=s.getContext();for(const c of t){const o=c.id,u=dNe(r[o],n);u!==null&&i.push({plugin:c,options:uNe(s.config,{plugin:c,local:a[o]},u,l)})}return i}function uNe(s,{plugin:t,local:a},r,n){const i=s.pluginScopeKeys(t),l=s.getOptionScopes(r,i);return a&&t.defaults&&l.push(t.defaults),s.createResolver(l,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function o_(s,t){const a=_a.datasets[s]||{};return((t.datasets||{})[s]||{}).indexAxis||t.indexAxis||a.indexAxis||"x"}function mNe(s,t){let a=s;return s==="_index_"?a=t:s==="_value_"&&(a=t==="x"?"y":"x"),a}function xNe(s,t){return s===t?"_index_":"_value_"}function g$(s){if(s==="x"||s==="y"||s==="r")return s}function fNe(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function d_(s,...t){if(g$(s))return s;for(const a of t){const r=a.axis||fNe(a.position)||s.length>1&&g$(s[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function y$(s,t,a){if(a[t+"AxisID"]===s)return{axis:t}}function pNe(s,t){if(t.data&&t.data.datasets){const a=t.data.datasets.filter(r=>r.xAxisID===s||r.yAxisID===s);if(a.length)return y$(s,"x",a[0])||y$(s,"y",a[0])}return{}}function gNe(s,t){const a=Xh[s.type]||{scales:{}},r=t.scales||{},n=o_(s.type,t),i=Object.create(null);return Object.keys(r).forEach(l=>{const c=r[l];if(!os(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const o=d_(l,c,pNe(l,s),_a.scales[c.type]),u=xNe(o,n),d=a.scales||{};i[l]=yp(Object.create(null),[{axis:o},c,d[o],d[u]])}),s.data.datasets.forEach(l=>{const c=l.type||s.type,o=l.indexAxis||o_(c,t),d=(Xh[c]||{}).scales||{};Object.keys(d).forEach(f=>{const p=mNe(f,o),j=l[p+"AxisID"]||p;i[j]=i[j]||Object.create(null),yp(i[j],[{axis:p},r[j],d[f]])})}),Object.keys(i).forEach(l=>{const c=i[l];yp(c,[_a.scales[c.type],_a.scale])}),i}function K9(s){const t=s.options||(s.options={});t.plugins=Xt(t.plugins,{}),t.scales=gNe(s,t)}function Q9(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function yNe(s){return s=s||{},s.data=Q9(s.data),K9(s),s}const j$=new Map,X9=new Set;function mv(s,t){let a=j$.get(s);return a||(a=t(),j$.set(s,a),X9.add(a)),a}const ap=(s,t,a)=>{const r=kd(t,a);r!==void 0&&s.add(r)};class jNe{constructor(t){this._config=yNe(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Q9(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),K9(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return mv(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,a){return mv(`${t}.transition.${a}`,()=>[[`datasets.${t}.transitions.${a}`,`transitions.${a}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,a){return mv(`${t}-${a}`,()=>[[`datasets.${t}.elements.${a}`,`datasets.${t}`,`elements.${a}`,""]])}pluginScopeKeys(t){const a=t.id,r=this.type;return mv(`${r}-plugin-${a}`,()=>[[`plugins.${a}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,a){const r=this._scopeCache;let n=r.get(t);return(!n||a)&&(n=new Map,r.set(t,n)),n}getOptionScopes(t,a,r){const{options:n,type:i}=this,l=this._cachedScopes(t,r),c=l.get(a);if(c)return c;const o=new Set;a.forEach(d=>{t&&(o.add(t),d.forEach(f=>ap(o,t,f))),d.forEach(f=>ap(o,n,f)),d.forEach(f=>ap(o,Xh[i]||{},f)),d.forEach(f=>ap(o,_a,f)),d.forEach(f=>ap(o,l_,f))});const u=Array.from(o);return u.length===0&&u.push(Object.create(null)),X9.has(a)&&l.set(a,u),u}chartOptionScopes(){const{options:t,type:a}=this;return[t,Xh[a]||{},_a.datasets[a]||{},{type:a},_a,l_]}resolveNamedOptions(t,a,r,n=[""]){const i={$shared:!0},{resolver:l,subPrefixes:c}=v$(this._resolverCache,t,n);let o=l;if(bNe(l,a)){i.$shared=!1,r=Sd(r)?r():r;const u=this.createResolver(t,r,c);o=Gm(l,r,u)}for(const u of a)i[u]=o[u];return i}createResolver(t,a,r=[""],n){const{resolver:i}=v$(this._resolverCache,t,r);return os(a)?Gm(i,a,void 0,n):i}}function v$(s,t,a){let r=s.get(t);r||(r=new Map,s.set(t,r));const n=a.join();let i=r.get(n);return i||(i={resolver:OA(t,a),subPrefixes:a.filter(c=>!c.toLowerCase().includes("hover"))},r.set(n,i)),i}const vNe=s=>os(s)&&Object.getOwnPropertyNames(s).some(t=>Sd(s[t]));function bNe(s,t){const{isScriptable:a,isIndexable:r}=A9(s);for(const n of t){const i=a(n),l=r(n),c=(l||i)&&s[n];if(i&&(Sd(c)||vNe(c))||l&&ha(c))return!0}return!1}var NNe="4.5.0";const wNe=["top","bottom","left","right","chartArea"];function b$(s,t){return s==="top"||s==="bottom"||wNe.indexOf(s)===-1&&t==="x"}function N$(s,t){return function(a,r){return a[s]===r[s]?a[t]-r[t]:a[s]-r[s]}}function w$(s){const t=s.chart,a=t.options.animation;t.notifyPlugins("afterRender"),aa(a&&a.onComplete,[s],t)}function kNe(s){const t=s.chart,a=t.options.animation;aa(a&&a.onProgress,[s],t)}function Z9(s){return PA()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const Ov={},k$=s=>{const t=Z9(s);return Object.values(Ov).filter(a=>a.canvas===t).pop()};function SNe(s,t,a){const r=Object.keys(s);for(const n of r){const i=+n;if(i>=t){const l=s[n];delete s[n],(a>0||i>t)&&(s[i+a]=l)}}}function _Ne(s,t,a,r){return!a||s.type==="mouseout"?null:r?t:s}let Sx=class{static defaults=_a;static instances=Ov;static overrides=Xh;static registry=Nl;static version=NNe;static getChart=k$;static register(...t){Nl.add(...t),S$()}static unregister(...t){Nl.remove(...t),S$()}constructor(t,a){const r=this.config=new jNe(a),n=Z9(t),i=k$(n);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||qbe(n)),this.platform.updateConfig(r);const c=this.platform.acquireContext(n,l.aspectRatio),o=c&&c.canvas,u=o&&o.height,d=o&&o.width;if(this.id=jje(),this.ctx=c,this.canvas=o,this.width=d,this.height=u,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new cNe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Ije(f=>this.update(f),l.resizeDelay||0),this._dataChanges=[],Ov[this.id]=this,!c||!o){console.error("Failed to create chart: can't acquire context from the given item");return}vc.listen(this,"complete",w$),vc.listen(this,"progress",kNe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:a},width:r,height:n,_aspectRatio:i}=this;return ys(t)?a&&i?i:n?r/n:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Nl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():W5(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return q5(this.canvas,this.ctx),this}stop(){return vc.stop(this),this}resize(t,a){vc.running(this)?this._resizeBeforeDraw={width:t,height:a}:this._resize(t,a)}_resize(t,a){const r=this.options,n=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(n,t,a,i),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,W5(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),aa(r.onResize,[this,l],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){const a=this.options.scales||{};Bs(a,(r,n)=>{r.id=n})}buildOrUpdateScales(){const t=this.options,a=t.scales,r=this.scales,n=Object.keys(r).reduce((l,c)=>(l[c]=!1,l),{});let i=[];a&&(i=i.concat(Object.keys(a).map(l=>{const c=a[l],o=d_(l,c),u=o==="r",d=o==="x";return{options:c,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),Bs(i,l=>{const c=l.options,o=c.id,u=d_(o,c),d=Xt(c.type,l.dtype);(c.position===void 0||b$(c.position,u)!==b$(l.dposition))&&(c.position=l.dposition),n[o]=!0;let f=null;if(o in r&&r[o].type===d)f=r[o];else{const p=Nl.getScale(d);f=new p({id:o,type:d,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(c,t)}),Bs(n,(l,c)=>{l||delete r[c]}),Bs(r,l=>{pi.configure(this,l,l.options),pi.addBox(this,l)})}_updateMetasets(){const t=this._metasets,a=this.data.datasets.length,r=t.length;if(t.sort((n,i)=>n.index-i.index),r>a){for(let n=a;n<r;++n)this._destroyDatasetMeta(n);t.splice(a,r-a)}this._sortedMetasets=t.slice(0).sort(N$("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:a}}=this;t.length>a.length&&delete this._stacks,t.forEach((r,n)=>{a.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const t=[],a=this.data.datasets;let r,n;for(this._removeUnreferencedMetasets(),r=0,n=a.length;r<n;r++){const i=a[r];let l=this.getDatasetMeta(r);const c=i.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=c,l.indexAxis=i.indexAxis||o_(c,this.options),l.order=i.order||0,l.index=r,l.label=""+i.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const o=Nl.getController(c),{datasetElementType:u,dataElementType:d}=_a.datasets[c];Object.assign(o,{dataElementType:Nl.getElement(d),datasetElementType:u&&Nl.getElement(u)}),l.controller=new o(this,r),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Bs(this.data.datasets,(t,a)=>{this.getDatasetMeta(a).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const a=this.config;a.update();const r=this._options=a.createResolver(a.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),p=!n&&i.indexOf(f)===-1;f.buildOrUpdateElements(p),l=Math.max(+f.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),n||Bs(i,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(N$("z","_idx"));const{_active:c,_lastEvent:o}=this;o?this._eventHandler(o,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Bs(this.scales,t=>{pi.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,a=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!$5(a,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,a=this._getUniformDataChanges()||[];for(const{method:r,start:n,count:i}of a){const l=r==="_removeElements"?-i:i;SNe(t,n,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const a=this.data.datasets.length,r=i=>new Set(t.filter(l=>l[0]===i).map((l,c)=>c+","+l.splice(1).join(","))),n=r(0);for(let i=1;i<a;i++)if(!$5(n,r(i)))return;return Array.from(n).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;pi.update(this,this.width,this.height,t);const a=this.chartArea,r=a.width<=0||a.height<=0;this._layers=[],Bs(this.boxes,n=>{r&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,i)=>{n._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let a=0,r=this.data.datasets.length;a<r;++a)this.getDatasetMeta(a).controller.configure();for(let a=0,r=this.data.datasets.length;a<r;++a)this._updateDataset(a,Sd(t)?t({datasetIndex:a}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,a){const r=this.getDatasetMeta(t),n={meta:r,index:t,mode:a,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(r.controller._update(a),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(vc.has(this)?this.attached&&!vc.running(this)&&vc.start(this):(this.draw(),w$({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:n}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,n)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const a=this._layers;for(t=0;t<a.length&&a[t].z<=0;++t)a[t].draw(this.chartArea);for(this._drawDatasets();t<a.length;++t)a[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const a=this._sortedMetasets,r=[];let n,i;for(n=0,i=a.length;n<i;++n){const l=a[n];(!t||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let a=t.length-1;a>=0;--a)this._drawDataset(t[a]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const a=this.ctx,r={meta:t,index:t.index,cancelable:!0},n=L9(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(n&&h1(a,n),t.controller.draw(),n&&u1(a),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return Tc(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,a,r,n){const i=wbe.modes[a];return typeof i=="function"?i(this,t,r,n):[]}getDatasetMeta(t){const a=this.data.datasets[t],r=this._metasets;let n=r.filter(i=>i&&i._dataset===a).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:a&&a.order||0,index:t,_dataset:a,_parsed:[],_sorted:!1},r.push(n)),n}getContext(){return this.$context||(this.$context=Pd(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const a=this.data.datasets[t];if(!a)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!a.hidden}setDatasetVisibility(t,a){const r=this.getDatasetMeta(t);r.hidden=!a}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,a,r){const n=r?"show":"hide",i=this.getDatasetMeta(t),l=i.controller._resolveAnimations(void 0,n);Wp(a)?(i.data[a].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),l.update(i,{visible:r}),this.update(c=>c.datasetIndex===t?n:void 0))}hide(t,a){this._updateVisibility(t,a,!1)}show(t,a){this._updateVisibility(t,a,!0)}_destroyDatasetMeta(t){const a=this._metasets[t];a&&a.controller&&a.controller._destroy(),delete this._metasets[t]}_stop(){let t,a;for(this.stop(),vc.remove(this),t=0,a=this.data.datasets.length;t<a;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:a}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),q5(t,a),this.platform.releaseContext(a),this.canvas=null,this.ctx=null),delete Ov[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,a=this.platform,r=(i,l)=>{a.addEventListener(this,i,l),t[i]=l},n=(i,l,c)=>{i.offsetX=l,i.offsetY=c,this._eventHandler(i)};Bs(this.options.events,i=>r(i,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,a=this.platform,r=(o,u)=>{a.addEventListener(this,o,u),t[o]=u},n=(o,u)=>{t[o]&&(a.removeEventListener(this,o,u),delete t[o])},i=(o,u)=>{this.canvas&&this.resize(o,u)};let l;const c=()=>{n("attach",c),this.attached=!0,this.resize(),r("resize",i),r("detach",l)};l=()=>{this.attached=!1,n("resize",i),this._stop(),this._resize(0,0),r("attach",c)},a.isAttached(this.canvas)?c():l()}unbindEvents(){Bs(this._listeners,(t,a)=>{this.platform.removeEventListener(this,a,t)}),this._listeners={},Bs(this._responsiveListeners,(t,a)=>{this.platform.removeEventListener(this,a,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,a,r){const n=r?"set":"remove";let i,l,c,o;for(a==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+n+"DatasetHoverStyle"]()),c=0,o=t.length;c<o;++c){l=t[c];const u=l&&this.getDatasetMeta(l.datasetIndex).controller;u&&u[n+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const a=this._active||[],r=t.map(({datasetIndex:i,index:l})=>{const c=this.getDatasetMeta(i);if(!c)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:c.data[l],index:l}});!Ib(r,a)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,a))}notifyPlugins(t,a,r){return this._plugins.notify(this,t,a,r)}isPluginEnabled(t){return this._plugins._cache.filter(a=>a.plugin.id===t).length===1}_updateHoverStyles(t,a,r){const n=this.options.hover,i=(o,u)=>o.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),l=i(a,t),c=r?t:i(t,a);l.length&&this.updateHoverStyle(l,n.mode,!1),c.length&&n.mode&&this.updateHoverStyle(c,n.mode,!0)}_eventHandler(t,a){const r={event:t,replay:a,cancelable:!0,inChartArea:this.isPointInArea(t)},n=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,n)===!1)return;const i=this._handleEvent(t,a,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,n),(i||r.changed)&&this.render(),this}_handleEvent(t,a,r){const{_active:n=[],options:i}=this,l=a,c=this._getActiveElements(t,n,r,l),o=Sje(t),u=_Ne(t,this._lastEvent,r,o);r&&(this._lastEvent=null,aa(i.onHover,[t,c,this],this),o&&aa(i.onClick,[t,c,this],this));const d=!Ib(c,n);return(d||a)&&(this._active=c,this._updateHoverStyles(c,n,a)),this._lastEvent=u,d}_getActiveElements(t,a,r,n){if(t.type==="mouseout")return[];if(!r)return a;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,n)}};function S$(){return Bs(Sx.instances,s=>s._plugins.invalidate())}function CNe(s,t,a){const{startAngle:r,x:n,y:i,outerRadius:l,innerRadius:c,options:o}=t,{borderWidth:u,borderJoinStyle:d}=o,f=Math.min(u/l,Pr(r-a));if(s.beginPath(),s.arc(n,i,l-u/2,r+f/2,a-f/2),c>0){const p=Math.min(u/c,Pr(r-a));s.arc(n,i,c+u/2,a-p/2,r+p/2,!0)}else{const p=Math.min(u/2,l*Pr(r-a));if(d==="round")s.arc(n,i,p,a-Cs/2,r+Cs/2,!0);else if(d==="bevel"){const j=2*p*p,y=-j*Math.cos(a+Cs/2)+n,k=-j*Math.sin(a+Cs/2)+i,v=j*Math.cos(r+Cs/2)+n,S=j*Math.sin(r+Cs/2)+i;s.lineTo(y,k),s.lineTo(v,S)}}s.closePath(),s.moveTo(0,0),s.rect(0,0,s.canvas.width,s.canvas.height),s.clip("evenodd")}function ENe(s,t,a){const{startAngle:r,pixelMargin:n,x:i,y:l,outerRadius:c,innerRadius:o}=t;let u=n/c;s.beginPath(),s.arc(i,l,c,r-u,a+u),o>n?(u=n/o,s.arc(i,l,o,a+u,r-u,!0)):s.arc(i,l,n,a+Ra,r-Ra),s.closePath(),s.clip()}function ANe(s){return DA(s,["outerStart","outerEnd","innerStart","innerEnd"])}function TNe(s,t,a,r){const n=ANe(s.options.borderRadius),i=(a-t)/2,l=Math.min(i,r*t/2),c=o=>{const u=(a-Math.min(i,o))*r/2;return Ur(o,0,Math.min(i,u))};return{outerStart:c(n.outerStart),outerEnd:c(n.outerEnd),innerStart:Ur(n.innerStart,0,l),innerEnd:Ur(n.innerEnd,0,l)}}function hm(s,t,a,r){return{x:a+s*Math.cos(t),y:r+s*Math.sin(t)}}function Ub(s,t,a,r,n,i){const{x:l,y:c,startAngle:o,pixelMargin:u,innerRadius:d}=t,f=Math.max(t.outerRadius+r+a-u,0),p=d>0?d+r+a+u:0;let j=0;const y=n-o;if(r){const V=d>0?d-r:0,P=f>0?f-r:0,q=(V+P)/2,G=q!==0?y*q/(q+r):y;j=(y-G)/2}const k=Math.max(.001,y*f-a/Cs)/f,v=(y-k)/2,S=o+v+j,C=n-v-j,{outerStart:_,outerEnd:A,innerStart:D,innerEnd:M}=TNe(t,p,f,C-S),L=f-_,F=f-A,Q=S+_/L,I=C-A/F,H=p+D,z=p+M,K=S+D/H,U=C-M/z;if(s.beginPath(),i){const V=(Q+I)/2;if(s.arc(l,c,f,Q,V),s.arc(l,c,f,V,I),A>0){const se=hm(F,I,l,c);s.arc(se.x,se.y,A,I,C+Ra)}const P=hm(z,C,l,c);if(s.lineTo(P.x,P.y),M>0){const se=hm(z,U,l,c);s.arc(se.x,se.y,M,C+Ra,U+Math.PI)}const q=(C-M/p+(S+D/p))/2;if(s.arc(l,c,p,C-M/p,q,!0),s.arc(l,c,p,q,S+D/p,!0),D>0){const se=hm(H,K,l,c);s.arc(se.x,se.y,D,K+Math.PI,S-Ra)}const G=hm(L,S,l,c);if(s.lineTo(G.x,G.y),_>0){const se=hm(L,Q,l,c);s.arc(se.x,se.y,_,S-Ra,Q)}}else{s.moveTo(l,c);const V=Math.cos(Q)*f+l,P=Math.sin(Q)*f+c;s.lineTo(V,P);const q=Math.cos(I)*f+l,G=Math.sin(I)*f+c;s.lineTo(q,G)}s.closePath()}function MNe(s,t,a,r,n){const{fullCircles:i,startAngle:l,circumference:c}=t;let o=t.endAngle;if(i){Ub(s,t,a,r,o,n);for(let u=0;u<i;++u)s.fill();isNaN(c)||(o=l+(c%oa||oa))}return Ub(s,t,a,r,o,n),s.fill(),o}function DNe(s,t,a,r,n){const{fullCircles:i,startAngle:l,circumference:c,options:o}=t,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:p,borderRadius:j}=o,y=o.borderAlign==="inner";if(!u)return;s.setLineDash(f||[]),s.lineDashOffset=p,y?(s.lineWidth=u*2,s.lineJoin=d||"round"):(s.lineWidth=u,s.lineJoin=d||"bevel");let k=t.endAngle;if(i){Ub(s,t,a,r,k,n);for(let v=0;v<i;++v)s.stroke();isNaN(c)||(k=l+(c%oa||oa))}y&&ENe(s,t,k),o.selfJoin&&k-l>=Cs&&j===0&&d!=="miter"&&CNe(s,t,k),i||(Ub(s,t,a,r,k,n),s.stroke())}class LA extends io{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,a,r){const n=this.getProps(["x","y"],r),{angle:i,distance:l}=N9(n,{x:t,y:a}),{startAngle:c,endAngle:o,innerRadius:u,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),p=(this.options.spacing+this.options.borderWidth)/2,j=Xt(f,o-c),y=Kp(i,c,o)&&c!==o,k=j>=oa||y,v=Ac(l,u+p,d+p);return k&&v}getCenterPoint(t){const{x:a,y:r,startAngle:n,endAngle:i,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:o,spacing:u}=this.options,d=(n+i)/2,f=(l+c+u+o)/2;return{x:a+Math.cos(d)*f,y:r+Math.sin(d)*f}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:a,circumference:r}=this,n=(a.offset||0)/4,i=(a.spacing||0)/2,l=a.circular;if(this.pixelMargin=a.borderAlign==="inner"?.33:0,this.fullCircles=r>oa?Math.floor(r/oa):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*n,Math.sin(c)*n);const o=1-Math.sin(Math.min(Cs,r||0)),u=n*o;t.fillStyle=a.backgroundColor,t.strokeStyle=a.borderColor,MNe(t,this,u,i,l),DNe(t,this,u,i,l),t.restore()}}function J9(s,t,a=t){s.lineCap=Xt(a.borderCapStyle,t.borderCapStyle),s.setLineDash(Xt(a.borderDash,t.borderDash)),s.lineDashOffset=Xt(a.borderDashOffset,t.borderDashOffset),s.lineJoin=Xt(a.borderJoinStyle,t.borderJoinStyle),s.lineWidth=Xt(a.borderWidth,t.borderWidth),s.strokeStyle=Xt(a.borderColor,t.borderColor)}function ONe(s,t,a){s.lineTo(a.x,a.y)}function RNe(s){return s.stepped?Zje:s.tension||s.cubicInterpolationMode==="monotone"?Jje:ONe}function eU(s,t,a={}){const r=s.length,{start:n=0,end:i=r-1}=a,{start:l,end:c}=t,o=Math.max(n,l),u=Math.min(i,c),d=n<l&&i<l||n>c&&i>c;return{count:r,start:o,loop:t.loop,ilen:u<o&&!d?r+u-o:u-o}}function $Ne(s,t,a,r){const{points:n,options:i}=t,{count:l,start:c,loop:o,ilen:u}=eU(n,a,r),d=RNe(i);let{move:f=!0,reverse:p}=r||{},j,y,k;for(j=0;j<=u;++j)y=n[(c+(p?u-j:j))%l],!y.skip&&(f?(s.moveTo(y.x,y.y),f=!1):d(s,k,y,p,i.stepped),k=y);return o&&(y=n[(c+(p?u:0))%l],d(s,k,y,p,i.stepped)),!!o}function PNe(s,t,a,r){const n=t.points,{count:i,start:l,ilen:c}=eU(n,a,r),{move:o=!0,reverse:u}=r||{};let d=0,f=0,p,j,y,k,v,S;const C=A=>(l+(u?c-A:A))%i,_=()=>{k!==v&&(s.lineTo(d,v),s.lineTo(d,k),s.lineTo(d,S))};for(o&&(j=n[C(0)],s.moveTo(j.x,j.y)),p=0;p<=c;++p){if(j=n[C(p)],j.skip)continue;const A=j.x,D=j.y,M=A|0;M===y?(D<k?k=D:D>v&&(v=D),d=(f*d+A)/++f):(_(),s.lineTo(A,D),y=M,f=0,k=v=D),S=D}_()}function h_(s){const t=s.options,a=t.borderDash&&t.borderDash.length;return!s._decimated&&!s._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!a?PNe:$Ne}function INe(s){return s.stepped?Dve:s.tension||s.cubicInterpolationMode==="monotone"?Ove:vh}function BNe(s,t,a,r){let n=t._path;n||(n=t._path=new Path2D,t.path(n,a,r)&&n.closePath()),J9(s,t.options),s.stroke(n)}function LNe(s,t,a,r){const{segments:n,options:i}=t,l=h_(t);for(const c of n)J9(s,i,c.style),s.beginPath(),l(s,t,c,{start:a,end:a+r-1})&&s.closePath(),s.stroke()}const FNe=typeof Path2D=="function";function zNe(s,t,a,r){FNe&&!t.options.segment?BNe(s,t,a,r):LNe(s,t,a,r)}class _x extends io{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,a){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const n=r.spanGaps?this._loop:this._fullLoop;kve(this._points,r,t,n,a),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Lve(this,this.options.segment))}first(){const t=this.segments,a=this.points;return t.length&&a[t[0].start]}last(){const t=this.segments,a=this.points,r=t.length;return r&&a[t[r-1].end]}interpolate(t,a){const r=this.options,n=t[a],i=this.points,l=B9(this,{property:a,start:n,end:n});if(!l.length)return;const c=[],o=INe(r);let u,d;for(u=0,d=l.length;u<d;++u){const{start:f,end:p}=l[u],j=i[f],y=i[p];if(j===y){c.push(j);continue}const k=Math.abs((n-j[a])/(y[a]-j[a])),v=o(j,y,k,r.stepped);v[a]=t[a],c.push(v)}return c.length===1?c[0]:c}pathSegment(t,a,r){return h_(this)(t,this,a,r)}path(t,a,r){const n=this.segments,i=h_(this);let l=this._loop;a=a||0,r=r||this.points.length-a;for(const c of n)l&=i(t,this,c,{start:a,end:a+r-1});return!!l}draw(t,a,r,n){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),zNe(t,this,r,n),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function _$(s,t,a,r){const n=s.options,{[a]:i}=s.getProps([a],r);return Math.abs(t-i)<n.radius+n.hitRadius}class FA extends io{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,a,r){const n=this.options,{x:i,y:l}=this.getProps(["x","y"],r);return Math.pow(t-i,2)+Math.pow(a-l,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(t,a){return _$(this,t,"x",a)}inYRange(t,a){return _$(this,t,"y",a)}getCenterPoint(t){const{x:a,y:r}=this.getProps(["x","y"],t);return{x:a,y:r}}size(t){t=t||this.options||{};let a=t.radius||0;a=Math.max(a,a&&t.hoverRadius||0);const r=a&&t.borderWidth||0;return(a+r)*2}draw(t,a){const r=this.options;this.skip||r.radius<.1||!Tc(this,a,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,c_(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function tU(s,t){const{x:a,y:r,base:n,width:i,height:l}=s.getProps(["x","y","base","width","height"],t);let c,o,u,d,f;return s.horizontal?(f=l/2,c=Math.min(a,n),o=Math.max(a,n),u=r-f,d=r+f):(f=i/2,c=a-f,o=a+f,u=Math.min(r,n),d=Math.max(r,n)),{left:c,top:u,right:o,bottom:d}}function dd(s,t,a,r){return s?0:Ur(t,a,r)}function HNe(s,t,a){const r=s.options.borderWidth,n=s.borderSkipped,i=E9(r);return{t:dd(n.top,i.top,0,a),r:dd(n.right,i.right,0,t),b:dd(n.bottom,i.bottom,0,a),l:dd(n.left,i.left,0,t)}}function UNe(s,t,a){const{enableBorderRadius:r}=s.getProps(["enableBorderRadius"]),n=s.options.borderRadius,i=Fh(n),l=Math.min(t,a),c=s.borderSkipped,o=r||os(n);return{topLeft:dd(!o||c.top||c.left,i.topLeft,0,l),topRight:dd(!o||c.top||c.right,i.topRight,0,l),bottomLeft:dd(!o||c.bottom||c.left,i.bottomLeft,0,l),bottomRight:dd(!o||c.bottom||c.right,i.bottomRight,0,l)}}function qNe(s){const t=tU(s),a=t.right-t.left,r=t.bottom-t.top,n=HNe(s,a/2,r/2),i=UNe(s,a/2,r/2);return{outer:{x:t.left,y:t.top,w:a,h:r,radius:i},inner:{x:t.left+n.l,y:t.top+n.t,w:a-n.l-n.r,h:r-n.t-n.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,i.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(n.b,n.r))}}}}function yk(s,t,a,r){const n=t===null,i=a===null,c=s&&!(n&&i)&&tU(s,r);return c&&(n||Ac(t,c.left,c.right))&&(i||Ac(a,c.top,c.bottom))}function GNe(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function VNe(s,t){s.rect(t.x,t.y,t.w,t.h)}function jk(s,t,a={}){const r=s.x!==a.x?-t:0,n=s.y!==a.y?-t:0,i=(s.x+s.w!==a.x+a.w?t:0)-r,l=(s.y+s.h!==a.y+a.h?t:0)-n;return{x:s.x+r,y:s.y+n,w:s.w+i,h:s.h+l,radius:s.radius}}class zA extends io{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:a,options:{borderColor:r,backgroundColor:n}}=this,{inner:i,outer:l}=qNe(this),c=GNe(l.radius)?Qp:VNe;t.save(),(l.w!==i.w||l.h!==i.h)&&(t.beginPath(),c(t,jk(l,a,i)),t.clip(),c(t,jk(i,-a,l)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),c(t,jk(i,a)),t.fillStyle=n,t.fill(),t.restore()}inRange(t,a,r){return yk(this,t,a,r)}inXRange(t,a){return yk(this,t,null,a)}inYRange(t,a){return yk(this,null,t,a)}getCenterPoint(t){const{x:a,y:r,base:n,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(a+n)/2:a,y:i?r:(r+n)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}function WNe(s,t,a){const r=s.segments,n=s.points,i=t.points,l=[];for(const c of r){let{start:o,end:u}=c;u=f1(o,u,n);const d=u_(a,n[o],n[u],c.loop);if(!t.segments){l.push({source:c,target:d,start:n[o],end:n[u]});continue}const f=B9(t,d);for(const p of f){const j=u_(a,i[p.start],i[p.end],p.loop),y=I9(c,n,j);for(const k of y)l.push({source:k,target:p,start:{[a]:C$(d,j,"start",Math.max)},end:{[a]:C$(d,j,"end",Math.min)}})}}return l}function u_(s,t,a,r){if(r)return;let n=t[s],i=a[s];return s==="angle"&&(n=Pr(n),i=Pr(i)),{property:s,start:n,end:i}}function YNe(s,t){const{x:a=null,y:r=null}=s||{},n=t.points,i=[];return t.segments.forEach(({start:l,end:c})=>{c=f1(l,c,n);const o=n[l],u=n[c];r!==null?(i.push({x:o.x,y:r}),i.push({x:u.x,y:r})):a!==null&&(i.push({x:a,y:o.y}),i.push({x:a,y:u.y}))}),i}function f1(s,t,a){for(;t>s;t--){const r=a[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function C$(s,t,a,r){return s&&t?r(s[a],t[a]):s?s[a]:t?t[a]:0}function sU(s,t){let a=[],r=!1;return ha(s)?(r=!0,a=s):a=YNe(s,t),a.length?new _x({points:a,options:{tension:0},_loop:r,_fullLoop:r}):null}function E$(s){return s&&s.fill!==!1}function KNe(s,t,a){let n=s[t].fill;const i=[t];let l;if(!a)return n;for(;n!==!1&&i.indexOf(n)===-1;){if(!or(n))return n;if(l=s[n],!l)return!1;if(l.visible)return n;i.push(n),n=l.fill}return!1}function QNe(s,t,a){const r=e1e(s);if(os(r))return isNaN(r.value)?!1:r;let n=parseFloat(r);return or(n)&&Math.floor(n)===n?XNe(r[0],t,n,a):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function XNe(s,t,a,r){return(s==="-"||s==="+")&&(a=t+a),a===t||a<0||a>=r?!1:a}function ZNe(s,t){let a=null;return s==="start"?a=t.bottom:s==="end"?a=t.top:os(s)?a=t.getPixelForValue(s.value):t.getBasePixel&&(a=t.getBasePixel()),a}function JNe(s,t,a){let r;return s==="start"?r=a:s==="end"?r=t.options.reverse?t.min:t.max:os(s)?r=s.value:r=t.getBaseValue(),r}function e1e(s){const t=s.options,a=t.fill;let r=Xt(a&&a.target,a);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function t1e(s){const{scale:t,index:a,line:r}=s,n=[],i=r.segments,l=r.points,c=s1e(t,a);c.push(sU({x:null,y:t.bottom},r));for(let o=0;o<i.length;o++){const u=i[o];for(let d=u.start;d<=u.end;d++)a1e(n,l[d],c)}return new _x({points:n,options:{}})}function s1e(s,t){const a=[],r=s.getMatchingVisibleMetas("line");for(let n=0;n<r.length;n++){const i=r[n];if(i.index===t)break;i.hidden||a.unshift(i.dataset)}return a}function a1e(s,t,a){const r=[];for(let n=0;n<a.length;n++){const i=a[n],{first:l,last:c,point:o}=r1e(i,t,"x");if(!(!o||l&&c)){if(l)r.unshift(o);else if(s.push(o),!c)break}}s.push(...r)}function r1e(s,t,a){const r=s.interpolate(t,a);if(!r)return{};const n=r[a],i=s.segments,l=s.points;let c=!1,o=!1;for(let u=0;u<i.length;u++){const d=i[u],f=l[d.start][a],p=l[d.end][a];if(Ac(n,f,p)){c=n===f,o=n===p;break}}return{first:c,last:o,point:r}}class aU{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,a,r){const{x:n,y:i,radius:l}=this;return a=a||{start:0,end:oa},t.arc(n,i,l,a.end,a.start,!0),!r.bounds}interpolate(t){const{x:a,y:r,radius:n}=this,i=t.angle;return{x:a+Math.cos(i)*n,y:r+Math.sin(i)*n,angle:i}}}function n1e(s){const{chart:t,fill:a,line:r}=s;if(or(a))return i1e(t,a);if(a==="stack")return t1e(s);if(a==="shape")return!0;const n=l1e(s);return n instanceof aU?n:sU(n,r)}function i1e(s,t){const a=s.getDatasetMeta(t);return a&&s.isDatasetVisible(t)?a.dataset:null}function l1e(s){return(s.scale||{}).getPointPositionForValue?o1e(s):c1e(s)}function c1e(s){const{scale:t={},fill:a}=s,r=ZNe(a,t);if(or(r)){const n=t.isHorizontal();return{x:n?r:null,y:n?null:r}}return null}function o1e(s){const{scale:t,fill:a}=s,r=t.options,n=t.getLabels().length,i=r.reverse?t.max:t.min,l=JNe(a,t,i),c=[];if(r.grid.circular){const o=t.getPointPositionForValue(0,i);return new aU({x:o.x,y:o.y,radius:t.getDistanceFromCenterForValue(l)})}for(let o=0;o<n;++o)c.push(t.getPointPositionForValue(o,l));return c}function vk(s,t,a){const r=n1e(t),{chart:n,index:i,line:l,scale:c,axis:o}=t,u=l.options,d=u.fill,f=u.backgroundColor,{above:p=f,below:j=f}=d||{},y=n.getDatasetMeta(i),k=L9(n,y);r&&l.points.length&&(h1(s,a),d1e(s,{line:l,target:r,above:p,below:j,area:a,scale:c,axis:o,clip:k}),u1(s))}function d1e(s,t){const{line:a,target:r,above:n,below:i,area:l,scale:c,clip:o}=t,u=a._loop?"angle":t.axis;s.save();let d=i;i!==n&&(u==="x"?(A$(s,r,l.top),bk(s,{line:a,target:r,color:n,scale:c,property:u,clip:o}),s.restore(),s.save(),A$(s,r,l.bottom)):u==="y"&&(T$(s,r,l.left),bk(s,{line:a,target:r,color:i,scale:c,property:u,clip:o}),s.restore(),s.save(),T$(s,r,l.right),d=n)),bk(s,{line:a,target:r,color:d,scale:c,property:u,clip:o}),s.restore()}function A$(s,t,a){const{segments:r,points:n}=t;let i=!0,l=!1;s.beginPath();for(const c of r){const{start:o,end:u}=c,d=n[o],f=n[f1(o,u,n)];i?(s.moveTo(d.x,d.y),i=!1):(s.lineTo(d.x,a),s.lineTo(d.x,d.y)),l=!!t.pathSegment(s,c,{move:l}),l?s.closePath():s.lineTo(f.x,a)}s.lineTo(t.first().x,a),s.closePath(),s.clip()}function T$(s,t,a){const{segments:r,points:n}=t;let i=!0,l=!1;s.beginPath();for(const c of r){const{start:o,end:u}=c,d=n[o],f=n[f1(o,u,n)];i?(s.moveTo(d.x,d.y),i=!1):(s.lineTo(a,d.y),s.lineTo(d.x,d.y)),l=!!t.pathSegment(s,c,{move:l}),l?s.closePath():s.lineTo(a,f.y)}s.lineTo(a,t.first().y),s.closePath(),s.clip()}function bk(s,t){const{line:a,target:r,property:n,color:i,scale:l,clip:c}=t,o=WNe(a,r,n);for(const{source:u,target:d,start:f,end:p}of o){const{style:{backgroundColor:j=i}={}}=u,y=r!==!0;s.save(),s.fillStyle=j,h1e(s,l,c,y&&u_(n,f,p)),s.beginPath();const k=!!a.pathSegment(s,u);let v;if(y){k?s.closePath():M$(s,r,p,n);const S=!!r.pathSegment(s,d,{move:k,reverse:!0});v=k&&S,v||M$(s,r,f,n)}s.closePath(),s.fill(v?"evenodd":"nonzero"),s.restore()}}function h1e(s,t,a,r){const n=t.chart.chartArea,{property:i,start:l,end:c}=r||{};if(i==="x"||i==="y"){let o,u,d,f;i==="x"?(o=l,u=n.top,d=c,f=n.bottom):(o=n.left,u=l,d=n.right,f=c),s.beginPath(),a&&(o=Math.max(o,a.left),d=Math.min(d,a.right),u=Math.max(u,a.top),f=Math.min(f,a.bottom)),s.rect(o,u,d-o,f-u),s.clip()}}function M$(s,t,a,r){const n=t.interpolate(a,r);n&&s.lineTo(n.x,n.y)}var u1e={id:"filler",afterDatasetsUpdate(s,t,a){const r=(s.data.datasets||[]).length,n=[];let i,l,c,o;for(l=0;l<r;++l)i=s.getDatasetMeta(l),c=i.dataset,o=null,c&&c.options&&c instanceof _x&&(o={visible:s.isDatasetVisible(l),index:l,fill:QNe(c,l,r),chart:s,axis:i.controller.options.indexAxis,scale:i.vScale,line:c}),i.$filler=o,n.push(o);for(l=0;l<r;++l)o=n[l],!(!o||o.fill===!1)&&(o.fill=KNe(n,l,a.propagate))},beforeDraw(s,t,a){const r=a.drawTime==="beforeDraw",n=s.getSortedVisibleDatasetMetas(),i=s.chartArea;for(let l=n.length-1;l>=0;--l){const c=n[l].$filler;c&&(c.line.updateControlPoints(i,c.axis),r&&c.fill&&vk(s.ctx,c,i))}},beforeDatasetsDraw(s,t,a){if(a.drawTime!=="beforeDatasetsDraw")return;const r=s.getSortedVisibleDatasetMetas();for(let n=r.length-1;n>=0;--n){const i=r[n].$filler;E$(i)&&vk(s.ctx,i,s.chartArea)}},beforeDatasetDraw(s,t,a){const r=t.meta.$filler;!E$(r)||a.drawTime!=="beforeDatasetDraw"||vk(s.ctx,r,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const D$=(s,t)=>{let{boxHeight:a=t,boxWidth:r=t}=s;return s.usePointStyle&&(a=Math.min(a,t),r=s.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:a,itemHeight:Math.max(t,a)}},m1e=(s,t)=>s!==null&&t!==null&&s.datasetIndex===t.datasetIndex&&s.index===t.index;class O$ extends io{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,a,r){this.maxWidth=t,this.maxHeight=a,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let a=aa(t.generateLabels,[this.chart],this)||[];t.filter&&(a=a.filter(r=>t.filter(r,this.chart.data))),t.sort&&(a=a.sort((r,n)=>t.sort(r,n,this.chart.data))),this.options.reverse&&a.reverse(),this.legendItems=a}fit(){const{options:t,ctx:a}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,n=qa(r.font),i=n.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:o}=D$(r,i);let u,d;a.font=n.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(l,i,c,o)+10):(d=this.maxHeight,u=this._fitCols(l,n,c,o)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,a,r,n){const{ctx:i,maxWidth:l,options:{labels:{padding:c}}}=this,o=this.legendHitBoxes=[],u=this.lineWidths=[0],d=n+c;let f=t;i.textAlign="left",i.textBaseline="middle";let p=-1,j=-d;return this.legendItems.forEach((y,k)=>{const v=r+a/2+i.measureText(y.text).width;(k===0||u[u.length-1]+v+2*c>l)&&(f+=d,u[u.length-(k>0?0:1)]=0,j+=d,p++),o[k]={left:0,top:j,row:p,width:v,height:n},u[u.length-1]+=v+c}),f}_fitCols(t,a,r,n){const{ctx:i,maxHeight:l,options:{labels:{padding:c}}}=this,o=this.legendHitBoxes=[],u=this.columnSizes=[],d=l-t;let f=c,p=0,j=0,y=0,k=0;return this.legendItems.forEach((v,S)=>{const{itemWidth:C,itemHeight:_}=x1e(r,a,i,v,n);S>0&&j+_+2*c>d&&(f+=p+c,u.push({width:p,height:j}),y+=p+c,k++,p=j=0),o[S]={left:y,top:j,col:k,width:C,height:_},p=Math.max(p,C),j+=_+c}),f+=p,u.push({width:p,height:j}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:a,options:{align:r,labels:{padding:n},rtl:i}}=this,l=km(i,this.left,this.width);if(this.isHorizontal()){let c=0,o=Dr(r,this.left+n,this.right-this.lineWidths[c]);for(const u of a)c!==u.row&&(c=u.row,o=Dr(r,this.left+n,this.right-this.lineWidths[c])),u.top+=this.top+t+n,u.left=l.leftForLtr(l.x(o),u.width),o+=u.width+n}else{let c=0,o=Dr(r,this.top+t+n,this.bottom-this.columnSizes[c].height);for(const u of a)u.col!==c&&(c=u.col,o=Dr(r,this.top+t+n,this.bottom-this.columnSizes[c].height)),u.top=o,u.left+=this.left+n,u.left=l.leftForLtr(l.x(u.left),u.width),o+=u.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;h1(t,this),this._draw(),u1(t)}}_draw(){const{options:t,columnSizes:a,lineWidths:r,ctx:n}=this,{align:i,labels:l}=t,c=_a.color,o=km(t.rtl,this.left,this.width),u=qa(l.font),{padding:d}=l,f=u.size,p=f/2;let j;this.drawTitle(),n.textAlign=o.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=u.string;const{boxWidth:y,boxHeight:k,itemHeight:v}=D$(l,f),S=function(M,L,F){if(isNaN(y)||y<=0||isNaN(k)||k<0)return;n.save();const Q=Xt(F.lineWidth,1);if(n.fillStyle=Xt(F.fillStyle,c),n.lineCap=Xt(F.lineCap,"butt"),n.lineDashOffset=Xt(F.lineDashOffset,0),n.lineJoin=Xt(F.lineJoin,"miter"),n.lineWidth=Q,n.strokeStyle=Xt(F.strokeStyle,c),n.setLineDash(Xt(F.lineDash,[])),l.usePointStyle){const I={radius:k*Math.SQRT2/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:Q},H=o.xPlus(M,y/2),z=L+p;C9(n,I,H,z,l.pointStyleWidth&&y)}else{const I=L+Math.max((f-k)/2,0),H=o.leftForLtr(M,y),z=Fh(F.borderRadius);n.beginPath(),Object.values(z).some(K=>K!==0)?Qp(n,{x:H,y:I,w:y,h:k,radius:z}):n.rect(H,I,y,k),n.fill(),Q!==0&&n.stroke()}n.restore()},C=function(M,L,F){Zh(n,F.text,M,L+v/2,u,{strikethrough:F.hidden,textAlign:o.textAlign(F.textAlign)})},_=this.isHorizontal(),A=this._computeTitleHeight();_?j={x:Dr(i,this.left+d,this.right-r[0]),y:this.top+d+A,line:0}:j={x:this.left+d,y:Dr(i,this.top+A+d,this.bottom-a[0].height),line:0},R9(this.ctx,t.textDirection);const D=v+d;this.legendItems.forEach((M,L)=>{n.strokeStyle=M.fontColor,n.fillStyle=M.fontColor;const F=n.measureText(M.text).width,Q=o.textAlign(M.textAlign||(M.textAlign=l.textAlign)),I=y+p+F;let H=j.x,z=j.y;o.setWidth(this.width),_?L>0&&H+I+d>this.right&&(z=j.y+=D,j.line++,H=j.x=Dr(i,this.left+d,this.right-r[j.line])):L>0&&z+D>this.bottom&&(H=j.x=H+a[j.line].width+d,j.line++,z=j.y=Dr(i,this.top+A+d,this.bottom-a[j.line].height));const K=o.x(H);if(S(K,z,M),H=Bje(Q,H+y+p,_?H+I:this.right,t.rtl),C(o.x(H),z,M),_)j.x+=I+d;else if(typeof M.text!="string"){const U=u.lineHeight;j.y+=rU(M,U)+d}else j.y+=D}),$9(this.ctx,t.textDirection)}drawTitle(){const t=this.options,a=t.title,r=qa(a.font),n=qr(a.padding);if(!a.display)return;const i=km(t.rtl,this.left,this.width),l=this.ctx,c=a.position,o=r.size/2,u=n.top+o;let d,f=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),d=this.top+u,f=Dr(t.align,f,this.right-p);else{const y=this.columnSizes.reduce((k,v)=>Math.max(k,v.height),0);d=u+Dr(t.align,this.top,this.bottom-y-t.labels.padding-this._computeTitleHeight())}const j=Dr(c,f,f+p);l.textAlign=i.textAlign(EA(c)),l.textBaseline="middle",l.strokeStyle=a.color,l.fillStyle=a.color,l.font=r.string,Zh(l,a.text,j,d,r)}_computeTitleHeight(){const t=this.options.title,a=qa(t.font),r=qr(t.padding);return t.display?a.lineHeight+r.height:0}_getLegendItemAt(t,a){let r,n,i;if(Ac(t,this.left,this.right)&&Ac(a,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(n=i[r],Ac(t,n.left,n.left+n.width)&&Ac(a,n.top,n.top+n.height))return this.legendItems[r]}return null}handleEvent(t){const a=this.options;if(!g1e(t.type,a))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const n=this._hoveredItem,i=m1e(n,r);n&&!i&&aa(a.onLeave,[t,n,this],this),this._hoveredItem=r,r&&!i&&aa(a.onHover,[t,r,this],this)}else r&&aa(a.onClick,[t,r,this],this)}}function x1e(s,t,a,r,n){const i=f1e(r,s,t,a),l=p1e(n,r,t.lineHeight);return{itemWidth:i,itemHeight:l}}function f1e(s,t,a,r){let n=s.text;return n&&typeof n!="string"&&(n=n.reduce((i,l)=>i.length>l.length?i:l)),t+a.size/2+r.measureText(n).width}function p1e(s,t,a){let r=s;return typeof t.text!="string"&&(r=rU(t,a)),r}function rU(s,t){const a=s.text?s.text.length:0;return t*a}function g1e(s,t){return!!((s==="mousemove"||s==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(s==="click"||s==="mouseup"))}var HA={id:"legend",_element:O$,start(s,t,a){const r=s.legend=new O$({ctx:s.ctx,options:a,chart:s});pi.configure(s,r,a),pi.addBox(s,r)},stop(s){pi.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,t,a){const r=s.legend;pi.configure(s,r,a),r.options=a},afterUpdate(s){const t=s.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(s,t){t.replay||s.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,t,a){const r=t.datasetIndex,n=a.chart;n.isDatasetVisible(r)?(n.hide(r),t.hidden=!0):(n.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const t=s.data.datasets,{labels:{usePointStyle:a,pointStyle:r,textAlign:n,color:i,useBorderRadius:l,borderRadius:c}}=s.legend.options;return s._getSortedDatasetMetas().map(o=>{const u=o.controller.getStyle(a?0:void 0),d=qr(u.borderWidth);return{text:t[o.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!o.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:n||u.textAlign,borderRadius:l&&(c||u.borderRadius),datasetIndex:o.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class nU extends io{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,a){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=a;const n=ha(r.text)?r.text.length:1;this._padding=qr(r.padding);const i=n*qa(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:a,left:r,bottom:n,right:i,options:l}=this,c=l.align;let o=0,u,d,f;return this.isHorizontal()?(d=Dr(c,r,i),f=a+t,u=i-r):(l.position==="left"?(d=r+t,f=Dr(c,n,a),o=Cs*-.5):(d=i-t,f=Dr(c,a,n),o=Cs*.5),u=n-a),{titleX:d,titleY:f,maxWidth:u,rotation:o}}draw(){const t=this.ctx,a=this.options;if(!a.display)return;const r=qa(a.font),i=r.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:o,rotation:u}=this._drawArgs(i);Zh(t,a.text,0,0,r,{color:a.color,maxWidth:o,rotation:u,textAlign:EA(a.align),textBaseline:"middle",translation:[l,c]})}}function y1e(s,t){const a=new nU({ctx:s.ctx,options:t,chart:s});pi.configure(s,a,t),pi.addBox(s,a),s.titleBlock=a}var UA={id:"title",_element:nU,start(s,t,a){y1e(s,a)},stop(s){const t=s.titleBlock;pi.removeBox(s,t),delete s.titleBlock},beforeUpdate(s,t,a){const r=s.titleBlock;pi.configure(s,r,a),r.options=a},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const dp={average(s){if(!s.length)return!1;let t,a,r=new Set,n=0,i=0;for(t=0,a=s.length;t<a;++t){const c=s[t].element;if(c&&c.hasValue()){const o=c.tooltipPosition();r.add(o.x),n+=o.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((c,o)=>c+o)/r.size,y:n/i}},nearest(s,t){if(!s.length)return!1;let a=t.x,r=t.y,n=Number.POSITIVE_INFINITY,i,l,c;for(i=0,l=s.length;i<l;++i){const o=s[i].element;if(o&&o.hasValue()){const u=o.getCenterPoint(),d=i_(t,u);d<n&&(n=d,c=o)}}if(c){const o=c.tooltipPosition();a=o.x,r=o.y}return{x:a,y:r}}};function bl(s,t){return t&&(ha(t)?Array.prototype.push.apply(s,t):s.push(t)),s}function bc(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function j1e(s,t){const{element:a,datasetIndex:r,index:n}=t,i=s.getDatasetMeta(r).controller,{label:l,value:c}=i.getLabelAndValue(n);return{chart:s,label:l,parsed:i.getParsed(n),raw:s.data.datasets[r].data[n],formattedValue:c,dataset:i.getDataset(),dataIndex:n,datasetIndex:r,element:a}}function R$(s,t){const a=s.chart.ctx,{body:r,footer:n,title:i}=s,{boxWidth:l,boxHeight:c}=t,o=qa(t.bodyFont),u=qa(t.titleFont),d=qa(t.footerFont),f=i.length,p=n.length,j=r.length,y=qr(t.padding);let k=y.height,v=0,S=r.reduce((A,D)=>A+D.before.length+D.lines.length+D.after.length,0);if(S+=s.beforeBody.length+s.afterBody.length,f&&(k+=f*u.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),S){const A=t.displayColors?Math.max(c,o.lineHeight):o.lineHeight;k+=j*A+(S-j)*o.lineHeight+(S-1)*t.bodySpacing}p&&(k+=t.footerMarginTop+p*d.lineHeight+(p-1)*t.footerSpacing);let C=0;const _=function(A){v=Math.max(v,a.measureText(A).width+C)};return a.save(),a.font=u.string,Bs(s.title,_),a.font=o.string,Bs(s.beforeBody.concat(s.afterBody),_),C=t.displayColors?l+2+t.boxPadding:0,Bs(r,A=>{Bs(A.before,_),Bs(A.lines,_),Bs(A.after,_)}),C=0,a.font=d.string,Bs(s.footer,_),a.restore(),v+=y.width,{width:v,height:k}}function v1e(s,t){const{y:a,height:r}=t;return a<r/2?"top":a>s.height-r/2?"bottom":"center"}function b1e(s,t,a,r){const{x:n,width:i}=r,l=a.caretSize+a.caretPadding;if(s==="left"&&n+i+l>t.width||s==="right"&&n-i-l<0)return!0}function N1e(s,t,a,r){const{x:n,width:i}=a,{width:l,chartArea:{left:c,right:o}}=s;let u="center";return r==="center"?u=n<=(c+o)/2?"left":"right":n<=i/2?u="left":n>=l-i/2&&(u="right"),b1e(u,s,t,a)&&(u="center"),u}function $$(s,t,a){const r=a.yAlign||t.yAlign||v1e(s,a);return{xAlign:a.xAlign||t.xAlign||N1e(s,t,a,r),yAlign:r}}function w1e(s,t){let{x:a,width:r}=s;return t==="right"?a-=r:t==="center"&&(a-=r/2),a}function k1e(s,t,a){let{y:r,height:n}=s;return t==="top"?r+=a:t==="bottom"?r-=n+a:r-=n/2,r}function P$(s,t,a,r){const{caretSize:n,caretPadding:i,cornerRadius:l}=s,{xAlign:c,yAlign:o}=a,u=n+i,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:j}=Fh(l);let y=w1e(t,c);const k=k1e(t,o,u);return o==="center"?c==="left"?y+=u:c==="right"&&(y-=u):c==="left"?y-=Math.max(d,p)+n:c==="right"&&(y+=Math.max(f,j)+n),{x:Ur(y,0,r.width-t.width),y:Ur(k,0,r.height-t.height)}}function xv(s,t,a){const r=qr(a.padding);return t==="center"?s.x+s.width/2:t==="right"?s.x+s.width-r.right:s.x+r.left}function I$(s){return bl([],bc(s))}function S1e(s,t,a){return Pd(s,{tooltip:t,tooltipItems:a,type:"tooltip"})}function B$(s,t){const a=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return a?s.override(a):s}const iU={beforeTitle:yc,title(s){if(s.length>0){const t=s[0],a=t.chart.data.labels,r=a?a.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return a[t.dataIndex]}return""},afterTitle:yc,beforeBody:yc,beforeLabel:yc,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let t=s.dataset.label||"";t&&(t+=": ");const a=s.formattedValue;return ys(a)||(t+=a),t},labelColor(s){const a=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:a.borderColor,backgroundColor:a.backgroundColor,borderWidth:a.borderWidth,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const a=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:a.pointStyle,rotation:a.rotation}},afterLabel:yc,afterBody:yc,beforeFooter:yc,footer:yc,afterFooter:yc};function fn(s,t,a,r){const n=s[t].call(a,r);return typeof n>"u"?iU[t].call(a,r):n}class L$ extends io{static positioners=dp;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const a=this.chart,r=this.options.setContext(this.getContext()),n=r.enabled&&a.options.animation&&r.animations,i=new F9(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=S1e(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,a){const{callbacks:r}=a,n=fn(r,"beforeTitle",this,t),i=fn(r,"title",this,t),l=fn(r,"afterTitle",this,t);let c=[];return c=bl(c,bc(n)),c=bl(c,bc(i)),c=bl(c,bc(l)),c}getBeforeBody(t,a){return I$(fn(a.callbacks,"beforeBody",this,t))}getBody(t,a){const{callbacks:r}=a,n=[];return Bs(t,i=>{const l={before:[],lines:[],after:[]},c=B$(r,i);bl(l.before,bc(fn(c,"beforeLabel",this,i))),bl(l.lines,fn(c,"label",this,i)),bl(l.after,bc(fn(c,"afterLabel",this,i))),n.push(l)}),n}getAfterBody(t,a){return I$(fn(a.callbacks,"afterBody",this,t))}getFooter(t,a){const{callbacks:r}=a,n=fn(r,"beforeFooter",this,t),i=fn(r,"footer",this,t),l=fn(r,"afterFooter",this,t);let c=[];return c=bl(c,bc(n)),c=bl(c,bc(i)),c=bl(c,bc(l)),c}_createItems(t){const a=this._active,r=this.chart.data,n=[],i=[],l=[];let c=[],o,u;for(o=0,u=a.length;o<u;++o)c.push(j1e(this.chart,a[o]));return t.filter&&(c=c.filter((d,f,p)=>t.filter(d,f,p,r))),t.itemSort&&(c=c.sort((d,f)=>t.itemSort(d,f,r))),Bs(c,d=>{const f=B$(t.callbacks,d);n.push(fn(f,"labelColor",this,d)),i.push(fn(f,"labelPointStyle",this,d)),l.push(fn(f,"labelTextColor",this,d))}),this.labelColors=n,this.labelPointStyles=i,this.labelTextColors=l,this.dataPoints=c,c}update(t,a){const r=this.options.setContext(this.getContext()),n=this._active;let i,l=[];if(!n.length)this.opacity!==0&&(i={opacity:0});else{const c=dp[r.position].call(this,n,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const o=this._size=R$(this,r),u=Object.assign({},c,o),d=$$(this.chart,r,u),f=P$(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:f.x,y:f.y,width:o.width,height:o.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:a})}drawCaret(t,a,r,n){const i=this.getCaretPosition(t,r,n);a.lineTo(i.x1,i.y1),a.lineTo(i.x2,i.y2),a.lineTo(i.x3,i.y3)}getCaretPosition(t,a,r){const{xAlign:n,yAlign:i}=this,{caretSize:l,cornerRadius:c}=r,{topLeft:o,topRight:u,bottomLeft:d,bottomRight:f}=Fh(c),{x:p,y:j}=t,{width:y,height:k}=a;let v,S,C,_,A,D;return i==="center"?(A=j+k/2,n==="left"?(v=p,S=v-l,_=A+l,D=A-l):(v=p+y,S=v+l,_=A-l,D=A+l),C=v):(n==="left"?S=p+Math.max(o,d)+l:n==="right"?S=p+y-Math.max(u,f)-l:S=this.caretX,i==="top"?(_=j,A=_-l,v=S-l,C=S+l):(_=j+k,A=_+l,v=S+l,C=S-l),D=_),{x1:v,x2:S,x3:C,y1:_,y2:A,y3:D}}drawTitle(t,a,r){const n=this.title,i=n.length;let l,c,o;if(i){const u=km(r.rtl,this.x,this.width);for(t.x=xv(this,r.titleAlign,r),a.textAlign=u.textAlign(r.titleAlign),a.textBaseline="middle",l=qa(r.titleFont),c=r.titleSpacing,a.fillStyle=r.titleColor,a.font=l.string,o=0;o<i;++o)a.fillText(n[o],u.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+c,o+1===i&&(t.y+=r.titleMarginBottom-c)}}_drawColorBox(t,a,r,n,i){const l=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:o,boxWidth:u}=i,d=qa(i.bodyFont),f=xv(this,"left",i),p=n.x(f),j=o<d.lineHeight?(d.lineHeight-o)/2:0,y=a.y+j;if(i.usePointStyle){const k={radius:Math.min(u,o)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},v=n.leftForLtr(p,u)+u/2,S=y+o/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,c_(t,k,v,S),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,c_(t,k,v,S)}else{t.lineWidth=os(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const k=n.leftForLtr(p,u),v=n.leftForLtr(n.xPlus(p,1),u-2),S=Fh(l.borderRadius);Object.values(S).some(C=>C!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,Qp(t,{x:k,y,w:u,h:o,radius:S}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Qp(t,{x:v,y:y+1,w:u-2,h:o-2,radius:S}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(k,y,u,o),t.strokeRect(k,y,u,o),t.fillStyle=l.backgroundColor,t.fillRect(v,y+1,u-2,o-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,a,r){const{body:n}=this,{bodySpacing:i,bodyAlign:l,displayColors:c,boxHeight:o,boxWidth:u,boxPadding:d}=r,f=qa(r.bodyFont);let p=f.lineHeight,j=0;const y=km(r.rtl,this.x,this.width),k=function(F){a.fillText(F,y.x(t.x+j),t.y+p/2),t.y+=p+i},v=y.textAlign(l);let S,C,_,A,D,M,L;for(a.textAlign=l,a.textBaseline="middle",a.font=f.string,t.x=xv(this,v,r),a.fillStyle=r.bodyColor,Bs(this.beforeBody,k),j=c&&v!=="right"?l==="center"?u/2+d:u+2+d:0,A=0,M=n.length;A<M;++A){for(S=n[A],C=this.labelTextColors[A],a.fillStyle=C,Bs(S.before,k),_=S.lines,c&&_.length&&(this._drawColorBox(a,t,A,y,r),p=Math.max(f.lineHeight,o)),D=0,L=_.length;D<L;++D)k(_[D]),p=f.lineHeight;Bs(S.after,k)}j=0,p=f.lineHeight,Bs(this.afterBody,k),t.y-=i}drawFooter(t,a,r){const n=this.footer,i=n.length;let l,c;if(i){const o=km(r.rtl,this.x,this.width);for(t.x=xv(this,r.footerAlign,r),t.y+=r.footerMarginTop,a.textAlign=o.textAlign(r.footerAlign),a.textBaseline="middle",l=qa(r.footerFont),a.fillStyle=r.footerColor,a.font=l.string,c=0;c<i;++c)a.fillText(n[c],o.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+r.footerSpacing}}drawBackground(t,a,r,n){const{xAlign:i,yAlign:l}=this,{x:c,y:o}=t,{width:u,height:d}=r,{topLeft:f,topRight:p,bottomLeft:j,bottomRight:y}=Fh(n.cornerRadius);a.fillStyle=n.backgroundColor,a.strokeStyle=n.borderColor,a.lineWidth=n.borderWidth,a.beginPath(),a.moveTo(c+f,o),l==="top"&&this.drawCaret(t,a,r,n),a.lineTo(c+u-p,o),a.quadraticCurveTo(c+u,o,c+u,o+p),l==="center"&&i==="right"&&this.drawCaret(t,a,r,n),a.lineTo(c+u,o+d-y),a.quadraticCurveTo(c+u,o+d,c+u-y,o+d),l==="bottom"&&this.drawCaret(t,a,r,n),a.lineTo(c+j,o+d),a.quadraticCurveTo(c,o+d,c,o+d-j),l==="center"&&i==="left"&&this.drawCaret(t,a,r,n),a.lineTo(c,o+f),a.quadraticCurveTo(c,o,c+f,o),a.closePath(),a.fill(),n.borderWidth>0&&a.stroke()}_updateAnimationTarget(t){const a=this.chart,r=this.$animations,n=r&&r.x,i=r&&r.y;if(n||i){const l=dp[t.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=R$(this,t),o=Object.assign({},l,this._size),u=$$(a,t,o),d=P$(t,o,u,a);(n._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const a=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(a);const n={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=qr(a.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;a.enabled&&c&&(t.save(),t.globalAlpha=r,this.drawBackground(i,t,n,a),R9(t,a.textDirection),i.y+=l.top,this.drawTitle(i,t,a),this.drawBody(i,t,a),this.drawFooter(i,t,a),$9(t,a.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,a){const r=this._active,n=t.map(({datasetIndex:c,index:o})=>{const u=this.chart.getDatasetMeta(c);if(!u)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:u.data[o],index:o}}),i=!Ib(r,n),l=this._positionChanged(n,a);(i||l)&&(this._active=n,this._eventPosition=a,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,a,r=!0){if(a&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,i=this._active||[],l=this._getActiveElements(t,i,a,r),c=this._positionChanged(l,t),o=a||!Ib(l,i)||c;return o&&(this._active=l,(n.enabled||n.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,a))),o}_getActiveElements(t,a,r,n){const i=this.options;if(t.type==="mouseout")return[];if(!n)return a.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,i.mode,i,r);return i.reverse&&l.reverse(),l}_positionChanged(t,a){const{caretX:r,caretY:n,options:i}=this,l=dp[i.position].call(this,t,a);return l!==!1&&(r!==l.x||n!==l.y)}}var qA={id:"tooltip",_element:L$,positioners:dp,afterInit(s,t,a){a&&(s.tooltip=new L$({chart:s,options:a}))},beforeUpdate(s,t,a){s.tooltip&&s.tooltip.initialize(a)},reset(s,t,a){s.tooltip&&s.tooltip.initialize(a)},afterDraw(s){const t=s.tooltip;if(t&&t._willRender()){const a={tooltip:t};if(s.notifyPlugins("beforeTooltipDraw",{...a,cancelable:!0})===!1)return;t.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",a)}},afterEvent(s,t){if(s.tooltip){const a=t.replay;s.tooltip.handleEvent(t.event,a,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,t)=>t.bodyFont.size,boxWidth:(s,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:iU},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const _1e=(s,t,a,r)=>(typeof t=="string"?(a=s.push(t)-1,r.unshift({index:a,label:t})):isNaN(t)&&(a=null),a);function C1e(s,t,a,r){const n=s.indexOf(t);if(n===-1)return _1e(s,t,a,r);const i=s.lastIndexOf(t);return n!==i?a:n}const E1e=(s,t)=>s===null?null:Ur(Math.round(s),0,t);function F$(s){const t=this.getLabels();return s>=0&&s<t.length?t[s]:s}class GA extends kx{static id="category";static defaults={ticks:{callback:F$}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const a=this._addedLabels;if(a.length){const r=this.getLabels();for(const{index:n,label:i}of a)r[n]===i&&r.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,a){if(ys(t))return null;const r=this.getLabels();return a=isFinite(a)&&r[a]===t?a:C1e(r,t,Xt(a,t),this._addedLabels),E1e(a,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:a}=this.getUserBounds();let{min:r,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),a||(n=this.getLabels().length-1)),this.min=r,this.max=n}buildTicks(){const t=this.min,a=this.max,r=this.options.offset,n=[];let i=this.getLabels();i=t===0&&a===i.length-1?i:i.slice(t,a+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=t;l<=a;l++)n.push({value:l});return n}getLabelForValue(t){return F$.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const a=this.ticks;return t<0||t>a.length-1?null:this.getPixelForValue(a[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function A1e(s,t){const a=[],{bounds:n,step:i,min:l,max:c,precision:o,count:u,maxTicks:d,maxDigits:f,includeBounds:p}=s,j=i||1,y=d-1,{min:k,max:v}=t,S=!ys(l),C=!ys(c),_=!ys(u),A=(v-k)/(f+1);let D=I5((v-k)/y/j)*j,M,L,F,Q;if(D<1e-14&&!S&&!C)return[{value:k},{value:v}];Q=Math.ceil(v/D)-Math.floor(k/D),Q>y&&(D=I5(Q*D/y/j)*j),ys(o)||(M=Math.pow(10,o),D=Math.ceil(D*M)/M),n==="ticks"?(L=Math.floor(k/D)*D,F=Math.ceil(v/D)*D):(L=k,F=v),S&&C&&i&&Tje((c-l)/i,D/1e3)?(Q=Math.round(Math.min((c-l)/D,d)),D=(c-l)/Q,L=l,F=c):_?(L=S?l:L,F=C?c:F,Q=u-1,D=(F-L)/Q):(Q=(F-L)/D,jp(Q,Math.round(Q),D/1e3)?Q=Math.round(Q):Q=Math.ceil(Q));const I=Math.max(B5(D),B5(L));M=Math.pow(10,ys(o)?I:o),L=Math.round(L*M)/M,F=Math.round(F*M)/M;let H=0;for(S&&(p&&L!==l?(a.push({value:l}),L<l&&H++,jp(Math.round((L+H*D)*M)/M,l,z$(l,A,s))&&H++):L<l&&H++);H<Q;++H){const z=Math.round((L+H*D)*M)/M;if(C&&z>c)break;a.push({value:z})}return C&&p&&F!==c?a.length&&jp(a[a.length-1].value,c,z$(c,A,s))?a[a.length-1].value=c:a.push({value:c}):(!C||F===c)&&a.push({value:F}),a}function z$(s,t,{horizontal:a,minRotation:r}){const n=Tl(r),i=(a?Math.sin(n):Math.cos(n))||.001,l=.75*t*(""+s).length;return Math.min(t/i,l)}class m_ extends kx{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,a){return ys(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:a,maxDefined:r}=this.getUserBounds();let{min:n,max:i}=this;const l=o=>n=a?n:o,c=o=>i=r?i:o;if(t){const o=$l(n),u=$l(i);o<0&&u<0?c(0):o>0&&u>0&&l(0)}if(n===i){let o=i===0?1:Math.abs(i*.05);c(i+o),t||l(n-o)}this.min=n,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:a,stepSize:r}=t,n;return r?(n=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),a=a||11),a&&(n=Math.min(a,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,a=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const n={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:a.precision,step:a.stepSize,count:a.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:a.minRotation||0,includeBounds:a.includeBounds!==!1},i=this._range||this,l=A1e(n,i);return t.bounds==="ticks"&&Mje(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let a=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const n=(r-a)/Math.max(t.length-1,1)/2;a-=n,r+=n}this._startValue=a,this._endValue=r,this._valueRange=r-a}getLabelForValue(t){return TA(t,this.chart.options.locale,this.options.ticks.format)}}class VA extends m_{static id="linear";static defaults={ticks:{callback:MA.formatters.numeric}};determineDataLimits(){const{min:t,max:a}=this.getMinMax(!0);this.min=or(t)?t:0,this.max=or(a)?a:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),a=t?this.width:this.height,r=Tl(this.options.ticks.minRotation),n=(t?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(a/Math.min(40,i.lineHeight/n))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function x_(s){const t=s.ticks;if(t.display&&s.display){const a=qr(t.backdropPadding);return Xt(t.font&&t.font.size,_a.font.size)+a.height}return 0}function T1e(s,t,a){return a=ha(a)?a:[a],{w:Xje(s,t.string,a),h:a.length*t.lineHeight}}function H$(s,t,a,r,n){return s===r||s===n?{start:t-a/2,end:t+a/2}:s<r||s>n?{start:t-a,end:t}:{start:t,end:t+a}}function M1e(s){const t={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},a=Object.assign({},t),r=[],n=[],i=s._pointLabels.length,l=s.options.pointLabels,c=l.centerPointLabels?Cs/i:0;for(let o=0;o<i;o++){const u=l.setContext(s.getPointLabelContext(o));n[o]=u.padding;const d=s.getPointPosition(o,s.drawingArea+n[o],c),f=qa(u.font),p=T1e(s.ctx,f,s._pointLabels[o]);r[o]=p;const j=Pr(s.getIndexAngle(o)+c),y=Math.round(_A(j)),k=H$(y,d.x,p.w,0,180),v=H$(y,d.y,p.h,90,270);D1e(a,t,j,k,v)}s.setCenterPoint(t.l-a.l,a.r-t.r,t.t-a.t,a.b-t.b),s._pointLabelItems=$1e(s,r,n)}function D1e(s,t,a,r,n){const i=Math.abs(Math.sin(a)),l=Math.abs(Math.cos(a));let c=0,o=0;r.start<t.l?(c=(t.l-r.start)/i,s.l=Math.min(s.l,t.l-c)):r.end>t.r&&(c=(r.end-t.r)/i,s.r=Math.max(s.r,t.r+c)),n.start<t.t?(o=(t.t-n.start)/l,s.t=Math.min(s.t,t.t-o)):n.end>t.b&&(o=(n.end-t.b)/l,s.b=Math.max(s.b,t.b+o))}function O1e(s,t,a){const r=s.drawingArea,{extra:n,additionalAngle:i,padding:l,size:c}=a,o=s.getPointPosition(t,r+n+l,i),u=Math.round(_A(Pr(o.angle+Ra))),d=B1e(o.y,c.h,u),f=P1e(u),p=I1e(o.x,c.w,f);return{visible:!0,x:o.x,y:d,textAlign:f,left:p,top:d,right:p+c.w,bottom:d+c.h}}function R1e(s,t){if(!t)return!0;const{left:a,top:r,right:n,bottom:i}=s;return!(Tc({x:a,y:r},t)||Tc({x:a,y:i},t)||Tc({x:n,y:r},t)||Tc({x:n,y:i},t))}function $1e(s,t,a){const r=[],n=s._pointLabels.length,i=s.options,{centerPointLabels:l,display:c}=i.pointLabels,o={extra:x_(i)/2,additionalAngle:l?Cs/n:0};let u;for(let d=0;d<n;d++){o.padding=a[d],o.size=t[d];const f=O1e(s,d,o);r.push(f),c==="auto"&&(f.visible=R1e(f,u),f.visible&&(u=f))}return r}function P1e(s){return s===0||s===180?"center":s<180?"left":"right"}function I1e(s,t,a){return a==="right"?s-=t:a==="center"&&(s-=t/2),s}function B1e(s,t,a){return a===90||a===270?s-=t/2:(a>270||a<90)&&(s-=t),s}function L1e(s,t,a){const{left:r,top:n,right:i,bottom:l}=a,{backdropColor:c}=t;if(!ys(c)){const o=Fh(t.borderRadius),u=qr(t.backdropPadding);s.fillStyle=c;const d=r-u.left,f=n-u.top,p=i-r+u.width,j=l-n+u.height;Object.values(o).some(y=>y!==0)?(s.beginPath(),Qp(s,{x:d,y:f,w:p,h:j,radius:o}),s.fill()):s.fillRect(d,f,p,j)}}function F1e(s,t){const{ctx:a,options:{pointLabels:r}}=s;for(let n=t-1;n>=0;n--){const i=s._pointLabelItems[n];if(!i.visible)continue;const l=r.setContext(s.getPointLabelContext(n));L1e(a,l,i);const c=qa(l.font),{x:o,y:u,textAlign:d}=i;Zh(a,s._pointLabels[n],o,u+c.lineHeight/2,c,{color:l.color,textAlign:d,textBaseline:"middle"})}}function lU(s,t,a,r){const{ctx:n}=s;if(a)n.arc(s.xCenter,s.yCenter,t,0,oa);else{let i=s.getPointPosition(0,t);n.moveTo(i.x,i.y);for(let l=1;l<r;l++)i=s.getPointPosition(l,t),n.lineTo(i.x,i.y)}}function z1e(s,t,a,r,n){const i=s.ctx,l=t.circular,{color:c,lineWidth:o}=t;!l&&!r||!c||!o||a<0||(i.save(),i.strokeStyle=c,i.lineWidth=o,i.setLineDash(n.dash||[]),i.lineDashOffset=n.dashOffset,i.beginPath(),lU(s,a,l,r),i.closePath(),i.stroke(),i.restore())}function H1e(s,t,a){return Pd(s,{label:a,index:t,type:"pointLabel"})}class cU extends m_{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:MA.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=qr(x_(this.options)/2),a=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+a/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(a,r)/2)}determineDataLimits(){const{min:t,max:a}=this.getMinMax(!1);this.min=or(t)&&!isNaN(t)?t:0,this.max=or(a)&&!isNaN(a)?a:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/x_(this.options))}generateTickLabels(t){m_.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((a,r)=>{const n=aa(this.options.pointLabels.callback,[a,r],this);return n||n===0?n:""}).filter((a,r)=>this.chart.getDataVisibility(r))}fit(){const t=this.options;t.display&&t.pointLabels.display?M1e(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,a,r,n){this.xCenter+=Math.floor((t-a)/2),this.yCenter+=Math.floor((r-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,a,r,n))}getIndexAngle(t){const a=oa/(this._pointLabels.length||1),r=this.options.startAngle||0;return Pr(t*a+Tl(r))}getDistanceFromCenterForValue(t){if(ys(t))return NaN;const a=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*a:(t-this.min)*a}getValueForDistanceFromCenter(t){if(ys(t))return NaN;const a=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-a:this.min+a}getPointLabelContext(t){const a=this._pointLabels||[];if(t>=0&&t<a.length){const r=a[t];return H1e(this.getContext(),t,r)}}getPointPosition(t,a,r=0){const n=this.getIndexAngle(t)-Ra+r;return{x:Math.cos(n)*a+this.xCenter,y:Math.sin(n)*a+this.yCenter,angle:n}}getPointPositionForValue(t,a){return this.getPointPosition(t,this.getDistanceFromCenterForValue(a))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:a,top:r,right:n,bottom:i}=this._pointLabelItems[t];return{left:a,top:r,right:n,bottom:i}}drawBackground(){const{backgroundColor:t,grid:{circular:a}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),lU(this,this.getDistanceFromCenterForValue(this._endValue),a,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,a=this.options,{angleLines:r,grid:n,border:i}=a,l=this._pointLabels.length;let c,o,u;if(a.pointLabels.display&&F1e(this,l),n.display&&this.ticks.forEach((d,f)=>{if(f!==0||f===0&&this.min<0){o=this.getDistanceFromCenterForValue(d.value);const p=this.getContext(f),j=n.setContext(p),y=i.setContext(p);z1e(this,j,o,l,y)}}),r.display){for(t.save(),c=l-1;c>=0;c--){const d=r.setContext(this.getPointLabelContext(c)),{color:f,lineWidth:p}=d;!p||!f||(t.lineWidth=p,t.strokeStyle=f,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,o=this.getDistanceFromCenterForValue(a.reverse?this.min:this.max),u=this.getPointPosition(c,o),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(u.x,u.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,a=this.options,r=a.ticks;if(!r.display)return;const n=this.getIndexAngle(0);let i,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(n),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((c,o)=>{if(o===0&&this.min>=0&&!a.reverse)return;const u=r.setContext(this.getContext(o)),d=qa(u.font);if(i=this.getDistanceFromCenterForValue(this.ticks[o].value),u.showLabelBackdrop){t.font=d.string,l=t.measureText(c.label).width,t.fillStyle=u.backdropColor;const f=qr(u.backdropPadding);t.fillRect(-l/2-f.left,-i-d.size/2-f.top,l+f.width,d.size+f.height)}Zh(t,c.label,0,-i,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),t.restore()}drawTitle(){}}const p1={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},jn=Object.keys(p1);function U$(s,t){return s-t}function q$(s,t){if(ys(t))return null;const a=s._adapter,{parser:r,round:n,isoWeekday:i}=s._parseOpts;let l=t;return typeof r=="function"&&(l=r(l)),or(l)||(l=typeof r=="string"?a.parse(l,r):a.parse(l)),l===null?null:(n&&(l=n==="week"&&(Yp(i)||i===!0)?a.startOf(l,"isoWeek",i):a.startOf(l,n)),+l)}function G$(s,t,a,r){const n=jn.length;for(let i=jn.indexOf(s);i<n-1;++i){const l=p1[jn[i]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((a-t)/(c*l.size))<=r)return jn[i]}return jn[n-1]}function U1e(s,t,a,r,n){for(let i=jn.length-1;i>=jn.indexOf(a);i--){const l=jn[i];if(p1[l].common&&s._adapter.diff(n,r,l)>=t-1)return l}return jn[a?jn.indexOf(a):0]}function q1e(s){for(let t=jn.indexOf(s)+1,a=jn.length;t<a;++t)if(p1[jn[t]].common)return jn[t]}function V$(s,t,a){if(!a)s[t]=!0;else if(a.length){const{lo:r,hi:n}=CA(a,t),i=a[r]>=t?a[r]:a[n];s[i]=!0}}function G1e(s,t,a,r){const n=s._adapter,i=+n.startOf(t[0].value,r),l=t[t.length-1].value;let c,o;for(c=i;c<=l;c=+n.add(c,1,r))o=a[c],o>=0&&(t[o].major=!0);return t}function W$(s,t,a){const r=[],n={},i=t.length;let l,c;for(l=0;l<i;++l)c=t[l],n[c]=l,r.push({value:c,major:!1});return i===0||!a?r:G1e(s,r,n,a)}class Y$ extends kx{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,a={}){const r=t.time||(t.time={}),n=this._adapter=new ybe._date(t.adapters.date);n.init(a),yp(r.displayFormats,n.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=a.normalized}parse(t,a){return t===void 0?null:q$(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,a=this._adapter,r=t.time.unit||"day";let{min:n,max:i,minDefined:l,maxDefined:c}=this.getUserBounds();function o(u){!l&&!isNaN(u.min)&&(n=Math.min(n,u.min)),!c&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!l||!c)&&(o(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&o(this.getMinMax(!1))),n=or(n)&&!isNaN(n)?n:+a.startOf(Date.now(),r),i=or(i)&&!isNaN(i)?i:+a.endOf(Date.now(),r)+1,this.min=Math.min(n,i-1),this.max=Math.max(n+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let a=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(a=t[0],r=t[t.length-1]),{min:a,max:r}}buildTicks(){const t=this.options,a=t.time,r=t.ticks,n=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const i=this.min,l=this.max,c=$je(n,i,l);return this._unit=a.unit||(r.autoSkip?G$(a.minUnit,this.min,this.max,this._getLabelCapacity(i)):U1e(this,c.length,a.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:q1e(this._unit),this.initOffsets(n),t.reverse&&c.reverse(),W$(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let a=0,r=0,n,i;this.options.offset&&t.length&&(n=this.getDecimalForValue(t[0]),t.length===1?a=1-n:a=(this.getDecimalForValue(t[1])-n)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?r=i:r=(i-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;a=Ur(a,0,l),r=Ur(r,0,l),this._offsets={start:a,end:r,factor:1/(a+1+r)}}_generate(){const t=this._adapter,a=this.min,r=this.max,n=this.options,i=n.time,l=i.unit||G$(i.minUnit,a,r,this._getLabelCapacity(a)),c=Xt(n.ticks.stepSize,1),o=l==="week"?i.isoWeekday:!1,u=Yp(o)||o===!0,d={};let f=a,p,j;if(u&&(f=+t.startOf(f,"isoWeek",o)),f=+t.startOf(f,u?"day":l),t.diff(r,a,l)>1e5*c)throw new Error(a+" and "+r+" are too far apart with stepSize of "+c+" "+l);const y=n.ticks.source==="data"&&this.getDataTimestamps();for(p=f,j=0;p<r;p=+t.add(p,c,l),j++)V$(d,p,y);return(p===r||n.bounds==="ticks"||j===1)&&V$(d,p,y),Object.keys(d).sort(U$).map(k=>+k)}getLabelForValue(t){const a=this._adapter,r=this.options.time;return r.tooltipFormat?a.format(t,r.tooltipFormat):a.format(t,r.displayFormats.datetime)}format(t,a){const n=this.options.time.displayFormats,i=this._unit,l=a||n[i];return this._adapter.format(t,l)}_tickFormatFunction(t,a,r,n){const i=this.options,l=i.ticks.callback;if(l)return aa(l,[t,a,r],this);const c=i.time.displayFormats,o=this._unit,u=this._majorUnit,d=o&&c[o],f=u&&c[u],p=r[a],j=u&&f&&p&&p.major;return this._adapter.format(t,n||(j?f:d))}generateTickLabels(t){let a,r,n;for(a=0,r=t.length;a<r;++a)n=t[a],n.label=this._tickFormatFunction(n.value,a,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const a=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((a.start+r)*a.factor)}getValueForPixel(t){const a=this._offsets,r=this.getDecimalForPixel(t)/a.factor-a.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const a=this.options.ticks,r=this.ctx.measureText(t).width,n=Tl(this.isHorizontal()?a.maxRotation:a.minRotation),i=Math.cos(n),l=Math.sin(n),c=this._resolveTickFontOptions(0).size;return{w:r*i+c*l,h:r*l+c*i}}_getLabelCapacity(t){const a=this.options.time,r=a.displayFormats,n=r[a.unit]||r.millisecond,i=this._tickFormatFunction(t,0,W$(this,[t],this._majorUnit),n),l=this._getLabelSize(i),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],a,r;if(t.length)return t;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(a=0,r=n.length;a<r;++a)t=t.concat(n[a].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let a,r;if(t.length)return t;const n=this.getLabels();for(a=0,r=n.length;a<r;++a)t.push(q$(this,n[a]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return k9(t.sort(U$))}}function fv(s,t,a){let r=0,n=s.length-1,i,l,c,o;a?(t>=s[r].pos&&t<=s[n].pos&&({lo:r,hi:n}=Dh(s,"pos",t)),{pos:i,time:c}=s[r],{pos:l,time:o}=s[n]):(t>=s[r].time&&t<=s[n].time&&({lo:r,hi:n}=Dh(s,"time",t)),{time:i,pos:c}=s[r],{time:l,pos:o}=s[n]);const u=l-i;return u?c+(o-c)*(t-i)/u:c}class b6e extends Y${static id="timeseries";static defaults=Y$.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),a=this._table=this.buildLookupTable(t);this._minPos=fv(a,this.min),this._tableRange=fv(a,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:a,max:r}=this,n=[],i=[];let l,c,o,u,d;for(l=0,c=t.length;l<c;++l)u=t[l],u>=a&&u<=r&&n.push(u);if(n.length<2)return[{time:a,pos:0},{time:r,pos:1}];for(l=0,c=n.length;l<c;++l)d=n[l+1],o=n[l-1],u=n[l],Math.round((d+o)/2)!==u&&i.push({time:u,pos:l/(c-1)});return i}_generate(){const t=this.min,a=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(a)||r.length===1)&&r.push(a),r.sort((n,i)=>n-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const a=this.getDataTimestamps(),r=this.getLabelTimestamps();return a.length&&r.length?t=this.normalize(a.concat(r)):t=a.length?a:r,t=this._cache.all=t,t}getDecimalForValue(t){return(fv(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const a=this._offsets,r=this.getDecimalForPixel(t)/a.factor-a.end;return fv(this._table,r*this._tableRange+this._minPos,!0)}}const oU="label";function K$(s,t){typeof s=="function"?s(t):s&&(s.current=t)}function V1e(s,t){const a=s.options;a&&t&&Object.assign(a,t)}function dU(s,t){s.labels=t}function hU(s,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:oU;const r=[];s.datasets=t.map(n=>{const i=s.datasets.find(l=>l[a]===n[a]);return!i||!n.data||r.includes(i)?{...n}:(r.push(i),Object.assign(i,n),i)})}function W1e(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oU;const a={labels:[],datasets:[]};return dU(a,s.labels),hU(a,s.datasets,t),a}function Y1e(s,t){const{height:a=150,width:r=300,redraw:n=!1,datasetIdKey:i,type:l,data:c,options:o,plugins:u=[],fallbackContent:d,updateMode:f,...p}=s,j=x.useRef(null),y=x.useRef(null),k=()=>{j.current&&(y.current=new Sx(j.current,{type:l,data:W1e(c,i),options:o&&{...o},plugins:u}),K$(t,y.current))},v=()=>{K$(t,null),y.current&&(y.current.destroy(),y.current=null)};return x.useEffect(()=>{!n&&y.current&&o&&V1e(y.current,o)},[n,o]),x.useEffect(()=>{!n&&y.current&&dU(y.current.config.data,c.labels)},[n,c.labels]),x.useEffect(()=>{!n&&y.current&&c.datasets&&hU(y.current.config.data,c.datasets,i)},[n,c.datasets]),x.useEffect(()=>{y.current&&(n?(v(),setTimeout(k)):y.current.update(f))},[n,o,c.labels,c.datasets,f]),x.useEffect(()=>{y.current&&(v(),setTimeout(k))},[l]),x.useEffect(()=>(k(),()=>v()),[]),Fs.createElement("canvas",{ref:j,role:"img",height:a,width:r,...p},d)}const K1e=x.forwardRef(Y1e);function Zg(s,t){return Sx.register(t),x.forwardRef((a,r)=>Fs.createElement(K1e,{...a,ref:r,type:s}))}const Zp=Zg("line",fbe),uU=Zg("bar",mbe),Q1e=Zg("radar",gbe),WA=Zg("doughnut",U9),mU=Zg("pie",pbe);Sx.register(GA,VA,FA,_x,UA,qA,HA,zA,LA,cU,u1e);function X1e(){const[s,t]=x.useState(!0),[a,r]=x.useState("light"),[n,i]=x.useState({}),[l,c]=x.useState({}),[o,u]=x.useState([]),[d,f]=x.useState([]),[p,j]=x.useState({}),[y,k]=x.useState({}),[v,S]=x.useState({}),[C,_]=x.useState({}),[A,D]=x.useState({}),[M,L]=x.useState(!1),[F,Q]=x.useState(""),[I,H]=x.useState("success"),[z,K]=x.useState("overview");x.useEffect(()=>{const J=document.documentElement.getAttribute("data-theme")||"light";r(J);const ge=new MutationObserver(()=>{const re=document.documentElement.getAttribute("data-theme")||"light";r(re)});return ge.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>ge.disconnect()},[]);const U=(J,ge="success")=>{Q(J),H(ge),L(!0)},V=x.useCallback(async()=>{try{t(!0);const J=await he.get("/etudiant/classroom/stats");J.data.status==="success"?(i(J.data.classroom),c(J.data.general_stats),u(J.data.students_ranking),f(J.data.subject_stats),j(J.data.class_evolution),k(J.data.participation_stats),S(J.data.my_performance),_(J.data.chart_data),D(J.data.recent_activity)):U(J.data.message||"Erreur lors du chargement","danger")}catch(J){console.error("Erreur lors du chargement des stats:",J);const ge=J.response?.data?.message||"Erreur lors du chargement des statistiques";U(ge,"danger")}finally{t(!1)}},[]);x.useEffect(()=>{V()},[V]),x.useEffect(()=>{We.replace()},[o,d]);const P=J=>J>=80?"#28a745":J>=60?"#007bff":J>=40?"#ffc107":"#dc3545",q=J=>J>=80?"Excellent":J>=60?"Bien":J>=40?"Passable":"À améliorer",G=J=>J===1?"success":J<=3?"warning":J<=10?"info":"secondary",se=J=>{switch(J){case"improving":return"trending-up";case"declining":return"trending-down";default:return"minus"}},O=J=>{switch(J){case"improving":return"text-success";case"declining":return"text-danger";default:return"text-muted"}},W={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:a==="dark"?"#ffffff":"#666666",usePointStyle:!0,padding:20}},tooltip:{backgroundColor:a==="dark"?"#343a40":"#ffffff",titleColor:a==="dark"?"#ffffff":"#000000",bodyColor:a==="dark"?"#ffffff":"#666666",borderColor:a==="dark"?"#6c757d":"#dee2e6",borderWidth:1}},scales:{x:{grid:{color:a==="dark"?"#495057":"#e9ecef"},ticks:{color:a==="dark"?"#ffffff":"#666666"}},y:{grid:{color:a==="dark"?"#495057":"#e9ecef"},ticks:{color:a==="dark"?"#ffffff":"#666666"}}}},Z={labels:["Excellent (≥80%)","Bien (60-79%)","Passable (40-59%)","Insuffisant (<40%)"],datasets:[{data:C.performance_distribution||[0,0,0,0],backgroundColor:["#28a745","#007bff","#ffc107","#dc3545"],borderColor:a==="dark"?"#6c757d":"#ffffff",borderWidth:2}]},te={labels:(p.monthly_evolution||[]).map(J=>J.period),datasets:[{label:"Moyenne de classe (%)",data:(p.monthly_evolution||[]).map(J=>J.average),borderColor:"#007bff",backgroundColor:"rgba(0, 123, 255, 0.1)",tension:.4,fill:!0,pointBackgroundColor:"#007bff",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:6}]},ie={labels:d.slice(0,6).map(J=>J.name),datasets:[{label:"Moyenne par matière (%)",data:d.slice(0,6).map(J=>J.average_score),borderColor:"#17a2b8",backgroundColor:"rgba(23, 162, 184, 0.2)",pointBackgroundColor:"#17a2b8",pointBorderColor:"#ffffff",pointBorderWidth:2}]},fe={...W,scales:{r:{beginAtZero:!0,max:100,grid:{color:a==="dark"?"#495057":"#e9ecef"},pointLabels:{color:a==="dark"?"#ffffff":"#666666"},ticks:{color:a==="dark"?"#ffffff":"#666666"}}}};return s?e.jsx(fs,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des statistiques de classe..."})]})}):e.jsx(fs,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${a==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"users",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsxs("h2",{className:`mb-1 ${a==="dark"?"text-light":"text-dark"}`,children:["Ma Classe - ",n.name||"Classe"]}),e.jsxs("p",{className:`mb-0 ${a==="dark"?"text-light":"text-muted"}`,children:["Statistiques et classement • ",l.total_students||0," étudiants"]})]})]}),e.jsx($,{variant:"outline-primary",onClick:V,title:"Actualiser",children:e.jsx("i",{"data-feather":"refresh-cw",style:{width:"16px",height:"16px"}})})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:l.total_students||0}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Étudiants"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"users",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:`mb-0 text-${l.class_average>=60?"success":"warning"}`,children:[l.class_average||0,"%"]}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Moyenne classe"})]}),e.jsx("div",{className:`text-${l.class_average>=60?"success":"warning"}`,children:e.jsx("i",{"data-feather":"bar-chart-2",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-info",children:l.total_evaluations||0}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Évaluations"})]}),e.jsx("div",{className:"text-info",children:e.jsx("i",{"data-feather":"clipboard",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"mb-0 text-primary",children:[l.participation_rate||0,"%"]}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Participation"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"activity",style:{width:"24px",height:"24px"}})})]})})})})]}),v.my_ranking&&e.jsx(w,{className:`border-0 shadow-sm mb-4 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs(w.Body,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("h6",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:"Ma position dans la classe"}),e.jsxs(oe,{bg:G(v.my_ranking.rank),className:"px-3 py-1",children:["#",v.my_ranking.rank," / ",v.my_ranking.total_students]})]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"flex-grow-1",children:e.jsx(Zt,{now:(v.my_ranking.total_students-v.my_ranking.rank+1)/v.my_ranking.total_students*100,variant:G(v.my_ranking.rank),style:{height:"8px"}})}),e.jsx("div",{className:"ms-3 text-end",children:e.jsxs("small",{className:`${v.comparison_to_class?.status==="above"?"text-success":"text-danger"}`,children:[v.comparison_to_class?.status==="above"?"+":"",v.comparison_to_class?.difference||0,"%",v.comparison_to_class?.status==="above"?" au-dessus":" en-dessous"," de la moyenne"]})})]})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs(Fi,{activeKey:z,onSelect:J=>K(J),className:"border-0",children:[e.jsx(xs,{eventKey:"overview",title:e.jsxs("span",{children:[e.jsx("i",{"data-feather":"grid",className:"me-2",style:{width:"16px",height:"16px"}}),"Vue d'ensemble"]})}),e.jsx(xs,{eventKey:"ranking",title:e.jsxs("span",{children:[e.jsx("i",{"data-feather":"award",className:"me-2",style:{width:"16px",height:"16px"}}),"Classement"]})}),e.jsx(xs,{eventKey:"subjects",title:e.jsxs("span",{children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"16px",height:"16px"}}),"Matières"]})}),e.jsx(xs,{eventKey:"charts",title:e.jsxs("span",{children:[e.jsx("i",{"data-feather":"bar-chart-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Graphiques"]})})]})}),e.jsxs(w.Body,{className:a==="dark"?"bg-dark":"bg-white",children:[z==="overview"&&e.jsxs(pe,{children:[e.jsxs(T,{lg:8,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h6",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"trending-up",className:"me-2",style:{width:"18px",height:"18px"}}),"Évolution de la classe (6 derniers mois)"]})}),e.jsx(w.Body,{children:p.monthly_evolution&&p.monthly_evolution.length>0?e.jsx("div",{style:{height:"300px"},children:e.jsx(Zp,{data:te,options:W})}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{"data-feather":"trending-up",className:"text-muted mb-2",style:{width:"32px",height:"32px"}}),e.jsx("p",{className:"text-muted",children:"Pas encore de données d'évolution"})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h6",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"star",className:"me-2",style:{width:"18px",height:"18px"}}),"Top 5 de la classe"]})}),e.jsx(w.Body,{children:o.length>0?e.jsx("div",{className:"d-grid gap-3",children:o.slice(0,5).map((J,ge)=>e.jsx("div",{className:`p-3 border rounded ${a==="dark"?"border-secondary bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsxs("div",{className:"me-3 position-relative",children:[J.profil_url?e.jsx(Mt,{src:J.profil_url,alt:"Profil",width:"40",height:"40",className:"rounded-circle",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-primary d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px"},children:e.jsx("i",{"data-feather":"user",className:"text-white",style:{width:"20px",height:"20px"}})}),e.jsx(oe,{bg:G(J.rank),className:"position-absolute top-0 end-0 rounded-circle",style:{transform:"translate(25%, -25%)"},children:J.rank})]}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("div",{className:`fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:J.name}),e.jsxs("div",{className:"d-flex align-items-center gap-2 mt-1",children:[e.jsxs(oe,{bg:"success",className:"small",children:[J.average_score,"% moyenne"]}),e.jsxs(oe,{bg:"info",className:"small",children:[J.points_obtained," pts"]}),e.jsxs(oe,{bg:"primary",className:"small",children:[J.participation_rate,"% participation"]})]})]}),e.jsxs("div",{className:"text-end",children:[e.jsx("div",{className:`small ${O(J.trend)}`,children:e.jsx("i",{"data-feather":se(J.trend),style:{width:"14px",height:"14px"}})}),e.jsxs("div",{className:"small text-muted",children:["Grade ",J.grade]})]})]})},J.student_id))}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{"data-feather":"users",className:"text-muted mb-3",style:{width:"32px",height:"32px"}}),e.jsx("p",{className:"text-muted",children:"Aucune donnée de classement disponible"})]})})]})]}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h6",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"18px",height:"18px"}}),"Mes performances"]})}),e.jsx(w.Body,{children:v.my_stats?e.jsxs("div",{children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsxs("h4",{className:`text-${P(v.my_stats.average_score).replace("#","")}`,children:[v.my_stats.average_score,"%"]}),e.jsx("small",{className:"text-muted",children:"Ma moyenne générale"})]}),e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Évaluations faites :"}),e.jsx("span",{className:a==="dark"?"text-light":"text-dark",children:v.my_stats.evaluations_completed})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Taux participation :"}),e.jsxs("span",{className:a==="dark"?"text-light":"text-dark",children:[v.my_stats.participation_rate,"%"]})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Points obtenus :"}),e.jsx("span",{className:a==="dark"?"text-light":"text-dark",children:v.my_stats.points_obtained})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Matière forte :"}),e.jsx(oe,{bg:"success",children:v.my_stats.best_subject})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"À améliorer :"}),e.jsx(oe,{bg:"warning",children:v.my_stats.weakest_subject})]})]})]}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{"data-feather":"user",className:"text-muted mb-2",style:{width:"32px",height:"32px"}}),e.jsx("p",{className:"text-muted",children:"Données non disponibles"})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h6",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"pie-chart",className:"me-2",style:{width:"18px",height:"18px"}}),"Distribution classe"]})}),e.jsx(w.Body,{children:C.performance_distribution?e.jsx("div",{style:{height:"250px"},children:e.jsx(WA,{data:Z,options:{...W,plugins:{...W.plugins,legend:{position:"bottom",labels:{color:a==="dark"?"#ffffff":"#666666",usePointStyle:!0,padding:10,font:{size:10}}}}}})}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{"data-feather":"pie-chart",className:"text-muted mb-2",style:{width:"32px",height:"32px"}}),e.jsx("p",{className:"text-muted",children:"Pas de données de distribution"})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h6",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"zap",className:"me-2",style:{width:"18px",height:"18px"}}),"Actions rapides"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"primary",size:"sm",as:xe,to:"/etudiant/view/evaluations/my-classroom",children:[e.jsx("i",{"data-feather":"clipboard",className:"me-2",style:{width:"16px",height:"16px"}}),"Mes évaluations"]}),e.jsxs($,{variant:"success",size:"sm",as:xe,to:"/etudiant/view/cours/my-classroom",children:[e.jsx("i",{"data-feather":"book-open",className:"me-2",style:{width:"16px",height:"16px"}}),"Cours de la classe"]}),e.jsxs($,{variant:"info",size:"sm",as:xe,to:"/etudiant/view/resultats/my-classroom",children:[e.jsx("i",{"data-feather":"bar-chart-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Mes résultats"]}),e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:"/etudiant/view/matieres/my-classroom",children:[e.jsx("i",{"data-feather":"layers",className:"me-2",style:{width:"16px",height:"16px"}}),"Nos matières"]})]})})]})]})]}),z==="ranking"&&e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("h5",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:"Classement général de la classe"}),e.jsxs(oe,{bg:"primary",className:"px-3 py-2",children:[o.length," étudiants classés"]})]}),e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{className:`align-middle ${a==="dark"?"table-dark":""}`,hover:!0,children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Rang"}),e.jsx("th",{children:"Étudiant"}),e.jsx("th",{className:"text-center",children:"Moyenne"}),e.jsx("th",{className:"text-center",children:"Participation"}),e.jsx("th",{className:"text-center",children:"Points"}),e.jsx("th",{className:"text-center",children:"Grade"}),e.jsx("th",{className:"text-center",children:"Tendance"}),e.jsx("th",{className:"text-center",children:"Matière forte"})]})}),e.jsx("tbody",{children:o.map(J=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsxs(oe,{bg:G(J.rank),className:"me-2",style:{minWidth:"30px"},children:["#",J.rank]}),J.rank_change!==0&&e.jsxs("small",{className:`text-${J.rank_change>0?"success":"danger"}`,children:[J.rank_change>0?"+":"",J.rank_change]})]})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[J.profil_url?e.jsx(Mt,{src:J.profil_url,alt:"Profil",width:"32",height:"32",className:"rounded-circle me-2",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-secondary d-flex align-items-center justify-content-center me-2",style:{width:"32px",height:"32px"},children:e.jsx("i",{"data-feather":"user",className:"text-white",style:{width:"16px",height:"16px"}})}),e.jsxs("div",{children:[e.jsx("div",{className:`fw-medium ${a==="dark"?"text-light":"text-dark"}`,children:J.name}),e.jsx("small",{className:"text-muted",children:J.matricule})]})]})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{children:[e.jsxs("div",{className:`fw-bold text-${J.average_score>=60?"success":"warning"}`,children:[J.average_score,"%"]}),e.jsx("small",{className:"text-muted",children:q(J.average_score)})]})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{children:[e.jsxs("div",{className:`fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:[J.participation_rate,"%"]}),e.jsxs("small",{className:"text-muted",children:[J.evaluations_completed,"/",J.total_evaluations]})]})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{children:[e.jsx("div",{className:`fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:J.points_obtained}),e.jsxs("small",{className:"text-muted",children:["/",J.total_points]})]})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:J.grade==="A+"||J.grade==="A"?"success":J.grade==="B+"||J.grade==="B"?"primary":J.grade==="C+"||J.grade==="C"?"warning":"danger",children:J.grade})}),e.jsx("td",{className:"text-center",children:e.jsx("div",{className:O(J.trend),children:e.jsx("i",{"data-feather":se(J.trend),style:{width:"16px",height:"16px"}})})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:"info",className:"small",children:J.best_subject})})]},J.student_id))})]})})]}),z==="subjects"&&e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("h5",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:"Performance par matière"}),e.jsxs(oe,{bg:"info",className:"px-3 py-2",children:[d.length," matières"]})]}),e.jsx(pe,{className:"g-4",children:d.map((J,ge)=>e.jsx(T,{md:6,lg:4,children:e.jsx(w,{className:`h-100 border-0 shadow-sm ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:e.jsxs(w.Body,{children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[J.image_url?e.jsx(Mt,{src:J.image_url,alt:J.name,width:"40",height:"40",className:"rounded me-3",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded bg-primary d-flex align-items-center justify-content-center me-3",style:{width:"40px",height:"40px"},children:e.jsx("i",{"data-feather":"book",className:"text-white",style:{width:"20px",height:"20px"}})}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("h6",{className:`mb-1 ${a==="dark"?"text-light":"text-dark"}`,children:J.name}),e.jsxs("small",{className:"text-muted",children:["Coeff. ",J.coefficient]})]}),e.jsxs(oe,{bg:ge<3?"success":ge<6?"primary":"secondary",children:["#",ge+1]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[e.jsx("small",{className:"text-muted",children:"Moyenne classe"}),e.jsxs("small",{className:`fw-bold text-${J.average_score>=60?"success":"warning"}`,children:[J.average_score,"%"]})]}),e.jsx(Zt,{now:J.average_score,variant:J.average_score>=60?"success":"warning",style:{height:"6px"}})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("small",{className:"text-muted",children:"Participation:"}),e.jsxs("small",{className:a==="dark"?"text-light":"text-dark",children:[J.participation_rate,"%"]})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsx("small",{className:"text-muted",children:"Difficulté:"}),e.jsx(oe,{bg:J.difficulty_level==="Facile"?"success":J.difficulty_level==="Modérée"?"warning":"danger",className:"small",children:J.difficulty_level})]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"clipboard",className:"me-1 text-muted",style:{width:"12px",height:"12px"}}),e.jsx("small",{className:"text-muted",children:J.total_evaluations})]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"book-open",className:"me-1 text-muted",style:{width:"12px",height:"12px"}}),e.jsx("small",{className:"text-muted",children:J.total_cours})]}),e.jsx("div",{className:`d-flex align-items-center ${O(J.trend)}`,children:e.jsx("i",{"data-feather":se(J.trend),style:{width:"12px",height:"12px"}})})]})]})})},J.matiere_id))})]}),z==="charts"&&e.jsxs(pe,{children:[e.jsx(T,{lg:6,className:"mb-4",children:e.jsxs(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h6",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"18px",height:"18px"}}),"Évolution mensuelle"]})}),e.jsx(w.Body,{children:p.monthly_evolution&&p.monthly_evolution.length>0?e.jsx("div",{style:{height:"300px"},children:e.jsx(Zp,{data:te,options:W})}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{"data-feather":"activity",className:"text-muted",style:{width:"48px",height:"48px"}}),e.jsx("p",{className:"text-muted mt-2",children:"Pas de données d'évolution"})]})})]})}),e.jsx(T,{lg:6,className:"mb-4",children:e.jsxs(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h6",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"pie-chart",className:"me-2",style:{width:"18px",height:"18px"}}),"Répartition des performances"]})}),e.jsx(w.Body,{children:C.performance_distribution?e.jsx("div",{style:{height:"300px"},children:e.jsx(mU,{data:Z,options:{...W,plugins:{...W.plugins,legend:{position:"bottom",labels:{color:a==="dark"?"#ffffff":"#666666",usePointStyle:!0,padding:15}}}}})}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{"data-feather":"pie-chart",className:"text-muted",style:{width:"48px",height:"48px"}}),e.jsx("p",{className:"text-muted mt-2",children:"Pas de données de répartition"})]})})]})}),e.jsx(T,{lg:8,className:"mb-4",children:e.jsxs(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h6",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"target",className:"me-2",style:{width:"18px",height:"18px"}}),"Performance par matière (Radar)"]})}),e.jsx(w.Body,{children:d.length>0?e.jsx("div",{style:{height:"400px"},children:e.jsx(Q1e,{data:ie,options:fe})}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{"data-feather":"target",className:"text-muted",style:{width:"48px",height:"48px"}}),e.jsx("p",{className:"text-muted mt-2",children:"Pas de données de matières"})]})})]})}),e.jsx(T,{lg:4,className:"mb-4",children:e.jsxs(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h6",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"users",className:"me-2",style:{width:"18px",height:"18px"}}),"Participation classe"]})}),e.jsx(w.Body,{children:y.distribution?e.jsxs("div",{children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[e.jsx("small",{className:"text-success",children:"Excellente (+90%)"}),e.jsx("small",{className:"fw-bold",children:y.distribution.excellent||0})]}),e.jsx(Zt,{now:y.distribution.excellent/l.total_students*100,variant:"success",style:{height:"4px"}})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[e.jsx("small",{className:"text-primary",children:"Bonne (70-90%)"}),e.jsx("small",{className:"fw-bold",children:y.distribution.good||0})]}),e.jsx(Zt,{now:y.distribution.good/l.total_students*100,variant:"primary",style:{height:"4px"}})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[e.jsx("small",{className:"text-warning",children:"Moyenne (50-70%)"}),e.jsx("small",{className:"fw-bold",children:y.distribution.average||0})]}),e.jsx(Zt,{now:y.distribution.average/l.total_students*100,variant:"warning",style:{height:"4px"}})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[e.jsx("small",{className:"text-danger",children:"Faible (-50%)"}),e.jsx("small",{className:"fw-bold",children:y.distribution.poor||0})]}),e.jsx(Zt,{now:y.distribution.poor/l.total_students*100,variant:"danger",style:{height:"4px"}})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"text-center",children:[e.jsxs("h5",{className:"text-primary mb-0",children:[y.class_participation_rate,"%"]}),e.jsx("small",{className:"text-muted",children:"Participation moyenne classe"})]})]}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{"data-feather":"users",className:"text-muted",style:{width:"32px",height:"32px"}}),e.jsx("p",{className:"text-muted mt-2",children:"Pas de données de participation"})]})})]})})]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:M,onClose:()=>L(!1),delay:4e3,autohide:!0,bg:I==="success"?"success":"danger",className:a==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${I==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":I==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:a==="dark"?"bg-dark text-light":"",children:F})]})})]})})}function Z1e(){const{user:s}=Aa(),[t,a]=x.useState(null),[r,n]=x.useState(!0),[i,l]=x.useState(null);x.useEffect(()=>{(async()=>{try{n(!0);const d=await he.get("/me");a(d.data)}catch(d){l("Erreur lors du chargement du profil"),console.error("Erreur profil:",d)}finally{n(!1)}})()},[]),x.useEffect(()=>{We.replace()},[t]);const c=u=>u?new Date(u).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}):"Non renseigné",o=u=>({Masculin:"primary",Féminin:"info",Autre:"secondary"})[u]||"secondary";return r?e.jsx(fs,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement du profil..."})]})}):i?e.jsx(fs,{children:e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),i]})}):e.jsxs(fs,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"h3 mb-1",children:"Mon Profil Personnel"}),e.jsx("p",{className:"text-muted mb-0",children:"Consultez et gérez vos informations professionnelles"})]}),e.jsxs($,{variant:"primary",size:"lg",as:xe,to:"/etudiant/edit/profil",className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"edit-2",className:"me-2",style:{width:"20px",height:"20px"}}),"Modifier le profil"]})]}),e.jsxs(pe,{children:[e.jsx(T,{lg:8,className:"mb-4",children:e.jsxs(w,{className:"border-0 shadow-sm",children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations professionnelles"]})}),e.jsxs(w.Body,{children:[e.jsxs(pe,{className:"align-items-center mb-4",children:[e.jsx(T,{md:3,className:"text-center",children:e.jsxs("div",{className:"position-relative d-inline-block",children:[t?.profil?e.jsx(Mt,{src:t.profil_url,alt:"Photo de profil",className:"rounded-circle",width:"120",height:"120",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-light d-flex align-items-center justify-content-center border",style:{width:"120px",height:"120px"},children:e.jsx("i",{"data-feather":"user-check",className:"text-muted",style:{width:"48px",height:"48px"}})}),e.jsx(oe,{bg:"success",className:"position-absolute bottom-0 end-0 rounded-circle p-2",style:{transform:"translate(25%, 25%)"},children:e.jsx("i",{"data-feather":"stethoscope",style:{width:"12px",height:"12px"}})})]})}),e.jsxs(T,{md:9,children:[e.jsx("h4",{className:"mb-2",children:t?.name||"Nom non renseigné"}),e.jsxs("p",{className:"text-muted mb-2",children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),t?.email||"Email non renseigné"]}),t?.phone&&e.jsxs("p",{className:"text-muted mb-2",children:[e.jsx("i",{"data-feather":"phone",className:"me-2",style:{width:"16px",height:"16px"}}),t.code_phone&&`${t.code_phone} `,t.phone]}),e.jsxs("div",{className:"d-flex align-items-center flex-wrap gap-2",children:[e.jsx(oe,{bg:"success",className:"me-2",children:"Conpte Vérifié"}),t?.gender&&e.jsx(oe,{bg:o(t.gender),children:t.gender})]})]})]}),e.jsx("hr",{className:"my-4"}),e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Nom complet :"}),e.jsx("span",{className:"fw-medium",children:t?.name||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Email :"}),e.jsx("span",{className:"fw-medium",children:t?.email||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Date de naissance :"}),e.jsx("span",{className:"fw-medium",children:c(t?.birthday)})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Genre :"}),e.jsx("span",{className:"fw-medium",children:t?.gender||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Indicatif pays :"}),e.jsx("span",{className:"fw-medium",children:t?.code_phone||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Téléphone :"}),e.jsx("span",{className:"fw-medium",children:t?.phone||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Membre depuis :"}),e.jsx("span",{className:"fw-medium",children:c(t?.created_at)})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Dernière mise à jour :"}),e.jsx("span",{className:"fw-medium",children:c(t?.updated_at)})]})})]})]})]})}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:"border-0 shadow-sm mb-4",children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"20px",height:"20px"}}),"Actions rapides"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"primary",as:xe,to:"/etudiant/edit/profil",className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"edit-2",className:"me-2",style:{width:"18px",height:"18px"}}),"Modifier le profil"]}),e.jsxs($,{variant:"outline-primary",as:xe,to:"/etudiant/profil/securite",className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"shield",className:"me-2",style:{width:"18px",height:"18px"}}),"Sécurité du compte"]}),e.jsxs($,{variant:"outline-info",as:xe,to:"/etudiant/dashboard",className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"grid",className:"me-2",style:{width:"18px",height:"18px"}}),"Retour au Dashboard"]})]})})]}),e.jsxs(w,{className:"border-0 shadow-sm mb-4",children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"20px",height:"20px"}}),"Activité professionnelle"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("div",{className:"text-primary mb-2",children:e.jsx("i",{"data-feather":"users",style:{width:"32px",height:"32px"}})}),e.jsx("h6",{className:"mb-0",children:"Evolution du compte"}),e.jsx("h4",{className:"text-primary mb-0",children:t?.profil&&t?.birthday&&t?.phone&&t?.gender?"100%":t?.name&&t?.email&&t?.gender?"85%":t?.name&&t?.email?"70%":"50%"}),e.jsx("small",{className:"text-muted",children:t?.profil&&t?.birthday&&t?.phone&&t?.gender?"Complété":t?.name&&t?.email&&t?.gender?"En cours de progression":(t?.name&&t?.email,"En attente")})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Profil complété :"}),e.jsx("span",{className:"fw-bold text-success",children:t?.profil&&t?.birthday&&t?.phone&&t?.gender?"100%":t?.name&&t?.email&&t?.gender?"85%":t?.name&&t?.email?"70%":"50%"})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Dernière connexion :"}),e.jsx("span",{children:c(t?.updated_at)})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Type de compte :"}),e.jsx(oe,{bg:"success",children:"Administrateur Systeme"})]})]})]})]}),e.jsxs(w,{className:"border-0 shadow-sm",children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"award",className:"me-2 text-success",style:{width:"20px",height:"20px"}}),"Informations professionnelles"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("i",{"data-feather":"check-circle",className:"text-success me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:"Compte vérifié"}),e.jsx("div",{className:"text-muted",children:"Identité confirmée"})]})]}),e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("i",{"data-feather":"clock",className:"text-info me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:"Disponibilité"}),e.jsx("div",{className:"text-muted",children:"Lun-Ven: 8h-18h"})]})]})]})})]})]})]})]})}function J1e(){const{user:s,updateUser:t}=Aa(),a=Ut(),[r,n]=x.useState(null),[i,l]=x.useState(!0),[c,o]=x.useState(!1),[u,d]=x.useState(null),[f,p]=x.useState(null),[j,y]=x.useState({}),[k,v]=x.useState(!1),[S,C]=x.useState({name:"",email:"",birthday:"",gender:"",code_phone:"",phone:"",profil:null}),[_,A]=x.useState({password:"",password_confirmation:""}),[D,M]=x.useState(null);x.useEffect(()=>{(async()=>{try{l(!0);const U=(await he.get("/me")).data;n(U),C({name:U.name||"",email:U.email||"",birthday:U.birthday||"",gender:U.gender||"",code_phone:U.code_phone||"",phone:U.phone||"",profil:null}),U.profil&&M(`${U.profil_url}`)}catch(K){d("Erreur lors du chargement du profil"),console.error("Erreur profil:",K)}finally{l(!1)}})()},[]),x.useEffect(()=>{We.replace()},[r]);const L=z=>{const{name:K,value:U}=z.target;C(V=>({...V,[K]:U})),j[K]&&y(V=>({...V,[K]:null}))},F=z=>{const{name:K,value:U}=z.target;A(V=>({...V,[K]:U}))},Q=z=>{const K=z.target.files[0];if(K){if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(K.type)){y(q=>({...q,profil:"Format de fichier non supporté. Utilisez JPG, PNG ou WEBP."}));return}if(K.size>2097152){y(q=>({...q,profil:"La taille du fichier ne doit pas dépasser 2MB."}));return}C(q=>({...q,profil:K}));const P=new FileReader;P.onload=q=>{M(q.target.result)},P.readAsDataURL(K),j.profil&&y(q=>({...q,profil:null}))}},I=async z=>{z.preventDefault();try{o(!0),d(null),p(null),y({});const K=new FormData;Object.keys(S).forEach(V=>{V==="profil"?S.profil instanceof File&&K.append("profil",S.profil):S[V]!==null&&S[V]!==""&&K.append(V,S[V])}),K.append("_method","PUT");const U=await he.post("/me/update",K,{headers:{"Content-Type":"multipart/form-data"}});U.data.status==="success"&&(p("Profil mis à jour avec succès !"),t&&t(U.data.data.user),setTimeout(()=>{a("/etudiant/view/profil")},2e3))}catch(K){K.response?.data?.errors?y(K.response.data.errors):d(K.response?.data?.message||"Erreur lors de la mise à jour du profil")}finally{o(!1)}},H=async z=>{if(z.preventDefault(),!_.password||!_.password_confirmation){d("Veuillez remplir tous les champs du mot de passe");return}if(_.password!==_.password_confirmation){d("Les mots de passe ne correspondent pas");return}try{o(!0),d(null),(await he.put("/me/update",_)).data.status==="success"&&(p("Mot de passe mis à jour avec succès !"),v(!1),A({password:"",password_confirmation:""}))}catch(K){K.response?.data?.errors?y(K.response.data.errors):d(K.response?.data?.message||"Erreur lors de la mise à jour du mot de passe")}finally{o(!1)}};return i?e.jsx(fs,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement du profil..."})]})}):e.jsxs(fs,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"h3 mb-1",children:"Modifier mon profil"}),e.jsx("p",{className:"text-muted mb-0",children:"Mettez à jour vos informations professionnelles"})]}),e.jsxs($,{variant:"outline-secondary",size:"lg",as:xe,to:"/etudiant/view/profil",className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2",style:{width:"20px",height:"20px"}}),"Retour au profil"]})]}),u&&e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),u]}),f&&e.jsxs(lt,{variant:"success",className:"mb-4",children:[e.jsx("i",{"data-feather":"check-circle",className:"me-2"}),f]}),e.jsx(b,{onSubmit:I,children:e.jsxs(pe,{children:[e.jsx(T,{lg:8,className:"mb-4",children:e.jsxs(w,{className:"border-0 shadow-sm",children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations professionnelles"]})}),e.jsxs(w.Body,{children:[e.jsx(pe,{className:"mb-4",children:e.jsxs(T,{md:3,className:"text-center",children:[e.jsxs("div",{className:"position-relative d-inline-block mb-3",children:[D?e.jsx(Mt,{src:D,alt:"Photo de profil",className:"rounded-circle",width:"120",height:"120",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-light d-flex align-items-center justify-content-center border",style:{width:"120px",height:"120px"},children:e.jsx("i",{"data-feather":"user-check",className:"text-muted",style:{width:"48px",height:"48px"}})}),e.jsx($,{variant:"primary",size:"sm",className:"position-absolute bottom-0 end-0 rounded-circle p-2",style:{transform:"translate(25%, 25%)"},onClick:()=>document.getElementById("profileImage").click(),children:e.jsx("i",{"data-feather":"camera",style:{width:"12px",height:"12px"}})})]}),e.jsx("input",{type:"file",id:"profileImage",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:Q,style:{display:"none"}}),e.jsx("p",{className:"small text-muted mb-0",children:"JPG, PNG, WEBP - Max 2MB"}),j.profil&&e.jsx("div",{className:"text-danger small mt-1",children:j.profil})]})}),e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Nom complet *"]}),e.jsx(b.Control,{type:"text",name:"name",value:S.name,onChange:L,placeholder:"Dr. Votre nom complet",isInvalid:!!j.name,required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.name?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Email professionnel *"]}),e.jsx(b.Control,{type:"email",name:"email",value:S.email,onChange:L,placeholder:"dr.nom@hopital.com",isInvalid:!!j.email,required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.email?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"calendar",className:"me-2",style:{width:"16px",height:"16px"}}),"Date de naissance"]}),e.jsx(b.Control,{type:"date",name:"birthday",value:S.birthday,onChange:L,max:new Date().toISOString().split("T")[0],isInvalid:!!j.birthday}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.birthday?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"16px",height:"16px"}}),"Genre"]}),e.jsxs(b.Select,{name:"gender",value:S.gender,onChange:L,isInvalid:!!j.gender,children:[e.jsx("option",{value:"",children:"Sélectionner..."}),e.jsx("option",{value:"Masculin",children:"Masculin"}),e.jsx("option",{value:"Féminin",children:"Féminin"}),e.jsx("option",{value:"Autre",children:"Autre"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.gender?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"flag",className:"me-2",style:{width:"16px",height:"16px"}}),"Indicatif pays"]}),e.jsxs(b.Select,{name:"code_phone",value:S.code_phone,onChange:L,isInvalid:!!j.code_phone,children:[e.jsx("option",{value:"",children:"Sélectionner..."}),e.jsx("option",{value:"+237",children:"+237"}),e.jsx("option",{value:"+33",children:"+33"}),e.jsx("option",{value:"+235",children:"+235"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.code_phone?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"phone",className:"me-2",style:{width:"16px",height:"16px"}}),"Numéro de téléphone"]}),e.jsx(b.Control,{type:"tel",name:"phone",value:S.phone,onChange:L,placeholder:"690123456",isInvalid:!!j.phone}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.phone?.[0]}),e.jsx(b.Text,{className:"text-muted",children:"Numéro pour les urgences et rendez-vous"})]})})]}),e.jsx("hr",{className:"my-4"}),e.jsx(pe,{children:e.jsx(T,{md:12,children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs($,{variant:"outline-warning",onClick:()=>v(!0),className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"lock",className:"me-2",style:{width:"16px",height:"16px"}}),"Changer le mot de passe"]}),e.jsxs("div",{children:[e.jsx($,{variant:"outline-secondary",as:xe,to:"/etudiant/view/profil",className:"me-2",disabled:c,children:"Annuler"}),e.jsx($,{variant:"primary",type:"submit",disabled:c,className:"d-flex align-items-center",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner-border spinner-border-sm me-2",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),"Mise à jour..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ss,{icon:"save",size:16,className:"me-2"}),"Enregistrer les Modifications"]})})]})]})})})]})]})}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:"border-0 shadow-sm mb-4",children:[e.jsx(w.Header,{className:"bg-white border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"help-circle",className:"me-2 text-info",style:{width:"20px",height:"20px"}}),"Conseils professionnels"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"user-check",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Utilisez votre nom complet tel qu'il apparaît sur votre acte de naissance"})]}),e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"mail",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Utilisez un email professionnel pour recevoir les notifications"})]}),e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{"data-feather":"phone",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Votre numéro sera utilisé pour les urgences et confirmations"})]})]})})]}),e.jsxs(w,{className:"border-0 shadow-sm mb-4",children:[e.jsx(w.Header,{className:"bg-white border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"shield",className:"me-2 text-success",style:{width:"20px",height:"20px"}}),"Sécurité du compte"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Mot de passe"}),e.jsx($,{variant:"outline-primary",size:"sm",onClick:()=>v(!0),children:"Modifier"})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Email vérifié"}),e.jsx("i",{"data-feather":"check-circle",className:"text-success",style:{width:"16px",height:"16px"}})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Compte Administrateur systeme"}),e.jsx("i",{"data-feather":"user-check",className:"text-success",style:{width:"16px",height:"16px"}})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsx("span",{className:"small",children:"Profil sécurisé"}),e.jsx("i",{"data-feather":"shield",className:"text-success",style:{width:"16px",height:"16px"}})]})]})]}),e.jsxs(w,{className:"border-0 shadow-sm border-warning",children:[e.jsx(w.Header,{className:"bg-warning bg-opacity-10 border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center text-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"20px",height:"20px"}}),"Important"]})}),e.jsxs(w.Body,{children:[e.jsxs("p",{className:"small mb-2",children:[e.jsx("strong",{children:"Champs obligatoires :"})," Nom et email sont requis pour votre profil."]}),e.jsxs("p",{className:"small mb-2",children:[e.jsx("strong",{children:"Photo de profil :"})," Une photo professionnelle inspire confiance aux patients."]}),e.jsxs("p",{className:"small mb-0",children:[e.jsx("strong",{children:"Validation :"})," Vos informations peuvent être vérifiées par l'administration."]})]})]})]})]})}),e.jsxs(Y,{show:k,onHide:()=>v(!1),centered:!0,children:[e.jsx(Y.Header,{closeButton:!0,children:e.jsxs(Y.Title,{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"lock",className:"me-2",style:{width:"20px",height:"20px"}}),"Changer le mot de passe"]})}),e.jsxs(b,{onSubmit:H,children:[e.jsxs(Y.Body,{children:[e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Nouveau mot de passe"}),e.jsxs(bd,{children:[e.jsx(b.Control,{type:"password",name:"password",value:_.password,onChange:F,placeholder:"Entrez votre nouveau mot de passe",isInvalid:!!j.password,required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.password?.[0]})]}),e.jsx(b.Text,{className:"text-muted",children:"Minimum 8 caractères avec majuscules, minuscules et chiffres"})]}),e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Confirmer le mot de passe"}),e.jsx(b.Control,{type:"password",name:"password_confirmation",value:_.password_confirmation,onChange:F,placeholder:"Confirmez votre nouveau mot de passe",required:!0})]})]}),e.jsxs(Y.Footer,{children:[e.jsx($,{variant:"secondary",onClick:()=>v(!1),disabled:c,children:"Annuler"}),e.jsx($,{variant:"primary",type:"submit",disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx(tt,{animation:"border",size:"sm",className:"me-2"}),"Mise à jour..."]}):"Mettre à jour"})]})]})]})]})}var g1,$t,xU,fU,Wm,wh,Q$,pU,gU,qb={},yU=[],e0e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function hd(s,t){for(var a in t)s[a]=t[a];return s}function jU(s){var t=s.parentNode;t&&t.removeChild(s)}function be(s,t,a){var r,n,i,l={};for(i in t)i=="key"?r=t[i]:i=="ref"?n=t[i]:l[i]=t[i];if(arguments.length>2&&(l.children=arguments.length>3?g1.call(arguments,2):a),typeof s=="function"&&s.defaultProps!=null)for(i in s.defaultProps)l[i]===void 0&&(l[i]=s.defaultProps[i]);return Rv(s,l,r,n,null)}function Rv(s,t,a,r,n){var i={type:s,props:t,key:a,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:n??++xU};return n==null&&$t.vnode!=null&&$t.vnode(i),i}function rn(){return{current:null}}function Us(s){return s.children}function t0e(s,t,a,r,n){var i;for(i in a)i==="children"||i==="key"||i in t||Gb(s,i,null,a[i],r);for(i in t)n&&typeof t[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||a[i]===t[i]||Gb(s,i,t[i],a[i],r)}function X$(s,t,a){t[0]==="-"?s.setProperty(t,a??""):s[t]=a==null?"":typeof a!="number"||e0e.test(t)?a:a+"px"}function Gb(s,t,a,r,n){var i;e:if(t==="style")if(typeof a=="string")s.style.cssText=a;else{if(typeof r=="string"&&(s.style.cssText=r=""),r)for(t in r)a&&t in a||X$(s.style,t,"");if(a)for(t in a)r&&a[t]===r[t]||X$(s.style,t,a[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in s?t.toLowerCase().slice(2):t.slice(2),s.l||(s.l={}),s.l[t+i]=a,a?r||s.addEventListener(t,i?J$:Z$,i):s.removeEventListener(t,i?J$:Z$,i);else if(t!=="dangerouslySetInnerHTML"){if(n)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in s)try{s[t]=a??"";break e}catch{}typeof a=="function"||(a==null||a===!1&&t.indexOf("-")==-1?s.removeAttribute(t):s.setAttribute(t,a))}}function Z$(s){Wm=!0;try{return this.l[s.type+!1]($t.event?$t.event(s):s)}finally{Wm=!1}}function J$(s){Wm=!0;try{return this.l[s.type+!0]($t.event?$t.event(s):s)}finally{Wm=!1}}function Hn(s,t){this.props=s,this.context=t}function Jp(s,t){if(t==null)return s.__?Jp(s.__,s.__.__k.indexOf(s)+1):null;for(var a;t<s.__k.length;t++)if((a=s.__k[t])!=null&&a.__e!=null)return a.__e;return typeof s.type=="function"?Jp(s):null}function vU(s){var t,a;if((s=s.__)!=null&&s.__c!=null){for(s.__e=s.__c.base=null,t=0;t<s.__k.length;t++)if((a=s.__k[t])!=null&&a.__e!=null){s.__e=s.__c.base=a.__e;break}return vU(s)}}function s0e(s){Wm?setTimeout(s):pU(s)}function f_(s){(!s.__d&&(s.__d=!0)&&wh.push(s)&&!Vb.__r++||Q$!==$t.debounceRendering)&&((Q$=$t.debounceRendering)||s0e)(Vb)}function Vb(){var s,t,a,r,n,i,l,c;for(wh.sort(function(o,u){return o.__v.__b-u.__v.__b});s=wh.shift();)s.__d&&(t=wh.length,r=void 0,n=void 0,l=(i=(a=s).__v).__e,(c=a.__P)&&(r=[],(n=hd({},i)).__v=i.__v+1,YA(c,i,n,a.__n,c.ownerSVGElement!==void 0,i.__h!=null?[l]:null,r,l??Jp(i),i.__h),SU(r,i),i.__e!=l&&vU(i)),wh.length>t&&wh.sort(function(o,u){return o.__v.__b-u.__v.__b}));Vb.__r=0}function bU(s,t,a,r,n,i,l,c,o,u){var d,f,p,j,y,k,v,S=r&&r.__k||yU,C=S.length;for(a.__k=[],d=0;d<t.length;d++)if((j=a.__k[d]=(j=t[d])==null||typeof j=="boolean"?null:typeof j=="string"||typeof j=="number"||typeof j=="bigint"?Rv(null,j,null,null,j):Array.isArray(j)?Rv(Us,{children:j},null,null,null):j.__b>0?Rv(j.type,j.props,j.key,j.ref?j.ref:null,j.__v):j)!=null){if(j.__=a,j.__b=a.__b+1,(p=S[d])===null||p&&j.key==p.key&&j.type===p.type)S[d]=void 0;else for(f=0;f<C;f++){if((p=S[f])&&j.key==p.key&&j.type===p.type){S[f]=void 0;break}p=null}YA(s,j,p=p||qb,n,i,l,c,o,u),y=j.__e,(f=j.ref)&&p.ref!=f&&(v||(v=[]),p.ref&&v.push(p.ref,null,j),v.push(f,j.__c||y,j)),y!=null?(k==null&&(k=y),typeof j.type=="function"&&j.__k===p.__k?j.__d=o=NU(j,o,s):o=wU(s,j,p,S,y,o),typeof a.type=="function"&&(a.__d=o)):o&&p.__e==o&&o.parentNode!=s&&(o=Jp(p))}for(a.__e=k,d=C;d--;)S[d]!=null&&(typeof a.type=="function"&&S[d].__e!=null&&S[d].__e==a.__d&&(a.__d=kU(r).nextSibling),CU(S[d],S[d]));if(v)for(d=0;d<v.length;d++)_U(v[d],v[++d],v[++d])}function NU(s,t,a){for(var r,n=s.__k,i=0;n&&i<n.length;i++)(r=n[i])&&(r.__=s,t=typeof r.type=="function"?NU(r,t,a):wU(a,r,r,n,r.__e,t));return t}function Wb(s,t){return t=t||[],s==null||typeof s=="boolean"||(Array.isArray(s)?s.some(function(a){Wb(a,t)}):t.push(s)),t}function wU(s,t,a,r,n,i){var l,c,o;if(t.__d!==void 0)l=t.__d,t.__d=void 0;else if(a==null||n!=i||n.parentNode==null)e:if(i==null||i.parentNode!==s)s.appendChild(n),l=null;else{for(c=i,o=0;(c=c.nextSibling)&&o<r.length;o+=1)if(c==n)break e;s.insertBefore(n,i),l=i}return l!==void 0?l:n.nextSibling}function kU(s){var t,a,r;if(s.type==null||typeof s.type=="string")return s.__e;if(s.__k){for(t=s.__k.length-1;t>=0;t--)if((a=s.__k[t])&&(r=kU(a)))return r}return null}function YA(s,t,a,r,n,i,l,c,o){var u,d,f,p,j,y,k,v,S,C,_,A,D,M,L,F=t.type;if(t.constructor!==void 0)return null;a.__h!=null&&(o=a.__h,c=t.__e=a.__e,t.__h=null,i=[c]),(u=$t.__b)&&u(t);try{e:if(typeof F=="function"){if(v=t.props,S=(u=F.contextType)&&r[u.__c],C=u?S?S.props.value:u.__:r,a.__c?k=(d=t.__c=a.__c).__=d.__E:("prototype"in F&&F.prototype.render?t.__c=d=new F(v,C):(t.__c=d=new Hn(v,C),d.constructor=F,d.render=r0e),S&&S.sub(d),d.props=v,d.state||(d.state={}),d.context=C,d.__n=r,f=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),F.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=hd({},d.__s)),hd(d.__s,F.getDerivedStateFromProps(v,d.__s))),p=d.props,j=d.state,d.__v=t,f)F.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(F.getDerivedStateFromProps==null&&v!==p&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(v,C),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(v,d.__s,C)===!1||t.__v===a.__v){for(t.__v!==a.__v&&(d.props=v,d.state=d.__s,d.__d=!1),t.__e=a.__e,t.__k=a.__k,t.__k.forEach(function(Q){Q&&(Q.__=t)}),_=0;_<d._sb.length;_++)d.__h.push(d._sb[_]);d._sb=[],d.__h.length&&l.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(v,d.__s,C),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(p,j,y)})}if(d.context=C,d.props=v,d.__P=s,A=$t.__r,D=0,"prototype"in F&&F.prototype.render){for(d.state=d.__s,d.__d=!1,A&&A(t),u=d.render(d.props,d.state,d.context),M=0;M<d._sb.length;M++)d.__h.push(d._sb[M]);d._sb=[]}else do d.__d=!1,A&&A(t),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++D<25);d.state=d.__s,d.getChildContext!=null&&(r=hd(hd({},r),d.getChildContext())),f||d.getSnapshotBeforeUpdate==null||(y=d.getSnapshotBeforeUpdate(p,j)),L=u!=null&&u.type===Us&&u.key==null?u.props.children:u,bU(s,Array.isArray(L)?L:[L],t,a,r,n,i,l,c,o),d.base=t.__e,t.__h=null,d.__h.length&&l.push(d),k&&(d.__E=d.__=null),d.__e=!1}else i==null&&t.__v===a.__v?(t.__k=a.__k,t.__e=a.__e):t.__e=a0e(a.__e,t,a,r,n,i,l,o);(u=$t.diffed)&&u(t)}catch(Q){t.__v=null,(o||i!=null)&&(t.__e=c,t.__h=!!o,i[i.indexOf(c)]=null),$t.__e(Q,t,a)}}function SU(s,t){$t.__c&&$t.__c(t,s),s.some(function(a){try{s=a.__h,a.__h=[],s.some(function(r){r.call(a)})}catch(r){$t.__e(r,a.__v)}})}function a0e(s,t,a,r,n,i,l,c){var o,u,d,f=a.props,p=t.props,j=t.type,y=0;if(j==="svg"&&(n=!0),i!=null){for(;y<i.length;y++)if((o=i[y])&&"setAttribute"in o==!!j&&(j?o.localName===j:o.nodeType===3)){s=o,i[y]=null;break}}if(s==null){if(j===null)return document.createTextNode(p);s=n?document.createElementNS("http://www.w3.org/2000/svg",j):document.createElement(j,p.is&&p),i=null,c=!1}if(j===null)f===p||c&&s.data===p||(s.data=p);else{if(i=i&&g1.call(s.childNodes),u=(f=a.props||qb).dangerouslySetInnerHTML,d=p.dangerouslySetInnerHTML,!c){if(i!=null)for(f={},y=0;y<s.attributes.length;y++)f[s.attributes[y].name]=s.attributes[y].value;(d||u)&&(d&&(u&&d.__html==u.__html||d.__html===s.innerHTML)||(s.innerHTML=d&&d.__html||""))}if(t0e(s,p,f,n,c),d)t.__k=[];else if(y=t.props.children,bU(s,Array.isArray(y)?y:[y],t,a,r,n&&j!=="foreignObject",i,l,i?i[0]:a.__k&&Jp(a,0),c),i!=null)for(y=i.length;y--;)i[y]!=null&&jU(i[y]);c||("value"in p&&(y=p.value)!==void 0&&(y!==s.value||j==="progress"&&!y||j==="option"&&y!==f.value)&&Gb(s,"value",y,f.value,!1),"checked"in p&&(y=p.checked)!==void 0&&y!==s.checked&&Gb(s,"checked",y,f.checked,!1))}return s}function _U(s,t,a){try{typeof s=="function"?s(t):s.current=t}catch(r){$t.__e(r,a)}}function CU(s,t,a){var r,n;if($t.unmount&&$t.unmount(s),(r=s.ref)&&(r.current&&r.current!==s.__e||_U(r,null,t)),(r=s.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){$t.__e(i,t)}r.base=r.__P=null,s.__c=void 0}if(r=s.__k)for(n=0;n<r.length;n++)r[n]&&CU(r[n],t,a||typeof s.type!="function");a||s.__e==null||jU(s.__e),s.__=s.__e=s.__d=void 0}function r0e(s,t,a){return this.constructor(s,a)}function eg(s,t,a){var r,n,i;$t.__&&$t.__(s,t),n=(r=!1)?null:t.__k,i=[],YA(t,s=t.__k=be(Us,null,[s]),n||qb,qb,t.ownerSVGElement!==void 0,n?null:t.firstChild?g1.call(t.childNodes):null,i,n?n.__e:t.firstChild,r),SU(i,s)}function n0e(s,t){var a={__c:t="__cC"+gU++,__:s,Consumer:function(r,n){return r.children(n)},Provider:function(r){var n,i;return this.getChildContext||(n=[],(i={})[t]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(l){this.props.value!==l.value&&n.some(function(c){c.__e=!0,f_(c)})},this.sub=function(l){n.push(l);var c=l.componentWillUnmount;l.componentWillUnmount=function(){n.splice(n.indexOf(l),1),c&&c.call(l)}}),r.children}};return a.Provider.__=a.Consumer.contextType=a}g1=yU.slice,$t={__e:function(s,t,a,r){for(var n,i,l;t=t.__;)if((n=t.__c)&&!n.__)try{if((i=n.constructor)&&i.getDerivedStateFromError!=null&&(n.setState(i.getDerivedStateFromError(s)),l=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(s,r||{}),l=n.__d),l)return n.__E=n}catch(c){s=c}throw s}},xU=0,fU=function(s){return s!=null&&s.constructor===void 0},Wm=!1,Hn.prototype.setState=function(s,t){var a;a=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=hd({},this.state),typeof s=="function"&&(s=s(hd({},a),this.props)),s&&hd(a,s),s!=null&&this.__v&&(t&&this._sb.push(t),f_(this))},Hn.prototype.forceUpdate=function(s){this.__v&&(this.__e=!0,s&&this.__h.push(s),f_(this))},Hn.prototype.render=Us,wh=[],pU=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Vb.__r=0,gU=0;var kl,Nk,eP,EU=[],wk=[],tP=$t.__b,sP=$t.__r,aP=$t.diffed,rP=$t.__c,nP=$t.unmount;function i0e(){for(var s;s=EU.shift();)if(s.__P&&s.__H)try{s.__H.__h.forEach($v),s.__H.__h.forEach(p_),s.__H.__h=[]}catch(t){s.__H.__h=[],$t.__e(t,s.__v)}}$t.__b=function(s){kl=null,tP&&tP(s)},$t.__r=function(s){sP&&sP(s);var t=(kl=s.__c).__H;t&&(Nk===kl?(t.__h=[],kl.__h=[],t.__.forEach(function(a){a.__N&&(a.__=a.__N),a.__V=wk,a.__N=a.i=void 0})):(t.__h.forEach($v),t.__h.forEach(p_),t.__h=[])),Nk=kl},$t.diffed=function(s){aP&&aP(s);var t=s.__c;t&&t.__H&&(t.__H.__h.length&&(EU.push(t)!==1&&eP===$t.requestAnimationFrame||((eP=$t.requestAnimationFrame)||l0e)(i0e)),t.__H.__.forEach(function(a){a.i&&(a.__H=a.i),a.__V!==wk&&(a.__=a.__V),a.i=void 0,a.__V=wk})),Nk=kl=null},$t.__c=function(s,t){t.some(function(a){try{a.__h.forEach($v),a.__h=a.__h.filter(function(r){return!r.__||p_(r)})}catch(r){t.some(function(n){n.__h&&(n.__h=[])}),t=[],$t.__e(r,a.__v)}}),rP&&rP(s,t)},$t.unmount=function(s){nP&&nP(s);var t,a=s.__c;a&&a.__H&&(a.__H.__.forEach(function(r){try{$v(r)}catch(n){t=n}}),a.__H=void 0,t&&$t.__e(t,a.__v))};var iP=typeof requestAnimationFrame=="function";function l0e(s){var t,a=function(){clearTimeout(r),iP&&cancelAnimationFrame(t),setTimeout(s)},r=setTimeout(a,100);iP&&(t=requestAnimationFrame(a))}function $v(s){var t=kl,a=s.__c;typeof a=="function"&&(s.__c=void 0,a()),kl=t}function p_(s){var t=kl;s.__c=s.__(),kl=t}function c0e(s,t){for(var a in t)s[a]=t[a];return s}function lP(s,t){for(var a in s)if(a!=="__source"&&!(a in t))return!0;for(var r in t)if(r!=="__source"&&s[r]!==t[r])return!0;return!1}function cP(s){this.props=s}(cP.prototype=new Hn).isPureReactComponent=!0,cP.prototype.shouldComponentUpdate=function(s,t){return lP(this.props,s)||lP(this.state,t)};var oP=$t.__b;$t.__b=function(s){s.type&&s.type.__f&&s.ref&&(s.props.ref=s.ref,s.ref=null),oP&&oP(s)};var o0e=$t.__e;$t.__e=function(s,t,a,r){if(s.then){for(var n,i=t;i=i.__;)if((n=i.__c)&&n.__c)return t.__e==null&&(t.__e=a.__e,t.__k=a.__k),n.__c(s,t)}o0e(s,t,a,r)};var dP=$t.unmount;function AU(s,t,a){return s&&(s.__c&&s.__c.__H&&(s.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),s.__c.__H=null),(s=c0e({},s)).__c!=null&&(s.__c.__P===a&&(s.__c.__P=t),s.__c=null),s.__k=s.__k&&s.__k.map(function(r){return AU(r,t,a)})),s}function TU(s,t,a){return s&&(s.__v=null,s.__k=s.__k&&s.__k.map(function(r){return TU(r,t,a)}),s.__c&&s.__c.__P===t&&(s.__e&&a.insertBefore(s.__e,s.__d),s.__c.__e=!0,s.__c.__P=a)),s}function kk(){this.__u=0,this.t=null,this.__b=null}function MU(s){var t=s.__.__c;return t&&t.__a&&t.__a(s)}function pv(){this.u=null,this.o=null}$t.unmount=function(s){var t=s.__c;t&&t.__R&&t.__R(),t&&s.__h===!0&&(s.type=null),dP&&dP(s)},(kk.prototype=new Hn).__c=function(s,t){var a=t.__c,r=this;r.t==null&&(r.t=[]),r.t.push(a);var n=MU(r.__v),i=!1,l=function(){i||(i=!0,a.__R=null,n?n(c):c())};a.__R=l;var c=function(){if(!--r.__u){if(r.state.__a){var u=r.state.__a;r.__v.__k[0]=TU(u,u.__c.__P,u.__c.__O)}var d;for(r.setState({__a:r.__b=null});d=r.t.pop();)d.forceUpdate()}},o=t.__h===!0;r.__u++||o||r.setState({__a:r.__b=r.__v.__k[0]}),s.then(l,l)},kk.prototype.componentWillUnmount=function(){this.t=[]},kk.prototype.render=function(s,t){if(this.__b){if(this.__v.__k){var a=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=AU(this.__b,a,r.__O=r.__P)}this.__b=null}var n=t.__a&&be(Us,null,s.fallback);return n&&(n.__h=null),[be(Us,null,t.__a?null:s.children),n]};var hP=function(s,t,a){if(++a[1]===a[0]&&s.o.delete(t),s.props.revealOrder&&(s.props.revealOrder[0]!=="t"||!s.o.size))for(a=s.u;a;){for(;a.length>3;)a.pop()();if(a[1]<a[0])break;s.u=a=a[2]}};function d0e(s){return this.getChildContext=function(){return s.context},s.children}function h0e(s){var t=this,a=s.i;t.componentWillUnmount=function(){eg(null,t.l),t.l=null,t.i=null},t.i&&t.i!==a&&t.componentWillUnmount(),s.__v?(t.l||(t.i=a,t.l={nodeType:1,parentNode:a,childNodes:[],appendChild:function(r){this.childNodes.push(r),t.i.appendChild(r)},insertBefore:function(r,n){this.childNodes.push(r),t.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),t.i.removeChild(r)}}),eg(be(d0e,{context:t.context},s.__v),t.l)):t.l&&t.componentWillUnmount()}function u0e(s,t){var a=be(h0e,{__v:s,i:t});return a.containerInfo=t,a}(pv.prototype=new Hn).__a=function(s){var t=this,a=MU(t.__v),r=t.o.get(s);return r[0]++,function(n){var i=function(){t.props.revealOrder?(r.push(n),hP(t,s,r)):n()};a?a(i):i()}},pv.prototype.render=function(s){this.u=null,this.o=new Map;var t=Wb(s.children);s.revealOrder&&s.revealOrder[0]==="b"&&t.reverse();for(var a=t.length;a--;)this.o.set(t[a],this.u=[1,0,this.u]);return s.children},pv.prototype.componentDidUpdate=pv.prototype.componentDidMount=function(){var s=this;this.o.forEach(function(t,a){hP(s,a,t)})};var m0e=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,x0e=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,f0e=typeof document<"u",p0e=function(s){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(s)};Hn.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(s){Object.defineProperty(Hn.prototype,s,{configurable:!0,get:function(){return this["UNSAFE_"+s]},set:function(t){Object.defineProperty(this,s,{configurable:!0,writable:!0,value:t})}})});var uP=$t.event;function g0e(){}function y0e(){return this.cancelBubble}function j0e(){return this.defaultPrevented}$t.event=function(s){return uP&&(s=uP(s)),s.persist=g0e,s.isPropagationStopped=y0e,s.isDefaultPrevented=j0e,s.nativeEvent=s};var mP={configurable:!0,get:function(){return this.class}},xP=$t.vnode;$t.vnode=function(s){var t=s.type,a=s.props,r=a;if(typeof t=="string"){var n=t.indexOf("-")===-1;for(var i in r={},a){var l=a[i];f0e&&i==="children"&&t==="noscript"||i==="value"&&"defaultValue"in a&&l==null||(i==="defaultValue"&&"value"in a&&a.value==null?i="value":i==="download"&&l===!0?l="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+t)&&!p0e(a.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():n&&x0e.test(i)?i=i.replace(/[A-Z0-9]/g,"-$&").toLowerCase():l===null&&(l=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),r[i]&&(i="oninputCapture")),r[i]=l)}t=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=Wb(a.children).forEach(function(c){c.props.selected=r.value.indexOf(c.props.value)!=-1})),t=="select"&&r.defaultValue!=null&&(r.value=Wb(a.children).forEach(function(c){c.props.selected=r.multiple?r.defaultValue.indexOf(c.props.value)!=-1:r.defaultValue==c.props.value})),s.props=r,a.class!=a.className&&(mP.enumerable="className"in a,a.className!=null&&(r.class=a.className),Object.defineProperty(r,"className",mP))}s.$$typeof=m0e,xP&&xP(s)};var fP=$t.__r;$t.__r=function(s){fP&&fP(s),s.__c};const DU=[],g_=new Map;function y1(s){DU.push(s),g_.forEach(t=>{RU(t,s)})}function v0e(s){s.isConnected&&s.getRootNode&&OU(s.getRootNode())}function OU(s){let t=g_.get(s);if(!t||!t.isConnected){if(t=s.querySelector("style[data-fullcalendar]"),!t){t=document.createElement("style"),t.setAttribute("data-fullcalendar","");const a=N0e();a&&(t.nonce=a);const r=s===document?document.head:s,n=s===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(t,n)}g_.set(s,t),b0e(t)}}function b0e(s){for(const t of DU)RU(s,t)}function RU(s,t){const{sheet:a}=s,r=a.cssRules.length;t.split("}").forEach((n,i)=>{n=n.trim(),n&&a.insertRule(n+"}",r+i)})}let Sk;function N0e(){return Sk===void 0&&(Sk=w0e()),Sk}function w0e(){const s=document.querySelector('meta[name="csp-nonce"]');if(s&&s.hasAttribute("content"))return s.getAttribute("content");const t=document.querySelector("script[nonce]");return t&&t.nonce||""}typeof document<"u"&&OU(document);var k0e=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';y1(k0e);class KA{constructor(t){this.drainedOption=t,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(t){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),t==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),t))}pause(t=""){let{pauseDepths:a}=this;a[t]=(a[t]||0)+1,this.clearTimeout()}resume(t="",a){let{pauseDepths:r}=this;t in r&&(a?delete r[t]:(r[t]-=1,r[t]<=0&&delete r[t]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function QA(s){s.parentNode&&s.parentNode.removeChild(s)}function Fr(s,t){if(s.closest)return s.closest(t);if(!document.documentElement.contains(s))return null;do{if(S0e(s,t))return s;s=s.parentElement||s.parentNode}while(s!==null&&s.nodeType===1);return null}function S0e(s,t){return(s.matches||s.matchesSelector||s.msMatchesSelector).call(s,t)}function _0e(s,t){let a=s instanceof HTMLElement?[s]:s,r=[];for(let n=0;n<a.length;n+=1){let i=a[n].querySelectorAll(t);for(let l=0;l<i.length;l+=1)r.push(i[l])}return r}const C0e=/(top|left|right|bottom|width|height)$/i;function Np(s,t){for(let a in t)$U(s,a,t[a])}function $U(s,t,a){a==null?s.style[t]="":typeof a=="number"&&C0e.test(t)?s.style[t]=`${a}px`:s.style[t]=a}function PU(s){var t,a;return(a=(t=s.composedPath)===null||t===void 0?void 0:t.call(s)[0])!==null&&a!==void 0?a:s.target}let pP=0;function yd(){return pP+=1,"fc-dom-"+pP}function j1(s){s.preventDefault()}function E0e(s,t){return a=>{let r=Fr(a.target,s);r&&t.call(r,a,r)}}function IU(s,t,a,r){let n=E0e(a,r);return s.addEventListener(t,n),()=>{s.removeEventListener(t,n)}}function A0e(s,t,a,r){let n;return IU(s,"mouseover",t,(i,l)=>{if(l!==n){n=l,a(i,l);let c=o=>{n=null,r(o,l),l.removeEventListener("mouseleave",c)};l.addEventListener("mouseleave",c)}})}const gP=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function T0e(s,t){let a=r=>{t(r),gP.forEach(n=>{s.removeEventListener(n,a)})};gP.forEach(r=>{s.addEventListener(r,a)})}function BU(s){return Object.assign({onClick:s},LU(s))}function LU(s){return{tabIndex:0,onKeyDown(t){(t.key==="Enter"||t.key===" ")&&(s(t),t.preventDefault())}}}let yP=0;function cu(){return yP+=1,String(yP)}function XA(){document.body.classList.add("fc-not-allowed")}function ZA(){document.body.classList.remove("fc-not-allowed")}function M0e(s){s.style.userSelect="none",s.style.webkitUserSelect="none",s.addEventListener("selectstart",j1)}function D0e(s){s.style.userSelect="",s.style.webkitUserSelect="",s.removeEventListener("selectstart",j1)}function O0e(s){s.addEventListener("contextmenu",j1)}function R0e(s){s.removeEventListener("contextmenu",j1)}function $0e(s){let t=[],a=[],r,n;for(typeof s=="string"?a=s.split(/\s*,\s*/):typeof s=="function"?a=[s]:Array.isArray(s)&&(a=s),r=0;r<a.length;r+=1)n=a[r],typeof n=="string"?t.push(n.charAt(0)==="-"?{field:n.substring(1),order:-1}:{field:n,order:1}):typeof n=="function"&&t.push({func:n});return t}function P0e(s,t,a){let r,n;for(r=0;r<a.length;r+=1)if(n=I0e(s,t,a[r]),n)return n;return 0}function I0e(s,t,a){return a.func?a.func(s,t):B0e(s[a.field],t[a.field])*(a.order||1)}function B0e(s,t){return!s&&!t?0:t==null?-1:s==null?1:typeof s=="string"||typeof t=="string"?String(s).localeCompare(String(t)):s-t}function Sm(s,t){let a=String(s);return"000".substr(0,t-a.length)+a}function wp(s,t,a){return typeof s=="function"?s(...t):typeof s=="string"?t.reduce((r,n,i)=>r.replace("$"+i,n||""),s):a}function L0e(s,t){return s-t}function Pv(s){return s%1===0}function F0e(s){let t=s.querySelector(".fc-scrollgrid-shrink-frame"),a=s.querySelector(".fc-scrollgrid-shrink-cushion");if(!t)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!a)throw new Error("needs fc-scrollgrid-shrink-cushion className");return s.getBoundingClientRect().width-t.getBoundingClientRect().width+a.getBoundingClientRect().width}const jP=["years","months","days","milliseconds"],z0e=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function cs(s,t){return typeof s=="string"?H0e(s):typeof s=="object"&&s?vP(s):typeof s=="number"?vP({[t||"milliseconds"]:s}):null}function H0e(s){let t=z0e.exec(s);if(t){let a=t[1]?-1:1;return{years:0,months:0,days:a*(t[2]?parseInt(t[2],10):0),milliseconds:a*((t[3]?parseInt(t[3],10):0)*60*60*1e3+(t[4]?parseInt(t[4],10):0)*60*1e3+(t[5]?parseInt(t[5],10):0)*1e3+(t[6]?parseInt(t[6],10):0))}}return null}function vP(s){let t={years:s.years||s.year||0,months:s.months||s.month||0,days:s.days||s.day||0,milliseconds:(s.hours||s.hour||0)*60*60*1e3+(s.minutes||s.minute||0)*60*1e3+(s.seconds||s.second||0)*1e3+(s.milliseconds||s.millisecond||s.ms||0)},a=s.weeks||s.week;return a&&(t.days+=a*7,t.specifiedWeeks=!0),t}function U0e(s,t){return s.years===t.years&&s.months===t.months&&s.days===t.days&&s.milliseconds===t.milliseconds}function y_(s,t){return{years:s.years+t.years,months:s.months+t.months,days:s.days+t.days,milliseconds:s.milliseconds+t.milliseconds}}function q0e(s,t){return{years:s.years-t.years,months:s.months-t.months,days:s.days-t.days,milliseconds:s.milliseconds-t.milliseconds}}function G0e(s,t){return{years:s.years*t,months:s.months*t,days:s.days*t,milliseconds:s.milliseconds*t}}function V0e(s){return _m(s)/365}function W0e(s){return _m(s)/30}function _m(s){return zi(s)/864e5}function zi(s){return s.years*(365*864e5)+s.months*(30*864e5)+s.days*864e5+s.milliseconds}function JA(s,t){let a=null;for(let r=0;r<jP.length;r+=1){let n=jP[r];if(t[n]){let i=s[n]/t[n];if(!Pv(i)||a!==null&&a!==i)return null;a=i}else if(s[n])return null}return a}function j_(s){let t=s.milliseconds;if(t){if(t%1e3!==0)return{unit:"millisecond",value:t};if(t%(1e3*60)!==0)return{unit:"second",value:t/1e3};if(t%(1e3*60*60)!==0)return{unit:"minute",value:t/(1e3*60)};if(t)return{unit:"hour",value:t/(1e3*60*60)}}return s.days?s.specifiedWeeks&&s.days%7===0?{unit:"week",value:s.days/7}:{unit:"day",value:s.days}:s.months?{unit:"month",value:s.months}:s.years?{unit:"year",value:s.years}:{unit:"millisecond",value:0}}function _d(s,t,a){if(s===t)return!0;let r=s.length,n;if(r!==t.length)return!1;for(n=0;n<r;n+=1)if(!(a?a(s[n],t[n]):s[n]===t[n]))return!1;return!0}const Y0e=["sun","mon","tue","wed","thu","fri","sat"];function bP(s,t){let a=ud(s);return a[2]+=t*7,Nn(a)}function Ca(s,t){let a=ud(s);return a[2]+=t,Nn(a)}function Cd(s,t){let a=ud(s);return a[6]+=t,Nn(a)}function K0e(s,t){return Id(s,t)/7}function Id(s,t){return(t.valueOf()-s.valueOf())/(1e3*60*60*24)}function Q0e(s,t){return(t.valueOf()-s.valueOf())/(1e3*60*60)}function X0e(s,t){return(t.valueOf()-s.valueOf())/(1e3*60)}function Z0e(s,t){return(t.valueOf()-s.valueOf())/1e3}function J0e(s,t){let a=Qs(s),r=Qs(t);return{years:0,months:0,days:Math.round(Id(a,r)),milliseconds:t.valueOf()-r.valueOf()-(s.valueOf()-a.valueOf())}}function ewe(s,t){let a=Yb(s,t);return a!==null&&a%7===0?a/7:null}function Yb(s,t){return md(s)===md(t)?Math.round(Id(s,t)):null}function Qs(s){return Nn([s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()])}function twe(s){return Nn([s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate(),s.getUTCHours()])}function swe(s){return Nn([s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate(),s.getUTCHours(),s.getUTCMinutes()])}function awe(s){return Nn([s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate(),s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds()])}function rwe(s,t,a){let r=s.getUTCFullYear(),n=_k(s,r,t,a);if(n<1)return _k(s,r-1,t,a);let i=_k(s,r+1,t,a);return i>=1?Math.min(n,i):n}function _k(s,t,a,r){let n=Nn([t,0,1+nwe(t,a,r)]),i=Qs(s),l=Math.round(Id(n,i));return Math.floor(l/7)+1}function nwe(s,t,a){let r=7+t-a;return-((7+Nn([s,0,r]).getUTCDay()-t)%7)+r-1}function NP(s){return[s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()]}function wP(s){return new Date(s[0],s[1]||0,s[2]==null?1:s[2],s[3]||0,s[4]||0,s[5]||0)}function ud(s){return[s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate(),s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()]}function Nn(s){return s.length===1&&(s=s.concat([0])),new Date(Date.UTC(...s))}function FU(s){return!isNaN(s.valueOf())}function md(s){return s.getUTCHours()*1e3*60*60+s.getUTCMinutes()*1e3*60+s.getUTCSeconds()*1e3+s.getUTCMilliseconds()}function zU(s,t,a=!1){let r=s.toISOString();return r=r.replace(".000",""),a&&(r=r.replace("T00:00:00Z","")),r.length>10&&(t==null?r=r.replace("Z",""):t!==0&&(r=r.replace("Z",e4(t,!0)))),r}function Jg(s){return s.toISOString().replace(/T.*$/,"")}function iwe(s){return s.toISOString().match(/^\d{4}-\d{2}/)[0]}function lwe(s){return Sm(s.getUTCHours(),2)+":"+Sm(s.getUTCMinutes(),2)+":"+Sm(s.getUTCSeconds(),2)}function e4(s,t=!1){let a=s<0?"-":"+",r=Math.abs(s),n=Math.floor(r/60),i=Math.round(r%60);return t?`${a+Sm(n,2)}:${Sm(i,2)}`:`GMT${a}${n}${i?`:${Sm(i,2)}`:""}`}function Ot(s,t,a){let r,n;return function(...i){if(!r)n=s.apply(this,i);else if(!_d(r,i)){let l=s.apply(this,i);(!t||!t(l,n))&&(n=l)}return r=i,n}}function Iv(s,t,a){let r,n;return i=>(r?Gi(r,i)||(n=s.call(this,i)):n=s.call(this,i),r=i,n)}const Ck={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},Kb={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},gv=/\s*([ap])\.?m\.?/i,cwe=/,/g,owe=/\s+/g,dwe=/\u200e/g,hwe=/UTC|GMT/;class uwe{constructor(t){let a={},r={},n=9;for(let i in t)i in Ck?(r[i]=t[i],Ck[i]<9&&(n=Math.min(Ck[i],n))):(a[i]=t[i],i in Kb&&(n=Math.min(Kb[i],n)));this.standardDateProps=a,this.extendedSettings=r,this.smallestUnitNum=n,this.buildFormattingFunc=Ot(kP)}format(t,a){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,a)(t)}formatRange(t,a,r,n){let{standardDateProps:i,extendedSettings:l}=this,c=ywe(t.marker,a.marker,r.calendarSystem);if(!c)return this.format(t,r);let o=c;o>1&&(i.year==="numeric"||i.year==="2-digit")&&(i.month==="numeric"||i.month==="2-digit")&&(i.day==="numeric"||i.day==="2-digit")&&(o=1);let u=this.format(t,r),d=this.format(a,r);if(u===d)return u;let f=jwe(i,o),p=kP(f,l,r),j=p(t),y=p(a),k=vwe(u,j,d,y),v=l.separator||n||r.defaultSeparator||"";return k?k.before+j+v+y+k.after:u+v+d}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function kP(s,t,a){let r=Object.keys(s).length;return r===1&&s.timeZoneName==="short"?n=>e4(n.timeZoneOffset):r===0&&t.week?n=>gwe(a.computeWeekNumber(n.marker),a.weekText,a.weekTextLong,a.locale,t.week):mwe(s,t,a)}function mwe(s,t,a){s=Object.assign({},s),t=Object.assign({},t),xwe(s,t),s.timeZone="UTC";let r=new Intl.DateTimeFormat(a.locale.codes,s),n;if(t.omitZeroMinute){let i=Object.assign({},s);delete i.minute,n=new Intl.DateTimeFormat(a.locale.codes,i)}return i=>{let{marker:l}=i,c;n&&!l.getUTCMinutes()?c=n:c=r;let o=c.format(l);return fwe(o,i,s,t,a)}}function xwe(s,t){s.timeZoneName&&(s.hour||(s.hour="2-digit"),s.minute||(s.minute="2-digit")),s.timeZoneName==="long"&&(s.timeZoneName="short"),t.omitZeroMinute&&(s.second||s.millisecond)&&delete t.omitZeroMinute}function fwe(s,t,a,r,n){return s=s.replace(dwe,""),a.timeZoneName==="short"&&(s=pwe(s,n.timeZone==="UTC"||t.timeZoneOffset==null?"UTC":e4(t.timeZoneOffset))),r.omitCommas&&(s=s.replace(cwe,"").trim()),r.omitZeroMinute&&(s=s.replace(":00","")),r.meridiem===!1?s=s.replace(gv,"").trim():r.meridiem==="narrow"?s=s.replace(gv,(i,l)=>l.toLocaleLowerCase()):r.meridiem==="short"?s=s.replace(gv,(i,l)=>`${l.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(s=s.replace(gv,i=>i.toLocaleLowerCase())),s=s.replace(owe," "),s=s.trim(),s}function pwe(s,t){let a=!1;return s=s.replace(hwe,()=>(a=!0,t)),a||(s+=` ${t}`),s}function gwe(s,t,a,r,n){let i=[];return n==="long"?i.push(a):(n==="short"||n==="narrow")&&i.push(t),(n==="long"||n==="short")&&i.push(" "),i.push(r.simpleNumberFormat.format(s)),r.options.direction==="rtl"&&i.reverse(),i.join("")}function ywe(s,t,a){return a.getMarkerYear(s)!==a.getMarkerYear(t)?5:a.getMarkerMonth(s)!==a.getMarkerMonth(t)?4:a.getMarkerDay(s)!==a.getMarkerDay(t)?2:md(s)!==md(t)?1:0}function jwe(s,t){let a={};for(let r in s)(!(r in Kb)||Kb[r]<=t)&&(a[r]=s[r]);return a}function vwe(s,t,a,r){let n=0;for(;n<s.length;){let i=s.indexOf(t,n);if(i===-1)break;let l=s.substr(0,i);n=i+t.length;let c=s.substr(n),o=0;for(;o<a.length;){let u=a.indexOf(r,o);if(u===-1)break;let d=a.substr(0,u);o=u+r.length;let f=a.substr(o);if(l===d&&c===f)return{before:l,after:c}}}return null}function SP(s,t){let a=t.markerToArray(s.marker);return{marker:s.marker,timeZoneOffset:s.timeZoneOffset,array:a,year:a[0],month:a[1],day:a[2],hour:a[3],minute:a[4],second:a[5],millisecond:a[6]}}function Qb(s,t,a,r){let n=SP(s,a.calendarSystem),i=t?SP(t,a.calendarSystem):null;return{date:n,start:n,end:i,timeZone:a.timeZone,localeCodes:a.locale.codes,defaultSeparator:r||a.defaultSeparator}}class bwe{constructor(t){this.cmdStr=t}format(t,a,r){return a.cmdFormatter(this.cmdStr,Qb(t,null,a,r))}formatRange(t,a,r,n){return r.cmdFormatter(this.cmdStr,Qb(t,a,r,n))}}class Nwe{constructor(t){this.func=t}format(t,a,r){return this.func(Qb(t,null,a,r))}formatRange(t,a,r,n){return this.func(Qb(t,a,r,n))}}function ca(s){return typeof s=="object"&&s?new uwe(s):typeof s=="string"?new bwe(s):typeof s=="function"?new Nwe(s):null}const _P={navLinkDayClick:ze,navLinkWeekClick:ze,duration:cs,bootstrapFontAwesome:ze,buttonIcons:ze,customButtons:ze,defaultAllDayEventDuration:cs,defaultTimedEventDuration:cs,nextDayThreshold:cs,scrollTime:cs,scrollTimeReset:Boolean,slotMinTime:cs,slotMaxTime:cs,dayPopoverFormat:ca,slotDuration:cs,snapDuration:cs,headerToolbar:ze,footerToolbar:ze,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:ca,dayHeaderClassNames:ze,dayHeaderContent:ze,dayHeaderDidMount:ze,dayHeaderWillUnmount:ze,dayCellClassNames:ze,dayCellContent:ze,dayCellDidMount:ze,dayCellWillUnmount:ze,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:ze,weekNumbers:Boolean,weekNumberClassNames:ze,weekNumberContent:ze,weekNumberDidMount:ze,weekNumberWillUnmount:ze,editable:Boolean,viewClassNames:ze,viewDidMount:ze,viewWillUnmount:ze,nowIndicator:Boolean,nowIndicatorSnap:ze,nowIndicatorClassNames:ze,nowIndicatorContent:ze,nowIndicatorDidMount:ze,nowIndicatorWillUnmount:ze,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:ze,locale:ze,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:ze,eventOrder:$0e,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:ze,contentHeight:ze,direction:String,weekNumberFormat:ca,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:ze,initialDate:ze,now:ze,eventDataTransform:ze,stickyHeaderDates:ze,stickyFooterScrollbar:ze,viewHeight:ze,defaultAllDay:Boolean,eventSourceFailure:ze,eventSourceSuccess:ze,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:ze,eventConstraint:ze,eventAllow:ze,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:ze,eventContent:ze,eventDidMount:ze,eventWillUnmount:ze,selectConstraint:ze,selectOverlap:ze,selectAllow:ze,droppable:Boolean,unselectCancel:String,slotLabelFormat:ze,slotLaneClassNames:ze,slotLaneContent:ze,slotLaneDidMount:ze,slotLaneWillUnmount:ze,slotLabelClassNames:ze,slotLabelContent:ze,slotLabelDidMount:ze,slotLabelWillUnmount:ze,dayMaxEvents:ze,dayMaxEventRows:ze,dayMinWidth:Number,slotLabelInterval:cs,allDayText:String,allDayClassNames:ze,allDayContent:ze,allDayDidMount:ze,allDayWillUnmount:ze,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:ca,rerenderDelay:Number,moreLinkText:ze,moreLinkHint:ze,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:ze,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:cs,hiddenDays:ze,fixedWeekCount:Boolean,validRange:ze,visibleRange:ze,titleFormat:ze,eventInteractive:Boolean,noEventsText:String,viewHint:ze,navLinkHint:ze,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:ze,moreLinkClassNames:ze,moreLinkContent:ze,moreLinkDidMount:ze,moreLinkWillUnmount:ze,monthStartFormat:ca,handleCustomRendering:ze,customRenderingMetaMap:ze,customRenderingReplaces:Boolean},kp={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},CP={datesSet:ze,eventsSet:ze,eventAdd:ze,eventChange:ze,eventRemove:ze,windowResize:ze,eventClick:ze,eventMouseEnter:ze,eventMouseLeave:ze,select:ze,unselect:ze,loading:ze,_unmount:ze,_beforeprint:ze,_afterprint:ze,_noEventDrop:ze,_noEventResize:ze,_resize:ze,_scrollRequest:ze},EP={buttonText:ze,buttonHints:ze,views:ze,plugins:ze,initialEvents:ze,events:ze,eventSources:ze},bh={headerToolbar:Nh,footerToolbar:Nh,buttonText:Nh,buttonHints:Nh,buttonIcons:Nh,dateIncrement:Nh,plugins:yv,events:yv,eventSources:yv,resources:yv};function Nh(s,t){return typeof s=="object"&&typeof t=="object"&&s&&t?Gi(s,t):s===t}function yv(s,t){return Array.isArray(s)&&Array.isArray(t)?_d(s,t):s===t}const wwe={type:String,component:ze,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:ze,usesMinMaxTime:Boolean,classNames:ze,content:ze,didMount:ze,willUnmount:ze};function Ek(s){return s4(s,bh)}function t4(s,t){let a={},r={};for(let n in t)n in s&&(a[n]=t[n](s[n]));for(let n in s)n in t||(r[n]=s[n]);return{refined:a,extra:r}}function ze(s){return s}const{hasOwnProperty:Xb}=Object.prototype;function s4(s,t){let a={};if(t){for(let r in t)if(t[r]===Nh){let n=[];for(let i=s.length-1;i>=0;i-=1){let l=s[i][r];if(typeof l=="object"&&l)n.unshift(l);else if(l!==void 0){a[r]=l;break}}n.length&&(a[r]=s4(n))}}for(let r=s.length-1;r>=0;r-=1){let n=s[r];for(let i in n)i in a||(a[i]=n[i])}return a}function Jh(s,t){let a={};for(let r in s)t(s[r],r)&&(a[r]=s[r]);return a}function Zc(s,t){let a={};for(let r in s)a[r]=t(s[r],r);return a}function HU(s){let t={};for(let a of s)t[a]=!0;return t}function a4(s){let t=[];for(let a in s)t.push(s[a]);return t}function Gi(s,t){if(s===t)return!0;for(let a in s)if(Xb.call(s,a)&&!(a in t))return!1;for(let a in t)if(Xb.call(t,a)&&s[a]!==t[a])return!1;return!0}const kwe=/^on[A-Z]/;function Swe(s,t){const a=_we(s,t);for(let r of a)if(!kwe.test(r))return!1;return!0}function _we(s,t){let a=[];for(let r in s)Xb.call(s,r)&&(r in t||a.push(r));for(let r in t)Xb.call(t,r)&&s[r]!==t[r]&&a.push(r);return a}function Ak(s,t,a={}){if(s===t)return!0;for(let r in t)if(!(r in s&&Cwe(s[r],t[r],a[r])))return!1;for(let r in s)if(!(r in t))return!1;return!0}function Cwe(s,t,a){return s===t||a===!0?!0:a?a(s,t):!1}function Ewe(s,t=0,a,r=1){let n=[];a==null&&(a=Object.keys(s).length);for(let i=t;i<a;i+=r){let l=s[i];l!==void 0&&n.push(l)}return n}let UU={};function Awe(s,t){UU[s]=t}function Twe(s){return new UU[s]}class Mwe{getMarkerYear(t){return t.getUTCFullYear()}getMarkerMonth(t){return t.getUTCMonth()}getMarkerDay(t){return t.getUTCDate()}arrayToMarker(t){return Nn(t)}markerToArray(t){return ud(t)}}Awe("gregory",Mwe);const Dwe=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function v1(s){let t=Dwe.exec(s);if(t){let a=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?+`0.${t[12]}`*1e3:0));if(FU(a)){let r=null;return t[13]&&(r=(t[15]==="-"?-1:1)*(Number(t[16]||0)*60+Number(t[18]||0))),{marker:a,isTimeUnspecified:!t[6],timeZoneOffset:r}}}return null}class Owe{constructor(t){let a=this.timeZone=t.timeZone,r=a!=="local"&&a!=="UTC";t.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new t.namedTimeZoneImpl(a)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=Twe(t.calendarSystem),this.locale=t.locale,this.weekDow=t.locale.week.dow,this.weekDoy=t.locale.week.doy,t.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof t.firstDay=="number"&&(this.weekDow=t.firstDay),typeof t.weekNumberCalculation=="function"&&(this.weekNumberFunc=t.weekNumberCalculation),this.weekText=t.weekText!=null?t.weekText:t.locale.options.weekText,this.weekTextLong=(t.weekTextLong!=null?t.weekTextLong:t.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=t.cmdFormatter,this.defaultSeparator=t.defaultSeparator}createMarker(t){let a=this.createMarkerMeta(t);return a===null?null:a.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Nn(NP(new Date))}createMarkerMeta(t){if(typeof t=="string")return this.parse(t);let a=null;return typeof t=="number"?a=this.timestampToMarker(t):t instanceof Date?(t=t.valueOf(),isNaN(t)||(a=this.timestampToMarker(t))):Array.isArray(t)&&(a=Nn(t)),a===null||!FU(a)?null:{marker:a,isTimeUnspecified:!1,forcedTzo:null}}parse(t){let a=v1(t);if(a===null)return null;let{marker:r}=a,n=null;return a.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-a.timeZoneOffset*60*1e3):n=a.timeZoneOffset),{marker:r,isTimeUnspecified:a.isTimeUnspecified,forcedTzo:n}}getYear(t){return this.calendarSystem.getMarkerYear(t)}getMonth(t){return this.calendarSystem.getMarkerMonth(t)}getDay(t){return this.calendarSystem.getMarkerDay(t)}add(t,a){let r=this.calendarSystem.markerToArray(t);return r[0]+=a.years,r[1]+=a.months,r[2]+=a.days,r[6]+=a.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(t,a){let r=this.calendarSystem.markerToArray(t);return r[0]-=a.years,r[1]-=a.months,r[2]-=a.days,r[6]-=a.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(t,a){let r=this.calendarSystem.markerToArray(t);return r[0]+=a,this.calendarSystem.arrayToMarker(r)}addMonths(t,a){let r=this.calendarSystem.markerToArray(t);return r[1]+=a,this.calendarSystem.arrayToMarker(r)}diffWholeYears(t,a){let{calendarSystem:r}=this;return md(t)===md(a)&&r.getMarkerDay(t)===r.getMarkerDay(a)&&r.getMarkerMonth(t)===r.getMarkerMonth(a)?r.getMarkerYear(a)-r.getMarkerYear(t):null}diffWholeMonths(t,a){let{calendarSystem:r}=this;return md(t)===md(a)&&r.getMarkerDay(t)===r.getMarkerDay(a)?r.getMarkerMonth(a)-r.getMarkerMonth(t)+(r.getMarkerYear(a)-r.getMarkerYear(t))*12:null}greatestWholeUnit(t,a){let r=this.diffWholeYears(t,a);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(t,a),r!==null?{unit:"month",value:r}:(r=ewe(t,a),r!==null?{unit:"week",value:r}:(r=Yb(t,a),r!==null?{unit:"day",value:r}:(r=Q0e(t,a),Pv(r)?{unit:"hour",value:r}:(r=X0e(t,a),Pv(r)?{unit:"minute",value:r}:(r=Z0e(t,a),Pv(r)?{unit:"second",value:r}:{unit:"millisecond",value:a.valueOf()-t.valueOf()}))))))}countDurationsBetween(t,a,r){let n;return r.years&&(n=this.diffWholeYears(t,a),n!==null)?n/V0e(r):r.months&&(n=this.diffWholeMonths(t,a),n!==null)?n/W0e(r):r.days&&(n=Yb(t,a),n!==null)?n/_m(r):(a.valueOf()-t.valueOf())/zi(r)}startOf(t,a){return a==="year"?this.startOfYear(t):a==="month"?this.startOfMonth(t):a==="week"?this.startOfWeek(t):a==="day"?Qs(t):a==="hour"?twe(t):a==="minute"?swe(t):a==="second"?awe(t):null}startOfYear(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t)])}startOfMonth(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t),this.calendarSystem.getMarkerMonth(t)])}startOfWeek(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t),this.calendarSystem.getMarkerMonth(t),t.getUTCDate()-(t.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(t){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(t)):rwe(t,this.weekDow,this.weekDoy)}format(t,a,r={}){return a.format({marker:t,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(t)},this)}formatRange(t,a,r,n={}){return n.isEndExclusive&&(a=Cd(a,-1)),r.formatRange({marker:t,timeZoneOffset:n.forcedStartTzo!=null?n.forcedStartTzo:this.offsetForMarker(t)},{marker:a,timeZoneOffset:n.forcedEndTzo!=null?n.forcedEndTzo:this.offsetForMarker(a)},this,n.defaultSeparator)}formatIso(t,a={}){let r=null;return a.omitTimeZoneOffset||(a.forcedTzo!=null?r=a.forcedTzo:r=this.offsetForMarker(t)),zU(t,r,a.omitTime)}timestampToMarker(t){return this.timeZone==="local"?Nn(NP(new Date(t))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(t):Nn(this.namedTimeZoneImpl.timestampToArray(t))}offsetForMarker(t){return this.timeZone==="local"?-wP(ud(t)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(ud(t)):null}toDate(t,a){return this.timeZone==="local"?wP(ud(t)):this.timeZone==="UTC"?new Date(t.valueOf()):this.namedTimeZoneImpl?new Date(t.valueOf()-this.namedTimeZoneImpl.offsetForArray(ud(t))*1e3*60):new Date(t.valueOf()-(a||0))}}class ey{constructor(t){this.iconOverrideOption&&this.setIconOverride(t[this.iconOverrideOption])}setIconOverride(t){let a,r;if(typeof t=="object"&&t){a=Object.assign({},this.iconClasses);for(r in t)a[r]=this.applyIconOverridePrefix(t[r]);this.iconClasses=a}else t===!1&&(this.iconClasses={})}applyIconOverridePrefix(t){let a=this.iconOverridePrefix;return a&&t.indexOf(a)!==0&&(t=a+t),t}getClass(t){return this.classes[t]||""}getIconClass(t,a){let r;return a&&this.rtlIconClasses?r=this.rtlIconClasses[t]||this.iconClasses[t]:r=this.iconClasses[t],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(t){let a;return this.iconOverrideCustomButtonOption&&(a=t[this.iconOverrideCustomButtonOption],a)?`${this.baseIconClass} ${this.applyIconOverridePrefix(a)}`:""}}ey.prototype.classes={};ey.prototype.iconClasses={};ey.prototype.baseIconClass="";ey.prototype.iconOverridePrefix="";function Zb(s){s();let t=$t.debounceRendering,a=[];function r(n){a.push(n)}for($t.debounceRendering=r,eg(be(Rwe,{}),document.createElement("div"));a.length;)a.shift()();$t.debounceRendering=t}class Rwe extends Hn{render(){return be("div",{})}componentDidMount(){this.setState({})}}function qU(s){let t=n0e(s),a=t.Provider;return t.Provider=function(){let r=!this.getChildContext,n=a.apply(this,arguments);if(r){let i=[];this.shouldComponentUpdate=l=>{this.props.value!==l.value&&i.forEach(c=>{c.context=l.value,c.forceUpdate()})},this.sub=l=>{i.push(l);let c=l.componentWillUnmount;l.componentWillUnmount=()=>{i.splice(i.indexOf(l),1),c&&c.call(l)}}}return n},t}class $we{constructor(t,a,r,n){this.execFunc=t,this.emitter=a,this.scrollTime=r,this.scrollTimeReset=n,this.handleScrollRequest=i=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},i),this.drain()},a.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(t){t&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const lo=qU({});function Pwe(s,t,a,r,n,i,l,c,o,u,d,f,p,j){return{dateEnv:n,nowManager:i,options:a,pluginHooks:c,emitter:d,dispatch:o,getCurrentData:u,calendarApi:f,viewSpec:s,viewApi:t,dateProfileGenerator:r,theme:l,isRtl:a.direction==="rtl",addResizeHandler(y){d.on("_resize",y)},removeResizeHandler(y){d.off("_resize",y)},createScrollResponder(y){return new $we(y,d,cs(a.scrollTime),a.scrollTimeReset)},registerInteractiveComponent:p,unregisterInteractiveComponent:j}}class ou extends Hn{shouldComponentUpdate(t,a){return!Ak(this.props,t,this.propEquality)||!Ak(this.state,a,this.stateEquality)}safeSetState(t){Ak(this.state,Object.assign(Object.assign({},this.state),t),this.stateEquality)||this.setState(t)}}ou.addPropsEquality=Iwe;ou.addStateEquality=Bwe;ou.contextType=lo;ou.prototype.propEquality={};ou.prototype.stateEquality={};class ks extends ou{}ks.contextType=lo;function Iwe(s){let t=Object.create(this.prototype.propEquality);Object.assign(t,s),this.prototype.propEquality=t}function Bwe(s){let t=Object.create(this.prototype.stateEquality);Object.assign(t,s),this.prototype.stateEquality=t}function zl(s,t){typeof s=="function"?s(t):s&&(s.current=t)}class r4 extends ks{constructor(){super(...arguments),this.id=cu(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=t=>{const{options:a}=this.context,{generatorName:r}=this.props;(!a.customRenderingReplaces||!v_(r,a))&&this.updateElRef(t)},this.updateElRef=t=>{this.props.elRef&&zl(this.props.elRef,t)}}render(){const{props:t,context:a}=this,{options:r}=a,{customGenerator:n,defaultGenerator:i,renderProps:l}=t,c=GU(t,[],this.handleEl);let o=!1,u,d=[],f;if(n!=null){const p=typeof n=="function"?n(l,be):n;if(p===!0)o=!0;else{const j=p&&typeof p=="object";j&&"html"in p?c.dangerouslySetInnerHTML={__html:p.html}:j&&"domNodes"in p?d=Array.prototype.slice.call(p.domNodes):(j?fU(p):typeof p!="function")?u=p:f=p}}else o=!v_(t.generatorName,r);return o&&i&&(u=i(l)),this.queuedDomNodes=d,this.currentGeneratorMeta=f,be(t.elTag,c,u)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(t){var a;const{props:r,context:n}=this,{handleCustomRendering:i,customRenderingMetaMap:l}=n.options;if(i){const c=(a=this.currentGeneratorMeta)!==null&&a!==void 0?a:l?.[r.generatorName];c&&i(Object.assign(Object.assign({id:this.id,isActive:t,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:c},r),{elClasses:(r.elClasses||[]).filter(Lwe)}))}}applyQueueudDomNodes(){const{queuedDomNodes:t,currentDomNodes:a}=this,r=this.base;if(!_d(t,a)){a.forEach(QA);for(let n of t)r.appendChild(n);this.currentDomNodes=t}}}r4.addPropsEquality({elClasses:_d,elStyle:Gi,elAttrs:Swe,renderProps:Gi});function v_(s,t){var a;return!!(t.handleCustomRendering&&s&&(!((a=t.customRenderingMetaMap)===null||a===void 0)&&a[s]))}function GU(s,t,a){const r=Object.assign(Object.assign({},s.elAttrs),{ref:a});return(s.elClasses||t)&&(r.className=(s.elClasses||[]).concat(t||[]).concat(r.className||[]).filter(Boolean).join(" ")),s.elStyle&&(r.style=s.elStyle),r}function Lwe(s){return!!s}const VU=qU(0);class Vr extends Hn{constructor(){super(...arguments),this.InnerContent=Fwe.bind(void 0,this),this.handleEl=t=>{this.el=t,this.props.elRef&&(zl(this.props.elRef,t),t&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:t}=this,a=zwe(t.classNameGenerator,t.renderProps);if(t.children){const r=GU(t,a,this.handleEl),n=t.children(this.InnerContent,t.renderProps,r);return t.elTag?be(t.elTag,r,n):n}else return be(r4,Object.assign(Object.assign({},t),{elRef:this.handleEl,elTag:t.elTag||"div",elClasses:(t.elClasses||[]).concat(a),renderId:this.context}))}componentDidMount(){var t,a;this.el?(a=(t=this.props).didMount)===null||a===void 0||a.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var t,a;(a=(t=this.props).willUnmount)===null||a===void 0||a.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}Vr.contextType=VU;function Fwe(s,t){const a=s.props;return be(r4,Object.assign({renderProps:a.renderProps,generatorName:a.generatorName,customGenerator:a.customGenerator,defaultGenerator:a.defaultGenerator,renderId:s.context},t))}function zwe(s,t){const a=typeof s=="function"?s(t):s||[];return typeof a=="string"?[a]:a}class tg extends ks{render(){let{props:t,context:a}=this,{options:r}=a,n={view:a.viewApi};return be(Vr,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:[...WU(t.viewSpec),...t.elClasses||[]],elStyle:t.elStyle,renderProps:n,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount},()=>t.children)}}function WU(s){return[`fc-${s.type}-view`,"fc-view"]}function Hwe(s,t){let a=null,r=null;return s.start&&(a=t.createMarker(s.start)),s.end&&(r=t.createMarker(s.end)),!a&&!r||a&&r&&r<a?null:{start:a,end:r}}function AP(s,t){let a=[],{start:r}=t,n,i;for(s.sort(Uwe),n=0;n<s.length;n+=1)i=s[n],i.start>r&&a.push({start:r,end:i.start}),i.end>r&&(r=i.end);return r<t.end&&a.push({start:r,end:t.end}),a}function Uwe(s,t){return s.start.valueOf()-t.start.valueOf()}function Ed(s,t){let{start:a,end:r}=s,n=null;return t.start!==null&&(a===null?a=t.start:a=new Date(Math.max(a.valueOf(),t.start.valueOf()))),t.end!=null&&(r===null?r=t.end:r=new Date(Math.min(r.valueOf(),t.end.valueOf()))),(a===null||r===null||a<r)&&(n={start:a,end:r}),n}function qwe(s,t){return(s.start===null?null:s.start.valueOf())===(t.start===null?null:t.start.valueOf())&&(s.end===null?null:s.end.valueOf())===(t.end===null?null:t.end.valueOf())}function n4(s,t){return(s.end===null||t.start===null||s.end>t.start)&&(s.start===null||t.end===null||s.start<t.end)}function b1(s,t){return(s.start===null||t.start!==null&&t.start>=s.start)&&(s.end===null||t.end!==null&&t.end<=s.end)}function Bc(s,t){return(s.start===null||t>=s.start)&&(s.end===null||t<s.end)}function Gwe(s,t){return t.start!=null&&s<t.start?t.start:t.end!=null&&s>=t.end?new Date(t.end.valueOf()-1):s}function YU(s){let t=Math.floor(Id(s.start,s.end))||1,a=Qs(s.start),r=Ca(a,t);return{start:a,end:r}}function i4(s,t=cs(0)){let a=null,r=null;if(s.end){r=Qs(s.end);let n=s.end.valueOf()-r.valueOf();n&&n>=zi(t)&&(r=Ca(r,1))}return s.start&&(a=Qs(s.start),r&&r<=a&&(r=Ca(a,1))),{start:a,end:r}}function Vwe(s){let t=i4(s);return Id(t.start,t.end)>1}function jm(s,t,a,r){return r==="year"?cs(a.diffWholeYears(s,t),"year"):r==="month"?cs(a.diffWholeMonths(s,t),"month"):J0e(s,t)}class KU{constructor(t){this.props=t,this.initHiddenDays()}buildPrev(t,a,r){let{dateEnv:n}=this.props,i=n.subtract(n.startOf(a,t.currentRangeUnit),t.dateIncrement);return this.build(i,-1,r)}buildNext(t,a,r){let{dateEnv:n}=this.props,i=n.add(n.startOf(a,t.currentRangeUnit),t.dateIncrement);return this.build(i,1,r)}build(t,a,r=!0){let{props:n}=this,i,l,c,o,u,d;return i=this.buildValidRange(),i=this.trimHiddenDays(i),r&&(t=Gwe(t,i)),l=this.buildCurrentRangeInfo(t,a),c=/^(year|month|week|day)$/.test(l.unit),o=this.buildRenderRange(this.trimHiddenDays(l.range),l.unit,c),o=this.trimHiddenDays(o),u=o,n.showNonCurrentDates||(u=Ed(u,l.range)),u=this.adjustActiveRange(u),u=Ed(u,i),d=n4(l.range,i),Bc(o,t)||(t=o.start),{currentDate:t,validRange:i,currentRange:l.range,currentRangeUnit:l.unit,isRangeAllDay:c,activeRange:u,renderRange:o,slotMinTime:n.slotMinTime,slotMaxTime:n.slotMaxTime,isValid:d,dateIncrement:this.buildDateIncrement(l.duration)}}buildValidRange(){let t=this.props.validRangeInput,a=typeof t=="function"?t.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):t;return this.refineRange(a)||{start:null,end:null}}buildCurrentRangeInfo(t,a){let{props:r}=this,n=null,i=null,l=null,c;return r.duration?(n=r.duration,i=r.durationUnit,l=this.buildRangeFromDuration(t,a,n,i)):(c=this.props.dayCount)?(i="day",l=this.buildRangeFromDayCount(t,a,c)):(l=this.buildCustomVisibleRange(t))?i=r.dateEnv.greatestWholeUnit(l.start,l.end).unit:(n=this.getFallbackDuration(),i=j_(n).unit,l=this.buildRangeFromDuration(t,a,n,i)),{duration:n,unit:i,range:l}}getFallbackDuration(){return cs({day:1})}adjustActiveRange(t){let{dateEnv:a,usesMinMaxTime:r,slotMinTime:n,slotMaxTime:i}=this.props,{start:l,end:c}=t;return r&&(_m(n)<0&&(l=Qs(l),l=a.add(l,n)),_m(i)>1&&(c=Qs(c),c=Ca(c,-1),c=a.add(c,i))),{start:l,end:c}}buildRangeFromDuration(t,a,r,n){let{dateEnv:i,dateAlignment:l}=this.props,c,o,u;if(!l){let{dateIncrement:f}=this.props;f&&zi(f)<zi(r)?l=j_(f).unit:l=n}_m(r)<=1&&this.isHiddenDay(c)&&(c=this.skipHiddenDays(c,a),c=Qs(c));function d(){c=i.startOf(t,l),o=i.add(c,r),u={start:c,end:o}}return d(),this.trimHiddenDays(u)||(t=this.skipHiddenDays(t,a),d()),u}buildRangeFromDayCount(t,a,r){let{dateEnv:n,dateAlignment:i}=this.props,l=0,c=t,o;i&&(c=n.startOf(c,i)),c=Qs(c),c=this.skipHiddenDays(c,a),o=c;do o=Ca(o,1),this.isHiddenDay(o)||(l+=1);while(l<r);return{start:c,end:o}}buildCustomVisibleRange(t){let{props:a}=this,r=a.visibleRangeInput,n=typeof r=="function"?r.call(a.calendarApi,a.dateEnv.toDate(t)):r,i=this.refineRange(n);return i&&(i.start==null||i.end==null)?null:i}buildRenderRange(t,a,r){return t}buildDateIncrement(t){let{dateIncrement:a}=this.props,r;return a||((r=this.props.dateAlignment)?cs(1,r):t||cs({days:1}))}refineRange(t){if(t){let a=Hwe(t,this.props.dateEnv);return a&&(a=i4(a)),a}return null}initHiddenDays(){let t=this.props.hiddenDays||[],a=[],r=0,n;for(this.props.weekends===!1&&t.push(0,6),n=0;n<7;n+=1)(a[n]=t.indexOf(n)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=a}trimHiddenDays(t){let{start:a,end:r}=t;return a&&(a=this.skipHiddenDays(a)),r&&(r=this.skipHiddenDays(r,-1,!0)),a==null||r==null||a<r?{start:a,end:r}:null}isHiddenDay(t){return t instanceof Date&&(t=t.getUTCDay()),this.isHiddenDayHash[t]}skipHiddenDays(t,a=1,r=!1){for(;this.isHiddenDayHash[(t.getUTCDay()+(r?a:0)+7)%7];)t=Ca(t,a);return t}}function l4(s,t,a,r){return{instanceId:cu(),defId:s,range:t,forcedStartTzo:a??null,forcedEndTzo:r??null}}function Wwe(s,t,a,r){for(let n=0;n<r.length;n+=1){let i=r[n].parse(s,a);if(i){let{allDay:l}=s;return l==null&&(l=t,l==null&&(l=i.allDayGuess,l==null&&(l=!1))),{allDay:l,duration:i.duration,typeData:i.typeData,typeId:n}}}return null}function eu(s,t,a){let{dateEnv:r,pluginHooks:n,options:i}=a,{defs:l,instances:c}=s;c=Jh(c,o=>!l[o.defId].recurringDef);for(let o in l){let u=l[o];if(u.recurringDef){let{duration:d}=u.recurringDef;d||(d=u.allDay?i.defaultAllDayEventDuration:i.defaultTimedEventDuration);let f=Ywe(u,d,t,r,n.recurringTypes);for(let p of f){let j=l4(o,{start:p,end:r.add(p,d)});c[j.instanceId]=j}}}return{defs:l,instances:c}}function Ywe(s,t,a,r,n){let l=n[s.recurringDef.typeId].expand(s.recurringDef.typeData,{start:r.subtract(a.start,t),end:a.end},r);return s.allDay&&(l=l.map(Qs)),l}const Bv={id:String,groupId:String,title:String,url:String,interactive:Boolean},QU={start:ze,end:ze,date:ze,allDay:Boolean},Kwe=Object.assign(Object.assign(Object.assign({},Bv),QU),{extendedProps:ze});function XU(s,t,a,r,n=c4(a),i,l){let{refined:c,extra:o}=ZU(s,a,n),u=Xwe(t,a),d=Wwe(c,u,a.dateEnv,a.pluginHooks.recurringTypes);if(d){let p=b_(c,o,t?t.sourceId:"",d.allDay,!!d.duration,a,i);return p.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:p,instance:null}}let f=Qwe(c,u,a,r);if(f){let p=b_(c,o,t?t.sourceId:"",f.allDay,f.hasEnd,a,i),j=l4(p.defId,f.range,f.forcedStartTzo,f.forcedEndTzo);return l&&p.publicId&&l[p.publicId]&&(j.instanceId=l[p.publicId]),{def:p,instance:j}}return null}function ZU(s,t,a=c4(t)){return t4(s,a)}function c4(s){return Object.assign(Object.assign(Object.assign({},Jb),Kwe),s.pluginHooks.eventRefiners)}function b_(s,t,a,r,n,i,l){let c={title:s.title||"",groupId:s.groupId||"",publicId:s.id||"",url:s.url||"",recurringDef:null,defId:(l&&s.id?l[s.id]:"")||cu(),sourceId:a,allDay:r,hasEnd:n,interactive:s.interactive,ui:eN(s,i),extendedProps:Object.assign(Object.assign({},s.extendedProps||{}),t)};for(let o of i.pluginHooks.eventDefMemberAdders)Object.assign(c,o(s));return Object.freeze(c.ui.classNames),Object.freeze(c.extendedProps),c}function Qwe(s,t,a,r){let{allDay:n}=s,i,l=null,c=!1,o,u=null,d=s.start!=null?s.start:s.date;if(i=a.dateEnv.createMarkerMeta(d),i)l=i.marker;else if(!r)return null;return s.end!=null&&(o=a.dateEnv.createMarkerMeta(s.end)),n==null&&(t!=null?n=t:n=(!i||i.isTimeUnspecified)&&(!o||o.isTimeUnspecified)),n&&l&&(l=Qs(l)),o&&(u=o.marker,n&&(u=Qs(u)),l&&u<=l&&(u=null)),u?c=!0:r||(c=a.options.forceEventDuration||!1,u=a.dateEnv.add(l,n?a.options.defaultAllDayEventDuration:a.options.defaultTimedEventDuration)),{allDay:n,hasEnd:c,range:{start:l,end:u},forcedStartTzo:i?i.forcedTzo:null,forcedEndTzo:o?o.forcedTzo:null}}function Xwe(s,t){let a=null;return s&&(a=s.defaultAllDay),a==null&&(a=t.options.defaultAllDay),a}function sg(s,t,a,r,n,i){let l=Un(),c=c4(a);for(let o of s){let u=XU(o,t,a,r,c,n,i);u&&N_(u,l)}return l}function N_(s,t=Un()){return t.defs[s.def.defId]=s.def,s.instance&&(t.instances[s.instance.instanceId]=s.instance),t}function o4(s,t){let a=s.instances[t];if(a){let r=s.defs[a.defId],n=N1(s,i=>Zwe(r,i));return n.defs[r.defId]=r,n.instances[a.instanceId]=a,n}return Un()}function Zwe(s,t){return!!(s.groupId&&s.groupId===t.groupId)}function Un(){return{defs:{},instances:{}}}function d4(s,t){return{defs:Object.assign(Object.assign({},s.defs),t.defs),instances:Object.assign(Object.assign({},s.instances),t.instances)}}function N1(s,t){let a=Jh(s.defs,t),r=Jh(s.instances,n=>a[n.defId]);return{defs:a,instances:r}}function Jwe(s,t){let{defs:a,instances:r}=s,n={},i={};for(let l in a)t.defs[l]||(n[l]=a[l]);for(let l in r)!t.instances[l]&&n[r[l].defId]&&(i[l]=r[l]);return{defs:n,instances:i}}function e2e(s,t){return Array.isArray(s)?sg(s,null,t,!0):typeof s=="object"&&s?sg([s],null,t,!0):s!=null?String(s):null}function TP(s){return Array.isArray(s)?s:typeof s=="string"?s.split(/\s+/):[]}const Jb={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:ze,overlap:ze,allow:ze,className:TP,classNames:TP,color:String,backgroundColor:String,borderColor:String,textColor:String},t2e={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function eN(s,t){let a=e2e(s.constraint,t);return{display:s.display||null,startEditable:s.startEditable!=null?s.startEditable:s.editable,durationEditable:s.durationEditable!=null?s.durationEditable:s.editable,constraints:a!=null?[a]:[],overlap:s.overlap!=null?s.overlap:null,allows:s.allow!=null?[s.allow]:[],backgroundColor:s.backgroundColor||s.color||"",borderColor:s.borderColor||s.color||"",textColor:s.textColor||"",classNames:(s.className||[]).concat(s.classNames||[])}}function JU(s){return s.reduce(s2e,t2e)}function s2e(s,t){return{display:t.display!=null?t.display:s.display,startEditable:t.startEditable!=null?t.startEditable:s.startEditable,durationEditable:t.durationEditable!=null?t.durationEditable:s.durationEditable,constraints:s.constraints.concat(t.constraints),overlap:typeof t.overlap=="boolean"?t.overlap:s.overlap,allows:s.allows.concat(t.allows),backgroundColor:t.backgroundColor||s.backgroundColor,borderColor:t.borderColor||s.borderColor,textColor:t.textColor||s.textColor,classNames:s.classNames.concat(t.classNames)}}const a2e={id:String,defaultAllDay:Boolean,url:String,format:String,events:ze,eventDataTransform:ze,success:ze,failure:ze};function eq(s,t,a=tq(t)){let r;if(typeof s=="string"?r={url:s}:typeof s=="function"||Array.isArray(s)?r={events:s}:typeof s=="object"&&s&&(r=s),r){let{refined:n,extra:i}=t4(r,a),l=r2e(n,t);if(l)return{_raw:s,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:n.defaultAllDay,eventDataTransform:n.eventDataTransform,success:n.success,failure:n.failure,publicId:n.id||"",sourceId:cu(),sourceDefId:l.sourceDefId,meta:l.meta,ui:eN(n,t),extendedProps:i}}return null}function tq(s){return Object.assign(Object.assign(Object.assign({},Jb),a2e),s.pluginHooks.eventSourceRefiners)}function r2e(s,t){let a=t.pluginHooks.eventSourceDefs;for(let r=a.length-1;r>=0;r-=1){let i=a[r].parseMeta(s);if(i)return{sourceDefId:r,meta:i}}return null}function n2e(s,t,a,r,n){switch(t.type){case"RECEIVE_EVENTS":return i2e(s,a[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,n);case"RESET_RAW_EVENTS":return l2e(s,a[t.sourceId],t.rawEvents,r.activeRange,n);case"ADD_EVENTS":return c2e(s,t.eventStore,r?r.activeRange:null,n);case"RESET_EVENTS":return t.eventStore;case"MERGE_EVENTS":return d4(s,t.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?eu(s,r.activeRange,n):s;case"REMOVE_EVENTS":return Jwe(s,t.eventStore);case"REMOVE_EVENT_SOURCE":return aq(s,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return N1(s,i=>!i.sourceId);case"REMOVE_ALL_EVENTS":return Un();default:return s}}function i2e(s,t,a,r,n,i){if(t&&a===t.latestFetchId){let l=sg(sq(n,t,i),t,i);return r&&(l=eu(l,r,i)),d4(aq(s,t.sourceId),l)}return s}function l2e(s,t,a,r,n){const{defIdMap:i,instanceIdMap:l}=d2e(s);let c=sg(sq(a,t,n),t,n,!1,i,l);return eu(c,r,n)}function sq(s,t,a){let r=a.options.eventDataTransform,n=t?t.eventDataTransform:null;return n&&(s=MP(s,n)),r&&(s=MP(s,r)),s}function MP(s,t){let a;if(!t)a=s;else{a=[];for(let r of s){let n=t(r);n?a.push(n):n==null&&a.push(r)}}return a}function c2e(s,t,a,r){return a&&(t=eu(t,a,r)),d4(s,t)}function DP(s,t,a){let{defs:r}=s,n=Zc(s.instances,i=>r[i.defId].allDay?i:Object.assign(Object.assign({},i),{range:{start:a.createMarker(t.toDate(i.range.start,i.forcedStartTzo)),end:a.createMarker(t.toDate(i.range.end,i.forcedEndTzo))},forcedStartTzo:a.canComputeOffset?null:i.forcedStartTzo,forcedEndTzo:a.canComputeOffset?null:i.forcedEndTzo}));return{defs:r,instances:n}}function aq(s,t){return N1(s,a=>a.sourceId!==t)}function o2e(s,t){return{defs:s.defs,instances:Jh(s.instances,a=>!t[a.instanceId])}}function d2e(s){const{defs:t,instances:a}=s,r={},n={};for(let i in t){const l=t[i],{publicId:c}=l;c&&(r[c]=i)}for(let i in a){const l=a[i],c=t[l.defId],{publicId:o}=c;o&&(n[o]=i)}return{defIdMap:r,instanceIdMap:n}}class w1{constructor(){this.handlers={},this.thisContext=null}setThisContext(t){this.thisContext=t}setOptions(t){this.options=t}on(t,a){h2e(this.handlers,t,a)}off(t,a){u2e(this.handlers,t,a)}trigger(t,...a){let r=this.handlers[t]||[],n=this.options&&this.options[t],i=[].concat(n||[],r);for(let l of i)l.apply(this.thisContext,a)}hasHandlers(t){return!!(this.handlers[t]&&this.handlers[t].length||this.options&&this.options[t])}}function h2e(s,t,a){(s[t]||(s[t]=[])).push(a)}function u2e(s,t,a){a?s[t]&&(s[t]=s[t].filter(r=>r!==a)):delete s[t]}const m2e={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function x2e(s,t){return sg(f2e(s),null,t)}function f2e(s){let t;return s===!0?t=[{}]:Array.isArray(s)?t=s.filter(a=>a.daysOfWeek):typeof s=="object"&&s?t=[s]:t=[],t=t.map(a=>Object.assign(Object.assign({},m2e),a)),t}function rq(s,t,a){a.emitter.trigger("select",Object.assign(Object.assign({},h4(s,a)),{jsEvent:t?t.origEvent:null,view:a.viewApi||a.calendarApi.view}))}function p2e(s,t){t.emitter.trigger("unselect",{jsEvent:s?s.origEvent:null,view:t.viewApi||t.calendarApi.view})}function h4(s,t){let a={};for(let r of t.pluginHooks.dateSpanTransforms)Object.assign(a,r(s,t));return Object.assign(a,T2e(s,t.dateEnv)),a}function OP(s,t,a){let{dateEnv:r,options:n}=a,i=t;return s?(i=Qs(i),i=r.add(i,n.defaultAllDayEventDuration)):i=r.add(i,n.defaultTimedEventDuration),i}function u4(s,t,a,r){let n=tN(s.defs,t),i=Un();for(let l in s.defs){let c=s.defs[l];i.defs[l]=g2e(c,n[l],a,r)}for(let l in s.instances){let c=s.instances[l],o=i.defs[c.defId];i.instances[l]=y2e(c,o,n[c.defId],a,r)}return i}function g2e(s,t,a,r){let n=a.standardProps||{};n.hasEnd==null&&t.durationEditable&&(a.startDelta||a.endDelta)&&(n.hasEnd=!0);let i=Object.assign(Object.assign(Object.assign({},s),n),{ui:Object.assign(Object.assign({},s.ui),n.ui)});a.extendedProps&&(i.extendedProps=Object.assign(Object.assign({},i.extendedProps),a.extendedProps));for(let l of r.pluginHooks.eventDefMutationAppliers)l(i,a,r);return!i.hasEnd&&r.options.forceEventDuration&&(i.hasEnd=!0),i}function y2e(s,t,a,r,n){let{dateEnv:i}=n,l=r.standardProps&&r.standardProps.allDay===!0,c=r.standardProps&&r.standardProps.hasEnd===!1,o=Object.assign({},s);return l&&(o.range=YU(o.range)),r.datesDelta&&a.startEditable&&(o.range={start:i.add(o.range.start,r.datesDelta),end:i.add(o.range.end,r.datesDelta)}),r.startDelta&&a.durationEditable&&(o.range={start:i.add(o.range.start,r.startDelta),end:o.range.end}),r.endDelta&&a.durationEditable&&(o.range={start:o.range.start,end:i.add(o.range.end,r.endDelta)}),c&&(o.range={start:o.range.start,end:OP(t.allDay,o.range.start,n)}),t.allDay&&(o.range={start:Qs(o.range.start),end:Qs(o.range.end)}),o.range.end<o.range.start&&(o.range.end=OP(t.allDay,o.range.start,n)),o}class xm{constructor(t,a){this.context=t,this.internalEventSource=a}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class ma{constructor(t,a,r){this._context=t,this._def=a,this._instance=r||null}setProp(t,a){if(t in QU)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(t==="id")a=Bv[t](a),this.mutate({standardProps:{publicId:a}});else if(t in Bv)a=Bv[t](a),this.mutate({standardProps:{[t]:a}});else if(t in Jb){let r=Jb[t](a);t==="color"?r={backgroundColor:a,borderColor:a}:t==="editable"?r={startEditable:a,durationEditable:a}:r={[t]:a},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${t}'. Use setExtendedProp instead.`)}setExtendedProp(t,a){this.mutate({extendedProps:{[t]:a}})}setStart(t,a={}){let{dateEnv:r}=this._context,n=r.createMarker(t);if(n&&this._instance){let i=this._instance.range,l=jm(i.start,n,r,a.granularity);a.maintainDuration?this.mutate({datesDelta:l}):this.mutate({startDelta:l})}}setEnd(t,a={}){let{dateEnv:r}=this._context,n;if(!(t!=null&&(n=r.createMarker(t),!n))&&this._instance)if(n){let i=jm(this._instance.range.end,n,r,a.granularity);this.mutate({endDelta:i})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(t,a,r={}){let{dateEnv:n}=this._context,i={allDay:r.allDay},l=n.createMarker(t),c;if(l&&!(a!=null&&(c=n.createMarker(a),!c))&&this._instance){let o=this._instance.range;r.allDay===!0&&(o=YU(o));let u=jm(o.start,l,n,r.granularity);if(c){let d=jm(o.end,c,n,r.granularity);U0e(u,d)?this.mutate({datesDelta:u,standardProps:i}):this.mutate({startDelta:u,endDelta:d,standardProps:i})}else i.hasEnd=!1,this.mutate({datesDelta:u,standardProps:i})}}moveStart(t){let a=cs(t);a&&this.mutate({startDelta:a})}moveEnd(t){let a=cs(t);a&&this.mutate({endDelta:a})}moveDates(t){let a=cs(t);a&&this.mutate({datesDelta:a})}setAllDay(t,a={}){let r={allDay:t},{maintainDuration:n}=a;n==null&&(n=this._context.options.allDayMaintainDuration),this._def.allDay!==t&&(r.hasEnd=n),this.mutate({standardProps:r})}formatRange(t){let{dateEnv:a}=this._context,r=this._instance,n=ca(t);return this._def.hasEnd?a.formatRange(r.range.start,r.range.end,n,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):a.format(r.range.start,n,{forcedTzo:r.forcedStartTzo})}mutate(t){let a=this._instance;if(a){let r=this._def,n=this._context,{eventStore:i}=n.getCurrentData(),l=o4(i,a.instanceId);l=u4(l,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},t,n);let o=new ma(n,r,a);this._def=l.defs[r.defId],this._instance=l.instances[a.instanceId],n.dispatch({type:"MERGE_EVENTS",eventStore:l}),n.emitter.trigger("eventChange",{oldEvent:o,event:this,relatedEvents:Hh(l,n,a),revert(){n.dispatch({type:"RESET_EVENTS",eventStore:i})}})}}remove(){let t=this._context,a=nq(this);t.dispatch({type:"REMOVE_EVENTS",eventStore:a}),t.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:a})}})}get source(){let{sourceId:t}=this._def;return t?new xm(this._context,this._context.getCurrentData().eventSources[t]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let t=this._instance;return t?this._context.dateEnv.formatIso(t.range.start,{omitTime:this._def.allDay,forcedTzo:t.forcedStartTzo}):""}get endStr(){let t=this._instance;return t&&this._def.hasEnd?this._context.dateEnv.formatIso(t.range.end,{omitTime:this._def.allDay,forcedTzo:t.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(t={}){let a=this._def,{ui:r}=a,{startStr:n,endStr:i}=this,l={allDay:a.allDay};return a.title&&(l.title=a.title),n&&(l.start=n),i&&(l.end=i),a.publicId&&(l.id=a.publicId),a.groupId&&(l.groupId=a.groupId),a.url&&(l.url=a.url),r.display&&r.display!=="auto"&&(l.display=r.display),t.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?l.color=r.backgroundColor:(r.backgroundColor&&(l.backgroundColor=r.backgroundColor),r.borderColor&&(l.borderColor=r.borderColor)),r.textColor&&(l.textColor=r.textColor),r.classNames.length&&(l.classNames=r.classNames),Object.keys(a.extendedProps).length&&(t.collapseExtendedProps?Object.assign(l,a.extendedProps):l.extendedProps=a.extendedProps),l}toJSON(){return this.toPlainObject()}}function nq(s){let t=s._def,a=s._instance;return{defs:{[t.defId]:t},instances:a?{[a.instanceId]:a}:{}}}function Hh(s,t,a){let{defs:r,instances:n}=s,i=[],l=a?a.instanceId:"";for(let c in n){let o=n[c],u=r[o.defId];o.instanceId!==l&&i.push(new ma(t,u,o))}return i}function w_(s,t,a,r){let n={},i={},l={},c=[],o=[],u=tN(s.defs,t);for(let d in s.defs){let f=s.defs[d];u[f.defId].display==="inverse-background"&&(f.groupId?(n[f.groupId]=[],l[f.groupId]||(l[f.groupId]=f)):i[d]=[])}for(let d in s.instances){let f=s.instances[d],p=s.defs[f.defId],j=u[p.defId],y=f.range,k=!p.allDay&&r?i4(y,r):y,v=Ed(k,a);v&&(j.display==="inverse-background"?p.groupId?n[p.groupId].push(v):i[f.defId].push(v):j.display!=="none"&&(j.display==="background"?c:o).push({def:p,ui:j,instance:f,range:v,isStart:k.start&&k.start.valueOf()===v.start.valueOf(),isEnd:k.end&&k.end.valueOf()===v.end.valueOf()}))}for(let d in n){let f=n[d],p=AP(f,a);for(let j of p){let y=l[d],k=u[y.defId];c.push({def:y,ui:k,instance:null,range:j,isStart:!1,isEnd:!1})}}for(let d in i){let f=i[d],p=AP(f,a);for(let j of p)c.push({def:s.defs[d],ui:u[d],instance:null,range:j,isStart:!1,isEnd:!1})}return{bg:c,fg:o}}function j2e(s){return s.ui.display==="background"||s.ui.display==="inverse-background"}function RP(s,t){s.fcSeg=t}function Ym(s){return s.fcSeg||s.parentNode.fcSeg||null}function tN(s,t){return Zc(s,a=>iq(a,t))}function iq(s,t){let a=[];return t[""]&&a.push(t[""]),t[s.defId]&&a.push(t[s.defId]),a.push(s.ui),JU(a)}function m4(s,t){let a=s.map(v2e);return a.sort((r,n)=>P0e(r,n,t)),a.map(r=>r._seg)}function v2e(s){let{eventRange:t}=s,a=t.def,r=t.instance?t.instance.range:t.range,n=r.start?r.start.valueOf():0,i=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},a.extendedProps),a),{id:a.publicId,start:n,end:i,duration:i-n,allDay:Number(a.allDay),_seg:s})}function b2e(s,t){let{pluginHooks:a}=t,r=a.isDraggableTransformers,{def:n,ui:i}=s.eventRange,l=i.startEditable;for(let c of r)l=c(l,n,i,t);return l}function N2e(s,t){return s.isStart&&s.eventRange.ui.durationEditable&&t.options.eventResizableFromStart}function w2e(s,t){return s.isEnd&&s.eventRange.ui.durationEditable}function Sp(s,t,a,r,n,i,l){let{dateEnv:c,options:o}=a,{displayEventTime:u,displayEventEnd:d}=o,f=s.eventRange.def,p=s.eventRange.instance;u==null&&(u=r!==!1),d==null&&(d=n!==!1);let j=p.range.start,y=p.range.end,k=i||s.start||s.eventRange.range.start,v=l||s.end||s.eventRange.range.end,S=Qs(j).valueOf()===Qs(k).valueOf(),C=Qs(Cd(y,-1)).valueOf()===Qs(Cd(v,-1)).valueOf();return u&&!f.allDay&&(S||C)?(k=S?j:k,v=C?y:v,d&&f.hasEnd?c.formatRange(k,v,t,{forcedStartTzo:i?null:p.forcedStartTzo,forcedEndTzo:l?null:p.forcedEndTzo}):c.format(k,t,{forcedTzo:i?null:p.forcedStartTzo})):""}function Lc(s,t,a){let r=s.eventRange.range;return{isPast:r.end<=(a||t.start),isFuture:r.start>=(a||t.end),isToday:t&&Bc(t,r.start)}}function k2e(s){let t=["fc-event"];return s.isMirror&&t.push("fc-event-mirror"),s.isDraggable&&t.push("fc-event-draggable"),(s.isStartResizable||s.isEndResizable)&&t.push("fc-event-resizable"),s.isDragging&&t.push("fc-event-dragging"),s.isResizing&&t.push("fc-event-resizing"),s.isSelected&&t.push("fc-event-selected"),s.isStart&&t.push("fc-event-start"),s.isEnd&&t.push("fc-event-end"),s.isPast&&t.push("fc-event-past"),s.isToday&&t.push("fc-event-today"),s.isFuture&&t.push("fc-event-future"),t}function lq(s){return s.instance?s.instance.instanceId:`${s.def.defId}:${s.range.start.toISOString()}`}function x4(s,t){let{def:a,instance:r}=s.eventRange,{url:n}=a;if(n)return{href:n};let{emitter:i,options:l}=t,{eventInteractive:c}=l;return c==null&&(c=a.interactive,c==null&&(c=!!i.hasHandlers("eventClick"))),c?LU(o=>{i.trigger("eventClick",{el:o.target,event:new ma(t,a,r),jsEvent:o,view:t.viewApi})}):{}}const S2e={start:ze,end:ze,allDay:Boolean};function _2e(s,t,a){let r=C2e(s,t),{range:n}=r;if(!n.start)return null;if(!n.end){if(a==null)return null;n.end=t.add(n.start,a)}return r}function C2e(s,t){let{refined:a,extra:r}=t4(s,S2e),n=a.start?t.createMarkerMeta(a.start):null,i=a.end?t.createMarkerMeta(a.end):null,{allDay:l}=a;return l==null&&(l=n&&n.isTimeUnspecified&&(!i||i.isTimeUnspecified)),Object.assign({range:{start:n?n.marker:null,end:i?i.marker:null},allDay:l},r)}function E2e(s,t){return qwe(s.range,t.range)&&s.allDay===t.allDay&&A2e(s,t)}function A2e(s,t){for(let a in t)if(a!=="range"&&a!=="allDay"&&s[a]!==t[a])return!1;for(let a in s)if(!(a in t))return!1;return!0}function T2e(s,t){return Object.assign(Object.assign({},oq(s.range,t,s.allDay)),{allDay:s.allDay})}function cq(s,t,a){return Object.assign(Object.assign({},oq(s,t,a)),{timeZone:t.timeZone})}function oq(s,t,a){return{start:t.toDate(s.start),end:t.toDate(s.end),startStr:t.formatIso(s.start,{omitTime:a}),endStr:t.formatIso(s.end,{omitTime:a})}}function M2e(s,t,a){let r=ZU({editable:!1},a),n=b_(r.refined,r.extra,"",s.allDay,!0,a);return{def:n,ui:iq(n,t),instance:l4(n.defId,s.range),range:s.range,isStart:!0,isEnd:!0}}function D2e(s,t,a){let r=!1,n=function(c){r||(r=!0,t(c))},i=function(c){r||(r=!0,a(c))},l=s(n,i);l&&typeof l.then=="function"&&l.then(n,i)}class $P extends Error{constructor(t,a){super(t),this.response=a}}function O2e(s,t,a){s=s.toUpperCase();const r={method:s};return s==="GET"?t+=(t.indexOf("?")===-1?"?":"&")+new URLSearchParams(a):(r.body=new URLSearchParams(a),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(t,r).then(n=>{if(n.ok)return n.json().then(i=>[i,n],()=>{throw new $P("Failure parsing JSON",n)});throw new $P("Request failed",n)})}let Tk;function dq(){return Tk==null&&(Tk=R2e()),Tk}function R2e(){if(typeof document>"u")return!0;let s=document.createElement("div");s.style.position="absolute",s.style.top="0px",s.style.left="0px",s.innerHTML="<table><tr><td><div></div></td></tr></table>",s.querySelector("table").style.height="100px",s.querySelector("div").style.height="100%",document.body.appendChild(s);let a=s.querySelector("div").offsetHeight>0;return document.body.removeChild(s),a}class $2e extends ks{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Zb(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Zb(()=>{this.setState({forPrint:!1})})}}render(){let{props:t}=this,{options:a}=t,{forPrint:r}=this.state,n=r||a.height==="auto"||a.contentHeight==="auto",i=!n&&a.height!=null?a.height:"",l=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${a.direction}`,t.theme.getClass("root")];return dq()||l.push("fc-liquid-hack"),t.children(l,i,n,r)}componentDidMount(){let{emitter:t}=this.props;t.on("_beforeprint",this.handleBeforePrint),t.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:t}=this.props;t.off("_beforeprint",this.handleBeforePrint),t.off("_afterprint",this.handleAfterPrint)}}class Cx{constructor(t){this.component=t.component,this.isHitComboAllowed=t.isHitComboAllowed||null}destroy(){}}function P2e(s,t){return{component:s,el:t.el,useEventCenter:t.useEventCenter!=null?t.useEventCenter:!0,isHitComboAllowed:t.isHitComboAllowed||null}}function f4(s){return{[s.component.uid]:s}}const k_={};class du extends Hn{constructor(t,a){super(t,a),this.handleRefresh=()=>{let r=this.computeTiming();r.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(r.state),this.clearTimeout(),this.setTimeout(r.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:t,state:a}=this;return t.children(a.nowDate,a.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(t){t.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:t,context:a}=this,r=a.nowManager.getDateMarker(),{nowIndicatorSnap:n}=a.options;n==="auto"&&(n=/year|month|week|day/.test(t.unit)||(t.unitValue||1)===1);let i,l;return n?(i=a.dateEnv.startOf(r,t.unit),l=a.dateEnv.add(i,cs(1,t.unit)).valueOf()-r.valueOf()):(i=r,l=1e3*60),l=Math.min(1e3*60*60*24,l),{state:{nowDate:i,todayRange:I2e(i)},waitMs:l}}setTimeout(t=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const a=this.computeTiming();this.setState(a.state,()=>{this.setTimeout(a.waitMs)})},t)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}du.contextType=lo;function I2e(s){let t=Qs(s),a=Ca(t,1);return{start:t,end:a}}class B2e{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(t){this.currentDataManager.dispatch(t)}get view(){return this.getCurrentData().viewApi}batchRendering(t){t()}updateSize(){this.trigger("_resize",!0)}setOption(t,a){this.dispatch({type:"SET_OPTION",optionName:t,rawOptionValue:a})}getOption(t){return this.currentDataManager.currentCalendarOptionsInput[t]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(t,a){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[t]?r.emitter.on(t,a):console.warn(`Unknown listener name '${t}'`)}off(t,a){this.currentDataManager.emitter.off(t,a)}trigger(t,...a){this.currentDataManager.emitter.trigger(t,...a)}changeView(t,a){this.batchRendering(()=>{if(this.unselect(),a)if(a.start&&a.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:a});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t,dateMarker:r.createMarker(a)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t})})}zoomTo(t,a){let r=this.getCurrentData(),n;a=a||"day",n=r.viewSpecs[a]||this.getUnitViewSpec(a),this.unselect(),n?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:n.type,dateMarker:t}):this.dispatch({type:"CHANGE_DATE",dateMarker:t})}getUnitViewSpec(t){let{viewSpecs:a,toolbarConfig:r}=this.getCurrentData(),n=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),i,l;for(let c in a)n.push(c);for(i=0;i<n.length;i+=1)if(l=a[n[i]],l&&l.singleUnit===t)return l;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.addYears(t.currentDate,-1)})}nextYear(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.addYears(t.currentDate,1)})}today(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.nowManager.getDateMarker()})}gotoDate(t){let a=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:a.dateEnv.createMarker(t)})}incrementDate(t){let a=this.getCurrentData(),r=cs(t);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:a.dateEnv.add(a.currentDate,r)}))}getDate(){let t=this.getCurrentData();return t.dateEnv.toDate(t.currentDate)}formatDate(t,a){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(t),ca(a))}formatRange(t,a,r){let{dateEnv:n}=this.getCurrentData();return n.formatRange(n.createMarker(t),n.createMarker(a),ca(r),r)}formatIso(t,a){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(t),{omitTime:a})}select(t,a){let r;a==null?t.start!=null?r=t:r={start:t,end:null}:r={start:t,end:a};let n=this.getCurrentData(),i=_2e(r,n.dateEnv,cs({days:1}));i&&(this.dispatch({type:"SELECT_DATES",selection:i}),rq(i,null,n))}unselect(t){let a=this.getCurrentData();a.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),p2e(t,a))}addEvent(t,a){if(t instanceof ma){let l=t._def,c=t._instance;return this.getCurrentData().eventStore.defs[l.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:N_({def:l,instance:c})}),this.triggerEventAdd(t)),t}let r=this.getCurrentData(),n;if(a instanceof xm)n=a.internalEventSource;else if(typeof a=="boolean")a&&([n]=a4(r.eventSources));else if(a!=null){let l=this.getEventSourceById(a);if(!l)return console.warn(`Could not find an event source with ID "${a}"`),null;n=l.internalEventSource}let i=XU(t,n,r,!1);if(i){let l=new ma(r,i.def,i.def.recurringDef?null:i.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:N_(i)}),this.triggerEventAdd(l),l}return null}triggerEventAdd(t){let{emitter:a}=this.getCurrentData();a.trigger("eventAdd",{event:t,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:nq(t)})}})}getEventById(t){let a=this.getCurrentData(),{defs:r,instances:n}=a.eventStore;t=String(t);for(let i in r){let l=r[i];if(l.publicId===t){if(l.recurringDef)return new ma(a,l,null);for(let c in n){let o=n[c];if(o.defId===l.defId)return new ma(a,l,o)}}}return null}getEvents(){let t=this.getCurrentData();return Hh(t.eventStore,t)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let t=this.getCurrentData(),a=t.eventSources,r=[];for(let n in a)r.push(new xm(t,a[n]));return r}getEventSourceById(t){let a=this.getCurrentData(),r=a.eventSources;t=String(t);for(let n in r)if(r[n].publicId===t)return new xm(a,r[n]);return null}addEventSource(t){let a=this.getCurrentData();if(t instanceof xm)return a.eventSources[t.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[t.internalEventSource]}),t;let r=eq(t,a);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new xm(a,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(t){let a=cs(t);a&&this.trigger("_scrollRequest",{time:a})}}function L2e(s,t){return s.left>=t.left&&s.left<t.right&&s.top>=t.top&&s.top<t.bottom}function hq(s,t){let a={left:Math.max(s.left,t.left),right:Math.min(s.right,t.right),top:Math.max(s.top,t.top),bottom:Math.min(s.bottom,t.bottom)};return a.left<a.right&&a.top<a.bottom?a:!1}function F2e(s,t){return{left:Math.min(Math.max(s.left,t.left),t.right),top:Math.min(Math.max(s.top,t.top),t.bottom)}}function z2e(s){return{left:(s.left+s.right)/2,top:(s.top+s.bottom)/2}}function H2e(s,t){return{left:s.left-t.left,top:s.top-t.top}}const Mk=Un();class U2e{constructor(){this.getKeysForEventDefs=Ot(this._getKeysForEventDefs),this.splitDateSelection=Ot(this._splitDateSpan),this.splitEventStore=Ot(this._splitEventStore),this.splitIndividualUi=Ot(this._splitIndividualUi),this.splitEventDrag=Ot(this._splitInteraction),this.splitEventResize=Ot(this._splitInteraction),this.eventUiBuilders={}}splitProps(t){let a=this.getKeyInfo(t),r=this.getKeysForEventDefs(t.eventStore),n=this.splitDateSelection(t.dateSelection),i=this.splitIndividualUi(t.eventUiBases,r),l=this.splitEventStore(t.eventStore,r),c=this.splitEventDrag(t.eventDrag),o=this.splitEventResize(t.eventResize),u={};this.eventUiBuilders=Zc(a,(d,f)=>this.eventUiBuilders[f]||Ot(q2e));for(let d in a){let f=a[d],p=l[d]||Mk,j=this.eventUiBuilders[d];u[d]={businessHours:f.businessHours||t.businessHours,dateSelection:n[d]||null,eventStore:p,eventUiBases:j(t.eventUiBases[""],f.ui,i[d]),eventSelection:p.instances[t.eventSelection]?t.eventSelection:"",eventDrag:c[d]||null,eventResize:o[d]||null}}return u}_splitDateSpan(t){let a={};if(t){let r=this.getKeysForDateSpan(t);for(let n of r)a[n]=t}return a}_getKeysForEventDefs(t){return Zc(t.defs,a=>this.getKeysForEventDef(a))}_splitEventStore(t,a){let{defs:r,instances:n}=t,i={};for(let l in r)for(let c of a[l])i[c]||(i[c]=Un()),i[c].defs[l]=r[l];for(let l in n){let c=n[l];for(let o of a[c.defId])i[o]&&(i[o].instances[l]=c)}return i}_splitIndividualUi(t,a){let r={};for(let n in t)if(n)for(let i of a[n])r[i]||(r[i]={}),r[i][n]=t[n];return r}_splitInteraction(t){let a={};if(t){let r=this._splitEventStore(t.affectedEvents,this._getKeysForEventDefs(t.affectedEvents)),n=this._getKeysForEventDefs(t.mutatedEvents),i=this._splitEventStore(t.mutatedEvents,n),l=c=>{a[c]||(a[c]={affectedEvents:r[c]||Mk,mutatedEvents:i[c]||Mk,isEvent:t.isEvent})};for(let c in r)l(c);for(let c in i)l(c)}return a}}function q2e(s,t,a){let r=[];s&&r.push(s),t&&r.push(t);let n={"":JU(r)};return a&&Object.assign(n,a),n}function p4(s,t,a,r){return{dow:s.getUTCDay(),isDisabled:!!(r&&(!r.activeRange||!Bc(r.activeRange,s))),isOther:!!(r&&!Bc(r.currentRange,s)),isToday:!!(t&&Bc(t,s)),isPast:!!(a?s<a:t&&s<t.start),isFuture:!!(a?s>a:t&&s>=t.end)}}function k1(s,t){let a=["fc-day",`fc-day-${Y0e[s.dow]}`];return s.isDisabled?a.push("fc-day-disabled"):(s.isToday&&(a.push("fc-day-today"),a.push(t.getClass("today"))),s.isPast&&a.push("fc-day-past"),s.isFuture&&a.push("fc-day-future"),s.isOther&&a.push("fc-day-other")),a}const G2e=ca({year:"numeric",month:"long",day:"numeric"}),V2e=ca({week:"long"});function Km(s,t,a="day",r=!0){const{dateEnv:n,options:i,calendarApi:l}=s;let c=n.format(t,a==="week"?V2e:G2e);if(i.navLinks){let o=n.toDate(t);const u=d=>{let f=a==="day"?i.navLinkDayClick:a==="week"?i.navLinkWeekClick:null;typeof f=="function"?f.call(l,n.toDate(t),d):(typeof f=="string"&&(a=f),l.zoomTo(t,a))};return Object.assign({title:wp(i.navLinkHint,[c,o],c),"data-navlink":""},r?BU(u):{onClick:u})}return{"aria-label":c}}let Dk=null;function W2e(){return Dk===null&&(Dk=Y2e()),Dk}function Y2e(){let s=document.createElement("div");Np(s,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),s.innerHTML="<div></div>",document.body.appendChild(s);let a=s.firstChild.getBoundingClientRect().left>s.getBoundingClientRect().left;return QA(s),a}let Ok;function K2e(){return Ok||(Ok=Q2e()),Ok}function Q2e(){let s=document.createElement("div");s.style.overflow="scroll",s.style.position="absolute",s.style.top="-9999px",s.style.left="-9999px",document.body.appendChild(s);let t=uq(s);return document.body.removeChild(s),t}function uq(s){return{x:s.offsetHeight-s.clientHeight,y:s.offsetWidth-s.clientWidth}}function X2e(s,t=!1){let a=window.getComputedStyle(s),r=parseInt(a.borderLeftWidth,10)||0,n=parseInt(a.borderRightWidth,10)||0,i=parseInt(a.borderTopWidth,10)||0,l=parseInt(a.borderBottomWidth,10)||0,c=uq(s),o=c.y-r-n,u=c.x-i-l,d={borderLeft:r,borderRight:n,borderTop:i,borderBottom:l,scrollbarBottom:u,scrollbarLeft:0,scrollbarRight:0};return W2e()&&a.direction==="rtl"?d.scrollbarLeft=o:d.scrollbarRight=o,t&&(d.paddingLeft=parseInt(a.paddingLeft,10)||0,d.paddingRight=parseInt(a.paddingRight,10)||0,d.paddingTop=parseInt(a.paddingTop,10)||0,d.paddingBottom=parseInt(a.paddingBottom,10)||0),d}function Z2e(s,t=!1,a){let r=g4(s),n=X2e(s,t),i={left:r.left+n.borderLeft+n.scrollbarLeft,right:r.right-n.borderRight-n.scrollbarRight,top:r.top+n.borderTop,bottom:r.bottom-n.borderBottom-n.scrollbarBottom};return t&&(i.left+=n.paddingLeft,i.right-=n.paddingRight,i.top+=n.paddingTop,i.bottom-=n.paddingBottom),i}function g4(s){let t=s.getBoundingClientRect();return{left:t.left+window.scrollX,top:t.top+window.scrollY,right:t.right+window.scrollX,bottom:t.bottom+window.scrollY}}function J2e(s){let t=mq(s),a=s.getBoundingClientRect();for(let r of t){let n=hq(a,r.getBoundingClientRect());if(n)a=n;else return null}return a}function mq(s){let t=[];for(;s instanceof HTMLElement;){let a=window.getComputedStyle(s);if(a.position==="fixed")break;/(auto|scroll)/.test(a.overflow+a.overflowY+a.overflowX)&&t.push(s),s=s.parentNode}return t}class Qm{constructor(t,a,r,n){this.els=a;let i=this.originClientRect=t.getBoundingClientRect();r&&this.buildElHorizontals(i.left),n&&this.buildElVerticals(i.top)}buildElHorizontals(t){let a=[],r=[];for(let n of this.els){let i=n.getBoundingClientRect();a.push(i.left-t),r.push(i.right-t)}this.lefts=a,this.rights=r}buildElVerticals(t){let a=[],r=[];for(let n of this.els){let i=n.getBoundingClientRect();a.push(i.top-t),r.push(i.bottom-t)}this.tops=a,this.bottoms=r}leftToIndex(t){let{lefts:a,rights:r}=this,n=a.length,i;for(i=0;i<n;i+=1)if(t>=a[i]&&t<r[i])return i}topToIndex(t){let{tops:a,bottoms:r}=this,n=a.length,i;for(i=0;i<n;i+=1)if(t>=a[i]&&t<r[i])return i}getWidth(t){return this.rights[t]-this.lefts[t]}getHeight(t){return this.bottoms[t]-this.tops[t]}similarTo(t){return jv(this.tops||[],t.tops||[])&&jv(this.bottoms||[],t.bottoms||[])&&jv(this.lefts||[],t.lefts||[])&&jv(this.rights||[],t.rights||[])}}function jv(s,t){const a=s.length;if(a!==t.length)return!1;for(let r=0;r<a;r++)if(Math.round(s[r])!==Math.round(t[r]))return!1;return!0}class y4{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class eke extends y4{constructor(t){super(),this.el=t}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(t){this.el.scrollTop=t}setScrollLeft(t){this.el.scrollLeft=t}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class tke extends y4{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(t){window.scroll(window.scrollX,t)}setScrollLeft(t){window.scroll(t,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Xi extends ks{constructor(){super(...arguments),this.uid=cu()}prepareHits(){}queryHit(t,a,r,n){return null}isValidSegDownEl(t){return!this.props.eventDrag&&!this.props.eventResize&&!Fr(t,".fc-event-mirror")}isValidDateDownEl(t){return!Fr(t,".fc-event:not(.fc-bg-event)")&&!Fr(t,".fc-more-link")&&!Fr(t,"a[data-navlink]")&&!Fr(t,".fc-popover")}}class xq{constructor(t=a=>a.thickness||1){this.getEntryThickness=t,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(t){let a=[];for(let r of t)this.insertEntry(r,a);return a}insertEntry(t,a){let r=this.findInsertion(t);this.isInsertionValid(r,t)?this.insertEntryAt(t,r):this.handleInvalidInsertion(r,t,a)}isInsertionValid(t,a){return(this.maxCoord===-1||t.levelCoord+this.getEntryThickness(a)<=this.maxCoord)&&(this.maxStackCnt===-1||t.stackCnt<this.maxStackCnt)}handleInvalidInsertion(t,a,r){if(this.allowReslicing&&t.touchingEntry){const n=Object.assign(Object.assign({},a),{span:j4(a.span,t.touchingEntry.span)});r.push(n),this.splitEntry(a,t.touchingEntry,r)}else r.push(a)}splitEntry(t,a,r){let n=t.span,i=a.span;n.start<i.start&&this.insertEntry({index:t.index,thickness:t.thickness,span:{start:n.start,end:i.start}},r),n.end>i.end&&this.insertEntry({index:t.index,thickness:t.thickness,span:{start:i.end,end:n.end}},r)}insertEntryAt(t,a){let{entriesByLevel:r,levelCoords:n}=this;a.lateral===-1?(Rk(n,a.level,a.levelCoord),Rk(r,a.level,[t])):Rk(r[a.level],a.lateral,t),this.stackCnts[Uh(t)]=a.stackCnt}findInsertion(t){let{levelCoords:a,entriesByLevel:r,strictOrder:n,stackCnts:i}=this,l=a.length,c=0,o=-1,u=-1,d=null,f=0;for(let y=0;y<l;y+=1){const k=a[y];if(!n&&k>=c+this.getEntryThickness(t))break;let v=r[y],S,C=__(v,t.span.start,S_),_=C[0]+C[1];for(;(S=v[_])&&S.span.start<t.span.end;){let A=k+this.getEntryThickness(S);A>c&&(c=A,d=S,o=y,u=_),A===c&&(f=Math.max(f,i[Uh(S)]+1)),_+=1}}let p=0;if(d)for(p=o+1;p<l&&a[p]<c;)p+=1;let j=-1;return p<l&&a[p]===c&&(j=__(r[p],t.span.end,S_)[0]),{touchingLevel:o,touchingLateral:u,touchingEntry:d,stackCnt:f,levelCoord:c,level:p,lateral:j}}toRects(){let{entriesByLevel:t,levelCoords:a}=this,r=t.length,n=[];for(let i=0;i<r;i+=1){let l=t[i],c=a[i];for(let o of l)n.push(Object.assign(Object.assign({},o),{thickness:this.getEntryThickness(o),levelCoord:c}))}return n}}function S_(s){return s.span.end}function Uh(s){return s.index+":"+s.span.start}function ske(s){let t=[];for(let a of s){let r=[],n={span:a.span,entries:[a]};for(let i of t)j4(i.span,n.span)?n={entries:i.entries.concat(n.entries),span:ake(i.span,n.span)}:r.push(i);r.push(n),t=r}return t}function ake(s,t){return{start:Math.min(s.start,t.start),end:Math.max(s.end,t.end)}}function j4(s,t){let a=Math.max(s.start,t.start),r=Math.min(s.end,t.end);return a<r?{start:a,end:r}:null}function Rk(s,t,a){s.splice(t,0,a)}function __(s,t,a){let r=0,n=s.length;if(!n||t<a(s[r]))return[0,0];if(t>a(s[n-1]))return[n,0];for(;r<n;){let i=Math.floor(r+(n-r)/2),l=a(s[i]);if(t<l)n=i;else if(t>l)r=i+1;else return[i,1]}return[r,0]}class rke{constructor(t,a){this.emitter=new w1}destroy(){}setMirrorIsVisible(t){}setMirrorNeedsRevert(t){}setAutoScrollEnabled(t){}}const v4={};function nke(s,t){return!s||t>10?ca({weekday:"short"}):t>1?ca({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):ca({weekday:"long"})}const fq="fc-col-header-cell";function pq(s){return s.text}class ike extends ks{render(){let{dateEnv:t,options:a,theme:r,viewApi:n}=this.context,{props:i}=this,{date:l,dateProfile:c}=i,o=p4(l,i.todayRange,null,c),u=[fq].concat(k1(o,r)),d=t.format(l,i.dayHeaderFormat),f=!o.isDisabled&&i.colCnt>1?Km(this.context,l):{},p=t.toDate(l);t.namedTimeZoneImpl&&(p=Cd(p,36e5));let j=Object.assign(Object.assign(Object.assign({date:p,view:n},i.extraRenderProps),{text:d}),o);return be(Vr,{elTag:"th",elClasses:u,elAttrs:Object.assign({role:"columnheader",colSpan:i.colSpan,"data-date":o.isDisabled?void 0:Jg(l)},i.extraDataAttrs),renderProps:j,generatorName:"dayHeaderContent",customGenerator:a.dayHeaderContent,defaultGenerator:pq,classNameGenerator:a.dayHeaderClassNames,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},y=>be("div",{className:"fc-scrollgrid-sync-inner"},!o.isDisabled&&be(y,{elTag:"a",elAttrs:f,elClasses:["fc-col-header-cell-cushion",i.isSticky&&"fc-sticky"]})))}}const lke=ca({weekday:"long"});class cke extends ks{render(){let{props:t}=this,{dateEnv:a,theme:r,viewApi:n,options:i}=this.context,l=Ca(new Date(2592e5),t.dow),c={dow:t.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},o=a.format(l,t.dayHeaderFormat),u=Object.assign(Object.assign(Object.assign(Object.assign({date:l},c),{view:n}),t.extraRenderProps),{text:o});return be(Vr,{elTag:"th",elClasses:[fq,...k1(c,r),...t.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:t.colSpan},t.extraDataAttrs),renderProps:u,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:pq,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},d=>be("div",{className:"fc-scrollgrid-sync-inner"},be(d,{elTag:"a",elClasses:["fc-col-header-cell-cushion",t.isSticky&&"fc-sticky"],elAttrs:{"aria-label":a.format(l,lke)}})))}}class gq extends ks{constructor(){super(...arguments),this.createDayHeaderFormatter=Ot(oke)}render(){let{context:t}=this,{dates:a,dateProfile:r,datesRepDistinctDays:n,renderIntro:i}=this.props,l=this.createDayHeaderFormatter(t.options.dayHeaderFormat,n,a.length);return be(du,{unit:"day"},(c,o)=>be("tr",{role:"row"},i&&i("day"),a.map(u=>n?be(ike,{key:u.toISOString(),date:u,dateProfile:r,todayRange:o,colCnt:a.length,dayHeaderFormat:l}):be(cke,{key:u.getUTCDay(),dow:u.getUTCDay(),dayHeaderFormat:l}))))}}function oke(s,t,a){return s||nke(t,a)}class yq{constructor(t,a){let r=t.start,{end:n}=t,i=[],l=[],c=-1;for(;r<n;)a.isHiddenDay(r)?i.push(c+.5):(c+=1,i.push(c),l.push(r)),r=Ca(r,1);this.dates=l,this.indices=i,this.cnt=l.length}sliceRange(t){let a=this.getDateDayIndex(t.start),r=this.getDateDayIndex(Ca(t.end,-1)),n=Math.max(0,a),i=Math.min(this.cnt-1,r);return n=Math.ceil(n),i=Math.floor(i),n<=i?{firstIndex:n,lastIndex:i,isStart:a===n,isEnd:r===i}:null}getDateDayIndex(t){let{indices:a}=this,r=Math.floor(Id(this.dates[0],t));return r<0?a[0]-1:r>=a.length?a[a.length-1]+1:a[r]}}class jq{constructor(t,a){let{dates:r}=t,n,i,l;if(a){for(i=r[0].getUTCDay(),n=1;n<r.length&&r[n].getUTCDay()!==i;n+=1);l=Math.ceil(r.length/n)}else l=1,n=r.length;this.rowCnt=l,this.colCnt=n,this.daySeries=t,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let t=[];for(let a=0;a<this.rowCnt;a+=1){let r=[];for(let n=0;n<this.colCnt;n+=1)r.push(this.buildCell(a,n));t.push(r)}return t}buildCell(t,a){let r=this.daySeries.dates[t*this.colCnt+a];return{key:r.toISOString(),date:r}}buildHeaderDates(){let t=[];for(let a=0;a<this.colCnt;a+=1)t.push(this.cells[0][a].date);return t}sliceRange(t){let{colCnt:a}=this,r=this.daySeries.sliceRange(t),n=[];if(r){let{firstIndex:i,lastIndex:l}=r,c=i;for(;c<=l;){let o=Math.floor(c/a),u=Math.min((o+1)*a,l+1);n.push({row:o,firstCol:c%a,lastCol:(u-1)%a,isStart:r.isStart&&c===i,isEnd:r.isEnd&&u-1===l}),c=u}}return n}}class vq{constructor(){this.sliceBusinessHours=Ot(this._sliceBusinessHours),this.sliceDateSelection=Ot(this._sliceDateSpan),this.sliceEventStore=Ot(this._sliceEventStore),this.sliceEventDrag=Ot(this._sliceInteraction),this.sliceEventResize=Ot(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(t,a,r,n,...i){let{eventUiBases:l}=t,c=this.sliceEventStore(t.eventStore,l,a,r,...i);return{dateSelectionSegs:this.sliceDateSelection(t.dateSelection,a,r,l,n,...i),businessHourSegs:this.sliceBusinessHours(t.businessHours,a,r,n,...i),fgEventSegs:c.fg,bgEventSegs:c.bg,eventDrag:this.sliceEventDrag(t.eventDrag,l,a,r,...i),eventResize:this.sliceEventResize(t.eventResize,l,a,r,...i),eventSelection:t.eventSelection}}sliceNowDate(t,a,r,n,...i){return this._sliceDateSpan({range:{start:t,end:Cd(t,1)},allDay:!1},a,r,{},n,...i)}_sliceBusinessHours(t,a,r,n,...i){return t?this._sliceEventStore(eu(t,vv(a,!!r),n),{},a,r,...i).bg:[]}_sliceEventStore(t,a,r,n,...i){if(t){let l=w_(t,a,vv(r,!!n),n);return{bg:this.sliceEventRanges(l.bg,i),fg:this.sliceEventRanges(l.fg,i)}}return{bg:[],fg:[]}}_sliceInteraction(t,a,r,n,...i){if(!t)return null;let l=w_(t.mutatedEvents,a,vv(r,!!n),n);return{segs:this.sliceEventRanges(l.fg,i),affectedInstances:t.affectedEvents.instances,isEvent:t.isEvent}}_sliceDateSpan(t,a,r,n,i,...l){if(!t)return[];let c=vv(a,!!r),o=Ed(t.range,c);if(o){t=Object.assign(Object.assign({},t),{range:o});let u=M2e(t,n,i),d=this.sliceRange(t.range,...l);for(let f of d)f.eventRange=u;return d}return[]}sliceEventRanges(t,a){let r=[];for(let n of t)r.push(...this.sliceEventRange(n,a));return r}sliceEventRange(t,a){let r=t.range;this.forceDayIfListItem&&t.ui.display==="list-item"&&(r={start:r.start,end:Ca(r.start,1)});let n=this.sliceRange(r,...a);for(let i of n)i.eventRange=t,i.isStart=t.isStart&&i.isStart,i.isEnd=t.isEnd&&i.isEnd;return n}}function vv(s,t){let a=s.activeRange;return t?a:{start:Cd(a.start,s.slotMinTime.milliseconds),end:Cd(a.end,s.slotMaxTime.milliseconds-864e5)}}function bq(s,t,a){let{instances:r}=s.mutatedEvents;for(let n in r)if(!b1(t.validRange,r[n].range))return!1;return Nq({eventDrag:s},a)}function dke(s,t,a){return b1(t.validRange,s.range)?Nq({dateSelection:s},a):!1}function Nq(s,t){let a=t.getCurrentData(),r=Object.assign({businessHours:a.businessHours,dateSelection:"",eventStore:a.eventStore,eventUiBases:a.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},s);return(t.pluginHooks.isPropsValid||hke)(r,t)}function hke(s,t,a={},r){return!(s.eventDrag&&!uke(s,t,a,r)||s.dateSelection&&!mke(s,t,a,r))}function uke(s,t,a,r){let n=t.getCurrentData(),i=s.eventDrag,l=i.mutatedEvents,c=l.defs,o=l.instances,u=tN(c,i.isEvent?s.eventUiBases:{"":n.selectionConfig});r&&(u=Zc(u,r));let d=o2e(s.eventStore,i.affectedEvents.instances),f=d.defs,p=d.instances,j=tN(f,s.eventUiBases);for(let y in o){let k=o[y],v=k.range,S=u[k.defId],C=c[k.defId];if(!wq(S.constraints,v,d,s.businessHours,t))return!1;let{eventOverlap:_}=t.options,A=typeof _=="function"?_:null;for(let M in p){let L=p[M];if(n4(v,L.range)&&(j[L.defId].overlap===!1&&i.isEvent||S.overlap===!1||A&&!A(new ma(t,f[L.defId],L),new ma(t,C,k))))return!1}let D=n.eventStore;for(let M of S.allows){let L=Object.assign(Object.assign({},a),{range:k.range,allDay:C.allDay}),F=D.defs[C.defId],Q=D.instances[y],I;if(F?I=new ma(t,F,Q):I=new ma(t,C),!M(h4(L,t),I))return!1}}return!0}function mke(s,t,a,r){let n=s.eventStore,i=n.defs,l=n.instances,c=s.dateSelection,o=c.range,{selectionConfig:u}=t.getCurrentData();if(r&&(u=r(u)),!wq(u.constraints,o,n,s.businessHours,t))return!1;let{selectOverlap:d}=t.options,f=typeof d=="function"?d:null;for(let p in l){let j=l[p];if(n4(o,j.range)&&(u.overlap===!1||f&&!f(new ma(t,i[j.defId],j),null)))return!1}for(let p of u.allows){let j=Object.assign(Object.assign({},a),c);if(!p(h4(j,t),null))return!1}return!0}function wq(s,t,a,r,n){for(let i of s)if(!fke(xke(i,t,a,r,n),t))return!1;return!0}function xke(s,t,a,r,n){return s==="businessHours"?$k(eu(r,t,n)):typeof s=="string"?$k(N1(a,i=>i.groupId===s)):typeof s=="object"&&s?$k(eu(s,t,n)):[]}function $k(s){let{instances:t}=s,a=[];for(let r in t)a.push(t[r].range);return a}function fke(s,t){for(let a of s)if(b1(a,t))return!0;return!1}const bv=/^(visible|hidden)$/;class kq extends ks{constructor(){super(...arguments),this.handleEl=t=>{this.el=t,zl(this.props.elRef,t)}}render(){let{props:t}=this,{liquid:a,liquidIsAbsolute:r}=t,n=a&&r,i=["fc-scroller"];return a&&(r?i.push("fc-scroller-liquid-absolute"):i.push("fc-scroller-liquid")),be("div",{ref:this.handleEl,className:i.join(" "),style:{overflowX:t.overflowX,overflowY:t.overflowY,left:n&&-(t.overcomeLeft||0)||"",right:n&&-(t.overcomeRight||0)||"",bottom:n&&-(t.overcomeBottom||0)||"",marginLeft:!n&&-(t.overcomeLeft||0)||"",marginRight:!n&&-(t.overcomeRight||0)||"",marginBottom:!n&&-(t.overcomeBottom||0)||"",maxHeight:t.maxHeight||""}},t.children)}needsXScrolling(){if(bv.test(this.props.overflowX))return!1;let{el:t}=this,a=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=t;for(let n=0;n<r.length;n+=1)if(r[n].getBoundingClientRect().width>a)return!0;return!1}needsYScrolling(){if(bv.test(this.props.overflowY))return!1;let{el:t}=this,a=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=t;for(let n=0;n<r.length;n+=1)if(r[n].getBoundingClientRect().height>a)return!0;return!1}getXScrollbarWidth(){return bv.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return bv.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Mc{constructor(t){this.masterCallback=t,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(a,r)=>{let{depths:n,currentMap:i}=this,l=!1,c=!1;a!==null?(l=r in i,i[r]=a,n[r]=(n[r]||0)+1,c=!0):(n[r]-=1,n[r]||(delete i[r],delete this.callbackMap[r],l=!0)),this.masterCallback&&(l&&this.masterCallback(null,String(r)),c&&this.masterCallback(a,String(r)))}}createRef(t){let a=this.callbackMap[t];return a||(a=this.callbackMap[t]=r=>{this.handleValue(r,String(t))}),a}collect(t,a,r){return Ewe(this.currentMap,t,a,r)}getAll(){return a4(this.currentMap)}}function pke(s){let t=_0e(s,".fc-scrollgrid-shrink"),a=0;for(let r of t)a=Math.max(a,F0e(r));return Math.ceil(a)}function Sq(s,t){return s.liquid&&t.liquid}function gke(s,t){return t.maxHeight!=null||Sq(s,t)}function yke(s,t,a,r){let{expandRows:n}=a;return typeof t.content=="function"?t.content(a):be("table",{role:"presentation",className:[t.tableClassName,s.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:a.tableMinWidth,width:a.clientWidth,height:n?a.clientHeight:""}},a.tableColGroupNode,be(r?"thead":"tbody",{role:"presentation"},typeof t.rowContent=="function"?t.rowContent(a):t.rowContent))}function jke(s,t){return _d(s,t,Gi)}function vke(s,t){let a=[];for(let r of s){let n=r.span||1;for(let i=0;i<n;i+=1)a.push(be("col",{style:{width:r.width==="shrink"?bke(t):r.width||"",minWidth:r.minWidth||""}}))}return be("colgroup",{},...a)}function bke(s){return s??4}function Nke(s){for(let t of s)if(t.width==="shrink")return!0;return!1}function wke(s,t){let a=["fc-scrollgrid",t.theme.getClass("table")];return s&&a.push("fc-scrollgrid-liquid"),a}function kke(s,t){let a=["fc-scrollgrid-section",`fc-scrollgrid-section-${s.type}`,s.className];return t&&s.liquid&&s.maxHeight==null&&a.push("fc-scrollgrid-section-liquid"),s.isSticky&&a.push("fc-scrollgrid-section-sticky"),a}function C_(s){return be("div",{className:"fc-scrollgrid-sticky-shim",style:{width:s.clientWidth,minWidth:s.tableMinWidth}})}function sN(s){let{stickyHeaderDates:t}=s;return(t==null||t==="auto")&&(t=s.height==="auto"||s.viewHeight==="auto"),t}function _q(s){let{stickyFooterScrollbar:t}=s;return(t==null||t==="auto")&&(t=s.height==="auto"||s.viewHeight==="auto"),t}class b4 extends ks{constructor(){super(...arguments),this.processCols=Ot(t=>t,jke),this.renderMicroColGroup=Ot(vke),this.scrollerRefs=new Mc,this.scrollerElRefs=new Mc(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:t,state:a,context:r}=this,n=t.sections||[],i=this.processCols(t.cols),l=this.renderMicroColGroup(i,a.shrinkWidth),c=wke(t.liquid,r);t.collapsibleWidth&&c.push("fc-scrollgrid-collapsible");let o=n.length,u=0,d,f=[],p=[],j=[];for(;u<o&&(d=n[u]).type==="header";)f.push(this.renderSection(d,l,!0)),u+=1;for(;u<o&&(d=n[u]).type==="body";)p.push(this.renderSection(d,l,!1)),u+=1;for(;u<o&&(d=n[u]).type==="footer";)j.push(this.renderSection(d,l,!0)),u+=1;let y=!dq();const k={role:"rowgroup"};return be("table",{role:"grid",className:c.join(" "),style:{height:t.height}},!!(!y&&f.length)&&be("thead",k,...f),!!(!y&&p.length)&&be("tbody",k,...p),!!(!y&&j.length)&&be("tfoot",k,...j),y&&be("tbody",k,...f,...p,...j))}renderSection(t,a,r){return"outerContent"in t?be(Us,{key:t.key},t.outerContent):be("tr",{key:t.key,role:"presentation",className:kke(t,this.props.liquid).join(" ")},this.renderChunkTd(t,a,t.chunk,r))}renderChunkTd(t,a,r,n){if("outerContent"in r)return r.outerContent;let{props:i}=this,{forceYScrollbars:l,scrollerClientWidths:c,scrollerClientHeights:o}=this.state,u=gke(i,t),d=Sq(i,t),f=i.liquid?l?"scroll":u?"auto":"hidden":"visible",p=t.key,j=yke(t,r,{tableColGroupNode:a,tableMinWidth:"",clientWidth:!i.collapsibleWidth&&c[p]!==void 0?c[p]:null,clientHeight:o[p]!==void 0?o[p]:null,expandRows:t.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},n);return be(n?"th":"td",{ref:r.elRef,role:"presentation"},be("div",{className:`fc-scroller-harness${d?" fc-scroller-harness-liquid":""}`},be(kq,{ref:this.scrollerRefs.createRef(p),elRef:this.scrollerElRefs.createRef(p),overflowY:f,overflowX:i.liquid?"hidden":"visible",maxHeight:t.maxHeight,liquid:d,liquidIsAbsolute:!0},j)))}_handleScrollerEl(t,a){let r=Ske(this.props.sections,a);r&&zl(r.chunk.scrollerElRef,t)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return Nke(this.props.cols)?pke(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let t=K2e(),{scrollerRefs:a,scrollerElRefs:r}=this,n=!1,i={},l={};for(let c in a.currentMap){let o=a.currentMap[c];if(o&&o.needsYScrolling()){n=!0;break}}for(let c of this.props.sections){let o=c.key,u=r.currentMap[o];if(u){let d=u.parentNode;i[o]=Math.floor(d.getBoundingClientRect().width-(n?t.y:0)),l[o]=Math.floor(d.getBoundingClientRect().height)}}return{forceYScrollbars:n,scrollerClientWidths:i,scrollerClientHeights:l}}}b4.addStateEquality({scrollerClientWidths:Gi,scrollerClientHeights:Gi});function Ske(s,t){for(let a of s)if(a.key===t)return a;return null}class S1 extends ks{constructor(){super(...arguments),this.buildPublicEvent=Ot((t,a,r)=>new ma(t,a,r)),this.handleEl=t=>{this.el=t,zl(this.props.elRef,t),t&&RP(t,this.props.seg)}}render(){const{props:t,context:a}=this,{options:r}=a,{seg:n}=t,{eventRange:i}=n,{ui:l}=i,c={event:this.buildPublicEvent(a,i.def,i.instance),view:a.viewApi,timeText:t.timeText,textColor:l.textColor,backgroundColor:l.backgroundColor,borderColor:l.borderColor,isDraggable:!t.disableDragging&&b2e(n,a),isStartResizable:!t.disableResizing&&N2e(n,a),isEndResizable:!t.disableResizing&&w2e(n),isMirror:!!(t.isDragging||t.isResizing||t.isDateSelecting),isStart:!!n.isStart,isEnd:!!n.isEnd,isPast:!!t.isPast,isFuture:!!t.isFuture,isToday:!!t.isToday,isSelected:!!t.isSelected,isDragging:!!t.isDragging,isResizing:!!t.isResizing};return be(Vr,{elRef:this.handleEl,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:[...k2e(c),...n.eventRange.ui.classNames,...t.elClasses||[]],elStyle:t.elStyle,renderProps:c,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:t.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount},t.children)}componentDidUpdate(t){this.el&&this.props.seg!==t.seg&&RP(this.el,this.props.seg)}}class N4 extends ks{render(){let{props:t,context:a}=this,{options:r}=a,{seg:n}=t,{ui:i}=n.eventRange,l=r.eventTimeFormat||t.defaultTimeFormat,c=Sp(n,l,a,t.defaultDisplayEventTime,t.defaultDisplayEventEnd);return be(S1,Object.assign({},t,{elTag:"a",elStyle:{borderColor:i.borderColor,backgroundColor:i.backgroundColor},elAttrs:x4(n,a),defaultGenerator:_ke,timeText:c}),(o,u)=>be(Us,null,be(o,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:u.textColor}}),!!u.isStartResizable&&be("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!u.isEndResizable&&be("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}N4.addPropsEquality({seg:Gi});function _ke(s){return be("div",{className:"fc-event-main-frame"},s.timeText&&be("div",{className:"fc-event-time"},s.timeText),be("div",{className:"fc-event-title-container"},be("div",{className:"fc-event-title fc-sticky"},s.event.title||be(Us,null," "))))}const w4=s=>be(lo.Consumer,null,t=>{let{options:a}=t,r={isAxis:s.isAxis,date:t.dateEnv.toDate(s.date),view:t.viewApi};return be(Vr,{elRef:s.elRef,elTag:s.elTag||"div",elAttrs:s.elAttrs,elClasses:s.elClasses,elStyle:s.elStyle,renderProps:r,generatorName:"nowIndicatorContent",customGenerator:a.nowIndicatorContent,classNameGenerator:a.nowIndicatorClassNames,didMount:a.nowIndicatorDidMount,willUnmount:a.nowIndicatorWillUnmount},s.children)}),Cke=ca({day:"numeric"});class k4 extends ks{constructor(){super(...arguments),this.refineRenderProps=Iv(Eke)}render(){let{props:t,context:a}=this,{options:r}=a,n=this.refineRenderProps({date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,isMonthStart:t.isMonthStart||!1,showDayNumber:t.showDayNumber,extraRenderProps:t.extraRenderProps,viewApi:a.viewApi,dateEnv:a.dateEnv,monthStartFormat:r.monthStartFormat});return be(Vr,{elRef:t.elRef,elTag:t.elTag,elAttrs:Object.assign(Object.assign({},t.elAttrs),n.isDisabled?{}:{"data-date":Jg(t.date)}),elClasses:[...k1(n,a.theme),...t.elClasses||[]],elStyle:t.elStyle,renderProps:n,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:t.defaultGenerator,classNameGenerator:n.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount},t.children)}}function S4(s){return!!(s.dayCellContent||v_("dayCellContent",s))}function Eke(s){let{date:t,dateEnv:a,dateProfile:r,isMonthStart:n}=s,i=p4(t,s.todayRange,null,r),l=s.showDayNumber?a.format(t,n?s.monthStartFormat:Cke):"";return Object.assign(Object.assign(Object.assign({date:a.toDate(t),view:s.viewApi},i),{isMonthStart:n,dayNumberText:l}),s.extraRenderProps)}class Cq extends ks{render(){let{props:t}=this,{seg:a}=t;return be(S1,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:a.eventRange.ui.backgroundColor},defaultGenerator:Ake,seg:a,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:t.isPast,isFuture:t.isFuture,isToday:t.isToday,disableDragging:!0,disableResizing:!0})}}function Ake(s){let{title:t}=s.event;return t&&be("div",{className:"fc-event-title"},s.event.title)}function Eq(s){return be("div",{className:`fc-${s}`})}const Aq=s=>be(lo.Consumer,null,t=>{let{dateEnv:a,options:r}=t,{date:n}=s,i=r.weekNumberFormat||s.defaultFormat,l=a.computeWeekNumber(n),c=a.format(n,i),o={num:l,text:c,date:n};return be(Vr,{elRef:s.elRef,elTag:s.elTag,elAttrs:s.elAttrs,elClasses:s.elClasses,elStyle:s.elStyle,renderProps:o,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:Tke,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},s.children)});function Tke(s){return s.text}const Pk=10;class Mke extends ks{constructor(){super(...arguments),this.state={titleId:yd()},this.handleRootEl=t=>{this.rootEl=t,this.props.elRef&&zl(this.props.elRef,t)},this.handleDocumentMouseDown=t=>{const a=PU(t);this.rootEl.contains(a)||this.handleCloseClick()},this.handleDocumentKeyDown=t=>{t.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:t}=this.props;t&&t()}}render(){let{theme:t,options:a}=this.context,{props:r,state:n}=this,i=["fc-popover",t.getClass("popover")].concat(r.extraClassNames||[]);return u0e(be("div",Object.assign({},r.extraAttrs,{id:r.id,className:i.join(" "),"aria-labelledby":n.titleId,ref:this.handleRootEl}),be("div",{className:"fc-popover-header "+t.getClass("popoverHeader")},be("span",{className:"fc-popover-title",id:n.titleId},r.title),be("span",{className:"fc-popover-close "+t.getIconClass("close"),title:a.closeHint,onClick:this.handleCloseClick})),be("div",{className:"fc-popover-body "+t.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:t}=this.context,{alignmentEl:a,alignGridTop:r}=this.props,{rootEl:n}=this,i=J2e(a);if(i){let l=n.getBoundingClientRect(),c=r?Fr(a,".fc-scrollgrid").getBoundingClientRect().top:i.top,o=t?i.right-l.width:i.left;c=Math.max(c,Pk),o=Math.min(o,document.documentElement.clientWidth-Pk-l.width),o=Math.max(o,Pk);let u=n.offsetParent.getBoundingClientRect();Np(n,{top:c-u.top,left:o-u.left})}}}class Dke extends Xi{constructor(){super(...arguments),this.handleRootEl=t=>{this.rootEl=t,t?this.context.registerInteractiveComponent(this,{el:t,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:t,dateEnv:a}=this.context,{props:r}=this,{startDate:n,todayRange:i,dateProfile:l}=r,c=a.format(n,t.dayPopoverFormat);return be(k4,{elRef:this.handleRootEl,date:n,dateProfile:l,todayRange:i},(o,u,d)=>be(Mke,{elRef:d.ref,id:r.id,title:c,extraClassNames:["fc-more-popover"].concat(d.className||[]),extraAttrs:d,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},S4(t)&&be(o,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(t,a,r,n){let{rootEl:i,props:l}=this;return t>=0&&t<r&&a>=0&&a<n?{dateProfile:l.dateProfile,dateSpan:Object.assign({allDay:!l.forceTimed,range:{start:l.startDate,end:l.endDate}},l.extraDateSpan),dayEl:i,rect:{left:0,top:0,right:r,bottom:n},layer:1}:null}}class Tq extends ks{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:yd()},this.handleLinkEl=t=>{this.linkEl=t,this.props.elRef&&zl(this.props.elRef,t)},this.handleClick=t=>{let{props:a,context:r}=this,{moreLinkClick:n}=r.options,i=PP(a).start;function l(c){let{def:o,instance:u,range:d}=c.eventRange;return{event:new ma(r,o,u),start:r.dateEnv.toDate(d.start),end:r.dateEnv.toDate(d.end),isStart:c.isStart,isEnd:c.isEnd}}typeof n=="function"&&(n=n({date:i,allDay:!!a.allDayDate,allSegs:a.allSegs.map(l),hiddenSegs:a.hiddenSegs.map(l),jsEvent:t,view:r.viewApi})),!n||n==="popover"?this.setState({isPopoverOpen:!0}):typeof n=="string"&&r.calendarApi.zoomTo(i,n)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:t,state:a}=this;return be(lo.Consumer,null,r=>{let{viewApi:n,options:i,calendarApi:l}=r,{moreLinkText:c}=i,{moreCnt:o}=t,u=PP(t),d=typeof c=="function"?c.call(l,o):`+${o} ${c}`,f=wp(i.moreLinkHint,[o],d),p={num:o,shortText:`+${o}`,text:d,view:n};return be(Us,null,!!t.moreCnt&&be(Vr,{elTag:t.elTag||"a",elRef:this.handleLinkEl,elClasses:[...t.elClasses||[],"fc-more-link"],elStyle:t.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},t.elAttrs),BU(this.handleClick)),{title:f,"aria-expanded":a.isPopoverOpen,"aria-controls":a.isPopoverOpen?a.popoverId:""}),renderProps:p,generatorName:"moreLinkContent",customGenerator:i.moreLinkContent,defaultGenerator:t.defaultGenerator||Oke,classNameGenerator:i.moreLinkClassNames,didMount:i.moreLinkDidMount,willUnmount:i.moreLinkWillUnmount},t.children),a.isPopoverOpen&&be(Dke,{id:a.popoverId,startDate:u.start,endDate:u.end,dateProfile:t.dateProfile,todayRange:t.todayRange,extraDateSpan:t.extraDateSpan,parentEl:this.parentEl,alignmentEl:t.alignmentElRef?t.alignmentElRef.current:this.linkEl,alignGridTop:t.alignGridTop,forceTimed:t.forceTimed,onClose:this.handlePopoverClose},t.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Fr(this.linkEl,".fc-view-harness"))}}function Oke(s){return s.text}function PP(s){if(s.allDayDate)return{start:s.allDayDate,end:Ca(s.allDayDate,1)};let{hiddenSegs:t}=s;return{start:Mq(t),end:$ke(t)}}function Mq(s){return s.reduce(Rke).eventRange.range.start}function Rke(s,t){return s.eventRange.range.start<t.eventRange.range.start?s:t}function $ke(s){return s.reduce(Pke).eventRange.range.end}function Pke(s,t){return s.eventRange.range.end>t.eventRange.range.end?s:t}class Ike{constructor(){this.handlers=[]}set(t){this.currentValue=t;for(let a of this.handlers)a(t)}subscribe(t){this.handlers.push(t),this.currentValue!==void 0&&t(this.currentValue)}}class Bke extends Ike{constructor(){super(...arguments),this.map=new Map}handle(t){const{map:a}=this;let r=!1;t.isActive?(a.set(t.id,t),r=!0):a.has(t.id)&&(a.delete(t.id),r=!0),r&&this.set(a)}}const Lke=[],Dq={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},Oq=Object.assign(Object.assign({},Dq),{buttonHints:{prev:"Previous $0",next:"Next $0",today(s,t){return t==="day"?"Today":`This ${s}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(s){return`Show ${s} more event${s===1?"":"s"}`}});function Fke(s){let t=s.length>0?s[0].code:"en",a=Lke.concat(s),r={en:Oq};for(let n of a)r[n.code]=n;return{map:r,defaultCode:t}}function Rq(s,t){return typeof s=="object"&&!Array.isArray(s)?$q(s.code,[s.code],s):zke(s,t)}function zke(s,t){let a=[].concat(s||[]),r=Hke(a,t)||Oq;return $q(s,a,r)}function Hke(s,t){for(let a=0;a<s.length;a+=1){let r=s[a].toLocaleLowerCase().split("-");for(let n=r.length;n>0;n-=1){let i=r.slice(0,n).join("-");if(t[i])return t[i]}}return null}function $q(s,t,a){let r=s4([Dq,a],["buttonText"]);delete r.code;let{week:n}=r;return delete r.week,{codeArg:s,codes:t,week:n,simpleNumberFormat:new Intl.NumberFormat(s),options:r}}function Zi(s){return{id:cu(),name:s.name,premiumReleaseDate:s.premiumReleaseDate?new Date(s.premiumReleaseDate):void 0,deps:s.deps||[],reducers:s.reducers||[],isLoadingFuncs:s.isLoadingFuncs||[],contextInit:[].concat(s.contextInit||[]),eventRefiners:s.eventRefiners||{},eventDefMemberAdders:s.eventDefMemberAdders||[],eventSourceRefiners:s.eventSourceRefiners||{},isDraggableTransformers:s.isDraggableTransformers||[],eventDragMutationMassagers:s.eventDragMutationMassagers||[],eventDefMutationAppliers:s.eventDefMutationAppliers||[],dateSelectionTransformers:s.dateSelectionTransformers||[],datePointTransforms:s.datePointTransforms||[],dateSpanTransforms:s.dateSpanTransforms||[],views:s.views||{},viewPropsTransformers:s.viewPropsTransformers||[],isPropsValid:s.isPropsValid||null,externalDefTransforms:s.externalDefTransforms||[],viewContainerAppends:s.viewContainerAppends||[],eventDropTransformers:s.eventDropTransformers||[],componentInteractions:s.componentInteractions||[],calendarInteractions:s.calendarInteractions||[],themeClasses:s.themeClasses||{},eventSourceDefs:s.eventSourceDefs||[],cmdFormatter:s.cmdFormatter,recurringTypes:s.recurringTypes||[],namedTimeZonedImpl:s.namedTimeZonedImpl,initialView:s.initialView||"",elementDraggingImpl:s.elementDraggingImpl,optionChangeHandlers:s.optionChangeHandlers||{},scrollGridImpl:s.scrollGridImpl||null,listenerRefiners:s.listenerRefiners||{},optionRefiners:s.optionRefiners||{},propSetHandlers:s.propSetHandlers||{}}}function Uke(s,t){let a={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function n(i){for(let l of i){const c=l.name,o=a[c];o===void 0?(a[c]=l.id,n(l.deps),r=Gke(r,l)):o!==l.id&&console.warn(`Duplicate plugin '${c}'`)}}return s&&n(s),n(t),r}function qke(){let s=[],t=[],a;return(r,n)=>((!a||!_d(r,s)||!_d(n,t))&&(a=Uke(r,n)),s=r,t=n,a)}function Gke(s,t){return{premiumReleaseDate:Vke(s.premiumReleaseDate,t.premiumReleaseDate),reducers:s.reducers.concat(t.reducers),isLoadingFuncs:s.isLoadingFuncs.concat(t.isLoadingFuncs),contextInit:s.contextInit.concat(t.contextInit),eventRefiners:Object.assign(Object.assign({},s.eventRefiners),t.eventRefiners),eventDefMemberAdders:s.eventDefMemberAdders.concat(t.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},s.eventSourceRefiners),t.eventSourceRefiners),isDraggableTransformers:s.isDraggableTransformers.concat(t.isDraggableTransformers),eventDragMutationMassagers:s.eventDragMutationMassagers.concat(t.eventDragMutationMassagers),eventDefMutationAppliers:s.eventDefMutationAppliers.concat(t.eventDefMutationAppliers),dateSelectionTransformers:s.dateSelectionTransformers.concat(t.dateSelectionTransformers),datePointTransforms:s.datePointTransforms.concat(t.datePointTransforms),dateSpanTransforms:s.dateSpanTransforms.concat(t.dateSpanTransforms),views:Object.assign(Object.assign({},s.views),t.views),viewPropsTransformers:s.viewPropsTransformers.concat(t.viewPropsTransformers),isPropsValid:t.isPropsValid||s.isPropsValid,externalDefTransforms:s.externalDefTransforms.concat(t.externalDefTransforms),viewContainerAppends:s.viewContainerAppends.concat(t.viewContainerAppends),eventDropTransformers:s.eventDropTransformers.concat(t.eventDropTransformers),calendarInteractions:s.calendarInteractions.concat(t.calendarInteractions),componentInteractions:s.componentInteractions.concat(t.componentInteractions),themeClasses:Object.assign(Object.assign({},s.themeClasses),t.themeClasses),eventSourceDefs:s.eventSourceDefs.concat(t.eventSourceDefs),cmdFormatter:t.cmdFormatter||s.cmdFormatter,recurringTypes:s.recurringTypes.concat(t.recurringTypes),namedTimeZonedImpl:t.namedTimeZonedImpl||s.namedTimeZonedImpl,initialView:s.initialView||t.initialView,elementDraggingImpl:s.elementDraggingImpl||t.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},s.optionChangeHandlers),t.optionChangeHandlers),scrollGridImpl:t.scrollGridImpl||s.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},s.listenerRefiners),t.listenerRefiners),optionRefiners:Object.assign(Object.assign({},s.optionRefiners),t.optionRefiners),propSetHandlers:Object.assign(Object.assign({},s.propSetHandlers),t.propSetHandlers)}}function Vke(s,t){return s===void 0?t:t===void 0?s:new Date(Math.max(s.valueOf(),t.valueOf()))}class Bd extends ey{}Bd.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Bd.prototype.baseIconClass="fc-icon";Bd.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Bd.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Bd.prototype.iconOverrideOption="buttonIcons";Bd.prototype.iconOverrideCustomButtonOption="icon";Bd.prototype.iconOverridePrefix="fc-icon-";function Wke(s,t){let a={},r;for(r in s)E_(r,a,s,t);for(r in t)E_(r,a,s,t);return a}function E_(s,t,a,r){if(t[s])return t[s];let n=Yke(s,t,a,r);return n&&(t[s]=n),n}function Yke(s,t,a,r){let n=a[s],i=r[s],l=d=>n&&n[d]!==null?n[d]:i&&i[d]!==null?i[d]:null,c=l("component"),o=l("superType"),u=null;if(o){if(o===s)throw new Error("Can't have a custom view type that references itself");u=E_(o,t,a,r)}return!c&&u&&(c=u.component),c?{type:s,component:c,defaults:Object.assign(Object.assign({},u?u.defaults:{}),n?n.rawOptions:{}),overrides:Object.assign(Object.assign({},u?u.overrides:{}),i?i.rawOptions:{})}:null}function IP(s){return Zc(s,Kke)}function Kke(s){let t=typeof s=="function"?{component:s}:s,{component:a}=t;return t.content?a=BP(t):a&&!(a.prototype instanceof ks)&&(a=BP(Object.assign(Object.assign({},t),{content:a}))),{superType:t.type,component:a,rawOptions:t}}function BP(s){return t=>be(lo.Consumer,null,a=>be(Vr,{elTag:"div",elClasses:WU(a.viewSpec),renderProps:Object.assign(Object.assign({},t),{nextDayThreshold:a.options.nextDayThreshold}),generatorName:void 0,customGenerator:s.content,classNameGenerator:s.classNames,didMount:s.didMount,willUnmount:s.willUnmount}))}function Qke(s,t,a,r){let n=IP(s),i=IP(t.views),l=Wke(n,i);return Zc(l,c=>Xke(c,i,t,a,r))}function Xke(s,t,a,r,n){let i=s.overrides.duration||s.defaults.duration||r.duration||a.duration,l=null,c="",o="",u={};if(i&&(l=Zke(i),l)){let p=j_(l);c=p.unit,p.value===1&&(o=c,u=t[c]?t[c].rawOptions:{})}let d=p=>{let j=p.buttonText||{},y=s.defaults.buttonTextKey;return y!=null&&j[y]!=null?j[y]:j[s.type]!=null?j[s.type]:j[o]!=null?j[o]:null},f=p=>{let j=p.buttonHints||{},y=s.defaults.buttonTextKey;return y!=null&&j[y]!=null?j[y]:j[s.type]!=null?j[s.type]:j[o]!=null?j[o]:null};return{type:s.type,component:s.component,duration:l,durationUnit:c,singleUnit:o,optionDefaults:s.defaults,optionOverrides:Object.assign(Object.assign({},u),s.overrides),buttonTextOverride:d(r)||d(a)||s.overrides.buttonText,buttonTextDefault:d(n)||s.defaults.buttonText||d(kp)||s.type,buttonTitleOverride:f(r)||f(a)||s.overrides.buttonHint,buttonTitleDefault:f(n)||s.defaults.buttonHint||f(kp)}}let LP={};function Zke(s){let t=JSON.stringify(s),a=LP[t];return a===void 0&&(a=cs(s),LP[t]=a),a}function Jke(s,t){switch(t.type){case"CHANGE_VIEW_TYPE":s=t.viewType}return s}function eSe(s,t){switch(t.type){case"CHANGE_DATE":return t.dateMarker;default:return s}}function tSe(s,t,a){let r=s.initialDate;return r!=null?t.createMarker(r):a.getDateMarker()}function sSe(s,t){switch(t.type){case"SET_OPTION":return Object.assign(Object.assign({},s),{[t.optionName]:t.rawOptionValue});default:return s}}function aSe(s,t,a,r){let n;switch(t.type){case"CHANGE_VIEW_TYPE":return r.build(t.dateMarker||a);case"CHANGE_DATE":return r.build(t.dateMarker);case"PREV":if(n=r.buildPrev(s,a),n.isValid)return n;break;case"NEXT":if(n=r.buildNext(s,a),n.isValid)return n;break}return s}function rSe(s,t,a){let r=t?t.activeRange:null;return Iq({},hSe(s,a),r,a)}function nSe(s,t,a,r){let n=a?a.activeRange:null;switch(t.type){case"ADD_EVENT_SOURCES":return Iq(s,t.sources,n,r);case"REMOVE_EVENT_SOURCE":return lSe(s,t.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return a?Bq(s,n,r):s;case"FETCH_EVENT_SOURCES":return _4(s,t.sourceIds?HU(t.sourceIds):Lq(s,r),n,t.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return dSe(s,t.sourceId,t.fetchId,t.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return s}}function iSe(s,t,a){let r=t?t.activeRange:null;return _4(s,Lq(s,a),r,!0,a)}function Pq(s){for(let t in s)if(s[t].isFetching)return!0;return!1}function Iq(s,t,a,r){let n={};for(let i of t)n[i.sourceId]=i;return a&&(n=Bq(n,a,r)),Object.assign(Object.assign({},s),n)}function lSe(s,t){return Jh(s,a=>a.sourceId!==t)}function Bq(s,t,a){return _4(s,Jh(s,r=>cSe(r,t,a)),t,!1,a)}function cSe(s,t,a){return Fq(s,a)?!a.options.lazyFetching||!s.fetchRange||s.isFetching||t.start<s.fetchRange.start||t.end>s.fetchRange.end:!s.latestFetchId}function _4(s,t,a,r,n){let i={};for(let l in s){let c=s[l];t[l]?i[l]=oSe(c,a,r,n):i[l]=c}return i}function oSe(s,t,a,r){let{options:n,calendarApi:i}=r,l=r.pluginHooks.eventSourceDefs[s.sourceDefId],c=cu();return l.fetch({eventSource:s,range:t,isRefetch:a,context:r},o=>{let{rawEvents:u}=o;n.eventSourceSuccess&&(u=n.eventSourceSuccess.call(i,u,o.response)||u),s.success&&(u=s.success.call(i,u,o.response)||u),r.dispatch({type:"RECEIVE_EVENTS",sourceId:s.sourceId,fetchId:c,fetchRange:t,rawEvents:u})},o=>{let u=!1;n.eventSourceFailure&&(n.eventSourceFailure.call(i,o),u=!0),s.failure&&(s.failure(o),u=!0),u||console.warn(o.message,o),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:s.sourceId,fetchId:c,fetchRange:t,error:o})}),Object.assign(Object.assign({},s),{isFetching:!0,latestFetchId:c})}function dSe(s,t,a,r){let n=s[t];return n&&a===n.latestFetchId?Object.assign(Object.assign({},s),{[t]:Object.assign(Object.assign({},n),{isFetching:!1,fetchRange:r})}):s}function Lq(s,t){return Jh(s,a=>Fq(a,t))}function hSe(s,t){let a=tq(t),r=[].concat(s.eventSources||[]),n=[];s.initialEvents&&r.unshift(s.initialEvents),s.events&&r.unshift(s.events);for(let i of r){let l=eq(i,t,a);l&&n.push(l)}return n}function Fq(s,t){return!t.pluginHooks.eventSourceDefs[s.sourceDefId].ignoreRange}function uSe(s,t){switch(t.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return t.selection;default:return s}}function mSe(s,t){switch(t.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return t.eventInstanceId;default:return s}}function xSe(s,t){let a;switch(t.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return a=t.state,{affectedEvents:a.affectedEvents,mutatedEvents:a.mutatedEvents,isEvent:a.isEvent};default:return s}}function fSe(s,t){let a;switch(t.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return a=t.state,{affectedEvents:a.affectedEvents,mutatedEvents:a.mutatedEvents,isEvent:a.isEvent};default:return s}}function pSe(s,t,a,r,n){let i=s.headerToolbar?FP(s.headerToolbar,s,t,a,r,n):null,l=s.footerToolbar?FP(s.footerToolbar,s,t,a,r,n):null;return{header:i,footer:l}}function FP(s,t,a,r,n,i){let l={},c=[],o=!1;for(let u in s){let d=s[u],f=gSe(d,t,a,r,n,i);l[u]=f.widgets,c.push(...f.viewsWithButtons),o=o||f.hasTitle}return{sectionWidgets:l,viewsWithButtons:c,hasTitle:o}}function gSe(s,t,a,r,n,i){let l=t.direction==="rtl",c=t.customButtons||{},o=a.buttonText||{},u=t.buttonText||{},d=a.buttonHints||{},f=t.buttonHints||{},p=s?s.split(" "):[],j=[],y=!1;return{widgets:p.map(v=>v.split(",").map(S=>{if(S==="title")return y=!0,{buttonName:S};let C,_,A,D,M,L;if(C=c[S])A=F=>{C.click&&C.click.call(F.target,F,F.target)},(D=r.getCustomButtonIconClass(C))||(D=r.getIconClass(S,l))||(M=C.text),L=C.hint||C.text;else if(_=n[S]){j.push(S),A=()=>{i.changeView(S)},(M=_.buttonTextOverride)||(D=r.getIconClass(S,l))||(M=_.buttonTextDefault);let F=_.buttonTextOverride||_.buttonTextDefault;L=wp(_.buttonTitleOverride||_.buttonTitleDefault||t.viewHint,[F,S],F)}else if(i[S])if(A=()=>{i[S]()},(M=o[S])||(D=r.getIconClass(S,l))||(M=u[S]),S==="prevYear"||S==="nextYear"){let F=S==="prevYear"?"prev":"next";L=wp(d[F]||f[F],[u.year||"year","year"],u[S])}else L=F=>wp(d[S]||f[S],[u[F]||F,F],u[S]);return{buttonName:S,buttonClick:A,buttonIcon:D,buttonText:M,buttonHint:L}})),viewsWithButtons:j,hasTitle:y}}class ySe{constructor(t,a,r){this.type=t,this.getCurrentData=a,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(t){return this.getCurrentData().options[t]}}let jSe={ignoreRange:!0,parseMeta(s){return Array.isArray(s.events)?s.events:null},fetch(s,t){t({rawEvents:s.eventSource.meta})}};const vSe=Zi({name:"array-event-source",eventSourceDefs:[jSe]});let bSe={parseMeta(s){return typeof s.events=="function"?s.events:null},fetch(s,t,a){const{dateEnv:r}=s.context,n=s.eventSource.meta;D2e(n.bind(null,cq(s.range,r)),i=>t({rawEvents:i}),a)}};const NSe=Zi({name:"func-event-source",eventSourceDefs:[bSe]}),wSe={method:String,extraParams:ze,startParam:String,endParam:String,timeZoneParam:String};let kSe={parseMeta(s){return s.url&&(s.format==="json"||!s.format)?{url:s.url,format:"json",method:(s.method||"GET").toUpperCase(),extraParams:s.extraParams,startParam:s.startParam,endParam:s.endParam,timeZoneParam:s.timeZoneParam}:null},fetch(s,t,a){const{meta:r}=s.eventSource,n=_Se(r,s.range,s.context);O2e(r.method,r.url,n).then(([i,l])=>{t({rawEvents:i,response:l})},a)}};const SSe=Zi({name:"json-event-source",eventSourceRefiners:wSe,eventSourceDefs:[kSe]});function _Se(s,t,a){let{dateEnv:r,options:n}=a,i,l,c,o,u={};return i=s.startParam,i==null&&(i=n.startParam),l=s.endParam,l==null&&(l=n.endParam),c=s.timeZoneParam,c==null&&(c=n.timeZoneParam),typeof s.extraParams=="function"?o=s.extraParams():o=s.extraParams||{},Object.assign(u,o),u[i]=r.formatIso(t.start),u[l]=r.formatIso(t.end),r.timeZone!=="local"&&(u[c]=r.timeZone),u}const CSe={daysOfWeek:ze,startTime:cs,endTime:cs,duration:cs,startRecur:ze,endRecur:ze};let ESe={parse(s,t){if(s.daysOfWeek||s.startTime||s.endTime||s.startRecur||s.endRecur){let a={daysOfWeek:s.daysOfWeek||null,startTime:s.startTime||null,endTime:s.endTime||null,startRecur:s.startRecur?t.createMarker(s.startRecur):null,endRecur:s.endRecur?t.createMarker(s.endRecur):null,dateEnv:t},r;return s.duration&&(r=s.duration),!r&&s.startTime&&s.endTime&&(r=q0e(s.endTime,s.startTime)),{allDayGuess:!s.startTime&&!s.endTime,duration:r,typeData:a}}return null},expand(s,t,a){let r=Ed(t,{start:s.startRecur,end:s.endRecur});return r?TSe(s.daysOfWeek,s.startTime,s.dateEnv,a,r):[]}};const ASe=Zi({name:"simple-recurring-event",recurringTypes:[ESe],eventRefiners:CSe});function TSe(s,t,a,r,n){let i=s?HU(s):null,l=Qs(n.start),c=n.end,o=[];for(t&&(t.milliseconds<0?c=Ca(c,1):t.milliseconds>=1e3*60*60*24&&(l=Ca(l,-1)));l<c;){let u;(!i||i[l.getUTCDay()])&&(t?u=r.add(l,t):u=l,o.push(r.createMarker(a.toDate(u)))),l=Ca(l,1)}return o}const MSe=Zi({name:"change-handler",optionChangeHandlers:{events(s,t){zP([s],t)},eventSources:zP}});function zP(s,t){let a=a4(t.getCurrentData().eventSources);if(a.length===1&&s.length===1&&Array.isArray(a[0]._raw)&&Array.isArray(s[0])){t.dispatch({type:"RESET_RAW_EVENTS",sourceId:a[0].sourceId,rawEvents:s[0]});return}let r=[];for(let n of s){let i=!1;for(let l=0;l<a.length;l+=1)if(a[l]._raw===n){a.splice(l,1),i=!0;break}i||r.push(n)}for(let n of a)t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:n.sourceId});for(let n of r)t.calendarApi.addEventSource(n)}function DSe(s,t){t.emitter.trigger("datesSet",Object.assign(Object.assign({},cq(s.activeRange,t.dateEnv)),{view:t.viewApi}))}function OSe(s,t){let{emitter:a}=t;a.hasHandlers("eventsSet")&&a.trigger("eventsSet",Hh(s,t))}const RSe=[vSe,NSe,SSe,ASe,MSe,Zi({name:"misc",isLoadingFuncs:[s=>Pq(s.eventSources)],propSetHandlers:{dateProfile:DSe,eventStore:OSe}})];class $Se{constructor(t,a){this.runTaskOption=t,this.drainedOption=a,this.queue=[],this.delayedRunner=new KA(this.drain.bind(this))}request(t,a){this.queue.push(t),this.delayedRunner.request(a)}pause(t){this.delayedRunner.pause(t)}resume(t,a){this.delayedRunner.resume(t,a)}drain(){let{queue:t}=this;for(;t.length;){let a=[],r;for(;r=t.shift();)this.runTask(r),a.push(r);this.drained(a)}}runTask(t){this.runTaskOption&&this.runTaskOption(t)}drained(t){this.drainedOption&&this.drainedOption(t)}}function PSe(s,t,a){let r;return/^(year|month)$/.test(s.currentRangeUnit)?r=s.currentRange:r=s.activeRange,a.formatRange(r.start,r.end,ca(t.titleFormat||ISe(s)),{isEndExclusive:s.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}function ISe(s){let{currentRangeUnit:t}=s;if(t==="year")return{year:"numeric"};if(t==="month")return{year:"numeric",month:"long"};let a=Yb(s.currentRange.start,s.currentRange.end);return a!==null&&a>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class HP{constructor(){this.resetListeners=new Set}handleInput(t,a){const r=this.dateEnv;if(t!==r&&(typeof a=="function"?this.nowFn=a:r||(this.nowAnchorDate=t.toDate(a?t.createMarker(a):t.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=t,r))for(const n of this.resetListeners.values())n()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(t){this.resetListeners.add(t)}removeResetListener(t){this.resetListeners.delete(t)}}class BSe{constructor(t){this.computeCurrentViewData=Ot(this._computeCurrentViewData),this.organizeRawLocales=Ot(Fke),this.buildLocale=Ot(Rq),this.buildPluginHooks=qke(),this.buildDateEnv=Ot(LSe),this.buildTheme=Ot(FSe),this.parseToolbars=Ot(pSe),this.buildViewSpecs=Ot(Qke),this.buildDateProfileGenerator=Iv(zSe),this.buildViewApi=Ot(HSe),this.buildViewUiProps=Iv(GSe),this.buildEventUiBySource=Ot(USe,Gi),this.buildEventUiBases=Ot(qSe),this.parseContextBusinessHours=Iv(VSe),this.buildTitle=Ot(PSe),this.nowManager=new HP,this.emitter=new w1,this.actionRunner=new $Se(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=p=>{this.actionRunner.request(p)},this.props=t,this.actionRunner.pause(),this.nowManager=new HP;let a={},r=this.computeOptionsData(t.optionOverrides,a,t.calendarApi),n=r.calendarOptions.initialView||r.pluginHooks.initialView,i=this.computeCurrentViewData(n,r,t.optionOverrides,a);t.calendarApi.currentDataManager=this,this.emitter.setThisContext(t.calendarApi),this.emitter.setOptions(i.options);let l={nowManager:this.nowManager,dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},c=tSe(r.calendarOptions,r.dateEnv,this.nowManager),o=i.dateProfileGenerator.build(c);Bc(o.activeRange,c)||(c=o.currentRange.start);for(let p of r.pluginHooks.contextInit)p(l);let u=rSe(r.calendarOptions,o,l),d={dynamicOptionOverrides:a,currentViewType:n,currentDate:c,dateProfile:o,businessHours:this.parseContextBusinessHours(l),eventSources:u,eventUiBases:{},eventStore:Un(),renderableEventStore:Un(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(l).selectionConfig},f=Object.assign(Object.assign({},l),d);for(let p of r.pluginHooks.reducers)Object.assign(d,p(null,null,f));Ik(d,l)&&this.emitter.trigger("loading",!0),this.state=d,this.updateData(),this.actionRunner.resume()}resetOptions(t,a){let{props:r}=this;a===void 0?r.optionOverrides=t:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),t),this.optionsForRefining.push(...a)),(a===void 0||a.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(t){let{props:a,state:r,emitter:n}=this,i=sSe(r.dynamicOptionOverrides,t),l=this.computeOptionsData(a.optionOverrides,i,a.calendarApi),c=Jke(r.currentViewType,t),o=this.computeCurrentViewData(c,l,a.optionOverrides,i);a.calendarApi.currentDataManager=this,n.setThisContext(a.calendarApi),n.setOptions(o.options);let u={nowManager:this.nowManager,dateEnv:l.dateEnv,options:l.calendarOptions,pluginHooks:l.pluginHooks,calendarApi:a.calendarApi,dispatch:this.dispatch,emitter:n,getCurrentData:this.getCurrentData},{currentDate:d,dateProfile:f}=r;this.data&&this.data.dateProfileGenerator!==o.dateProfileGenerator&&(f=o.dateProfileGenerator.build(d)),d=eSe(d,t),f=aSe(f,t,d,o.dateProfileGenerator),(t.type==="PREV"||t.type==="NEXT"||!Bc(f.currentRange,d))&&(d=f.currentRange.start);let p=nSe(r.eventSources,t,f,u),j=n2e(r.eventStore,t,p,f,u),k=Pq(p)&&!o.options.progressiveEventRendering&&r.renderableEventStore||j,{eventUiSingleBase:v,selectionConfig:S}=this.buildViewUiProps(u),C=this.buildEventUiBySource(p),_=this.buildEventUiBases(k.defs,v,C),A={dynamicOptionOverrides:i,currentViewType:c,currentDate:d,dateProfile:f,eventSources:p,eventStore:j,renderableEventStore:k,selectionConfig:S,eventUiBases:_,businessHours:this.parseContextBusinessHours(u),dateSelection:uSe(r.dateSelection,t),eventSelection:mSe(r.eventSelection,t),eventDrag:xSe(r.eventDrag,t),eventResize:fSe(r.eventResize,t)},D=Object.assign(Object.assign({},u),A);for(let F of l.pluginHooks.reducers)Object.assign(A,F(r,t,D));let M=Ik(r,u),L=Ik(A,u);!M&&L?n.trigger("loading",!0):M&&!L&&n.trigger("loading",!1),this.state=A,a.onAction&&a.onAction(t)}updateData(){let{props:t,state:a}=this,r=this.data,n=this.computeOptionsData(t.optionOverrides,a.dynamicOptionOverrides,t.calendarApi),i=this.computeCurrentViewData(a.currentViewType,n,t.optionOverrides,a.dynamicOptionOverrides),l=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(a.dateProfile,i.options,n.dateEnv),calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},n),i),a),c=n.pluginHooks.optionChangeHandlers,o=r&&r.calendarOptions,u=n.calendarOptions;if(o&&o!==u){o.timeZone!==u.timeZone&&(a.eventSources=l.eventSources=iSe(l.eventSources,a.dateProfile,l),a.eventStore=l.eventStore=DP(l.eventStore,r.dateEnv,l.dateEnv),a.renderableEventStore=l.renderableEventStore=DP(l.renderableEventStore,r.dateEnv,l.dateEnv));for(let d in c)(this.optionsForHandling.indexOf(d)!==-1||o[d]!==u[d])&&c[d](u[d],l)}this.optionsForHandling=[],t.onData&&t.onData(l)}computeOptionsData(t,a,r){if(!this.optionsForRefining.length&&t===this.stableOptionOverrides&&a===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:n,pluginHooks:i,localeDefaults:l,availableLocaleData:c,extra:o}=this.processRawCalendarOptions(t,a);UP(o);let u=this.buildDateEnv(n.timeZone,n.locale,n.weekNumberCalculation,n.firstDay,n.weekText,i,c,n.defaultRangeSeparator),d=this.buildViewSpecs(i.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,l),f=this.buildTheme(n,i),p=this.parseToolbars(n,this.stableOptionOverrides,f,d,r);return this.stableCalendarOptionsData={calendarOptions:n,pluginHooks:i,dateEnv:u,viewSpecs:d,theme:f,toolbarConfig:p,localeDefaults:l,availableRawLocales:c.map}}processRawCalendarOptions(t,a){let{locales:r,locale:n}=Ek([kp,t,a]),i=this.organizeRawLocales(r),l=i.map,c=this.buildLocale(n||i.defaultCode,l).options,o=this.buildPluginHooks(t.plugins||[],RSe),u=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},_P),CP),EP),o.listenerRefiners),o.optionRefiners),d={},f=Ek([kp,c,t,a]),p={},j=this.currentCalendarOptionsInput,y=this.currentCalendarOptionsRefined,k=!1;for(let v in f)this.optionsForRefining.indexOf(v)===-1&&(f[v]===j[v]||bh[v]&&v in j&&bh[v](j[v],f[v]))?p[v]=y[v]:u[v]?(p[v]=u[v](f[v]),k=!0):d[v]=j[v];return k&&(this.currentCalendarOptionsInput=f,this.currentCalendarOptionsRefined=p,this.stableOptionOverrides=t,this.stableDynamicOptionOverrides=a),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:o,availableLocaleData:i,localeDefaults:c,extra:d}}_computeCurrentViewData(t,a,r,n){let i=a.viewSpecs[t];if(!i)throw new Error(`viewType "${t}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:l,extra:c}=this.processRawViewOptions(i,a.pluginHooks,a.localeDefaults,r,n);UP(c),this.nowManager.handleInput(a.dateEnv,l.now);let o=this.buildDateProfileGenerator({dateProfileGeneratorClass:i.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:i.duration,durationUnit:i.durationUnit,usesMinMaxTime:i.optionDefaults.usesMinMaxTime,dateEnv:a.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:l.slotMinTime,slotMaxTime:l.slotMaxTime,showNonCurrentDates:l.showNonCurrentDates,dayCount:l.dayCount,dateAlignment:l.dateAlignment,dateIncrement:l.dateIncrement,hiddenDays:l.hiddenDays,weekends:l.weekends,validRangeInput:l.validRange,visibleRangeInput:l.visibleRange,fixedWeekCount:l.fixedWeekCount}),u=this.buildViewApi(t,this.getCurrentData,a.dateEnv);return{viewSpec:i,options:l,dateProfileGenerator:o,viewApi:u}}processRawViewOptions(t,a,r,n,i){let l=Ek([kp,t.optionDefaults,r,n,t.optionOverrides,i]),c=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},_P),CP),EP),wwe),a.listenerRefiners),a.optionRefiners),o={},u=this.currentViewOptionsInput,d=this.currentViewOptionsRefined,f=!1,p={};for(let j in l)l[j]===u[j]||bh[j]&&bh[j](l[j],u[j])?o[j]=d[j]:(l[j]===this.currentCalendarOptionsInput[j]||bh[j]&&bh[j](l[j],this.currentCalendarOptionsInput[j])?j in this.currentCalendarOptionsRefined&&(o[j]=this.currentCalendarOptionsRefined[j]):c[j]?o[j]=c[j](l[j]):p[j]=l[j],f=!0);return f&&(this.currentViewOptionsInput=l,this.currentViewOptionsRefined=o),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:p}}}function LSe(s,t,a,r,n,i,l,c){let o=Rq(t||l.defaultCode,l.map);return new Owe({calendarSystem:"gregory",timeZone:s,namedTimeZoneImpl:i.namedTimeZonedImpl,locale:o,weekNumberCalculation:a,firstDay:r,weekText:n,cmdFormatter:i.cmdFormatter,defaultSeparator:c})}function FSe(s,t){let a=t.themeClasses[s.themeSystem]||Bd;return new a(s)}function zSe(s){let t=s.dateProfileGeneratorClass||KU;return new t(s)}function HSe(s,t,a){return new ySe(s,t,a)}function USe(s){return Zc(s,t=>t.ui)}function qSe(s,t,a){let r={"":t};for(let n in s){let i=s[n];i.sourceId&&a[i.sourceId]&&(r[n]=a[i.sourceId])}return r}function GSe(s){let{options:t}=s;return{eventUiSingleBase:eN({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:typeof t.eventOverlap=="boolean"?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},s),selectionConfig:eN({constraint:t.selectConstraint,overlap:typeof t.selectOverlap=="boolean"?t.selectOverlap:void 0,allow:t.selectAllow},s)}}function Ik(s,t){for(let a of t.pluginHooks.isLoadingFuncs)if(a(s))return!0;return!1}function VSe(s){return x2e(s.options.businessHours,s)}function UP(s,t){for(let a in s)console.warn(`Unknown option '${a}'`)}class WSe extends ks{render(){let t=this.props.widgetGroups.map(a=>this.renderWidgetGroup(a));return be("div",{className:"fc-toolbar-chunk"},...t)}renderWidgetGroup(t){let{props:a}=this,{theme:r}=this.context,n=[],i=!0;for(let l of t){let{buttonName:c,buttonClick:o,buttonText:u,buttonIcon:d,buttonHint:f}=l;if(c==="title")i=!1,n.push(be("h2",{className:"fc-toolbar-title",id:a.titleId},a.title));else{let p=c===a.activeButton,j=!a.isTodayEnabled&&c==="today"||!a.isPrevEnabled&&c==="prev"||!a.isNextEnabled&&c==="next",y=[`fc-${c}-button`,r.getClass("button")];p&&y.push(r.getClass("buttonActive")),n.push(be("button",{type:"button",title:typeof f=="function"?f(a.navUnit):f,disabled:j,"aria-pressed":p,className:y.join(" "),onClick:o},u||(d?be("span",{className:d,role:"img"}):"")))}}if(n.length>1){let l=i&&r.getClass("buttonGroup")||"";return be("div",{className:l},...n)}return n[0]}}class qP extends ks{render(){let{model:t,extraClassName:a}=this.props,r=!1,n,i,l=t.sectionWidgets,c=l.center;return l.left?(r=!0,n=l.left):n=l.start,l.right?(r=!0,i=l.right):i=l.end,be("div",{className:[a||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",n||[]),this.renderSection("center",c||[]),this.renderSection("end",i||[]))}renderSection(t,a){let{props:r}=this;return be(WSe,{key:t,widgetGroups:a,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class YSe extends ks{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=t=>{this.el=t,zl(this.props.elRef,t),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:t,state:a}=this,{aspectRatio:r}=t,n=["fc-view-harness",r||t.liquid||t.height?"fc-view-harness-active":"fc-view-harness-passive"],i="",l="";return r?a.availableWidth!==null?i=a.availableWidth/r:l=`${1/r*100}%`:i=t.height||"",be("div",{"aria-labelledby":t.labeledById,ref:this.handleEl,className:n.join(" "),style:{height:i,paddingBottom:l}},t.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class KSe extends Cx{constructor(t){super(t),this.handleSegClick=(a,r)=>{let{component:n}=this,{context:i}=n,l=Ym(r);if(l&&n.isValidSegDownEl(a.target)){let c=Fr(a.target,".fc-event-forced-url"),o=c?c.querySelector("a[href]").href:"";i.emitter.trigger("eventClick",{el:r,event:new ma(n.context,l.eventRange.def,l.eventRange.instance),jsEvent:a,view:i.viewApi}),o&&!a.defaultPrevented&&(window.location.href=o)}},this.destroy=IU(t.el,"click",".fc-event",this.handleSegClick)}}class QSe extends Cx{constructor(t){super(t),this.handleEventElRemove=a=>{a===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(a,r)=>{Ym(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",a,r))},this.handleSegLeave=(a,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",a,r))},this.removeHoverListeners=A0e(t.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(t,a,r){let{component:n}=this,{context:i}=n,l=Ym(r);(!a||n.isValidSegDownEl(a.target))&&i.emitter.trigger(t,{el:r,event:new ma(i,l.eventRange.def,l.eventRange.instance),jsEvent:a,view:i.viewApi})}}class XSe extends ou{constructor(){super(...arguments),this.buildViewContext=Ot(Pwe),this.buildViewPropTransformers=Ot(JSe),this.buildToolbarProps=Ot(ZSe),this.headerRef=rn(),this.footerRef=rn(),this.interactionsStore={},this.state={viewLabelId:yd()},this.registerInteractiveComponent=(t,a)=>{let r=P2e(t,a),l=[KSe,QSe].concat(this.props.pluginHooks.componentInteractions).map(c=>new c(r));this.interactionsStore[t.uid]=l,k_[t.uid]=r},this.unregisterInteractiveComponent=t=>{let a=this.interactionsStore[t.uid];if(a){for(let r of a)r.destroy();delete this.interactionsStore[t.uid]}delete k_[t.uid]},this.resizeRunner=new KA(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=t=>{let{options:a}=this.props;a.handleWindowResize&&t.target===window&&this.resizeRunner.request(a.windowResizeDelay)}}render(){let{props:t}=this,{toolbarConfig:a,options:r}=t,n=!1,i="",l;t.isHeightAuto||t.forPrint?i="":r.height!=null?n=!0:r.contentHeight!=null?i=r.contentHeight:l=Math.max(r.aspectRatio,.5);let c=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.nowManager,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),o=a.header&&a.header.hasTitle?this.state.viewLabelId:void 0;return be(lo.Provider,{value:c},be(du,{unit:"day"},u=>{let d=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,u,t.viewTitle);return be(Us,null,a.header&&be(qP,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:a.header,titleId:o},d)),be(YSe,{liquid:n,height:i,aspectRatio:l,labeledById:o},this.renderView(t),this.buildAppendContent()),a.footer&&be(qP,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:a.footer,titleId:""},d)))}))}componentDidMount(){let{props:t}=this;this.calendarInteractions=t.pluginHooks.calendarInteractions.map(r=>new r(t)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:a}=t.pluginHooks;for(let r in a)a[r](t[r],t)}componentDidUpdate(t){let{props:a}=this,{propSetHandlers:r}=a.pluginHooks;for(let n in r)a[n]!==t[n]&&r[n](a[n],a)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let t of this.calendarInteractions)t.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:t}=this,a=t.pluginHooks.viewContainerAppends.map(r=>r(t));return be(Us,{},...a)}renderView(t){let{pluginHooks:a}=t,{viewSpec:r}=t,n={dateProfile:t.dateProfile,businessHours:t.businessHours,eventStore:t.renderableEventStore,eventUiBases:t.eventUiBases,dateSelection:t.dateSelection,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,isHeightAuto:t.isHeightAuto,forPrint:t.forPrint},i=this.buildViewPropTransformers(a.viewPropsTransformers);for(let c of i)Object.assign(n,c.transform(n,t));let l=r.component;return be(l,Object.assign({},n))}}function ZSe(s,t,a,r,n,i){let l=a.build(n,void 0,!1),c=a.buildPrev(t,r,!1),o=a.buildNext(t,r,!1);return{title:i,activeButton:s.type,navUnit:s.singleUnit,isTodayEnabled:l.isValid&&!Bc(t.currentRange,n),isPrevEnabled:c.isValid,isNextEnabled:o.isValid}}function JSe(s){return s.map(t=>new t)}class e_e extends B2e{constructor(t,a={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;Zb(()=>{eg(be($2e,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(n,i,l,c)=>(this.setClassNames(n),this.setHeight(i),be(VU.Provider,{value:this.customContentRenderId},be(XSe,Object.assign({isHeightAuto:l,forPrint:c},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,eg(null,this.el),this.setClassNames([]),this.setHeight(""))},v0e(t),this.el=t,this.renderRunner=new KA(this.handleRenderRequest),new BSe({optionOverrides:a,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let t=this.isRendering;t?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),t&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Zb(()=>{super.updateSize()})}batchRendering(t){this.renderRunner.pause("batchRendering"),t(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(t,a){this.currentDataManager.resetOptions(t,a)}setClassNames(t){if(!_d(t,this.currentClassNames)){let{classList:a}=this.el;for(let r of this.currentClassNames)a.remove(r);for(let r of t)a.add(r);this.currentClassNames=t}}setHeight(t){$U(this.el,"height",t)}}const t_e=parseInt(String(Fs.version).split(".")[0]),s_e=t_e<18;class C4 extends x.Component{constructor(){super(...arguments),this.elRef=x.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const t=[];for(const a of this.state.customRenderingMap.values())t.push(Fs.createElement(a_e,{key:a.id,customRendering:a}));return Fs.createElement("div",{ref:this.elRef},t)}componentDidMount(){this.isUnmounting=!1;const t=new Bke;this.handleCustomRendering=t.handle.bind(t),this.calendar=new e_e(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Ep.flushSync(()=>{})});let a;t.subscribe(r=>{const n=Date.now(),i=!a;(s_e||i||this.isUpdating||this.isUnmounting||n-a<100?zq:Ep.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{a=n,i?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}C4.act=zq;class a_e extends x.PureComponent{render(){const{customRendering:t}=this.props,{generatorMeta:a}=t,r=typeof a=="function"?a(t.renderProps):a;return Ep.createPortal(r,t.containerEl)}}function zq(s){s()}class r_e extends Xi{constructor(){super(...arguments),this.headerElRef=rn()}renderSimpleLayout(t,a){let{props:r,context:n}=this,i=[],l=sN(n.options);return t&&i.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),i.push({type:"body",key:"body",liquid:!0,chunk:{content:a}}),be(tg,{elClasses:["fc-daygrid"],viewSpec:n.viewSpec},be(b4,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:i}))}renderHScrollLayout(t,a,r,n){let i=this.context.pluginHooks.scrollGridImpl;if(!i)throw new Error("No ScrollGrid implementation");let{props:l,context:c}=this,o=!l.forPrint&&sN(c.options),u=!l.forPrint&&_q(c.options),d=[];return t&&d.push({type:"header",key:"header",isSticky:o,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),d.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:a}]}),u&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:C_}]}),be(tg,{elClasses:["fc-daygrid"],viewSpec:c.viewSpec},be(i,{liquid:!l.isHeightAuto&&!l.forPrint,forPrint:l.forPrint,collapsibleWidth:l.forPrint,colGroups:[{cols:[{span:r,minWidth:n}]}],sections:d}))}}function Lv(s,t){let a=[];for(let r=0;r<t;r+=1)a[r]=[];for(let r of s)a[r.row].push(r);return a}function Nv(s,t){let a=[];for(let r=0;r<t;r+=1)a[r]=[];for(let r of s)a[r.firstCol].push(r);return a}function GP(s,t){let a=[];if(s){for(let r=0;r<t;r+=1)a[r]={affectedInstances:s.affectedInstances,isEvent:s.isEvent,segs:[]};for(let r of s.segs)a[r.row].segs.push(r)}else for(let r=0;r<t;r+=1)a[r]=null;return a}const Hq=ca({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Uq(s){let{display:t}=s.eventRange.ui;return t==="list-item"||t==="auto"&&!s.eventRange.def.allDay&&s.firstCol===s.lastCol&&s.isStart&&s.isEnd}class qq extends ks{render(){let{props:t}=this;return be(N4,Object.assign({},t,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Hq,defaultDisplayEventEnd:t.defaultDisplayEventEnd,disableResizing:!t.seg.eventRange.def.allDay}))}}class Gq extends ks{render(){let{props:t,context:a}=this,{options:r}=a,{seg:n}=t,i=r.eventTimeFormat||Hq,l=Sp(n,i,a,!0,t.defaultDisplayEventEnd);return be(S1,Object.assign({},t,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:x4(t.seg,a),defaultGenerator:n_e,timeText:l,isResizing:!1,isDateSelecting:!1}))}}function n_e(s){return be(Us,null,be("div",{className:"fc-daygrid-event-dot",style:{borderColor:s.borderColor||s.backgroundColor}}),s.timeText&&be("div",{className:"fc-event-time"},s.timeText),be("div",{className:"fc-event-title"},s.event.title||be(Us,null," ")))}class i_e extends ks{constructor(){super(...arguments),this.compileSegs=Ot(l_e)}render(){let{props:t}=this,{allSegs:a,invisibleSegs:r}=this.compileSegs(t.singlePlacements);return be(Tq,{elClasses:["fc-daygrid-more-link"],dateProfile:t.dateProfile,todayRange:t.todayRange,allDayDate:t.allDayDate,moreCnt:t.moreCnt,allSegs:a,hiddenSegs:r,alignmentElRef:t.alignmentElRef,alignGridTop:t.alignGridTop,extraDateSpan:t.extraDateSpan,popoverContent:()=>{let n=(t.eventDrag?t.eventDrag.affectedInstances:null)||(t.eventResize?t.eventResize.affectedInstances:null)||{};return be(Us,null,a.map(i=>{let l=i.eventRange.instance.instanceId;return be("div",{className:"fc-daygrid-event-harness",key:l,style:{visibility:n[l]?"hidden":""}},Uq(i)?be(Gq,Object.assign({seg:i,isDragging:!1,isSelected:l===t.eventSelection,defaultDisplayEventEnd:!1},Lc(i,t.todayRange))):be(qq,Object.assign({seg:i,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===t.eventSelection,defaultDisplayEventEnd:!1},Lc(i,t.todayRange))))}))}})}}function l_e(s){let t=[],a=[];for(let r of s)t.push(r.seg),r.isVisible||a.push(r.seg);return{allSegs:t,invisibleSegs:a}}const c_e=ca({week:"narrow"});class o_e extends Xi{constructor(){super(...arguments),this.rootElRef=rn(),this.state={dayNumberId:yd()},this.handleRootEl=t=>{zl(this.rootElRef,t),zl(this.props.elRef,t)}}render(){let{context:t,props:a,state:r,rootElRef:n}=this,{options:i,dateEnv:l}=t,{date:c,dateProfile:o}=a;const u=a.showDayNumber&&h_e(c,o.currentRange,l);return be(k4,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...a.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},a.extraDataAttrs),a.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:d_e,date:c,dateProfile:o,todayRange:a.todayRange,showDayNumber:a.showDayNumber,isMonthStart:u,extraRenderProps:a.extraRenderProps},(d,f)=>be("div",{ref:a.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:a.minHeight}},a.showWeekNumber&&be(Aq,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Km(t,c,"week"),date:c,defaultFormat:c_e}),!f.isDisabled&&(a.showDayNumber||S4(i)||a.forceDayTop)?be("div",{className:"fc-daygrid-day-top"},be(d,{elTag:"a",elClasses:["fc-daygrid-day-number",u&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Km(t,c)),{id:r.dayNumberId})})):a.showDayNumber?be("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},be("a",{className:"fc-daygrid-day-number"}," ")):void 0,be("div",{className:"fc-daygrid-day-events",ref:a.fgContentElRef},a.fgContent,be("div",{className:"fc-daygrid-day-bottom",style:{marginTop:a.moreMarginTop}},be(i_e,{allDayDate:c,singlePlacements:a.singlePlacements,moreCnt:a.moreCnt,alignmentElRef:n,alignGridTop:!a.showDayNumber,extraDateSpan:a.extraDateSpan,dateProfile:a.dateProfile,eventSelection:a.eventSelection,eventDrag:a.eventDrag,eventResize:a.eventResize,todayRange:a.todayRange}))),be("div",{className:"fc-daygrid-day-bg"},a.bgContent)))}}function d_e(s){return s.dayNumberText||be(Us,null," ")}function h_e(s,t,a){const{start:r,end:n}=t,i=Cd(n,-1),l=a.getYear(r),c=a.getMonth(r),o=a.getYear(i),u=a.getMonth(i);return!(l===o&&c===u)&&(s.valueOf()===r.valueOf()||a.getDay(s)===1&&s.valueOf()<n.valueOf())}function Vq(s){return s.eventRange.instance.instanceId+":"+s.firstCol}function Wq(s){return Vq(s)+":"+s.lastCol}function u_e(s,t,a,r,n,i,l){let c=new f_e(S=>{let C=s[S.index].eventRange.instance.instanceId+":"+S.span.start+":"+(S.span.end-1);return n[C]||1});c.allowReslicing=!0,c.strictOrder=r,t===!0||a===!0?(c.maxCoord=i,c.hiddenConsumes=!0):typeof t=="number"?c.maxStackCnt=t:typeof a=="number"&&(c.maxStackCnt=a,c.hiddenConsumes=!0);let o=[],u=[];for(let S=0;S<s.length;S+=1){let C=s[S],_=Wq(C);n[_]!=null?o.push({index:S,span:{start:C.firstCol,end:C.lastCol+1}}):u.push(C)}let d=c.addSegs(o),f=c.toRects(),{singleColPlacements:p,multiColPlacements:j,leftoverMargins:y}=m_e(f,s,l),k=[],v=[];for(let S of u){j[S.firstCol].push({seg:S,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let C=S.firstCol;C<=S.lastCol;C+=1)p[C].push({seg:Cm(S,C,C+1,l),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let S=0;S<l.length;S+=1)k.push(0);for(let S of d){let C=s[S.index],_=S.span;j[_.start].push({seg:Cm(C,_.start,_.end,l),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let A=_.start;A<_.end;A+=1)k[A]+=1,p[A].push({seg:Cm(C,A,A+1,l),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let S=0;S<l.length;S+=1)v.push(y[S]);return{singleColPlacements:p,multiColPlacements:j,moreCnts:k,moreMarginTops:v}}function m_e(s,t,a){let r=x_e(s,a.length),n=[],i=[],l=[];for(let c=0;c<a.length;c+=1){let o=r[c],u=[],d=0,f=0;for(let j of o){let y=t[j.index];u.push({seg:Cm(y,c,c+1,a),isVisible:!0,isAbsolute:!1,absoluteTop:j.levelCoord,marginTop:j.levelCoord-d}),d=j.levelCoord+j.thickness}let p=[];d=0,f=0;for(let j of o){let y=t[j.index],k=j.span.end-j.span.start>1,v=j.span.start===c;f+=j.levelCoord-d,d=j.levelCoord+j.thickness,k?(f+=j.thickness,v&&p.push({seg:Cm(y,j.span.start,j.span.end,a),isVisible:!0,isAbsolute:!0,absoluteTop:j.levelCoord,marginTop:0})):v&&(p.push({seg:Cm(y,j.span.start,j.span.end,a),isVisible:!0,isAbsolute:!1,absoluteTop:j.levelCoord,marginTop:f}),f=0)}n.push(u),i.push(p),l.push(f)}return{singleColPlacements:n,multiColPlacements:i,leftoverMargins:l}}function x_e(s,t){let a=[];for(let r=0;r<t;r+=1)a.push([]);for(let r of s)for(let n=r.span.start;n<r.span.end;n+=1)a[n].push(r);return a}function Cm(s,t,a,r){if(s.firstCol===t&&s.lastCol===a-1)return s;let n=s.eventRange,i=n.range,l=Ed(i,{start:r[t].date,end:Ca(r[a-1].date,1)});return Object.assign(Object.assign({},s),{firstCol:t,lastCol:a-1,eventRange:{def:n.def,ui:Object.assign(Object.assign({},n.ui),{durationEditable:!1}),instance:n.instance,range:l},isStart:s.isStart&&l.start.valueOf()===i.start.valueOf(),isEnd:s.isEnd&&l.end.valueOf()===i.end.valueOf()})}class f_e extends xq{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(t){const a=super.addSegs(t),{entriesByLevel:r}=this,n=i=>!this.forceHidden[Uh(i)];for(let i=0;i<r.length;i+=1)r[i]=r[i].filter(n);return a}handleInvalidInsertion(t,a,r){const{entriesByLevel:n,forceHidden:i}=this,{touchingEntry:l,touchingLevel:c,touchingLateral:o}=t;if(this.hiddenConsumes&&l){const u=Uh(l);if(!i[u])if(this.allowReslicing){const d=Object.assign(Object.assign({},l),{span:j4(l.span,a.span)}),f=Uh(d);i[f]=!0,n[c][o]=d,r.push(d),this.splitEntry(l,a,r)}else i[u]=!0,r.push(l)}super.handleInvalidInsertion(t,a,r)}}class Yq extends Xi{constructor(){super(...arguments),this.cellElRefs=new Mc,this.frameElRefs=new Mc,this.fgElRefs=new Mc,this.segHarnessRefs=new Mc,this.rootElRef=rn(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=t=>{t&&this.updateSizing(!0)}}render(){let{props:t,state:a,context:r}=this,{options:n}=r,i=t.cells.length,l=Nv(t.businessHourSegs,i),c=Nv(t.bgEventSegs,i),o=Nv(this.getHighlightSegs(),i),u=Nv(this.getMirrorSegs(),i),{singleColPlacements:d,multiColPlacements:f,moreCnts:p,moreMarginTops:j}=u_e(m4(t.fgEventSegs,n.eventOrder),t.dayMaxEvents,t.dayMaxEventRows,n.eventOrderStrict,a.segHeights,a.maxContentHeight,t.cells),y=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{};return be("tr",{ref:this.rootElRef,role:"row"},t.renderIntro&&t.renderIntro(),t.cells.map((k,v)=>{let S=this.renderFgSegs(v,t.forPrint?d[v]:f[v],t.todayRange,y),C=this.renderFgSegs(v,p_e(u[v],f),t.todayRange,{},!!t.eventDrag,!!t.eventResize,!1);return be(o_e,{key:k.key,elRef:this.cellElRefs.createRef(k.key),innerElRef:this.frameElRefs.createRef(k.key),dateProfile:t.dateProfile,date:k.date,showDayNumber:t.showDayNumbers,showWeekNumber:t.showWeekNumbers&&v===0,forceDayTop:t.showWeekNumbers,todayRange:t.todayRange,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,extraRenderProps:k.extraRenderProps,extraDataAttrs:k.extraDataAttrs,extraClassNames:k.extraClassNames,extraDateSpan:k.extraDateSpan,moreCnt:p[v],moreMarginTop:j[v],singlePlacements:d[v],fgContentElRef:this.fgElRefs.createRef(k.key),fgContent:be(Us,null,be(Us,null,S),be(Us,null,C)),bgContent:be(Us,null,this.renderFillSegs(o[v],"highlight"),this.renderFillSegs(l[v],"non-business"),this.renderFillSegs(c[v],"bg-event")),minHeight:t.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(t,a){let r=this.props;this.updateSizing(!Gi(t,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:t}=this;return t.eventDrag&&t.eventDrag.segs.length?t.eventDrag.segs:t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:t.dateSelectionSegs}getMirrorSegs(){let{props:t}=this;return t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:[]}renderFgSegs(t,a,r,n,i,l,c){let{context:o}=this,{eventSelection:u}=this.props,{framePositions:d}=this.state,f=this.props.cells.length===1,p=i||l||c,j=[];if(d)for(let y of a){let{seg:k}=y,{instanceId:v}=k.eventRange.instance,S=y.isVisible&&!n[v],C=y.isAbsolute,_="",A="";C&&(o.isRtl?(A=0,_=d.lefts[k.lastCol]-d.lefts[k.firstCol]):(_=0,A=d.rights[k.firstCol]-d.rights[k.lastCol])),j.push(be("div",{className:"fc-daygrid-event-harness"+(C?" fc-daygrid-event-harness-abs":""),key:Vq(k),ref:p?null:this.segHarnessRefs.createRef(Wq(k)),style:{visibility:S?"":"hidden",marginTop:C?"":y.marginTop,top:C?y.absoluteTop:"",left:_,right:A}},Uq(k)?be(Gq,Object.assign({seg:k,isDragging:i,isSelected:v===u,defaultDisplayEventEnd:f},Lc(k,r))):be(qq,Object.assign({seg:k,isDragging:i,isResizing:l,isDateSelecting:c,isSelected:v===u,defaultDisplayEventEnd:f},Lc(k,r)))))}return j}renderFillSegs(t,a){let{isRtl:r}=this.context,{todayRange:n}=this.props,{framePositions:i}=this.state,l=[];if(i)for(let c of t){let o=r?{right:0,left:i.lefts[c.lastCol]-i.lefts[c.firstCol]}:{left:0,right:i.rights[c.firstCol]-i.rights[c.lastCol]};l.push(be("div",{key:lq(c.eventRange),className:"fc-daygrid-bg-harness",style:o},a==="bg-event"?be(Cq,Object.assign({seg:c},Lc(c,n))):Eq(a)))}return be(Us,{},...l)}updateSizing(t){let{props:a,state:r,frameElRefs:n}=this;if(!a.forPrint&&a.clientWidth!==null){if(t){let o=a.cells.map(u=>n.currentMap[u.key]);if(o.length){let u=this.rootElRef.current,d=new Qm(u,o,!0,!1);(!r.framePositions||!r.framePositions.similarTo(d))&&this.setState({framePositions:new Qm(u,o,!0,!1)})}}const i=this.state.segHeights,l=this.querySegHeights(),c=a.dayMaxEvents===!0||a.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},i),l),maxContentHeight:c?this.computeMaxContentHeight():null})}}querySegHeights(){let t=this.segHarnessRefs.currentMap,a={};for(let r in t){let n=Math.round(t[r].getBoundingClientRect().height);a[r]=Math.max(a[r]||0,n)}return a}computeMaxContentHeight(){let t=this.props.cells[0].key,a=this.cellElRefs.currentMap[t],r=this.fgElRefs.currentMap[t];return a.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let t=this.cellElRefs.currentMap;return this.props.cells.map(a=>t[a.key])}}Yq.addStateEquality({segHeights:Gi});function p_e(s,t){if(!s.length)return[];let a=g_e(t);return s.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:a[r.eventRange.instance.instanceId],marginTop:0}))}function g_e(s){let t={};for(let a of s)for(let r of a)t[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return t}class y_e extends Xi{constructor(){super(...arguments),this.splitBusinessHourSegs=Ot(Lv),this.splitBgEventSegs=Ot(j_e),this.splitFgEventSegs=Ot(Lv),this.splitDateSelectionSegs=Ot(Lv),this.splitEventDrag=Ot(GP),this.splitEventResize=Ot(GP),this.rowRefs=new Mc}render(){let{props:t,context:a}=this,r=t.cells.length,n=this.splitBusinessHourSegs(t.businessHourSegs,r),i=this.splitBgEventSegs(t.bgEventSegs,r),l=this.splitFgEventSegs(t.fgEventSegs,r),c=this.splitDateSelectionSegs(t.dateSelectionSegs,r),o=this.splitEventDrag(t.eventDrag,r),u=this.splitEventResize(t.eventResize,r),d=r>=7&&t.clientWidth?t.clientWidth/a.options.aspectRatio/6:null;return be(du,{unit:"day"},(f,p)=>be(Us,null,t.cells.map((j,y)=>be(Yq,{ref:this.rowRefs.createRef(y),key:j.length?j[0].date.toISOString():y,showDayNumbers:r>1,showWeekNumbers:t.showWeekNumbers,todayRange:p,dateProfile:t.dateProfile,cells:j,renderIntro:t.renderRowIntro,businessHourSegs:n[y],eventSelection:t.eventSelection,bgEventSegs:i[y],fgEventSegs:l[y],dateSelectionSegs:c[y],eventDrag:o[y],eventResize:u[y],dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,clientWidth:t.clientWidth,clientHeight:t.clientHeight,cellMinHeight:d,forPrint:t.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const t=this.rowRefs.currentMap[0].getCellEls()[0],a=t?t.closest(".fc-daygrid-body"):null;a&&(this.rootEl=a,this.context.registerInteractiveComponent(this,{el:a,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Qm(this.rootEl,this.rowRefs.collect().map(t=>t.getCellEls()[0]),!1,!0),this.colPositions=new Qm(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(t,a){let{colPositions:r,rowPositions:n}=this,i=r.leftToIndex(t),l=n.topToIndex(a);if(l!=null&&i!=null){let c=this.props.cells[l][i];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(l,i),allDay:!0},c.extraDateSpan),dayEl:this.getCellEl(l,i),rect:{left:r.lefts[i],right:r.rights[i],top:n.tops[l],bottom:n.bottoms[l]},layer:0}}return null}getCellEl(t,a){return this.rowRefs.currentMap[t].getCellEls()[a]}getCellRange(t,a){let r=this.props.cells[t][a].date,n=Ca(r,1);return{start:r,end:n}}}function j_e(s,t){return Lv(s.filter(v_e),t)}function v_e(s){return s.eventRange.def.allDay}class b_e extends Xi{constructor(){super(...arguments),this.elRef=rn(),this.needsScrollReset=!1}render(){let{props:t}=this,{dayMaxEventRows:a,dayMaxEvents:r,expandRows:n}=t,i=r===!0||a===!0;i&&!n&&(i=!1,a=null,r=null);let l=["fc-daygrid-body",i?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",n?"":"fc-daygrid-body-natural"];return be("div",{ref:this.elRef,className:l.join(" "),style:{width:t.clientWidth,minWidth:t.tableMinWidth}},be("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:t.clientWidth,minWidth:t.tableMinWidth,height:n?t.clientHeight:""}},t.colGroupNode,be("tbody",{role:"presentation"},be(y_e,{dateProfile:t.dateProfile,cells:t.cells,renderRowIntro:t.renderRowIntro,showWeekNumbers:t.showWeekNumbers,clientWidth:t.clientWidth,clientHeight:t.clientHeight,businessHourSegs:t.businessHourSegs,bgEventSegs:t.bgEventSegs,fgEventSegs:t.fgEventSegs,dateSelectionSegs:t.dateSelectionSegs,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,dayMaxEvents:r,dayMaxEventRows:a,forPrint:t.forPrint,isHitComboAllowed:t.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(t){t.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const t=N_e(this.elRef.current,this.props.dateProfile);if(t){const a=t.closest(".fc-daygrid-body"),r=a.closest(".fc-scroller"),n=t.getBoundingClientRect().top-a.getBoundingClientRect().top;r.scrollTop=n?n+1:0}this.needsScrollReset=!1}}}function N_e(s,t){let a;return t.currentRangeUnit.match(/year|month/)&&(a=s.querySelector(`[data-date="${iwe(t.currentDate)}-01"]`)),a||(a=s.querySelector(`[data-date="${Jg(t.currentDate)}"]`)),a}class w_e extends vq{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(t,a){return a.sliceRange(t)}}class Kq extends Xi{constructor(){super(...arguments),this.slicer=new w_e,this.tableRef=rn()}render(){let{props:t,context:a}=this;return be(b_e,Object.assign({ref:this.tableRef},this.slicer.sliceProps(t,t.dateProfile,t.nextDayThreshold,a,t.dayTableModel),{dateProfile:t.dateProfile,cells:t.dayTableModel.cells,colGroupNode:t.colGroupNode,tableMinWidth:t.tableMinWidth,renderRowIntro:t.renderRowIntro,dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,showWeekNumbers:t.showWeekNumbers,expandRows:t.expandRows,headerAlignElRef:t.headerAlignElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:t.forPrint}))}}class k_e extends r_e{constructor(){super(...arguments),this.buildDayTableModel=Ot(S_e),this.headerRef=rn(),this.tableRef=rn()}render(){let{options:t,dateProfileGenerator:a}=this.context,{props:r}=this,n=this.buildDayTableModel(r.dateProfile,a),i=t.dayHeaders&&be(gq,{ref:this.headerRef,dateProfile:r.dateProfile,dates:n.headerDates,datesRepDistinctDays:n.rowCnt===1}),l=c=>be(Kq,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:n,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:t.nextDayThreshold,colGroupNode:c.tableColGroupNode,tableMinWidth:c.tableMinWidth,dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,showWeekNumbers:t.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:c.clientWidth,clientHeight:c.clientHeight,forPrint:r.forPrint});return t.dayMinWidth?this.renderHScrollLayout(i,l,n.colCnt,t.dayMinWidth):this.renderSimpleLayout(i,l)}}function S_e(s,t){let a=new yq(s.renderRange,t);return new jq(a,/year|month|week/.test(s.currentRangeUnit))}class __e extends KU{buildRenderRange(t,a,r){let n=super.buildRenderRange(t,a,r),{props:i}=this;return C_e({currentRange:n,snapToWeek:/^(year|month)$/.test(a),fixedWeekCount:i.fixedWeekCount,dateEnv:i.dateEnv})}}function C_e(s){let{dateEnv:t,currentRange:a}=s,{start:r,end:n}=a,i;if(s.snapToWeek&&(r=t.startOfWeek(r),i=t.startOfWeek(n),i.valueOf()!==n.valueOf()&&(n=bP(i,1))),s.fixedWeekCount){let l=t.startOfWeek(t.startOfMonth(Ca(a.end,-1))),c=Math.ceil(K0e(l,n));n=bP(n,6-c)}return{start:r,end:n}}var E_e=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';y1(E_e);var Qq=Zi({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:k_e,dateProfileGeneratorClass:__e},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class A_e extends U2e{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(t){return t.allDay?["allDay"]:["timed"]}getKeysForEventDef(t){return t.allDay?j2e(t)?["timed","allDay"]:["allDay"]:["timed"]}}const T_e=ca({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function Xq(s){let t=["fc-timegrid-slot","fc-timegrid-slot-label",s.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return be(lo.Consumer,null,a=>{if(!s.isLabeled)return be("td",{className:t.join(" "),"data-time":s.isoTimeStr});let{dateEnv:r,options:n,viewApi:i}=a,l=n.slotLabelFormat==null?T_e:Array.isArray(n.slotLabelFormat)?ca(n.slotLabelFormat[0]):ca(n.slotLabelFormat),c={level:0,time:s.time,date:r.toDate(s.date),view:i,text:r.format(s.date,l)};return be(Vr,{elTag:"td",elClasses:t,elAttrs:{"data-time":s.isoTimeStr},renderProps:c,generatorName:"slotLabelContent",customGenerator:n.slotLabelContent,defaultGenerator:M_e,classNameGenerator:n.slotLabelClassNames,didMount:n.slotLabelDidMount,willUnmount:n.slotLabelWillUnmount},o=>be("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},be(o,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function M_e(s){return s.text}class D_e extends ks{render(){return this.props.slatMetas.map(t=>be("tr",{key:t.key},be(Xq,Object.assign({},t))))}}const O_e=ca({week:"short"}),R_e=5;class $_e extends Xi{constructor(){super(...arguments),this.allDaySplitter=new A_e,this.headerElRef=rn(),this.rootElRef=rn(),this.scrollerElRef=rn(),this.state={slatCoords:null},this.handleScrollTopRequest=t=>{let a=this.scrollerElRef.current;a&&(a.scrollTop=t)},this.renderHeadAxis=(t,a="")=>{let{options:r}=this.context,{dateProfile:n}=this.props,i=n.renderRange,c=Id(i.start,i.end)===1?Km(this.context,i.start,"week"):{};return r.weekNumbers&&t==="day"?be(Aq,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:i.start,defaultFormat:O_e},o=>be("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:a}},be(o,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:c}))):be("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},be("div",{className:"fc-timegrid-axis-frame",style:{height:a}}))},this.renderTableRowAxis=t=>{let{options:a,viewApi:r}=this.context,n={text:a.allDayText,view:r};return be(Vr,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:n,generatorName:"allDayContent",customGenerator:a.allDayContent,defaultGenerator:P_e,classNameGenerator:a.allDayClassNames,didMount:a.allDayDidMount,willUnmount:a.allDayWillUnmount},i=>be("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",t==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:t}},be(i,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=t=>{this.setState({slatCoords:t})}}renderSimpleLayout(t,a,r){let{context:n,props:i}=this,l=[],c=sN(n.options);return t&&l.push({type:"header",key:"header",isSticky:c,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),a&&(l.push({type:"body",key:"all-day",chunk:{content:a}}),l.push({type:"body",key:"all-day-divider",outerContent:be("tr",{role:"presentation",className:"fc-scrollgrid-section"},be("td",{className:"fc-timegrid-divider "+n.theme.getClass("tableCellShaded")}))})),l.push({type:"body",key:"body",liquid:!0,expandRows:!!n.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:r}}),be(tg,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:n.viewSpec},be(b4,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[{width:"shrink"}],sections:l}))}renderHScrollLayout(t,a,r,n,i,l,c){let o=this.context.pluginHooks.scrollGridImpl;if(!o)throw new Error("No ScrollGrid implementation");let{context:u,props:d}=this,f=!d.forPrint&&sN(u.options),p=!d.forPrint&&_q(u.options),j=[];t&&j.push({type:"header",key:"header",isSticky:f,syncRowHeights:!0,chunks:[{key:"axis",rowContent:k=>be("tr",{role:"presentation"},this.renderHeadAxis("day",k.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),a&&(j.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:k=>be("tr",{role:"presentation"},this.renderTableRowAxis(k.rowSyncHeights[0]))},{key:"cols",content:a}]}),j.push({key:"all-day-divider",type:"body",outerContent:be("tr",{role:"presentation",className:"fc-scrollgrid-section"},be("td",{colSpan:2,className:"fc-timegrid-divider "+u.theme.getClass("tableCellShaded")}))}));let y=u.options.nowIndicator;return j.push({type:"body",key:"body",liquid:!0,expandRows:!!u.options.expandRows,chunks:[{key:"axis",content:k=>be("div",{className:"fc-timegrid-axis-chunk"},be("table",{"aria-hidden":!0,style:{height:k.expandRows?k.clientHeight:""}},k.tableColGroupNode,be("tbody",null,be(D_e,{slatMetas:l}))),be("div",{className:"fc-timegrid-now-indicator-container"},be(du,{unit:y?"minute":"day"},v=>{let S=y&&c&&c.safeComputeTop(v);return typeof S=="number"?be(w4,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:S},isAxis:!0,date:v}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:r}]}),p&&j.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:C_},{key:"cols",content:C_}]}),be(tg,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:u.viewSpec},be(o,{liquid:!d.isHeightAuto&&!d.forPrint,forPrint:d.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:n,minWidth:i}]}],sections:j}))}getAllDayMaxEventProps(){let{dayMaxEvents:t,dayMaxEventRows:a}=this.context.options;return(t===!0||a===!0)&&(t=void 0,a=R_e),{dayMaxEvents:t,dayMaxEventRows:a}}}function P_e(s){return s.text}class I_e{constructor(t,a,r){this.positions=t,this.dateProfile=a,this.slotDuration=r}safeComputeTop(t){let{dateProfile:a}=this;if(Bc(a.currentRange,t)){let r=Qs(t),n=t.valueOf()-r.valueOf();if(n>=zi(a.slotMinTime)&&n<zi(a.slotMaxTime))return this.computeTimeTop(cs(n))}return null}computeDateTop(t,a){return a||(a=Qs(t)),this.computeTimeTop(cs(t.valueOf()-a.valueOf()))}computeTimeTop(t){let{positions:a,dateProfile:r}=this,n=a.els.length,i=(t.milliseconds-zi(r.slotMinTime))/zi(this.slotDuration),l,c;return i=Math.max(0,i),i=Math.min(n,i),l=Math.floor(i),l=Math.min(l,n-1),c=i-l,a.tops[l]+a.getHeight(l)*c}}class B_e extends ks{render(){let{props:t,context:a}=this,{options:r}=a,{slatElRefs:n}=t;return be("tbody",null,t.slatMetas.map((i,l)=>{let c={time:i.time,date:a.dateEnv.toDate(i.date),view:a.viewApi};return be("tr",{key:i.key,ref:n.createRef(i.key)},t.axis&&be(Xq,Object.assign({},i)),be(Vr,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!i.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":i.isoTimeStr},renderProps:c,generatorName:"slotLaneContent",customGenerator:r.slotLaneContent,classNameGenerator:r.slotLaneClassNames,didMount:r.slotLaneDidMount,willUnmount:r.slotLaneWillUnmount}))}))}}class L_e extends ks{constructor(){super(...arguments),this.rootElRef=rn(),this.slatElRefs=new Mc}render(){let{props:t,context:a}=this;return be("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},be("table",{"aria-hidden":!0,className:a.theme.getClass("table"),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:t.minHeight}},t.tableColGroupNode,be(B_e,{slatElRefs:this.slatElRefs,axis:t.axis,slatMetas:t.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:t,props:a}=this;a.onCoords&&a.clientWidth!==null&&this.rootElRef.current.offsetHeight&&a.onCoords(new I_e(new Qm(this.rootElRef.current,F_e(this.slatElRefs.currentMap,a.slatMetas),!1,!0),this.props.dateProfile,t.options.slotDuration))}}function F_e(s,t){return t.map(a=>s[a.key])}function rp(s,t){let a=[],r;for(r=0;r<t;r+=1)a.push([]);if(s)for(r=0;r<s.length;r+=1)a[s[r].col].push(s[r]);return a}function VP(s,t){let a=[];if(s){for(let r=0;r<t;r+=1)a[r]={affectedInstances:s.affectedInstances,isEvent:s.isEvent,segs:[]};for(let r of s.segs)a[r.col].segs.push(r)}else for(let r=0;r<t;r+=1)a[r]=null;return a}class z_e extends ks{render(){let{props:t}=this;return be(Tq,{elClasses:["fc-timegrid-more-link"],elStyle:{top:t.top,bottom:t.bottom},allDayDate:null,moreCnt:t.hiddenSegs.length,allSegs:t.hiddenSegs,hiddenSegs:t.hiddenSegs,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,todayRange:t.todayRange,popoverContent:()=>Jq(t.hiddenSegs,t),defaultGenerator:H_e,forceTimed:!0},a=>be(a,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function H_e(s){return s.shortText}function U_e(s,t,a){let r=new xq;t!=null&&(r.strictOrder=t),a!=null&&(r.maxStackCnt=a);let n=r.addSegs(s),i=ske(n),l=q_e(r);return l=Y_e(l,1),{segRects:K_e(l),hiddenGroups:i}}function q_e(s){const{entriesByLevel:t}=s,a=E4((r,n)=>r+":"+n,(r,n)=>{let i=W_e(s,r,n),l=WP(i,a),c=t[r][n];return[Object.assign(Object.assign({},c),{nextLevelNodes:l[0]}),c.thickness+l[1]]});return WP(t.length?{level:0,lateralStart:0,lateralEnd:t[0].length}:null,a)[0]}function WP(s,t){if(!s)return[[],0];let{level:a,lateralStart:r,lateralEnd:n}=s,i=r,l=[];for(;i<n;)l.push(t(a,i)),i+=1;return l.sort(G_e),[l.map(V_e),l[0][1]]}function G_e(s,t){return t[1]-s[1]}function V_e(s){return s[0]}function W_e(s,t,a){let{levelCoords:r,entriesByLevel:n}=s,i=n[t][a],l=r[t]+i.thickness,c=r.length,o=t;for(;o<c&&r[o]<l;o+=1);for(;o<c;o+=1){let u=n[o],d,f=__(u,i.span.start,S_),p=f[0]+f[1],j=p;for(;(d=u[j])&&d.span.start<i.span.end;)j+=1;if(p<j)return{level:o,lateralStart:p,lateralEnd:j}}return null}function Y_e(s,t){const a=E4((r,n,i)=>Uh(r),(r,n,i)=>{let{nextLevelNodes:l,thickness:c}=r,o=c+i,u=c/o,d,f=[];if(!l.length)d=t;else for(let j of l)if(d===void 0){let y=a(j,n,o);d=y[0],f.push(y[1])}else{let y=a(j,d,0);f.push(y[1])}let p=(d-n)*u;return[d-p,Object.assign(Object.assign({},r),{thickness:p,nextLevelNodes:f})]});return s.map(r=>a(r,0,0)[1])}function K_e(s){let t=[];const a=E4((n,i,l)=>Uh(n),(n,i,l)=>{let c=Object.assign(Object.assign({},n),{levelCoord:i,stackDepth:l,stackForward:0});return t.push(c),c.stackForward=r(n.nextLevelNodes,i+n.thickness,l+1)+1});function r(n,i,l){let c=0;for(let o of n)c=Math.max(a(o,i,l),c);return c}return r(s,0,0),t}function E4(s,t){const a={};return(...r)=>{let n=s(...r);return n in a?a[n]:a[n]=t(...r)}}function YP(s,t,a=null,r=0){let n=[];if(a)for(let i=0;i<s.length;i+=1){let l=s[i],c=a.computeDateTop(l.start,t),o=Math.max(c+(r||0),a.computeDateTop(l.end,t));n.push({start:Math.round(c),end:Math.round(o)})}return n}function Q_e(s,t,a,r){let n=[],i=[];for(let u=0;u<s.length;u+=1){let d=t[u];d?n.push({index:u,thickness:1,span:d}):i.push(s[u])}let{segRects:l,hiddenGroups:c}=U_e(n,a,r),o=[];for(let u of l)o.push({seg:s[u.index],rect:u});for(let u of i)o.push({seg:u,rect:null});return{segPlacements:o,hiddenGroups:c}}const X_e=ca({hour:"numeric",minute:"2-digit",meridiem:!1});class Zq extends ks{render(){return be(N4,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:X_e}))}}class Z_e extends ks{constructor(){super(...arguments),this.sortEventSegs=Ot(m4)}render(){let{props:t,context:a}=this,{options:r}=a,n=r.selectMirror,i=t.eventDrag&&t.eventDrag.segs||t.eventResize&&t.eventResize.segs||n&&t.dateSelectionSegs||[],l=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{},c=this.sortEventSegs(t.fgEventSegs,r.eventOrder);return be(k4,{elTag:"td",elRef:t.elRef,elClasses:["fc-timegrid-col",...t.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},t.extraDataAttrs),date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraRenderProps:t.extraRenderProps},o=>be("div",{className:"fc-timegrid-col-frame"},be("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(t.businessHourSegs,"non-business"),this.renderFillSegs(t.bgEventSegs,"bg-event"),this.renderFillSegs(t.dateSelectionSegs,"highlight")),be("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(c,l,!1,!1,!1)),be("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(i,{},!!t.eventDrag,!!t.eventResize,!!n,"mirror")),be("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(t.nowIndicatorSegs)),S4(r)&&be(o,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(t,a,r,n,i,l){let{props:c}=this;return c.forPrint?Jq(t,c):this.renderPositionedFgSegs(t,a,r,n,i,l)}renderPositionedFgSegs(t,a,r,n,i,l){let{eventMaxStack:c,eventShortHeight:o,eventOrderStrict:u,eventMinHeight:d}=this.context.options,{date:f,slatCoords:p,eventSelection:j,todayRange:y,nowDate:k}=this.props,v=r||n||i,S=YP(t,f,p,d),{segPlacements:C,hiddenGroups:_}=Q_e(t,S,u,c);return be(Us,null,this.renderHiddenGroups(_,t),C.map(A=>{let{seg:D,rect:M}=A,L=D.eventRange.instance.instanceId,F=v||!!(!a[L]&&M),Q=Bk(M&&M.span),I=!v&&M?this.computeSegHStyle(M):{left:0,right:0},H=!!M&&M.stackForward>0,z=!!M&&M.span.end-M.span.start<o;return be("div",{className:"fc-timegrid-event-harness"+(H?" fc-timegrid-event-harness-inset":""),key:l||L,style:Object.assign(Object.assign({visibility:F?"":"hidden"},Q),I)},be(Zq,Object.assign({seg:D,isDragging:r,isResizing:n,isDateSelecting:i,isSelected:L===j,isShort:z},Lc(D,y,k))))}))}renderHiddenGroups(t,a){let{extraDateSpan:r,dateProfile:n,todayRange:i,nowDate:l,eventSelection:c,eventDrag:o,eventResize:u}=this.props;return be(Us,null,t.map(d=>{let f=Bk(d.span),p=J_e(d.entries,a);return be(z_e,{key:zU(Mq(p)),hiddenSegs:p,top:f.top,bottom:f.bottom,extraDateSpan:r,dateProfile:n,todayRange:i,nowDate:l,eventSelection:c,eventDrag:o,eventResize:u})}))}renderFillSegs(t,a){let{props:r,context:n}=this,l=YP(t,r.date,r.slatCoords,n.options.eventMinHeight).map((c,o)=>{let u=t[o];return be("div",{key:lq(u.eventRange),className:"fc-timegrid-bg-harness",style:Bk(c)},a==="bg-event"?be(Cq,Object.assign({seg:u},Lc(u,r.todayRange,r.nowDate))):Eq(a))});return be(Us,null,l)}renderNowIndicator(t){let{slatCoords:a,date:r}=this.props;return a?t.map((n,i)=>be(w4,{key:i,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:a.computeDateTop(n.start,r)},isAxis:!1,date:r})):null}computeSegHStyle(t){let{isRtl:a,options:r}=this.context,n=r.slotEventOverlap,i=t.levelCoord,l=t.levelCoord+t.thickness,c,o;n&&(l=Math.min(1,i+(l-i)*2)),a?(c=1-l,o=i):(c=i,o=1-l);let u={zIndex:t.stackDepth+1,left:c*100+"%",right:o*100+"%"};return n&&!t.stackForward&&(u[a?"marginLeft":"marginRight"]=20),u}}function Jq(s,{todayRange:t,nowDate:a,eventSelection:r,eventDrag:n,eventResize:i}){let l=(n?n.affectedInstances:null)||(i?i.affectedInstances:null)||{};return be(Us,null,s.map(c=>{let o=c.eventRange.instance.instanceId;return be("div",{key:o,style:{visibility:l[o]?"hidden":""}},be(Zq,Object.assign({seg:c,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===r,isShort:!1},Lc(c,t,a))))}))}function Bk(s){return s?{top:s.start,bottom:-s.end}:{top:"",bottom:""}}function J_e(s,t){return s.map(a=>t[a.index])}class eCe extends ks{constructor(){super(...arguments),this.splitFgEventSegs=Ot(rp),this.splitBgEventSegs=Ot(rp),this.splitBusinessHourSegs=Ot(rp),this.splitNowIndicatorSegs=Ot(rp),this.splitDateSelectionSegs=Ot(rp),this.splitEventDrag=Ot(VP),this.splitEventResize=Ot(VP),this.rootElRef=rn(),this.cellElRefs=new Mc}render(){let{props:t,context:a}=this,r=a.options.nowIndicator&&t.slatCoords&&t.slatCoords.safeComputeTop(t.nowDate),n=t.cells.length,i=this.splitFgEventSegs(t.fgEventSegs,n),l=this.splitBgEventSegs(t.bgEventSegs,n),c=this.splitBusinessHourSegs(t.businessHourSegs,n),o=this.splitNowIndicatorSegs(t.nowIndicatorSegs,n),u=this.splitDateSelectionSegs(t.dateSelectionSegs,n),d=this.splitEventDrag(t.eventDrag,n),f=this.splitEventResize(t.eventResize,n);return be("div",{className:"fc-timegrid-cols",ref:this.rootElRef},be("table",{role:"presentation",style:{minWidth:t.tableMinWidth,width:t.clientWidth}},t.tableColGroupNode,be("tbody",{role:"presentation"},be("tr",{role:"row"},t.axis&&be("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},be("div",{className:"fc-timegrid-col-frame"},be("div",{className:"fc-timegrid-now-indicator-container"},typeof r=="number"&&be(w4,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:r},isAxis:!0,date:t.nowDate})))),t.cells.map((p,j)=>be(Z_e,{key:p.key,elRef:this.cellElRefs.createRef(p.key),dateProfile:t.dateProfile,date:p.date,nowDate:t.nowDate,todayRange:t.todayRange,extraRenderProps:p.extraRenderProps,extraDataAttrs:p.extraDataAttrs,extraClassNames:p.extraClassNames,extraDateSpan:p.extraDateSpan,fgEventSegs:i[j],bgEventSegs:l[j],businessHourSegs:c[j],nowIndicatorSegs:o[j],dateSelectionSegs:u[j],eventDrag:d[j],eventResize:f[j],slatCoords:t.slatCoords,eventSelection:t.eventSelection,forPrint:t.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:t}=this;t.onColCoords&&t.clientWidth!==null&&t.onColCoords(new Qm(this.rootElRef.current,tCe(this.cellElRefs.currentMap,t.cells),!0,!1))}}function tCe(s,t){return t.map(a=>s[a.key])}class sCe extends Xi{constructor(){super(...arguments),this.processSlotOptions=Ot(aCe),this.state={slatCoords:null},this.handleRootEl=t=>{t?this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=t=>{let{onScrollTopRequest:a}=this.props,{slatCoords:r}=this.state;if(a&&r){if(t.time){let n=r.computeTimeTop(t.time);n=Math.ceil(n),n&&(n+=1),a(n)}return!0}return!1},this.handleColCoords=t=>{this.colCoords=t},this.handleSlatCoords=t=>{this.setState({slatCoords:t}),this.props.onSlatCoords&&this.props.onSlatCoords(t)}}render(){let{props:t,state:a}=this;return be("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:t.clientWidth,minWidth:t.tableMinWidth}},be(L_e,{axis:t.axis,dateProfile:t.dateProfile,slatMetas:t.slatMetas,clientWidth:t.clientWidth,minHeight:t.expandRows?t.clientHeight:"",tableMinWidth:t.tableMinWidth,tableColGroupNode:t.axis?t.tableColGroupNode:null,onCoords:this.handleSlatCoords}),be(eCe,{cells:t.cells,axis:t.axis,dateProfile:t.dateProfile,businessHourSegs:t.businessHourSegs,bgEventSegs:t.bgEventSegs,fgEventSegs:t.fgEventSegs,dateSelectionSegs:t.dateSelectionSegs,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange,nowDate:t.nowDate,nowIndicatorSegs:t.nowIndicatorSegs,clientWidth:t.clientWidth,tableMinWidth:t.tableMinWidth,tableColGroupNode:t.tableColGroupNode,slatCoords:a.slatCoords,onColCoords:this.handleColCoords,forPrint:t.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(t){this.scrollResponder.update(t.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(t,a){let{dateEnv:r,options:n}=this.context,{colCoords:i}=this,{dateProfile:l}=this.props,{slatCoords:c}=this.state,{snapDuration:o,snapsPerSlot:u}=this.processSlotOptions(this.props.slotDuration,n.snapDuration),d=i.leftToIndex(t),f=c.positions.topToIndex(a);if(d!=null&&f!=null){let p=this.props.cells[d],j=c.positions.tops[f],y=c.positions.getHeight(f),k=(a-j)/y,v=Math.floor(k*u),S=f*u+v,C=this.props.cells[d].date,_=y_(l.slotMinTime,G0e(o,S)),A=r.add(C,_),D=r.add(A,o);return{dateProfile:l,dateSpan:Object.assign({range:{start:A,end:D},allDay:!1},p.extraDateSpan),dayEl:i.els[d],rect:{left:i.lefts[d],right:i.rights[d],top:j,bottom:j+y},layer:0}}return null}}function aCe(s,t){let a=t||s,r=JA(s,a);return r===null&&(a=s,r=1),{snapDuration:a,snapsPerSlot:r}}class rCe extends vq{sliceRange(t,a){let r=[];for(let n=0;n<a.length;n+=1){let i=Ed(t,a[n]);i&&r.push({start:i.start,end:i.end,isStart:i.start.valueOf()===t.start.valueOf(),isEnd:i.end.valueOf()===t.end.valueOf(),col:n})}return r}}class nCe extends Xi{constructor(){super(...arguments),this.buildDayRanges=Ot(iCe),this.slicer=new rCe,this.timeColsRef=rn()}render(){let{props:t,context:a}=this,{dateProfile:r,dayTableModel:n}=t,{nowIndicator:i,nextDayThreshold:l}=a.options,c=this.buildDayRanges(n,r,a.dateEnv);return be(du,{unit:i?"minute":"day"},(o,u)=>be(sCe,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(t,r,null,a,c),{forPrint:t.forPrint,axis:t.axis,dateProfile:r,slatMetas:t.slatMetas,slotDuration:t.slotDuration,cells:n.cells[0],tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,expandRows:t.expandRows,nowDate:o,nowIndicatorSegs:i&&this.slicer.sliceNowDate(o,r,l,a,c),todayRange:u,onScrollTopRequest:t.onScrollTopRequest,onSlatCoords:t.onSlatCoords})))}}function iCe(s,t,a){let r=[];for(let n of s.headerDates)r.push({start:a.add(n,t.slotMinTime),end:a.add(n,t.slotMaxTime)});return r}const KP=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function lCe(s,t,a,r,n){let i=new Date(0),l=s,c=cs(0),o=a||cCe(r),u=[];for(;zi(l)<zi(t);){let d=n.add(i,l),f=JA(c,o)!==null;u.push({date:d,time:l,key:d.toISOString(),isoTimeStr:lwe(d),isLabeled:f}),l=y_(l,r),c=y_(c,r)}return u}function cCe(s){let t,a,r;for(t=KP.length-1;t>=0;t-=1)if(a=cs(KP[t]),r=JA(a,s),r!==null&&r>1)return a;return s}class oCe extends $_e{constructor(){super(...arguments),this.buildTimeColsModel=Ot(dCe),this.buildSlatMetas=Ot(lCe)}render(){let{options:t,dateEnv:a,dateProfileGenerator:r}=this.context,{props:n}=this,{dateProfile:i}=n,l=this.buildTimeColsModel(i,r),c=this.allDaySplitter.splitProps(n),o=this.buildSlatMetas(i.slotMinTime,i.slotMaxTime,t.slotLabelInterval,t.slotDuration,a),{dayMinWidth:u}=t,d=!u,f=u,p=t.dayHeaders&&be(gq,{dates:l.headerDates,dateProfile:i,datesRepDistinctDays:!0,renderIntro:d?this.renderHeadAxis:null}),j=t.allDaySlot!==!1&&(k=>be(Kq,Object.assign({},c.allDay,{dateProfile:i,dayTableModel:l,nextDayThreshold:t.nextDayThreshold,tableMinWidth:k.tableMinWidth,colGroupNode:k.tableColGroupNode,renderRowIntro:d?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:k.clientWidth,clientHeight:k.clientHeight,forPrint:n.forPrint},this.getAllDayMaxEventProps()))),y=k=>be(nCe,Object.assign({},c.timed,{dayTableModel:l,dateProfile:i,axis:d,slotDuration:t.slotDuration,slatMetas:o,forPrint:n.forPrint,tableColGroupNode:k.tableColGroupNode,tableMinWidth:k.tableMinWidth,clientWidth:k.clientWidth,clientHeight:k.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:k.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return f?this.renderHScrollLayout(p,j,y,l.colCnt,u,o,this.state.slatCoords):this.renderSimpleLayout(p,j,y)}}function dCe(s,t){let a=new yq(s.renderRange,t);return new jq(a,!1)}var hCe='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';y1(hCe);const uCe={allDaySlot:Boolean};var eG=Zi({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:uCe,views:{timeGrid:{component:oCe,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});v4.touchMouseIgnoreWait=500;let A_=0,aN=0,T_=!1;class tG{constructor(t){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=a=>{if(!this.shouldIgnoreMouse()&&mCe(a)&&this.tryStart(a)){let r=this.createEventFromMouse(a,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=a=>{let r=this.createEventFromMouse(a);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=a=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(a)),this.cleanup()},this.handleTouchStart=a=>{if(this.tryStart(a)){this.isTouchDragging=!0;let r=this.createEventFromTouch(a,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let n=a.target;this.shouldIgnoreMove||n.addEventListener("touchmove",this.handleTouchMove),n.addEventListener("touchend",this.handleTouchEnd),n.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=a=>{let r=this.createEventFromTouch(a);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=a=>{if(this.isDragging){let r=a.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(a)),this.cleanup(),this.isTouchDragging=!1,xCe()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=a=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,n=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:a,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:n,deltaX:r-this.origPageX,deltaY:n-this.origPageY})}},this.containerEl=t,this.emitter=new w1,t.addEventListener("mousedown",this.handleMouseDown),t.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),fCe()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),pCe()}tryStart(t){let a=this.querySubjectEl(t),r=t.target;return a&&(!this.handleSelector||Fr(r,this.handleSelector))?(this.subjectEl=a,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){T_=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(t){return this.selector?Fr(t.target,this.selector):this.containerEl}shouldIgnoreMouse(){return A_||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(T_=!0)}initScrollWatch(t){this.shouldWatchScroll&&(this.recordCoords(t),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(t){this.shouldWatchScroll&&(this.prevPageX=t.pageX,this.prevPageY=t.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(t,a){let r=0,n=0;return a?(this.origPageX=t.pageX,this.origPageY=t.pageY):(r=t.pageX-this.origPageX,n=t.pageY-this.origPageY),{origEvent:t,isTouch:!1,subjectEl:this.subjectEl,pageX:t.pageX,pageY:t.pageY,deltaX:r,deltaY:n}}createEventFromTouch(t,a){let r=t.touches,n,i,l=0,c=0;return r&&r.length?(n=r[0].pageX,i=r[0].pageY):(n=t.pageX,i=t.pageY),a?(this.origPageX=n,this.origPageY=i):(l=n-this.origPageX,c=i-this.origPageY),{origEvent:t,isTouch:!0,subjectEl:this.subjectEl,pageX:n,pageY:i,deltaX:l,deltaY:c}}}function mCe(s){return s.button===0&&!s.ctrlKey}function xCe(){A_+=1,setTimeout(()=>{A_-=1},v4.touchMouseIgnoreWait)}function fCe(){aN+=1,aN===1&&window.addEventListener("touchmove",sG,{passive:!1})}function pCe(){aN-=1,aN||window.removeEventListener("touchmove",sG,{passive:!1})}function sG(s){T_&&s.preventDefault()}class gCe{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(t,a,r){this.sourceEl=t,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=a-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(t,a){this.deltaX=t-window.scrollX-this.origScreenX,this.deltaY=a-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(t){t?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=t,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=t)}stop(t,a){let r=()=>{this.cleanup(),a()};t&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(t,a){let r=this.mirrorEl,n=this.sourceEl.getBoundingClientRect();r.style.transition="top "+a+"ms,left "+a+"ms",Np(r,{left:n.left,top:n.top}),T0e(r,()=>{r.style.transition="",t()})}cleanup(){this.mirrorEl&&(QA(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Np(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let t=this.sourceElRect,a=this.mirrorEl;return a||(a=this.mirrorEl=this.sourceEl.cloneNode(!0),a.style.userSelect="none",a.style.webkitUserSelect="none",a.style.pointerEvents="none",a.classList.add("fc-event-dragging"),Np(a,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:t.right-t.left,height:t.bottom-t.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(a)),a}}class aG extends y4{constructor(t,a){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=t,this.doesListening=a,this.scrollTop=this.origScrollTop=t.getScrollTop(),this.scrollLeft=this.origScrollLeft=t.getScrollLeft(),this.scrollWidth=t.getScrollWidth(),this.scrollHeight=t.getScrollHeight(),this.clientWidth=t.getClientWidth(),this.clientHeight=t.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(t){this.scrollController.setScrollTop(t),this.doesListening||(this.scrollTop=Math.max(Math.min(t,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(t){this.scrollController.setScrollLeft(t),this.doesListening||(this.scrollLeft=Math.max(Math.min(t,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class rG extends aG{constructor(t,a){super(new eke(t),a)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Z2e(this.scrollController.el)}}class yCe extends aG{constructor(t){super(new tke,t)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const QP=typeof performance=="function"?performance.now:Date.now;class jCe{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let t=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(t){let a=QP();this.handleSide(t,(a-this.msSinceRequest)/1e3),this.requestAnimation(a)}else this.isAnimating=!1}}}start(t,a,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(t,a))}handleMove(t,a){if(this.isEnabled){let r=t-window.scrollX,n=a-window.scrollY,i=this.pointerScreenY===null?0:n-this.pointerScreenY,l=this.pointerScreenX===null?0:r-this.pointerScreenX;i<0?this.everMovedUp=!0:i>0&&(this.everMovedDown=!0),l<0?this.everMovedLeft=!0:l>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=n,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(QP()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let t of this.scrollCaches)t.destroy();this.scrollCaches=null}}requestAnimation(t){this.msSinceRequest=t,requestAnimationFrame(this.animate)}handleSide(t,a){let{scrollCache:r}=t,{edgeThreshold:n}=this,i=n-t.distance,l=i*i/(n*n)*this.maxVelocity*a,c=1;switch(t.name){case"left":c=-1;case"right":r.setScrollLeft(r.getScrollLeft()+l*c);break;case"top":c=-1;case"bottom":r.setScrollTop(r.getScrollTop()+l*c);break}}computeBestEdge(t,a){let{edgeThreshold:r}=this,n=null,i=this.scrollCaches||[];for(let l of i){let c=l.clientRect,o=t-c.left,u=c.right-t,d=a-c.top,f=c.bottom-a;o>=0&&u>=0&&d>=0&&f>=0&&(d<=r&&this.everMovedUp&&l.canScrollUp()&&(!n||n.distance>d)&&(n={scrollCache:l,name:"top",distance:d}),f<=r&&this.everMovedDown&&l.canScrollDown()&&(!n||n.distance>f)&&(n={scrollCache:l,name:"bottom",distance:f}),o<=r&&this.everMovedLeft&&l.canScrollLeft()&&(!n||n.distance>o)&&(n={scrollCache:l,name:"left",distance:o}),u<=r&&this.everMovedRight&&l.canScrollRight()&&(!n||n.distance>u)&&(n={scrollCache:l,name:"right",distance:u}))}return n}buildCaches(t){return this.queryScrollEls(t).map(a=>a===window?new yCe(!1):new rG(a,!1))}queryScrollEls(t){let a=[];for(let r of this.scrollQuery)typeof r=="object"?a.push(r):a.push(...Array.prototype.slice.call(t.getRootNode().querySelectorAll(r)));return a}}class ty extends rke{constructor(t,a){super(t),this.containerEl=t,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=n=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,M0e(document.body),O0e(document.body),n.isTouch||n.origEvent.preventDefault(),this.emitter.trigger("pointerdown",n),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(n.subjectEl,n.pageX,n.pageY),this.startDelay(n),this.minDistance||this.handleDistanceSurpassed(n)))},this.onPointerMove=n=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",n),!this.isDistanceSurpassed){let i=this.minDistance,l,{deltaX:c,deltaY:o}=n;l=c*c+o*o,l>=i*i&&this.handleDistanceSurpassed(n)}this.isDragging&&(n.origEvent.type!=="scroll"&&(this.mirror.handleMove(n.pageX,n.pageY),this.autoScroller.handleMove(n.pageX,n.pageY)),this.emitter.trigger("dragmove",n))}},this.onPointerUp=n=>{this.isInteracting&&(this.isInteracting=!1,D0e(document.body),R0e(document.body),this.emitter.trigger("pointerup",n),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(n)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new tG(t);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),a&&(r.selector=a),this.mirror=new gCe,this.autoScroller=new jCe}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(t){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)}handleDelayEnd(t){this.isDelayEnded=!0,this.tryStartDrag(t)}handleDistanceSurpassed(t){this.isDistanceSurpassed=!0,this.tryStartDrag(t)}tryStartDrag(t){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(t.pageX,t.pageY,this.containerEl),this.emitter.trigger("dragstart",t),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(t){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,t))}stopDrag(t){this.isDragging=!1,this.emitter.trigger("dragend",t)}setIgnoreMove(t){this.pointer.shouldIgnoreMove=t}setMirrorIsVisible(t){this.mirror.setIsVisible(t)}setMirrorNeedsRevert(t){this.mirrorNeedsRevert=t}setAutoScrollEnabled(t){this.autoScroller.isEnabled=t}}class vCe{constructor(t){this.el=t,this.origRect=g4(t),this.scrollCaches=mq(t).map(a=>new rG(a,!0))}destroy(){for(let t of this.scrollCaches)t.destroy()}computeLeft(){let t=this.origRect.left;for(let a of this.scrollCaches)t+=a.origScrollLeft-a.getScrollLeft();return t}computeTop(){let t=this.origRect.top;for(let a of this.scrollCaches)t+=a.origScrollTop-a.getScrollTop();return t}isWithinClipping(t,a){let r={left:t,top:a};for(let n of this.scrollCaches)if(!bCe(n.getEventTarget())&&!L2e(r,n.clientRect))return!1;return!0}}function bCe(s){let t=s.tagName;return t==="HTML"||t==="BODY"}class _1{constructor(t,a){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:n}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(n.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):n.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=a,t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragstart",this.handleDragStart),t.emitter.on("dragmove",this.handleDragMove),t.emitter.on("pointerup",this.handlePointerUp),t.emitter.on("dragend",this.handleDragEnd),this.dragging=t,this.emitter=new w1}processFirstCoord(t){let a={left:t.pageX,top:t.pageY},r=a,n=t.subjectEl,i;n instanceof HTMLElement&&(i=g4(n),r=F2e(r,i));let l=this.initialHit=this.queryHitForOffset(r.left,r.top);if(l){if(this.useSubjectCenter&&i){let c=hq(i,l.rect);c&&(r=z2e(c))}this.coordAdjust=H2e(r,a)}else this.coordAdjust={left:0,top:0}}handleMove(t,a){let r=this.queryHitForOffset(t.pageX+this.coordAdjust.left,t.pageY+this.coordAdjust.top);(a||!C1(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,t))}prepareHits(){this.offsetTrackers=Zc(this.droppableStore,t=>(t.component.prepareHits(),new vCe(t.el)))}releaseHits(){let{offsetTrackers:t}=this;for(let a in t)t[a].destroy();this.offsetTrackers={}}queryHitForOffset(t,a){let{droppableStore:r,offsetTrackers:n}=this,i=null;for(let l in r){let c=r[l].component,o=n[l];if(o&&o.isWithinClipping(t,a)){let u=o.computeLeft(),d=o.computeTop(),f=t-u,p=a-d,{origRect:j}=o,y=j.right-j.left,k=j.bottom-j.top;if(f>=0&&f<y&&p>=0&&p<k){let v=c.queryHit(f,p,y,k);v&&b1(v.dateProfile.activeRange,v.dateSpan.range)&&(this.disablePointCheck||o.el.contains(o.el.getRootNode().elementFromPoint(f+u-window.scrollX,p+d-window.scrollY)))&&(!i||v.layer>i.layer)&&(v.componentId=l,v.context=c.context,v.rect.left+=u,v.rect.right+=u,v.rect.top+=d,v.rect.bottom+=d,i=v)}}}return i}}function C1(s,t){return!s&&!t?!0:!!s!=!!t?!1:E2e(s.dateSpan,t.dateSpan)}function nG(s,t){let a={};for(let r of t.pluginHooks.datePointTransforms)Object.assign(a,r(s,t));return Object.assign(a,NCe(s,t.dateEnv)),a}function NCe(s,t){return{date:t.toDate(s.range.start),dateStr:t.formatIso(s.range.start,{omitTime:s.allDay}),allDay:s.allDay}}class wCe extends Cx{constructor(t){super(t),this.handlePointerDown=r=>{let{dragging:n}=this,i=r.origEvent.target;n.setIgnoreMove(!this.component.isValidDateDownEl(i))},this.handleDragEnd=r=>{let{component:n}=this,{pointer:i}=this.dragging;if(!i.wasTouchScroll){let{initialHit:l,finalHit:c}=this.hitDragging;if(l&&c&&C1(l,c)){let{context:o}=n,u=Object.assign(Object.assign({},nG(l.dateSpan,o)),{dayEl:l.dayEl,jsEvent:r.origEvent,view:o.viewApi||o.calendarApi.view});o.emitter.trigger("dateClick",u)}}},this.dragging=new ty(t.el),this.dragging.autoScroller.isEnabled=!1;let a=this.hitDragging=new _1(this.dragging,f4(t));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class kCe extends Cx{constructor(t){super(t),this.dragSelection=null,this.handlePointerDown=l=>{let{component:c,dragging:o}=this,{options:u}=c.context,d=u.selectable&&c.isValidDateDownEl(l.origEvent.target);o.setIgnoreMove(!d),o.delay=l.isTouch?SCe(c):null},this.handleDragStart=l=>{this.component.context.calendarApi.unselect(l)},this.handleHitUpdate=(l,c)=>{let{context:o}=this.component,u=null,d=!1;if(l){let f=this.hitDragging.initialHit;l.componentId===f.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(f,l)||(u=_Ce(f,l,o.pluginHooks.dateSelectionTransformers)),(!u||!dke(u,l.dateProfile,o))&&(d=!0,u=null)}u?o.dispatch({type:"SELECT_DATES",selection:u}):c||o.dispatch({type:"UNSELECT_DATES"}),d?XA():ZA(),c||(this.dragSelection=u)},this.handlePointerUp=l=>{this.dragSelection&&(rq(this.dragSelection,l,this.component.context),this.dragSelection=null)};let{component:a}=t,{options:r}=a.context,n=this.dragging=new ty(t.el);n.touchScrollAllowed=!1,n.minDistance=r.selectMinDistance||0,n.autoScroller.isEnabled=r.dragScroll;let i=this.hitDragging=new _1(this.dragging,f4(t));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function SCe(s){let{options:t}=s.context,a=t.selectLongPressDelay;return a==null&&(a=t.longPressDelay),a}function _Ce(s,t,a){let r=s.dateSpan,n=t.dateSpan,i=[r.range.start,r.range.end,n.range.start,n.range.end];i.sort(L0e);let l={};for(let c of a){let o=c(s,t);if(o===!1)return null;o&&Object.assign(l,o)}return l.range={start:i[0],end:i[3]},l.allDay=r.allDay,l}class sy extends Cx{constructor(t){super(t),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=l=>{let c=l.origEvent.target,{component:o,dragging:u}=this,{mirror:d}=u,{options:f}=o.context,p=o.context;this.subjectEl=l.subjectEl;let j=this.subjectSeg=Ym(l.subjectEl),k=(this.eventRange=j.eventRange).instance.instanceId;this.relevantEvents=o4(p.getCurrentData().eventStore,k),u.minDistance=l.isTouch?0:f.eventDragMinDistance,u.delay=l.isTouch&&k!==o.props.eventSelection?ECe(o):null,f.fixedMirrorParent?d.parentNode=f.fixedMirrorParent:d.parentNode=Fr(c,".fc"),d.revertDuration=f.dragRevertDuration;let v=o.isValidSegDownEl(c)&&!Fr(c,".fc-event-resizer");u.setIgnoreMove(!v),this.isDragging=v&&l.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=l=>{let c=this.component.context,o=this.eventRange,u=o.instance.instanceId;l.isTouch?u!==this.component.props.eventSelection&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:u}):c.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(c.calendarApi.unselect(l),c.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new ma(c,o.def,o.instance),jsEvent:l.origEvent,view:c.viewApi}))},this.handleHitUpdate=(l,c)=>{if(!this.isDragging)return;let o=this.relevantEvents,u=this.hitDragging.initialHit,d=this.component.context,f=null,p=null,j=null,y=!1,k={affectedEvents:o,mutatedEvents:Un(),isEvent:!0};if(l){f=l.context;let v=f.options;d===f||v.editable&&v.droppable?(p=CCe(u,l,this.eventRange.instance.range.start,f.getCurrentData().pluginHooks.eventDragMutationMassagers),p&&(j=u4(o,f.getCurrentData().eventUiBases,p,f),k.mutatedEvents=j,bq(k,l.dateProfile,f)||(y=!0,p=null,j=null,k.mutatedEvents=Un()))):f=null}this.displayDrag(f,k),y?XA():ZA(),c||(d===f&&C1(u,l)&&(p=null),this.dragging.setMirrorNeedsRevert(!p),this.dragging.setMirrorIsVisible(!l||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=f,this.validMutation=p,this.mutatedRelevantEvents=j)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=l=>{if(this.isDragging){let c=this.component.context,o=c.viewApi,{receivingContext:u,validMutation:d}=this,f=this.eventRange.def,p=this.eventRange.instance,j=new ma(c,f,p),y=this.relevantEvents,k=this.mutatedRelevantEvents,{finalHit:v}=this.hitDragging;if(this.clearDrag(),c.emitter.trigger("eventDragStop",{el:this.subjectEl,event:j,jsEvent:l.origEvent,view:o}),d){if(u===c){let S=new ma(c,k.defs[f.defId],p?k.instances[p.instanceId]:null);c.dispatch({type:"MERGE_EVENTS",eventStore:k});let C={oldEvent:j,event:S,relatedEvents:Hh(k,c,p),revert(){c.dispatch({type:"MERGE_EVENTS",eventStore:y})}},_={};for(let A of c.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(_,A(d,c));c.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},C),_),{el:l.subjectEl,delta:d.datesDelta,jsEvent:l.origEvent,view:o})),c.emitter.trigger("eventChange",C)}else if(u){let S={event:j,relatedEvents:Hh(y,c,p),revert(){c.dispatch({type:"MERGE_EVENTS",eventStore:y})}};c.emitter.trigger("eventLeave",Object.assign(Object.assign({},S),{draggedEl:l.subjectEl,view:o})),c.dispatch({type:"REMOVE_EVENTS",eventStore:y}),c.emitter.trigger("eventRemove",S);let C=k.defs[f.defId],_=k.instances[p.instanceId],A=new ma(u,C,_);u.dispatch({type:"MERGE_EVENTS",eventStore:k});let D={event:A,relatedEvents:Hh(k,u,_),revert(){u.dispatch({type:"REMOVE_EVENTS",eventStore:k})}};u.emitter.trigger("eventAdd",D),l.isTouch&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:p.instanceId}),u.emitter.trigger("drop",Object.assign(Object.assign({},nG(v.dateSpan,u)),{draggedEl:l.subjectEl,jsEvent:l.origEvent,view:v.context.viewApi})),u.emitter.trigger("eventReceive",Object.assign(Object.assign({},D),{draggedEl:l.subjectEl,view:v.context.viewApi}))}}else c.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:a}=this,{options:r}=a.context,n=this.dragging=new ty(t.el);n.pointer.selector=sy.SELECTOR,n.touchScrollAllowed=!1,n.autoScroller.isEnabled=r.dragScroll;let i=this.hitDragging=new _1(this.dragging,k_);i.useSubjectCenter=t.useEventCenter,i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(t,a){let r=this.component.context,n=this.receivingContext;n&&n!==t&&(n===r?n.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:a.affectedEvents,mutatedEvents:Un(),isEvent:!0}}):n.dispatch({type:"UNSET_EVENT_DRAG"})),t&&t.dispatch({type:"SET_EVENT_DRAG",state:a})}clearDrag(){let t=this.component.context,{receivingContext:a}=this;a&&a.dispatch({type:"UNSET_EVENT_DRAG"}),t!==a&&t.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}sy.SELECTOR=".fc-event-draggable, .fc-event-resizable";function CCe(s,t,a,r){let n=s.dateSpan,i=t.dateSpan,l=n.range.start,c=i.range.start,o={};n.allDay!==i.allDay&&(o.allDay=i.allDay,o.hasEnd=t.context.options.allDayMaintainDuration,i.allDay?l=Qs(a):l=a);let u=jm(l,c,s.context.dateEnv,s.componentId===t.componentId?s.largeUnit:null);u.milliseconds&&(o.allDay=!1);let d={datesDelta:u,standardProps:o};for(let f of r)f(d,s,t);return d}function ECe(s){let{options:t}=s.context,a=t.eventLongPressDelay;return a==null&&(a=t.longPressDelay),a}class ACe extends Cx{constructor(t){super(t),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=i=>{let{component:l}=this,c=this.querySegEl(i),o=Ym(c),u=this.eventRange=o.eventRange;this.dragging.minDistance=l.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(i.origEvent.target)||i.isTouch&&this.component.props.eventSelection!==u.instance.instanceId)},this.handleDragStart=i=>{let{context:l}=this.component,c=this.eventRange;this.relevantEvents=o4(l.getCurrentData().eventStore,this.eventRange.instance.instanceId);let o=this.querySegEl(i);this.draggingSegEl=o,this.draggingSeg=Ym(o),l.calendarApi.unselect(),l.emitter.trigger("eventResizeStart",{el:o,event:new ma(l,c.def,c.instance),jsEvent:i.origEvent,view:l.viewApi})},this.handleHitUpdate=(i,l,c)=>{let{context:o}=this.component,u=this.relevantEvents,d=this.hitDragging.initialHit,f=this.eventRange.instance,p=null,j=null,y=!1,k={affectedEvents:u,mutatedEvents:Un(),isEvent:!0};i&&(i.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,i)||(p=TCe(d,i,c.subjectEl.classList.contains("fc-event-resizer-start"),f.range))),p&&(j=u4(u,o.getCurrentData().eventUiBases,p,o),k.mutatedEvents=j,bq(k,i.dateProfile,o)||(y=!0,p=null,j=null,k.mutatedEvents=null)),j?o.dispatch({type:"SET_EVENT_RESIZE",state:k}):o.dispatch({type:"UNSET_EVENT_RESIZE"}),y?XA():ZA(),l||(p&&C1(d,i)&&(p=null),this.validMutation=p,this.mutatedRelevantEvents=j)},this.handleDragEnd=i=>{let{context:l}=this.component,c=this.eventRange.def,o=this.eventRange.instance,u=new ma(l,c,o),d=this.relevantEvents,f=this.mutatedRelevantEvents;if(l.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:u,jsEvent:i.origEvent,view:l.viewApi}),this.validMutation){let p=new ma(l,f.defs[c.defId],o?f.instances[o.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:f});let j={oldEvent:u,event:p,relatedEvents:Hh(f,l,o),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:d})}};l.emitter.trigger("eventResize",Object.assign(Object.assign({},j),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||cs(0),endDelta:this.validMutation.endDelta||cs(0),jsEvent:i.origEvent,view:l.viewApi})),l.emitter.trigger("eventChange",j)}else l.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:a}=t,r=this.dragging=new ty(t.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=a.context.options.dragScroll;let n=this.hitDragging=new _1(this.dragging,f4(t));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragstart",this.handleDragStart),n.emitter.on("hitupdate",this.handleHitUpdate),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(t){return Fr(t.subjectEl,".fc-event")}}function TCe(s,t,a,r){let n=s.context.dateEnv,i=s.dateSpan.range.start,l=t.dateSpan.range.start,c=jm(i,l,n,s.largeUnit);if(a){if(n.add(r.start,c)<r.end)return{startDelta:c}}else if(n.add(r.end,c)>r.start)return{endDelta:c};return null}class MCe{constructor(t){this.context=t,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let n=this.context.options.unselectCancel,i=PU(r.origEvent);this.matchesCancel=!!Fr(i,n),this.matchesEvent=!!Fr(i,sy.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:n}=this,{documentPointer:i}=this,l=n.getCurrentData();if(!i.wasTouchScroll){if(l.dateSelection&&!this.isRecentPointerDateSelect){let c=n.options.unselectAuto;c&&(!c||!this.matchesCancel)&&n.calendarApi.unselect(r)}l.eventSelection&&!this.matchesEvent&&n.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let a=this.documentPointer=new tG(document);a.shouldIgnoreMove=!0,a.shouldWatchScroll=!1,a.emitter.on("pointerdown",this.onDocumentPointerDown),a.emitter.on("pointerup",this.onDocumentPointerUp),t.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const DCe={fixedMirrorParent:ze},OCe={dateClick:ze,eventDragStart:ze,eventDragStop:ze,eventDrop:ze,eventResizeStart:ze,eventResizeStop:ze,eventResize:ze,drop:ze,eventReceive:ze,eventLeave:ze};v4.dataAttrPrefix="";var iG=Zi({name:"@fullcalendar/interaction",componentInteractions:[wCe,kCe,sy,ACe],calendarInteractions:[MCe],elementDraggingImpl:ty,optionRefiners:DCe,listenerRefiners:OCe});class RCe extends ks{constructor(){super(...arguments),this.state={textId:yd()}}render(){let{theme:t,dateEnv:a,options:r,viewApi:n}=this.context,{cellId:i,dayDate:l,todayRange:c}=this.props,{textId:o}=this.state,u=p4(l,c),d=r.listDayFormat?a.format(l,r.listDayFormat):"",f=r.listDaySideFormat?a.format(l,r.listDaySideFormat):"",p=Object.assign({date:a.toDate(l),view:n,textId:o,text:d,sideText:f,navLinkAttrs:Km(this.context,l),sideNavLinkAttrs:Km(this.context,l,"day",!1)},u);return be(Vr,{elTag:"tr",elClasses:["fc-list-day",...k1(u,t)],elAttrs:{"data-date":Jg(l)},renderProps:p,generatorName:"dayHeaderContent",customGenerator:r.dayHeaderContent,defaultGenerator:$Ce,classNameGenerator:r.dayHeaderClassNames,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},j=>be("th",{scope:"colgroup",colSpan:3,id:i,"aria-labelledby":o},be(j,{elTag:"div",elClasses:["fc-list-day-cushion",t.getClass("tableCellShaded")]})))}}function $Ce(s){return be(Us,null,s.text&&be("a",Object.assign({id:s.textId,className:"fc-list-day-text"},s.navLinkAttrs),s.text),s.sideText&&be("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},s.sideNavLinkAttrs),s.sideText))}const PCe=ca({hour:"numeric",minute:"2-digit",meridiem:"short"});class ICe extends ks{render(){let{props:t,context:a}=this,{options:r}=a,{seg:n,timeHeaderId:i,eventHeaderId:l,dateHeaderId:c}=t,o=r.eventTimeFormat||PCe;return be(S1,Object.assign({},t,{elTag:"tr",elClasses:["fc-list-event",n.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>BCe(n,a),seg:n,timeText:"",disableDragging:!0,disableResizing:!0}),(u,d)=>be(Us,null,LCe(n,o,a,i,c),be("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},be("span",{className:"fc-list-event-dot",style:{borderColor:d.borderColor||d.backgroundColor}})),be(u,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${l} ${c}`}})))}}function BCe(s,t){let a=x4(s,t);return be("a",Object.assign({},a),s.eventRange.def.title)}function LCe(s,t,a,r,n){let{options:i}=a;if(i.displayEventTime!==!1){let l=s.eventRange.def,c=s.eventRange.instance,o=!1,u;if(l.allDay?o=!0:Vwe(s.eventRange.range)?s.isStart?u=Sp(s,t,a,null,null,c.range.start,s.end):s.isEnd?u=Sp(s,t,a,null,null,s.start,c.range.end):o=!0:u=Sp(s,t,a),o){let d={text:a.options.allDayText,view:a.viewApi};return be(Vr,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${r} ${n}`},renderProps:d,generatorName:"allDayContent",customGenerator:i.allDayContent,defaultGenerator:FCe,classNameGenerator:i.allDayClassNames,didMount:i.allDayDidMount,willUnmount:i.allDayWillUnmount})}return be("td",{className:"fc-list-event-time"},u)}return null}function FCe(s){return s.text}class zCe extends Xi{constructor(){super(...arguments),this.computeDateVars=Ot(UCe),this.eventStoreToSegs=Ot(this._eventStoreToSegs),this.state={timeHeaderId:yd(),eventHeaderId:yd(),dateHeaderIdRoot:yd()},this.setRootEl=t=>{t?this.context.registerInteractiveComponent(this,{el:t}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:t,context:a}=this,{dayDates:r,dayRanges:n}=this.computeDateVars(t.dateProfile),i=this.eventStoreToSegs(t.eventStore,t.eventUiBases,n);return be(tg,{elRef:this.setRootEl,elClasses:["fc-list",a.theme.getClass("table"),a.options.stickyHeaderDates!==!1?"fc-list-sticky":""],viewSpec:a.viewSpec},be(kq,{liquid:!t.isHeightAuto,overflowX:t.isHeightAuto?"visible":"hidden",overflowY:t.isHeightAuto?"visible":"auto"},i.length>0?this.renderSegList(i,r):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:t,viewApi:a}=this.context,r={text:t.noEventsText,view:a};return be(Vr,{elTag:"div",elClasses:["fc-list-empty"],renderProps:r,generatorName:"noEventsContent",customGenerator:t.noEventsContent,defaultGenerator:HCe,classNameGenerator:t.noEventsClassNames,didMount:t.noEventsDidMount,willUnmount:t.noEventsWillUnmount},n=>be(n,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(t,a){let{theme:r,options:n}=this.context,{timeHeaderId:i,eventHeaderId:l,dateHeaderIdRoot:c}=this.state,o=qCe(t);return be(du,{unit:"day"},(u,d)=>{let f=[];for(let p=0;p<o.length;p+=1){let j=o[p];if(j){let y=Jg(a[p]),k=c+"-"+y;f.push(be(RCe,{key:y,cellId:k,dayDate:a[p],todayRange:d})),j=m4(j,n.eventOrder);for(let v of j)f.push(be(ICe,Object.assign({key:y+":"+v.eventRange.instance.instanceId,seg:v,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:i,eventHeaderId:l,dateHeaderId:k},Lc(v,d,u))))}}return be("table",{className:"fc-list-table "+r.getClass("table")},be("thead",null,be("tr",null,be("th",{scope:"col",id:i},n.timeHint),be("th",{scope:"col","aria-hidden":!0}),be("th",{scope:"col",id:l},n.eventHint))),be("tbody",null,f))})}_eventStoreToSegs(t,a,r){return this.eventRangesToSegs(w_(t,a,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,r)}eventRangesToSegs(t,a){let r=[];for(let n of t)r.push(...this.eventRangeToSegs(n,a));return r}eventRangeToSegs(t,a){let{dateEnv:r}=this.context,{nextDayThreshold:n}=this.context.options,i=t.range,l=t.def.allDay,c,o,u,d=[];for(c=0;c<a.length;c+=1)if(o=Ed(i,a[c]),o&&(u={component:this,eventRange:t,start:o.start,end:o.end,isStart:t.isStart&&o.start.valueOf()===i.start.valueOf(),isEnd:t.isEnd&&o.end.valueOf()===i.end.valueOf(),dayIndex:c},d.push(u),!u.isEnd&&!l&&c+1<a.length&&i.end<r.add(a[c+1].start,n))){u.end=i.end,u.isEnd=!0;break}return d}}function HCe(s){return s.text}function UCe(s){let t=Qs(s.renderRange.start),a=s.renderRange.end,r=[],n=[];for(;t<a;)r.push(t),n.push({start:t,end:Ca(t,1)}),t=Ca(t,1);return{dayDates:r,dayRanges:n}}function qCe(s){let t=[],a,r;for(a=0;a<s.length;a+=1)r=s[a],(t[r.dayIndex]||(t[r.dayIndex]=[])).push(r);return t}var GCe=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';y1(GCe);const VCe={listDayFormat:XP,listDaySideFormat:XP,noEventsClassNames:ze,noEventsContent:ze,noEventsDidMount:ze,noEventsWillUnmount:ze};function XP(s){return s===!1?null:ca(s)}var lG=Zi({name:"@fullcalendar/list",optionRefiners:VCe,views:{list:{component:zCe,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}}),WCe={code:"fr",week:{dow:1,doy:4},buttonText:{prev:"Précédent",next:"Suivant",today:"Aujourd'hui",year:"Année",month:"Mois",week:"Semaine",day:"Jour",list:"Planning"},weekText:"Sem.",weekTextLong:"Semaine",allDayText:"Toute la journée",moreLinkText:"en plus",noEventsText:"Aucun évènement à afficher"};function YCe(){const s=Ut(),t=x.useRef(null),[a,r]=x.useState(!0),[n,i]=x.useState("light"),[l,c]=x.useState([]),[o,u]=x.useState({}),[d,f]=x.useState({}),[p,j]=x.useState([]),[y,k]=x.useState("dayGridMonth"),[v,S]=x.useState(new Date),[C,_]=x.useState(!1),[A,D]=x.useState(null),[M,L]=x.useState(null),[F,Q]=x.useState(!1),[I,H]=x.useState(""),[z,K]=x.useState("success");x.useEffect(()=>{const ie=document.documentElement.getAttribute("data-theme")||"light";i(ie);const fe=new MutationObserver(()=>{const J=document.documentElement.getAttribute("data-theme")||"light";i(J)});return fe.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>fe.disconnect()},[]);const U=(ie,fe="success")=>{H(ie),K(fe),Q(!0)},V=x.useCallback(async(ie,fe)=>{try{r(!0);const J={};ie&&(J.start=ie),fe&&(J.end=fe);const ge=await he.get("/etudiant/calendar/events",{params:J});ge.data.status==="success"?(c(ge.data.events||[]),u(ge.data.classroom||{}),f(ge.data.stats||{})):U(ge.data.message||"Erreur lors du chargement du calendrier","danger")}catch(J){console.error("Erreur lors du chargement du calendrier:",J);const ge=J.response?.data?.message||"Erreur lors du chargement du calendrier";U(ge,"danger")}finally{r(!1)}},[]),P=x.useCallback(async()=>{try{const ie=await he.get("/etudiant/calendar/upcoming-events",{params:{limit:5}});ie.data.status==="success"&&j(ie.data.upcoming_evaluations||[])}catch(ie){console.error("Erreur lors du chargement des événements à venir:",ie)}},[]);x.useEffect(()=>{V(),P()},[V,P]),x.useEffect(()=>{We.replace()},[l,p]);const q=async ie=>{const fe=ie.event,J=fe.extendedProps;if(!J.clickable){U("Cet événement n'est plus accessible","warning");return}if(J.redirect_url)s(J.redirect_url);else if(D(fe),_(!0),J.type==="evaluation"||J.type==="cours")try{const ge=fe.id.split("_")[1],re=await he.get(`/etudiant/calendar/event-details/${J.type}/${ge}`);re.data.status==="success"&&L(re.data.event)}catch(ge){console.error("Erreur lors du chargement des détails:",ge)}},G=ie=>{k(ie),t.current&&t.current.getApi().changeView(ie)},se=ie=>{if(t.current){const fe=t.current.getApi();ie==="prev"?fe.prev():ie==="next"?fe.next():ie==="today"&&fe.today()}},O=ie=>ie?new Date(ie).toLocaleDateString("fr-FR",{weekday:"long",day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Non définie",W=ie=>{if(ie<60)return`${ie} min`;const fe=Math.floor(ie/60),J=ie%60;return J>0?`${fe}h ${J}min`:`${fe}h`},Z=ie=>{switch(ie){case"evaluation":return"clipboard";case"cours":return"book-open";case"important":return"star";default:return"calendar"}},te=(ie,fe)=>{switch(ie){case"En cours":return{variant:"success",text:"En cours"};case"Future":return{variant:"info",text:"À venir"};case"Passée":return fe?{variant:"secondary",text:"Terminée"}:{variant:"danger",text:"Manquée"};default:return{variant:"secondary",text:ie}}};return a?e.jsx(fs,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement du calendrier..."})]})}):e.jsx(fs,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${n==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"calendar",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${n==="dark"?"text-light":"text-dark"}`,children:"Mon Calendrier Académique"}),e.jsxs("p",{className:`mb-0 ${n==="dark"?"text-light":"text-muted"}`,children:["Planning des évaluations et cours • ",o.name||"Ma Classe"]})]})]}),e.jsx($,{variant:"outline-primary",onClick:()=>V(),title:"Actualiser",children:e.jsx("i",{"data-feather":"refresh-cw",style:{width:"16px",height:"16px"}})})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${n==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${n==="dark"?"text-light":"text-dark"}`,children:d.total_events||0}),e.jsx("small",{className:n==="dark"?"text-light":"text-muted",children:"Événements totaux"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"calendar",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${n==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-warning",children:d.evaluations_count||0}),e.jsx("small",{className:n==="dark"?"text-light":"text-muted",children:"Évaluations"})]}),e.jsx("div",{className:"text-warning",children:e.jsx("i",{"data-feather":"clipboard",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${n==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-info",children:d.cours_count||0}),e.jsx("small",{className:n==="dark"?"text-light":"text-muted",children:"Nouveaux cours"})]}),e.jsx("div",{className:"text-info",children:e.jsx("i",{"data-feather":"book-open",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${n==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:d.evaluations_en_cours||0}),e.jsx("small",{className:n==="dark"?"text-light":"text-muted",children:"En cours"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"play-circle",style:{width:"24px",height:"24px"}})})]})})})})]})]}),e.jsxs(pe,{children:[e.jsx(T,{lg:9,children:e.jsxs(w,{className:`shadow-sm border-0 ${n==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${n==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"calendar",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${n==="dark"?"text-light":"text-dark"}`,children:"Calendrier"})]}),e.jsxs("div",{className:"d-flex align-items-center gap-2 mt-2 mt-md-0",children:[e.jsxs(Ga,{size:"sm",children:[e.jsx($,{variant:"outline-secondary",onClick:()=>se("prev"),title:"Mois précédent",children:e.jsx("i",{"data-feather":"chevron-left",style:{width:"14px",height:"14px"}})}),e.jsx($,{variant:"outline-primary",onClick:()=>se("today"),title:"Aujourd'hui",children:"Aujourd'hui"}),e.jsx($,{variant:"outline-secondary",onClick:()=>se("next"),title:"Mois suivant",children:e.jsx("i",{"data-feather":"chevron-right",style:{width:"14px",height:"14px"}})})]}),e.jsxs(at,{onToggle:ie=>{ie&&setTimeout(()=>We.replace(),0)},children:[e.jsxs(at.Toggle,{variant:"outline-info",size:"sm",children:[e.jsx("i",{"data-feather":"eye",className:"me-1",style:{width:"14px",height:"14px"}}),"Vue"]}),e.jsxs(at.Menu,{children:[e.jsxs(at.Item,{active:y==="dayGridMonth",onClick:()=>G("dayGridMonth"),children:[e.jsx("i",{"data-feather":"calendar",className:"me-2",style:{width:"14px",height:"14px"}}),"Mois"]}),e.jsxs(at.Item,{active:y==="timeGridWeek",onClick:()=>G("timeGridWeek"),children:[e.jsx("i",{"data-feather":"columns",className:"me-2",style:{width:"14px",height:"14px"}}),"Semaine"]}),e.jsxs(at.Item,{active:y==="timeGridDay",onClick:()=>G("timeGridDay"),children:[e.jsx("i",{"data-feather":"square",className:"me-2",style:{width:"14px",height:"14px"}}),"Jour"]}),e.jsxs(at.Item,{active:y==="listWeek",onClick:()=>G("listWeek"),children:[e.jsx("i",{"data-feather":"list",className:"me-2",style:{width:"14px",height:"14px"}}),"Liste"]})]})]})]})]})}),e.jsx(w.Body,{className:`${n==="dark"?"bg-dark":"bg-white"} p-3`,children:e.jsx("div",{className:`calendar-container ${n==="dark"?"dark-calendar":""}`,children:e.jsx(C4,{ref:t,plugins:[Qq,eG,iG,lG],initialView:y,locale:WCe,events:l,eventClick:q,headerToolbar:!1,height:"auto",aspectRatio:1.35,eventDisplay:"block",displayEventTime:!0,eventTimeFormat:{hour:"2-digit",minute:"2-digit",hour12:!1},slotLabelFormat:{hour:"2-digit",minute:"2-digit",hour12:!1},dayHeaderFormat:{weekday:"long"},eventContent:ie=>{const fe=ie.event.extendedProps;return e.jsxs("div",{className:"fc-event-content-custom",children:[e.jsxs("div",{className:"fc-event-title-container",children:[e.jsx("i",{"data-feather":Z(fe.type),style:{width:"12px",height:"12px",marginRight:"4px"}}),e.jsx("span",{className:"fc-event-title",children:ie.event.title})]}),fe.type==="evaluation"&&e.jsx("div",{className:"fc-event-meta",children:e.jsxs("small",{children:[fe.duree_minutes,"min • ",fe.questions_count,"Q"]})})]})}})})})]})}),e.jsxs(T,{lg:3,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${n==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${n==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h6",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"clock",className:"me-2",style:{width:"16px",height:"16px"}}),"Prochains événements"]})}),e.jsx(w.Body,{className:"p-0",children:p.length>0?e.jsx("div",{className:"list-group list-group-flush",children:p.map((ie,fe)=>{const J=new Date(ie.date_debut),re=J-new Date,ve=Math.ceil(re/(1e3*60*60*24));return e.jsx("div",{className:`list-group-item border-0 ${n==="dark"?"bg-dark text-light":"bg-white"}`,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[e.jsxs("div",{className:"flex-grow-1",children:[e.jsxs("div",{className:"d-flex align-items-center mb-1",children:[e.jsx("i",{"data-feather":"clipboard",className:"me-2 text-warning",style:{width:"14px",height:"14px"}}),e.jsx("strong",{className:`small ${n==="dark"?"text-light":"text-dark"}`,children:ie.titre})]}),e.jsxs("div",{className:"small text-muted mb-1",children:[e.jsx("i",{"data-feather":"book",className:"me-1",style:{width:"12px",height:"12px"}}),ie.matiere?.nom]}),e.jsxs("div",{className:"small text-muted",children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"12px",height:"12px"}}),J.toLocaleDateString("fr-FR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),e.jsx(oe,{bg:ve<=1?"danger":ve<=3?"warning":"info",className:"ms-2",children:ve===0?"Aujourd'hui":ve===1?"Demain":`${ve}j`})]})},ie.id)})}):e.jsxs("div",{className:"p-3 text-center text-muted",children:[e.jsx("i",{"data-feather":"calendar",className:"mb-2",style:{width:"32px",height:"32px"}}),e.jsx("div",{children:e.jsx("small",{children:"Aucun événement à venir dans les 7 prochains jours"})})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm ${n==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${n==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h6",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"16px",height:"16px"}}),"Légende"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"me-2 rounded",style:{width:"16px",height:"16px",backgroundColor:"#28a745"}}),e.jsx("small",{className:n==="dark"?"text-light":"text-dark",children:"Évaluation en cours"})]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"me-2 rounded",style:{width:"16px",height:"16px",backgroundColor:"#007bff"}}),e.jsx("small",{className:n==="dark"?"text-light":"text-dark",children:"Évaluation à venir"})]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"me-2 rounded",style:{width:"16px",height:"16px",backgroundColor:"#6c757d"}}),e.jsx("small",{className:n==="dark"?"text-light":"text-dark",children:"Évaluation terminée"})]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"me-2 rounded",style:{width:"16px",height:"16px",backgroundColor:"#dc3545"}}),e.jsx("small",{className:n==="dark"?"text-light":"text-dark",children:"Évaluation manquée"})]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"me-2 rounded",style:{width:"16px",height:"16px",backgroundColor:"#17a2b8"}}),e.jsx("small",{className:n==="dark"?"text-light":"text-dark",children:"Nouveau cours"})]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"me-2 rounded",style:{width:"16px",height:"16px",backgroundColor:"#ffc107"}}),e.jsx("small",{className:n==="dark"?"text-light":"text-dark",children:"Événement important"})]})]})})]})]})]}),e.jsxs(Y,{show:C,onHide:()=>_(!1),centered:!0,contentClassName:n==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:n==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:A&&e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":Z(A.extendedProps.type),className:"me-2",style:{width:"20px",height:"20px"}}),"Détails de l'événement"]})})}),e.jsx(Y.Body,{className:n==="dark"?"bg-dark text-light":"",children:A&&e.jsxs("div",{children:[e.jsx("h5",{className:n==="dark"?"text-light":"text-dark",children:A.title}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("span",{className:"text-muted",children:"Type :"}),e.jsx(oe,{bg:"primary",children:A.extendedProps.type==="evaluation"?"Évaluation":A.extendedProps.type==="cours"?"Cours":"Événement"})]}),A.extendedProps.matiere&&e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Matière :"}),e.jsx("span",{className:n==="dark"?"text-light":"text-dark",children:A.extendedProps.matiere})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Date :"}),e.jsx("span",{className:n==="dark"?"text-light":"text-dark",children:O(A.start)})]}),A.extendedProps.type==="evaluation"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Durée :"}),e.jsx("span",{className:n==="dark"?"text-light":"text-dark",children:W(A.extendedProps.duree_minutes)})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Questions :"}),e.jsx("span",{className:n==="dark"?"text-light":"text-dark",children:A.extendedProps.questions_count})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Points :"}),e.jsx("span",{className:n==="dark"?"text-light":"text-dark",children:A.extendedProps.total_points})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"État :"}),e.jsx(oe,{bg:te(A.extendedProps.etat_temporel,A.extendedProps.a_participe).variant,children:te(A.extendedProps.etat_temporel,A.extendedProps.a_participe).text})]})]}),A.extendedProps.description&&e.jsxs("div",{className:"mt-3",children:[e.jsx("span",{className:"text-muted d-block mb-2",children:"Description :"}),e.jsx("div",{className:`p-2 rounded ${n==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:A.extendedProps.description})]})]})]})}),e.jsxs(Y.Footer,{className:n==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>_(!1),children:"Fermer"}),A?.extendedProps.clickable&&A?.extendedProps.redirect_url&&e.jsxs($,{variant:"primary",onClick:()=>{s(A.extendedProps.redirect_url),_(!1)},children:[e.jsx("i",{"data-feather":"external-link",className:"me-2",style:{width:"16px",height:"16px"}}),"Accéder"]})]})]}),e.jsx("style",{jsx:"true",children:`
          .calendar-container .fc {
            font-family: inherit;
          }
          
          .calendar-container .fc-toolbar {
            margin-bottom: 1rem;
          }
          
          .calendar-container .fc-event {
            cursor: pointer;
            border-radius: 4px;
            padding: 2px 4px;
            margin-bottom: 1px;
          }
          
          .calendar-container .fc-event:hover {
            opacity: 0.8;
            transform: translateY(-1px);
            transition: all 0.2s ease;
          }
          
          .fc-event-content-custom {
            padding: 2px;
          }
          
          .fc-event-title-container {
            display: flex;
            align-items: center;
            font-weight: 500;
            font-size: 11px;
            line-height: 1.2;
          }
          
          .fc-event-meta {
            font-size: 9px;
            opacity: 0.8;
            margin-top: 1px;
          }
          
          .dark-calendar .fc-theme-standard td,
          .dark-calendar .fc-theme-standard th {
            border-color: #495057;
          }
          
          .dark-calendar .fc-theme-standard .fc-scrollgrid {
            border-color: #495057;
          }
          
          .dark-calendar .fc-col-header-cell {
            background-color: transparent;
            color: ${n==="dark"?"#ffffff":"#000000"};
          }
          
          .dark-calendar .fc-daygrid-day {
            background-color: transparent;
            color: ${n==="dark"?"#ffffff":"#000000"};
          }
          
          .dark-calendar .fc-day-today {
            background-color: ${n==="dark"?"#495057":"#fff3cd"} !important;
          }
        `}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:F,onClose:()=>Q(!1),delay:4e3,autohide:!0,bg:z==="success"?"success":"danger",className:n==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${z==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":z==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:n==="dark"?"bg-dark text-light":"",children:I})]})})]})})}function KCe(){const[s,t]=x.useState(!0),[a,r]=x.useState("light"),[n,i]=x.useState({}),[l,c]=x.useState([]),[o,u]=x.useState({}),[d,f]=x.useState({search:"",status:""}),[p,j]=x.useState({}),[y,k]=x.useState(!1),[v,S]=x.useState(""),[C,_]=x.useState("success");x.useEffect(()=>{const I=document.documentElement.getAttribute("data-theme")||"light";r(I);const H=new MutationObserver(()=>{const z=document.documentElement.getAttribute("data-theme")||"light";r(z)});return H.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>H.disconnect()},[]);const A=(I,H="success")=>{S(I),_(H),k(!0)},D=x.useCallback(async()=>{try{t(!0);const I={};Object.keys(d).forEach(z=>{d[z]?.trim()&&(I[z]=d[z].trim())});const H=await he.get("/etudiant/view/cours/my-classroom",{params:I});H.data.status==="success"?(i(H.data.classroom||{}),c(H.data.cours||[]),u(H.data.cours_groupes_par_matiere||{})):A(H.data.message||"Erreur lors du chargement des cours","danger")}catch(I){console.error("Erreur lors du chargement des cours:",I);const H=I.response?.data?.message||"Erreur lors du chargement des cours";A(H,"danger")}finally{t(!1)}},[d]);x.useEffect(()=>{D()},[D]),x.useEffect(()=>{We.replace()},[o]);const M=I=>{j(H=>({...H,[I]:!H[I]}))},L=I=>{switch(I){case"Publié":return"success";case"Brouillon":return"warning";case"Archivé":return"secondary";default:return"secondary"}},F=I=>{switch(I){case"Publié":return"check-circle";case"Brouillon":return"edit-3";case"Archivé":return"archive";default:return"help-circle"}},Q=I=>I?new Date(I).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"}):"Non définie";return s?e.jsx(fs,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement de vos cours..."})]})}):e.jsx(fs,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"d-flex align-items-center justify-content-between mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${a==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"book-open",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsxs("h2",{className:`mb-1 ${a==="dark"?"text-light":"text-dark"}`,children:["Mes Cours - ",n.name||"Ma Classe"]}),e.jsxs("p",{className:`mb-0 ${a==="dark"?"text-light":"text-muted"}`,children:["Cours organisés par matière • ",l.length," cours disponibles"]})]})]})}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:l.length}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Total cours"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"book-open",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:l.filter(I=>I.status==="Publié").length}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Publiés"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"check-circle",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-info",children:Object.keys(o).length}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Matières"})]}),e.jsx("div",{className:"text-info",children:e.jsx("i",{"data-feather":"book",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:n.name?n.name:"N/A"}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Ma classe"})]}),e.jsx("div",{className:"text-warning",children:e.jsx("i",{"data-feather":"users",style:{width:"24px",height:"24px"}})})]})})})})]})]}),e.jsxs(w,{className:`shadow-sm border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"layers",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:"Cours par Matière"})]})})}),e.jsxs(w.Body,{className:a==="dark"?"bg-dark":"bg-white",children:[e.jsx("div",{className:"mb-4 p-3 rounded",style:{backgroundColor:a==="dark"?"#1a1a1a":"#f8f9fa"},children:e.jsx(pe,{className:"g-3",children:e.jsxs(T,{md:12,children:[e.jsxs(b.Label,{className:`small fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"search",className:"me-1",style:{width:"14px",height:"14px"}}),"Rechercher un cours"]}),e.jsx(b.Control,{type:"text",placeholder:"Rechercher par titre, description...",value:d.search,onChange:I=>f({...d,search:I.target.value}),className:a==="dark"?"bg-dark text-light border-secondary":""})]})})}),Object.keys(o).length>0?e.jsx("div",{className:"cours-groups",children:Object.entries(o).map(([I,H])=>e.jsxs(w,{className:`mb-4 border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`${a==="dark"?"bg-dark border-secondary":"bg-light"} cursor-pointer`,onClick:()=>M(`matiere-${I}`),style:{cursor:"pointer"},children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"book",className:"text-success me-3",style:{width:"20px",height:"20px"}}),e.jsxs("div",{children:[e.jsx("h5",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:I}),e.jsxs("small",{className:"text-muted",children:[H.length," cours disponible",H.length>1?"s":""]})]})]}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsxs(oe,{bg:"success",children:[H.length," cours"]}),e.jsx("i",{"data-feather":p[`matiere-${I}`]?"chevron-up":"chevron-down",className:`${a==="dark"?"text-light":"text-muted"}`,style:{width:"20px",height:"20px"}})]})]})}),e.jsx(Oa,{in:p[`matiere-${I}`]!==!1,children:e.jsx(w.Body,{className:a==="dark"?"bg-dark":"",children:e.jsx(pe,{className:"g-3",children:H.map(z=>e.jsx(T,{md:6,lg:4,children:e.jsx(w,{className:`h-100 border ${a==="dark"?"bg-dark border-secondary":"bg-white"}`,children:e.jsxs(w.Body,{children:[e.jsx("div",{className:"d-flex justify-content-between align-items-start mb-2",children:e.jsxs(oe,{bg:L(z.status),className:"mb-2",children:[e.jsx("i",{"data-feather":F(z.status),className:"me-1",style:{width:"10px",height:"10px"}}),z.status]})}),e.jsx("h6",{className:`${a==="dark"?"text-light":"text-dark"} mb-2`,children:z.titre.length>45?z.titre.substring(0,45)+"...":z.titre}),e.jsxs("small",{className:"text-muted d-block mb-2",children:["Code: ",z.matricule]}),z.description&&e.jsx("p",{className:`small ${a==="dark"?"text-light":"text-muted"} mb-2`,children:z.description.length>80?z.description.substring(0,80)+"...":z.description}),e.jsxs("div",{className:"small text-muted mb-3 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"12px",height:"12px"}}),"Publié le ",Q(z.created_at)]}),e.jsx("div",{className:"d-flex gap-1",children:e.jsxs($,{size:"sm",variant:"primary",as:xe,to:`/etudiant/show/cours/${z.id}`,title:"Consulter le cours",className:"flex-fill",children:[e.jsx("i",{"data-feather":"eye",className:"me-1",style:{width:"14px",height:"14px"}}),"Consulter"]})})]})})},z.id))})})})]},I))}):e.jsx("div",{className:"text-center py-5",children:e.jsxs("div",{className:`${a==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"book-open",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucun cours disponible"}),e.jsx("p",{className:"small mb-0",children:"Votre classe n'a pas encore de cours publiés ou aucun cours ne correspond à vos critères de recherche."})]})]})})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:y,onClose:()=>k(!1),delay:4e3,autohide:!0,bg:C==="success"?"success":"danger",className:a==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${C==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":C==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:a==="dark"?"bg-dark text-light":"",children:v})]})})]})})}function QCe({show:s,onHide:t,cours:a,fileIndex:r,fileName:n,fileType:i,fileSize:l,fileUrl:c}){const[o,u]=x.useState(!1),[d,f]=x.useState(null),[p,j]=x.useState(null),[y,k]=x.useState("light");x.useEffect(()=>{const I=document.documentElement.getAttribute("data-theme")||"light";k(I);const H=new MutationObserver(()=>{const z=document.documentElement.getAttribute("data-theme")||"light";k(z)});return H.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>H.disconnect()},[]);const v=x.useCallback(async()=>{if(!(!s||!a?.id||!r))try{if(u(!0),f(null),j(null),S(i)){j({type:"image",url:c});return}if(C(i)){j({type:"pdf",url:c});return}if(_(i)){try{const I=await fetch(c);if(I.ok){const H=await I.text();j({type:"text",content:H})}else throw new Error("Fichier non accessible")}catch{j({type:"download-only",message:"Prévisualisation non disponible"})}return}j({type:"download-only",message:"Prévisualisation non supportée pour ce type de fichier"})}catch(I){f("Erreur lors du chargement du fichier"),console.error("Erreur:",I)}finally{u(!1)}},[s,a?.id,r,i,c]);x.useEffect(()=>{s&&v()},[v,s]),x.useEffect(()=>{We.replace()},[p,o]);const S=I=>I?.includes("image")||/\.(jpg|jpeg|png|gif|webp|bmp|svg)$/i.test(n),C=I=>I?.includes("pdf")||/\.pdf$/i.test(n),_=I=>I?.includes("text")||/\.(txt|md|csv)$/i.test(n),A=I=>I?.includes("word")||I?.includes("excel")||I?.includes("powerpoint")||/\.(doc|docx|xls|xlsx|ppt|pptx)$/i.test(n),D=I=>S(I)?"image":C(I)||I?.includes("word")||I?.includes("document")?"file-text":I?.includes("sheet")||I?.includes("excel")?"grid":I?.includes("presentation")||I?.includes("powerpoint")?"monitor":_(I)?"file-text":"file",M=I=>S(I)?"text-info":C(I)?"text-danger":I?.includes("word")||I?.includes("document")?"text-primary":I?.includes("sheet")||I?.includes("excel")?"text-success":I?.includes("presentation")||I?.includes("powerpoint")?"text-warning":_(I)?"text-secondary":"text-muted",L=I=>{if(!I)return"Taille inconnue";if(I===0)return"0 Bytes";const H=1024,z=["Bytes","KB","MB","GB"],K=Math.floor(Math.log(I)/Math.log(H));return parseFloat((I/Math.pow(H,K)).toFixed(2))+" "+z[K]},F=async()=>{try{const I=await he.get(`/etudiant/download/cours/${a.id}/file/${r}`,{responseType:"blob"}),H=window.URL.createObjectURL(new Blob([I.data])),z=document.createElement("a");z.href=H,z.setAttribute("download",n),document.body.appendChild(z),z.click(),z.remove(),window.URL.revokeObjectURL(H)}catch(I){console.error("Erreur lors du téléchargement:",I)}},Q=()=>{if(o)return e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement du fichier..."})]});if(d)return e.jsxs(lt,{variant:"danger",className:"m-3",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),d]});if(!p)return null;switch(p.type){case"image":return e.jsx("div",{className:"text-center p-3",children:e.jsx("img",{src:p.url,alt:n,style:{maxWidth:"100%",maxHeight:"70vh",objectFit:"contain",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"}})});case"pdf":return e.jsx("div",{style:{height:"70vh"},children:e.jsx("iframe",{src:`${p.url}#toolbar=1&navpanes=1&scrollbar=1`,width:"100%",height:"100%",style:{border:"none",borderRadius:"8px"},title:n,children:e.jsxs("p",{children:["Votre navigateur ne supporte pas les PDFs.",e.jsx($,{variant:"link",onClick:F,children:"Télécharger le fichier"})]})})});case"text":return e.jsxs(w,{className:`m-3 ${y==="dark"?"bg-dark text-light":""}`,children:[e.jsxs(w.Header,{children:[e.jsx("i",{"data-feather":"file-text",className:"me-2"}),"Contenu du fichier"]}),e.jsx(w.Body,{children:e.jsx("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",maxHeight:"60vh",overflow:"auto",fontSize:"14px",lineHeight:"1.4"},className:y==="dark"?"text-light":"text-dark",children:p.content})})]});case"download-only":return e.jsx("div",{className:"text-center py-5",children:e.jsxs("div",{className:`${y==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":D(i),className:`mb-3 ${M(i)}`,style:{width:"64px",height:"64px"}}),e.jsxs("div",{children:[e.jsx("h5",{children:"Prévisualisation non disponible"}),e.jsx("p",{children:p.message}),A(i)&&e.jsx("small",{className:"text-muted",children:"Les fichiers Office nécessitent une application dédiée pour être visualisés."}),e.jsx("div",{className:"mt-3",children:e.jsxs($,{variant:"primary",onClick:F,children:[e.jsx("i",{"data-feather":"download",className:"me-2"}),"Télécharger le fichier"]})})]})]})});default:return null}};return e.jsxs(Y,{show:s,onHide:t,size:"xl",centered:!0,contentClassName:y==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{closeButton:!0,className:y==="dark"?"bg-dark text-light border-secondary":"",children:e.jsxs(Y.Title,{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":D(i),className:`me-2 ${M(i)}`,style:{width:"24px",height:"24px"}}),n]})}),e.jsxs(Y.Body,{className:`p-0 ${y==="dark"?"bg-dark text-light":""}`,style:{maxHeight:"80vh",overflow:"auto"},children:[e.jsx("div",{className:"p-3 border-bottom",children:e.jsxs(pe,{className:"align-items-center",children:[e.jsx(T,{md:8,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(oe,{bg:"secondary",className:"me-2",children:L(l)}),e.jsxs("small",{className:"text-muted",children:["Cours: ",a?.titre]})]})}),e.jsxs(T,{md:4,className:"text-end",children:[e.jsxs($,{variant:"outline-primary",size:"sm",onClick:F,className:"me-2",children:[e.jsx("i",{"data-feather":"download",className:"me-1",style:{width:"14px",height:"14px"}}),"Télécharger"]}),e.jsxs($,{variant:"outline-secondary",size:"sm",onClick:t,children:[e.jsx("i",{"data-feather":"x",className:"me-1",style:{width:"14px",height:"14px"}}),"Fermer"]})]})]})}),Q()]})]})}const XCe=()=>{const[s,t]=x.useState({show:!1,cours:null,fileIndex:null,fileName:"",fileType:"",fileSize:0,fileUrl:""}),a=(i,l,c,o,u,d)=>{t({show:!0,cours:i,fileIndex:l,fileName:c,fileType:o,fileSize:u,fileUrl:d})},r=()=>{t(i=>({...i,show:!1}))};return{openFileViewer:a,closeFileViewer:r,FileViewerComponent:()=>e.jsx(QCe,{show:s.show,onHide:r,cours:s.cours,fileIndex:s.fileIndex,fileName:s.fileName,fileType:s.fileType,fileSize:s.fileSize,fileUrl:s.fileUrl})}};function ZCe(){const{id:s}=is();Ut();const[t,a]=x.useState(!0),[r,n]=x.useState(null),[i,l]=x.useState(null),[c,o]=x.useState("light"),[u,d]=x.useState(!1),[f,p]=x.useState(""),[j,y]=x.useState("success"),{openFileViewer:k,FileViewerComponent:v}=XCe();x.useEffect(()=>{const H=document.documentElement.getAttribute("data-theme")||"light";o(H);const z=new MutationObserver(()=>{const K=document.documentElement.getAttribute("data-theme")||"light";o(K)});return z.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>z.disconnect()},[]);const S=(H,z="success")=>{p(H),y(z),d(!0)},C=x.useCallback(async()=>{try{a(!0);const H=await he.get(`/etudiant/show/cours/${s}`);H.data.status==="success"?l(H.data.cours):n(H.data.message||"Erreur lors du chargement du cours")}catch(H){n("Erreur lors du chargement du cours"),console.error("Erreur:",H),H.response?.status===404?n("Cours introuvable ou non accessible"):H.response?.status===403&&n("Vous n'avez pas l'autorisation d'accéder à ce cours")}finally{a(!1)}},[s]);x.useEffect(()=>{s&&C()},[C]),x.useEffect(()=>{We.replace()},[i]);const _=async(H,z)=>{try{const K=await he.get(`/etudiant/download/cours/${s}/file/${H}`,{responseType:"blob"}),U=window.URL.createObjectURL(new Blob([K.data])),V=document.createElement("a");V.href=U;const P=K.headers["content-disposition"];let q=z||`fichier_${H}.pdf`;if(P){const G=P.match(/filename="(.+)"/);G&&(q=G[1])}V.setAttribute("download",q),document.body.appendChild(V),V.click(),V.remove(),window.URL.revokeObjectURL(U),S(`Téléchargement de ${q} démarré`,"success")}catch(K){console.error(K),S("Erreur lors du téléchargement","danger")}},A=(H,z)=>{k(i,H,z.nom,z.type,z.taille,z.url)},D=H=>{switch(H){case"Publié":return"success";case"Brouillon":return"warning";case"Archivé":return"secondary";default:return"secondary"}},M=H=>{switch(H){case"Publié":return"eye";case"Brouillon":return"edit-3";case"Archivé":return"archive";default:return"help-circle"}},L=H=>H?.includes("pdf")||H?.includes("word")||H?.includes("document")?"file-text":H?.includes("sheet")||H?.includes("excel")?"grid":H?.includes("presentation")||H?.includes("powerpoint")?"monitor":H?.includes("image")?"image":H?.includes("text")?"file-text":"file",F=H=>H?.includes("pdf")?"text-danger":H?.includes("word")||H?.includes("document")?"text-primary":H?.includes("sheet")||H?.includes("excel")?"text-success":H?.includes("presentation")||H?.includes("powerpoint")?"text-warning":H?.includes("image")?"text-info":"text-secondary",Q=H=>{if(H===0)return"0 Bytes";const z=1024,K=["Bytes","KB","MB","GB"],U=Math.floor(Math.log(H)/Math.log(z));return parseFloat((H/Math.pow(z,U)).toFixed(2))+" "+K[U]},I=H=>H?.includes("image");return t?e.jsx(fs,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement du cours..."})]})}):r||!i?e.jsxs(fs,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),r||"Cours introuvable"]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:"secondary",as:xe,to:"/etudiant/view/cours/my-classroom",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à mes cours"]}),e.jsxs($,{variant:"outline-primary",onClick:C,children:[e.jsx("i",{"data-feather":"refresh-cw",className:"me-2"}),"Réessayer"]})]})]}):e.jsxs(fs,{children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:e.jsx("div",{children:e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:"/etudiant/view/cours/my-classroom",className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour à mes cours"]}),e.jsxs("div",{children:[e.jsx("h1",{className:`h3 mb-0 ${c==="dark"?"text-light":"text-dark"}`,children:i.titre}),e.jsxs("div",{className:"d-flex align-items-center gap-2 mt-1",children:[e.jsxs("small",{className:"text-muted",children:["Code: ",i.matricule]}),e.jsxs(oe,{bg:D(i.status),className:"px-2 py-1",children:[e.jsx("i",{"data-feather":M(i.status),className:"me-1",style:{width:"12px",height:"12px"}}),i.status]})]})]})]})})}),e.jsxs(pe,{children:[e.jsxs(T,{lg:8,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${c==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations du cours"]})}),e.jsx(w.Body,{children:e.jsxs(pe,{className:"g-4",children:[e.jsx(T,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"small fw-bold text-muted",children:"TITRE"}),e.jsx("div",{className:`${c==="dark"?"text-light":"text-dark"}`,children:i.titre})]})}),e.jsx(T,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"small fw-bold text-muted",children:"MATIÈRE"}),e.jsxs("div",{className:`d-flex align-items-center ${c==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"16px",height:"16px"}}),i.matiere?.nom||"Non définie"]}),i.matiere?.classroom&&e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{"data-feather":"home",className:"me-1",style:{width:"12px",height:"12px"}}),i.matiere.classroom.name]})]})}),e.jsx(T,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"small fw-bold text-muted",children:"CODE DU COURS"}),e.jsx("div",{className:`${c==="dark"?"text-light":"text-dark"}`,children:e.jsx("code",{className:"px-2 py-1 bg-primary bg-opacity-10 rounded text-primary",children:i.matricule})})]})}),e.jsx(T,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"small fw-bold text-muted",children:"DATE DE PUBLICATION"}),e.jsx("div",{className:`${c==="dark"?"text-light":"text-dark"}`,children:new Date(i.created_at).toLocaleDateString("fr-FR",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})}),i.description&&e.jsx(T,{md:12,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"small fw-bold text-muted",children:"DESCRIPTION"}),e.jsx("div",{className:`${c==="dark"?"text-light":"text-dark"}`,children:i.description})]})})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${c==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"file-text",className:"me-2",style:{width:"20px",height:"20px"}}),"Contenu du cours"]})}),e.jsx(w.Body,{children:e.jsx("div",{className:`${c==="dark"?"text-light":"text-dark"}`,style:{whiteSpace:"pre-wrap",lineHeight:"1.8",fontSize:"1.05rem"},children:i.contenu})})]}),i.liens_externes_decoded&&i.liens_externes_decoded.length>0&&e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${c==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"external-link",className:"me-2",style:{width:"20px",height:"20px"}}),"Ressources externes"]})}),e.jsx(w.Body,{children:e.jsx("div",{className:"d-flex flex-column gap-3",children:i.liens_externes_decoded.map((H,z)=>e.jsx("div",{className:"p-3 border rounded bg-light",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"link",className:"me-2 text-primary",style:{width:"16px",height:"16px"}}),e.jsx("a",{href:H,target:"_blank",rel:"noopener noreferrer",className:"text-primary text-decoration-none fw-medium",children:H}),e.jsx($,{variant:"outline-primary",size:"sm",className:"ms-auto",onClick:()=>window.open(H,"_blank"),children:e.jsx("i",{"data-feather":"external-link",style:{width:"14px",height:"14px"}})})]})},z))})})]})]}),e.jsxs(T,{lg:4,children:[i.matiere&&e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${c==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"20px",height:"20px"}}),"Matière"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{className:c==="dark"?"text-light":"text-dark",children:i.matiere.nom}),i.matiere.description&&e.jsx("p",{className:"small text-muted mt-1 mb-0",children:i.matiere.description})]}),i.matiere.classroom&&e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"d-flex align-items-center text-muted",children:[e.jsx("i",{"data-feather":"home",className:"me-2",style:{width:"16px",height:"16px"}}),e.jsxs("small",{children:["Classe: ",i.matiere.classroom.name]})]})}),e.jsx("div",{className:"d-flex justify-content-between align-items-center",children:e.jsx("div",{children:e.jsxs(oe,{bg:"info",className:"px-2 py-1",children:["Coeff. ",i.matiere.coefficient||1]})})})]})]}),(i.fichiers_joints_1_decoded||i.fichiers_joints_2_decoded)&&e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${c==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"paperclip",className:"me-2",style:{width:"20px",height:"20px"}}),"Documents attachés"]})}),e.jsxs(w.Body,{children:[i.fichiers_joints_1_decoded&&e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"small fw-bold text-muted mb-2 d-block",children:"DOCUMENT 1"}),i.fichiers_joints_1_decoded.map((H,z)=>e.jsx("div",{className:"border rounded p-3 mb-2",children:e.jsxs("div",{className:"d-flex align-items-start justify-content-between",children:[e.jsxs("div",{className:"flex-grow-1",children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("i",{"data-feather":L(H.type),className:`me-2 ${F(H.type)}`,style:{width:"20px",height:"20px"}}),e.jsx("strong",{className:c==="dark"?"text-light":"text-dark",children:H.nom})]}),e.jsxs("div",{className:"small text-muted mb-2",children:["Taille: ",Q(H.taille)]}),I(H.type)&&e.jsx("div",{className:"mt-2",children:e.jsx(Mt,{src:H.url,alt:H.nom,thumbnail:!0,style:{maxWidth:"150px",maxHeight:"100px",cursor:"pointer"},onClick:()=>A(1,H)})})]}),e.jsxs("div",{className:"d-flex flex-column gap-1",children:[e.jsx($,{variant:"outline-info",size:"sm",onClick:()=>A(1,H),title:"Visualiser",children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),e.jsx($,{variant:"outline-primary",size:"sm",onClick:()=>_(1,H.nom),title:"Télécharger",children:e.jsx("i",{"data-feather":"download",style:{width:"14px",height:"14px"}})})]})]})},z))]}),i.fichiers_joints_2_decoded&&e.jsxs("div",{children:[e.jsx("label",{className:"small fw-bold text-muted mb-2 d-block",children:"DOCUMENT 2"}),i.fichiers_joints_2_decoded.map((H,z)=>e.jsx("div",{className:"border rounded p-3 mb-2",children:e.jsxs("div",{className:"d-flex align-items-start justify-content-between",children:[e.jsxs("div",{className:"flex-grow-1",children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("i",{"data-feather":L(H.type),className:`me-2 ${F(H.type)}`,style:{width:"20px",height:"20px"}}),e.jsx("strong",{className:c==="dark"?"text-light":"text-dark",children:H.nom})]}),e.jsxs("div",{className:"small text-muted mb-2",children:["Taille: ",Q(H.taille)]}),I(H.type)&&e.jsx("div",{className:"mt-2",children:e.jsx(Mt,{src:H.url,alt:H.nom,thumbnail:!0,style:{maxWidth:"150px",maxHeight:"100px",cursor:"pointer"},onClick:()=>A(2,H)})})]}),e.jsxs("div",{className:"d-flex flex-column gap-1",children:[e.jsx($,{variant:"outline-info",size:"sm",onClick:()=>A(2,H),title:"Visualiser",children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),e.jsx($,{variant:"outline-primary",size:"sm",onClick:()=>_(2,H.nom),title:"Télécharger",children:e.jsx("i",{"data-feather":"download",style:{width:"14px",height:"14px"}})})]})]})},z))]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${c==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"bookmark",className:"me-2",style:{width:"20px",height:"20px"}}),"Actions"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"outline-primary",onClick:()=>window.print(),children:[e.jsx("i",{"data-feather":"printer",className:"me-2",style:{width:"16px",height:"16px"}}),"Imprimer le cours"]}),e.jsxs($,{variant:"outline-success",as:xe,to:"/etudiant/view/cours/my-classroom",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2",style:{width:"16px",height:"16px"}}),"Retour à mes cours"]})]})})]})]})]}),e.jsx(v,{}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:u,onClose:()=>d(!1),delay:3e3,autohide:!0,bg:j==="success"?"success":"danger",className:c==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${j==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":j==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:c==="dark"?"bg-dark text-light":"",children:f})]})})]})}function JCe(){const[s,t]=x.useState(!0),[a,r]=x.useState("light"),[n,i]=x.useState({}),[l,c]=x.useState([]),[o,u]=x.useState("card"),[d,f]=x.useState({search:"",status:""}),[p,j]=x.useState(!1),[y,k]=x.useState(""),[v,S]=x.useState("success");x.useEffect(()=>{const Q=document.documentElement.getAttribute("data-theme")||"light";r(Q);const I=new MutationObserver(()=>{const H=document.documentElement.getAttribute("data-theme")||"light";r(H)});return I.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>I.disconnect()},[]);const C=(Q,I="success")=>{k(Q),S(I),j(!0)},_=x.useCallback(async()=>{try{t(!0);const Q={};Object.keys(d).forEach(H=>{d[H]?.trim()&&(Q[H]=d[H].trim())});const I=await he.get("/etudiant/view/matieres/my-classroom",{params:Q});I.data.status==="success"?(i(I.data.classroom||{}),c(I.data.matieres||[])):C(I.data.message||"Erreur lors du chargement des matières","danger")}catch(Q){console.error("Erreur lors du chargement des matières:",Q);const I=Q.response?.data?.message||"Erreur lors du chargement des matières";C(I,"danger")}finally{t(!1)}},[d]);x.useEffect(()=>{_()},[_]),x.useEffect(()=>{We.replace()},[l,o]);const A=Q=>{switch(Q){case"Active":return"success";case"Inactive":return"warning";case"Suspendue":return"danger";default:return"secondary"}},D=Q=>{switch(Q){case"Active":return"check-circle";case"Inactive":return"pause-circle";case"Suspendue":return"x-circle";default:return"help-circle"}},M=l.filter(Q=>{const I=d.search.toLowerCase(),H=!I||Q.nom.toLowerCase().includes(I)||Q.matricule.toLowerCase().includes(I)||Q.description&&Q.description.toLowerCase().includes(I),z=!d.status||Q.status===d.status;return H&&z}),L=()=>e.jsx(pe,{className:"g-4",children:M.length?M.map(Q=>e.jsx(T,{md:6,lg:4,children:e.jsxs(w,{className:`h-100 border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"} position-relative`,children:[e.jsxs("div",{className:"position-relative",children:[e.jsx(w.Img,{variant:"top",src:Q.image_url||"/placeholder/matiere_placeholder.png",style:{height:"200px",objectFit:"cover"}}),e.jsxs(oe,{bg:A(Q.status),className:"position-absolute top-0 end-0 m-2",children:[e.jsx("i",{"data-feather":D(Q.status),className:"me-1",style:{width:"12px",height:"12px"}}),Q.status]})]}),e.jsxs(w.Body,{className:"d-flex flex-column",children:[e.jsxs("div",{className:"mb-auto",children:[e.jsx(w.Title,{className:`h5 mb-2 ${a==="dark"?"text-light":"text-dark"}`,children:Q.nom}),e.jsxs(w.Text,{className:`small ${a==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"hash",className:"me-1",style:{width:"12px",height:"12px"}}),Q.matricule]}),e.jsx(w.Text,{className:a==="dark"?"text-light":"text-dark",children:Q.description?Q.description.length>80?Q.description.substring(0,80)+"...":Q.description:"Aucune description"}),e.jsxs(w.Text,{className:"small text-secondary",children:[e.jsx("i",{"data-feather":"award",className:"me-1",style:{width:"12px",height:"12px"}}),"Coefficient: ",Q.coefficient||1]})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"book-open",className:"me-1 text-muted",style:{width:"14px",height:"14px"}}),e.jsxs("small",{className:a==="dark"?"text-light":"text-muted",children:[Q.cours_count||0," cours"]})]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"clipboard",className:"me-1 text-muted",style:{width:"14px",height:"14px"}}),e.jsxs("small",{className:a==="dark"?"text-light":"text-muted",children:[Q.evaluations_count||0," éval."]})]})]}),e.jsxs($,{variant:"primary",size:"sm",as:xe,to:`/etudiant/show/matiere/${Q.id}`,title:"Consulter les details de la matière",children:[e.jsx("i",{"data-feather":"eye",className:"me-1",style:{width:"14px",height:"14px"}}),"Détails"]})]})]})]})},Q.id)):e.jsx(T,{xs:12,children:e.jsx("div",{className:"text-center py-5",children:e.jsxs("div",{className:`${a==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"book",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucune matière disponible"}),e.jsx("p",{className:"small mb-0",children:d.search||d.status?"Aucune matière ne correspond à vos critères de recherche.":"Votre classe n'a pas encore de matières actives assignées."})]})]})})})}),F=()=>e.jsx("div",{className:"row g-3",children:M.length?M.map(Q=>e.jsx("div",{className:"col-12",children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{children:e.jsxs(pe,{className:"align-items-center",children:[e.jsx(T,{md:2,className:"text-center",children:e.jsx(Mt,{src:Q.image_url||"/placeholder/matiere_placeholder.png",alt:Q.nom,style:{width:"80px",height:"60px",borderRadius:"8px",objectFit:"cover"}})}),e.jsxs(T,{md:4,children:[e.jsx("h6",{className:`mb-1 ${a==="dark"?"text-light":"text-dark"}`,children:Q.nom}),e.jsx("small",{className:"text-muted",children:Q.matricule}),e.jsx("p",{className:`small mb-0 mt-1 ${a==="dark"?"text-light":"text-dark"}`,children:Q.description?Q.description.length>100?Q.description.substring(0,100)+"...":Q.description:"Aucune description"})]}),e.jsx(T,{md:2,className:"text-center",children:e.jsxs(oe,{bg:"info",className:"px-2 py-1",children:["Coef. ",Q.coefficient||1]})}),e.jsx(T,{md:2,className:"text-center",children:e.jsxs("div",{className:"d-flex flex-column gap-1",children:[e.jsxs("small",{className:"text-primary",children:[e.jsx("i",{"data-feather":"book-open",className:"me-1",style:{width:"12px",height:"12px"}}),Q.cours_count||0," cours"]}),e.jsxs("small",{className:"text-success",children:[e.jsx("i",{"data-feather":"clipboard",className:"me-1",style:{width:"12px",height:"12px"}}),Q.evaluations_count||0," éval."]})]})}),e.jsx(T,{md:1,className:"text-center",children:e.jsxs(oe,{bg:A(Q.status),className:"px-2 py-1",children:[e.jsx("i",{"data-feather":D(Q.status),className:"me-1",style:{width:"12px",height:"12px"}}),Q.status]})}),e.jsx(T,{md:1,className:"text-center",children:e.jsx($,{variant:"primary",size:"sm",title:"Voir les cours de cette matière",children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})})})]})})})},Q.id)):e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"text-center py-5",children:e.jsxs("div",{className:`${a==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"book",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucune matière disponible"}),e.jsx("p",{className:"small mb-0",children:d.search||d.status?"Aucune matière ne correspond à vos critères de recherche.":"Votre classe n'a pas encore de matières actives assignées."})]})]})})})});return s?e.jsx(fs,{children:e.jsx(yt,{className:"py-4",children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement de vos matières..."})]})})}):e.jsx(fs,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${a==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"book",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsxs("h2",{className:`mb-1 ${a==="dark"?"text-light":"text-dark"}`,children:["Mes Matières - ",n.name||"Ma Classe"]}),e.jsxs("p",{className:`mb-0 ${a==="dark"?"text-light":"text-muted"}`,children:["Matières de votre classe • ",l.length," matière",l.length!==1?"s":""," disponible",l.length!==1?"s":""]})]})]}),e.jsx("div",{className:"d-flex gap-2",children:e.jsxs(Ga,{children:[e.jsx($,{variant:o==="card"?"primary":"outline-secondary",size:"sm",onClick:()=>u("card"),children:e.jsx("i",{"data-feather":"grid",style:{width:"14px",height:"14px"}})}),e.jsx($,{variant:o==="list"?"primary":"outline-secondary",size:"sm",onClick:()=>u("list"),children:e.jsx("i",{"data-feather":"list",style:{width:"14px",height:"14px"}})})]})})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:l.length}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Total Matières"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"book",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:l.filter(Q=>Q.status==="Active").length}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Actives"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"check-circle",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-primary",children:l.reduce((Q,I)=>Q+(I.cours_count||0),0)}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Total Cours"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"book-open",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:l.reduce((Q,I)=>Q+(I.evaluations_count||0),0)}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Total Évaluations"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"clipboard",style:{width:"24px",height:"24px"}})})]})})})})]})]}),e.jsxs(w,{className:`shadow-sm border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"layers",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:"Matières de ma classe"})]})})}),e.jsxs(w.Body,{className:a==="dark"?"bg-dark":"bg-white",children:[e.jsx("div",{className:"mb-4 p-3 rounded",style:{backgroundColor:a==="dark"?"#1a1a1a":"#f8f9fa"},children:e.jsxs(pe,{className:"g-3",children:[e.jsxs(T,{md:8,children:[e.jsxs(b.Label,{className:`small fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"search",className:"me-1",style:{width:"14px",height:"14px"}}),"Rechercher une matière"]}),e.jsx(b.Control,{type:"text",placeholder:"Rechercher par nom, matricule, description...",value:d.search,onChange:Q=>f({...d,search:Q.target.value}),className:a==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs(T,{md:4,children:[e.jsxs(b.Label,{className:`small fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"filter",className:"me-1",style:{width:"14px",height:"14px"}}),"Filtrer par statut"]}),e.jsxs(b.Select,{value:d.status,onChange:Q=>f({...d,status:Q.target.value}),className:a==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous les statuts"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"}),e.jsx("option",{value:"Suspendue",children:"Suspendue"})]})]})]})}),o==="card"?L():F()]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:p,onClose:()=>j(!1),delay:4e3,autohide:!0,bg:v==="success"?"success":"danger",className:a==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${v==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":v==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:a==="dark"?"bg-dark text-light":"",children:y})]})})]})})}function eEe(){const{id:s}=is();Ut();const[t,a]=x.useState(!0),[r,n]=x.useState(null),[i,l]=x.useState("light"),[c,o]=x.useState(null),[u,d]=x.useState({}),[f,p]=x.useState({}),[j,y]=x.useState({}),[k,v]=x.useState({}),[S,C]=x.useState({}),[_,A]=x.useState({}),[D,M]=x.useState(!1),[L,F]=x.useState(""),[Q,I]=x.useState("success"),[H,z]=x.useState("overview");x.useEffect(()=>{const O=document.documentElement.getAttribute("data-theme")||"light";l(O);const W=new MutationObserver(()=>{const Z=document.documentElement.getAttribute("data-theme")||"light";l(Z)});return W.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>W.disconnect()},[]);const K=x.useCallback(async()=>{try{a(!0);const O=await he.get(`/etudiant/show/matiere/${s}`);O.data.status==="success"?(o(O.data.matiere),d(O.data.cours_stats),p(O.data.evaluation_stats),y(O.data.evolution_data),v(O.data.suggestions),C(O.data.chart_data),A(O.data.recent_content)):n(O.data.message||"Erreur lors du chargement des détails")}catch(O){n("Erreur lors du chargement des détails de la matière"),console.error("Erreur:",O)}finally{a(!1)}},[s]);x.useEffect(()=>{s&&K()},[K]),x.useEffect(()=>{We.replace()},[c,S]);const U=O=>O>=80?"#28a745":O>=60?"#007bff":O>=40?"#ffc107":"#dc3545",V=O=>O>=80?"Excellent":O>=60?"Bien":O>=40?"Passable":"À améliorer",P=O=>{switch(O){case"improving":return"trending-up";case"declining":return"trending-down";default:return"minus"}},q=O=>{switch(O){case"improving":return"success";case"declining":return"danger";default:return"secondary"}},G=O=>O?new Date(O).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"}):"Non définie",se=({active:O,payload:W,label:Z})=>O&&W&&W.length?e.jsxs("div",{className:`p-3 rounded shadow border ${i==="dark"?"bg-dark text-light border-secondary":"bg-white"}`,children:[e.jsx("p",{className:"mb-1 fw-bold",children:Z}),W.map((te,ie)=>e.jsx("p",{className:"mb-1",style:{color:te.color},children:`${te.name}: ${te.value}${te.name.includes("%")||te.name.includes("score")?"%":""}`},ie))]}):null;return t?e.jsx(fs,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des détails de la matière..."})]})}):r||!c?e.jsxs(fs,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),r||"Matière introuvable"]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:"secondary",as:xe,to:"/etudiant/view/matieres/my-classroom",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour aux matières"]}),e.jsxs($,{variant:"outline-primary",onClick:K,children:[e.jsx("i",{"data-feather":"refresh-cw",className:"me-2"}),"Réessayer"]})]})]}):e.jsx(fs,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:"/etudiant/view/matieres/my-classroom",className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"me-3",children:e.jsx(Mt,{src:c.image_url,alt:c.nom,width:"60",height:"60",style:{objectFit:"cover"},className:"rounded"})}),e.jsxs("div",{children:[e.jsx("h1",{className:`h3 mb-0 ${i==="dark"?"text-light":"text-dark"}`,children:c.nom}),e.jsxs("div",{className:"d-flex align-items-center gap-2 mt-1",children:[e.jsx("small",{className:"text-muted",children:c.matricule}),e.jsxs(oe,{bg:"success",className:"px-2 py-1",children:[e.jsx("i",{"data-feather":"check-circle",className:"me-1",style:{width:"12px",height:"12px"}}),c.status]}),e.jsxs(oe,{bg:"info",className:"px-2 py-1",children:["Coeff. ",c.coefficient]})]}),e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{"data-feather":"home",className:"me-1",style:{width:"12px",height:"12px"}}),c.classroom?.name]})]})]})]})}),e.jsx("div",{className:"d-flex gap-2",children:e.jsx($,{variant:"outline-primary",onClick:K,title:"Actualiser",children:e.jsx("i",{"data-feather":"refresh-cw",style:{width:"16px",height:"16px"}})})})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${i==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${i==="dark"?"text-light":"text-dark"}`,children:u.total_cours||0}),e.jsx("small",{className:i==="dark"?"text-light":"text-muted",children:"Cours disponibles"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"book-open",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${i==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:`mb-0 text-${U(f.moyenne_generale).replace("#","")}`,children:[f.moyenne_generale||0,"%"]}),e.jsx("small",{className:i==="dark"?"text-light":"text-muted",children:"Moyenne générale"})]}),e.jsx("div",{style:{color:U(f.moyenne_generale)},children:e.jsx("i",{"data-feather":"trending-up",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${i==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:f.evaluations_participees||0}),e.jsx("small",{className:i==="dark"?"text-light":"text-muted",children:"Évaluations faites"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"check-square",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${i==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 text-${q(j.trend)}`,children:e.jsx("i",{"data-feather":P(j.trend),className:"me-1",style:{width:"20px",height:"20px"}})}),e.jsx("small",{className:i==="dark"?"text-light":"text-muted",children:"Tendance"})]}),e.jsx("div",{className:`text-${q(j.trend)}`,children:e.jsx("i",{"data-feather":"activity",style:{width:"24px",height:"24px"}})})]})})})})]}),f.moyenne_generale>0&&e.jsx(w,{className:`border-0 shadow-sm mb-4 ${i==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs(w.Body,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("h6",{className:`mb-0 ${i==="dark"?"text-light":"text-dark"}`,children:"Performance globale dans cette matière"}),e.jsx(oe,{style:{backgroundColor:U(f.moyenne_generale)},className:"px-3 py-1",children:V(f.moyenne_generale)})]}),e.jsx(Zt,{now:f.moyenne_generale,style:{height:"12px",backgroundColor:i==="dark"?"#495057":"#e9ecef"},className:"mb-2",children:e.jsx(Zt,{now:f.moyenne_generale,style:{backgroundColor:U(f.moyenne_generale)}})}),e.jsxs("div",{className:"d-flex justify-content-between small text-muted",children:[e.jsxs("span",{children:[f.total_points_obtenus," points obtenus"]}),e.jsxs("span",{children:[f.total_points_possibles," points possibles"]})]})]})}),e.jsxs(w,{className:`border-0 shadow-sm ${i==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${i==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs(Fi,{activeKey:H,onSelect:O=>z(O),className:"border-0",children:[e.jsx(xs,{eventKey:"overview",title:e.jsxs("span",{children:[e.jsx("i",{"data-feather":"grid",className:"me-2",style:{width:"16px",height:"16px"}}),"Vue d'ensemble"]})}),e.jsx(xs,{eventKey:"evolution",title:e.jsxs("span",{children:[e.jsx("i",{"data-feather":"trending-up",className:"me-2",style:{width:"16px",height:"16px"}}),"Évolution"]})}),e.jsx(xs,{eventKey:"suggestions",title:e.jsxs("span",{children:[e.jsx("i",{"data-feather":"lightbulb",className:"me-2",style:{width:"16px",height:"16px"}}),"Suggestions"]})}),e.jsx(xs,{eventKey:"content",title:e.jsxs("span",{children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"16px",height:"16px"}}),"Contenu récent"]})})]})}),e.jsx(w.Body,{className:i==="dark"?"bg-dark":"bg-white",children:H==="overview"&&e.jsxs(pe,{children:[e.jsxs(T,{lg:8,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${i==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h6",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"18px",height:"18px"}}),"Évolution de vos performances"]})}),e.jsx(w.Body,{children:S.evolution&&S.evolution.length>0?e.jsx(Sa,{width:"100%",height:300,children:e.jsxs(qp,{data:S.evolution,children:[e.jsx(sn,{strokeDasharray:"3 3",stroke:i==="dark"?"#495057":"#e0e0e0"}),e.jsx(zr,{dataKey:"name",stroke:i==="dark"?"#ffffff":"#666666"}),e.jsx(Hr,{stroke:i==="dark"?"#ffffff":"#666666"}),e.jsx(Da,{content:e.jsx(se,{})}),e.jsx(Ic,{type:"monotone",dataKey:"score",stroke:"#007bff",fill:"#007bff",fillOpacity:.3})]})}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{"data-feather":"bar-chart",className:"text-muted mb-2",style:{width:"32px",height:"32px"}}),e.jsx("p",{className:"text-muted",children:"Pas encore de données d'évolution"})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${i==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h6",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"18px",height:"18px"}}),"Vos diffferents cours (",_.recent_cours.length,")"]})}),e.jsx(w.Body,{children:_.recent_cours&&_.recent_cours.length>0?e.jsx("div",{className:"d-grid gap-3",children:_.recent_cours.map(O=>e.jsx("div",{className:`p-3 border rounded ${i==="dark"?"border-secondary bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("h6",{className:`mb-1 ${i==="dark"?"text-light":"text-dark"}`,children:O.titre}),e.jsxs("small",{className:"text-muted d-block mb-2",children:["Code: ",O.matricule," • Publié le ",G(O.created_at)]}),O.description&&e.jsx("p",{className:`small mb-2 ${i==="dark"?"text-light":"text-dark"}`,children:O.description.length>100?O.description.substring(0,100)+"...":O.description}),e.jsxs("div",{className:"d-flex gap-1",children:[e.jsx(oe,{bg:"success",children:"Publié"}),O.fichiers_joints_1&&e.jsx(oe,{bg:"info",children:"Fichiers joints"}),O.liens_externes&&e.jsx(oe,{bg:"warning",children:"Liens externes"})]})]}),e.jsxs($,{variant:"outline-primary",size:"sm",as:xe,to:`/etudiant/show/cours/${O.id}`,className:"ms-2",children:[e.jsx("i",{"data-feather":"eye",className:"me-1",style:{width:"14px",height:"14px"}}),"Consulter"]})]})},O.id))}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{"data-feather":"book-open",className:"text-muted mb-3",style:{width:"32px",height:"32px"}}),e.jsx("p",{className:"text-muted",children:"Aucun cours récent dans cette matière"})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm ${i==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("h6",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"clipboard",className:"me-2",style:{width:"18px",height:"18px"}}),"Évaluations à venir (",f.evaluations_en_attente,")"]}),e.jsxs($,{variant:"outline-primary",size:"sm",as:xe,to:"/etudiant/view/evaluations/my-classroom",children:[e.jsx("i",{"data-feather":"external-link",className:"me-1",style:{width:"14px",height:"14px"}}),"Voir toutes"]})]})}),e.jsx(w.Body,{children:_.upcoming_evaluations&&_.upcoming_evaluations.length>0?e.jsx("div",{className:"d-grid gap-3",children:_.upcoming_evaluations.map(O=>{const W=new Date(O.date_debut),te=Math.ceil((W-new Date)/(1e3*60*60*24));return e.jsx("div",{className:`p-3 border rounded ${i==="dark"?"border-secondary bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("h6",{className:`mb-1 ${i==="dark"?"text-light":"text-dark"}`,children:O.titre}),e.jsxs("small",{className:"text-muted d-block mb-2",children:["Code: ",O.matricule," • Programmée pour le ",G(O.date_debut)]}),O.description&&e.jsx("p",{className:`small mb-2 ${i==="dark"?"text-light":"text-dark"}`,children:O.description.length>80?O.description.substring(0,80)+"...":O.description}),e.jsxs("div",{className:"d-flex gap-1",children:[e.jsx(oe,{bg:"primary",children:"Programmée"}),e.jsx(oe,{bg:te<=1?"danger":te<=3?"warning":"info",children:te===0?"Aujourd'hui":te===1?"Demain":`Dans ${te} jours`}),e.jsxs(oe,{bg:"secondary",children:[O.duree_minutes," min"]})]})]}),e.jsxs($,{variant:"outline-info",size:"sm",as:xe,to:`/etudiant/show/evaluation/${O.id}`,className:"ms-2",children:[e.jsx("i",{"data-feather":"info",className:"me-1",style:{width:"14px",height:"14px"}}),"Détails"]})]})},O.id)})}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{"data-feather":"calendar",className:"text-muted mb-3",style:{width:"32px",height:"32px"}}),e.jsx("p",{className:"text-muted",children:"Aucune évaluation programmée dans cette matière"})]})})]})]}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${i==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h6",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"18px",height:"18px"}}),"Activité récente"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"d-flex justify-content-between mb-3",children:[e.jsx("span",{className:"text-muted",children:"Dernière publication :"}),e.jsx("span",{className:`fw-bold ${i==="dark"?"text-light":"text-dark"}`,children:u.derniere_publication?G(u.derniere_publication):"Aucune"})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-3",children:[e.jsx("span",{className:"text-muted",children:"Cours ce mois :"}),e.jsx(oe,{bg:"info",children:u.cours_recents||0})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-3",children:[e.jsx("span",{className:"text-muted",children:"Cours avec fichiers :"}),e.jsx(oe,{bg:"success",children:u.cours_avec_fichiers||0})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Cours avec liens :"}),e.jsx(oe,{bg:"warning",children:u.cours_avec_liens||0})]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${i==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h6",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"zap",className:"me-2",style:{width:"18px",height:"18px"}}),"Actions rapides"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"primary",size:"sm",as:xe,to:"/etudiant/view/cours/my-classroom",children:[e.jsx("i",{"data-feather":"book-open",className:"me-2",style:{width:"16px",height:"16px"}}),"Voir tous les cours"]}),e.jsxs($,{variant:"success",size:"sm",as:xe,to:"/etudiant/view/evaluations/my-classroom",children:[e.jsx("i",{"data-feather":"clipboard",className:"me-2",style:{width:"16px",height:"16px"}}),"Mes évaluations"]}),e.jsxs($,{variant:"info",size:"sm",as:xe,to:"/etudiant/view/resultats/my-classroom",children:[e.jsx("i",{"data-feather":"bar-chart-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Mes résultats"]}),e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:"/etudiant/calendar",children:[e.jsx("i",{"data-feather":"calendar",className:"me-2",style:{width:"16px",height:"16px"}}),"Mon calendrier"]})]})})]})]})]})})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:D,onClose:()=>M(!1),delay:4e3,autohide:!0,bg:Q==="success"?"success":"danger",className:i==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${Q==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":Q==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:i==="dark"?"bg-dark text-light":"",children:L})]})})]})})}function tEe(){const[s,t]=x.useState(!0),[a,r]=x.useState("light"),[n,i]=x.useState({}),[l,c]=x.useState([]),[o,u]=x.useState({}),[d,f]=x.useState(null),[p,j]=x.useState({}),[y,k]=x.useState(!1),[v,S]=x.useState(""),[C,_]=x.useState("success"),[A,D]=x.useState(!1),[M,L]=x.useState(null),[F,Q]=x.useState(null);x.useEffect(()=>{const O=document.documentElement.getAttribute("data-theme")||"light";r(O);const W=new MutationObserver(()=>{const Z=document.documentElement.getAttribute("data-theme")||"light";r(Z)});return W.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>W.disconnect()},[]);const I=(O,W="success")=>{S(O),_(W),k(!0)},H=x.useCallback(async()=>{try{t(!0);const O=await he.get("/etudiant/view/evaluations/my-classroom");O.data.status==="success"?(i(O.data.classroom||{}),c(O.data.evaluations||[]),u(O.data.evaluations_groupees_par_matiere||{}),f(O.data.prochaine_evaluation||null)):I(O.data.message||"Erreur lors du chargement des évaluations","danger")}catch(O){console.error("Erreur lors du chargement des évaluations:",O);const W=O.response?.data?.message||"Erreur lors du chargement des évaluations";I(W,"danger")}finally{t(!1)}},[]);x.useEffect(()=>{H();const O=setInterval(()=>{H()},6e4);return Q(O),()=>{O&&clearInterval(O)}},[H]),x.useEffect(()=>{We.replace()},[o,d]);const z=O=>{j(W=>({...W,[O]:!W[O]}))},K=O=>{L(O),D(!0)},U=()=>{M&&(window.location.href=`/etudiant/evaluation/${M.id}/start`),D(!1)},V=O=>{switch(O){case"En cours":return"success";case"Future":return"info";case"Passée":return"secondary";default:return"secondary"}},P=O=>{switch(O){case"En cours":return"play-circle";case"Future":return"clock";case"Passée":return"check-circle";default:return"help-circle"}},q=O=>O?new Date(O).toLocaleDateString("fr-FR",{weekday:"long",day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Non définie",G=O=>{const W=Math.floor(O*60),Z=Math.floor(W/3600),te=Math.floor(W%3600/60),ie=W%60;return Z>0?`${Z}h ${te}min ${ie}s`:te>0?`${te}min ${ie}s`:`${ie}s`},se=O=>{if(O>0){if(O<=0)return"Expiré";const W=Math.floor(O*60);if(O<60){const fe=Math.floor(O),J=W%60;return fe>0?`${fe}min ${J}s`:`${J}s`}const Z=Math.floor(O/60),te=Math.floor(O%60),ie=W%60;if(Z>24){const fe=Math.floor(Z/24),J=Z%24;return J>0?`${fe}j ${J}h`:`${fe}j`}return te>0?ie>0?`${Z}h ${te}min ${ie}s`:`${Z}h ${te}min`:ie>0?`${Z}h ${ie}s`:`${Z}h`}else{if(-O<=0)return"Expiré";const W=Math.floor(O*60);if(-O<60){const fe=Math.floor(-O),J=W%60;return fe>0?`${fe}min ${J}s`:`${J}s`}const Z=Math.floor(-O/60),te=Math.floor(-O%60),ie=W%60;if(Z>24){const fe=Math.floor(Z/24),J=Z%24;return J>0?`${fe}j ${J}h`:`${fe}j`}return te>0?ie>0?`${Z}h ${te}min ${ie}s`:`${Z}h ${te}min`:ie>0?`${Z}h ${ie}s`:`${Z}h`}};return s?e.jsx(fs,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement de vos évaluations..."})]})}):e.jsx(fs,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${a==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"clipboard",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsxs("h2",{className:`mb-1 ${a==="dark"?"text-light":"text-dark"}`,children:["Mes Évaluations - ",n.name||"Ma Classe"]}),e.jsxs("p",{className:`mb-0 ${a==="dark"?"text-light":"text-muted"}`,children:["Évaluations organisées par matière • ",l.length," évaluation",l.length!==1?"s":""," disponible",l.length!==1?"s":""]})]})]}),e.jsx($,{variant:"outline-primary",onClick:H,title:"Actualiser",children:e.jsx("i",{"data-feather":"refresh-cw",style:{width:"16px",height:"16px"}})})]}),d&&e.jsx(lt,{variant:"info",className:"mb-4",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"clock",className:"me-2",style:{width:"20px",height:"20px"}}),e.jsxs("div",{children:[e.jsx("strong",{children:"Prochaine évaluation :"})," ",d.titre,e.jsxs("div",{className:"small",children:[e.jsx("i",{"data-feather":"book",className:"me-1",style:{width:"12px",height:"12px"}}),d.matiere?.nom," •",e.jsx("i",{"data-feather":"calendar",className:"ms-2 me-1",style:{width:"12px",height:"12px"}}),q(d.date_debut)," •",e.jsx("i",{"data-feather":"clock",className:"ms-2 me-1",style:{width:"12px",height:"12px"}}),G(d.duree_minutes)]}),e.jsxs("div",{className:"small text-muted mt-1",children:["Dans ",se(d.temps_avant_debut)]})]})]}),e.jsxs(oe,{bg:"warning",className:"px-3 py-2",children:[e.jsx("i",{"data-feather":"clock",className:"me-1",style:{width:"12px",height:"12px"}}),"À venir"]})]})}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:l.length}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Total"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"clipboard",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:l.filter(O=>O.etat_temporel==="En cours").length}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"En cours"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"play-circle",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-info",children:l.filter(O=>O.etat_temporel==="Future").length}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"À venir"})]}),e.jsx("div",{className:"text-info",children:e.jsx("i",{"data-feather":"clock",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-secondary",children:l.filter(O=>O.a_participe).length}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Participées"})]}),e.jsx("div",{className:"text-secondary",children:e.jsx("i",{"data-feather":"check-circle",style:{width:"24px",height:"24px"}})})]})})})})]})]}),e.jsxs(w,{className:`shadow-sm border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"layers",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:"Évaluations par Matière"})]})}),e.jsx(w.Body,{className:a==="dark"?"bg-dark":"bg-white",children:Object.keys(o).length>0?e.jsx("div",{className:"evaluation-groups",children:Object.entries(o).map(([O,W])=>e.jsxs(w,{className:`mb-4 border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`${a==="dark"?"bg-dark border-secondary":"bg-light"} cursor-pointer`,onClick:()=>z(`matiere-${O}`),style:{cursor:"pointer"},children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"book",className:"text-success me-3",style:{width:"20px",height:"20px"}}),e.jsxs("div",{children:[e.jsx("h5",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:O}),e.jsxs("small",{className:"text-muted",children:[W.length," évaluation",W.length>1?"s":""]})]})]}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsxs(oe,{bg:"success",children:[W.length," éval."]}),W.some(Z=>Z.etat_temporel==="En cours")&&e.jsx(oe,{bg:"warning",children:"En cours"}),e.jsx("i",{"data-feather":p[`matiere-${O}`]?"chevron-up":"chevron-down",className:`${a==="dark"?"text-light":"text-muted"}`,style:{width:"20px",height:"20px"}})]})]})}),e.jsx(Oa,{in:p[`matiere-${O}`]!==!1,children:e.jsx(w.Body,{className:a==="dark"?"bg-dark":"",children:e.jsx(pe,{className:"g-3",children:W.map(Z=>e.jsx(T,{md:6,lg:4,children:e.jsx(w,{className:`h-100 border ${a==="dark"?"bg-dark border-secondary":"bg-white"} ${Z.etat_temporel==="En cours"?"border-success":""}`,children:e.jsxs(w.Body,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[e.jsxs(oe,{bg:V(Z.etat_temporel),className:"mb-2",children:[e.jsx("i",{"data-feather":P(Z.etat_temporel),className:"me-1",style:{width:"10px",height:"10px"}}),Z.etat_temporel]}),Z.a_participe&&e.jsxs(oe,{bg:"secondary",className:"mb-2 ms-1",children:[e.jsx("i",{"data-feather":"check-circle",className:"me-1",style:{width:"10px",height:"10px"}}),"Fait"]})]}),e.jsx("h6",{className:`${a==="dark"?"text-light":"text-dark"} mb-2`,children:Z.titre.length>45?Z.titre.substring(0,45)+"...":Z.titre}),e.jsxs("small",{className:"text-muted d-block mb-2",children:["Code: ",Z.matricule]}),Z.description&&e.jsx("p",{className:`small ${a==="dark"?"text-light":"text-muted"} mb-2`,children:Z.description.length>80?Z.description.substring(0,80)+"...":Z.description}),e.jsxs("div",{className:"d-flex flex-wrap gap-1 mb-2",children:[e.jsxs(oe,{bg:"info",className:"small",children:[Z.questions_count," questions"]}),e.jsxs(oe,{bg:"primary",className:"small",children:[Z.total_points," pts"]}),e.jsx(oe,{bg:"secondary",className:"small",children:G(Z.duree_minutes)})]}),e.jsxs("div",{className:"small text-muted mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center mb-1",children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"12px",height:"12px"}}),q(Z.date_debut)]}),Z.etat_temporel==="Future"&&e.jsxs("div",{className:"text-info",children:[e.jsx("i",{"data-feather":"clock",className:"me-1",style:{width:"12px",height:"12px"}}),"Dans ",se(Z.temps_avant_debut)]}),Z.etat_temporel==="En cours"&&e.jsxs("div",{className:"text-success",children:[e.jsx("i",{"data-feather":"play-circle",className:"me-1",style:{width:"12px",height:"12px"}}),"Temps restant: ",se(Z.temps_restant)]}),Z.etat_temporel==="Passée"&&Z.a_participe&&Z.pourcentage!==void 0&&e.jsxs("div",{className:"text-primary",children:[e.jsx("i",{"data-feather":"award",className:"me-1",style:{width:"12px",height:"12px"}}),"Score: ",Z.score_obtenu,"/",Z.total_points," (",Z.pourcentage,"%)"]})]}),e.jsxs("div",{className:"d-flex gap-1",children:[Z.peut_acceder&&!Z.a_participe&&e.jsxs($,{size:"sm",variant:"success",onClick:()=>K(Z),className:"flex-fill",children:[e.jsx("i",{"data-feather":"play-circle",className:"me-1",style:{width:"14px",height:"14px"}}),"Commencer"]}),!Z.peut_acceder&&Z.etat_temporel==="Future"&&e.jsxs($,{size:"sm",variant:"outline-info",disabled:!0,className:"flex-fill",children:[e.jsx("i",{"data-feather":"clock",className:"me-1",style:{width:"14px",height:"14px"}}),"Pas encore"]}),Z.a_participe&&e.jsxs($,{size:"sm",variant:"outline-primary",as:xe,to:`/etudiant/evaluation/${Z.id}/details`,className:"flex-fill",children:[e.jsx("i",{"data-feather":"eye",className:"me-1",style:{width:"14px",height:"14px"}}),"Voir résultat"]}),Z.etat_temporel==="Passée"&&!Z.a_participe&&e.jsxs($,{size:"sm",variant:"outline-secondary",disabled:!0,className:"flex-fill",children:[e.jsx("i",{"data-feather":"x-circle",className:"me-1",style:{width:"14px",height:"14px"}}),"Expiré"]})]})]})})},Z.id))})})})]},O))}):e.jsx("div",{className:"text-center py-5",children:e.jsxs("div",{className:`${a==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"clipboard",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucune évaluation disponible"}),e.jsx("p",{className:"small mb-0",children:"Votre classe n'a pas encore d'évaluations programmées."})]})]})})})]}),e.jsxs(Y,{show:A,onHide:()=>D(!1),centered:!0,contentClassName:a==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:a==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsxs(Y.Title,{children:[e.jsx("i",{"data-feather":"play-circle",className:"me-2 text-success",style:{width:"20px",height:"20px"}}),"Commencer l'évaluation"]})}),e.jsx(Y.Body,{className:a==="dark"?"bg-dark text-light":"",children:M&&e.jsxs("div",{children:[e.jsx("h5",{children:M.titre}),e.jsxs("p",{className:"text-muted mb-3",children:[e.jsx("i",{"data-feather":"book",className:"me-1",style:{width:"14px",height:"14px"}}),M.matiere?.nom," • ",M.matiere?.classroom?.name]}),e.jsx("div",{className:"alert alert-info",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-6",children:[e.jsx("strong",{children:"Questions:"})," ",M.questions_count]}),e.jsxs("div",{className:"col-6",children:[e.jsx("strong",{children:"Points:"})," ",M.total_points]}),e.jsxs("div",{className:"col-6",children:[e.jsx("strong",{children:"Durée:"})," ",G(M.duree_minutes)]}),e.jsxs("div",{className:"col-6",children:[e.jsx("strong",{children:"Temps restant:"})," ",se(M.temps_restant)]})]})}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),e.jsx("strong",{children:"Attention :"})," Une fois commencée, vous ne pourrez pas interrompre l'évaluation. Assurez-vous d'avoir une connexion stable."]})]})}),e.jsxs(Y.Footer,{className:a==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>D(!1),children:"Annuler"}),e.jsxs($,{variant:"success",onClick:U,children:[e.jsx("i",{"data-feather":"play-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Commencer maintenant"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:y,onClose:()=>k(!1),delay:4e3,autohide:!0,bg:C==="success"?"success":"danger",className:a==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${C==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":C==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:a==="dark"?"bg-dark text-light":"",children:v})]})})]})})}function sEe(){const{id:s}=is(),t=Ut(),{user:a}=Aa(),[r,n]=x.useState(!0),[i,l]=x.useState(!1),[c,o]=x.useState("light"),[u,d]=x.useState(null),[f,p]=x.useState([]),[j,y]=x.useState({}),[k,v]=x.useState(0),[S,C]=x.useState(!1),[_,A]=x.useState(0),[D,M]=x.useState(!1),[L,F]=x.useState(!1),[Q,I]=x.useState(!1),[H,z]=x.useState(""),[K,U]=x.useState("success"),[V,P]=x.useState(null);x.useEffect(()=>{const J=document.documentElement.getAttribute("data-theme")||"light";o(J);const ge=new MutationObserver(()=>{const re=document.documentElement.getAttribute("data-theme")||"light";o(re)});return ge.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>ge.disconnect()},[]);const q=(J,ge="success")=>{z(J),U(ge),I(!0)},G=x.useCallback(async()=>{try{n(!0);const J=await he.get(`/etudiant/evaluation/${s}/start`);if(J.data.status==="success"){d(J.data.evaluation),p(J.data.evaluation.questions||[]),v(J.data.temps_restant),C(!0);const ge={};J.data.evaluation.questions?.forEach(re=>{ge[re.matricule]={matricule_question:re.matricule,choix_selectionne_qcm:"",reponse_donnee:""}}),y(ge),q("Évaluation démarrée avec succès","success")}else q(J.data.message||"Erreur lors du démarrage","danger"),t("/etudiant/view/evaluations/my-classroom")}catch(J){console.error("Erreur lors du démarrage:",J);const ge=J.response?.data?.message||"Erreur lors du démarrage de l'évaluation";q(ge,"danger"),t("/etudiant/view/evaluations/my-classroom")}finally{n(!1)}},[s,t]);x.useEffect(()=>{if(S&&-k>0){const J=setInterval(()=>{-v(ge=>-ge<=3?(F(!0),W(!0),0):ge+3)},1e4);return P(J),()=>clearInterval(J)}},[S,k]),x.useEffect(()=>{if(S){const J=setInterval(async()=>{try{const ge=await he.get(`/etudiant/evaluation/${s}/temps-restant`);ge.data.status==="success"&&(ge.data.etat==="expire"?(F(!0),W(!0)):ge.data.etat==="en_cours"&&v(ge.data.temps_restant))}catch(ge){console.error("Erreur vérification temps:",ge)}},15e3);return()=>clearInterval(J)}},[S,s]),x.useEffect(()=>(s&&G(),()=>{V&&clearInterval(V)}),[G]),x.useEffect(()=>{We.replace()},[f,_]),x.useEffect(()=>{const J=ge=>{S&&!i&&(ge.preventDefault(),ge.returnValue="")};return window.addEventListener("beforeunload",J),()=>window.removeEventListener("beforeunload",J)},[S,i]);const se=(J,ge,re)=>{y(ve=>({...ve,[J]:{...ve[J],[ge]:re}}))},O=J=>{A(J)},W=async(J=!1)=>{if(!i)try{l(!0);const ge=Object.values(j).filter(ve=>ve.choix_selectionne_qcm||ve.reponse_donnee),re=await he.post(`/etudiant/evaluation/${s}/submit`,{reponses:ge});re.data.status==="success"?(V&&clearInterval(V),q(J?"Temps expiré ! Vos réponses ont été enregistrées automatiquement.":"Réponses enregistrées avec succès !","success"),setTimeout(()=>{t("/etudiant/view/evaluations/my-classroom")},2e3)):(q(re.data.message||"Erreur lors de l'enregistrement","danger"),l(!1))}catch(ge){console.error("Erreur soumission:",ge),q(ge.response?.data?.message||"Erreur lors de l'enregistrement des réponses","danger"),l(!1)}},Z=J=>{if(J>0){const ge=Math.floor(J*60),re=Math.floor(ge/3600),ve=Math.floor(ge%3600/60),Oe=ge%60;return re>0?`${re}h ${ve}min ${Oe}s`:ve>0?`${ve}min ${Oe}s`:`${Oe}s`}else{const ge=Math.floor(-J*60),re=Math.floor(ge/3600),ve=Math.floor(ge%3600/60),Oe=ge%60;return re>0?`${re}h ${ve}min ${Oe}s`:ve>0?`${ve}min ${Oe}s`:`${Oe}s`}},te=()=>{const J=f.length,ge=Object.values(j).filter(re=>re.choix_selectionne_qcm||re.reponse_donnee).length;return J>0?ge/J*100:0},ie=J=>{const ge=j[J];return ge&&(ge.choix_selectionne_qcm||ge.reponse_donnee)};if(r)return e.jsx(fs,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Démarrage de l'évaluation..."})]})});if(!u||!S)return e.jsx(fs,{children:e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),"Impossible d'accéder à cette évaluation"]})});const fe=f[_];return e.jsx("div",{className:`min-vh-100 ${c==="dark"?"bg-dark":"bg-light"}`,children:e.jsxs(yt,{fluid:!0,className:"py-3",children:[e.jsx(w,{className:`sticky-top mb-3 shadow-sm ${c==="dark"?"bg-dark border-secondary":"bg-white"}`,style:{zIndex:1e3},children:e.jsx(w.Body,{className:"py-2",children:e.jsxs(pe,{className:"align-items-center",children:[e.jsxs(T,{md:3,children:[e.jsx("div",{className:`fw-bold ${c==="dark"?"text-light":"text-dark"}`,children:u.titre}),e.jsxs("small",{className:"text-muted",children:[u.matiere?.nom," • ",a?.name]})]}),e.jsx(T,{md:3,className:"text-center",children:e.jsxs("div",{className:`${-k<=10?"text-danger":"text-success"} fw-bold`,children:[e.jsx("i",{"data-feather":"clock",className:"me-1",style:{width:"16px",height:"16px"}}),"Temps restant: ",Z(k)]})}),e.jsxs(T,{md:3,className:"text-center",children:[e.jsxs("div",{className:`${c==="dark"?"text-light":"text-dark"}`,children:["Question ",_+1," sur ",f.length]}),e.jsx(Zt,{now:(_+1)/f.length*100,variant:"info",size:"sm",className:"mt-1"})]}),e.jsx(T,{md:3,className:"text-end",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-end gap-2",children:[e.jsxs("div",{className:`small ${c==="dark"?"text-light":"text-muted"}`,children:["Progrès: ",Math.round(te()),"%"]}),e.jsx($,{variant:"success",size:"sm",onClick:()=>M(!0),disabled:i,children:"Terminer"})]})})]})})}),e.jsxs(pe,{children:[e.jsx(T,{md:3,children:e.jsxs(w,{className:`sticky-top ${c==="dark"?"bg-dark border-secondary":"bg-white"}`,style:{top:"120px"},children:[e.jsx(w.Header,{className:`${c==="dark"?"bg-dark border-secondary":""}`,children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{"data-feather":"list",className:"me-2",style:{width:"16px",height:"16px"}}),"Navigation"]})}),e.jsxs(w.Body,{className:"p-2",children:[e.jsx("div",{className:"d-grid gap-1",children:f.map((J,ge)=>e.jsx($,{variant:ge===_?"primary":ie(J.matricule)?"success":"outline-secondary",size:"sm",onClick:()=>O(ge),className:"text-start",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("span",{className:"fw-bold me-2",children:ge+1}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx(oe,{bg:J.type==="QCM"?"info":"warning",className:"me-1",children:J.type}),e.jsxs("small",{children:[J.points,"pts"]})]}),ie(J.matricule)&&e.jsx("i",{"data-feather":"check-circle",className:"text-success",style:{width:"12px",height:"12px"}})]})},J.id))}),e.jsx("hr",{className:"my-2"}),e.jsx("div",{className:"small text-center",children:e.jsxs("div",{className:c==="dark"?"text-light":"text-muted",children:[e.jsxs("div",{children:["Total: ",f.length," questions"]}),e.jsxs("div",{children:["Points: ",u.total_points]}),e.jsxs("div",{className:"text-success",children:["Répondues: ",Object.values(j).filter(J=>J.choix_selectionne_qcm||J.reponse_donnee).length]})]})})]})]})}),e.jsx(T,{md:9,children:fe&&e.jsxs(w,{className:`shadow-sm ${c==="dark"?"bg-dark border-secondary":"bg-white"}`,children:[e.jsx(w.Header,{className:`${c==="dark"?"bg-dark border-secondary":""}`,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("div",{children:e.jsxs("h5",{className:"mb-0",children:["Question ",_+1,e.jsx(oe,{bg:fe.type==="QCM"?"info":"warning",className:"ms-2",children:fe.type}),e.jsxs(oe,{bg:"primary",className:"ms-2",children:[fe.points," point",fe.points>1?"s":""]})]})}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx($,{variant:"outline-secondary",size:"sm",onClick:()=>O(Math.max(0,_-1)),disabled:_===0,children:"Précédent"}),e.jsx($,{variant:"outline-secondary",size:"sm",onClick:()=>O(Math.min(f.length-1,_+1)),disabled:_===f.length-1,children:"Suivant"})]})]})}),e.jsxs(w.Body,{children:[e.jsx("div",{className:`mb-4 p-3 rounded ${c==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:e.jsx("div",{className:`h6 ${c==="dark"?"text-light":"text-dark"}`,children:fe.enonce})}),fe.image&&e.jsx("div",{className:"text-center mb-4",children:e.jsx("img",{src:fe.image,alt:"Image de la question",className:"img-fluid rounded",style:{maxHeight:"300px"}})}),fe.type==="QCM"?e.jsxs("div",{children:[e.jsx("h6",{className:`mb-3 ${c==="dark"?"text-light":"text-dark"}`,children:"Choisissez votre réponse :"}),e.jsx("div",{className:"d-grid gap-2",children:[{key:"A",text:fe.choix_a},{key:"B",text:fe.choix_b},{key:"C",text:fe.choix_c}].filter(J=>J.text).map(J=>e.jsx("div",{children:e.jsx(b.Check,{type:"radio",id:`q${fe.id}_${J.key}`,name:`question_${fe.matricule}`,checked:j[fe.matricule]?.choix_selectionne_qcm===J.text,onChange:()=>se(fe.matricule,"choix_selectionne_qcm",J.text),label:e.jsxs("div",{className:`p-3 border rounded ${j[fe.matricule]?.choix_selectionne_qcm===J.text?"border-primary bg-primary bg-opacity-10":c==="dark"?"border-secondary bg-dark":"border-secondary bg-white"}`,children:[e.jsxs("strong",{className:"me-2",children:[J.key,"."]}),J.text]}),className:"mb-0"})},J.key))})]}):e.jsxs("div",{children:[e.jsx("h6",{className:`mb-3 ${c==="dark"?"text-light":"text-dark"}`,children:"Votre réponse :"}),e.jsx(b.Control,{as:"textarea",rows:8,placeholder:"Rédigez votre réponse ici...",value:j[fe.matricule]?.reponse_donnee||"",onChange:J=>se(fe.matricule,"reponse_donnee",J.target.value),className:c==="dark"?"bg-dark text-light border-secondary":""}),e.jsx("div",{className:"form-text",children:"Développez votre réponse de manière claire et structurée."})]}),fe.explication&&e.jsxs("div",{className:`mt-4 p-3 rounded border-start border-info border-4 ${c==="dark"?"bg-info bg-opacity-10":"bg-info bg-opacity-5"}`,children:[e.jsxs("h6",{className:"text-info",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"16px",height:"16px"}}),"Information"]}),e.jsx("div",{className:c==="dark"?"text-light":"text-dark",children:fe.explication})]})]}),e.jsx(w.Footer,{className:`${c==="dark"?"bg-dark border-secondary":""}`,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx($,{variant:"outline-primary",onClick:()=>O(Math.max(0,_-1)),disabled:_===0,children:"Question précédente"}),e.jsx("div",{className:"text-center",children:e.jsx(oe,{bg:ie(fe.matricule)?"success":"warning",className:"px-3 py-2",children:ie(fe.matricule)?e.jsx(e.Fragment,{children:"Répondue"}):e.jsx(e.Fragment,{children:"Non répondue"})})}),_===f.length-1?e.jsx($,{variant:"success",onClick:()=>M(!0),disabled:i,children:"Terminer l'évaluation"}):e.jsx($,{variant:"outline-primary",onClick:()=>O(_+1),children:"Question suivante"})]})})]})})]}),e.jsxs(Y,{show:D,onHide:()=>!i&&M(!1),centered:!0,contentClassName:c==="dark"?"bg-dark text-light":"",backdrop:i?"static":!0,keyboard:!i,children:[e.jsx(Y.Header,{className:c==="dark"?"bg-dark text-light border-secondary":"",closeButton:!i,children:e.jsxs(Y.Title,{children:[e.jsx("i",{"data-feather":"check-circle",className:"me-2 text-success",style:{width:"20px",height:"20px"}}),"Confirmer la soumission"]})}),e.jsxs(Y.Body,{className:c==="dark"?"bg-dark text-light":"",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h6",{children:"Résumé de votre évaluation :"}),e.jsxs("ul",{className:"list-unstyled",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Questions répondues :"})," ",Object.values(j).filter(J=>J.choix_selectionne_qcm||J.reponse_donnee).length," sur ",f.length]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Questions restantes :"})," ",f.length-Object.values(j).filter(J=>J.choix_selectionne_qcm||J.reponse_donnee).length]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Temps restant :"})," ",Z(k)]})]})]}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),e.jsx("strong",{children:"Attention :"})," Une fois soumise, vous ne pourrez plus modifier vos réponses."]}),i&&e.jsxs("div",{className:"text-center",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2 mb-0",children:"Enregistrement en cours..."})]})]}),e.jsxs(Y.Footer,{className:c==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>M(!1),disabled:i,children:"Continuer l'évaluation"}),e.jsx($,{variant:"success",onClick:()=>W(!1),disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx(tt,{animation:"border",size:"sm",className:"me-2"}),"Enregistrement..."]}):e.jsx(e.Fragment,{children:"Confirmer et soumettre"})})]})]}),e.jsxs(Y,{show:L,centered:!0,contentClassName:c==="dark"?"bg-dark text-light":"",backdrop:"static",keyboard:!1,children:[e.jsx(Y.Header,{className:c==="dark"?"bg-dark text-light border-secondary":"",children:e.jsxs(Y.Title,{children:[e.jsx("i",{"data-feather":"clock",className:"me-2 text-danger",style:{width:"20px",height:"20px"}}),"Temps expiré !"]})}),e.jsx(Y.Body,{className:c==="dark"?"bg-dark text-light":"",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"alert alert-info",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"16px",height:"16px"}}),"Le temps imparti pour cette évaluation est écoulé. Vos réponses sont en cours d'enregistrement automatiquement."]}),e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Enregistrement automatique en cours..."})]})})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:Q,onClose:()=>I(!1),delay:4e3,autohide:!0,bg:K==="success"?"success":"danger",className:c==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${K==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":K==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:c==="dark"?"bg-dark text-light":"",children:H})]})})]})})}function aEe(){const{id:s}=is();Ut();const{user:t}=Aa(),[a,r]=x.useState(!0),[n,i]=x.useState(null),[l,c]=x.useState("light"),[o,u]=x.useState(null),[d,f]=x.useState({}),[p,j]=x.useState(!1),[y,k]=x.useState(""),[v,S]=x.useState("success");x.useEffect(()=>{const I=document.documentElement.getAttribute("data-theme")||"light";c(I);const H=new MutationObserver(()=>{const z=document.documentElement.getAttribute("data-theme")||"light";c(z)});return H.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>H.disconnect()},[]);const C=x.useCallback(async()=>{try{r(!0);const I=await he.get(`/etudiant/show/evaluation/${s}`);I.data.status==="success"?(u(I.data.evaluation),f(I.data.evaluation.mes_reponses||{})):i(I.data.message||"Erreur lors du chargement des détails")}catch(I){i("Erreur lors du chargement des détails de l'évaluation"),console.error("Erreur:",I),I.response?.status===404?i("Évaluation introuvable ou non accessible"):I.response?.status===403&&i("Vous n'avez pas l'autorisation d'accéder à cette évaluation")}finally{r(!1)}},[s]);x.useEffect(()=>{s&&C()},[C]),x.useEffect(()=>{We.replace()},[o]);const _=I=>{switch(I){case"Programmée":return"primary";case"Terminée":return"success";default:return"secondary"}},A=I=>{switch(I){case"En cours":return"success";case"Future":return"info";case"Passée":return"secondary";default:return"secondary"}},D=I=>I?new Date(I).toLocaleDateString("fr-FR",{weekday:"long",day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Non définie",M=I=>{if(I<60)return`${I} minutes`;const H=Math.floor(I/60),z=I%60;return z>0?`${H}h ${z}min`:`${H}h`},L=I=>I>=80?"success":I>=60?"primary":I>=40?"warning":"danger",F=I=>I>=80?"Excellent":I>=60?"Bien":I>=40?"Passable":"Insuffisant",Q=(I,H)=>{if(!H)return{status:"non_repondue",points:0,correct:null,icon:"minus-circle",color:"secondary"};if(I.type==="QCM"){const z=H.choix_selectionne_qcm===I.bonne_reponse_general;return{status:z?"correcte":"incorrecte",points:z?I.points:0,correct:z,icon:z?"check-circle":"x-circle",color:z?"success":"danger"}}else return{status:"en_attente",points:0,correct:null,icon:"clock",color:"warning"}};return a?e.jsx(fs,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des résultats..."})]})}):n||!o?e.jsxs(fs,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),n||"Évaluation introuvable"]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:"secondary",as:xe,to:"/etudiant/view/evaluations/my-classroom",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à mes évaluations"]}),e.jsxs($,{variant:"outline-primary",onClick:C,children:[e.jsx("i",{"data-feather":"refresh-cw",className:"me-2"}),"Réessayer"]})]})]}):e.jsxs(fs,{children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:e.jsx("div",{children:e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:"/etudiant/view/evaluations/my-classroom",className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsxs("div",{children:[e.jsx("h1",{className:`h3 mb-0 ${l==="dark"?"text-light":"text-dark"}`,children:o.titre}),e.jsxs("div",{className:"d-flex align-items-center gap-2 mt-1",children:[e.jsx("small",{className:"text-muted",children:o.matricule}),e.jsx(oe,{bg:_(o.status),className:"px-2 py-1",children:o.status}),e.jsx(oe,{bg:A(o.etat_temporel),className:"px-2 py-1",children:o.etat_temporel}),o.a_participe&&e.jsxs(oe,{bg:"success",className:"px-2 py-1",children:[e.jsx("i",{"data-feather":"check-circle",className:"me-1",style:{width:"12px",height:"12px"}}),"Participée"]})]})]})]})})}),e.jsxs(pe,{children:[e.jsxs(T,{lg:8,children:[o.a_participe&&o.pourcentage!==void 0&&e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${l==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"award",className:"me-2",style:{width:"20px",height:"20px"}}),"Mes résultats"]})}),e.jsxs(w.Body,{children:[e.jsxs(pe,{className:"text-center mb-4",children:[e.jsx(T,{md:3,children:e.jsxs("div",{className:"mb-2",children:[e.jsx("h2",{className:`text-${L(o.pourcentage)} mb-0`,children:o.score_obtenu}),e.jsx("small",{className:"text-muted",children:"Points obtenus"})]})}),e.jsx(T,{md:3,children:e.jsxs("div",{className:"mb-2",children:[e.jsx("h2",{className:`${l==="dark"?"text-light":"text-dark"} mb-0`,children:o.total_points}),e.jsx("small",{className:"text-muted",children:"Points total"})]})}),e.jsx(T,{md:3,children:e.jsxs("div",{className:"mb-2",children:[e.jsxs("h2",{className:`text-${L(o.pourcentage)} mb-0`,children:[o.pourcentage,"%"]}),e.jsx("small",{className:"text-muted",children:"Pourcentage"})]})}),e.jsx(T,{md:3,children:e.jsx("div",{className:"mb-2",children:e.jsx(oe,{bg:L(o.pourcentage),className:"px-3 py-2 fs-6",children:F(o.pourcentage)})})})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[e.jsx("small",{className:"text-muted",children:"Progression"}),e.jsxs("small",{className:`text-${L(o.pourcentage)}`,children:[o.pourcentage,"%"]})]}),e.jsx(Zt,{now:o.pourcentage,variant:L(o.pourcentage),style:{height:"10px"}})]}),e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:6,children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Questions répondues :"}),e.jsxs("span",{className:l==="dark"?"text-light":"text-dark",children:[Object.keys(d).length," / ",o.questions?.length||0]})]})}),e.jsx(T,{md:6,children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Réponses correctes :"}),e.jsx("span",{className:"text-success",children:o.questions?.filter(I=>{const H=d[I.matricule];return H&&I.type==="QCM"&&H.choix_selectionne_qcm===I.bonne_reponse_general}).length||0})]})})]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${l==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"help-circle",className:"me-2",style:{width:"20px",height:"20px"}}),"Détail des réponses"]})}),e.jsx(w.Body,{className:"p-0",children:o.questions&&o.questions.length>0?o.questions.map((I,H)=>{const z=d[I.matricule],K=Q(I,z);return e.jsxs("div",{className:`p-4 ${H<o.questions.length-1?"border-bottom":""} ${l==="dark"?"border-secondary":""}`,children:[e.jsx("div",{className:"d-flex justify-content-between align-items-start mb-3",children:e.jsxs("div",{className:"flex-grow-1",children:[e.jsxs("h6",{className:`mb-2 ${l==="dark"?"text-light":"text-dark"}`,children:[e.jsxs("span",{className:"me-2 text-primary",children:["#",H+1]}),I.enonce]}),e.jsxs("div",{className:"d-flex gap-2 mb-2",children:[e.jsx(oe,{bg:I.type==="QCM"?"info":"warning",children:I.type}),e.jsxs(oe,{bg:"primary",children:[I.points," point",I.points>1?"s":""]}),e.jsxs(oe,{bg:K.color,children:[e.jsx("i",{"data-feather":K.icon,className:"me-1",style:{width:"10px",height:"10px"}}),K.points," / ",I.points]})]})]})}),I.image&&e.jsx("div",{className:"text-center mb-3",children:e.jsx("img",{src:I.image,alt:"Image de la question",className:"img-fluid rounded",style:{maxHeight:"200px"}})}),I.type==="QCM"?e.jsxs("div",{children:[e.jsx("div",{className:"row g-2",children:[{key:"A",text:I.choix_a},{key:"B",text:I.choix_b},{key:"C",text:I.choix_c}].filter(U=>U.text).map(U=>{const V=z?.choix_selectionne_qcm===U.text,P=U.text===I.bonne_reponse_general;let q="outline-secondary",G=null;return P?(q="outline-success",G="check-circle"):V&&!P&&(q="outline-danger",G="x-circle"),e.jsx("div",{className:"col-12",children:e.jsx("div",{className:`p-3 border rounded ${q.replace("outline-","border-")} ${V?"bg-opacity-10":""} ${l==="dark"&&!V?"bg-dark":""}`,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsxs("strong",{className:"me-2",children:[U.key,"."]}),e.jsx("span",{className:"flex-grow-1",children:U.text}),G&&e.jsx("i",{"data-feather":G,className:`ms-2 ${P?"text-success":"text-danger"}`,style:{width:"16px",height:"16px"}}),V&&e.jsx(oe,{bg:"primary",className:"ms-2",children:"Votre choix"})]})})},U.key)})}),!z&&e.jsxs("div",{className:"alert alert-warning mt-3",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Vous n'avez pas répondu à cette question."]})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-bold text-muted",children:"Votre réponse :"}),e.jsx("div",{className:`p-3 border rounded ${l==="dark"?"bg-secondary bg-opacity-25 border-secondary":"bg-light"}`,children:z?.reponse_donnee?e.jsx("div",{style:{whiteSpace:"pre-wrap"},children:z.reponse_donnee}):e.jsx("em",{className:"text-muted",children:"Aucune réponse fournie"})})]}),I.reponse_attendue&&e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-bold text-success",children:"Réponse attendue :"}),e.jsx("div",{className:"p-3 border border-success rounded bg-success bg-opacity-10",children:e.jsx("div",{style:{whiteSpace:"pre-wrap"},children:I.reponse_attendue})})]}),e.jsxs("div",{className:"alert alert-info",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"16px",height:"16px"}}),"Cette question nécessite une correction manuelle par le formateur."]})]}),I.explication&&e.jsxs("div",{className:`mt-3 p-3 rounded border-start border-info border-4 ${l==="dark"?"bg-info bg-opacity-10":"bg-info bg-opacity-5"}`,children:[e.jsxs("h6",{className:"text-info mb-2",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"16px",height:"16px"}}),"Explication"]}),e.jsx("div",{className:l==="dark"?"text-light":"text-dark",children:I.explication})]})]},I.id)}):e.jsxs("div",{className:"p-4 text-center text-muted",children:[e.jsx("i",{"data-feather":"help-circle",className:"mb-2",style:{width:"32px",height:"32px"}}),e.jsx("p",{children:"Aucune question disponible pour cette évaluation."})]})})]})]}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${l==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Matière :"}),e.jsx("span",{className:`fw-medium ${l==="dark"?"text-light":"text-dark"}`,children:o.matiere?.nom||"Non définie"})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Classe :"}),e.jsx("span",{className:`fw-medium ${l==="dark"?"text-light":"text-dark"}`,children:o.matiere?.classroom?.name||"Non définie"})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Date :"}),e.jsx("span",{className:`fw-medium ${l==="dark"?"text-light":"text-dark"}`,children:D(o.date_debut)})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Durée :"}),e.jsx("span",{className:`fw-medium ${l==="dark"?"text-light":"text-dark"}`,children:M(o.duree_minutes)})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Questions :"}),e.jsx("span",{className:`fw-medium ${l==="dark"?"text-light":"text-dark"}`,children:o.questions?.length||0})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Points total :"}),e.jsx("span",{className:`fw-medium ${l==="dark"?"text-light":"text-dark"}`,children:o.total_points})]})]}),o.description&&e.jsxs("div",{children:[e.jsx("label",{className:"form-label fw-bold text-muted",children:"Description :"}),e.jsx("p",{className:l==="dark"?"text-light":"text-dark",style:{whiteSpace:"pre-wrap"},children:o.description})]})]})]}),o.a_participe&&e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${l==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"bar-chart-2",className:"me-2",style:{width:"20px",height:"20px"}}),"Statistiques"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("div",{className:`text-${L(o.pourcentage)} mb-2`,children:e.jsx("i",{"data-feather":"award",style:{width:"32px",height:"32px"}})}),e.jsxs("h4",{className:`text-${L(o.pourcentage)} mb-0`,children:[o.pourcentage,"%"]}),e.jsx("small",{className:l==="dark"?"text-light":"text-muted",children:F(o.pourcentage)})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Réussite :"}),e.jsxs("span",{className:`text-${L(o.pourcentage)}`,children:[o.score_obtenu,"/",o.total_points]})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Participation :"}),e.jsx(oe,{bg:"success",children:"Complète"})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Statut :"}),e.jsx(oe,{bg:A(o.etat_temporel),children:o.etat_temporel})]})]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${l==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"20px",height:"20px"}}),"Actions"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"outline-primary",onClick:()=>window.print(),children:[e.jsx("i",{"data-feather":"printer",className:"me-2",style:{width:"16px",height:"16px"}}),"Imprimer les résultats"]}),e.jsxs($,{variant:"outline-secondary",as:xe,to:"/etudiant/view/evaluations/my-classroom",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2",style:{width:"16px",height:"16px"}}),"Retour aux évaluations"]})]})})]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:p,onClose:()=>j(!1),delay:3e3,autohide:!0,bg:v==="success"?"success":"danger",className:l==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${v==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":v==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:l==="dark"?"bg-dark text-light":"",children:y})]})})]})}function rEe(){const[s,t]=x.useState(!0),[a,r]=x.useState("light"),[n,i]=x.useState({}),[l,c]=x.useState([]),[o,u]=x.useState({}),[d,f]=x.useState({}),[p,j]=x.useState(!1),[y,k]=x.useState(""),[v,S]=x.useState("success");x.useEffect(()=>{const H=document.documentElement.getAttribute("data-theme")||"light";r(H);const z=new MutationObserver(()=>{const K=document.documentElement.getAttribute("data-theme")||"light";r(K)});return z.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>z.disconnect()},[]);const C=(H,z="success")=>{k(H),S(z),j(!0)},_=x.useCallback(async()=>{try{t(!0);const H=await he.get("/etudiant/view/evaluations/my-classroom");if(H.data.status==="success"){i(H.data.classroom||{});const z=(H.data.evaluations||[]).filter(U=>U.a_participe);c(z);const K={};z.forEach(U=>{const V=U.matiere?.nom||"Matière non définie";K[V]||(K[V]=[]),K[V].push(U)}),u(K)}else C(H.data.message||"Erreur lors du chargement des résultats","danger")}catch(H){console.error("Erreur lors du chargement des résultats:",H);const z=H.response?.data?.message||"Erreur lors du chargement des résultats";C(z,"danger")}finally{t(!1)}},[]);x.useEffect(()=>{_()},[_]),x.useEffect(()=>{We.replace()},[o]);const A=H=>{f(z=>({...z,[H]:!z[H]}))},D=H=>H>=80?"success":H>=60?"primary":H>=40?"warning":"danger",M=H=>H>=80?"Excellent":H>=60?"Bien":H>=40?"Passable":"Insuffisant",L=H=>H?new Date(H).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Non définie",F=H=>{if(H<60)return`${H} min`;const z=Math.floor(H/60),K=H%60;return K>0?`${z}h ${K}min`:`${z}h`},I=(()=>{if(l.length===0)return{totalEvaluations:0,moyenneGenerale:0,excellentCount:0,totalPoints:0,pointsObtenus:0};const H=l.filter(P=>P.pourcentage!==void 0),z=H.length>0?H.reduce((P,q)=>P+q.pourcentage,0)/H.length:0,K=H.filter(P=>P.pourcentage>=80).length,U=l.reduce((P,q)=>P+(q.total_points||0),0),V=l.reduce((P,q)=>P+(q.score_obtenu||0),0);return{totalEvaluations:l.length,moyenneGenerale:Math.round(z*100)/100,excellentCount:K,totalPoints:U,pointsObtenus:V}})();return s?e.jsx(fs,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement de vos résultats..."})]})}):e.jsx(fs,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${a==="dark"?"bg-success bg-opacity-25":"bg-success bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"award",className:"text-success",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${a==="dark"?"text-light":"text-dark"}`,children:"Mes Résultats d'Évaluations"}),e.jsxs("p",{className:`mb-0 ${a==="dark"?"text-light":"text-muted"}`,children:["Historique de vos performances • ",n.name||"Ma Classe"]})]})]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx($,{variant:"outline-primary",onClick:_,title:"Actualiser",children:e.jsx("i",{"data-feather":"refresh-cw",style:{width:"16px",height:"16px"}})}),e.jsxs($,{variant:"outline-secondary",as:xe,to:"/etudiant/view/evaluations/my-classroom",title:"Toutes les évaluations",children:[e.jsx("i",{"data-feather":"list",className:"me-1",style:{width:"16px",height:"16px"}}),"Toutes"]})]})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:I.totalEvaluations}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Évaluations faites"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"clipboard",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:`mb-0 text-${D(I.moyenneGenerale)}`,children:[I.moyenneGenerale,"%"]}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Moyenne générale"})]}),e.jsx("div",{className:`text-${D(I.moyenneGenerale)}`,children:e.jsx("i",{"data-feather":"trending-up",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:I.excellentCount}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Excellents résultats"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"award",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:I.pointsObtenus}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Points obtenus"})]}),e.jsx("div",{className:"text-info",children:e.jsx("i",{"data-feather":"target",style:{width:"24px",height:"24px"}})})]})})})})]}),I.totalPoints>0&&e.jsx(w,{className:`border-0 shadow-sm mb-4 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs(w.Body,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("h6",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:"Performance globale"}),e.jsx(oe,{bg:D(I.moyenneGenerale),className:"px-3 py-1",children:M(I.moyenneGenerale)})]}),e.jsx(Zt,{now:I.moyenneGenerale,variant:D(I.moyenneGenerale),style:{height:"12px"},className:"mb-2"}),e.jsxs("div",{className:"d-flex justify-content-between small text-muted",children:[e.jsxs("span",{children:[I.pointsObtenus," points obtenus"]}),e.jsxs("span",{children:[I.totalPoints," points total"]})]})]})})]}),e.jsxs(w,{className:`shadow-sm border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"layers",className:"text-success me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:"Résultats par Matière"})]})}),e.jsx(w.Body,{className:a==="dark"?"bg-dark":"bg-white",children:Object.keys(o).length>0?e.jsx("div",{className:"resultats-groups",children:Object.entries(o).map(([H,z])=>{const K=z.filter(q=>q.pourcentage!==void 0),U=K.length>0?K.reduce((q,G)=>q+G.pourcentage,0)/K.length:0,V=z.reduce((q,G)=>q+(G.total_points||0),0),P=z.reduce((q,G)=>q+(G.score_obtenu||0),0);return e.jsxs(w,{className:`mb-4 border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`${a==="dark"?"bg-dark border-secondary":"bg-light"} cursor-pointer`,onClick:()=>A(`matiere-${H}`),style:{cursor:"pointer"},children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"book",className:"text-success me-3",style:{width:"20px",height:"20px"}}),e.jsxs("div",{children:[e.jsx("h5",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:H}),e.jsxs("small",{className:"text-muted",children:[z.length," évaluation",z.length>1?"s":""," • Moyenne: ",e.jsxs("span",{className:`fw-bold text-${D(U)}`,children:[Math.round(U*100)/100,"%"]})]})]})]}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsxs(oe,{bg:D(U),children:[Math.round(U),"%"]}),e.jsxs(oe,{bg:"info",children:[P,"/",V," pts"]}),e.jsx("i",{"data-feather":d[`matiere-${H}`]?"chevron-up":"chevron-down",className:`${a==="dark"?"text-light":"text-muted"}`,style:{width:"20px",height:"20px"}})]})]})}),e.jsx(Oa,{in:d[`matiere-${H}`]!==!1,children:e.jsxs(w.Body,{className:a==="dark"?"bg-dark":"",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("small",{className:"text-muted",children:"Performance dans cette matière"}),e.jsx(oe,{bg:D(U),children:M(U)})]}),e.jsx(Zt,{now:U,variant:D(U),style:{height:"8px"}})]}),e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{className:`align-middle ${a==="dark"?"table-dark":""}`,hover:!0,children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Évaluation"}),e.jsx("th",{className:"text-center",children:"Date"}),e.jsx("th",{className:"text-center",children:"Score"}),e.jsx("th",{className:"text-center",children:"Appréciation"}),e.jsx("th",{className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:z.map(q=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{className:`fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:q.titre}),e.jsx("small",{className:"text-muted",children:q.matricule}),e.jsxs("div",{className:"d-flex flex-wrap gap-1 mt-1",children:[e.jsxs(oe,{bg:"info",className:"small",children:[q.questions_count," questions"]}),e.jsx(oe,{bg:"secondary",className:"small",children:F(q.duree_minutes)})]})]})}),e.jsx("td",{className:"text-center",children:e.jsx("div",{className:"small",children:L(q.date_debut)})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{children:[e.jsxs("div",{className:`fw-bold text-${D(q.pourcentage||0)}`,children:[q.score_obtenu||0,"/",q.total_points||0]}),e.jsxs("small",{className:`text-${D(q.pourcentage||0)}`,children:[q.pourcentage||0,"%"]})]})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:D(q.pourcentage||0),className:"px-2 py-1",children:M(q.pourcentage||0)})}),e.jsx("td",{className:"text-center",children:e.jsxs($,{size:"sm",variant:"outline-primary",as:xe,to:`/etudiant/evaluation/${q.id}/details`,title:"Voir les détails",children:[e.jsx("i",{"data-feather":"eye",className:"me-1",style:{width:"14px",height:"14px"}}),"Détails"]})})]},q.id))})]})})]})})]},H)})}):e.jsx("div",{className:"text-center py-5",children:e.jsxs("div",{className:`${a==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"award",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucun résultat disponible"}),e.jsx("p",{className:"small mb-3",children:"Vous n'avez pas encore participé à d'évaluations ou vos résultats ne sont pas encore disponibles."}),e.jsxs($,{variant:"primary",as:xe,to:"/etudiant/view/evaluations/my-classroom",children:[e.jsx("i",{"data-feather":"clipboard",className:"me-2",style:{width:"16px",height:"16px"}}),"Voir les évaluations disponibles"]})]})]})})})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:p,onClose:()=>j(!1),delay:4e3,autohide:!0,bg:v==="success"?"success":"danger",className:a==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${v==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":v==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:a==="dark"?"bg-dark text-light":"",children:y})]})})]})})}function nEe(){const[s,t]=x.useState(!0),[a,r]=x.useState(!1),[n,i]=x.useState("light"),[l,c]=x.useState([]),[o,u]=x.useState(null),[d,f]=x.useState([]),[p,j]=x.useState(null),[y,k]=x.useState(""),[v,S]=x.useState(null),[C,_]=x.useState(null),[A,D]=x.useState(""),[M,L]=x.useState([]),[F,Q]=x.useState(!1),[I,H]=x.useState(!1),[z,K]=x.useState(!1),[U,V]=x.useState(!1),[P,q]=x.useState(null),[G,se]=x.useState([]),[O,W]=x.useState([]),[Z,te]=x.useState(!1),[ie,fe]=x.useState(!1),[J,ge]=x.useState(""),[re,ve]=x.useState("success"),Oe=x.useRef(null),ee=x.useRef(null),me=x.useRef(null),Xe=x.useRef(null);x.useEffect(()=>{const Le=document.documentElement.getAttribute("data-theme")||"light";i(Le);const rt=new MutationObserver(()=>{const ot=document.documentElement.getAttribute("data-theme")||"light";i(ot)});return rt.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>rt.disconnect()},[]),x.useEffect(()=>(o&&(Xe.current&&clearInterval(Xe.current),Xe.current=setInterval(()=>{ye(o.matricule,1,!0)},15e3)),()=>{Xe.current&&clearInterval(Xe.current)}),[o]),x.useEffect(()=>{We.replace()},[l,d,M,o,p,C]);const Se=(Le,rt="success")=>{ge(Le),ve(rt),fe(!0)},ae=x.useCallback(async()=>{try{r(!0);const Le=await he.get("/etudiant/chat/conversations");c(Le.data.conversations||[])}catch(Le){console.error("Erreur chargement conversations:",Le),Se("Erreur lors du chargement des conversations","danger")}finally{r(!1)}},[]),ye=x.useCallback(async(Le,rt=1,ot=!1)=>{try{const hs=await he.get(`/etudiant/chat/conversations/${Le}/messages`,{params:{page:rt,limit:50}});f(rt===1?hs.data.messages||[]:Zs=>[...hs.data.messages,...Zs])}catch(hs){console.error("Erreur chargement messages:",hs),ot||Se("Erreur lors du chargement des messages","danger")}},[]),st=x.useCallback(async Le=>{if(!Le.trim()){L([]);return}try{const rt=await he.get("/etudiant/chat/users/search",{params:{search:Le,limit:20}});L(rt.data.users||[])}catch(rt){console.error("Erreur recherche utilisateurs:",rt),Se("Erreur lors de la recherche","danger")}},[]),He=async Le=>{try{const rt=await he.post("/etudiant/chat/conversations/start",{matricule_destinataire:Le});await ae(),u(rt.data.conversation),H(!1),Se(rt.data.message,"success")}catch(rt){console.error("Erreur démarrage conversation:",rt),Se("Erreur lors du démarrage de la conversation","danger")}},ke=async()=>{if(!(!y.trim()&&O.length===0)&&o)try{const Le=new FormData;Le.append("matricule_conversation",o.matricule),y.trim()&&Le.append("contenu",y.trim()),v&&Le.append("matricule_message_parent",v.matricule),O.forEach(rt=>{Le.append("fichiers_joints[]",rt)}),C?(await he.put(`/etudiant/chat/messages/${C.matricule}/edit`,{contenu:y.trim()}),_(null)):await he.post("/etudiant/chat/messages/send",Le,{headers:{"Content-Type":"multipart/form-data"}}),k(""),W([]),S(null),await ye(o.matricule),await ae()}catch(Le){console.error("Erreur envoi message:",Le),Se("Erreur lors de l'envoi du message","danger")}},we=async Le=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer ce message ?"))try{await he.delete(`/etudiant/chat/messages/${Le}`),await ye(o.matricule),Se("Message supprimé avec succès","success")}catch(rt){console.error("Erreur suppression message:",rt),Se("Erreur lors de la suppression","danger")}},Ke=async Le=>{try{await he.put(`/etudiant/chat/messages/${Le}/toggle-pin`),await ye(o.matricule),Se("Message épinglé/désépinglé","success")}catch(rt){console.error("Erreur épinglage message:",rt),Se("Erreur lors de l'épinglage","danger")}},Ee=async Le=>{try{const rt=await he.get(`/etudiant/chat/conversations/${Le}/pinned-messages`);se(rt.data.messages||[]),V(!0)}catch(rt){console.error("Erreur messages épinglés:",rt),Se("Erreur lors du chargement des messages épinglés","danger")}},je=async Le=>{if(!(!o||!Le.trim()))try{const rt=await he.get(`/etudiant/chat/conversations/${o.matricule}/search`,{params:{query:Le.trim()}});f(rt.data.messages||[])}catch(rt){console.error("Erreur recherche messages:",rt),Se("Erreur lors de la recherche","danger")}};x.useEffect(()=>{(async()=>{try{t(!0),await ae();const rt=await he.get("/me");j(rt.data)}catch(rt){console.error("Erreur initialisation chat:",rt)}finally{t(!1)}})()},[ae]),x.useEffect(()=>{o&&ye(o.matricule)},[o,ye]),x.useEffect(()=>{Oe.current?.scrollIntoView({behavior:"smooth"})},[d]);const Ve=Le=>{const rt=new Date(Le),hs=Math.abs(new Date-rt)/36e5;return hs<24?rt.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}):hs<168?rt.toLocaleDateString("fr-FR",{weekday:"short",hour:"2-digit",minute:"2-digit"}):rt.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})},Nt=Le=>{const rt=new Date(Le),ot=new Date,hs=new Date(ot);return hs.setDate(hs.getDate()-1),rt.toDateString()===ot.toDateString()?"Aujourd'hui":rt.toDateString()===hs.toDateString()?"Hier":rt.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"})},nt=Le=>Le.autres_participants&&Le.autres_participants.length===1?Le.autres_participants[0]?.name||"Conversation":Le.nom_affichage||"Groupe",It=Le=>Le.autres_participants&&Le.autres_participants.length===1?Le.autres_participants[0]?.profil_url:null,ps=Le=>{const rt=Array.from(Le.target.files);if(rt.length>3){Se("Maximum 3 fichiers autorisés","warning");return}W(rt),te(!0)},le=Le=>{Le.key==="Enter"&&!Le.shiftKey&&(Le.preventDefault(),ke())},Ae=Le=>{const rt={};return Le.forEach(ot=>{const hs=new Date(ot.created_at).toDateString();rt[hs]||(rt[hs]=[]),rt[hs].push(ot)}),rt};return s?e.jsx(fs,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement du tchat..."})]})}):e.jsx(fs,{children:e.jsxs("div",{className:"d-flex flex-column vh-100",children:[e.jsxs("div",{className:"d-flex flex-grow-1",style:{height:"calc(100vh - 120px)"},children:[e.jsx("div",{className:`border-end ${n==="dark"?"border-secondary":""}`,style:{width:"350px",minWidth:"350px"},children:e.jsxs("div",{className:`h-100 d-flex flex-column ${n==="dark"?"bg-dark":"bg-white"}`,children:[e.jsxs("div",{className:`border-bottom p-3 ${n==="dark"?"bg-dark border-secondary":"bg-light"}`,children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("h5",{className:`mb-0 ${n==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"message-circle",className:"me-2",style:{width:"20px",height:"20px"}}),"Conversations"]}),e.jsxs("div",{className:"d-flex gap-1",children:[e.jsx($,{variant:"outline-primary",size:"sm",onClick:()=>H(!0),children:e.jsx("i",{"data-feather":"plus",style:{width:"16px",height:"16px"}})}),e.jsx($,{variant:"outline-secondary",size:"sm",onClick:()=>ae(),disabled:a,children:a?e.jsx(tt,{animation:"border",size:"sm"}):e.jsx(ss,{icon:"refresh-cw",size:"sm",style:{width:"16px",height:"16px"}})})]})]}),e.jsx(b.Control,{type:"text",placeholder:"Rechercher dans les conversations...",className:`${n==="dark"?"bg-dark text-light border-secondary":""}`,value:A,onChange:Le=>D(Le.target.value)})]}),e.jsx("div",{className:`flex-grow-1 ${n==="dark"?"bg-dark":""}`,style:{overflowY:"auto"},children:l.length>0?e.jsx(Vv,{variant:"flush",children:l.filter(Le=>!A||nt(Le).toLowerCase().includes(A.toLowerCase())).map(Le=>e.jsx(Vv.Item,{action:!0,active:o?.matricule===Le.matricule,onClick:()=>u(Le),className:`border-1 rounded ${n==="dark"?"bg-dark text-light":""}`,style:{cursor:"pointer"},children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsxs("div",{className:"position-relative me-3",children:[It(Le)?e.jsx(Mt,{src:It(Le),alt:"Avatar",width:"45",height:"45",className:"rounded-circle",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-primary d-flex align-items-center justify-content-center",style:{width:"45px",height:"45px"},children:e.jsx("i",{"data-feather":Le.autres_participants?.length===1?"user":"users",className:"text-white",style:{width:"20px",height:"20px"}})}),Le.messages_non_lus>0&&e.jsx(oe,{bg:"danger",pill:!0,className:"position-absolute top-0 end-0",style:{transform:"translate(50%, -50%)",fontSize:"0.7em"},children:Le.messages_non_lus>99?"99+":Le.messages_non_lus})]}),e.jsxs("div",{className:"flex-grow-1 min-w-0",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("h6",{className:`mb-1 text-truncate ${n==="dark"?"text-light":"text-dark"}`,children:nt(Le).length>25?nt(Le).substring(0,25)+"...":nt(Le)}),e.jsx("small",{className:"text-muted",children:Ve(Le.derniere_activite)})]}),Le.dernier_message&&e.jsx("p",{className:"mb-1 text-muted small text-truncate",children:Le.dernier_message.type_message==="fichier"?e.jsx(e.Fragment,{children:"Fichier"}):Le.dernier_message.type_message==="image"?e.jsx(e.Fragment,{children:"Image"}):Le?.dernier_message?.contenu?.length>30?Le.dernier_message.contenu.substring(0,30)+"...":Le.dernier_message.contenu}),e.jsx("div",{className:"d-flex align-items-center gap-2",children:Le.autres_participants?.length>0&&Le.autres_participants[0].role===2&&e.jsx(oe,{bg:"success",className:"small",children:"Admin"})})]})]})},Le.id))}):e.jsxs("div",{className:"text-center py-5 px-3",children:[e.jsx("i",{"data-feather":"message-circle",className:"text-muted mb-3",style:{width:"48px",height:"48px"}}),e.jsx("h6",{className:n==="dark"?"text-light":"text-muted",children:"Aucune conversation"}),e.jsx("p",{className:"small text-muted",children:"Commencez une nouvelle conversation"}),e.jsxs($,{variant:"primary",size:"sm",onClick:()=>H(!0),children:[e.jsx("i",{"data-feather":"plus",className:"me-1",style:{width:"16px",height:"16px"}}),"Nouvelle conversation"]})]})})]})}),e.jsx("div",{className:"flex-grow-1 d-flex flex-column",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`border-bottom p-3 ${n==="dark"?"bg-dark border-secondary":"bg-light"}`,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[It(o)?e.jsx(Mt,{src:It(o),alt:"Avatar",width:"40",height:"40",className:"rounded-circle me-3",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-primary d-flex align-items-center justify-content-center me-3",style:{width:"40px",height:"40px"},children:e.jsx("i",{"data-feather":o.autres_participants?.length===1?"user":"users",className:"text-white",style:{width:"18px",height:"18px"}})}),e.jsxs("div",{children:[e.jsx("h6",{className:`mb-0 ${n==="dark"?"text-light":"text-dark"}`,children:nt(o)}),e.jsx("small",{className:"text-muted",children:o.autres_participants?.length===1?o.autres_participants[0].role===2?"Admin":"Étudiant":"Conversation de groupe"})]})]}),e.jsxs("div",{className:"d-flex gap-1",children:[e.jsx($,{variant:"outline-secondary",size:"sm",onClick:()=>K(!0),children:e.jsx("i",{"data-feather":"search",style:{width:"16px",height:"16px"}})}),e.jsx($,{variant:"outline-info",size:"sm",onClick:()=>Ee(o.matricule),children:e.jsx("i",{"data-feather":"bookmark",style:{width:"16px",height:"16px"}})}),e.jsxs(at,{children:[e.jsx(at.Toggle,{variant:"outline-secondary",size:"sm",children:e.jsx("i",{"data-feather":"more-vertical",style:{width:"16px",height:"16px"}})}),e.jsx(at.Menu,{children:e.jsxs(at.Item,{children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"16px",height:"16px"}}),"Informations"]})})]})]})]})}),e.jsx("div",{className:"flex-grow-1",style:{overflow:"hidden"},children:e.jsx("div",{className:`h-100 p-3 ${n==="dark"?"bg-dark":"bg-white"}`,style:{overflowY:"auto"},children:d.length>0?e.jsxs(e.Fragment,{children:[Object.entries(Ae(d)).map(([Le,rt])=>e.jsxs("div",{children:[e.jsx("div",{className:"text-center my-3",children:e.jsx(oe,{bg:"light",text:"dark",className:"px-3 py-2",children:Nt(rt[0].created_at)})}),rt.map((ot,hs)=>e.jsx("div",{className:`mb-3 d-flex ${ot.expediteur.matricule===p?.matricule?"justify-content-end":"justify-content-start"}`,children:e.jsxs("div",{className:`max-w-75 ${ot.expediteur.matricule===p?.matricule?"text-end":""}`,style:{maxWidth:"75%"},children:[ot.expediteur.matricule!==p?.matricule&&e.jsxs("div",{className:"d-flex align-items-center mb-1",children:[e.jsx(Mt,{src:ot.expediteur.profil_url||"/placeholder/placeholder.png",alt:"Avatar",width:"20",height:"20",className:"rounded-circle me-2",style:{objectFit:"cover"}}),e.jsx("small",{className:"text-muted",children:ot.expediteur.name}),ot.expediteur.role===2&&e.jsx(oe,{bg:"success",className:"ms-1",style:{fontSize:"0.6em"},children:"Admin"}),e.jsx("small",{className:"text-muted",children:ot.expediteur.status==="Connecté"?"🟢":"🔴"})]}),ot.messageParent&&e.jsxs("div",{className:`small p-2 rounded mb-1 border-start border-3 ${n==="dark"?"bg-secondary bg-opacity-25 border-secondary":"bg-light border-primary"}`,children:[e.jsx("div",{className:"fw-bold",children:ot.messageParent.expediteur?.name}),e.jsx("div",{className:"text-muted",children:ot.messageParent.contenu})]}),e.jsxs("div",{className:`p-3 rounded-3 position-relative ${ot.expediteur.matricule===p?.matricule?"bg-primary text-white ms-auto":n==="dark"?"bg-secondary text-light":"bg-light"}`,style:{borderBottomRightRadius:ot.expediteur.matricule===p?.matricule?"0.375rem !important":void 0,borderBottomLeftRadius:ot.expediteur.matricule!==p?.matricule?"0.375rem !important":void 0},children:[ot.epingle&&e.jsx("div",{className:"position-absolute top-0 end-0 p-1",children:e.jsx("i",{"data-feather":"bookmark",className:"text-warning",style:{width:"16px",height:"16px"}})}),e.jsx("div",{style:{whiteSpace:"pre-wrap"},children:ot.contenu}),ot.fichiers_joints_urls&&ot.fichiers_joints_urls.length>0&&e.jsx("div",{className:"mt-2",children:ot.fichiers_joints_urls.map((Zs,Kn)=>e.jsxs("div",{className:"d-flex align-items-center gap-2 mb-1",children:[e.jsx("i",{"data-feather":"paperclip",style:{width:"16px",height:"16px"}}),e.jsx("a",{href:Zs.url,className:ot.expediteur.matricule===p?.matricule?"text-white":"",target:"_blank",rel:"noopener noreferrer",children:Zs.nom})]},Kn))}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-2 small",children:[e.jsxs("span",{className:ot.expediteur.matricule===p?.matricule?"text-white-50":"text-muted",children:[Ve(ot.created_at),ot.modifie&&e.jsx("span",{className:"ms-1",children:"(modifié)"})]}),e.jsxs(at,{onToggle:Zs=>{Zs&&setTimeout(()=>We.replace(),0)},children:[e.jsx(at.Toggle,{variant:"link",size:"sm",className:`p-0 border-0 ${ot.expediteur.matricule===p?.matricule?"text-white":"text-muted"}`,children:e.jsx("i",{"data-feather":"more-horizontal",style:{width:"16px",height:"16px"}})}),e.jsxs(at.Menu,{children:[e.jsxs(at.Item,{onClick:()=>S(ot),children:[e.jsx("i",{"data-feather":"corner-up-left",className:"me-2",style:{width:"16px",height:"16px"}}),"Répondre"]}),e.jsxs(at.Item,{onClick:()=>Ke(ot.matricule),children:[e.jsx("i",{"data-feather":"bookmark",className:"me-2",style:{width:"16px",height:"16px"}}),ot.epingle?"Désépingler":"Épingler"]}),ot.can_edit&&e.jsxs(at.Item,{onClick:()=>{_(ot),k(ot.contenu),me.current?.focus()},children:[e.jsx("i",{"data-feather":"edit-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Modifier"]}),ot.can_delete&&e.jsxs(at.Item,{className:"text-danger",onClick:()=>we(ot.matricule),children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]})]})]})]})},ot.id))]},Le)),e.jsx("div",{ref:Oe})]}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{"data-feather":"message-circle",className:"text-muted mb-3",style:{width:"48px",height:"48px"}}),e.jsx("h6",{className:n==="dark"?"text-light":"text-muted",children:"Aucun message"}),e.jsx("p",{className:"small text-muted",children:"Commencez votre première conversation"})]})})}),e.jsxs("div",{className:`border-top p-3 ${n==="dark"?"border-secondary":""}`,children:[v&&e.jsx("div",{className:`mb-2 p-2 rounded ${n==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"small",children:[e.jsx("i",{"data-feather":"corner-up-left",className:"me-1",style:{width:"12px",height:"12px"}}),"Réponse à ",e.jsx("strong",{children:v.expediteur.name}),": ",v.contenu.substring(0,50),"..."]}),e.jsx($,{variant:"link",size:"sm",onClick:()=>S(null),children:e.jsx("i",{"data-feather":"x",style:{width:"12px",height:"12px"}})})]})}),C&&e.jsx("div",{className:`mb-2 p-2 rounded ${n==="dark"?"bg-warning bg-opacity-25":"bg-warning bg-opacity-10"}`,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"small text-warning",children:[e.jsx("i",{"data-feather":"edit-2",className:"me-1",style:{width:"12px",height:"12px"}}),"Modification du message"]}),e.jsx($,{variant:"link",size:"sm",onClick:()=>{_(null),k("")},children:e.jsx("i",{"data-feather":"x",style:{width:"12px",height:"12px"}})})]})}),O.length>0&&e.jsx("div",{className:`mb-2 p-2 rounded ${n==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:O.map((Le,rt)=>e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[e.jsxs("div",{className:"small",children:[e.jsx("i",{"data-feather":"paperclip",className:"me-1",style:{width:"12px",height:"12px"}}),Le.name," (",(Le.size/1024/1024).toFixed(2)," MB)"]}),e.jsx($,{variant:"link",size:"sm",onClick:()=>W(ot=>ot.filter((hs,Zs)=>Zs!==rt)),children:e.jsx("i",{"data-feather":"x",style:{width:"12px",height:"12px"}})})]},rt))}),e.jsxs(bd,{children:[e.jsx($,{variant:"outline-secondary",onClick:()=>ee.current?.click(),children:e.jsx("i",{"data-feather":"paperclip",style:{width:"16px",height:"16px"}})}),e.jsx(b.Control,{ref:me,as:"textarea",rows:1,placeholder:C?"Modifier le message...":"Tapez votre message...",value:y,onChange:Le=>k(Le.target.value),onKeyPress:le,className:n==="dark"?"bg-dark text-light border-secondary":"",style:{resize:"none",minHeight:"38px",maxHeight:"100px"}}),e.jsx($,{variant:"primary",onClick:ke,disabled:!y.trim()&&O.length===0,children:e.jsx("i",{"data-feather":C?"check":"send",style:{width:"16px",height:"16px"}})})]}),e.jsx("input",{ref:ee,type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx,.mp3,.mp4",onChange:ps,style:{display:"none"}})]})]}):e.jsx("div",{className:`h-100 d-flex align-items-center justify-content-center ${n==="dark"?"bg-dark":"bg-light"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx(ss,{icon:"message-circle",style:{width:"64px",height:"64px"}}),e.jsx("h5",{className:n==="dark"?"text-light":"text-muted",children:"Sélectionnez une conversation"}),e.jsx("p",{className:"text-muted",children:"Choisissez une conversation dans la liste pour commencer à chatter"})]})})})]}),e.jsxs(Y,{show:I,onHide:()=>H(!1),centered:!0,contentClassName:n==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:n==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Nouvelle conversation"})}),e.jsxs(Y.Body,{className:n==="dark"?"bg-dark text-light":"",children:[e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Rechercher un utilisateur"}),e.jsx(b.Control,{type:"text",placeholder:"Nom, email ou matricule...",onChange:Le=>st(Le.target.value),className:n==="dark"?"bg-dark text-light border-secondary":""})]}),M.length>0&&e.jsx("div",{className:"border rounded p-2",style:{maxHeight:"300px",overflowY:"auto"},children:M.map(Le=>e.jsxs("div",{className:`d-flex align-items-center p-2 rounded cursor-pointer ${n==="dark"?"hover-bg-secondary":"hover-bg-light"}`,onClick:()=>He(Le.matricule),style:{cursor:"pointer"},children:[e.jsx(Mt,{src:Le.profil_url||"/placeholder/placeholder.png",alt:"Avatar",width:"40",height:"40",className:"rounded-circle me-3",style:{objectFit:"cover"}}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("div",{className:`fw-medium ${n==="dark"?"text-light":"text-dark"}`,children:Le.name}),e.jsx("div",{className:"small text-muted",children:Le.email}),e.jsx("div",{className:"d-flex gap-1",children:e.jsx(oe,{bg:Le.role===1?"primary":"success",children:Le.role_text})})]})]},Le.id))})]})]}),e.jsxs(Y,{show:z,onHide:()=>K(!1),centered:!0,contentClassName:n==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:n==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Rechercher dans la conversation"})}),e.jsxs(Y.Body,{className:n==="dark"?"bg-dark text-light":"",children:[e.jsx(b.Group,{children:e.jsx(b.Control,{type:"text",placeholder:"Rechercher un message...",onChange:Le=>D(Le.target.value),className:n==="dark"?"bg-dark text-light border-secondary":""})}),e.jsxs("div",{className:"mt-3",children:[e.jsx($,{variant:"primary",onClick:()=>{je(A),K(!1)},disabled:!A.trim(),children:"Rechercher"}),e.jsx($,{variant:"outline-secondary",className:"ms-2",onClick:()=>{ye(o.matricule),D(""),K(!1)},children:"Effacer"})]})]})]}),e.jsxs(Y,{show:U,onHide:()=>V(!1),centered:!0,size:"lg",contentClassName:n==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:n==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Messages épinglés"})}),e.jsx(Y.Body,{className:n==="dark"?"bg-dark text-light":"",children:G.length>0?e.jsx("div",{className:"d-grid gap-2",children:G.map(Le=>e.jsx("div",{className:`p-3 border rounded ${n==="dark"?"border-secondary":""}`,children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx(Mt,{src:Le.expediteur.profil_url||"/placeholder/placeholder.png",alt:"Avatar",width:"30",height:"30",className:"rounded-circle me-2",style:{objectFit:"cover"}}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[e.jsxs("div",{children:[e.jsx("strong",{children:Le.expediteur.name}),e.jsx("small",{className:"text-muted ms-2",children:Ve(Le.created_at)})]}),e.jsx("i",{"data-feather":"bookmark",className:"text-warning",style:{width:"16px",height:"16px"}})]}),e.jsx("div",{className:"mt-1",style:{whiteSpace:"pre-wrap"},children:Le.contenu})]})]})},Le.id))}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{"data-feather":"bookmark",className:"text-muted mb-3",style:{width:"48px",height:"48px"}}),e.jsx("h6",{className:n==="dark"?"text-light":"text-muted",children:"Aucun message épinglé"})]})})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:ie,onClose:()=>fe(!1),delay:4e3,autohide:!0,bg:re==="success"?"success":"danger",className:n==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${re==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":re==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:n==="dark"?"bg-dark text-light":"",children:J})]})})]})})}function iEe({user:s,collapsed:t}){const a=Wa(),[r,n]=x.useState("light"),[i,l]=x.useState(0),[c,o]=x.useState(0),[u,d]=x.useState(0);x.useEffect(()=>{const k=document.documentElement.getAttribute("data-theme")||"light";n(k);const v=new MutationObserver(()=>{const S=document.documentElement.getAttribute("data-theme")||"light";n(S)});return v.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>v.disconnect()},[]);const f=async()=>{try{const k=await he.get("/formateur/notifications/unread-count");l(k.data.unread_count||0)}catch(k){console.error("Erreur lors de la récupération du compteur de notifications",k)}},p=async()=>{try{const v=(await he.get("/formateur/view/invitations",{params:{status:null}})).data.invitations?.filter(S=>S.status!=="Acceptée")||[];o(v.length)}catch(k){console.error("Erreur lors de la récupération du compteur d'invitations",k)}},j=async()=>{try{const k=await he.get("/formateur/chat/unread-count");d(k.data.unread_messages_count||0)}catch(k){console.error("Erreur lors de la récupération du compteur de messages",k)}};x.useEffect(()=>{f(),p(),j();const k=setInterval(()=>{f(),p(),j()},3e4);return()=>clearInterval(k)},[]),x.useEffect(()=>{a.pathname==="/formateur/view/notifications"&&setTimeout(()=>{f()},1e3),a.pathname==="/formateur/view/invitations"&&setTimeout(()=>{p()},1e3),a.pathname==="/formateur/view/tchat"&&setTimeout(()=>{j()},1e3)},[a.pathname]);const y=[{title:"Tableau de bord",items:[{label:"Dashboard",icon:"home",path:"/formateur/dashboard"},{label:"Statistiques",icon:"bar-chart-2",path:"/formateur/statistics"}]},{title:"Gestion des utilisateurs",items:[{label:"Étudiants",icon:"users",path:"/formateur/view/etudiants"},{label:"Étudiants en Espace Attente",icon:"users",color:"text-warning",badge:"⏱",badgeColor:"bg-warning text-dark",path:"/formateur/view/etudiants-espace-attente"},{label:"Administrateurs",icon:"user-check",path:"/formateur/view/formateurs"}]},{title:"Administration",items:[{label:"Classes/Groupes",icon:"layers",path:"/formateur/view/classrooms"},{label:"Matières",icon:"book",path:"/formateur/view/matieres"},{label:"Calendrier",icon:"calendar",path:"/formateur/view/calendar"}]},{title:"Gestion du contenu",items:[{label:"Cours",icon:"play-circle",path:"/formateur/view/cours"},{label:"Évaluations",icon:"file-text",path:"/formateur/view/evaluations"},{label:"Questions",icon:"help-circle",path:"/formateur/view/questions"},{label:"Resultats",icon:"bar-chart-2",path:"/formateur/view/answers/results"}]},{title:"Communication",items:[{label:"Tchat",icon:"message-circle",path:"/formateur/view/tchat",badge:u>0?u.toString():null,badgeColor:u>0?"bg-primary text-white":null},{label:"Invitations",icon:"mail",path:"/formateur/view/invitations",badge:c>0?c.toString():null,badgeColor:c>0?"bg-info text-white":null},{label:"Notifications",icon:"bell",path:"/formateur/view/notifications",badge:i>0?i.toString():null,badgeColor:i>0?"bg-danger text-white":null}]}];return e.jsxs("aside",{className:`sidebar ${t?"collapsed":""}  ${r==="dark"?"bg-dark text-light":"bg-white text-dark"}`,children:[e.jsx("div",{className:"sidebar-header",children:e.jsxs("div",{className:"sidebar-logo",children:[e.jsx("div",{className:"sidebar-logo-icon",children:e.jsx("span",{children:"WS"})}),e.jsxs("div",{className:"sidebar-logo-text",children:[e.jsx("h6",{className:"sidebar-logo-title",children:"Woop Service"}),e.jsx("p",{className:"sidebar-logo-subtitle",children:"Plateforme Éducative"})]})]})}),e.jsx("nav",{className:"sidebar-nav",children:y.map((k,v)=>e.jsxs("div",{className:"sidebar-nav-section",children:[e.jsx("h6",{className:"sidebar-nav-section-title",children:k.title}),e.jsx("ul",{className:"list-unstyled mb-0",children:k.items.map((S,C)=>e.jsx("li",{className:"sidebar-nav-item",children:e.jsxs(xe,{to:S.path,className:`sidebar-nav-link ${a.pathname.startsWith(S.path)?"active":""}`,children:[e.jsx("i",{"data-feather":S.icon,className:"sidebar-nav-icon"}),e.jsx("span",{className:"sidebar-nav-text",children:S.label}),S.badge&&e.jsx("span",{className:`sidebar-nav-badge ${S.badgeColor||"bg-primary text-white"}`,children:S.badge})]})},C))})]},v))})]})}function lEe({toggleSidebar:s}){const{logout:t,user:a}=Aa(),r=Ut(),n=Wa(),[i,l]=x.useState("light"),[c,o]=x.useState(0),[u,d]=x.useState(0);x.useEffect(()=>{const _=document.documentElement.getAttribute("data-theme")||"light";l(_);const A=new MutationObserver(()=>{const D=document.documentElement.getAttribute("data-theme")||"light";l(D)});return A.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>A.disconnect()},[]);const f=async()=>{try{const _=await he.get("/formateur/chat/unread-count");o(_.data.unread_messages_count||0)}catch(_){console.error("Erreur lors de la récupération du compteur de messages",_)}},p=async()=>{try{const _=await he.get("/formateur/notifications/unread-count");d(_.data.unread_count||0)}catch(_){console.error("Erreur lors de la récupération du compteur de notifications",_)}};x.useEffect(()=>{f(),p();const _=setInterval(()=>{f(),p()},3e4);return()=>clearInterval(_)},[]),x.useEffect(()=>{n.pathname==="/formateur/view/tchat"&&setTimeout(()=>{f()},1e3),n.pathname==="/formateur/view/notifications"&&setTimeout(()=>{p()},1e3)},[n.pathname]),x.useEffect(()=>{const _=()=>{f()};return window.addEventListener("messagesRead",_),window.addEventListener("messageSent",_),()=>{window.removeEventListener("messagesRead",_),window.removeEventListener("messageSent",_)}},[]);const j=()=>{const _=document.documentElement,A=_.getAttribute("data-theme")==="dark"?"light":"dark";_.setAttribute("data-theme",A),localStorage.setItem("theme",A),l(A)},y=()=>{t(),r("/")},k=_=>_?_.split(" ").map(A=>A[0]).join("").toUpperCase().slice(0,2):"U",v=(_,A=15)=>_.length>A?_.slice(0,A-3)+"...":_;x.useEffect(()=>{We.replace()},[i,c,u]);const S=_=>{_.preventDefault(),_.stopPropagation(),console.log("Toggle sidebar clicked"),typeof s=="function"?s():console.warn("toggleSidebar function not provided or not a function")},C=({size:_=32,showBorder:A=!0})=>e.jsxs("div",{className:"user-avatar",style:{position:"relative"},children:[a?.profil_url?e.jsx("img",{src:a.profil_url,alt:a.name||"Utilisateur",style:{width:`${_}px`,height:`${_}px`,borderRadius:"50%",objectFit:"cover",border:A?"2px solid rgba(255, 255, 255, 0.3)":"none"},onError:D=>{D.target.style.display="none",D.target.nextElementSibling.style.display="flex"}}):null,e.jsx("div",{style:{display:a?.profil_url?"none":"flex",alignItems:"center",justifyContent:"center",width:`${_}px`,height:`${_}px`,fontSize:_>40?"1.1rem":"0.75rem",fontWeight:"600",backgroundColor:i==="dark"?"#495057":"#6c757d",color:"white",borderRadius:"50%"},children:k(a?.name)})]});return e.jsxs(xi,{className:"navbar fixed-top",expand:!1,children:[e.jsxs("div",{className:"navbar-left",children:[e.jsx($,{variant:"link",onClick:S,className:"toggle-btn me-3",title:"Toggle Sidebar",style:{display:"flex !important",visibility:"visible !important",opacity:"1 !important",position:"relative",zIndex:1031,border:"none",background:"transparent",padding:"8px 12px",borderRadius:"10px",minWidth:"44px",minHeight:"44px",alignItems:"center",justifyContent:"center"},children:e.jsx("i",{"data-feather":"menu",style:{width:"20px",height:"20px",strokeWidth:"2.5"}})}),e.jsxs("div",{className:"logo-container",children:[e.jsx("div",{className:"logo",children:e.jsx("span",{children:"WS"})}),e.jsx(xi.Brand,{className:"navbar-brand mb-0",children:"Woop Service"})]})]}),e.jsxs("div",{className:"navbar-right",children:[e.jsx("div",{className:"position-relative me-3",children:e.jsxs($,{variant:"link",as:xe,to:"/formateur/view/tchat",className:"navbar-action-btn",title:`Messages (${c} non lus)`,style:{position:"relative",border:"none",background:"transparent",padding:"8px 12px",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",color:i==="dark"?"#fff":"#000",transition:"all 0.2s ease"},children:[e.jsx("i",{"data-feather":"message-circle",style:{width:"20px",height:"20px"}}),c>0&&e.jsx(oe,{bg:"primary",pill:!0,className:"position-absolute",style:{top:"2px",right:"2px",fontSize:"0.65em",minWidth:"18px",height:"18px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:c>99?"99+":c})]})}),e.jsx("div",{className:"position-relative me-3",children:e.jsxs($,{variant:"link",as:xe,to:"/formateur/view/notifications",className:"navbar-action-btn",title:`Notifications (${u} non lues)`,style:{position:"relative",border:"none",background:"transparent",padding:"8px 12px",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",color:i==="dark"?"#fff":"#000",transition:"all 0.2s ease"},children:[e.jsx("i",{"data-feather":"bell",style:{width:"20px",height:"20px"}}),u>0&&e.jsx(oe,{bg:"danger",pill:!0,className:"position-absolute",style:{top:"2px",right:"2px",fontSize:"0.65em",minWidth:"18px",height:"18px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:u>99?"99+":u})]})}),e.jsx($,{variant:"link",onClick:j,className:"theme-toggle me-3",title:`Passer au thème ${i==="dark"?"clair":"sombre"}`,style:{border:"none",background:"transparent",padding:"8px 12px",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",color:i==="dark"?"#fff":"#000"},children:e.jsx("i",{"data-feather":i==="dark"?"sun":"moon",style:{width:"20px",height:"20px"}})}),e.jsxs(at,{align:"end",className:"user-dropdown",onToggle:_=>{_&&setTimeout(()=>We.replace(),0)},children:[e.jsxs(at.Toggle,{variant:"primary",id:"dropdown-user",className:"dropdown-toggle",children:[e.jsx(C,{size:32,showBorder:!0}),e.jsx("span",{className:"user-name d-none d-sm-inline",children:v(a?.name||"Utilisateur")}),e.jsx("i",{"data-feather":"chevron-down",style:{width:"16px",height:"16px"}})]}),e.jsxs(at.Menu,{className:`dropdown-menu ${i==="dark"?"bg-dark border-secondary":""}`,children:[e.jsxs("div",{className:"px-3 py-2 border-bottom d-flex align-items-center",children:[e.jsx("div",{className:"me-3",children:e.jsx(C,{size:48,showBorder:!1})}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("div",{className:"fw-semibold",children:a?.name||"Utilisateur"}),e.jsx("div",{className:"text-muted small",children:a?.email||"formateur@woopservice.com"}),e.jsx("div",{className:"text-primary small",children:"Formateur"})]})]}),e.jsxs(at.Item,{as:xe,to:"/formateur/view/profil",className:`dropdown-item ${i==="dark"?"text-light":""}`,children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Mon Profil"]}),e.jsx(at.Divider,{className:i==="dark"?"border-secondary":""}),e.jsxs("div",{className:"px-3 py-2 border-bottom",children:[e.jsx("div",{className:"small text-muted mb-2",children:"Accès rapide"}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{as:xe,to:"/formateur/view/tchat",variant:"outline-primary",size:"sm",className:"position-relative flex-fill",children:[e.jsx("i",{"data-feather":"message-circle",className:"me-1",style:{width:"12px",height:"12px"}}),"Messages",c>0&&e.jsx(oe,{bg:"primary",pill:!0,className:"ms-1",style:{fontSize:"0.6em"},children:c>9?"9+":c})]}),e.jsxs($,{as:xe,to:"/formateur/view/notifications",variant:"outline-danger",size:"sm",className:"position-relative flex-fill",children:[e.jsx("i",{"data-feather":"bell",className:"me-1",style:{width:"12px",height:"12px"}}),"Notifications",u>0&&e.jsx(oe,{bg:"danger",pill:!0,className:"ms-1",style:{fontSize:"0.6em"},children:u>9?"9+":u})]})]})]}),e.jsx(at.Divider,{className:i==="dark"?"border-secondary":""}),e.jsxs(at.Item,{onClick:y,className:"dropdown-item text-danger",children:[e.jsx("i",{"data-feather":"log-out",className:"me-2",style:{width:"16px",height:"16px"}}),"Déconnexion"]})]})]})]})]})}function et({children:s}){const t=Wa(),{user:a}=Aa(),[r,n]=x.useState(!0),[i,l]=x.useState(window.innerWidth<992),[c,o]=x.useState("light");x.useEffect(()=>{We.replace()},[t.pathname,r,c]),x.useEffect(()=>{const d=localStorage.getItem("theme")||"light";document.documentElement.setAttribute("data-theme",d),document.documentElement.setAttribute("data-bs-theme",d),o(d)},[]),x.useEffect(()=>{const d=new MutationObserver(()=>{const f=document.documentElement.getAttribute("data-theme")||"light";o(f),document.documentElement.setAttribute("data-bs-theme",f)});return d.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>d.disconnect()},[]),x.useEffect(()=>{const d=()=>{const f=window.innerWidth<992;l(f),n(!f)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),x.useEffect(()=>{i&&r&&n(!1)},[t.pathname]);const u=()=>{n(d=>!d)};return e.jsxs("div",{className:"d-flex min-vh-100",children:[e.jsx(lEe,{toggleSidebar:u}),e.jsx(iEe,{user:a,collapsed:!r}),i&&r&&e.jsx("div",{className:"sidebar-overlay",onClick:()=>n(!1)}),e.jsx("div",{className:`flex-grow-1 main-content ${r?"":"expanded"}`,children:e.jsx("main",{className:"p-4",children:e.jsx("div",{className:"container-fluid py-2",children:e.jsx("div",{className:"py-4",children:e.jsx("div",{className:"py-4",children:s})})})})})]})}function cEe(){const[s,t]=x.useState(!0),[a,r]=x.useState("light"),[n,i]=x.useState({}),[l,c]=x.useState(null),[o,u]=x.useState(!1),[d,f]=x.useState(!1),[p,j]=x.useState(null),[y,k]=x.useState({});x.useEffect(()=>{const V=document.documentElement.getAttribute("data-theme")||"light";r(V);const P=new MutationObserver(()=>{const q=document.documentElement.getAttribute("data-theme")||"light";r(q)});return P.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>P.disconnect()},[]);const v=x.useCallback(async()=>{try{t(!0),c(null);const V=await he.get("/formateur/dashboard");i(V.data.dashboard||{})}catch(V){console.error("Erreur lors du chargement du dashboard:",V),c("Erreur lors du chargement des données du dashboard")}finally{t(!1)}},[]);x.useEffect(()=>{v()},[v]),x.useEffect(()=>{We.replace()},[n]);const S=V=>{k(P=>({...P,[V]:!P[V]}))},C=V=>V?new Date(V).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Non définie",_=V=>{switch(V){case"critical":return"danger";case"high":return"warning";case"medium":return"info";case"low":return"secondary";default:return"secondary"}},A=V=>{switch(V){case"inscription":return"user-plus";case"cours":return"book-open";case"evaluation":return"clipboard";default:return"activity"}};if(s)return e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement du dashboard..."})]})});if(l)return e.jsxs(et,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),l]}),e.jsxs($,{variant:"primary",onClick:v,children:[e.jsx("i",{"data-feather":"refresh-cw",className:"me-2"}),"Réessayer"]})]});const{stats_generales:D={},activites_recentes:M=[],notifications_non_lues:L=[],evaluations_programmees:F={},classes_actives:Q=[],evolution_inscriptions:I=[],performance_evaluations:H=[],repartition_utilisateurs:z={},matieres_populaires:K=[],alertes_systeme:U=[]}=n;return e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`h3 mb-1 ${a==="dark"?"text-light":"text-dark"}`,children:"Dashboard Principal"}),e.jsx("p",{className:`mb-0 ${a==="dark"?"text-light":"text-muted"}`,children:"Vue d'ensemble de votre plateforme éducative"})]}),e.jsxs($,{variant:"primary",onClick:v,children:[e.jsx("i",{"data-feather":"refresh-cw",className:"me-2",style:{width:"16px",height:"16px"}}),"Actualiser"]})]}),U.length>0&&e.jsx(pe,{className:"mb-4",children:U.map((V,P)=>e.jsx(T,{md:6,lg:4,className:"mb-3",children:e.jsx(lt,{variant:V.type==="critical"?"danger":V.type==="warning"?"warning":"info",className:"mb-0",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),e.jsx("strong",{children:V.message}),V.action_requise&&e.jsx("div",{className:"small mt-1",children:"Action requise"})]}),e.jsx(oe,{bg:_(V.priority),children:V.priority})]})})},P))}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:6,lg:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:D.total_utilisateurs||0}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Total Utilisateurs"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"users",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:6,lg:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-info",children:D.total_classes||0}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Classes"})]}),e.jsx("div",{className:"text-info",children:e.jsx("i",{"data-feather":"home",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:6,lg:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:D.total_evaluations||0}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Évaluations"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"clipboard",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:6,lg:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-warning",children:D.evaluations_en_cours||0}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"En Cours"})]}),e.jsx("div",{className:"text-warning",children:e.jsx("i",{"data-feather":"clock",style:{width:"24px",height:"24px"}})})]})})})})]}),e.jsxs(pe,{children:[e.jsxs(T,{lg:8,children:[e.jsxs(w,{className:`shadow-sm border-0 mb-4 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`${a==="dark"?"bg-dark border-secondary":"bg-light"} cursor-pointer`,onClick:()=>S("evaluations"),children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"clipboard",className:"text-success me-2",style:{width:"20px",height:"20px"}}),e.jsx("h5",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:"Évaluations Programmées"})]}),e.jsx("i",{"data-feather":y.evaluations?"chevron-up":"chevron-down",className:`${a==="dark"?"text-light":"text-muted"}`,style:{width:"20px",height:"20px"}})]})}),e.jsx(Oa,{in:y.evaluations!==!1,children:e.jsxs(w.Body,{children:[F.en_cours&&F.en_cours.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("h6",{className:"text-success mb-3",children:[e.jsx("i",{"data-feather":"play-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"En cours (",F.en_cours.length,")"]}),e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{size:"sm",className:a==="dark"?"table-dark":"",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Titre"}),e.jsx("th",{children:"Matière"}),e.jsx("th",{children:"Durée"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:F.en_cours.map((V,P)=>e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("div",{className:`fw-medium ${a==="dark"?"text-light":"text-dark"}`,children:V.titre}),e.jsx(oe,{bg:"success",className:"me-2",children:"EN COURS"})]}),e.jsx("td",{children:e.jsxs("small",{className:a==="dark"?"text-light":"text-muted",children:[V.matiere?.nom," - ",V.matiere?.classroom?.name]})}),e.jsx("td",{children:e.jsxs(oe,{bg:"info",children:[V.duree_minutes," min"]})}),e.jsx("td",{children:e.jsx($,{size:"sm",variant:"outline-success",as:xe,to:`/formateur/show/evaluation/${V.id}`,children:e.jsx("i",{"data-feather":"eye",style:{width:"12px",height:"12px"}})})})]},P))})]})})]}),F.a_venir&&F.a_venir.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("h6",{className:"text-primary mb-3",children:[e.jsx("i",{"data-feather":"clock",className:"me-2",style:{width:"16px",height:"16px"}}),"À venir (",F.a_venir.length,")"]}),e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{size:"sm",className:a==="dark"?"table-dark":"",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Titre"}),e.jsx("th",{children:"Date de début"}),e.jsx("th",{children:"Durée"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:F.a_venir.slice(0,5).map((V,P)=>e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("div",{className:`fw-medium ${a==="dark"?"text-light":"text-dark"}`,children:V.titre}),e.jsx("small",{className:"text-muted",children:V.matiere?.nom})]}),e.jsx("td",{children:e.jsx("small",{className:a==="dark"?"text-light":"text-dark",children:C(V.date_debut)})}),e.jsx("td",{children:e.jsxs(oe,{bg:"info",children:[V.duree_minutes," min"]})}),e.jsx("td",{children:e.jsx($,{size:"sm",variant:"outline-primary",as:xe,to:`/formateur/show/evaluation/${V.id}`,children:e.jsx("i",{"data-feather":"eye",style:{width:"12px",height:"12px"}})})})]},P))})]})})]}),F.terminees_recemment&&F.terminees_recemment.length>0&&e.jsxs("div",{children:[e.jsxs("h6",{className:"text-secondary mb-3",children:[e.jsx("i",{"data-feather":"check-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Terminées récemment (",F.terminees_recemment.length,")"]}),e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{size:"sm",className:a==="dark"?"table-dark":"",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Titre"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:F.terminees_recemment.map((V,P)=>e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("div",{className:`fw-medium ${a==="dark"?"text-light":"text-dark"}`,children:V.titre}),e.jsx(oe,{bg:"secondary",children:"TERMINÉE"})]}),e.jsx("td",{children:e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:C(V.created_at)})}),e.jsx("td",{children:e.jsx($,{size:"sm",variant:"outline-info",as:xe,to:`/formateur/evaluation/${V.id}/resultats`,children:e.jsx("i",{"data-feather":"bar-chart-2",style:{width:"12px",height:"12px"}})})})]},P))})]})})]}),!F.en_cours?.length&&!F.a_venir?.length&&!F.terminees_recemment?.length&&e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{"data-feather":"clipboard",className:`mb-3 ${a==="dark"?"text-light":"text-muted"}`,style:{width:"48px",height:"48px",opacity:.5}}),e.jsx("p",{className:`mb-0 ${a==="dark"?"text-light":"text-muted"}`,children:"Aucune évaluation programmée"})]})]})})]}),H.length>0&&e.jsxs(w,{className:`shadow-sm border-0 mb-4 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:a==="dark"?"bg-dark border-secondary":"bg-light",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"trending-up",className:"text-info me-2",style:{width:"20px",height:"20px"}}),e.jsx("h5",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:"Performance des Évaluations Récentes"})]})}),e.jsx(w.Body,{children:e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{size:"sm",className:a==="dark"?"table-dark":"",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Évaluation"}),e.jsx("th",{className:"text-center",children:"Participants"}),e.jsx("th",{className:"text-center",children:"Taux de réussite"}),e.jsx("th",{className:"text-center",children:"Difficulté"})]})}),e.jsx("tbody",{children:H.map((V,P)=>e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("div",{className:`fw-medium ${a==="dark"?"text-light":"text-dark"}`,children:V.evaluation.titre}),e.jsx("small",{className:"text-muted",children:V.evaluation.matiere?.nom})]}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:"primary",children:V.participants})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[e.jsx(Zt,{now:V.taux_reussite,variant:V.taux_reussite>=70?"success":V.taux_reussite>=50?"warning":"danger",style:{width:"60px",height:"8px"},className:"me-2"}),e.jsxs("small",{children:[V.taux_reussite,"%"]})]})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:V.difficulte_estimee==="Facile"?"success":V.difficulte_estimee==="Moyenne"?"warning":V.difficulte_estimee==="Difficile"?"danger":"dark",children:V.difficulte_estimee})})]},P))})]})})})]}),Q.length>0&&e.jsxs(w,{className:`shadow-sm border-0 mb-4 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:a==="dark"?"bg-dark border-secondary":"bg-light",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"home",className:"text-success me-2",style:{width:"20px",height:"20px"}}),e.jsx("h5",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:"Classes les Plus Actives"})]})}),e.jsx(w.Body,{children:e.jsx(pe,{children:Q.map((V,P)=>e.jsx(T,{md:6,className:"mb-3",children:e.jsx(w,{className:`h-100 ${a==="dark"?"bg-secondary bg-opacity-10":"bg-light"}`,children:e.jsxs(w.Body,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[e.jsxs("div",{children:[e.jsx("h6",{className:`mb-1 ${a==="dark"?"text-light":"text-dark"}`,children:V.classe.name}),e.jsxs("small",{className:"text-muted",children:[V.classe.users_count," étudiants"]})]}),e.jsxs(oe,{bg:"success",children:[V.score_activite," pts"]})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"d-flex justify-content-between text-muted small",children:[e.jsxs("span",{children:["Évaluations: ",V.classe.evaluations_count]}),e.jsxs("span",{children:["Cours: ",V.classe.cours_count]})]})})]})})},P))})})]})]}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`shadow-sm border-0 mb-4 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:a==="dark"?"bg-dark border-secondary":"bg-light",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"bell",className:"text-warning me-2",style:{width:"18px",height:"18px"}}),e.jsx("h6",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:"Notifications"})]}),e.jsx(oe,{bg:"warning",children:L.length})]})}),e.jsx(w.Body,{className:"p-0",style:{maxHeight:"300px",overflowY:"auto"},children:L.length>0?L.map((V,P)=>e.jsx("div",{className:`p-3 border-bottom cursor-pointer hover-bg ${a==="dark"?"border-secondary":""}`,onClick:()=>{j(V),u(!0)},children:e.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("div",{className:`small fw-medium ${a==="dark"?"text-light":"text-dark"}`,children:V.message}),e.jsxs("small",{className:"text-muted",children:["Par ",V.auteur," • ",C(V.timestamp)]})]}),e.jsx(oe,{bg:_(V.priorite),className:"ms-2",children:V.priorite})]})},P)):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{"data-feather":"bell",className:`mb-2 ${a==="dark"?"text-light":"text-muted"}`,style:{width:"32px",height:"32px",opacity:.5}}),e.jsx("p",{className:`mb-0 small ${a==="dark"?"text-light":"text-muted"}`,children:"Aucune notification"})]})})]}),e.jsxs(w,{className:`shadow-sm border-0 mb-4 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:a==="dark"?"bg-dark border-secondary":"bg-light",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"activity",className:"text-info me-2",style:{width:"18px",height:"18px"}}),e.jsx("h6",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:"Activités Récentes"})]}),e.jsx($,{variant:"link",size:"sm",onClick:()=>f(!0),className:"p-0",children:"Voir tout"})]})}),e.jsx(w.Body,{className:"p-0",style:{maxHeight:"300px",overflowY:"auto"},children:M.length>0?M.slice(0,8).map((V,P)=>e.jsxs("div",{className:`p-3 border-bottom d-flex align-items-center ${a==="dark"?"border-secondary":""}`,children:[e.jsx("div",{className:`me-3 p-2 rounded-circle ${a==="dark"?"bg-info bg-opacity-25":"bg-info bg-opacity-10"}`,children:e.jsx("i",{"data-feather":A(V.type),className:"text-info",style:{width:"14px",height:"14px"}})}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("div",{className:`small ${a==="dark"?"text-light":"text-dark"}`,children:V.message}),e.jsx("small",{className:"text-muted",children:C(V.timestamp)})]}),e.jsx(oe,{bg:_(V.priority),className:"ms-2",style:{fontSize:"0.7rem"},children:V.priority})]},P)):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{"data-feather":"activity",className:`mb-2 ${a==="dark"?"text-light":"text-muted"}`,style:{width:"32px",height:"32px",opacity:.5}}),e.jsx("p",{className:`mb-0 small ${a==="dark"?"text-light":"text-muted"}`,children:"Aucune activité récente"})]})})]}),K.length>0&&e.jsxs(w,{className:`shadow-sm border-0 mb-4 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:a==="dark"?"bg-dark border-secondary":"bg-light",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"book",className:"text-primary me-2",style:{width:"18px",height:"18px"}}),e.jsx("h6",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:"Matières Populaires"})]})}),e.jsx(w.Body,{children:K.map((V,P)=>e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:`small fw-medium ${a==="dark"?"text-light":"text-dark"}`,children:V.matiere.nom}),e.jsxs("small",{className:"text-muted",children:[V.matiere.cours_count," cours • ",V.matiere.evaluations_count," évaluations"]})]}),e.jsx(oe,{bg:"primary",children:V.score_popularite})]},P))})]}),Object.keys(z).length>0&&e.jsxs(w,{className:`shadow-sm border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:a==="dark"?"bg-dark border-secondary":"bg-light",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"pie-chart",className:"text-success me-2",style:{width:"18px",height:"18px"}}),e.jsx("h6",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:"Répartition Utilisateurs"})]})}),e.jsxs(w.Body,{children:[z.par_role&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{className:"small text-muted",children:"Par rôle"}),e.jsxs("div",{className:"row g-2",children:[e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h5 mb-0 text-info",children:z.par_role.etudiants_actifs||0}),e.jsx("small",{className:"text-muted",children:"Étudiants"})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h5 mb-0 text-success",children:z.par_role.formateurs||0}),e.jsx("small",{className:"text-muted",children:"Formateurs"})]})})]})]}),z.par_statut&&e.jsxs("div",{children:[e.jsx("h6",{className:"small text-muted mb-3",children:"Par statut"}),e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"d-flex justify-content-between small",children:[e.jsx("span",{className:a==="dark"?"text-light":"text-dark",children:"Actifs"}),e.jsx("span",{className:"text-success fw-bold",children:z.par_statut.actifs||0})]})}),e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"d-flex justify-content-between small",children:[e.jsx("span",{className:a==="dark"?"text-light":"text-dark",children:"Inactifs"}),e.jsx("span",{className:"text-warning fw-bold",children:z.par_statut.inactifs||0})]})}),e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"d-flex justify-content-between small",children:[e.jsx("span",{className:a==="dark"?"text-light":"text-dark",children:"Suspendus"}),e.jsx("span",{className:"text-danger fw-bold",children:z.par_statut.suspendus||0})]})})]})]})]})]})]}),I.length>0&&e.jsxs(w,{className:`shadow-sm border-0 mt-4 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:a==="dark"?"bg-dark border-secondary":"bg-light",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"trending-up",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("h5",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:"Évolution des Inscriptions (30 derniers jours)"})]})}),e.jsx(w.Body,{children:e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{size:"sm",className:a==="dark"?"table-dark":"",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{className:"text-center",children:"Total"}),e.jsx("th",{className:"text-center",children:"Étudiants"}),e.jsx("th",{className:"text-center",children:"Formateurs"})]})}),e.jsx("tbody",{children:I.filter(V=>V.total>0).slice(-10).map((V,P)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("small",{className:a==="dark"?"text-light":"text-dark",children:new Date(V.date).toLocaleDateString("fr-FR")})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:"primary",children:V.total})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:"info",children:V.etudiants})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:"success",children:V.formateurs})})]},P))})]})})})]}),e.jsxs(Y,{show:o,onHide:()=>u(!1),centered:!0,contentClassName:a==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:a==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Détail de la notification"})}),e.jsx(Y.Body,{className:a==="dark"?"bg-dark text-light":"",children:p&&e.jsx("div",{children:e.jsxs("div",{className:"mb-3",children:[e.jsxs(oe,{bg:_(p.priorite),className:"mb-2",children:["Priorité: ",p.priorite]}),e.jsx("p",{className:`mb-2 ${a==="dark"?"text-light":"text-dark"}`,children:p.message}),e.jsxs("small",{className:"text-muted",children:["Par ",p.auteur," • ",C(p.timestamp)]})]})})}),e.jsx(Y.Footer,{className:a==="dark"?"bg-dark text-light border-secondary":"",children:e.jsx($,{variant:"secondary",onClick:()=>u(!1),children:"Fermer"})})]}),e.jsxs(Y,{show:d,onHide:()=>f(!1),centered:!0,size:"lg",contentClassName:a==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:a==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Toutes les activités récentes"})}),e.jsx(Y.Body,{className:a==="dark"?"bg-dark text-light":"",children:e.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:M.map((V,P)=>e.jsxs("div",{className:`p-3 border-bottom d-flex align-items-center ${a==="dark"?"border-secondary":""}`,children:[e.jsx("div",{className:`me-3 p-2 rounded-circle ${a==="dark"?"bg-info bg-opacity-25":"bg-info bg-opacity-10"}`,children:e.jsx("i",{"data-feather":A(V.type),className:"text-info",style:{width:"16px",height:"16px"}})}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("div",{className:`${a==="dark"?"text-light":"text-dark"}`,children:V.message}),e.jsx("small",{className:"text-muted",children:C(V.timestamp)})]}),e.jsx(oe,{bg:_(V.priority),className:"ms-2",children:V.priority})]},P))})}),e.jsx(Y.Footer,{className:a==="dark"?"bg-dark text-light border-secondary":"",children:e.jsx($,{variant:"secondary",onClick:()=>f(!1),children:"Fermer"})})]})]})})}function oEe(){const[s,t]=x.useState(!0),[a,r]=x.useState(!1),[n,i]=x.useState("light"),[l,c]=x.useState("overview"),[o,u]=x.useState({}),[d,f]=x.useState({}),[p,j]=x.useState({}),[y,k]=x.useState({}),[v,S]=x.useState({periode:30,matricule_classroom:"",matricule_matiere:"",date_debut:"",date_fin:""}),[C,_]=x.useState([]),[A,D]=x.useState([]),[M,L]=x.useState([]),[F,Q]=x.useState(!1),[I,H]=x.useState(!1),[z,K]=x.useState(!1),[U,V]=x.useState(""),[P,q]=x.useState(""),[G,se]=x.useState(!1),[O,W]=x.useState(""),[Z,te]=x.useState("success"),[ie,fe]=x.useState({evolution:!1,performance:!0,comparaisons:!1,tendances:!1}),J={primary:"#0d6efd",success:"#198754",warning:"#ffc107",danger:"#dc3545",info:"#0dcaf0"};x.useEffect(()=>{const ke=document.documentElement.getAttribute("data-theme")||"light";i(ke);const we=new MutationObserver(()=>{const Ke=document.documentElement.getAttribute("data-theme")||"light";i(Ke)});return we.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>we.disconnect()},[]);const ge=(ke,we="success")=>{W(ke),te(we),se(!0)},re=x.useCallback(async()=>{try{t(!0);const ke=new URLSearchParams;Object.keys(v).forEach(Ke=>{v[Ke]&&ke.append(Ke,v[Ke])});const we=await he.get(`/formateur/statistics?${ke.toString()}`);u(we.data.statistiques||{})}catch(ke){console.error("Erreur lors du chargement des statistiques:",ke),ge("Erreur lors du chargement des statistiques","danger")}finally{t(!1)}},[v]),ve=x.useCallback(async()=>{try{r(!0);const ke=await he.get("/formateur/statistics/real-time");f(ke.data.stats_temps_reel||{})}catch(ke){console.error("Erreur stats temps réel:",ke)}finally{r(!1)}},[]),Oe=x.useCallback(async()=>{try{const[ke,we,Ke]=await Promise.all([he.get("/formateur/view/classroom"),he.get("/formateur/view/matiere"),he.get("/formateur/view/etudiant")]);_(ke.data.classrooms||[]),D(we.data.matieres||[]),L(Ke.data.users||[])}catch(ke){console.error("Erreur lors du chargement des données de référence:",ke)}},[]),ee=async ke=>{try{const we=await he.get(`/formateur/statistics/classroom/${ke}`,{params:{periode:v.periode}});j(we.data.statistiques_classe||{}),K(!0)}catch(we){console.error("Erreur stats classe:",we),ge("Erreur lors du chargement des stats de classe","danger")}},me=async ke=>{try{const we=await he.get(`/formateur/statistics/student/${ke}`,{params:{periode:v.periode||90}});k(we.data.rapport_etudiant||{}),H(!0)}catch(we){console.error("Erreur rapport étudiant:",we),ge("Erreur lors du chargement du rapport étudiant","danger")}},Xe=async ke=>{try{const we=new URLSearchParams;Object.keys(v).forEach(Ve=>{v[Ve]&&we.append(Ve,v[Ve])});const Ke=await he.get(`/formateur/statistics/export/${ke}?${we.toString()}`,{responseType:"blob"}),Ee=window.URL.createObjectURL(new Blob([Ke.data])),je=document.createElement("a");je.href=Ee,je.setAttribute("download",`statistiques_${new Date().toISOString().slice(0,10)}.${ke}`),document.body.appendChild(je),je.click(),je.remove(),window.URL.revokeObjectURL(Ee),ge(`Export ${ke.toUpperCase()} démarré`,"success"),Q(!1)}catch(we){console.error("Erreur export:",we),ge("Erreur lors de l'export","danger")}};x.useEffect(()=>{re(),Oe()},[re,Oe]),x.useEffect(()=>{const ke=setInterval(ve,3e4);return ve(),()=>clearInterval(ke)},[ve]),x.useEffect(()=>{We.replace()},[o,d]);const Se=ke=>{fe(we=>({...we,[ke]:!we[ke]}))},ae=()=>o.evolution_temporelle?.donnees_quotidiennes?o.evolution_temporelle.donnees_quotidiennes.map(ke=>({date:new Date(ke.date).toLocaleDateString("fr-FR",{month:"short",day:"numeric"}),inscriptions:ke.inscriptions,reponses:ke.reponses,etudiants_actifs:ke.etudiants_actifs,taux_reussite:ke.taux_reussite_journalier})):[],ye=()=>o.analyses_performances?.performance_par_matiere?o.analyses_performances.performance_par_matiere.map(ke=>({matiere:ke.matiere?.substring(0,15)+"..."||"N/A",taux_reussite:ke.taux_reussite,evaluations:ke.nombre_evaluations,cours:ke.nombre_cours})):[],st=()=>{if(!o.analyses_performances?.distribution_notes)return[];const ke=o.analyses_performances.distribution_notes;return[{name:"0-5",value:ke["0-5"],color:J.danger},{name:"5-10",value:ke["5-10"],color:J.warning},{name:"10-15",value:ke["10-15"],color:J.info},{name:"15-20",value:ke["15-20"],color:J.success}]},He=()=>{const ke=o.comparaisons?.indices_performance||{};return[{subject:"Engagement",value:ke.indice_engagement||0,fullMark:100},{subject:"Satisfaction",value:ke.indice_satisfaction||0,fullMark:100},{subject:"Efficacité",value:ke.indice_efficacite||0,fullMark:100},{subject:"Participation",value:o.statistiques_principales?.activite?.taux_participation||0,fullMark:100},{subject:"Réussite",value:o.statistiques_principales?.performance_globale?.taux_reussite_moyen||0,fullMark:100}]};return s?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des statistiques..."})]})}):e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`h3 mb-1 ${n==="dark"?"text-light":"text-dark"}`,children:"Statistiques et Analytics"}),e.jsx("p",{className:`mb-0 ${n==="dark"?"text-light":"text-muted"}`,children:"Analyse complète des données de votre plateforme éducative"})]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:"outline-primary",onClick:()=>Q(!0),children:[e.jsx("i",{"data-feather":"download",className:"me-2",style:{width:"16px",height:"16px"}}),"Exporter"]}),e.jsxs($,{variant:"primary",onClick:re,children:[e.jsx("i",{"data-feather":"refresh-cw",className:"me-2",style:{width:"16px",height:"16px"}}),"Actualiser"]})]})]}),e.jsx(w,{className:`shadow-sm border-0 mb-4 ${n==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{children:e.jsxs(pe,{className:"g-3",children:[e.jsxs(T,{md:2,children:[e.jsx(b.Label,{className:`small fw-bold ${n==="dark"?"text-light":"text-dark"}`,children:"Période (jours)"}),e.jsxs(b.Select,{value:v.periode,onChange:ke=>S({...v,periode:parseInt(ke.target.value)}),className:n==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:7,children:"7 jours"}),e.jsx("option",{value:30,children:"30 jours"}),e.jsx("option",{value:90,children:"90 jours"}),e.jsx("option",{value:365,children:"1 an"})]})]}),e.jsxs(T,{md:3,children:[e.jsx(b.Label,{className:`small fw-bold ${n==="dark"?"text-light":"text-dark"}`,children:"Classe"}),e.jsxs(b.Select,{value:v.matricule_classroom,onChange:ke=>S({...v,matricule_classroom:ke.target.value}),className:n==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Toutes les classes"}),C.map(ke=>e.jsx("option",{value:ke.matricule,children:ke.name},ke.matricule))]})]}),e.jsxs(T,{md:3,children:[e.jsx(b.Label,{className:`small fw-bold ${n==="dark"?"text-light":"text-dark"}`,children:"Matière"}),e.jsxs(b.Select,{value:v.matricule_matiere,onChange:ke=>S({...v,matricule_matiere:ke.target.value}),className:n==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Toutes les matières"}),A.map(ke=>e.jsx("option",{value:ke.matricule,children:ke.nom},ke.matricule))]})]}),e.jsxs(T,{md:2,children:[e.jsx(b.Label,{className:`small fw-bold ${n==="dark"?"text-light":"text-dark"}`,children:"Date début"}),e.jsx(b.Control,{type:"date",value:v.date_debut,onChange:ke=>S({...v,date_debut:ke.target.value}),className:n==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs(T,{md:2,children:[e.jsx(b.Label,{className:`small fw-bold ${n==="dark"?"text-light":"text-dark"}`,children:"Date fin"}),e.jsx(b.Control,{type:"date",value:v.date_fin,onChange:ke=>S({...v,date_fin:ke.target.value}),className:n==="dark"?"bg-dark text-light border-secondary":""})]})]})})}),d.timestamp&&e.jsxs(lt,{variant:"info",className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"16px",height:"16px"}}),e.jsx("strong",{children:"Temps réel:"})," ",d.utilisateurs_en_ligne," utilisateurs en ligne •",d.activite_temps_reel?.reponses_derniere_heure," réponses cette heure",a&&e.jsx(tt,{size:"sm",className:"ms-2"})]}),e.jsxs("small",{children:["Dernière MAJ: ",new Date(d.timestamp).toLocaleTimeString()]})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${n==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${n==="dark"?"text-light":"text-dark"}`,children:o.statistiques_principales?.utilisateurs?.total_nouveaux||0}),e.jsx("small",{className:n==="dark"?"text-light":"text-muted",children:"Nouveaux utilisateurs"}),e.jsx("div",{className:"mt-1",children:e.jsxs(oe,{bg:(o.statistiques_principales?.utilisateurs?.taux_croissance||0)>=0?"success":"danger",children:[(o.statistiques_principales?.utilisateurs?.taux_croissance||0).toFixed(1),"%"]})})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"users",style:{width:"32px",height:"32px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${n==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:o.statistiques_principales?.activite?.total_reponses||0}),e.jsx("small",{className:n==="dark"?"text-light":"text-muted",children:"Réponses totales"}),e.jsx("div",{className:"mt-1",children:e.jsxs("small",{className:"text-muted",children:[(o.statistiques_principales?.activite?.reponses_par_jour||0).toFixed(1)," /jour"]})})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"message-circle",style:{width:"32px",height:"32px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${n==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"mb-0 text-info",children:[(o.statistiques_principales?.performance_globale?.taux_reussite_moyen||0).toFixed(1),"%"]}),e.jsx("small",{className:n==="dark"?"text-light":"text-muted",children:"Taux de réussite"}),e.jsx("div",{className:"mt-1",children:e.jsxs("small",{className:"text-muted",children:["Note: ",o.statistiques_principales?.performance_globale?.note_moyenne||0,"/20"]})})]}),e.jsx("div",{className:"text-info",children:e.jsx("i",{"data-feather":"trending-up",style:{width:"32px",height:"32px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${n==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"mb-0 text-warning",children:[(o.statistiques_principales?.activite?.taux_participation||0).toFixed(1),"%"]}),e.jsx("small",{className:n==="dark"?"text-light":"text-muted",children:"Participation"}),e.jsx("div",{className:"mt-1",children:e.jsxs("small",{className:"text-muted",children:[o.statistiques_principales?.activite?.etudiants_actifs||0," actifs"]})})]}),e.jsx("div",{className:"text-warning",children:e.jsx("i",{"data-feather":"activity",style:{width:"32px",height:"32px"}})})]})})})})]}),e.jsxs(Fi,{activeKey:l,onSelect:c,className:"mb-4",children:[e.jsx(xs,{eventKey:"overview",title:"Vue d'ensemble",children:e.jsxs(pe,{children:[e.jsxs(T,{lg:8,children:[e.jsxs(w,{className:`shadow-sm border-0 mb-4 ${n==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`${n==="dark"?"bg-dark border-secondary":"bg-light"} cursor-pointer`,onClick:()=>Se("evolution"),children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"trending-up",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("h5",{className:`mb-0 ${n==="dark"?"text-light":"text-dark"}`,children:"Évolution temporelle"})]}),e.jsx("i",{"data-feather":ie.evolution?"chevron-up":"chevron-down",className:`${n==="dark"?"text-light":"text-muted"}`,style:{width:"20px",height:"20px"}})]})}),e.jsx(Oa,{in:ie.evolution,children:e.jsx(w.Body,{children:e.jsx(Sa,{width:"100%",height:300,children:e.jsxs(Kg,{data:ae(),children:[e.jsx(sn,{strokeDasharray:"3 3"}),e.jsx(zr,{dataKey:"date"}),e.jsx(Hr,{}),e.jsx(Da,{}),e.jsx(bn,{type:"monotone",dataKey:"inscriptions",stroke:J.primary,strokeWidth:2,name:"Inscriptions"}),e.jsx(bn,{type:"monotone",dataKey:"reponses",stroke:J.success,strokeWidth:2,name:"Réponses"}),e.jsx(bn,{type:"monotone",dataKey:"etudiants_actifs",stroke:J.warning,strokeWidth:2,name:"Étudiants actifs"})]})})})})]}),e.jsxs(w,{className:`shadow-sm border-0 mb-4 ${n==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:n==="dark"?"bg-dark border-secondary":"bg-light",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"bar-chart-2",className:"text-success me-2",style:{width:"20px",height:"20px"}}),e.jsx("h5",{className:`mb-0 ${n==="dark"?"text-light":"text-dark"}`,children:"Performance par matière"})]})}),e.jsx(w.Body,{children:e.jsx(Sa,{width:"100%",height:300,children:e.jsxs(d1,{data:ye(),children:[e.jsx(sn,{strokeDasharray:"3 3"}),e.jsx(zr,{dataKey:"matiere"}),e.jsx(Hr,{}),e.jsx(Da,{}),e.jsx(Wg,{dataKey:"taux_reussite",fill:J.success,name:"Taux de réussite %"})]})})})]})]}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`shadow-sm border-0 mb-4 ${n==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:n==="dark"?"bg-dark border-secondary":"bg-light",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"pie-chart",className:"text-info me-2",style:{width:"20px",height:"20px"}}),e.jsx("h5",{className:`mb-0 ${n==="dark"?"text-light":"text-dark"}`,children:"Distribution des Notes"})]})}),e.jsx(w.Body,{children:e.jsx(Sa,{width:"100%",height:250,children:e.jsxs(qm,{children:[e.jsx(Kh,{data:st(),cx:"50%",cy:"50%",labelLine:!1,label:({name:ke,value:we})=>`${ke}: ${we}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:st().map((ke,we)=>e.jsx(Yc,{fill:ke.color},`cell-${we}`))}),e.jsx(Da,{})]})})})]}),e.jsxs(w,{className:`shadow-sm border-0 mb-4 ${n==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:n==="dark"?"bg-dark border-secondary":"bg-light",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"target",className:"text-warning me-2",style:{width:"20px",height:"20px"}}),e.jsx("h5",{className:`mb-0 ${n==="dark"?"text-light":"text-dark"}`,children:"Indices de Performance"})]})}),e.jsx(w.Body,{children:e.jsx(Sa,{width:"100%",height:250,children:e.jsxs(f9,{data:He(),children:[e.jsx(sA,{}),e.jsx(Hg,{dataKey:"subject"}),e.jsx(zg,{angle:30,domain:[0,100]}),e.jsx(c1,{name:"Performance",dataKey:"value",stroke:J.primary,fill:J.primary,fillOpacity:.6}),e.jsx(Da,{})]})})})]}),o.analyses_performances?.top_etudiants&&e.jsxs(w,{className:`shadow-sm border-0 mb-4 ${n==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:n==="dark"?"bg-dark border-secondary":"bg-light",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"award",className:"text-success me-2",style:{width:"20px",height:"20px"}}),e.jsx("h5",{className:`mb-0 ${n==="dark"?"text-light":"text-dark"}`,children:"Top Étudiants"})]})}),e.jsx(w.Body,{className:"p-0",style:{maxHeight:"300px",overflowY:"auto"},children:o.analyses_performances.top_etudiants.map((ke,we)=>e.jsxs("div",{className:`p-3 border-bottom d-flex justify-content-between align-items-center ${n==="dark"?"border-secondary":""}`,children:[e.jsxs("div",{children:[e.jsxs("div",{className:`fw-medium ${n==="dark"?"text-light":"text-dark"}`,children:["#",we+1," ",ke.etudiant]}),e.jsxs("small",{className:"text-muted",children:[ke.classe," • ",ke.total_reponses," réponses"]})]}),e.jsxs("div",{className:"text-end",children:[e.jsxs(oe,{bg:ke.taux_reussite>=80?"success":ke.taux_reussite>=60?"warning":"danger",children:[ke.taux_reussite,"%"]}),e.jsxs("div",{className:"small text-muted",children:[ke.note_estimee,"/20"]})]})]},we))})]}),Array.isArray(o.analyses_performances?.questions_difficiles)&&o.analyses_performances.questions_difficiles.length>0&&e.jsxs(w,{className:`shadow-sm border-0 ${n==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:n==="dark"?"bg-dark border-secondary":"bg-light",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"text-danger me-2",style:{width:"20px",height:"20px"}}),e.jsx("h5",{className:`mb-0 ${n==="dark"?"text-light":"text-dark"}`,children:"Questions Difficiles"})]})}),e.jsx(w.Body,{className:"p-0",style:{maxHeight:"300px",overflowY:"auto"},children:o.analyses_performances.questions_difficiles.map((ke,we)=>e.jsxs("div",{className:`p-3 border-bottom ${n==="dark"?"border-secondary":""}`,children:[e.jsx("div",{className:`small ${n==="dark"?"text-light":"text-dark"}`,children:ke.question}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-2",children:[e.jsxs("small",{className:"text-muted",children:[ke.matiere," • ",ke.total_reponses," réponses"]}),e.jsxs(oe,{bg:"danger",children:[ke.taux_reussite,"%"]})]})]},we))})]})]})]})}),e.jsx(xs,{eventKey:"detailed",title:"Analyses détaillées",children:e.jsxs(pe,{children:[e.jsx(T,{lg:6,children:o.statistiques_par_entite&&e.jsxs(w,{className:`shadow-sm border-0 mb-4 ${n==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`${n==="dark"?"bg-dark border-secondary":"bg-light"} cursor-pointer`,onClick:()=>Se("entites"),children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"layers",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("h5",{className:`mb-0 ${n==="dark"?"text-light":"text-dark"}`,children:"Statistiques par Entité"})]}),e.jsx("i",{"data-feather":ie.entites?"chevron-up":"chevron-down",className:`${n==="dark"?"text-light":"text-muted"}`,style:{width:"20px",height:"20px"}})]})}),e.jsx(Oa,{in:ie.entites,children:e.jsx(w.Body,{children:e.jsxs(Fi,{defaultActiveKey:"classes",className:"mb-3",children:[e.jsx(xs,{eventKey:"classes",title:"Par Classe",children:e.jsxs(Et,{size:"sm",className:n==="dark"?"table-dark":"",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Classe"}),e.jsx("th",{className:"text-center",children:"Étudiants"}),e.jsx("th",{className:"text-center",children:"Matières"}),e.jsx("th",{className:"text-center",children:"Taux Réussite"})]})}),e.jsx("tbody",{children:o.statistiques_par_entite.par_classe?.map((ke,we)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx($,{variant:"link",className:"p-0 text-start",onClick:()=>ee(ke.matricule_classroom),children:ke.classe})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:"info",children:ke.etudiants})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:"success",children:ke.matieres})}),e.jsx("td",{className:"text-center",children:e.jsxs(oe,{bg:ke.taux_reussite_moyen>=70?"success":ke.taux_reussite_moyen>=50?"warning":"danger",children:[ke.taux_reussite_moyen,"%"]})})]},we))})]})}),e.jsx(xs,{eventKey:"matieres",title:"Par Matière",children:e.jsxs(Et,{size:"sm",className:n==="dark"?"table-dark":"",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Matière"}),e.jsx("th",{className:"text-center",children:"Cours"}),e.jsx("th",{className:"text-center",children:"Évaluations"}),e.jsx("th",{className:"text-center",children:"Difficulté"})]})}),e.jsx("tbody",{children:o.statistiques_par_entite.par_matiere?.map((ke,we)=>e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("div",{className:n==="dark"?"text-light":"text-dark",children:ke.matiere}),e.jsx("small",{className:"text-muted",children:ke.classe})]}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:"primary",children:ke.cours})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:"info",children:ke.evaluations})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:ke.difficulte==="Facile"?"success":ke.difficulte==="Moyenne"?"warning":ke.difficulte==="Difficile"?"danger":"dark",children:ke.difficulte})})]},we))})]})}),e.jsx(xs,{eventKey:"formateurs",title:"Par Formateur",children:e.jsxs(Et,{size:"sm",className:n==="dark"?"table-dark":"",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Formateur"}),e.jsx("th",{className:"text-center",children:"Cours Créés"}),e.jsx("th",{className:"text-center",children:"Évaluations"}),e.jsx("th",{className:"text-center",children:"Score"})]})}),e.jsx("tbody",{children:o.statistiques_par_entite.par_formateur?.map((ke,we)=>e.jsxs("tr",{children:[e.jsx("td",{className:n==="dark"?"text-light":"text-dark",children:ke.formateur}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:"success",children:ke.cours_crees})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:"info",children:ke.evaluations_creees})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:"primary",children:ke.activite_score})})]},we))})]})})]})})})]})}),e.jsxs(T,{lg:6,children:[o.tendances&&e.jsxs(w,{className:`shadow-sm border-0 mb-4 ${n==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`${n==="dark"?"bg-dark border-secondary":"bg-light"} cursor-pointer`,onClick:()=>Se("tendances"),children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"trending-up",className:"text-success me-2",style:{width:"20px",height:"20px"}}),e.jsx("h5",{className:`mb-0 ${n==="dark"?"text-light":"text-dark"}`,children:"Tendances & Prédictions"})]}),e.jsx("i",{"data-feather":ie.tendances?"chevron-up":"chevron-down",className:`${n==="dark"?"text-light":"text-muted"}`,style:{width:"20px",height:"20px"}})]})}),e.jsx(Oa,{in:ie.tendances,children:e.jsxs(w.Body,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{className:`mb-3 ${n==="dark"?"text-light":"text-dark"}`,children:"Croissance"}),e.jsxs("div",{className:"row g-2",children:[e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"text-center p-3 rounded",style:{backgroundColor:n==="dark"?"#1a1a1a":"#f8f9fa"},children:[e.jsxs("div",{className:"h6 mb-1 text-primary",children:[o.tendances.croissance_utilisateurs?.evolution_pourcentage||0,"%"]}),e.jsx("small",{className:"text-muted",children:"Utilisateurs"})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"text-center p-3 rounded",style:{backgroundColor:n==="dark"?"#1a1a1a":"#f8f9fa"},children:[e.jsxs("div",{className:"h6 mb-1 text-success",children:[o.tendances.evolution_activite?.evolution_pourcentage||0,"%"]}),e.jsx("small",{className:"text-muted",children:"Activité"})]})})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{className:`mb-3 ${n==="dark"?"text-light":"text-dark"}`,children:"Prédictions"}),e.jsxs(lt,{variant:"info",className:"mb-3",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"16px",height:"16px"}}),e.jsx("strong",{children:"Semaine prochaine:"}),e.jsxs("div",{className:"mt-1",children:["• ",o.tendances.predictions?.inscriptions_prevues||0," nouvelles inscriptions"]}),e.jsxs("div",{children:["• ",o.tendances.predictions?.activite_prevue||0," réponses attendues"]})]}),o.tendances.predictions?.recommandations?.length>0&&e.jsxs("div",{children:[e.jsx("h6",{className:"small text-muted mb-2",children:"Recommandations"}),o.tendances.predictions.recommandations.map((ke,we)=>e.jsxs(lt,{variant:"warning",className:"py-2",children:[e.jsx("i",{"data-feather":"lightbulb",className:"me-2",style:{width:"14px",height:"14px"}}),ke]},we))]})]})]})})]}),o.comparaisons&&e.jsxs(w,{className:`shadow-sm border-0 ${n==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`${n==="dark"?"bg-dark border-secondary":"bg-light"} cursor-pointer`,onClick:()=>Se("comparaisons"),children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"bar-chart-2",className:"text-warning me-2",style:{width:"20px",height:"20px"}}),e.jsx("h5",{className:`mb-0 ${n==="dark"?"text-light":"text-dark"}`,children:"Comparaisons"})]}),e.jsx("i",{"data-feather":ie.comparaisons?"chevron-up":"chevron-down",className:`${n==="dark"?"text-light":"text-muted"}`,style:{width:"20px",height:"20px"}})]})}),e.jsx(Oa,{in:ie.comparaisons,children:e.jsx(w.Body,{children:e.jsxs(Fi,{defaultActiveKey:"periode",className:"mb-3",children:[e.jsx(xs,{eventKey:"periode",title:"Période précédente",children:e.jsx(Et,{size:"sm",className:n==="dark"?"table-dark":"",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Inscriptions"}),e.jsx("td",{className:"text-end",children:e.jsxs(oe,{bg:(o.comparaisons.periode_precedente?.inscriptions?.evolution_pourcentage||0)>=0?"success":"danger",children:[o.comparaisons.periode_precedente?.inscriptions?.evolution_pourcentage||0,"%"]})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Activité"}),e.jsx("td",{className:"text-end",children:e.jsxs(oe,{bg:(o.comparaisons.periode_precedente?.activite?.evolution_pourcentage||0)>=0?"success":"danger",children:[o.comparaisons.periode_precedente?.activite?.evolution_pourcentage||0,"%"]})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Performance"}),e.jsx("td",{className:"text-end",children:e.jsxs(oe,{bg:(o.comparaisons.periode_precedente?.performance?.evolution_pourcentage||0)>=0?"success":"danger",children:[o.comparaisons.periode_precedente?.performance?.evolution_pourcentage||0,"%"]})})]})]})})}),e.jsx(xs,{eventKey:"benchmark",title:"Benchmark système",children:e.jsx(Et,{size:"sm",className:n==="dark"?"table-dark":"",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Taux de réussite"}),e.jsx("td",{className:"text-end",children:e.jsxs("span",{className:`${(o.comparaisons.benchmark_systeme?.taux_reussite?.ecart||0)>=0?"text-success":"text-danger"}`,children:[o.comparaisons.benchmark_systeme?.taux_reussite?.ecart>=0?"+":"",o.comparaisons.benchmark_systeme?.taux_reussite?.ecart||0,"%"]})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Participation"}),e.jsx("td",{className:"text-end",children:e.jsxs("span",{className:`${(o.comparaisons.benchmark_systeme?.participation?.ecart||0)>=0?"text-success":"text-danger"}`,children:[o.comparaisons.benchmark_systeme?.participation?.ecart>=0?"+":"",o.comparaisons.benchmark_systeme?.participation?.ecart||0,"%"]})})]})]})})})]})})})]})]})]})}),e.jsx(xs,{eventKey:"reports",title:"Rapports",children:e.jsxs(pe,{children:[e.jsx(T,{md:6,children:e.jsxs(w,{className:`shadow-sm border-0 mb-4 ${n==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:n==="dark"?"bg-dark border-secondary":"bg-light",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"users",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("h5",{className:`mb-0 ${n==="dark"?"text-light":"text-dark"}`,children:"Rapport Étudiant"})]})}),e.jsxs(w.Body,{children:[e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Sélectionner un étudiant"}),e.jsxs(b.Select,{value:U,onChange:ke=>V(ke.target.value),className:n==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Choisir un étudiant..."}),M.map(ke=>e.jsxs("option",{value:ke.matricule,children:[ke.name," - ",ke.classroom?.name]},ke.matricule))]})]}),e.jsxs($,{variant:"primary",onClick:()=>U&&me(U),disabled:!U,className:"w-100",children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Générer le Rapport"]})]})]})}),e.jsx(T,{md:6,children:e.jsxs(w,{className:`shadow-sm border-0 mb-4 ${n==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:n==="dark"?"bg-dark border-secondary":"bg-light",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"home",className:"text-info me-2",style:{width:"20px",height:"20px"}}),e.jsx("h5",{className:`mb-0 ${n==="dark"?"text-light":"text-dark"}`,children:"Statistiques de Classe"})]})}),e.jsxs(w.Body,{children:[e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Sélectionner une classe"}),e.jsxs(b.Select,{value:P,onChange:ke=>q(ke.target.value),className:n==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Choisir une classe..."}),C.map(ke=>e.jsx("option",{value:ke.matricule,children:ke.name},ke.matricule))]})]}),e.jsxs($,{variant:"info",onClick:()=>P&&ee(P),disabled:!P,className:"w-100",children:[e.jsx("i",{"data-feather":"home",className:"me-2",style:{width:"16px",height:"16px"}}),"Analyser la Classe"]})]})]})})]})})]}),e.jsxs(Y,{show:I,onHide:()=>H(!1),centered:!0,size:"xl",contentClassName:n==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:n==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsxs(Y.Title,{children:["Rapport de Performance - ",y.etudiant?.name]})}),e.jsxs(Y.Body,{className:n==="dark"?"bg-dark text-light":"",children:[y.resume_performance&&e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`text-center ${n==="dark"?"bg-secondary bg-opacity-10":"bg-light"}`,children:e.jsxs(w.Body,{children:[e.jsxs("h4",{className:"text-success",children:[y.resume_performance.taux_reussite,"%"]}),e.jsx("small",{children:"Taux de Réussite"})]})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`text-center ${n==="dark"?"bg-secondary bg-opacity-10":"bg-light"}`,children:e.jsxs(w.Body,{children:[e.jsxs("h4",{className:"text-info",children:[y.resume_performance.note_moyenne_estimee,"/20"]}),e.jsx("small",{children:"Note Moyenne"})]})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`text-center ${n==="dark"?"bg-secondary bg-opacity-10":"bg-light"}`,children:e.jsxs(w.Body,{children:[e.jsx("h4",{className:"text-warning",children:y.resume_performance.total_questions_repondues}),e.jsx("small",{children:"Questions Répondues"})]})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`text-center ${n==="dark"?"bg-secondary bg-opacity-10":"bg-light"}`,children:e.jsxs(w.Body,{children:[e.jsx("h4",{className:"text-primary",children:y.resume_performance.total_evaluations_participees}),e.jsx("small",{children:"Évaluations"})]})})})]}),y.performance_par_matiere&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{className:n==="dark"?"text-light":"text-dark",children:"Performance par Matière"}),e.jsxs(Et,{size:"sm",className:n==="dark"?"table-dark":"",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Matière"}),e.jsx("th",{className:"text-center",children:"Réponses"}),e.jsx("th",{className:"text-center",children:"Taux Réussite"}),e.jsx("th",{className:"text-center",children:"Note/20"})]})}),e.jsx("tbody",{children:y.performance_par_matiere.map((ke,we)=>e.jsxs("tr",{children:[e.jsx("td",{className:n==="dark"?"text-light":"text-dark",children:ke.matiere}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:"info",children:ke.total_reponses})}),e.jsx("td",{className:"text-center",children:e.jsxs(oe,{bg:ke.taux_reussite>=70?"success":ke.taux_reussite>=50?"warning":"danger",children:[ke.taux_reussite,"%"]})}),e.jsx("td",{className:"text-center",children:e.jsxs(oe,{bg:ke.note_estimee>=14?"success":ke.note_estimee>=10?"warning":"danger",children:[ke.note_estimee,"/20"]})})]},we))})]})]}),y.points_forts_faibles&&e.jsxs(pe,{children:[e.jsxs(T,{md:6,children:[e.jsx("h6",{className:"text-success",children:"Points Forts"}),y.points_forts_faibles.points_forts.map((ke,we)=>e.jsxs(lt,{variant:"success",className:"py-2",children:[e.jsx("strong",{children:ke.matiere})," - ",ke.taux_reussite,"%"]},we))]}),e.jsxs(T,{md:6,children:[e.jsx("h6",{className:"text-danger",children:"Points à Améliorer"}),y.points_forts_faibles.points_faibles.map((ke,we)=>e.jsxs(lt,{variant:"warning",className:"py-2",children:[e.jsx("strong",{children:ke.matiere})," - ",ke.taux_reussite,"%"]},we))]})]}),y.recommandations&&y.recommandations.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h6",{className:n==="dark"?"text-light":"text-dark",children:"Recommandations"}),y.recommandations.map((ke,we)=>e.jsxs(lt,{variant:"info",className:"py-2",children:[e.jsx("i",{"data-feather":"lightbulb",className:"me-2",style:{width:"14px",height:"14px"}}),ke]},we))]})]}),e.jsxs(Y.Footer,{className:n==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>H(!1),children:"Fermer"}),e.jsxs($,{variant:"primary",onClick:()=>Xe("pdf"),children:[e.jsx("i",{"data-feather":"download",className:"me-2",style:{width:"16px",height:"16px"}}),"Exporter PDF"]})]})]}),e.jsxs(Y,{show:z,onHide:()=>K(!1),centered:!0,size:"xl",contentClassName:n==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:n==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsxs(Y.Title,{children:["Statistiques Détaillées - ",p.informations_classe?.classe?.name]})}),e.jsxs(Y.Body,{className:n==="dark"?"bg-dark text-light":"",children:[p.etudiants&&e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`text-center ${n==="dark"?"bg-secondary bg-opacity-10":"bg-light"}`,children:e.jsxs(w.Body,{children:[e.jsx("h4",{className:"text-primary",children:p.etudiants.total_etudiants}),e.jsx("small",{children:"Étudiants Inscrits"})]})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`text-center ${n==="dark"?"bg-secondary bg-opacity-10":"bg-light"}`,children:e.jsxs(w.Body,{children:[e.jsx("h4",{className:"text-success",children:p.etudiants.etudiants_actifs}),e.jsx("small",{children:"Étudiants Actifs"})]})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`text-center ${n==="dark"?"bg-secondary bg-opacity-10":"bg-light"}`,children:e.jsxs(w.Body,{children:[e.jsxs("h4",{className:"text-warning",children:[p.etudiants.taux_participation,"%"]}),e.jsx("small",{children:"Taux Participation"})]})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`text-center ${n==="dark"?"bg-secondary bg-opacity-10":"bg-light"}`,children:e.jsxs(w.Body,{children:[e.jsx("h4",{className:"text-info",children:Math.round(p.etudiants.moyenne_reponses_par_etudiant||0)}),e.jsx("small",{children:"Moy. Réponses/Étudiant"})]})})})]}),e.jsxs(Fi,{defaultActiveKey:"matieres",className:"mb-3",children:[e.jsx(xs,{eventKey:"matieres",title:"Matières",children:p.matieres&&e.jsxs(Et,{className:n==="dark"?"table-dark":"",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Matière"}),e.jsx("th",{className:"text-center",children:"Cours"}),e.jsx("th",{className:"text-center",children:"Évaluations"}),e.jsx("th",{className:"text-center",children:"Taux Réussite"})]})}),e.jsx("tbody",{children:p.matieres.map((ke,we)=>e.jsxs("tr",{children:[e.jsx("td",{className:n==="dark"?"text-light":"text-dark",children:ke.matiere}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:"primary",children:ke.cours})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:"info",children:ke.evaluations})}),e.jsx("td",{className:"text-center",children:e.jsxs(oe,{bg:ke.taux_reussite>=70?"success":ke.taux_reussite>=50?"warning":"danger",children:[ke.taux_reussite,"%"]})})]},we))})]})}),e.jsx(xs,{eventKey:"evaluations",title:"Évaluations",children:p.evaluations&&e.jsx("div",{children:e.jsxs(pe,{className:"mb-3",children:[e.jsx(T,{md:4,children:e.jsxs("div",{className:"text-center",children:[e.jsx("h5",{className:"text-primary",children:p.evaluations.total_evaluations}),e.jsx("small",{children:"Total Évaluations"})]})}),e.jsx(T,{md:4,children:e.jsxs("div",{className:"text-center",children:[e.jsx("h5",{className:"text-success",children:p.evaluations.evaluations_par_statut?.programmees||0}),e.jsx("small",{children:"Programmées"})]})}),e.jsx(T,{md:4,children:e.jsxs("div",{className:"text-center",children:[e.jsx("h5",{className:"text-info",children:p.evaluations.evaluations_par_statut?.terminees||0}),e.jsx("small",{children:"Terminées"})]})})]})})}),e.jsx(xs,{eventKey:"performance",title:"Performance",children:p.performance&&e.jsxs(pe,{children:[e.jsx(T,{md:6,children:e.jsx(w,{className:n==="dark"?"bg-secondary bg-opacity-10":"bg-light",children:e.jsxs(w.Body,{children:[e.jsx("h6",{children:"Taux de Réussite Moyen"}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(Zt,{now:p.performance.taux_reussite_moyen,variant:p.performance.taux_reussite_moyen>=70?"success":p.performance.taux_reussite_moyen>=50?"warning":"danger",className:"flex-grow-1 me-3"}),e.jsxs("span",{className:"fw-bold",children:[p.performance.taux_reussite_moyen,"%"]})]})]})})}),e.jsx(T,{md:6,children:e.jsx(w,{className:n==="dark"?"bg-secondary bg-opacity-10":"bg-light",children:e.jsxs(w.Body,{children:[e.jsx("h6",{children:"Note Moyenne Estimée"}),e.jsx("div",{className:"text-center",children:e.jsxs("h4",{className:p.performance.note_moyenne_estimee>=14?"text-success":p.performance.note_moyenne_estimee>=10?"text-warning":"text-danger",children:[p.performance.note_moyenne_estimee,"/20"]})})]})})})]})})]})]}),e.jsxs(Y.Footer,{className:n==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>K(!1),children:"Fermer"}),e.jsxs($,{variant:"primary",onClick:()=>Xe("pdf"),children:[e.jsx("i",{"data-feather":"download",className:"me-2",style:{width:"16px",height:"16px"}}),"Exporter PDF"]})]})]}),e.jsxs(Y,{show:F,onHide:()=>Q(!1),centered:!0,contentClassName:n==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:n==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Exporter les Statistiques"})}),e.jsxs(Y.Body,{className:n==="dark"?"bg-dark text-light":"",children:[e.jsx("p",{className:n==="dark"?"text-light":"text-dark",children:"Choisissez le format d'exportation pour vos statistiques :"}),e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"outline-danger",onClick:()=>Xe("pdf"),className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"file-text",className:"me-2",style:{width:"20px",height:"20px"}}),"Exporter en PDF",e.jsx("small",{className:"ms-auto text-muted",children:"Rapport détaillé"})]}),e.jsxs($,{variant:"outline-success",onClick:()=>Xe("xlsx"),className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"grid",className:"me-2",style:{width:"20px",height:"20px"}}),"Exporter en Excel",e.jsx("small",{className:"ms-auto text-muted",children:"Données brutes"})]})]})]}),e.jsx(Y.Footer,{className:n==="dark"?"bg-dark text-light border-secondary":"",children:e.jsx($,{variant:"secondary",onClick:()=>Q(!1),children:"Annuler"})})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:G,onClose:()=>se(!1),delay:4e3,autohide:!0,bg:Z==="success"?"success":"danger",className:n==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${Z==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":Z==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:n==="dark"?"bg-dark text-light":"",children:O})]})})]})})}function dEe(){const{user:s}=Aa(),[t,a]=x.useState(null),[r,n]=x.useState(!0),[i,l]=x.useState(null);x.useEffect(()=>{(async()=>{try{n(!0);const d=await he.get("/me");a(d.data)}catch(d){l("Erreur lors du chargement du profil"),console.error("Erreur profil:",d)}finally{n(!1)}})()},[]),x.useEffect(()=>{We.replace()},[t]);const c=u=>u?new Date(u).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}):"Non renseigné",o=u=>({Masculin:"primary",Féminin:"info",Autre:"secondary"})[u]||"secondary";return r?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement du profil..."})]})}):i?e.jsx(et,{children:e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),i]})}):e.jsxs(et,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"h3 mb-1",children:"Mon Profil Personnel"}),e.jsx("p",{className:"text-muted mb-0",children:"Consultez et gérez vos informations professionnelles"})]}),e.jsxs($,{variant:"primary",size:"lg",as:xe,to:"/formateur/edit/profil",className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"edit-2",className:"me-2",style:{width:"20px",height:"20px"}}),"Modifier le profil"]})]}),e.jsxs(pe,{children:[e.jsx(T,{lg:8,className:"mb-4",children:e.jsxs(w,{className:"border-0 shadow-sm",children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations professionnelles"]})}),e.jsxs(w.Body,{children:[e.jsxs(pe,{className:"align-items-center mb-4",children:[e.jsx(T,{md:3,className:"text-center",children:e.jsxs("div",{className:"position-relative d-inline-block",children:[t?.profil?e.jsx(Mt,{src:t.profil_url,alt:"Photo de profil",className:"rounded-circle",width:"120",height:"120",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-light d-flex align-items-center justify-content-center border",style:{width:"120px",height:"120px"},children:e.jsx("i",{"data-feather":"user-check",className:"text-muted",style:{width:"48px",height:"48px"}})}),e.jsx(oe,{bg:"success",className:"position-absolute bottom-0 end-0 rounded-circle p-2",style:{transform:"translate(25%, 25%)"},children:e.jsx("i",{"data-feather":"stethoscope",style:{width:"12px",height:"12px"}})})]})}),e.jsxs(T,{md:9,children:[e.jsx("h4",{className:"mb-2",children:t?.name||"Nom non renseigné"}),e.jsxs("p",{className:"text-muted mb-2",children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),t?.email||"Email non renseigné"]}),t?.phone&&e.jsxs("p",{className:"text-muted mb-2",children:[e.jsx("i",{"data-feather":"phone",className:"me-2",style:{width:"16px",height:"16px"}}),t.code_phone&&`${t.code_phone} `,t.phone]}),e.jsxs("div",{className:"d-flex align-items-center flex-wrap gap-2",children:[e.jsx(oe,{bg:"success",className:"me-2",children:"Conpte Vérifié"}),t?.gender&&e.jsx(oe,{bg:o(t.gender),children:t.gender})]})]})]}),e.jsx("hr",{className:"my-4"}),e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Nom complet :"}),e.jsx("span",{className:"fw-medium",children:t?.name||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Email :"}),e.jsx("span",{className:"fw-medium",children:t?.email||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Date de naissance :"}),e.jsx("span",{className:"fw-medium",children:c(t?.birthday)})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Genre :"}),e.jsx("span",{className:"fw-medium",children:t?.gender||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Indicatif pays :"}),e.jsx("span",{className:"fw-medium",children:t?.code_phone||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Téléphone :"}),e.jsx("span",{className:"fw-medium",children:t?.phone||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Membre depuis :"}),e.jsx("span",{className:"fw-medium",children:c(t?.created_at)})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Dernière mise à jour :"}),e.jsx("span",{className:"fw-medium",children:c(t?.updated_at)})]})})]})]})]})}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:"border-0 shadow-sm mb-4",children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"20px",height:"20px"}}),"Actions rapides"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"primary",as:xe,to:"/formateur/edit/profil",className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"edit-2",className:"me-2",style:{width:"18px",height:"18px"}}),"Modifier le profil"]}),e.jsxs($,{variant:"outline-primary",as:xe,to:"/formateur/profil/securite",className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"shield",className:"me-2",style:{width:"18px",height:"18px"}}),"Sécurité du compte"]}),e.jsxs($,{variant:"outline-info",as:xe,to:"/formateur/dashboard",className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"grid",className:"me-2",style:{width:"18px",height:"18px"}}),"Retour au Dashboard"]})]})})]}),e.jsxs(w,{className:"border-0 shadow-sm mb-4",children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"20px",height:"20px"}}),"Activité professionnelle"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("div",{className:"text-primary mb-2",children:e.jsx("i",{"data-feather":"users",style:{width:"32px",height:"32px"}})}),e.jsx("h6",{className:"mb-0",children:"Evolution du compte"}),e.jsx("h4",{className:"text-primary mb-0",children:t?.profil&&t?.birthday&&t?.phone&&t?.gender?"100%":t?.name&&t?.email&&t?.gender?"85%":t?.name&&t?.email?"70%":"50%"}),e.jsx("small",{className:"text-muted",children:t?.profil&&t?.birthday&&t?.phone&&t?.gender?"Complété":t?.name&&t?.email&&t?.gender?"En cours de progression":(t?.name&&t?.email,"En attente")})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Profil complété :"}),e.jsx("span",{className:"fw-bold text-success",children:t?.profil&&t?.birthday&&t?.phone&&t?.gender?"100%":t?.name&&t?.email&&t?.gender?"85%":t?.name&&t?.email?"70%":"50%"})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Dernière connexion :"}),e.jsx("span",{children:c(t?.updated_at)})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Type de compte :"}),e.jsx(oe,{bg:"success",children:"Administrateur Systeme"})]})]})]})]}),e.jsxs(w,{className:"border-0 shadow-sm",children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"award",className:"me-2 text-success",style:{width:"20px",height:"20px"}}),"Informations professionnelles"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("i",{"data-feather":"check-circle",className:"text-success me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:"Compte vérifié"}),e.jsx("div",{className:"text-muted",children:"Identité confirmée"})]})]}),e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("i",{"data-feather":"clock",className:"text-info me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:"Disponibilité"}),e.jsx("div",{className:"text-muted",children:"Lun-Ven: 8h-18h"})]})]})]})})]})]})]})]})}function hEe(){const{user:s,updateUser:t}=Aa(),a=Ut(),[r,n]=x.useState(null),[i,l]=x.useState(!0),[c,o]=x.useState(!1),[u,d]=x.useState(null),[f,p]=x.useState(null),[j,y]=x.useState({}),[k,v]=x.useState(!1),[S,C]=x.useState({name:"",email:"",birthday:"",gender:"",code_phone:"",phone:"",profil:null}),[_,A]=x.useState({password:"",password_confirmation:""}),[D,M]=x.useState(null);x.useEffect(()=>{(async()=>{try{l(!0);const U=(await he.get("/me")).data;n(U),C({name:U.name||"",email:U.email||"",birthday:U.birthday||"",gender:U.gender||"",code_phone:U.code_phone||"",phone:U.phone||"",profil:null}),U.profil&&M(`${U.profil_url}`)}catch(K){d("Erreur lors du chargement du profil"),console.error("Erreur profil:",K)}finally{l(!1)}})()},[]),x.useEffect(()=>{We.replace()},[r]);const L=z=>{const{name:K,value:U}=z.target;C(V=>({...V,[K]:U})),j[K]&&y(V=>({...V,[K]:null}))},F=z=>{const{name:K,value:U}=z.target;A(V=>({...V,[K]:U}))},Q=z=>{const K=z.target.files[0];if(K){if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(K.type)){y(q=>({...q,profil:"Format de fichier non supporté. Utilisez JPG, PNG ou WEBP."}));return}if(K.size>2097152){y(q=>({...q,profil:"La taille du fichier ne doit pas dépasser 2MB."}));return}C(q=>({...q,profil:K}));const P=new FileReader;P.onload=q=>{M(q.target.result)},P.readAsDataURL(K),j.profil&&y(q=>({...q,profil:null}))}},I=async z=>{z.preventDefault();try{o(!0),d(null),p(null),y({});const K=new FormData;Object.keys(S).forEach(V=>{V==="profil"?S.profil instanceof File&&K.append("profil",S.profil):S[V]!==null&&S[V]!==""&&K.append(V,S[V])}),K.append("_method","PUT");const U=await he.post("/me/update",K,{headers:{"Content-Type":"multipart/form-data"}});U.data.status==="success"&&(p("Profil mis à jour avec succès !"),t&&t(U.data.data.user),setTimeout(()=>{a("/formateur/view/profil")},2e3))}catch(K){K.response?.data?.errors?y(K.response.data.errors):d(K.response?.data?.message||"Erreur lors de la mise à jour du profil")}finally{o(!1)}},H=async z=>{if(z.preventDefault(),!_.password||!_.password_confirmation){d("Veuillez remplir tous les champs du mot de passe");return}if(_.password!==_.password_confirmation){d("Les mots de passe ne correspondent pas");return}try{o(!0),d(null),(await he.put("/me/update",_)).data.status==="success"&&(p("Mot de passe mis à jour avec succès !"),v(!1),A({password:"",password_confirmation:""}))}catch(K){K.response?.data?.errors?y(K.response.data.errors):d(K.response?.data?.message||"Erreur lors de la mise à jour du mot de passe")}finally{o(!1)}};return i?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement du profil..."})]})}):e.jsxs(et,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"h3 mb-1",children:"Modifier mon profil"}),e.jsx("p",{className:"text-muted mb-0",children:"Mettez à jour vos informations professionnelles"})]}),e.jsxs($,{variant:"outline-secondary",size:"lg",as:xe,to:"/admin-systeme/view/profil",className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2",style:{width:"20px",height:"20px"}}),"Retour au profil"]})]}),u&&e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),u]}),f&&e.jsxs(lt,{variant:"success",className:"mb-4",children:[e.jsx("i",{"data-feather":"check-circle",className:"me-2"}),f]}),e.jsx(b,{onSubmit:I,children:e.jsxs(pe,{children:[e.jsx(T,{lg:8,className:"mb-4",children:e.jsxs(w,{className:"border-0 shadow-sm",children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations professionnelles"]})}),e.jsxs(w.Body,{children:[e.jsx(pe,{className:"mb-4",children:e.jsxs(T,{md:3,className:"text-center",children:[e.jsxs("div",{className:"position-relative d-inline-block mb-3",children:[D?e.jsx(Mt,{src:D,alt:"Photo de profil",className:"rounded-circle",width:"120",height:"120",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-light d-flex align-items-center justify-content-center border",style:{width:"120px",height:"120px"},children:e.jsx("i",{"data-feather":"user-check",className:"text-muted",style:{width:"48px",height:"48px"}})}),e.jsx($,{variant:"primary",size:"sm",className:"position-absolute bottom-0 end-0 rounded-circle p-2",style:{transform:"translate(25%, 25%)"},onClick:()=>document.getElementById("profileImage").click(),children:e.jsx("i",{"data-feather":"camera",style:{width:"12px",height:"12px"}})})]}),e.jsx("input",{type:"file",id:"profileImage",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:Q,style:{display:"none"}}),e.jsx("p",{className:"small text-muted mb-0",children:"JPG, PNG, WEBP - Max 2MB"}),j.profil&&e.jsx("div",{className:"text-danger small mt-1",children:j.profil})]})}),e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Nom complet *"]}),e.jsx(b.Control,{type:"text",name:"name",value:S.name,onChange:L,placeholder:"Dr. Votre nom complet",isInvalid:!!j.name,required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.name?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Email professionnel *"]}),e.jsx(b.Control,{type:"email",name:"email",value:S.email,onChange:L,placeholder:"dr.nom@hopital.com",isInvalid:!!j.email,required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.email?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"calendar",className:"me-2",style:{width:"16px",height:"16px"}}),"Date de naissance"]}),e.jsx(b.Control,{type:"date",name:"birthday",value:S.birthday,onChange:L,max:new Date().toISOString().split("T")[0],isInvalid:!!j.birthday}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.birthday?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"16px",height:"16px"}}),"Genre"]}),e.jsxs(b.Select,{name:"gender",value:S.gender,onChange:L,isInvalid:!!j.gender,children:[e.jsx("option",{value:"",children:"Sélectionner..."}),e.jsx("option",{value:"Masculin",children:"Masculin"}),e.jsx("option",{value:"Féminin",children:"Féminin"}),e.jsx("option",{value:"Autre",children:"Autre"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.gender?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"flag",className:"me-2",style:{width:"16px",height:"16px"}}),"Indicatif pays"]}),e.jsxs(b.Select,{name:"code_phone",value:S.code_phone,onChange:L,isInvalid:!!j.code_phone,children:[e.jsx("option",{value:"",children:"Sélectionner..."}),e.jsx("option",{value:"+237",children:"+237"}),e.jsx("option",{value:"+33",children:"+33"}),e.jsx("option",{value:"+235",children:"+235"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.code_phone?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"phone",className:"me-2",style:{width:"16px",height:"16px"}}),"Numéro de téléphone"]}),e.jsx(b.Control,{type:"tel",name:"phone",value:S.phone,onChange:L,placeholder:"690123456",isInvalid:!!j.phone}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.phone?.[0]}),e.jsx(b.Text,{className:"text-muted",children:"Numéro pour les urgences et rendez-vous"})]})})]}),e.jsx("hr",{className:"my-4"}),e.jsx(pe,{children:e.jsx(T,{md:12,children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs($,{variant:"outline-warning",onClick:()=>v(!0),className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"lock",className:"me-2",style:{width:"16px",height:"16px"}}),"Changer le mot de passe"]}),e.jsxs("div",{children:[e.jsx($,{variant:"outline-secondary",as:xe,to:"/admin-systeme/view/profil",className:"me-2",disabled:c,children:"Annuler"}),e.jsx($,{variant:"primary",type:"submit",disabled:c,className:"d-flex align-items-center",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner-border spinner-border-sm me-2",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),"Mise à jour..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ss,{icon:"save",size:16,className:"me-2"}),"Enregistrer les Modifications"]})})]})]})})})]})]})}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:"border-0 shadow-sm mb-4",children:[e.jsx(w.Header,{className:"bg-white border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"help-circle",className:"me-2 text-info",style:{width:"20px",height:"20px"}}),"Conseils professionnels"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"user-check",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Utilisez votre nom complet tel qu'il apparaît sur votre acte de naissance"})]}),e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"mail",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Utilisez un email professionnel pour recevoir les notifications"})]}),e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{"data-feather":"phone",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Votre numéro sera utilisé pour les urgences et confirmations"})]})]})})]}),e.jsxs(w,{className:"border-0 shadow-sm mb-4",children:[e.jsx(w.Header,{className:"bg-white border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"shield",className:"me-2 text-success",style:{width:"20px",height:"20px"}}),"Sécurité du compte"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Mot de passe"}),e.jsx($,{variant:"outline-primary",size:"sm",onClick:()=>v(!0),children:"Modifier"})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Email vérifié"}),e.jsx("i",{"data-feather":"check-circle",className:"text-success",style:{width:"16px",height:"16px"}})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Compte Administrateur systeme"}),e.jsx("i",{"data-feather":"user-check",className:"text-success",style:{width:"16px",height:"16px"}})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsx("span",{className:"small",children:"Profil sécurisé"}),e.jsx("i",{"data-feather":"shield",className:"text-success",style:{width:"16px",height:"16px"}})]})]})]}),e.jsxs(w,{className:"border-0 shadow-sm border-warning",children:[e.jsx(w.Header,{className:"bg-warning bg-opacity-10 border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center text-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"20px",height:"20px"}}),"Important"]})}),e.jsxs(w.Body,{children:[e.jsxs("p",{className:"small mb-2",children:[e.jsx("strong",{children:"Champs obligatoires :"})," Nom et email sont requis pour votre profil."]}),e.jsxs("p",{className:"small mb-2",children:[e.jsx("strong",{children:"Photo de profil :"})," Une photo professionnelle inspire confiance aux patients."]}),e.jsxs("p",{className:"small mb-0",children:[e.jsx("strong",{children:"Validation :"})," Vos informations peuvent être vérifiées par l'administration."]})]})]})]})]})}),e.jsxs(Y,{show:k,onHide:()=>v(!1),centered:!0,children:[e.jsx(Y.Header,{closeButton:!0,children:e.jsxs(Y.Title,{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"lock",className:"me-2",style:{width:"20px",height:"20px"}}),"Changer le mot de passe"]})}),e.jsxs(b,{onSubmit:H,children:[e.jsxs(Y.Body,{children:[e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Nouveau mot de passe"}),e.jsxs(bd,{children:[e.jsx(b.Control,{type:"password",name:"password",value:_.password,onChange:F,placeholder:"Entrez votre nouveau mot de passe",isInvalid:!!j.password,required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.password?.[0]})]}),e.jsx(b.Text,{className:"text-muted",children:"Minimum 8 caractères avec majuscules, minuscules et chiffres"})]}),e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Confirmer le mot de passe"}),e.jsx(b.Control,{type:"password",name:"password_confirmation",value:_.password_confirmation,onChange:F,placeholder:"Confirmez votre nouveau mot de passe",required:!0})]})]}),e.jsxs(Y.Footer,{children:[e.jsx($,{variant:"secondary",onClick:()=>v(!1),disabled:c,children:"Annuler"}),e.jsx($,{variant:"primary",type:"submit",disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx(tt,{animation:"border",size:"sm",className:"me-2"}),"Mise à jour..."]}):"Mettre à jour"})]})]})]})]})}var Lk,ZP;function uEe(){return ZP||(ZP=1,Lk=function(s,t,a,r){var n=typeof r<"u"?[r,s]:[s],i=new Blob(n,{type:a||"application/octet-stream"});if(typeof window.navigator.msSaveBlob<"u")window.navigator.msSaveBlob(i,t);else{var l=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(i):window.webkitURL.createObjectURL(i),c=document.createElement("a");c.style.display="none",c.href=l,c.setAttribute("download",t),typeof c.download>"u"&&c.setAttribute("target","_blank"),document.body.appendChild(c),c.click(),setTimeout(function(){document.body.removeChild(c),window.URL.revokeObjectURL(l)},200)}}),Lk}var mEe=uEe();const Ea=Va(mEe);function xEe(){const[s,t]=x.useState([]),[a,r]=x.useState([]),[n,i]=x.useState([]),[l,c]=x.useState(""),[o,u]=x.useState(""),[d,f]=x.useState(""),[p,j]=x.useState(""),[y,k]=x.useState(""),[v,S]=x.useState(!1),[C,_]=x.useState(!1),[A,D]=x.useState(!1),[M,L]=x.useState(!1),[F,Q]=x.useState(!1),[I,H]=x.useState(null),[z,K]=x.useState({}),[U,V]=x.useState(!1),[P,q]=x.useState(""),[G,se]=x.useState("success"),[O,W]=x.useState({name:"",email:"",matricule_classroom:"",password:"",password_confirmation:""}),[Z,te]=x.useState({email:"",matricule_classroom:"",role:"1"}),[ie,fe]=x.useState("1"),[J,ge]=x.useState(""),[re,ve]=x.useState("light");x.useEffect(()=>{const le=document.documentElement.getAttribute("data-theme")||"light";ve(le);const Ae=new MutationObserver(()=>{const Le=document.documentElement.getAttribute("data-theme")||"light";ve(Le)});return Ae.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>Ae.disconnect()},[]);const Oe=(le,Ae="success")=>{q(le),se(Ae),V(!0)},ee=x.useCallback(async()=>{try{const le={};l.trim()&&(le.search=l.trim()),o&&(le.created_at=o),d&&(le.status=d),p&&(le.gender=p),y&&(le.matricule_classroom=y);const Ae=await he.get("/formateur/view/etudiant",{params:le});t(Ae.data.users||[]),r(Ae.data.classrooms||[])}catch(le){console.error("Erreur lors de la récupération des utilisateurs",le)}},[l,o,d,p,y]);x.useEffect(()=>{We.replace(),ee()},[ee]),x.useEffect(()=>{We.replace()},[s,n]);const me=async le=>{le.preventDefault(),K({});try{await he.post("/formateur/store/etudiant",O),ee(),S(!1),W({name:"",email:"",matricule_classroom:"",password:"",password_confirmation:""}),Oe("Utilisateur ajouté avec succès","success")}catch(Ae){Ae.response?.status===422?(K(Ae.response.data.errors||{}),Oe("Erreur de validation","danger")):(console.error(Ae),Oe("Une erreur inattendue s'est produite","danger"))}},Xe=async le=>{le.preventDefault(),K({});try{const Ae=await he.post("/formateur/invitation/users",Z);Oe(Ae.data.message||"Invitation envoyée avec succès","success"),_(!1),te({email:"",matricule_classroom:"",role:"1"})}catch(Ae){Ae.response?.status===422?(K(Ae.response.data.errors||{}),Oe("Erreur lors de l'envoi de l'invitation","danger")):(console.error("Erreur d'invitation",Ae),Oe("Une erreur inattendue s'est produite lors de l'invitation","danger"))}},Se=(le=null)=>{H(le),D(!0)},ae=async()=>{try{const le=I?[I]:n;I?await he.delete(`/formateur/destroy/etudiant/${I}`):await he.post("/formateur/destroy-group/etudiant",{ids:le}),ee(),D(!1),i([]),H(null),Oe("Utilisateur(s) supprimé(s) avec succès","success")}catch(le){console.error(le),Oe("Erreur lors de la suppression","danger")}},ye=async le=>{try{const Ae=await he.patch(`/formateur/toggle-role/etudiant/${le}`);ee(),Oe(Ae.data.message,"success")}catch(Ae){console.error(Ae),Oe("Erreur lors du changement de rôle","danger")}},st=async le=>{le.preventDefault();try{const Ae=await he.post("/formateur/toggle-role-group/etudiant",{ids:n,new_role:parseInt(ie)});ee(),L(!1),i([]),Oe(Ae.data.message,"success")}catch(Ae){console.error(Ae),Oe("Erreur lors du changement de rôle en lot","danger")}},He=async(le,Ae)=>{try{const Le=await he.patch(`/formateur/assign-classroom/etudiant/${le}`,{matricule_classroom:Ae});ee(),Oe(Le.data.message,"success")}catch(Le){console.error(Le),Oe("Erreur lors de l'assignation de classe","danger")}},ke=async le=>{le.preventDefault();try{const Ae=await he.post("/formateur/assign-classroom-group/etudiant",{ids:n,matricule_classroom:J});ee(),Q(!1),i([]),Oe(Ae.data.message,"success")}catch(Ae){console.error(Ae),Oe("Erreur lors de l'assignation de classe en lot","danger")}},we=le=>{const{value:Ae,checked:Le}=le.target,rt=parseInt(Ae);i(Le?ot=>[...ot,rt]:ot=>ot.filter(hs=>hs!==rt))},Ke=le=>{le.target.checked?i(s.map(Ae=>Ae.id)):i([])},Ee=async le=>{le.preventDefault();try{const Ae=new URLSearchParams;l.trim()&&Ae.append("search",l.trim()),o&&Ae.append("created_at",o),d&&Ae.append("status",d),p&&Ae.append("gender",p),y&&Ae.append("matricule_classroom",y);const Le=await he.get(`/formateur/download/liste/etudiant/pdf?${Ae.toString()}`,{responseType:"blob"}),rt=`rapport_utilisateurs_(etudiants)_${new Date().toISOString().slice(0,10)}.pdf`;Ea(Le.data,rt),Oe("Le rapport PDF est en cours de téléchargement","success")}catch(Ae){console.error("Erreur de téléchargement PDF:",Ae),Oe("Échec du téléchargement PDF","danger")}},je=async le=>{le.preventDefault();try{const Ae=new URLSearchParams;l.trim()&&Ae.append("search",l.trim()),o&&Ae.append("created_at",o),d&&Ae.append("status",d),p&&Ae.append("gender",p),y&&Ae.append("matricule_classroom",y);const Le=await he.get(`/formateur/download/liste/etudiant/excel?${Ae.toString()}`,{responseType:"blob"}),rt=`rapport_utilisateurs_(etudiants)_${new Date().toISOString().slice(0,10)}.xlsx`;Ea(Le.data,rt),Oe("Le fichier Excel est en cours de téléchargement","success")}catch(Ae){console.error("Erreur de téléchargement Excel:",Ae),Oe("Échec du téléchargement Excel","danger")}},Ve=s.filter(le=>le.status==="Connecté"),Nt=s.filter(le=>le.status==="En attente"),nt=s.filter(le=>le.status==="Déconnecté"),It=s.filter(le=>le.role===1),ps=s.filter(le=>le.role===0);return e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${re==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"users",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${re==="dark"?"text-light":"text-dark"}`,children:"Gestion des Étudiants"}),e.jsx("p",{className:`mb-0 ${re==="dark"?"text-light":"text-muted"}`,children:"Institut de Formation - Administration centrale du système"})]})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:2,children:e.jsx(w,{className:`border-0 shadow-sm ${re==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${re==="dark"?"text-light":"text-dark"}`,children:s.length}),e.jsx("small",{className:re==="dark"?"text-light":"text-muted",children:"Total"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"users",style:{width:"20px",height:"20px"}})})]})})})}),e.jsx(T,{md:2,children:e.jsx(w,{className:`border-0 shadow-sm ${re==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:It.length}),e.jsx("small",{className:re==="dark"?"text-light":"text-muted",children:"Actifs"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"check-circle",style:{width:"20px",height:"20px"}})})]})})})}),e.jsx(T,{md:2,children:e.jsx(w,{className:`border-0 shadow-sm ${re==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-warning",children:ps.length}),e.jsx("small",{className:re==="dark"?"text-light":"text-muted",children:"Attente"})]}),e.jsx("div",{className:"text-warning",children:e.jsx("i",{"data-feather":"pause-circle",style:{width:"20px",height:"20px"}})})]})})})}),e.jsx(T,{md:2,children:e.jsx(w,{className:`border-0 shadow-sm ${re==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:Ve.length}),e.jsx("small",{className:re==="dark"?"text-light":"text-muted",children:"En Ligne"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"activity",style:{width:"20px",height:"20px"}})})]})})})}),e.jsx(T,{md:2,children:e.jsx(w,{className:`border-0 shadow-sm ${re==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-info",children:Nt.length}),e.jsx("small",{className:re==="dark"?"text-light":"text-muted",children:"Pending"})]}),e.jsx("div",{className:"text-info",children:e.jsx("i",{"data-feather":"clock",style:{width:"20px",height:"20px"}})})]})})})}),e.jsx(T,{md:2,children:e.jsx(w,{className:`border-0 shadow-sm ${re==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-danger",children:nt.length}),e.jsx("small",{className:re==="dark"?"text-light":"text-muted",children:"Hors Ligne"})]}),e.jsx("div",{className:"text-danger",children:e.jsx("i",{"data-feather":"x-circle",style:{width:"20px",height:"20px"}})})]})})})})]})]}),e.jsxs(w,{className:`shadow-sm border-0 ${re==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${re==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"users",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${re==="dark"?"text-light":"text-dark"}`,children:"Étudiants"})]}),e.jsxs("div",{className:"d-flex gap-2 mt-2 mt-md-0",children:[e.jsxs(at,{children:[e.jsxs(at.Toggle,{variant:"outline-primary",className:"d-flex align-items-center",id:"dropdown-export",children:[e.jsx("i",{"data-feather":"download",className:"me-2",style:{width:"16px",height:"16px"}}),"Exporter les Données"]}),e.jsx(at.Menu,{className:"shadow-lg border-0",style:{minWidth:"350px"},children:e.jsxs("div",{className:"p-3",children:[e.jsxs("h6",{className:"text-primary mb-3",children:[e.jsx("i",{"data-feather":"file-text",className:"me-2",style:{width:"16px",height:"16px"}}),"Rapport PDF"]}),e.jsxs(b,{onSubmit:Ee,className:"mb-4",children:[e.jsx(b.Control,{type:"text",placeholder:"Rechercher par nom, email, téléphone...",value:l,onChange:le=>c(le.target.value),className:`mb-2 ${re==="dark"?"bg-dark text-light border-secondary":""}`}),e.jsx(b.Control,{type:"date",value:o,onChange:le=>u(le.target.value),className:`mb-2 ${re==="dark"?"bg-dark text-light border-secondary":""}`}),e.jsxs(b.Select,{value:d,onChange:le=>f(le.target.value),className:`mb-2 ${re==="dark"?"bg-dark text-light border-secondary":""}`,children:[e.jsx("option",{value:"",children:"Tous les Statuts"}),e.jsx("option",{value:"Connecté",children:"En Ligne"}),e.jsx("option",{value:"Déconnecté",children:"Hors Ligne"}),e.jsx("option",{value:"En attente",children:"En Attente"})]}),e.jsxs(b.Select,{value:p,onChange:le=>j(le.target.value),className:`mb-3 ${re==="dark"?"bg-dark text-light border-secondary":""}`,children:[e.jsx("option",{value:"",children:"Tous les Genres"}),e.jsx("option",{value:"Masculin",children:"Masculin"}),e.jsx("option",{value:"Féminin",children:"Féminin"}),e.jsx("option",{value:"Autre",children:"Autre"})]}),e.jsxs(b.Select,{value:y,onChange:le=>k(le.target.value),className:`mb-3 ${re==="dark"?"bg-dark text-light border-secondary":""}`,children:[e.jsx("option",{value:"",children:"Toutes les classes"}),a.map(le=>e.jsx("option",{value:le.matricule,children:le.name},le.matricule))]}),e.jsxs($,{type:"submit",variant:"primary",className:"w-100",children:[e.jsx("i",{"data-feather":"file-text",className:"me-2",style:{width:"16px",height:"16px"}}),"Télécharger PDF"]})]}),e.jsx("hr",{}),e.jsxs("h6",{className:"text-success mb-3",children:[e.jsx("i",{"data-feather":"file",className:"me-2",style:{width:"16px",height:"16px"}}),"Fichier Excel"]}),e.jsx(b,{onSubmit:je,children:e.jsxs($,{type:"submit",variant:"success",className:"w-100",children:[e.jsx("i",{"data-feather":"file",className:"me-2",style:{width:"16px",height:"16px"}}),"Télécharger Excel"]})})]})})]}),e.jsxs($,{variant:"info",className:"d-flex align-items-center",onClick:()=>_(!0),children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Inviter"]}),e.jsxs($,{variant:"success",className:"d-flex align-items-center",onClick:()=>S(!0),children:[e.jsx("i",{"data-feather":"user-plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Nouvel Utilisateur"]})]})]})}),e.jsxs(w.Body,{className:re==="dark"?"bg-dark":"bg-white",children:[e.jsx("div",{className:"mb-4 p-3 rounded",style:{backgroundColor:re==="dark"?"#1a1a1a":"#f8f9fa"},children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-3",children:[e.jsxs(b.Label,{className:`small fw-bold ${re==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"search",className:"me-1",style:{width:"14px",height:"14px"}}),"Recherche Globale"]}),e.jsx(b.Control,{type:"text",placeholder:"Nom, email, téléphone...",value:l,onChange:le=>c(le.target.value),onKeyDown:le=>le.key==="Enter"&&ee(),className:re==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsxs(b.Label,{className:`small fw-bold ${re==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"layers",className:"me-1",style:{width:"14px",height:"14px"}}),"Niveau d'étude"]}),e.jsxs(b.Select,{value:y,onChange:le=>k(le.target.value),className:`mb-3 ${re==="dark"?"bg-dark text-light border-secondary":""}`,children:[e.jsx("option",{value:"",children:"Toutes les classes"}),a.map(le=>e.jsx("option",{value:le.matricule,children:le.name},le.matricule))]})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${re==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"14px",height:"14px"}}),"Date"]}),e.jsx(b.Control,{type:"date",value:o,onChange:le=>u(le.target.value),className:re==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${re==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"activity",className:"me-1",style:{width:"14px",height:"14px"}}),"Statut"]}),e.jsxs(b.Select,{value:d,onChange:le=>f(le.target.value),className:re==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous"}),e.jsx("option",{value:"Connecté",children:"En Ligne"}),e.jsx("option",{value:"Déconnecté",children:"Hors Ligne"}),e.jsx("option",{value:"En attente",children:"En Attente"})]})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${re==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"user",className:"me-1",style:{width:"14px",height:"14px"}}),"Genre"]}),e.jsxs(b.Select,{value:p,onChange:le=>j(le.target.value),className:re==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous"}),e.jsx("option",{value:"Masculin",children:"Masculin"}),e.jsx("option",{value:"Féminin",children:"Féminin"}),e.jsx("option",{value:"Autre",children:"Autre"})]})]})]})}),e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center m-3",children:[n.length>0&&e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"shuffle",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${re==="dark"?"text-light":"text-dark"}`,children:"Executer une action"})]}),e.jsx("div",{className:"d-flex gap-2 mt-2 mt-md-0",children:n.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs($,{variant:"warning",className:"d-flex align-items-center",onClick:()=>L(!0),children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"16px",height:"16px"}}),"Changer Rôle (",n.length,")"]}),e.jsxs($,{variant:"info",className:"d-flex align-items-center",onClick:()=>Q(!0),children:[e.jsx("i",{"data-feather":"layers",className:"me-2",style:{width:"16px",height:"16px"}}),"Assigner Classe (",n.length,")"]}),e.jsxs($,{variant:"danger",className:"d-flex align-items-center",onClick:()=>Se(),children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer (",n.length,")"]})]})})]}),e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`align-middle ${re==="dark"?"table-dark":""}`,style:{borderRadius:"8px",overflow:"hidden"},children:[e.jsx("thead",{className:"table-primary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center",style:{width:"50px"},children:e.jsx(b.Check,{type:"checkbox",onChange:Ke,checked:n.length===s.length&&s.length>0})}),e.jsxs("th",{children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Utilisateur"]}),e.jsxs("th",{className:"d-none d-md-table-cell",children:[e.jsx("i",{"data-feather":"layers",className:"me-2",style:{width:"16px",height:"16px"}}),"Classe"]}),e.jsxs("th",{className:"d-none d-md-table-cell",children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Contact"]}),e.jsxs("th",{className:"d-none d-lg-table-cell text-center",children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"16px",height:"16px"}}),"Rôle"]}),e.jsxs("th",{className:"d-none d-lg-table-cell text-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"16px",height:"16px"}}),"Statut"]}),e.jsxs("th",{className:"text-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"16px",height:"16px"}}),"Actions"]})]})}),e.jsx("tbody",{children:s.length?s.map(le=>e.jsxs("tr",{className:re==="dark"?"border-secondary":"",children:[e.jsx("td",{className:"text-center",children:e.jsx(b.Check,{type:"checkbox",value:le.id,checked:n.includes(le.id),onChange:we})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"bg-primary bg-opacity-10 rounded-circle p-2 me-3",children:le?.profil_url?e.jsx("img",{src:le.profil_url,alt:le.name||"Utilisateur",style:{width:"32px",height:"32px",borderRadius:"50%",objectFit:"cover",border:"2px solid rgba(255, 255, 255, 0.3)"},onError:Ae=>{Ae.target.style.display="none",Ae.target.nextElementSibling.style.display="flex"}}):e.jsx("i",{"data-feather":"user",className:"text-primary",style:{width:"16px",height:"16px"}})}),e.jsxs("div",{children:[e.jsx("div",{className:`fw-bold ${re==="dark"?"text-light":"text-dark"}`,children:le.name.length>10?le.name.substring(0,10)+"...":le.name}),e.jsx("small",{className:re==="dark"?"text-light":"text-muted",title:le.matricule||"Non spécifié",children:le.matricule?le.matricule.length>10?le.matricule.substring(0,10)+"...":le.matricule:"Non spécifié"})]})]})}),e.jsx("td",{className:"d-none d-md-table-cell",children:e.jsxs("div",{children:[e.jsxs("div",{className:`small ${re==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"layers",className:"me-1",style:{width:"12px",height:"12px"}}),le.classroom?.name?le.classroom?.name?.length>14?le.classroom?.name?.substring(0,14)+"...":le.classroom?.name:"Non spécifié"]}),e.jsxs(at,{className:"mt-2",children:[e.jsx(at.Toggle,{size:"sm",variant:"outline-primary",className:"py-1 px-2",children:e.jsx("i",{"data-feather":"shuffle",style:{width:"12px",height:"12px"}})}),e.jsxs(at.Menu,{children:[e.jsx("div",{className:"px-3 py-2 border-bottom",children:e.jsx("div",{className:"fw-semibold",children:"Select Classroom"})}),a&&a.length>0?a.map(Ae=>e.jsx(at.Item,{onClick:()=>He(le.id,Ae.matricule),className:le.matricule_classroom===Ae.matricule?"active":"",children:Ae.name},Ae.matricule)):e.jsx("h6",{className:"small px-3",children:"The list is empty"})]})]})]})}),e.jsx("td",{className:"d-none d-md-table-cell",children:e.jsxs("div",{children:[e.jsxs("div",{className:`small ${re==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"mail",className:"me-1",style:{width:"12px",height:"12px"}}),le.email.length>14?le.email.substring(0,14)+"...":le.email]}),e.jsxs("div",{className:`small ${re==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"phone",className:"me-1",style:{width:"12px",height:"12px"}}),le.code_phone," ",le.phone||"Non fourni"]})]})}),e.jsx("td",{className:"d-none d-lg-table-cell text-center",children:e.jsxs(oe,{bg:le.role===1?"success":"warning",className:"px-3 py-2 cursor-pointer",onClick:()=>ye(le.id),style:{cursor:"pointer"},title:"Cliquer pour changer le rôle",children:[e.jsx("i",{"data-feather":le.role===1?"check-circle":"pause-circle",className:"me-1",style:{width:"12px",height:"12px"}}),le.role===1?"Actif":"Attente"]})}),e.jsx("td",{className:"d-none d-lg-table-cell text-center",children:e.jsxs(oe,{bg:le.status==="Connecté"?"success":le.status==="Déconnecté"?"secondary":"warning",className:"px-3 py-2",children:[e.jsx("i",{"data-feather":le.status==="Connecté"?"check-circle":le.status==="Déconnecté"?"x-circle":"clock",className:"me-1",style:{width:"12px",height:"12px"}}),le.status||"Indéfini"]})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{className:"d-flex gap-1 justify-content-center",children:[e.jsx($,{size:"sm",variant:"outline-info",title:"Voir les détails",as:xe,to:`/formateur/show/etudiant/${le.id}`,children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-warning",title:"Modifier",as:xe,to:`/formateur/edit/etudiant/${le.id}`,children:e.jsx("i",{"data-feather":"edit",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-danger",title:"Supprimer",onClick:()=>Se(le.id),children:e.jsx("i",{"data-feather":"trash-2",style:{width:"14px",height:"14px"}})})]})})]},le.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center py-5",children:e.jsxs("div",{className:`${re==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"users",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucun Étudiant trouvé"}),e.jsx("p",{className:"small mb-0",children:"Aucun étudiant ne correspond à vos critères de recherche."})]})]})})})})]})})]})]}),e.jsxs(Y,{show:M,onHide:()=>L(!1),centered:!0,contentClassName:re==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:re==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Changer le Rôle des Étudiants"})}),e.jsxs(b,{onSubmit:st,children:[e.jsxs(Y.Body,{className:re==="dark"?"bg-dark text-light":"",children:[e.jsxs("p",{children:["Changer le rôle pour ",n.length," étudiant(s) sélectionné(s) :"]}),e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Nouveau Rôle"}),e.jsxs(b.Select,{value:ie,onChange:le=>fe(le.target.value),className:re==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"1",children:"Étudiant Actif"}),e.jsx("option",{value:"0",children:"Étudiant en Zone d'Attente"})]}),e.jsx(b.Text,{className:re==="dark"?"text-light":"text-muted",children:"Les étudiants actifs peuvent accéder à toutes les fonctionnalités, ceux en zone d'attente ont un accès limité."})]})]}),e.jsxs(Y.Footer,{className:re==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>L(!1),children:"Annuler"}),e.jsxs($,{type:"submit",variant:"warning",children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"16px",height:"16px"}}),"Appliquer les Changements"]})]})]})]}),e.jsxs(Y,{show:F,onHide:()=>Q(!1),centered:!0,contentClassName:re==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:re==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Assigner une Classe"})}),e.jsxs(b,{onSubmit:ke,children:[e.jsxs(Y.Body,{className:re==="dark"?"bg-dark text-light":"",children:[e.jsxs("p",{children:["Assigner une classe à ",n.length," étudiant(s) sélectionné(s) :"]}),e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Sélectionner une Classe"}),e.jsxs(b.Select,{value:J,onChange:le=>ge(le.target.value),className:re==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"",children:"-- Choisir une classe --"}),a.map(le=>e.jsxs("option",{value:le.matricule,children:[le.name," ",le.examen&&`(${le.examen})`]},le.matricule))]})]})]}),e.jsxs(Y.Footer,{className:re==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>Q(!1),children:"Annuler"}),e.jsxs($,{type:"submit",variant:"info",children:[e.jsx("i",{"data-feather":"layers",className:"me-2",style:{width:"16px",height:"16px"}}),"Assigner la Classe"]})]})]})]}),e.jsxs(Y,{show:v,onHide:()=>S(!1),centered:!0,size:"lg",contentClassName:re==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:re==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Ajouter un Étudiant"})}),e.jsxs(b,{onSubmit:me,children:[e.jsx(Y.Body,{className:re==="dark"?"bg-dark text-light":"",children:e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Nom Complet"}),e.jsx(b.Control,{type:"text",placeholder:"Entrez le nom complet",required:!0,value:O.name,onChange:le=>W({...O,name:le.target.value}),isInvalid:!!z.name,className:re==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:z.name})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Adresse Email"}),e.jsx(b.Control,{type:"email",placeholder:"Entrez l'adresse email",required:!0,value:O.email,onChange:le=>W({...O,email:le.target.value}),isInvalid:!!z.email,className:re==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:z.email})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"16px",height:"16px"}}),"Niveau d'étude *"]}),e.jsxs(b.Select,{name:"matricule_classroom",value:O.matricule_classroom,onChange:le=>W({...O,matricule_classroom:le.target.value}),isInvalid:!!z.matricule_classroom,className:re==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionnez..."}),a.map(le=>e.jsx("option",{value:le.matricule,children:le.name},le.matricule))]}),e.jsx(b.Control.Feedback,{type:"invalid",className:"d-block",children:z.matricule_classroom})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Mot de Passe"}),e.jsx(b.Control,{type:"password",placeholder:"Entrez le mot de passe",required:!0,onChange:le=>W({...O,password:le.target.value}),isInvalid:!!z.password,className:re==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:z.password})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Confirmer le Mot de Passe"}),e.jsx(b.Control,{type:"password",placeholder:"Confirmez le mot de passe",required:!0,onChange:le=>W({...O,password_confirmation:le.target.value}),isInvalid:!!z.password_confirmation,className:re==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:z.password_confirmation})]})})]})}),e.jsxs(Y.Footer,{className:re==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>S(!1),children:"Annuler"}),e.jsxs($,{type:"submit",variant:"success",children:[e.jsx("i",{"data-feather":"save",className:"me-2",style:{width:"16px",height:"16px"}}),"Enregistrer"]})]})]})]}),e.jsxs(Y,{show:C,onHide:()=>_(!1),centered:!0,contentClassName:re==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:re==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Inviter un Étudiant"})}),e.jsxs(b,{onSubmit:Xe,children:[e.jsx(Y.Body,{className:re==="dark"?"bg-dark text-light":"",children:e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Adresse Email"}),e.jsx(b.Control,{type:"email",placeholder:"Entrez l'email de l'invité",name:"email",required:!0,value:Z.email,onChange:le=>te({...Z,email:le.target.value}),isInvalid:!!z.email,className:re==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:z.email})]})}),e.jsxs(Y.Footer,{className:re==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>_(!1),children:"Fermer"}),e.jsxs($,{type:"submit",variant:"primary",children:[e.jsx("i",{"data-feather":"send",className:"me-2",style:{width:"16px",height:"16px"}}),"Envoyer"]})]})]})]}),e.jsxs(Y,{show:A,onHide:()=>D(!1),centered:!0,contentClassName:re==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:re==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Confirmation de Suppression"})}),e.jsxs(Y.Body,{className:re==="dark"?"bg-dark text-light":"",children:[e.jsxs("p",{children:["Êtes-vous sûr de vouloir supprimer ",I?"cet utilisateur":"ces utilisateurs"," ?"]}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),"Cette action est irréversible."]})]}),e.jsxs(Y.Footer,{className:re==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>D(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:ae,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:U,onClose:()=>V(!1),delay:3e3,autohide:!0,bg:G==="success"?"success":"danger",className:re==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${G==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":G==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:re==="dark"?"bg-dark text-light":"",children:P})]})})]})})}function fEe(){const{id:s}=is(),t=Ut(),[a,r]=x.useState(null),[n,i]=x.useState(!0),[l,c]=x.useState(null),[o,u]=x.useState("light"),[d,f]=x.useState(!1),[p,j]=x.useState(""),[y,k]=x.useState("success"),[v,S]=x.useState(!1);x.useEffect(()=>{const I=document.documentElement.getAttribute("data-theme")||"light";u(I);const H=new MutationObserver(()=>{const z=document.documentElement.getAttribute("data-theme")||"light";u(z)});return H.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>H.disconnect()},[]);const C=(I,H="success")=>{j(I),k(H),f(!0)};x.useEffect(()=>{s&&(async()=>{try{i(!0);const H=await he.get(`/formateur/show/etudiant/${s}`);r(H.data.user)}catch(H){c("Erreur lors du chargement de l'étudiant"),console.error("Erreur:",H)}finally{i(!1)}})()},[s]),x.useEffect(()=>{We.replace()},[a]);const _=async()=>{try{await he.patch(`/formateur/toggle-role/etudiant/${s}`);const I=await he.get(`/formateur/show/etudiant/${s}`);r(I.data.user),C("Rôle de l'étudiant mis à jour","success")}catch(I){console.error(I),C("Erreur lors de la mise à jour du rôle","danger")}},A=async()=>{try{await he.delete(`/formateur/destroy/etudiant/${s}`),C("Étudiant supprimé avec succès","success"),setTimeout(()=>{t("/formateur/view/etudiant")},1500)}catch(I){console.error(I),C(I.response?.data?.message||"Erreur lors de la suppression","danger")}S(!1)},D=I=>I?new Date(I).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Non renseigné",M=I=>({Masculin:"primary",Féminin:"info",Autre:"secondary"})[I]||"secondary",L=I=>I===1?"success":"warning",F=I=>I===1?"Étudiant Actif":"En Zone d'Attente",Q=I=>{switch(I){case"Connecté":return"success";case"Déconnecté":return"secondary";case"En attente":return"warning";default:return"secondary"}};return n?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des informations de l'étudiant..."})]})}):l||!a?e.jsxs(et,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),l||"Étudiant introuvable"]}),e.jsx("div",{className:"d-flex gap-2",children:e.jsxs($,{variant:"secondary",as:xe,to:"/formateur/view/etudiant",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]})})]}):e.jsxs(et,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:"/formateur/view/etudiant",className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsxs("div",{children:[e.jsx("h1",{className:`h3 mb-0 ${o==="dark"?"text-light":"text-dark"}`,children:a.name}),e.jsxs("div",{className:"d-flex align-items-center gap-2 mt-1",children:[e.jsx("small",{className:"text-muted",children:a.matricule}),e.jsxs(oe,{bg:L(a.role),className:"px-2 py-1",children:[e.jsx("i",{"data-feather":a.role===1?"check-circle":"pause-circle",className:"me-1",style:{width:"12px",height:"12px"}}),F(a.role)]})]})]})]})}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:a.role===1?"warning":"success",onClick:_,title:"Changer le rôle",children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"16px",height:"16px"}}),a.role===1?"Mettre en attente":"Activer"]}),e.jsxs($,{variant:"primary",as:xe,to:`/formateur/edit/etudiant/${s}`,children:[e.jsx("i",{"data-feather":"edit",className:"me-2",style:{width:"16px",height:"16px"}}),"Modifier"]}),e.jsxs($,{variant:"danger",onClick:()=>S(!0),children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsxs(pe,{children:[e.jsxs(T,{lg:8,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"20px",height:"20px"}}),"Profil de l'étudiant"]})}),e.jsxs(w.Body,{children:[e.jsxs(pe,{className:"align-items-center mb-4",children:[e.jsx(T,{md:3,className:"text-center",children:e.jsxs("div",{className:"position-relative d-inline-block",children:[a?.profil_url?e.jsx(Mt,{src:a.profil_url,alt:"Photo de profil",className:"rounded-circle",width:"120",height:"120",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-light d-flex align-items-center justify-content-center border",style:{width:"120px",height:"120px"},children:e.jsx("i",{"data-feather":"user",className:"text-muted",style:{width:"48px",height:"48px"}})}),e.jsx(oe,{bg:L(a.role),className:"position-absolute bottom-0 end-0 rounded-circle p-2",style:{transform:"translate(25%, 25%)"},children:e.jsx("i",{"data-feather":a.role===1?"check":"pause",style:{width:"12px",height:"12px"}})})]})}),e.jsxs(T,{md:9,children:[e.jsx("h4",{className:"mb-2",children:a?.name||"Nom non renseigné"}),e.jsxs("p",{className:"text-muted mb-2",children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),a?.email||"Email non renseigné"]}),a?.phone&&e.jsxs("p",{className:"text-muted mb-2",children:[e.jsx("i",{"data-feather":"phone",className:"me-2",style:{width:"16px",height:"16px"}}),a.code_phone&&`${a.code_phone} `,a.phone]}),e.jsxs("div",{className:"d-flex align-items-center flex-wrap gap-2",children:[e.jsx(oe,{bg:L(a.role),className:"me-2",children:F(a.role)}),a?.gender&&e.jsx(oe,{bg:M(a.gender),children:a.gender}),e.jsx(oe,{bg:Q(a.status||"En attente"),children:a.status||"En attente"})]})]})]}),e.jsx("hr",{className:"my-4"}),e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Nom complet :"}),e.jsx("span",{className:"fw-medium",children:a?.name||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Email :"}),e.jsx("span",{className:"fw-medium",children:a?.email||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Matricule :"}),e.jsx("span",{className:"fw-medium",children:e.jsx("code",{className:"px-2 py-1 bg-primary bg-opacity-10 rounded text-primary",children:a?.matricule||"Non renseigné"})})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Date de naissance :"}),e.jsx("span",{className:"fw-medium",children:D(a?.birthday)})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Genre :"}),e.jsx("span",{className:"fw-medium",children:a?.gender||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Téléphone :"}),e.jsxs("span",{className:"fw-medium",children:[a?.code_phone," ",a?.phone||"Non renseigné"]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Inscrit depuis :"}),e.jsx("span",{className:"fw-medium",children:D(a?.created_at)})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Dernière mise à jour :"}),e.jsx("span",{className:"fw-medium",children:D(a?.updated_at)})]})})]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations académiques"]})}),e.jsx(w.Body,{children:a.classroom?e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Classe :"}),e.jsx("span",{className:"fw-medium",children:a.classroom.name})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Matricule classe :"}),e.jsx("span",{className:"fw-medium",children:e.jsx("code",{className:"px-2 py-1 bg-info bg-opacity-10 rounded text-info",children:a.classroom.matricule})})]})}),a.classroom.description&&e.jsx(T,{md:12,className:"mb-3",children:e.jsxs("div",{children:[e.jsx("span",{className:"text-muted d-block mb-1",children:"Description de la classe :"}),e.jsx("span",{className:"fw-medium",children:a.classroom.description})]})})]}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"text-warning mb-2",style:{width:"32px",height:"32px"}}),e.jsx("p",{className:"text-muted mb-0",children:"Aucune classe assignée à cet étudiant"})]})})]})]}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"20px",height:"20px"}}),"Actions rapides"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:a.role===1?"warning":"success",onClick:_,children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"18px",height:"18px"}}),a.role===1?"Mettre en attente":"Activer l'étudiant"]}),e.jsxs($,{variant:"primary",as:xe,to:`/formateur/edit/etudiant/${s}`,children:[e.jsx("i",{"data-feather":"edit-2",className:"me-2",style:{width:"18px",height:"18px"}}),"Modifier le profil"]}),e.jsxs($,{variant:"outline-info",as:xe,to:"/formateur/view/etudiant",children:[e.jsx("i",{"data-feather":"list",className:"me-2",style:{width:"18px",height:"18px"}}),"Tous les étudiants"]}),e.jsxs($,{variant:"outline-primary",as:xe,to:"/formateur/dashboard",children:[e.jsx("i",{"data-feather":"grid",className:"me-2",style:{width:"18px",height:"18px"}}),"Retour au Dashboard"]})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"20px",height:"20px"}}),"Statut du compte"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("div",{className:`${a.role===1?"text-success":"text-warning"} mb-2`,children:e.jsx("i",{"data-feather":a.role===1?"check-circle":"pause-circle",style:{width:"32px",height:"32px"}})}),e.jsx("h6",{className:"mb-0",children:"État du compte"}),e.jsx("h4",{className:`${a.role===1?"text-success":"text-warning"} mb-0`,children:F(a.role)}),e.jsx("small",{className:"text-muted",children:a.role===1?"Accès complet aux fonctionnalités":"Accès limité - En attente d'activation"})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Profil complété :"}),e.jsx("span",{className:"fw-bold text-success",children:a?.profil_url&&a?.birthday&&a?.phone&&a?.gender?"100%":a?.name&&a?.email&&a?.gender?"85%":a?.name&&a?.email?"70%":"50%"})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Dernière connexion :"}),e.jsx("span",{children:D(a?.updated_at)})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Type de compte :"}),e.jsx(oe,{bg:"info",children:"Étudiant"})]})]})]})]}),a.classroom&&e.jsxs(w,{className:`border-0 shadow-sm ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"home",className:"me-2 text-info",style:{width:"20px",height:"20px"}}),"Classe assignée"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("i",{"data-feather":"book",className:"text-info me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:a.classroom.name}),e.jsx("div",{className:"text-muted",children:a.classroom.matricule})]})]}),a.classroom.description&&e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("i",{"data-feather":"info",className:"text-info me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:"Description"}),e.jsx("div",{className:"text-muted",children:a.classroom.description})]})]})]})})]})]})]}),e.jsxs(Y,{show:v,onHide:()=>S(!1),centered:!0,contentClassName:o==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:o==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Confirmation de Suppression"})}),e.jsxs(Y.Body,{className:o==="dark"?"bg-dark text-light":"",children:[e.jsx("p",{children:"Êtes-vous sûr de vouloir supprimer cet étudiant ?"}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),`Cette action est irréversible. L'étudiant "`,a.name,'" sera définitivement supprimé du système.']})]}),e.jsxs(Y.Footer,{className:o==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>S(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:A,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer définitivement"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:d,onClose:()=>f(!1),delay:3e3,autohide:!0,bg:y==="success"?"success":"danger",className:o==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${y==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":y==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:o==="dark"?"bg-dark text-light":"",children:p})]})})]})}function pEe(){const{id:s}=is(),t=Ut(),[a,r]=x.useState(null),[n,i]=x.useState([]),[l,c]=x.useState(!0),[o,u]=x.useState(!1),[d,f]=x.useState(null),[p,j]=x.useState({}),[y,k]=x.useState("light"),[v,S]=x.useState(!1),[C,_]=x.useState(!1),[A,D]=x.useState(""),[M,L]=x.useState("success"),[F,Q]=x.useState({name:"",email:"",birthday:"",gender:"",code_phone:"",phone:"",matricule_classroom:"",profil:null}),[I,H]=x.useState({password:"",password_confirmation:""}),[z,K]=x.useState(null);x.useEffect(()=>{const O=document.documentElement.getAttribute("data-theme")||"light";k(O);const W=new MutationObserver(()=>{const Z=document.documentElement.getAttribute("data-theme")||"light";k(Z)});return W.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>W.disconnect()},[]);const U=(O,W="success")=>{D(O),L(W),_(!0)};x.useEffect(()=>{s&&(async()=>{try{c(!0);const[W,Z]=await Promise.all([he.get(`/formateur/edit/etudiant/${s}`),he.get("/formateur/view/etudiant")]),te=W.data.user;r(te),i(Z.data.classrooms||[]),Q({name:te.name||"",email:te.email||"",birthday:te.birthday||"",gender:te.gender||"",code_phone:te.code_phone||"",phone:te.phone||"",matricule_classroom:te.matricule_classroom||"",profil:null}),te.profil_url&&K(te.profil_url)}catch(W){f("Erreur lors du chargement des données"),console.error("Erreur:",W)}finally{c(!1)}})()},[s]),x.useEffect(()=>{We.replace()},[a]);const V=O=>{const{name:W,value:Z}=O.target;Q(te=>({...te,[W]:Z})),p[W]&&j(te=>({...te,[W]:null}))},P=O=>{const{name:W,value:Z}=O.target;H(te=>({...te,[W]:Z}))},q=O=>{const W=O.target.files[0];if(W){if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(W.type)){j(fe=>({...fe,profil:"Format de fichier non supporté. Utilisez JPG, PNG ou WEBP."}));return}if(W.size>2097152){j(fe=>({...fe,profil:"La taille du fichier ne doit pas dépasser 2MB."}));return}Q(fe=>({...fe,profil:W}));const ie=new FileReader;ie.onload=fe=>{K(fe.target.result)},ie.readAsDataURL(W),p.profil&&j(fe=>({...fe,profil:null}))}},G=async O=>{O.preventDefault();try{u(!0),f(null),j({});const W=new FormData;Object.keys(F).forEach(te=>{te==="profil"?F.profil instanceof File&&W.append("profil",F.profil):F[te]!==null&&F[te]!==""&&W.append(te,F[te])}),W.append("_method","PUT"),(await he.post(`/formateur/update/etudiant/${s}`,W,{headers:{"Content-Type":"multipart/form-data"}})).data.status==="success"&&(U("Étudiant mis à jour avec succès !","success"),setTimeout(()=>{t(`/formateur/show/etudiant/${s}`)},2e3))}catch(W){W.response?.data?.errors?(j(W.response.data.errors),U("Erreur de validation","danger")):(f(W.response?.data?.message||"Erreur lors de la mise à jour"),U("Erreur lors de la mise à jour","danger"))}finally{u(!1)}},se=async O=>{if(O.preventDefault(),!I.password||!I.password_confirmation){U("Veuillez remplir tous les champs du mot de passe","danger");return}if(I.password!==I.password_confirmation){U("Les mots de passe ne correspondent pas","danger");return}try{u(!0),f(null),(await he.put(`/formateur/update/etudiant/${s}`,I)).data.status==="success"&&(U("Mot de passe mis à jour avec succès !","success"),S(!1),H({password:"",password_confirmation:""}))}catch(W){W.response?.data?.errors?j(W.response.data.errors):U(W.response?.data?.message||"Erreur lors de la mise à jour du mot de passe","danger")}finally{u(!1)}};return l?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des données..."})]})}):d&&!a?e.jsxs(et,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),d]}),e.jsx("div",{className:"d-flex gap-2",children:e.jsxs($,{variant:"secondary",as:xe,to:"/formateur/view/etudiant",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]})})]}):e.jsxs(et,{children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:`/formateur/show/etudiant/${s}`,className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsx("h1",{className:"h3 mb-0",children:"Modifier l'étudiant"})]}),e.jsx("p",{className:"text-muted mb-0",children:"Modification des informations de l'étudiant"})]})}),d&&e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),d]}),e.jsx(b,{onSubmit:G,children:e.jsxs(pe,{children:[e.jsx(T,{lg:8,className:"mb-4",children:e.jsxs(w,{className:`border-0 shadow-sm ${y==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations personnelles"]})}),e.jsxs(w.Body,{children:[e.jsx(pe,{className:"mb-4",children:e.jsxs(T,{md:3,className:"text-center",children:[e.jsxs("div",{className:"position-relative d-inline-block mb-3",children:[z?e.jsx(Mt,{src:z,alt:"Photo de profil",className:"rounded-circle",width:"120",height:"120",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-light d-flex align-items-center justify-content-center border",style:{width:"120px",height:"120px"},children:e.jsx("i",{"data-feather":"user",className:"text-muted",style:{width:"48px",height:"48px"}})}),e.jsx($,{variant:"primary",size:"sm",className:"position-absolute bottom-0 end-0 rounded-circle p-2",style:{transform:"translate(25%, 25%)"},onClick:()=>document.getElementById("profileImage").click(),children:e.jsx("i",{"data-feather":"camera",style:{width:"12px",height:"12px"}})})]}),e.jsx("input",{type:"file",id:"profileImage",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:q,style:{display:"none"}}),e.jsx("p",{className:"small text-muted mb-0",children:"JPG, PNG, WEBP - Max 2MB"}),p.profil&&e.jsx("div",{className:"text-danger small mt-1",children:p.profil})]})}),e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Nom complet *"]}),e.jsx(b.Control,{type:"text",name:"name",value:F.name,onChange:V,placeholder:"Nom complet de l'étudiant",isInvalid:!!p.name,className:y==="dark"?"bg-dark text-light border-secondary":"",required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.name?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Email *"]}),e.jsx(b.Control,{type:"email",name:"email",value:F.email,onChange:V,placeholder:"nom@email.com",isInvalid:!!p.email,className:y==="dark"?"bg-dark text-light border-secondary":"",required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.email?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"calendar",className:"me-2",style:{width:"16px",height:"16px"}}),"Date de naissance"]}),e.jsx(b.Control,{type:"date",name:"birthday",value:F.birthday,onChange:V,isInvalid:!!p.birthday,className:y==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.birthday?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"16px",height:"16px"}}),"Genre"]}),e.jsxs(b.Select,{name:"gender",value:F.gender,onChange:V,isInvalid:!!p.gender,className:y==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Sélectionner..."}),e.jsx("option",{value:"Masculin",children:"Masculin"}),e.jsx("option",{value:"Féminin",children:"Féminin"}),e.jsx("option",{value:"Autre",children:"Autre"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.gender?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"flag",className:"me-2",style:{width:"16px",height:"16px"}}),"Indicatif pays"]}),e.jsxs(b.Select,{name:"code_phone",value:F.code_phone,onChange:V,isInvalid:!!p.code_phone,className:y==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Sélectionner..."}),e.jsx("option",{value:"+237",children:"+237 (Cameroun)"}),e.jsx("option",{value:"+33",children:"+33 (France)"}),e.jsx("option",{value:"+235",children:"+235 (Tchad)"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.code_phone?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"phone",className:"me-2",style:{width:"16px",height:"16px"}}),"Numéro de téléphone"]}),e.jsx(b.Control,{type:"tel",name:"phone",value:F.phone,onChange:V,placeholder:"690123456",isInvalid:!!p.phone,className:y==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.phone?.[0]}),e.jsx(b.Text,{className:"text-muted",children:"Numéro de contact de l'étudiant"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"16px",height:"16px"}}),"Classe *"]}),e.jsxs(b.Select,{name:"matricule_classroom",value:F.matricule_classroom,onChange:V,isInvalid:!!p.matricule_classroom,className:y==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionner une classe"}),n.map(O=>e.jsx("option",{value:O.matricule,children:O.name},O.matricule))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.matricule_classroom?.[0]})]})})]}),e.jsx("hr",{className:"my-4"}),e.jsx(pe,{children:e.jsx(T,{md:12,children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs($,{variant:"outline-warning",onClick:()=>S(!0),className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"lock",className:"me-2",style:{width:"16px",height:"16px"}}),"Changer le mot de passe"]}),e.jsxs("div",{children:[e.jsx($,{variant:"outline-secondary",as:xe,to:`/formateur/show/etudiant/${s}`,className:"me-2",disabled:o,children:"Annuler"}),e.jsx($,{variant:"primary",type:"submit",disabled:o,className:"d-flex align-items-center",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner-border spinner-border-sm me-2",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),"Mise à jour..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ss,{icon:"save",size:16,className:"me-2"}),"Enregistrer les Modifications"]})})]})]})})})]})]})}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${y==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${y==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"help-circle",className:"me-2 text-info",style:{width:"20px",height:"20px"}}),"Conseils"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"user-check",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Utilisez le nom complet tel qu'il apparaît sur les documents officiels"})]}),e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"mail",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"L'email sera utilisé pour les notifications et communications importantes"})]}),e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"book",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"La classe détermine les matières et cours accessibles à l'étudiant"})]}),e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{"data-feather":"phone",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Le numéro sera utilisé pour les urgences et confirmations"})]})]})})]}),a&&e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${y==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${y==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"info",className:"me-2 text-success",style:{width:"20px",height:"20px"}}),"Informations actuelles"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Matricule"}),e.jsx("code",{className:"px-2 py-1 bg-primary bg-opacity-10 rounded text-primary small",children:a.matricule})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Statut"}),e.jsx("span",{className:`badge ${a.role===1?"bg-success":"bg-warning"}`,children:a.role===1?"Actif":"En attente"})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Inscrit le"}),e.jsx("span",{className:"small",children:new Date(a.created_at).toLocaleDateString("fr-FR")})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsx("span",{className:"small",children:"Dernière modification"}),e.jsx("span",{className:"small",children:new Date(a.updated_at).toLocaleDateString("fr-FR")})]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${y==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${y==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2 text-warning",style:{width:"20px",height:"20px"}}),"Actions supplémentaires"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"outline-info",as:xe,to:`/formateur/show/etudiant/${s}`,children:[e.jsx("i",{"data-feather":"eye",className:"me-2",style:{width:"16px",height:"16px"}}),"Voir le profil"]}),e.jsxs($,{variant:"outline-primary",as:xe,to:"/formateur/view/etudiant",children:[e.jsx("i",{"data-feather":"users",className:"me-2",style:{width:"16px",height:"16px"}}),"Tous les étudiants"]})]})})]})]})]})}),e.jsxs(Y,{show:v,onHide:()=>S(!1),centered:!0,contentClassName:y==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{closeButton:!0,className:y==="dark"?"bg-dark text-light border-secondary":"",children:e.jsxs(Y.Title,{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"lock",className:"me-2",style:{width:"20px",height:"20px"}}),"Changer le mot de passe"]})}),e.jsxs(b,{onSubmit:se,children:[e.jsxs(Y.Body,{className:y==="dark"?"bg-dark text-light":"",children:[e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Nouveau mot de passe"}),e.jsx(b.Control,{type:"password",name:"password",value:I.password,onChange:P,placeholder:"Entrez le nouveau mot de passe",isInvalid:!!p.password,className:y==="dark"?"bg-dark text-light border-secondary":"",required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.password?.[0]}),e.jsx(b.Text,{className:"text-muted",children:"Minimum 8 caractères avec majuscules, minuscules et chiffres"})]}),e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Confirmer le mot de passe"}),e.jsx(b.Control,{type:"password",name:"password_confirmation",value:I.password_confirmation,onChange:P,placeholder:"Confirmez le nouveau mot de passe",className:y==="dark"?"bg-dark text-light border-secondary":"",required:!0})]})]}),e.jsxs(Y.Footer,{className:y==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>S(!1),disabled:o,children:"Annuler"}),e.jsx($,{variant:"primary",type:"submit",disabled:o,children:o?e.jsxs(e.Fragment,{children:[e.jsx(tt,{animation:"border",size:"sm",className:"me-2"}),"Mise à jour..."]}):"Mettre à jour"})]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:C,onClose:()=>_(!1),delay:3e3,autohide:!0,bg:M==="success"?"success":"danger",className:y==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${M==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":M==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:y==="dark"?"bg-dark text-light":"",children:A})]})})]})}function gEe(){const[s,t]=x.useState([]),[a,r]=x.useState([]),[n,i]=x.useState([]),[l,c]=x.useState(""),[o,u]=x.useState(""),[d,f]=x.useState(""),[p,j]=x.useState(""),[y,k]=x.useState(""),[v,S]=x.useState(!1),[C,_]=x.useState(!1),[A,D]=x.useState(!1),[M,L]=x.useState(!1),[F,Q]=x.useState(!1),[I,H]=x.useState(null),[z,K]=x.useState({}),[U,V]=x.useState(!1),[P,q]=x.useState(""),[G,se]=x.useState("success"),[O,W]=x.useState({name:"",email:"",matricule_classroom:"",password:"",password_confirmation:""}),[Z,te]=x.useState({email:"",matricule_classroom:"",role:"0"}),[ie,fe]=x.useState("1"),[J,ge]=x.useState(""),[re,ve]=x.useState("light");x.useEffect(()=>{const le=document.documentElement.getAttribute("data-theme")||"light";ve(le);const Ae=new MutationObserver(()=>{const Le=document.documentElement.getAttribute("data-theme")||"light";ve(Le)});return Ae.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>Ae.disconnect()},[]);const Oe=(le,Ae="success")=>{q(le),se(Ae),V(!0)},ee=x.useCallback(async()=>{try{const le={};l.trim()&&(le.search=l.trim()),o&&(le.created_at=o),d&&(le.status=d),p&&(le.gender=p),y&&(le.matricule_classroom=y);const Ae=await he.get("/formateur/view/etudiant-espace-attente",{params:le});t(Ae.data.users||[]),r(Ae.data.classrooms||[])}catch(le){console.error("Erreur lors de la récupération des utilisateurs",le)}},[l,o,d,p,y]);x.useEffect(()=>{We.replace(),ee()},[ee]),x.useEffect(()=>{We.replace()},[s,n]);const me=async le=>{le.preventDefault(),K({});try{await he.post("/formateur/store/etudiant-espace-attente",O),ee(),S(!1),W({name:"",email:"",matricule_classroom:"",password:"",password_confirmation:""}),Oe("Utilisateur ajouté avec succès","success")}catch(Ae){Ae.response?.status===422?(K(Ae.response.data.errors||{}),Oe("Erreur de validation","danger")):(console.error(Ae),Oe("Une erreur inattendue s'est produite","danger"))}},Xe=async le=>{le.preventDefault(),K({});try{const Ae=await he.post("/formateur/invitation/users",Z);Oe(Ae.data.message||"Invitation envoyée avec succès","success"),_(!1),te({email:"",matricule_classroom:"",role:"1"})}catch(Ae){Ae.response?.status===422?(K(Ae.response.data.errors||{}),Oe("Erreur lors de l'envoi de l'invitation","danger")):(console.error("Erreur d'invitation",Ae),Oe("Une erreur inattendue s'est produite lors de l'invitation","danger"))}},Se=(le=null)=>{H(le),D(!0)},ae=async()=>{try{const le=I?[I]:n;I?await he.delete(`/formateur/destroy/etudiant-espace-attente/${I}`):await he.post("/formateur/destroy-group/etudiant-espace-attente",{ids:le}),ee(),D(!1),i([]),H(null),Oe("Utilisateur(s) supprimé(s) avec succès","success")}catch(le){console.error(le),Oe("Erreur lors de la suppression","danger")}},ye=async le=>{try{const Ae=await he.patch(`/formateur/toggle-role/etudiant-espace-attente/${le}`);ee(),Oe(Ae.data.message,"success")}catch(Ae){console.error(Ae),Oe("Erreur lors du changement de rôle","danger")}},st=async le=>{le.preventDefault();try{const Ae=await he.post("/formateur/toggle-role-group/etudiant-espace-attente",{ids:n,new_role:parseInt(ie)});ee(),L(!1),i([]),Oe(Ae.data.message,"success")}catch(Ae){console.error(Ae),Oe("Erreur lors du changement de rôle en lot","danger")}},He=async(le,Ae)=>{try{const Le=await he.patch(`/formateur/assign-classroom/etudiant-espace-attente/${le}`,{matricule_classroom:Ae});ee(),Oe(Le.data.message,"success")}catch(Le){console.error(Le),Oe("Erreur lors de l'assignation de classe","danger")}},ke=async le=>{le.preventDefault();try{const Ae=await he.post("/formateur/assign-classroom-group/etudiant-espace-attente",{ids:n,matricule_classroom:J});ee(),Q(!1),i([]),Oe(Ae.data.message,"success")}catch(Ae){console.error(Ae),Oe("Erreur lors de l'assignation de classe en lot","danger")}},we=le=>{const{value:Ae,checked:Le}=le.target,rt=parseInt(Ae);i(Le?ot=>[...ot,rt]:ot=>ot.filter(hs=>hs!==rt))},Ke=le=>{le.target.checked?i(s.map(Ae=>Ae.id)):i([])},Ee=async le=>{le.preventDefault();try{const Ae=new URLSearchParams;l.trim()&&Ae.append("search",l.trim()),o&&Ae.append("created_at",o),d&&Ae.append("status",d),p&&Ae.append("gender",p),y&&Ae.append("matricule_classroom",y);const Le=await he.get(`/formateur/download/liste/etudiant-espace-attente/pdf?${Ae.toString()}`,{responseType:"blob"}),rt=`rapport_utilisateurs_(etudiants-espace-attente)_${new Date().toISOString().slice(0,10)}.pdf`;Ea(Le.data,rt),Oe("Le rapport PDF est en cours de téléchargement","success")}catch(Ae){console.error("Erreur de téléchargement PDF:",Ae),Oe("Échec du téléchargement PDF","danger")}},je=async le=>{le.preventDefault();try{const Ae=new URLSearchParams;l.trim()&&Ae.append("search",l.trim()),o&&Ae.append("created_at",o),d&&Ae.append("status",d),p&&Ae.append("gender",p),y&&Ae.append("matricule_classroom",y);const Le=await he.get(`/formateur/download/liste/etudiant-espace-attente/excel?${Ae.toString()}`,{responseType:"blob"}),rt=`rapport_utilisateurs_(etudiants-espace-attente)_${new Date().toISOString().slice(0,10)}.xlsx`;Ea(Le.data,rt),Oe("Le fichier Excel est en cours de téléchargement","success")}catch(Ae){console.error("Erreur de téléchargement Excel:",Ae),Oe("Échec du téléchargement Excel","danger")}},Ve=s.filter(le=>le.status==="Connecté"),Nt=s.filter(le=>le.status==="En attente"),nt=s.filter(le=>le.status==="Déconnecté"),It=s.filter(le=>le.role===1),ps=s.filter(le=>le.role===0);return e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${re==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"users",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${re==="dark"?"text-light":"text-dark"}`,children:"Gestion des Étudiants En Espace d'Attente"}),e.jsx("p",{className:`mb-0 ${re==="dark"?"text-light":"text-muted"}`,children:"Institut de Formation - Administration centrale du système"})]})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:2,children:e.jsx(w,{className:`border-0 shadow-sm ${re==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${re==="dark"?"text-light":"text-dark"}`,children:s.length}),e.jsx("small",{className:re==="dark"?"text-light":"text-muted",children:"Total"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"users",style:{width:"20px",height:"20px"}})})]})})})}),e.jsx(T,{md:2,children:e.jsx(w,{className:`border-0 shadow-sm ${re==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:It.length}),e.jsx("small",{className:re==="dark"?"text-light":"text-muted",children:"Actifs"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"check-circle",style:{width:"20px",height:"20px"}})})]})})})}),e.jsx(T,{md:2,children:e.jsx(w,{className:`border-0 shadow-sm ${re==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-warning",children:ps.length}),e.jsx("small",{className:re==="dark"?"text-light":"text-muted",children:"Attente"})]}),e.jsx("div",{className:"text-warning",children:e.jsx("i",{"data-feather":"pause-circle",style:{width:"20px",height:"20px"}})})]})})})}),e.jsx(T,{md:2,children:e.jsx(w,{className:`border-0 shadow-sm ${re==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:Ve.length}),e.jsx("small",{className:re==="dark"?"text-light":"text-muted",children:"En Ligne"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"activity",style:{width:"20px",height:"20px"}})})]})})})}),e.jsx(T,{md:2,children:e.jsx(w,{className:`border-0 shadow-sm ${re==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-info",children:Nt.length}),e.jsx("small",{className:re==="dark"?"text-light":"text-muted",children:"Pending"})]}),e.jsx("div",{className:"text-info",children:e.jsx("i",{"data-feather":"clock",style:{width:"20px",height:"20px"}})})]})})})}),e.jsx(T,{md:2,children:e.jsx(w,{className:`border-0 shadow-sm ${re==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-danger",children:nt.length}),e.jsx("small",{className:re==="dark"?"text-light":"text-muted",children:"Hors Ligne"})]}),e.jsx("div",{className:"text-danger",children:e.jsx("i",{"data-feather":"x-circle",style:{width:"20px",height:"20px"}})})]})})})})]})]}),e.jsxs(w,{className:`shadow-sm border-0 ${re==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${re==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"users",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${re==="dark"?"text-light":"text-dark"}`,children:"Étudiants"})]}),e.jsxs("div",{className:"d-flex gap-2 mt-2 mt-md-0",children:[e.jsxs(at,{children:[e.jsxs(at.Toggle,{variant:"outline-primary",className:"d-flex align-items-center",id:"dropdown-export",children:[e.jsx("i",{"data-feather":"download",className:"me-2",style:{width:"16px",height:"16px"}}),"Exporter les Données"]}),e.jsx(at.Menu,{className:"shadow-lg border-0",style:{minWidth:"350px"},children:e.jsxs("div",{className:"p-3",children:[e.jsxs("h6",{className:"text-primary mb-3",children:[e.jsx("i",{"data-feather":"file-text",className:"me-2",style:{width:"16px",height:"16px"}}),"Rapport PDF"]}),e.jsxs(b,{onSubmit:Ee,className:"mb-4",children:[e.jsx(b.Control,{type:"text",placeholder:"Rechercher par nom, email, téléphone...",value:l,onChange:le=>c(le.target.value),className:`mb-2 ${re==="dark"?"bg-dark text-light border-secondary":""}`}),e.jsx(b.Control,{type:"date",value:o,onChange:le=>u(le.target.value),className:`mb-2 ${re==="dark"?"bg-dark text-light border-secondary":""}`}),e.jsxs(b.Select,{value:d,onChange:le=>f(le.target.value),className:`mb-2 ${re==="dark"?"bg-dark text-light border-secondary":""}`,children:[e.jsx("option",{value:"",children:"Tous les Statuts"}),e.jsx("option",{value:"Connecté",children:"En Ligne"}),e.jsx("option",{value:"Déconnecté",children:"Hors Ligne"}),e.jsx("option",{value:"En attente",children:"En Attente"})]}),e.jsxs(b.Select,{value:p,onChange:le=>j(le.target.value),className:`mb-3 ${re==="dark"?"bg-dark text-light border-secondary":""}`,children:[e.jsx("option",{value:"",children:"Tous les Genres"}),e.jsx("option",{value:"Masculin",children:"Masculin"}),e.jsx("option",{value:"Féminin",children:"Féminin"}),e.jsx("option",{value:"Autre",children:"Autre"})]}),e.jsxs(b.Select,{value:y,onChange:le=>k(le.target.value),className:`mb-3 ${re==="dark"?"bg-dark text-light border-secondary":""}`,children:[e.jsx("option",{value:"",children:"Toutes les classes"}),a.map(le=>e.jsx("option",{value:le.matricule,children:le.name},le.matricule))]}),e.jsxs($,{type:"submit",variant:"primary",className:"w-100",children:[e.jsx("i",{"data-feather":"file-text",className:"me-2",style:{width:"16px",height:"16px"}}),"Télécharger PDF"]})]}),e.jsx("hr",{}),e.jsxs("h6",{className:"text-success mb-3",children:[e.jsx("i",{"data-feather":"file",className:"me-2",style:{width:"16px",height:"16px"}}),"Fichier Excel"]}),e.jsx(b,{onSubmit:je,children:e.jsxs($,{type:"submit",variant:"success",className:"w-100",children:[e.jsx("i",{"data-feather":"file",className:"me-2",style:{width:"16px",height:"16px"}}),"Télécharger Excel"]})})]})})]}),e.jsxs($,{variant:"info",className:"d-flex align-items-center",onClick:()=>_(!0),children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Inviter"]}),e.jsxs($,{variant:"success",className:"d-flex align-items-center",onClick:()=>S(!0),children:[e.jsx("i",{"data-feather":"user-plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Nouvel Utilisateur"]})]})]})}),e.jsxs(w.Body,{className:re==="dark"?"bg-dark":"bg-white",children:[e.jsx("div",{className:"mb-4 p-3 rounded",style:{backgroundColor:re==="dark"?"#1a1a1a":"#f8f9fa"},children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-3",children:[e.jsxs(b.Label,{className:`small fw-bold ${re==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"search",className:"me-1",style:{width:"14px",height:"14px"}}),"Recherche Globale"]}),e.jsx(b.Control,{type:"text",placeholder:"Nom, email, téléphone...",value:l,onChange:le=>c(le.target.value),onKeyDown:le=>le.key==="Enter"&&ee(),className:re==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsxs(b.Label,{className:`small fw-bold ${re==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"layers",className:"me-1",style:{width:"14px",height:"14px"}}),"Niveau d'étude"]}),e.jsxs(b.Select,{value:y,onChange:le=>k(le.target.value),className:`mb-3 ${re==="dark"?"bg-dark text-light border-secondary":""}`,children:[e.jsx("option",{value:"",children:"Toutes les classes"}),a.map(le=>e.jsx("option",{value:le.matricule,children:le.name},le.matricule))]})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${re==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"14px",height:"14px"}}),"Date"]}),e.jsx(b.Control,{type:"date",value:o,onChange:le=>u(le.target.value),className:re==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${re==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"activity",className:"me-1",style:{width:"14px",height:"14px"}}),"Statut"]}),e.jsxs(b.Select,{value:d,onChange:le=>f(le.target.value),className:re==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous"}),e.jsx("option",{value:"Connecté",children:"En Ligne"}),e.jsx("option",{value:"Déconnecté",children:"Hors Ligne"}),e.jsx("option",{value:"En attente",children:"En Attente"})]})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${re==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"user",className:"me-1",style:{width:"14px",height:"14px"}}),"Genre"]}),e.jsxs(b.Select,{value:p,onChange:le=>j(le.target.value),className:re==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous"}),e.jsx("option",{value:"Masculin",children:"Masculin"}),e.jsx("option",{value:"Féminin",children:"Féminin"}),e.jsx("option",{value:"Autre",children:"Autre"})]})]})]})}),e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center m-3",children:[n.length>0&&e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"shuffle",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${re==="dark"?"text-light":"text-dark"}`,children:"Executer une action"})]}),e.jsx("div",{className:"d-flex gap-2 mt-2 mt-md-0",children:n.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs($,{variant:"warning",className:"d-flex align-items-center",onClick:()=>L(!0),children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"16px",height:"16px"}}),"Changer Rôle (",n.length,")"]}),e.jsxs($,{variant:"info",className:"d-flex align-items-center",onClick:()=>Q(!0),children:[e.jsx("i",{"data-feather":"layers",className:"me-2",style:{width:"16px",height:"16px"}}),"Assigner Classe (",n.length,")"]}),e.jsxs($,{variant:"danger",className:"d-flex align-items-center",onClick:()=>Se(),children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer (",n.length,")"]})]})})]}),e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`align-middle ${re==="dark"?"table-dark":""}`,style:{borderRadius:"8px",overflow:"hidden"},children:[e.jsx("thead",{className:"table-primary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center",style:{width:"50px"},children:e.jsx(b.Check,{type:"checkbox",onChange:Ke,checked:n.length===s.length&&s.length>0})}),e.jsxs("th",{children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Utilisateur"]}),e.jsxs("th",{className:"d-none d-md-table-cell",children:[e.jsx("i",{"data-feather":"layers",className:"me-2",style:{width:"16px",height:"16px"}}),"Classe"]}),e.jsxs("th",{className:"d-none d-md-table-cell",children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Contact"]}),e.jsxs("th",{className:"d-none d-lg-table-cell text-center",children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"16px",height:"16px"}}),"Rôle"]}),e.jsxs("th",{className:"d-none d-lg-table-cell text-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"16px",height:"16px"}}),"Statut"]}),e.jsxs("th",{className:"text-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"16px",height:"16px"}}),"Actions"]})]})}),e.jsx("tbody",{children:s.length?s.map(le=>e.jsxs("tr",{className:re==="dark"?"border-secondary":"",children:[e.jsx("td",{className:"text-center",children:e.jsx(b.Check,{type:"checkbox",value:le.id,checked:n.includes(le.id),onChange:we})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"bg-primary bg-opacity-10 rounded-circle p-2 me-3",children:le?.profil_url?e.jsx("img",{src:le.profil_url,alt:le.name||"Utilisateur",style:{width:"32px",height:"32px",borderRadius:"50%",objectFit:"cover",border:"2px solid rgba(255, 255, 255, 0.3)"},onError:Ae=>{Ae.target.style.display="none",Ae.target.nextElementSibling.style.display="flex"}}):e.jsx("i",{"data-feather":"user",className:"text-primary",style:{width:"16px",height:"16px"}})}),e.jsxs("div",{children:[e.jsx("div",{className:`fw-bold ${re==="dark"?"text-light":"text-dark"}`,children:le.name.length>10?le.name.substring(0,10)+"...":le.name}),e.jsx("small",{className:re==="dark"?"text-light":"text-muted",title:le.matricule||"Non spécifié",children:le.matricule?le.matricule.length>10?le.matricule.substring(0,10)+"...":le.matricule:"Non spécifié"})]})]})}),e.jsx("td",{className:"d-none d-md-table-cell",children:e.jsxs("div",{children:[e.jsxs("div",{className:`small ${re==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"layers",className:"me-1",style:{width:"12px",height:"12px"}}),le.classroom?.name?le.classroom?.name?.length>14?le.classroom?.name?.substring(0,14)+"...":le.classroom?.name:"Non spécifié"]}),e.jsxs(at,{className:"mt-2",children:[e.jsx(at.Toggle,{size:"sm",variant:"outline-primary",className:"py-1 px-2",children:e.jsx("i",{"data-feather":"shuffle",style:{width:"12px",height:"12px"}})}),e.jsxs(at.Menu,{children:[e.jsx("div",{className:"px-3 py-2 border-bottom",children:e.jsx("div",{className:"fw-semibold",children:"Select Classroom"})}),a&&a.length>0?a.map(Ae=>e.jsx(at.Item,{onClick:()=>He(le.id,Ae.matricule),className:le.matricule_classroom===Ae.matricule?"active":"",children:Ae.name},Ae.matricule)):e.jsx("h6",{className:"small px-3",children:"The list is empty"})]})]})]})}),e.jsx("td",{className:"d-none d-md-table-cell",children:e.jsxs("div",{children:[e.jsxs("div",{className:`small ${re==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"mail",className:"me-1",style:{width:"12px",height:"12px"}}),le.email.length>14?le.email.substring(0,14)+"...":le.email]}),e.jsxs("div",{className:`small ${re==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"phone",className:"me-1",style:{width:"12px",height:"12px"}}),le.code_phone," ",le.phone||"Non fourni"]})]})}),e.jsx("td",{className:"d-none d-lg-table-cell text-center",children:e.jsxs(oe,{bg:le.role===1?"success":"warning",className:"px-3 py-2 cursor-pointer",onClick:()=>ye(le.id),style:{cursor:"pointer"},title:"Cliquer pour changer le rôle",children:[e.jsx("i",{"data-feather":le.role===1?"check-circle":"pause-circle",className:"me-1",style:{width:"12px",height:"12px"}}),le.role===1?"Actif":"Attente"]})}),e.jsx("td",{className:"d-none d-lg-table-cell text-center",children:e.jsxs(oe,{bg:le.status==="Connecté"?"success":le.status==="Déconnecté"?"secondary":"warning",className:"px-3 py-2",children:[e.jsx("i",{"data-feather":le.status==="Connecté"?"check-circle":le.status==="Déconnecté"?"x-circle":"clock",className:"me-1",style:{width:"12px",height:"12px"}}),le.status||"Indéfini"]})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{className:"d-flex gap-1 justify-content-center",children:[e.jsx($,{size:"sm",variant:"outline-info",title:"Voir les détails",as:xe,to:`/formateur/show/etudiant-espace-attente/${le.id}`,children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-warning",title:"Modifier",as:xe,to:`/formateur/edit/etudiant-espace-attente/${le.id}`,children:e.jsx("i",{"data-feather":"edit",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-danger",title:"Supprimer",onClick:()=>Se(le.id),children:e.jsx("i",{"data-feather":"trash-2",style:{width:"14px",height:"14px"}})})]})})]},le.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center py-5",children:e.jsxs("div",{className:`${re==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"users",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucun Étudiant trouvé"}),e.jsx("p",{className:"small mb-0",children:"Aucun étudiant ne correspond à vos critères de recherche."})]})]})})})})]})})]})]}),e.jsxs(Y,{show:M,onHide:()=>L(!1),centered:!0,contentClassName:re==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:re==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Changer le Rôle des Étudiants"})}),e.jsxs(b,{onSubmit:st,children:[e.jsxs(Y.Body,{className:re==="dark"?"bg-dark text-light":"",children:[e.jsxs("p",{children:["Changer le rôle pour ",n.length," étudiant(s) sélectionné(s) :"]}),e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Nouveau Rôle"}),e.jsxs(b.Select,{value:ie,onChange:le=>fe(le.target.value),className:re==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"1",children:"Étudiant Actif"}),e.jsx("option",{value:"0",children:"Étudiant en Zone d'Attente"})]}),e.jsx(b.Text,{className:re==="dark"?"text-light":"text-muted",children:"Les étudiants actifs peuvent accéder à toutes les fonctionnalités, ceux en zone d'attente ont un accès limité."})]})]}),e.jsxs(Y.Footer,{className:re==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>L(!1),children:"Annuler"}),e.jsxs($,{type:"submit",variant:"warning",children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"16px",height:"16px"}}),"Appliquer les Changements"]})]})]})]}),e.jsxs(Y,{show:F,onHide:()=>Q(!1),centered:!0,contentClassName:re==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:re==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Assigner une Classe"})}),e.jsxs(b,{onSubmit:ke,children:[e.jsxs(Y.Body,{className:re==="dark"?"bg-dark text-light":"",children:[e.jsxs("p",{children:["Assigner une classe à ",n.length," étudiant(s) sélectionné(s) :"]}),e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Sélectionner une Classe"}),e.jsxs(b.Select,{value:J,onChange:le=>ge(le.target.value),className:re==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"",children:"-- Choisir une classe --"}),a.map(le=>e.jsxs("option",{value:le.matricule,children:[le.name," ",le.examen&&`(${le.examen})`]},le.matricule))]})]})]}),e.jsxs(Y.Footer,{className:re==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>Q(!1),children:"Annuler"}),e.jsxs($,{type:"submit",variant:"info",children:[e.jsx("i",{"data-feather":"layers",className:"me-2",style:{width:"16px",height:"16px"}}),"Assigner la Classe"]})]})]})]}),e.jsxs(Y,{show:v,onHide:()=>S(!1),centered:!0,size:"lg",contentClassName:re==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:re==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Ajouter un Étudiant"})}),e.jsxs(b,{onSubmit:me,children:[e.jsx(Y.Body,{className:re==="dark"?"bg-dark text-light":"",children:e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Nom Complet"}),e.jsx(b.Control,{type:"text",placeholder:"Entrez le nom complet",required:!0,value:O.name,onChange:le=>W({...O,name:le.target.value}),isInvalid:!!z.name,className:re==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:z.name})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Adresse Email"}),e.jsx(b.Control,{type:"email",placeholder:"Entrez l'adresse email",required:!0,value:O.email,onChange:le=>W({...O,email:le.target.value}),isInvalid:!!z.email,className:re==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:z.email})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"16px",height:"16px"}}),"Niveau d'étude *"]}),e.jsxs(b.Select,{name:"matricule_classroom",value:O.matricule_classroom,onChange:le=>W({...O,matricule_classroom:le.target.value}),isInvalid:!!z.matricule_classroom,className:re==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionnez..."}),a.map(le=>e.jsx("option",{value:le.matricule,children:le.name},le.matricule))]}),e.jsx(b.Control.Feedback,{type:"invalid",className:"d-block",children:z.matricule_classroom})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Mot de Passe"}),e.jsx(b.Control,{type:"password",placeholder:"Entrez le mot de passe",required:!0,onChange:le=>W({...O,password:le.target.value}),isInvalid:!!z.password,className:re==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:z.password})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Confirmer le Mot de Passe"}),e.jsx(b.Control,{type:"password",placeholder:"Confirmez le mot de passe",required:!0,onChange:le=>W({...O,password_confirmation:le.target.value}),isInvalid:!!z.password_confirmation,className:re==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:z.password_confirmation})]})})]})}),e.jsxs(Y.Footer,{className:re==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>S(!1),children:"Annuler"}),e.jsxs($,{type:"submit",variant:"success",children:[e.jsx("i",{"data-feather":"save",className:"me-2",style:{width:"16px",height:"16px"}}),"Enregistrer"]})]})]})]}),e.jsxs(Y,{show:C,onHide:()=>_(!1),centered:!0,contentClassName:re==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:re==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Inviter un Étudiant"})}),e.jsxs(b,{onSubmit:Xe,children:[e.jsx(Y.Body,{className:re==="dark"?"bg-dark text-light":"",children:e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Adresse Email"}),e.jsx(b.Control,{type:"email",placeholder:"Entrez l'email de l'invité",name:"email",required:!0,value:Z.email,onChange:le=>te({...Z,email:le.target.value}),isInvalid:!!z.email,className:re==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:z.email})]})}),e.jsxs(Y.Footer,{className:re==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>_(!1),children:"Fermer"}),e.jsxs($,{type:"submit",variant:"primary",children:[e.jsx("i",{"data-feather":"send",className:"me-2",style:{width:"16px",height:"16px"}}),"Envoyer"]})]})]})]}),e.jsxs(Y,{show:A,onHide:()=>D(!1),centered:!0,contentClassName:re==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:re==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Confirmation de Suppression"})}),e.jsxs(Y.Body,{className:re==="dark"?"bg-dark text-light":"",children:[e.jsxs("p",{children:["Êtes-vous sûr de vouloir supprimer ",I?"cet utilisateur":"ces utilisateurs"," ?"]}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),"Cette action est irréversible."]})]}),e.jsxs(Y.Footer,{className:re==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>D(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:ae,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:U,onClose:()=>V(!1),delay:3e3,autohide:!0,bg:G==="success"?"success":"danger",className:re==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${G==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":G==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:re==="dark"?"bg-dark text-light":"",children:P})]})})]})})}function yEe(){const{id:s}=is(),t=Ut(),[a,r]=x.useState(null),[n,i]=x.useState(!0),[l,c]=x.useState(null),[o,u]=x.useState("light"),[d,f]=x.useState(!1),[p,j]=x.useState(""),[y,k]=x.useState("success"),[v,S]=x.useState(!1);x.useEffect(()=>{const I=document.documentElement.getAttribute("data-theme")||"light";u(I);const H=new MutationObserver(()=>{const z=document.documentElement.getAttribute("data-theme")||"light";u(z)});return H.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>H.disconnect()},[]);const C=(I,H="success")=>{j(I),k(H),f(!0)};x.useEffect(()=>{s&&(async()=>{try{i(!0);const H=await he.get(`/formateur/show/etudiant-espace-attente/${s}`);r(H.data.user)}catch(H){c("Erreur lors du chargement de l'étudiant"),console.error("Erreur:",H)}finally{i(!1)}})()},[s]),x.useEffect(()=>{We.replace()},[a]);const _=async()=>{try{await he.patch(`/formateur/toggle-role/etudiant-espace-attente/${s}`);const I=await he.get(`/formateur/show/etudiant-espace-attente/${s}`);r(I.data.user),C("Rôle de l'étudiant mis à jour","success")}catch(I){console.error(I),C("Erreur lors de la mise à jour du rôle","danger")}},A=async()=>{try{await he.delete(`/formateur/destroy/etudiant-espace-attente/${s}`),C("Étudiant supprimé avec succès","success"),setTimeout(()=>{t("/formateur/view/etudiant-espace-attente")},1500)}catch(I){console.error(I),C(I.response?.data?.message||"Erreur lors de la suppression","danger")}S(!1)},D=I=>I?new Date(I).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Non renseigné",M=I=>({Masculin:"primary",Féminin:"info",Autre:"secondary"})[I]||"secondary",L=I=>I===1?"success":"warning",F=I=>I===1?"Étudiant Actif":"En Zone d'Attente",Q=I=>{switch(I){case"Connecté":return"success";case"Déconnecté":return"secondary";case"En attente":return"warning";default:return"secondary"}};return n?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des informations de l'étudiant..."})]})}):l||!a?e.jsxs(et,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),l||"Étudiant introuvable"]}),e.jsx("div",{className:"d-flex gap-2",children:e.jsxs($,{variant:"secondary",as:xe,to:"/formateur/view/etudiant-espace-attente",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]})})]}):e.jsxs(et,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:"/formateur/view/etudiant-espace-attente",className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsxs("div",{children:[e.jsx("h1",{className:`h3 mb-0 ${o==="dark"?"text-light":"text-dark"}`,children:a.name}),e.jsxs("div",{className:"d-flex align-items-center gap-2 mt-1",children:[e.jsx("small",{className:"text-muted",children:a.matricule}),e.jsxs(oe,{bg:L(a.role),className:"px-2 py-1",children:[e.jsx("i",{"data-feather":a.role===1?"check-circle":"pause-circle",className:"me-1",style:{width:"12px",height:"12px"}}),F(a.role)]})]})]})]})}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:a.role===1?"warning":"success",onClick:_,title:"Changer le rôle",children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"16px",height:"16px"}}),a.role===1?"Mettre en attente":"Activer"]}),e.jsxs($,{variant:"primary",as:xe,to:`/formateur/edit/etudiant/${s}`,children:[e.jsx("i",{"data-feather":"edit",className:"me-2",style:{width:"16px",height:"16px"}}),"Modifier"]}),e.jsxs($,{variant:"danger",onClick:()=>S(!0),children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsxs(pe,{children:[e.jsxs(T,{lg:8,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"20px",height:"20px"}}),"Profil de l'étudiant"]})}),e.jsxs(w.Body,{children:[e.jsxs(pe,{className:"align-items-center mb-4",children:[e.jsx(T,{md:3,className:"text-center",children:e.jsxs("div",{className:"position-relative d-inline-block",children:[a?.profil_url?e.jsx(Mt,{src:a.profil_url,alt:"Photo de profil",className:"rounded-circle",width:"120",height:"120",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-light d-flex align-items-center justify-content-center border",style:{width:"120px",height:"120px"},children:e.jsx("i",{"data-feather":"user",className:"text-muted",style:{width:"48px",height:"48px"}})}),e.jsx(oe,{bg:L(a.role),className:"position-absolute bottom-0 end-0 rounded-circle p-2",style:{transform:"translate(25%, 25%)"},children:e.jsx("i",{"data-feather":a.role===1?"check":"pause",style:{width:"12px",height:"12px"}})})]})}),e.jsxs(T,{md:9,children:[e.jsx("h4",{className:"mb-2",children:a?.name||"Nom non renseigné"}),e.jsxs("p",{className:"text-muted mb-2",children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),a?.email||"Email non renseigné"]}),a?.phone&&e.jsxs("p",{className:"text-muted mb-2",children:[e.jsx("i",{"data-feather":"phone",className:"me-2",style:{width:"16px",height:"16px"}}),a.code_phone&&`${a.code_phone} `,a.phone]}),e.jsxs("div",{className:"d-flex align-items-center flex-wrap gap-2",children:[e.jsx(oe,{bg:L(a.role),className:"me-2",children:F(a.role)}),a?.gender&&e.jsx(oe,{bg:M(a.gender),children:a.gender}),e.jsx(oe,{bg:Q(a.status||"En attente"),children:a.status||"En attente"})]})]})]}),e.jsx("hr",{className:"my-4"}),e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Nom complet :"}),e.jsx("span",{className:"fw-medium",children:a?.name||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Email :"}),e.jsx("span",{className:"fw-medium",children:a?.email||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Matricule :"}),e.jsx("span",{className:"fw-medium",children:e.jsx("code",{className:"px-2 py-1 bg-primary bg-opacity-10 rounded text-primary",children:a?.matricule||"Non renseigné"})})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Date de naissance :"}),e.jsx("span",{className:"fw-medium",children:D(a?.birthday)})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Genre :"}),e.jsx("span",{className:"fw-medium",children:a?.gender||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Téléphone :"}),e.jsxs("span",{className:"fw-medium",children:[a?.code_phone," ",a?.phone||"Non renseigné"]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Inscrit depuis :"}),e.jsx("span",{className:"fw-medium",children:D(a?.created_at)})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Dernière mise à jour :"}),e.jsx("span",{className:"fw-medium",children:D(a?.updated_at)})]})})]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations académiques"]})}),e.jsx(w.Body,{children:a.classroom?e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Classe :"}),e.jsx("span",{className:"fw-medium",children:a.classroom.name})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Matricule classe :"}),e.jsx("span",{className:"fw-medium",children:e.jsx("code",{className:"px-2 py-1 bg-info bg-opacity-10 rounded text-info",children:a.classroom.matricule})})]})}),a.classroom.description&&e.jsx(T,{md:12,className:"mb-3",children:e.jsxs("div",{children:[e.jsx("span",{className:"text-muted d-block mb-1",children:"Description de la classe :"}),e.jsx("span",{className:"fw-medium",children:a.classroom.description})]})})]}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"text-warning mb-2",style:{width:"32px",height:"32px"}}),e.jsx("p",{className:"text-muted mb-0",children:"Aucune classe assignée à cet étudiant"})]})})]})]}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"20px",height:"20px"}}),"Actions rapides"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:a.role===1?"warning":"success",onClick:_,children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"18px",height:"18px"}}),a.role===1?"Mettre en attente":"Activer l'étudiant"]}),e.jsxs($,{variant:"primary",as:xe,to:`/formateur/edit/etudiant-espace-attente/${s}`,children:[e.jsx("i",{"data-feather":"edit-2",className:"me-2",style:{width:"18px",height:"18px"}}),"Modifier le profil"]}),e.jsxs($,{variant:"outline-info",as:xe,to:"/formateur/view/etudiant-espace-attente",children:[e.jsx("i",{"data-feather":"list",className:"me-2",style:{width:"18px",height:"18px"}}),"Tous les étudiants"]}),e.jsxs($,{variant:"outline-primary",as:xe,to:"/formateur/dashboard",children:[e.jsx("i",{"data-feather":"grid",className:"me-2",style:{width:"18px",height:"18px"}}),"Retour au Dashboard"]})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"20px",height:"20px"}}),"Statut du compte"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("div",{className:`${a.role===1?"text-success":"text-warning"} mb-2`,children:e.jsx("i",{"data-feather":a.role===1?"check-circle":"pause-circle",style:{width:"32px",height:"32px"}})}),e.jsx("h6",{className:"mb-0",children:"État du compte"}),e.jsx("h4",{className:`${a.role===1?"text-success":"text-warning"} mb-0`,children:F(a.role)}),e.jsx("small",{className:"text-muted",children:a.role===1?"Accès complet aux fonctionnalités":"Accès limité - En attente d'activation"})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Profil complété :"}),e.jsx("span",{className:"fw-bold text-success",children:a?.profil_url&&a?.birthday&&a?.phone&&a?.gender?"100%":a?.name&&a?.email&&a?.gender?"85%":a?.name&&a?.email?"70%":"50%"})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Dernière connexion :"}),e.jsx("span",{children:D(a?.updated_at)})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Type de compte :"}),e.jsx(oe,{bg:"info",children:"Étudiant"})]})]})]})]}),a.classroom&&e.jsxs(w,{className:`border-0 shadow-sm ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"home",className:"me-2 text-info",style:{width:"20px",height:"20px"}}),"Classe assignée"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("i",{"data-feather":"book",className:"text-info me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:a.classroom.name}),e.jsx("div",{className:"text-muted",children:a.classroom.matricule})]})]}),a.classroom.description&&e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("i",{"data-feather":"info",className:"text-info me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:"Description"}),e.jsx("div",{className:"text-muted",children:a.classroom.description})]})]})]})})]})]})]}),e.jsxs(Y,{show:v,onHide:()=>S(!1),centered:!0,contentClassName:o==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:o==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Confirmation de Suppression"})}),e.jsxs(Y.Body,{className:o==="dark"?"bg-dark text-light":"",children:[e.jsx("p",{children:"Êtes-vous sûr de vouloir supprimer cet étudiant ?"}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),`Cette action est irréversible. L'étudiant "`,a.name,'" sera définitivement supprimé du système.']})]}),e.jsxs(Y.Footer,{className:o==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>S(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:A,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer définitivement"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:d,onClose:()=>f(!1),delay:3e3,autohide:!0,bg:y==="success"?"success":"danger",className:o==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${y==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":y==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:o==="dark"?"bg-dark text-light":"",children:p})]})})]})}function jEe(){const{id:s}=is(),t=Ut(),[a,r]=x.useState(null),[n,i]=x.useState([]),[l,c]=x.useState(!0),[o,u]=x.useState(!1),[d,f]=x.useState(null),[p,j]=x.useState({}),[y,k]=x.useState("light"),[v,S]=x.useState(!1),[C,_]=x.useState(!1),[A,D]=x.useState(""),[M,L]=x.useState("success"),[F,Q]=x.useState({name:"",email:"",birthday:"",gender:"",code_phone:"",phone:"",matricule_classroom:"",profil:null}),[I,H]=x.useState({password:"",password_confirmation:""}),[z,K]=x.useState(null);x.useEffect(()=>{const O=document.documentElement.getAttribute("data-theme")||"light";k(O);const W=new MutationObserver(()=>{const Z=document.documentElement.getAttribute("data-theme")||"light";k(Z)});return W.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>W.disconnect()},[]);const U=(O,W="success")=>{D(O),L(W),_(!0)};x.useEffect(()=>{s&&(async()=>{try{c(!0);const[W,Z]=await Promise.all([he.get(`/formateur/edit/etudiant-espace-attente/${s}`),he.get("/formateur/view/etudiant-espace-attente")]),te=W.data.user;r(te),i(Z.data.classrooms||[]),Q({name:te.name||"",email:te.email||"",birthday:te.birthday||"",gender:te.gender||"",code_phone:te.code_phone||"",phone:te.phone||"",matricule_classroom:te.matricule_classroom||"",profil:null}),te.profil_url&&K(te.profil_url)}catch(W){f("Erreur lors du chargement des données"),console.error("Erreur:",W)}finally{c(!1)}})()},[s]),x.useEffect(()=>{We.replace()},[a]);const V=O=>{const{name:W,value:Z}=O.target;Q(te=>({...te,[W]:Z})),p[W]&&j(te=>({...te,[W]:null}))},P=O=>{const{name:W,value:Z}=O.target;H(te=>({...te,[W]:Z}))},q=O=>{const W=O.target.files[0];if(W){if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(W.type)){j(fe=>({...fe,profil:"Format de fichier non supporté. Utilisez JPG, PNG ou WEBP."}));return}if(W.size>2097152){j(fe=>({...fe,profil:"La taille du fichier ne doit pas dépasser 2MB."}));return}Q(fe=>({...fe,profil:W}));const ie=new FileReader;ie.onload=fe=>{K(fe.target.result)},ie.readAsDataURL(W),p.profil&&j(fe=>({...fe,profil:null}))}},G=async O=>{O.preventDefault();try{u(!0),f(null),j({});const W=new FormData;Object.keys(F).forEach(te=>{te==="profil"?F.profil instanceof File&&W.append("profil",F.profil):F[te]!==null&&F[te]!==""&&W.append(te,F[te])}),W.append("_method","PUT"),(await he.post(`/formateur/update/etudiant-espace-attente/${s}`,W,{headers:{"Content-Type":"multipart/form-data"}})).data.status==="success"&&(U("Étudiant mis à jour avec succès !","success"),setTimeout(()=>{t(`/formateur/show/etudiant-espace-attente/${s}`)},2e3))}catch(W){W.response?.data?.errors?(j(W.response.data.errors),U("Erreur de validation","danger")):(f(W.response?.data?.message||"Erreur lors de la mise à jour"),U("Erreur lors de la mise à jour","danger"))}finally{u(!1)}},se=async O=>{if(O.preventDefault(),!I.password||!I.password_confirmation){U("Veuillez remplir tous les champs du mot de passe","danger");return}if(I.password!==I.password_confirmation){U("Les mots de passe ne correspondent pas","danger");return}try{u(!0),f(null),(await he.put(`/formateur/update/etudiant-espace-attente/${s}`,I)).data.status==="success"&&(U("Mot de passe mis à jour avec succès !","success"),S(!1),H({password:"",password_confirmation:""}))}catch(W){W.response?.data?.errors?j(W.response.data.errors):U(W.response?.data?.message||"Erreur lors de la mise à jour du mot de passe","danger")}finally{u(!1)}};return l?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des données..."})]})}):d&&!a?e.jsxs(et,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),d]}),e.jsx("div",{className:"d-flex gap-2",children:e.jsxs($,{variant:"secondary",as:xe,to:"/formateur/view/etudiant-espace-attente",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]})})]}):e.jsxs(et,{children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:`/formateur/show/etudiant-espace-attente/${s}`,className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsx("h1",{className:"h3 mb-0",children:"Modifier l'étudiant"})]}),e.jsx("p",{className:"text-muted mb-0",children:"Modification des informations de l'étudiant"})]})}),d&&e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),d]}),e.jsx(b,{onSubmit:G,children:e.jsxs(pe,{children:[e.jsx(T,{lg:8,className:"mb-4",children:e.jsxs(w,{className:`border-0 shadow-sm ${y==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations personnelles"]})}),e.jsxs(w.Body,{children:[e.jsx(pe,{className:"mb-4",children:e.jsxs(T,{md:3,className:"text-center",children:[e.jsxs("div",{className:"position-relative d-inline-block mb-3",children:[z?e.jsx(Mt,{src:z,alt:"Photo de profil",className:"rounded-circle",width:"120",height:"120",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-light d-flex align-items-center justify-content-center border",style:{width:"120px",height:"120px"},children:e.jsx("i",{"data-feather":"user",className:"text-muted",style:{width:"48px",height:"48px"}})}),e.jsx($,{variant:"primary",size:"sm",className:"position-absolute bottom-0 end-0 rounded-circle p-2",style:{transform:"translate(25%, 25%)"},onClick:()=>document.getElementById("profileImage").click(),children:e.jsx("i",{"data-feather":"camera",style:{width:"12px",height:"12px"}})})]}),e.jsx("input",{type:"file",id:"profileImage",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:q,style:{display:"none"}}),e.jsx("p",{className:"small text-muted mb-0",children:"JPG, PNG, WEBP - Max 2MB"}),p.profil&&e.jsx("div",{className:"text-danger small mt-1",children:p.profil})]})}),e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Nom complet *"]}),e.jsx(b.Control,{type:"text",name:"name",value:F.name,onChange:V,placeholder:"Nom complet de l'étudiant",isInvalid:!!p.name,className:y==="dark"?"bg-dark text-light border-secondary":"",required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.name?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Email *"]}),e.jsx(b.Control,{type:"email",name:"email",value:F.email,onChange:V,placeholder:"nom@email.com",isInvalid:!!p.email,className:y==="dark"?"bg-dark text-light border-secondary":"",required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.email?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"calendar",className:"me-2",style:{width:"16px",height:"16px"}}),"Date de naissance"]}),e.jsx(b.Control,{type:"date",name:"birthday",value:F.birthday,onChange:V,isInvalid:!!p.birthday,className:y==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.birthday?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"16px",height:"16px"}}),"Genre"]}),e.jsxs(b.Select,{name:"gender",value:F.gender,onChange:V,isInvalid:!!p.gender,className:y==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Sélectionner..."}),e.jsx("option",{value:"Masculin",children:"Masculin"}),e.jsx("option",{value:"Féminin",children:"Féminin"}),e.jsx("option",{value:"Autre",children:"Autre"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.gender?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"flag",className:"me-2",style:{width:"16px",height:"16px"}}),"Indicatif pays"]}),e.jsxs(b.Select,{name:"code_phone",value:F.code_phone,onChange:V,isInvalid:!!p.code_phone,className:y==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Sélectionner..."}),e.jsx("option",{value:"+237",children:"+237 (Cameroun)"}),e.jsx("option",{value:"+33",children:"+33 (France)"}),e.jsx("option",{value:"+235",children:"+235 (Tchad)"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.code_phone?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"phone",className:"me-2",style:{width:"16px",height:"16px"}}),"Numéro de téléphone"]}),e.jsx(b.Control,{type:"tel",name:"phone",value:F.phone,onChange:V,placeholder:"690123456",isInvalid:!!p.phone,className:y==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.phone?.[0]}),e.jsx(b.Text,{className:"text-muted",children:"Numéro de contact de l'étudiant"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"16px",height:"16px"}}),"Classe *"]}),e.jsxs(b.Select,{name:"matricule_classroom",value:F.matricule_classroom,onChange:V,isInvalid:!!p.matricule_classroom,className:y==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionner une classe"}),n.map(O=>e.jsx("option",{value:O.matricule,children:O.name},O.matricule))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.matricule_classroom?.[0]})]})})]}),e.jsx("hr",{className:"my-4"}),e.jsx(pe,{children:e.jsx(T,{md:12,children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs($,{variant:"outline-warning",onClick:()=>S(!0),className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"lock",className:"me-2",style:{width:"16px",height:"16px"}}),"Changer le mot de passe"]}),e.jsxs("div",{children:[e.jsx($,{variant:"outline-secondary",as:xe,to:`/formateur/show/etudiant-espace-attente/${s}`,className:"me-2",disabled:o,children:"Annuler"}),e.jsx($,{variant:"primary",type:"submit",disabled:o,className:"d-flex align-items-center",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner-border spinner-border-sm me-2",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),"Mise à jour..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ss,{icon:"save",size:16,className:"me-2"}),"Enregistrer les Modifications"]})})]})]})})})]})]})}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${y==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${y==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"help-circle",className:"me-2 text-info",style:{width:"20px",height:"20px"}}),"Conseils"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"user-check",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Utilisez le nom complet tel qu'il apparaît sur les documents officiels"})]}),e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"mail",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"L'email sera utilisé pour les notifications et communications importantes"})]}),e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"book",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"La classe détermine les matières et cours accessibles à l'étudiant"})]}),e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{"data-feather":"phone",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Le numéro sera utilisé pour les urgences et confirmations"})]})]})})]}),a&&e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${y==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${y==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"info",className:"me-2 text-success",style:{width:"20px",height:"20px"}}),"Informations actuelles"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Matricule"}),e.jsx("code",{className:"px-2 py-1 bg-primary bg-opacity-10 rounded text-primary small",children:a.matricule})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Statut"}),e.jsx("span",{className:`badge ${a.role===1?"bg-success":"bg-warning"}`,children:a.role===1?"Actif":"En attente"})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Inscrit le"}),e.jsx("span",{className:"small",children:new Date(a.created_at).toLocaleDateString("fr-FR")})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsx("span",{className:"small",children:"Dernière modification"}),e.jsx("span",{className:"small",children:new Date(a.updated_at).toLocaleDateString("fr-FR")})]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${y==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${y==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2 text-warning",style:{width:"20px",height:"20px"}}),"Actions supplémentaires"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"outline-info",as:xe,to:`/formateur/show/etudiant-espace-attente/${s}`,children:[e.jsx("i",{"data-feather":"eye",className:"me-2",style:{width:"16px",height:"16px"}}),"Voir le profil"]}),e.jsxs($,{variant:"outline-primary",as:xe,to:"/formateur/view/etudiant-espace-attente",children:[e.jsx("i",{"data-feather":"users",className:"me-2",style:{width:"16px",height:"16px"}}),"Tous les étudiants"]})]})})]})]})]})}),e.jsxs(Y,{show:v,onHide:()=>S(!1),centered:!0,contentClassName:y==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{closeButton:!0,className:y==="dark"?"bg-dark text-light border-secondary":"",children:e.jsxs(Y.Title,{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"lock",className:"me-2",style:{width:"20px",height:"20px"}}),"Changer le mot de passe"]})}),e.jsxs(b,{onSubmit:se,children:[e.jsxs(Y.Body,{className:y==="dark"?"bg-dark text-light":"",children:[e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Nouveau mot de passe"}),e.jsx(b.Control,{type:"password",name:"password",value:I.password,onChange:P,placeholder:"Entrez le nouveau mot de passe",isInvalid:!!p.password,className:y==="dark"?"bg-dark text-light border-secondary":"",required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.password?.[0]}),e.jsx(b.Text,{className:"text-muted",children:"Minimum 8 caractères avec majuscules, minuscules et chiffres"})]}),e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Confirmer le mot de passe"}),e.jsx(b.Control,{type:"password",name:"password_confirmation",value:I.password_confirmation,onChange:P,placeholder:"Confirmez le nouveau mot de passe",className:y==="dark"?"bg-dark text-light border-secondary":"",required:!0})]})]}),e.jsxs(Y.Footer,{className:y==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>S(!1),disabled:o,children:"Annuler"}),e.jsx($,{variant:"primary",type:"submit",disabled:o,children:o?e.jsxs(e.Fragment,{children:[e.jsx(tt,{animation:"border",size:"sm",className:"me-2"}),"Mise à jour..."]}):"Mettre à jour"})]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:C,onClose:()=>_(!1),delay:3e3,autohide:!0,bg:M==="success"?"success":"danger",className:y==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${M==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":M==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:y==="dark"?"bg-dark text-light":"",children:A})]})})]})}function vEe(){const[s,t]=x.useState([]),[a,r]=x.useState([]),[n,i]=x.useState(""),[l,c]=x.useState(""),[o,u]=x.useState(""),[d,f]=x.useState(""),[p,j]=x.useState(!1),[y,k]=x.useState(!1),[v,S]=x.useState(!1),[C,_]=x.useState(null),[A,D]=x.useState({}),[M,L]=x.useState(!1),[F,Q]=x.useState(""),[I,H]=x.useState("success"),[z,K]=x.useState({name:"",email:"",password:"",password_confirmation:""}),[U,V]=x.useState({email:"",role:"2"}),[P,q]=x.useState("light");x.useEffect(()=>{const ee=document.documentElement.getAttribute("data-theme")||"light";q(ee);const me=new MutationObserver(()=>{const Xe=document.documentElement.getAttribute("data-theme")||"light";q(Xe)});return me.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>me.disconnect()},[]);const G=(ee,me="success")=>{Q(ee),H(me),L(!0)},se=x.useCallback(async()=>{try{const ee={};n.trim()&&(ee.search=n.trim()),l&&(ee.created_at=l),o&&(ee.status=o),d&&(ee.gender=d);const me=await he.get("/formateur/view/formateur",{params:ee});t(me.data.users||[])}catch(ee){console.error("Erreur lors de la récupération des utilisateurs",ee)}},[n,l,o,d]);x.useEffect(()=>{We.replace(),se()},[se,r]),x.useEffect(()=>{We.replace()},[s,a]);const O=async ee=>{ee.preventDefault(),D({});try{await he.post("/formateur/store/formateur",z),se(),j(!1),K({name:"",email:"",password:"",password_confirmation:""}),G("Utilisateur ajouté avec succès","success")}catch(me){me.response?.status===422?(D(me.response.data.errors||{}),G("Erreur de validation","danger")):(console.error(me),G("Une erreur inattendue s'est produite","danger"))}},W=async ee=>{ee.preventDefault(),D({});try{const me=await he.post("/formateur/invitation/users",U);G(me.data.message||"Invitation envoyée avec succès","success"),k(!1),V({email:"",role:"2"})}catch(me){me.response?.status===422?(D(me.response.data.errors||{}),G("Erreur lors de l'envoi de l'invitation","danger")):(console.error("Erreur d'invitation",me),G("Une erreur inattendue s'est produite lors de l'invitation","danger"))}},Z=(ee=null)=>{_(ee),S(!0)},te=async()=>{try{const ee=C?[C]:a;C?await he.delete(`/formateur/destroy/formateur/${C}`):await he.post("/formateur/destroy-group/formateur",{ids:ee}),se(),S(!1),r([]),_(null),G("Utilisateur(s) supprimé(s) avec succès","success")}catch(ee){console.error(ee),G("Erreur lors de la suppression","danger")}},ie=ee=>{const{value:me,checked:Xe}=ee.target,Se=parseInt(me);r(Xe?ae=>[...ae,Se]:ae=>ae.filter(ye=>ye!==Se))},fe=ee=>{ee.target.checked?r(s.map(me=>me.id)):r([])},J=async ee=>{ee.preventDefault();try{const me=new URLSearchParams;n.trim()&&me.append("search",n.trim()),l&&me.append("created_at",l),o&&me.append("status",o),d&&me.append("gender",d);const Xe=await he.get(`/formateur/download/liste/formateur/pdf?${me.toString()}`,{responseType:"blob"}),Se=`rapport_utilisateurs_(formateurs)_${new Date().toISOString().slice(0,10)}.pdf`;Ea(Xe.data,Se),G("Le rapport PDF est en cours de téléchargement","success")}catch(me){console.error("Erreur de téléchargement PDF:",me),G("Échec du téléchargement PDF","danger")}},ge=async ee=>{ee.preventDefault();try{const me=new URLSearchParams;n.trim()&&me.append("search",n.trim()),l&&me.append("created_at",l),o&&me.append("status",o),d&&me.append("gender",d);const Xe=await he.get(`/formateur/download/liste/formateur/excel?${me.toString()}`,{responseType:"blob"}),Se=`rapport_utilisateurs_(formateurs)_${new Date().toISOString().slice(0,10)}.xlsx`;Ea(Xe.data,Se),G("Le fichier Excel est en cours de téléchargement","success")}catch(me){console.error("Erreur de téléchargement Excel:",me),G("Échec du téléchargement Excel","danger")}},re=s.filter(ee=>ee.status==="Connecté"),ve=s.filter(ee=>ee.status==="En attente"),Oe=s.filter(ee=>ee.status==="Déconnecté");return e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${P==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"users",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${P==="dark"?"text-light":"text-dark"}`,children:"Gestion des Administrateurs"}),e.jsx("p",{className:`mb-0 ${P==="dark"?"text-light":"text-muted"}`,children:"Institut de Formation - Administration centrale du système"})]})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${P==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${P==="dark"?"text-light":"text-dark"}`,children:s.length}),e.jsx("small",{className:P==="dark"?"text-light":"text-muted",children:"Total Administrateurs"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"users",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${P==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:re.length}),e.jsx("small",{className:P==="dark"?"text-light":"text-muted",children:"En Ligne"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"activity",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${P==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-warning",children:ve.length}),e.jsx("small",{className:P==="dark"?"text-light":"text-muted",children:"En Attente"})]}),e.jsx("div",{className:"text-warning",children:e.jsx("i",{"data-feather":"clock",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${P==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-danger",children:Oe.length}),e.jsx("small",{className:P==="dark"?"text-light":"text-muted",children:"Hors Ligne"})]}),e.jsx("div",{className:"text-danger",children:e.jsx("i",{"data-feather":"x-circle",style:{width:"24px",height:"24px"}})})]})})})})]})]}),e.jsxs(w,{className:`shadow-sm border-0 ${P==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${P==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"users",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${P==="dark"?"text-light":"text-dark"}`,children:"Administrateurs"})]}),e.jsxs("div",{className:"d-flex gap-2 mt-2 mt-md-0",children:[a.length>0&&e.jsxs($,{variant:"danger",className:"d-flex align-items-center",onClick:()=>Z(),children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer (",a.length,")"]}),e.jsxs(at,{children:[e.jsxs(at.Toggle,{variant:"outline-primary",className:"d-flex align-items-center",id:"dropdown-export",children:[e.jsx("i",{"data-feather":"download",className:"me-2",style:{width:"16px",height:"16px"}}),"Exporter les Données"]}),e.jsx(at.Menu,{className:"shadow-lg border-0",style:{minWidth:"350px"},children:e.jsxs("div",{className:"p-3",children:[e.jsxs("h6",{className:"text-primary mb-3",children:[e.jsx("i",{"data-feather":"file-text",className:"me-2",style:{width:"16px",height:"16px"}}),"Rapport PDF"]}),e.jsxs(b,{onSubmit:J,className:"mb-4",children:[e.jsx(b.Control,{type:"text",placeholder:"Rechercher par nom, email, téléphone...",value:n,onChange:ee=>i(ee.target.value),className:`mb-2 ${P==="dark"?"bg-dark text-light border-secondary":""}`}),e.jsx(b.Control,{type:"date",value:l,onChange:ee=>c(ee.target.value),className:`mb-2 ${P==="dark"?"bg-dark text-light border-secondary":""}`}),e.jsxs(b.Select,{value:o,onChange:ee=>u(ee.target.value),className:`mb-2 ${P==="dark"?"bg-dark text-light border-secondary":""}`,children:[e.jsx("option",{value:"",children:"Tous les Statuts"}),e.jsx("option",{value:"Connecté",children:"En Ligne"}),e.jsx("option",{value:"Déconnecté",children:"Hors Ligne"}),e.jsx("option",{value:"En attente",children:"En Attente"})]}),e.jsxs(b.Select,{value:d,onChange:ee=>f(ee.target.value),className:`mb-3 ${P==="dark"?"bg-dark text-light border-secondary":""}`,children:[e.jsx("option",{value:"",children:"Tous les Genres"}),e.jsx("option",{value:"Masculin",children:"Masculin"}),e.jsx("option",{value:"Féminin",children:"Féminin"}),e.jsx("option",{value:"Autre",children:"Autre"})]}),e.jsxs($,{type:"submit",variant:"primary",className:"w-100",children:[e.jsx("i",{"data-feather":"file-text",className:"me-2",style:{width:"16px",height:"16px"}}),"Télécharger PDF"]})]}),e.jsx("hr",{}),e.jsxs("h6",{className:"text-success mb-3",children:[e.jsx("i",{"data-feather":"file",className:"me-2",style:{width:"16px",height:"16px"}}),"Fichier Excel"]}),e.jsx(b,{onSubmit:ge,children:e.jsxs($,{type:"submit",variant:"success",className:"w-100",children:[e.jsx("i",{"data-feather":"file",className:"me-2",style:{width:"16px",height:"16px"}}),"Télécharger Excel"]})})]})})]}),e.jsxs($,{variant:"info",className:"d-flex align-items-center",onClick:()=>k(!0),children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Inviter"]}),e.jsxs($,{variant:"success",className:"d-flex align-items-center",onClick:()=>j(!0),children:[e.jsx("i",{"data-feather":"user-plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Nouvel Utilisateur"]})]})]})}),e.jsxs(w.Body,{className:P==="dark"?"bg-dark":"bg-white",children:[e.jsx("div",{className:"mb-4 p-3 rounded",style:{backgroundColor:P==="dark"?"#1a1a1a":"#f8f9fa"},children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs(b.Label,{className:`small fw-bold ${P==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"search",className:"me-1",style:{width:"14px",height:"14px"}}),"Recherche Globale"]}),e.jsx(b.Control,{type:"text",placeholder:"Nom, email, téléphone...",value:n,onChange:ee=>i(ee.target.value),onKeyDown:ee=>ee.key==="Enter"&&se(),className:P==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${P==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"14px",height:"14px"}}),"Date"]}),e.jsx(b.Control,{type:"date",value:l,onChange:ee=>c(ee.target.value),className:P==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsxs(b.Label,{className:`small fw-bold ${P==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"activity",className:"me-1",style:{width:"14px",height:"14px"}}),"Statut"]}),e.jsxs(b.Select,{value:o,onChange:ee=>u(ee.target.value),className:P==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous"}),e.jsx("option",{value:"Connecté",children:"En Ligne"}),e.jsx("option",{value:"Déconnecté",children:"Hors Ligne"}),e.jsx("option",{value:"En attente",children:"En Attente"})]})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsxs(b.Label,{className:`small fw-bold ${P==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"user",className:"me-1",style:{width:"14px",height:"14px"}}),"Genre"]}),e.jsxs(b.Select,{value:d,onChange:ee=>f(ee.target.value),className:P==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous"}),e.jsx("option",{value:"Masculin",children:"Masculin"}),e.jsx("option",{value:"Féminin",children:"Féminin"}),e.jsx("option",{value:"Autre",children:"Autre"})]})]})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`align-middle ${P==="dark"?"table-dark":""}`,style:{borderRadius:"8px",overflow:"hidden"},children:[e.jsx("thead",{className:"table-primary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center",style:{width:"50px"},children:e.jsx(b.Check,{type:"checkbox",onChange:fe,checked:a.length===s.length&&s.length>0})}),e.jsxs("th",{children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Administrateurs"]}),e.jsxs("th",{className:"d-none d-md-table-cell",children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Contact"]}),e.jsxs("th",{className:"d-none d-lg-table-cell",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"16px",height:"16px"}}),"Informations Sup."]}),e.jsxs("th",{className:"d-none d-lg-table-cell text-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"16px",height:"16px"}}),"Statut"]}),e.jsxs("th",{className:"text-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"16px",height:"16px"}}),"Actions"]})]})}),e.jsx("tbody",{children:s.length?s.map(ee=>e.jsxs("tr",{className:P==="dark"?"border-secondary":"",children:[e.jsx("td",{className:"text-center",children:e.jsx(b.Check,{type:"checkbox",value:ee.id,checked:a.includes(ee.id),onChange:ie})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"bg-primary bg-opacity-10 rounded-circle p-2 me-3",children:ee?.profil_url?e.jsx("img",{src:ee.profil_url,alt:ee.name||"Utilisateur",style:{width:"32px",height:"32px",borderRadius:"50%",objectFit:"cover",border:"2px solid rgba(255, 255, 255, 0.3)"},onError:me=>{me.target.style.display="none",me.target.nextElementSibling.style.display="flex"}}):e.jsx("i",{"data-feather":"user",className:"text-primary",style:{width:"16px",height:"16px"}})}),e.jsxs("div",{children:[e.jsx("div",{className:`fw-bold ${P==="dark"?"text-light":"text-dark"}`,children:ee.name.length>10?ee.name.substring(0,10)+"...":ee.name}),e.jsx("small",{className:P==="dark"?"text-light":"text-muted",title:ee.matricule||"Non spécifié",children:ee.matricule?ee.matricule.length>10?ee.matricule.substring(0,10)+"...":ee.matricule:"Non spécifié"})]})]})}),e.jsx("td",{className:"d-none d-md-table-cell",children:e.jsxs("div",{children:[e.jsxs("div",{className:`small ${P==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"mail",className:"me-1",style:{width:"12px",height:"12px"}}),ee.email.length>14?ee.email.substring(0,14)+"...":ee.email]}),e.jsxs("div",{className:`small ${P==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"phone",className:"me-1",style:{width:"12px",height:"12px"}}),ee.code_phone," ",ee.phone||"Non fourni"]})]})}),e.jsx("td",{className:"d-none d-lg-table-cell",children:e.jsxs("div",{children:[e.jsxs("div",{className:`small ${P==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"12px",height:"12px"}}),ee.birthday||"Non fourni"]}),e.jsxs("div",{className:`small ${P==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"user-check",className:"me-1",style:{width:"12px",height:"12px"}}),ee.gender||"Non spécifié"]})]})}),e.jsx("td",{className:"d-none d-lg-table-cell text-center",children:e.jsxs(oe,{bg:ee.status==="Connecté"?"success":ee.status==="Déconnecté"?"secondary":"warning",className:"px-3 py-2",children:[e.jsx("i",{"data-feather":ee.status==="Connecté"?"check-circle":ee.status==="Déconnecté"?"x-circle":"clock",className:"me-1",style:{width:"12px",height:"12px"}}),ee.status||"Indéfini"]})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{className:"d-flex gap-1 justify-content-center",children:[e.jsx($,{size:"sm",variant:"outline-info",title:"Voir les détails",as:xe,to:`/formateur/show/formateur/${ee.id}`,children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-warning",title:"Modifier",as:xe,to:`/formateur/edit/formateur/${ee.id}`,children:e.jsx("i",{"data-feather":"edit",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-danger",title:"Supprimer",onClick:()=>Z(ee.id),children:e.jsx("i",{"data-feather":"trash-2",style:{width:"14px",height:"14px"}})})]})})]},ee.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"text-center py-5",children:e.jsxs("div",{className:`${P==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"users",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucun administrateur trouvé"}),e.jsx("p",{className:"small mb-0",children:"Aucun administrateur ne correspond à vos critères de recherche."})]})]})})})})]})})]})]}),e.jsxs(Y,{show:p,onHide:()=>j(!1),centered:!0,size:"lg",contentClassName:P==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:P==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Ajouter un Administrateur"})}),e.jsxs(b,{onSubmit:O,children:[e.jsx(Y.Body,{className:P==="dark"?"bg-dark text-light":"",children:e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Nom Complet"}),e.jsx(b.Control,{type:"text",placeholder:"Entrez le nom complet",required:!0,value:z.name,onChange:ee=>K({...z,name:ee.target.value}),isInvalid:!!A.name,className:P==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.name})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Adresse Email"}),e.jsx(b.Control,{type:"email",placeholder:"Entrez l'adresse email",required:!0,value:z.email,onChange:ee=>K({...z,email:ee.target.value}),isInvalid:!!A.email,className:P==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.email})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Mot de Passe"}),e.jsx(b.Control,{type:"password",placeholder:"Entrez le mot de passe",required:!0,onChange:ee=>K({...z,password:ee.target.value}),isInvalid:!!A.password,className:P==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.password})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Confirmer le Mot de Passe"}),e.jsx(b.Control,{type:"password",placeholder:"Confirmez le mot de passe",required:!0,onChange:ee=>K({...z,password_confirmation:ee.target.value}),isInvalid:!!A.password_confirmation,className:P==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.password_confirmation})]})})]})}),e.jsxs(Y.Footer,{className:P==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>j(!1),children:"Annuler"}),e.jsxs($,{type:"submit",variant:"success",children:[e.jsx("i",{"data-feather":"save",className:"me-2",style:{width:"16px",height:"16px"}}),"Enregistrer"]})]})]})]}),e.jsxs(Y,{show:y,onHide:()=>k(!1),centered:!0,contentClassName:P==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:P==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Inviter un Administrateur"})}),e.jsxs(b,{onSubmit:W,children:[e.jsx(Y.Body,{className:P==="dark"?"bg-dark text-light":"",children:e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Adresse Email"}),e.jsx(b.Control,{type:"email",placeholder:"Entrez l'email de l'invité",name:"email",required:!0,value:U.email,onChange:ee=>V({...U,email:ee.target.value}),isInvalid:!!A.email,className:P==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.email})]})}),e.jsxs(Y.Footer,{className:P==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>k(!1),children:"Fermer"}),e.jsxs($,{type:"submit",variant:"primary",children:[e.jsx("i",{"data-feather":"send",className:"me-2",style:{width:"16px",height:"16px"}}),"Envoyer"]})]})]})]}),e.jsxs(Y,{show:v,onHide:()=>S(!1),centered:!0,contentClassName:P==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:P==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Confirmation de Suppression"})}),e.jsxs(Y.Body,{className:P==="dark"?"bg-dark text-light":"",children:[e.jsxs("p",{children:["Êtes-vous sûr de vouloir supprimer ",C?"cet utilisateur":"ces utilisateurs"," ?"]}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),"Cette action est irréversible."]})]}),e.jsxs(Y.Footer,{className:P==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>S(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:te,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:M,onClose:()=>L(!1),delay:3e3,autohide:!0,bg:I==="success"?"success":"danger",className:P==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${I==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":I==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:P==="dark"?"bg-dark text-light":"",children:F})]})})]})})}function bEe(){const{id:s}=is(),t=Ut(),[a,r]=x.useState(null),[n,i]=x.useState(!0),[l,c]=x.useState(null),[o,u]=x.useState("light"),[d,f]=x.useState(!1),[p,j]=x.useState(""),[y,k]=x.useState("success"),[v,S]=x.useState(!1);x.useEffect(()=>{const L=document.documentElement.getAttribute("data-theme")||"light";u(L);const F=new MutationObserver(()=>{const Q=document.documentElement.getAttribute("data-theme")||"light";u(Q)});return F.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>F.disconnect()},[]);const C=(L,F="success")=>{j(L),k(F),f(!0)};x.useEffect(()=>{s&&(async()=>{try{i(!0);const F=await he.get(`/formateur/show/formateur/${s}`);r(F.data.user)}catch(F){c("Erreur lors du chargement du formateur"),console.error("Erreur:",F)}finally{i(!1)}})()},[s]),x.useEffect(()=>{We.replace()},[a]);const _=async()=>{try{await he.delete(`/formateur/destroy/formateur/${s}`),C("Formateur supprimé avec succès","success"),setTimeout(()=>{t("/formateur/view/formateur")},1500)}catch(L){console.error(L),C(L.response?.data?.message||"Erreur lors de la suppression","danger")}S(!1)},A=L=>L?new Date(L).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Non renseigné",D=L=>({Masculin:"primary",Féminin:"info",Autre:"secondary"})[L]||"secondary",M=L=>{switch(L){case"Connecté":return"success";case"Déconnecté":return"secondary";case"En attente":return"warning";default:return"secondary"}};return n?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des informations de l'administrateur..."})]})}):l||!a?e.jsxs(et,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),l||"Administrateur introuvable"]}),e.jsx("div",{className:"d-flex gap-2",children:e.jsxs($,{variant:"secondary",as:xe,to:"/formateur/view/formateur",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]})})]}):e.jsxs(et,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:"/formateur/view/formateur",className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsxs("div",{children:[e.jsx("h1",{className:`h3 mb-0 ${o==="dark"?"text-light":"text-dark"}`,children:a.name}),e.jsxs("div",{className:"d-flex align-items-center gap-2 mt-1",children:[e.jsx("small",{className:"text-muted",children:a.matricule}),e.jsxs(oe,{bg:"info",className:"px-2 py-1",children:[e.jsx("i",{"data-feather":"user-check",className:"me-1",style:{width:"12px",height:"12px"}}),"Administrateur"]})]})]})]})}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:"primary",as:xe,to:`/formateur/edit/formateur/${s}`,children:[e.jsx("i",{"data-feather":"edit",className:"me-2",style:{width:"16px",height:"16px"}}),"Modifier"]}),e.jsxs($,{variant:"danger",onClick:()=>S(!0),children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsxs(pe,{children:[e.jsxs(T,{lg:8,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"20px",height:"20px"}}),"Profil du formateur"]})}),e.jsxs(w.Body,{children:[e.jsxs(pe,{className:"align-items-center mb-4",children:[e.jsx(T,{md:3,className:"text-center",children:e.jsxs("div",{className:"position-relative d-inline-block",children:[a?.profil_url?e.jsx(Mt,{src:a.profil_url,alt:"Photo de profil",className:"rounded-circle",width:"120",height:"120",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-light d-flex align-items-center justify-content-center border",style:{width:"120px",height:"120px"},children:e.jsx("i",{"data-feather":"user",className:"text-muted",style:{width:"48px",height:"48px"}})}),e.jsx(oe,{bg:"info",className:"position-absolute bottom-0 end-0 rounded-circle p-2",style:{transform:"translate(25%, 25%)"},children:e.jsx("i",{"data-feather":"user-check",style:{width:"12px",height:"12px"}})})]})}),e.jsxs(T,{md:9,children:[e.jsx("h4",{className:"mb-2",children:a?.name||"Nom non renseigné"}),e.jsxs("p",{className:"text-muted mb-2",children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),a?.email||"Email non renseigné"]}),a?.phone&&e.jsxs("p",{className:"text-muted mb-2",children:[e.jsx("i",{"data-feather":"phone",className:"me-2",style:{width:"16px",height:"16px"}}),a.code_phone&&`${a.code_phone} `,a.phone]}),e.jsxs("div",{className:"d-flex align-items-center flex-wrap gap-2",children:[e.jsx(oe,{bg:"info",className:"me-2",children:"Formateur"}),a?.gender&&e.jsx(oe,{bg:D(a.gender),children:a.gender}),e.jsx(oe,{bg:M(a.status||"En attente"),children:a.status||"En attente"})]})]})]}),e.jsx("hr",{className:"my-4"}),e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Nom complet :"}),e.jsx("span",{className:"fw-medium",children:a?.name||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Email :"}),e.jsx("span",{className:"fw-medium",children:a?.email||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Matricule :"}),e.jsx("span",{className:"fw-medium",children:e.jsx("code",{className:"px-2 py-1 bg-primary bg-opacity-10 rounded text-primary",children:a?.matricule||"Non renseigné"})})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Date de naissance :"}),e.jsx("span",{className:"fw-medium",children:A(a?.birthday)})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Genre :"}),e.jsx("span",{className:"fw-medium",children:a?.gender||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Téléphone :"}),e.jsxs("span",{className:"fw-medium",children:[a?.code_phone," ",a?.phone||"Non renseigné"]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Inscrit depuis :"}),e.jsx("span",{className:"fw-medium",children:A(a?.created_at)})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Dernière mise à jour :"}),e.jsx("span",{className:"fw-medium",children:A(a?.updated_at)})]})})]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"20px",height:"20px"}}),"Activités et permissions"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"book",className:"text-primary me-3",style:{width:"18px",height:"18px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold",children:"Gestion des cours"}),e.jsx("small",{className:"text-muted",children:"Création et modification autorisées"})]})]})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"users",className:"text-success me-3",style:{width:"18px",height:"18px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold",children:"Gestion des étudiants"}),e.jsx("small",{className:"text-muted",children:"Consultation et modification"})]})]})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"file-text",className:"text-info me-3",style:{width:"18px",height:"18px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold",children:"Matières et classes"}),e.jsx("small",{className:"text-muted",children:"Accès selon les affectations"})]})]})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"file-text",className:"text-warning me-3",style:{width:"18px",height:"18px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold",children:"Gestion des evaluations"}),e.jsx("small",{className:"text-muted",children:"Création et modification"})]})]})})]})})]})]}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"20px",height:"20px"}}),"Actions rapides"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"primary",as:xe,to:`/formateur/edit/formateur/${s}`,children:[e.jsx("i",{"data-feather":"edit-2",className:"me-2",style:{width:"18px",height:"18px"}}),"Modifier le profil"]}),e.jsxs($,{variant:"outline-info",as:xe,to:"/formateur/view/formateur",children:[e.jsx("i",{"data-feather":"list",className:"me-2",style:{width:"18px",height:"18px"}}),"Tous les administrateurs"]}),e.jsxs($,{variant:"outline-primary",as:xe,to:"/formateur/dashboard",children:[e.jsx("i",{"data-feather":"grid",className:"me-2",style:{width:"18px",height:"18px"}}),"Retour au Dashboard"]})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"bar-chart",className:"me-2",style:{width:"20px",height:"20px"}}),"Statut du compte"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("div",{className:"text-info mb-2",children:e.jsx("i",{"data-feather":"user-check",style:{width:"32px",height:"32px"}})}),e.jsx("h6",{className:"mb-0",children:"Type de compte"}),e.jsx("h4",{className:"text-info mb-0",children:"Administrateur"}),e.jsx("small",{className:"text-muted",children:"Accès aux fonctionnalités pédagogiques"})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Profil complété :"}),e.jsx("span",{className:"fw-bold text-success",children:a?.profil_url&&a?.birthday&&a?.phone&&a?.gender?"100%":a?.name&&a?.email&&a?.gender?"85%":a?.name&&a?.email?"70%":"50%"})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Dernière connexion :"}),e.jsx("span",{children:A(a?.updated_at)})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Rôle :"}),e.jsx(oe,{bg:"info",children:"Administrateur (Rôle 2)"})]})]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"info",className:"me-2 text-secondary",style:{width:"20px",height:"20px"}}),"Informations système"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("i",{"data-feather":"key",className:"text-secondary me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:"Matricule"}),e.jsx("div",{className:"text-muted",children:a.matricule})]})]}),e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("i",{"data-feather":"calendar",className:"text-secondary me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:"Date de création"}),e.jsx("div",{className:"text-muted",children:A(a.created_at)})]})]}),e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("i",{"data-feather":"clock",className:"text-secondary me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:"Dernière modification"}),e.jsx("div",{className:"text-muted",children:A(a.updated_at)})]})]}),e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{"data-feather":"shield",className:"text-secondary me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:"Niveau d'accès"}),e.jsx("div",{className:"text-muted",children:"Administrateur - Niveau 2"})]})]})]})})]})]})]}),e.jsxs(Y,{show:v,onHide:()=>S(!1),centered:!0,contentClassName:o==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:o==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Confirmation de Suppression"})}),e.jsxs(Y.Body,{className:o==="dark"?"bg-dark text-light":"",children:[e.jsx("p",{children:"Êtes-vous sûr de vouloir supprimer cette administrateur ?"}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),`Cette action est irréversible. L'administrateur "`,a.name,'" sera définitivement supprimé du système.']})]}),e.jsxs(Y.Footer,{className:o==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>S(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:_,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer définitivement"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:d,onClose:()=>f(!1),delay:3e3,autohide:!0,bg:y==="success"?"success":"danger",className:o==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${y==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":y==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:o==="dark"?"bg-dark text-light":"",children:p})]})})]})}function NEe(){const{id:s}=is(),t=Ut(),[a,r]=x.useState(null),[n,i]=x.useState(!0),[l,c]=x.useState(!1),[o,u]=x.useState(null),[d,f]=x.useState({}),[p,j]=x.useState("light"),[y,k]=x.useState(!1),[v,S]=x.useState(!1),[C,_]=x.useState(""),[A,D]=x.useState("success"),[M,L]=x.useState({name:"",email:"",birthday:"",gender:"",code_phone:"",phone:"",profil:null}),[F,Q]=x.useState({password:"",password_confirmation:""}),[I,H]=x.useState(null);x.useEffect(()=>{const G=document.documentElement.getAttribute("data-theme")||"light";j(G);const se=new MutationObserver(()=>{const O=document.documentElement.getAttribute("data-theme")||"light";j(O)});return se.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>se.disconnect()},[]);const z=(G,se="success")=>{_(G),D(se),S(!0)};x.useEffect(()=>{s&&(async()=>{try{i(!0);const O=(await he.get(`/formateur/edit/formateur/${s}`)).data.user;r(O),L({name:O.name||"",email:O.email||"",birthday:O.birthday||"",gender:O.gender||"",code_phone:O.code_phone||"",phone:O.phone||"",profil:null}),O.profil_url&&H(O.profil_url)}catch(se){u("Erreur lors du chargement des données"),console.error("Erreur:",se)}finally{i(!1)}})()},[s]),x.useEffect(()=>{We.replace()},[a]);const K=G=>{const{name:se,value:O}=G.target;L(W=>({...W,[se]:O})),d[se]&&f(W=>({...W,[se]:null}))},U=G=>{const{name:se,value:O}=G.target;Q(W=>({...W,[se]:O}))},V=G=>{const se=G.target.files[0];if(se){if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(se.type)){f(te=>({...te,profil:"Format de fichier non supporté. Utilisez JPG, PNG ou WEBP."}));return}if(se.size>2097152){f(te=>({...te,profil:"La taille du fichier ne doit pas dépasser 2MB."}));return}L(te=>({...te,profil:se}));const Z=new FileReader;Z.onload=te=>{H(te.target.result)},Z.readAsDataURL(se),d.profil&&f(te=>({...te,profil:null}))}},P=async G=>{G.preventDefault();try{c(!0),u(null),f({});const se=new FormData;Object.keys(M).forEach(W=>{W==="profil"?M.profil instanceof File&&se.append("profil",M.profil):M[W]!==null&&M[W]!==""&&se.append(W,M[W])}),se.append("_method","PUT"),(await he.post(`/formateur/update/formateur/${s}`,se,{headers:{"Content-Type":"multipart/form-data"}})).data.status==="success"&&(z("Formateur mis à jour avec succès !","success"),setTimeout(()=>{t(`/formateur/show/formateur/${s}`)},2e3))}catch(se){se.response?.data?.errors?(f(se.response.data.errors),z("Erreur de validation","danger")):(u(se.response?.data?.message||"Erreur lors de la mise à jour"),z("Erreur lors de la mise à jour","danger"))}finally{c(!1)}},q=async G=>{if(G.preventDefault(),!F.password||!F.password_confirmation){z("Veuillez remplir tous les champs du mot de passe","danger");return}if(F.password!==F.password_confirmation){z("Les mots de passe ne correspondent pas","danger");return}try{c(!0),u(null),(await he.put(`/formateur/update/formateur/${s}`,F)).data.status==="success"&&(z("Mot de passe mis à jour avec succès !","success"),k(!1),Q({password:"",password_confirmation:""}))}catch(se){se.response?.data?.errors?f(se.response.data.errors):z(se.response?.data?.message||"Erreur lors de la mise à jour du mot de passe","danger")}finally{c(!1)}};return n?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des données..."})]})}):o&&!a?e.jsxs(et,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),o]}),e.jsx("div",{className:"d-flex gap-2",children:e.jsxs($,{variant:"secondary",as:xe,to:"/formateur/view/formateur",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]})})]}):e.jsxs(et,{children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:`/formateur/show/formateur/${s}`,className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsx("h1",{className:"h3 mb-0",children:"Modifier le formateur"})]}),e.jsx("p",{className:"text-muted mb-0",children:"Modification des informations de l'administrateur"})]})}),o&&e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),o]}),e.jsx(b,{onSubmit:P,children:e.jsxs(pe,{children:[e.jsx(T,{lg:8,className:"mb-4",children:e.jsxs(w,{className:`border-0 shadow-sm ${p==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations personnelles"]})}),e.jsxs(w.Body,{children:[e.jsx(pe,{className:"mb-4",children:e.jsxs(T,{md:3,className:"text-center",children:[e.jsxs("div",{className:"position-relative d-inline-block mb-3",children:[I?e.jsx(Mt,{src:I,alt:"Photo de profil",className:"rounded-circle",width:"120",height:"120",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-light d-flex align-items-center justify-content-center border",style:{width:"120px",height:"120px"},children:e.jsx("i",{"data-feather":"user",className:"text-muted",style:{width:"48px",height:"48px"}})}),e.jsx($,{variant:"primary",size:"sm",className:"position-absolute bottom-0 end-0 rounded-circle p-2",style:{transform:"translate(25%, 25%)"},onClick:()=>document.getElementById("profileImage").click(),children:e.jsx("i",{"data-feather":"camera",style:{width:"12px",height:"12px"}})})]}),e.jsx("input",{type:"file",id:"profileImage",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:V,style:{display:"none"}}),e.jsx("p",{className:"small text-muted mb-0",children:"JPG, PNG, WEBP - Max 2MB"}),d.profil&&e.jsx("div",{className:"text-danger small mt-1",children:d.profil})]})}),e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Nom complet *"]}),e.jsx(b.Control,{type:"text",name:"name",value:M.name,onChange:K,placeholder:"Nom complet du formateur",isInvalid:!!d.name,className:p==="dark"?"bg-dark text-light border-secondary":"",required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:d.name?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Email *"]}),e.jsx(b.Control,{type:"email",name:"email",value:M.email,onChange:K,placeholder:"nom@email.com",isInvalid:!!d.email,className:p==="dark"?"bg-dark text-light border-secondary":"",required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:d.email?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"calendar",className:"me-2",style:{width:"16px",height:"16px"}}),"Date de naissance"]}),e.jsx(b.Control,{type:"date",name:"birthday",value:M.birthday,onChange:K,isInvalid:!!d.birthday,className:p==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:d.birthday?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"16px",height:"16px"}}),"Genre"]}),e.jsxs(b.Select,{name:"gender",value:M.gender,onChange:K,isInvalid:!!d.gender,className:p==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Sélectionner..."}),e.jsx("option",{value:"Masculin",children:"Masculin"}),e.jsx("option",{value:"Féminin",children:"Féminin"}),e.jsx("option",{value:"Autre",children:"Autre"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:d.gender?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"flag",className:"me-2",style:{width:"16px",height:"16px"}}),"Indicatif pays"]}),e.jsxs(b.Select,{name:"code_phone",value:M.code_phone,onChange:K,isInvalid:!!d.code_phone,className:p==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Sélectionner..."}),e.jsx("option",{value:"+237",children:"+237 (Cameroun)"}),e.jsx("option",{value:"+33",children:"+33 (France)"}),e.jsx("option",{value:"+235",children:"+235 (Tchad)"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:d.code_phone?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"phone",className:"me-2",style:{width:"16px",height:"16px"}}),"Numéro de téléphone"]}),e.jsx(b.Control,{type:"number",name:"phone",value:M.phone,onChange:K,placeholder:"690123456",isInvalid:!!d.phone,className:p==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:d.phone?.[0]}),e.jsx(b.Text,{className:"text-muted",children:"Numéro de contact du formateur"})]})})]}),e.jsx("hr",{className:"my-4"}),e.jsx(pe,{children:e.jsx(T,{md:12,children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs($,{variant:"outline-warning",onClick:()=>k(!0),className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"lock",className:"me-2",style:{width:"16px",height:"16px"}}),"Changer le mot de passe"]}),e.jsxs("div",{children:[e.jsx($,{variant:"outline-secondary",as:xe,to:`/formateur/show/formateur/${s}`,className:"me-2",disabled:l,children:"Annuler"}),e.jsx($,{variant:"primary",type:"submit",disabled:l,className:"d-flex align-items-center",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner-border spinner-border-sm me-2",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),"Mise à jour..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ss,{icon:"save",size:16,className:"me-2"}),"Enregistrer les Modifications"]})})]})]})})})]})]})}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${p==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${p==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"help-circle",className:"me-2 text-info",style:{width:"20px",height:"20px"}}),"Conseils"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"user-check",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Utilisez le nom complet tel qu'il apparaît sur les documents officiels"})]}),e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"mail",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"L'email sera utilisé pour les notifications et communications importantes"})]}),e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"shield",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Les formateurs ont accès aux fonctionnalités pédagogiques de base"})]}),e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{"data-feather":"phone",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Le numéro sera utilisé pour les urgences et confirmations"})]})]})})]}),a&&e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${p==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${p==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"info",className:"me-2 text-success",style:{width:"20px",height:"20px"}}),"Informations actuelles"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Matricule"}),e.jsx("code",{className:"px-2 py-1 bg-primary bg-opacity-10 rounded text-primary small",children:a.matricule})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Rôle"}),e.jsx("span",{className:"badge bg-info",children:"Administrateur"})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Inscrit le"}),e.jsx("span",{className:"small",children:new Date(a.created_at).toLocaleDateString("fr-FR")})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsx("span",{className:"small",children:"Dernière modification"}),e.jsx("span",{className:"small",children:new Date(a.updated_at).toLocaleDateString("fr-FR")})]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${p==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${p==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2 text-warning",style:{width:"20px",height:"20px"}}),"Actions supplémentaires"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"outline-info",as:xe,to:`/formateur/show/formateur/${s}`,children:[e.jsx("i",{"data-feather":"eye",className:"me-2",style:{width:"16px",height:"16px"}}),"Voir le profil"]}),e.jsxs($,{variant:"outline-primary",as:xe,to:"/formateur/view/formateur",children:[e.jsx("i",{"data-feather":"users",className:"me-2",style:{width:"16px",height:"16px"}}),"Tous les administrateurs"]})]})})]})]})]})}),e.jsxs(Y,{show:y,onHide:()=>k(!1),centered:!0,contentClassName:p==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{closeButton:!0,className:p==="dark"?"bg-dark text-light border-secondary":"",children:e.jsxs(Y.Title,{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"lock",className:"me-2",style:{width:"20px",height:"20px"}}),"Changer le mot de passe"]})}),e.jsxs(b,{onSubmit:q,children:[e.jsxs(Y.Body,{className:p==="dark"?"bg-dark text-light":"",children:[e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Nouveau mot de passe"}),e.jsx(b.Control,{type:"password",name:"password",value:F.password,onChange:U,placeholder:"Entrez le nouveau mot de passe",isInvalid:!!d.password,className:p==="dark"?"bg-dark text-light border-secondary":"",required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:d.password?.[0]}),e.jsx(b.Text,{className:"text-muted",children:"Minimum 8 caractères avec majuscules, minuscules et chiffres"})]}),e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Confirmer le mot de passe"}),e.jsx(b.Control,{type:"password",name:"password_confirmation",value:F.password_confirmation,onChange:U,placeholder:"Confirmez le nouveau mot de passe",className:p==="dark"?"bg-dark text-light border-secondary":"",required:!0})]})]}),e.jsxs(Y.Footer,{className:p==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>k(!1),disabled:l,children:"Annuler"}),e.jsx($,{variant:"primary",type:"submit",disabled:l,children:l?e.jsxs(e.Fragment,{children:[e.jsx(tt,{animation:"border",size:"sm",className:"me-2"}),"Mise à jour..."]}):"Mettre à jour"})]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:v,onClose:()=>S(!1),delay:3e3,autohide:!0,bg:A==="success"?"success":"danger",className:p==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${A==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":A==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:p==="dark"?"bg-dark text-light":"",children:C})]})})]})}function wEe(){const[s,t]=x.useState([]),[a,r]=x.useState([]),[n,i]=x.useState("card"),[l,c]=x.useState(""),[o,u]=x.useState(""),[d,f]=x.useState(""),[p,j]=x.useState(!1),[y,k]=x.useState(!1),[v,S]=x.useState(!1),[C,_]=x.useState(null),[A,D]=x.useState({}),[M,L]=x.useState(!1),[F,Q]=x.useState(""),[I,H]=x.useState("success"),[z,K]=x.useState({name:"",description:"",examen:"",status:"Open",image:null}),[U,V]=x.useState({}),[P,q]=x.useState("light");x.useEffect(()=>{const ee=document.documentElement.getAttribute("data-theme")||"light";q(ee);const me=new MutationObserver(()=>{const Xe=document.documentElement.getAttribute("data-theme")||"light";q(Xe)});return me.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>me.disconnect()},[]);const G=(ee,me="success")=>{Q(ee),H(me),L(!0)},se=x.useCallback(async()=>{try{const ee={};l.trim()&&(ee.search=l.trim()),o&&(ee.created_at=o),d&&(ee.status=d);const me=await he.get("/formateur/view/classroom",{params:ee});t(me.data.classrooms||[])}catch(ee){console.error("Erreur lors de la récupération des salles de classe",ee),G("Erreur lors de la récupération des données","danger")}},[l,o,d]),O=x.useCallback(async()=>{try{const ee=await he.get("/formateur/view/classroom/statistics");V(ee.data.statistics||{})}catch(ee){console.error("Erreur lors de la récupération des statistiques",ee)}},[]);x.useEffect(()=>{We.replace(),se(),O()},[se,O]),x.useEffect(()=>{We.replace()},[s,a,n]);const W=async ee=>{ee.preventDefault(),D({});try{const me=new FormData;me.append("name",z.name),me.append("description",z.description),me.append("examen",z.examen),me.append("status",z.status),z.image&&me.append("image",z.image),await he.post("/formateur/store/classroom",me,{headers:{"Content-Type":"multipart/form-data"}}),se(),O(),j(!1),K({name:"",description:"",examen:"",status:"Open",image:null}),G("Salle de classe ajoutée avec succès","success")}catch(me){me.response?.status===422?(D(me.response.data.errors||{}),G("Erreur de validation","danger")):(console.error(me),G("Une erreur inattendue s'est produite","danger"))}},Z=(ee=null)=>{_(ee),k(!0)},te=async()=>{try{const ee=C?[C]:a;C?await he.delete(`/formateur/destroy/classroom/${C}`):await he.post("/formateur/classroom/destroy-group",{ids:ee}),se(),O(),k(!1),r([]),_(null),G("Salle(s) de classe supprimée(s) avec succès","success")}catch(ee){console.error(ee),G(ee.response?.data?.message||"Erreur lors de la suppression","danger")}},ie=async ee=>{try{await he.post("/formateur/classroom/toggle-status-group",{ids:a,new_status:ee}),se(),O(),r([]),S(!1),G(`Statut des salles mis à jour vers ${ee}`,"success")}catch(me){console.error(me),G("Erreur lors de la mise à jour du statut","danger")}},fe=ee=>{const{value:me,checked:Xe}=ee.target,Se=parseInt(me);r(Xe?ae=>[...ae,Se]:ae=>ae.filter(ye=>ye!==Se))},J=ee=>{ee.target.checked?r(s.map(me=>me.id)):r([])},ge=async ee=>{ee.preventDefault();try{const me=new URLSearchParams;l.trim()&&me.append("search",l.trim()),o&&me.append("created_at",o),d&&me.append("status",d);const Xe=await he.get(`/formateur/classroom/export/pdf?${me.toString()}`,{responseType:"blob"}),Se=`salles_classe_${new Date().toISOString().slice(0,10)}.pdf`;Ea(Xe.data,Se),G("Le rapport PDF est en cours de téléchargement","success")}catch(me){console.error("Erreur de téléchargement PDF:",me),G("Échec du téléchargement PDF","danger")}},re=async ee=>{ee.preventDefault();try{const me=new URLSearchParams;l.trim()&&me.append("search",l.trim()),o&&me.append("created_at",o),d&&me.append("status",d);const Xe=await he.get(`/formateur/classroom/export/excel?${me.toString()}`,{responseType:"blob"}),Se=`salles_classe_${new Date().toISOString().slice(0,10)}.xlsx`;Ea(Xe.data,Se),G("Le fichier Excel est en cours de téléchargement","success")}catch(me){console.error("Erreur de téléchargement Excel:",me),G("Échec du téléchargement Excel","danger")}},ve=()=>e.jsx(pe,{className:"g-4",children:s.length?s.map(ee=>e.jsx(T,{md:6,lg:3,children:e.jsxs(w,{className:`h-100 mb-4 border-0 shadow-sm ${P==="dark"?"bg-dark":"bg-white"} position-relative`,children:[a.length>0&&e.jsx("div",{className:"position-absolute top-0 start-0 p-2",style:{zIndex:10},children:e.jsx(b.Check,{type:"checkbox",value:ee.id,checked:a.includes(ee.id),onChange:fe})}),e.jsxs("div",{className:"position-relative",children:[e.jsx(w.Img,{variant:"top",src:ee.image_url||"/placeholder/classroom_placeholder.png",style:{height:"140px",objectFit:"cover"}}),e.jsx(oe,{bg:ee.status==="Open"?"success":"danger",className:"position-absolute top-0 end-0 m-2",children:ee.status==="Open"?"Ouverte":"Fermée"})]}),e.jsxs(w.Body,{className:"d-flex flex-column p-3",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx(w.Title,{className:`h6 mb-2 ${P==="dark"?"text-light":"text-dark"}`,title:ee.name,children:ee.name.length>15?ee.name.substring(0,15)+"...":ee.name}),e.jsxs(w.Text,{className:`small ${P==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"hash",className:"me-1",style:{width:"12px",height:"12px"}}),ee.matricule]}),e.jsx(w.Text,{className:P==="dark"?"text-light":"text-dark",children:ee.description?ee.description.length>50?ee.description.substring(0,50)+"...":ee.description:"Aucune description"}),ee.examen?e.jsxs(w.Text,{className:"small text-info",title:ee.examen,children:[e.jsx("i",{"data-feather":"file-text",className:"me-1",style:{width:"12px",height:"12px"}}),ee.examen.length>15?ee.examen.substring(0,15)+"...":ee.examen]}):e.jsxs(w.Text,{className:"small text-info",title:ee.examen,children:[e.jsx("i",{"data-feather":"file-text",className:"me-1",style:{width:"12px",height:"12px"}}),"Aucun Examen"]})]}),e.jsx("div",{className:"d-flex justify-content-between align-items-center mt-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"users",className:"me-1 text-muted",style:{width:"14px",height:"14px"}}),e.jsxs("small",{className:P==="dark"?"text-light":"text-muted",children:[ee.users_count||0," etudiant(s)"]})]})}),e.jsx("div",{className:"d-flex justify-content-between align-items-center mt-3",children:e.jsxs(Ga,{size:"sm",children:[e.jsx($,{variant:"outline-info",as:xe,to:`/formateur/show/classroom/${ee.id}`,title:"Voir les détails",children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),e.jsx($,{variant:"outline-warning",as:xe,to:`/formateur/classroom/${ee.id}/edit`,title:"Modifier",children:e.jsx("i",{"data-feather":"edit",style:{width:"14px",height:"14px"}})}),e.jsx($,{variant:"outline-danger",title:"Supprimer",onClick:()=>Z(ee.id),children:e.jsx("i",{"data-feather":"trash-2",style:{width:"14px",height:"14px"}})})]})})]})]})},ee.id)):e.jsx(T,{xs:12,children:e.jsx("div",{className:"text-center py-5",children:e.jsxs("div",{className:`${P==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"home",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucune salle de classe trouvée"}),e.jsx("p",{className:"small mb-0",children:"Aucune salle ne correspond à vos critères de recherche."})]})]})})})}),Oe=()=>e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`align-middle ${P==="dark"?"table-dark":""}`,style:{borderRadius:"8px",overflow:"hidden"},children:[e.jsx("thead",{className:"table-primary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center",style:{width:"50px"},children:e.jsx(b.Check,{type:"checkbox",onChange:J,checked:a.length===s.length&&s.length>0})}),e.jsxs("th",{children:[e.jsx("i",{"data-feather":"home",className:"me-2",style:{width:"16px",height:"16px"}}),"Salle de classe"]}),e.jsxs("th",{className:"d-none d-md-table-cell",children:[e.jsx("i",{"data-feather":"file-text",className:"me-2",style:{width:"16px",height:"16px"}}),"Description"]}),e.jsxs("th",{className:"d-none d-lg-table-cell",children:[e.jsx("i",{"data-feather":"users",className:"me-2",style:{width:"16px",height:"16px"}}),"Utilisateurs"]}),e.jsxs("th",{className:"d-none d-lg-table-cell text-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"16px",height:"16px"}}),"Statut"]}),e.jsxs("th",{className:"text-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"16px",height:"16px"}}),"Actions"]})]})}),e.jsx("tbody",{children:s.length?s.map(ee=>e.jsxs("tr",{className:P==="dark"?"border-secondary":"",children:[e.jsx("td",{className:"text-center",children:e.jsx(b.Check,{type:"checkbox",value:ee.id,checked:a.includes(ee.id),onChange:fe})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"me-3",children:e.jsx("img",{src:ee.image_url||"/placeholder/classroom_placeholder.png",alt:ee.name,style:{width:"48px",height:"48px",borderRadius:"8px",objectFit:"cover",border:"2px solid rgba(255, 255, 255, 0.1)"}})}),e.jsxs("div",{children:[e.jsx("div",{className:`fw-bold ${P==="dark"?"text-light":"text-dark"}`,children:ee.name.length>20?ee.name.substring(0,20)+"...":ee.name}),e.jsx("small",{className:P==="dark"?"text-light":"text-muted",title:ee.matricule,children:ee.matricule}),ee.examen&&e.jsx("div",{children:e.jsxs("small",{className:"text-info",children:[e.jsx("i",{"data-feather":"file-text",className:"me-1",style:{width:"12px",height:"12px"}}),ee.examen]})})]})]})}),e.jsx("td",{className:"d-none d-md-table-cell",children:e.jsx("div",{className:`small ${P==="dark"?"text-light":"text-dark"}`,children:ee.description?ee.description.length>50?ee.description.substring(0,50)+"...":ee.description:"Aucune description"})}),e.jsx("td",{className:"d-none d-lg-table-cell",children:e.jsxs("div",{className:`d-flex align-items-center ${P==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"users",className:"me-2 text-primary",style:{width:"16px",height:"16px"}}),e.jsx("span",{className:"fw-bold",children:ee.users_count||0})]})}),e.jsx("td",{className:"d-none d-lg-table-cell text-center",children:e.jsxs(oe,{bg:ee.status==="Open"?"success":"danger",className:"px-3 py-2",children:[e.jsx("i",{"data-feather":ee.status==="Open"?"unlock":"lock",className:"me-1",style:{width:"12px",height:"12px"}}),ee.status==="Open"?"Ouverte":"Fermée"]})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{className:"d-flex gap-1 justify-content-center",children:[e.jsx($,{size:"sm",variant:"outline-info",title:"Voir les détails",as:xe,to:`/formateur/show/classroom/${ee.id}`,children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-warning",title:"Modifier",as:xe,to:`/formateur/classroom/${ee.id}/edit`,children:e.jsx("i",{"data-feather":"edit",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-danger",title:"Supprimer",onClick:()=>Z(ee.id),children:e.jsx("i",{"data-feather":"trash-2",style:{width:"14px",height:"14px"}})})]})})]},ee.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"text-center py-5",children:e.jsxs("div",{className:`${P==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"home",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucune salle de classe trouvée"}),e.jsx("p",{className:"small mb-0",children:"Aucune salle ne correspond à vos critères de recherche."})]})]})})})})]})});return e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${P==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"home",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${P==="dark"?"text-light":"text-dark"}`,children:"Gestion des Salles de Classe"}),e.jsx("p",{className:`mb-0 ${P==="dark"?"text-light":"text-muted"}`,children:"Administration des espaces de formation"})]})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${P==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${P==="dark"?"text-light":"text-dark"}`,children:U.total_classrooms||s.length}),e.jsx("small",{className:P==="dark"?"text-light":"text-muted",children:"Total Salles"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"home",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${P==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:U.open_classrooms||s.filter(ee=>ee.status==="Open").length}),e.jsx("small",{className:P==="dark"?"text-light":"text-muted",children:"Ouvertes"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"unlock",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${P==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-danger",children:U.close_classrooms||s.filter(ee=>ee.status==="Close").length}),e.jsx("small",{className:P==="dark"?"text-light":"text-muted",children:"Fermées"})]}),e.jsx("div",{className:"text-danger",children:e.jsx("i",{"data-feather":"lock",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${P==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-info",children:U.total_users_in_classrooms||0}),e.jsx("small",{className:P==="dark"?"text-light":"text-muted",children:"Utilisateurs"})]}),e.jsx("div",{className:"text-info",children:e.jsx("i",{"data-feather":"users",style:{width:"24px",height:"24px"}})})]})})})})]})]}),e.jsxs(w,{className:`shadow-sm border-0 ${P==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${P==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"home",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${P==="dark"?"text-light":"text-dark"}`,children:"Salles de Classe"}),e.jsxs(Ga,{className:"ms-3",children:[e.jsx($,{variant:n==="card"?"primary":"outline-secondary",size:"sm",onClick:()=>i("card"),children:e.jsx("i",{"data-feather":"grid",style:{width:"14px",height:"14px"}})}),e.jsx($,{variant:n==="table"?"primary":"outline-secondary",size:"sm",onClick:()=>i("table"),children:e.jsx("i",{"data-feather":"list",style:{width:"14px",height:"14px"}})})]})]}),e.jsxs("div",{className:"d-flex gap-2 mt-2 mt-md-0",children:[a.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs($,{variant:"warning",className:"d-flex align-items-center",onClick:()=>S(!0),children:[e.jsx("i",{"data-feather":"edit",className:"me-2",style:{width:"16px",height:"16px"}}),"Statut (",a.length,")"]}),e.jsxs($,{variant:"danger",className:"d-flex align-items-center",onClick:()=>Z(),children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer (",a.length,")"]})]}),e.jsxs(at,{children:[e.jsxs(at.Toggle,{variant:"outline-primary",className:"d-flex align-items-center",id:"dropdown-export",children:[e.jsx("i",{"data-feather":"download",className:"me-2",style:{width:"16px",height:"16px"}}),"Exporter"]}),e.jsx(at.Menu,{className:"shadow-lg border-0",style:{minWidth:"300px"},children:e.jsxs("div",{className:"p-3",children:[e.jsxs("h6",{className:"text-primary mb-3",children:[e.jsx("i",{"data-feather":"file-text",className:"me-2",style:{width:"16px",height:"16px"}}),"Rapport PDF"]}),e.jsx(b,{onSubmit:ge,className:"mb-3",children:e.jsxs($,{type:"submit",variant:"primary",className:"w-100",children:[e.jsx("i",{"data-feather":"file-text",className:"me-2",style:{width:"16px",height:"16px"}}),"Télécharger PDF"]})}),e.jsx("hr",{}),e.jsxs("h6",{className:"text-success mb-3",children:[e.jsx("i",{"data-feather":"file",className:"me-2",style:{width:"16px",height:"16px"}}),"Fichier Excel"]}),e.jsx(b,{onSubmit:re,children:e.jsxs($,{type:"submit",variant:"success",className:"w-100",children:[e.jsx("i",{"data-feather":"file",className:"me-2",style:{width:"16px",height:"16px"}}),"Télécharger Excel"]})})]})})]}),e.jsxs($,{variant:"success",className:"d-flex align-items-center",onClick:()=>j(!0),children:[e.jsx("i",{"data-feather":"plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Nouvelle Salle"]})]})]})}),e.jsxs(w.Body,{className:P==="dark"?"bg-dark":"bg-white",children:[e.jsxs("div",{className:"mb-4 p-3 rounded",style:{backgroundColor:P==="dark"?"#1a1a1a":"#f8f9fa"},children:[e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs(b.Label,{className:`small fw-bold ${P==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"search",className:"me-1",style:{width:"14px",height:"14px"}}),"Recherche Globale"]}),e.jsx(b.Control,{type:"text",placeholder:"Nom, matricule, description...",value:l,onChange:ee=>c(ee.target.value),onKeyDown:ee=>ee.key==="Enter"&&se(),className:P==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsxs(b.Label,{className:`small fw-bold ${P==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"14px",height:"14px"}}),"Date de création"]}),e.jsx(b.Control,{type:"date",value:o,onChange:ee=>u(ee.target.value),className:P==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsxs(b.Label,{className:`small fw-bold ${P==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"activity",className:"me-1",style:{width:"14px",height:"14px"}}),"Statut"]}),e.jsxs(b.Select,{value:d,onChange:ee=>f(ee.target.value),className:P==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous"}),e.jsx("option",{value:"Open",children:"Ouvertes"}),e.jsx("option",{value:"Close",children:"Fermées"})]})]})]}),a.length>0&&e.jsxs("div",{className:"mt-3 p-2 bg-primary bg-opacity-10 rounded",children:[e.jsxs("small",{className:"text-primary fw-bold",children:[a.length," salle(s) sélectionnée(s)"]}),e.jsx($,{size:"sm",variant:"outline-secondary",className:"ms-2",onClick:()=>r([]),children:"Désélectionner tout"})]})]}),n==="card"?ve():Oe()]})]}),e.jsxs(Y,{show:p,onHide:()=>j(!1),centered:!0,size:"lg",contentClassName:P==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:P==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Ajouter une Salle de Classe"})}),e.jsxs(b,{onSubmit:W,children:[e.jsx(Y.Body,{className:P==="dark"?"bg-dark text-light":"",children:e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Nom de la salle *"}),e.jsx(b.Control,{type:"text",placeholder:"Ex: Salle A101",required:!0,value:z.name,onChange:ee=>K({...z,name:ee.target.value}),isInvalid:!!A.name,className:P==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.name})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Statut *"}),e.jsxs(b.Select,{value:z.status,onChange:ee=>K({...z,status:ee.target.value}),isInvalid:!!A.status,className:P==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"Open",children:"Ouverte"}),e.jsx("option",{value:"Close",children:"Fermée"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.status})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Examen (optionnel)"}),e.jsx(b.Control,{type:"text",placeholder:"Ex: Examen final 2024",value:z.examen,onChange:ee=>K({...z,examen:ee.target.value}),isInvalid:!!A.examen,className:P==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.examen})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Image de la salle"}),e.jsx(b.Control,{type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:ee=>K({...z,image:ee.target.files[0]}),isInvalid:!!A.image,className:P==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.image}),e.jsx(b.Text,{className:"text-muted",children:"JPG, PNG, WEBP - Max 2MB"})]})}),e.jsx(T,{md:12,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Description"}),e.jsx(b.Control,{as:"textarea",rows:3,placeholder:"Description de la salle de classe...",value:z.description,onChange:ee=>K({...z,description:ee.target.value}),isInvalid:!!A.description,className:P==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.description})]})})]})}),e.jsxs(Y.Footer,{className:P==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>j(!1),children:"Annuler"}),e.jsxs($,{type:"submit",variant:"success",children:[e.jsx("i",{"data-feather":"save",className:"me-2",style:{width:"16px",height:"16px"}}),"Enregistrer"]})]})]})]}),e.jsxs(Y,{show:v,onHide:()=>S(!1),centered:!0,contentClassName:P==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:P==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Changer le statut des salles"})}),e.jsxs(Y.Body,{className:P==="dark"?"bg-dark text-light":"",children:[e.jsxs("p",{children:["Vous allez modifier le statut de ",a.length," salle(s) sélectionnée(s)."]}),e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"success",onClick:()=>ie("Open"),children:[e.jsx("i",{"data-feather":"unlock",className:"me-2",style:{width:"16px",height:"16px"}}),"Ouvrir les salles"]}),e.jsxs($,{variant:"danger",onClick:()=>ie("Close"),children:[e.jsx("i",{"data-feather":"lock",className:"me-2",style:{width:"16px",height:"16px"}}),"Fermer les salles"]})]})]}),e.jsx(Y.Footer,{className:P==="dark"?"bg-dark text-light border-secondary":"",children:e.jsx($,{variant:"secondary",onClick:()=>S(!1),children:"Annuler"})})]}),e.jsxs(Y,{show:y,onHide:()=>k(!1),centered:!0,contentClassName:P==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:P==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Confirmation de Suppression"})}),e.jsxs(Y.Body,{className:P==="dark"?"bg-dark text-light":"",children:[e.jsxs("p",{children:["Êtes-vous sûr de vouloir supprimer ",C?"cette salle":"ces salles"," ?"]}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),"Cette action est irréversible."]})]}),e.jsxs(Y.Footer,{className:P==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>k(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:te,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:M,onClose:()=>L(!1),delay:3e3,autohide:!0,bg:I==="success"?"success":"danger",className:P==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${I==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":I==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:P==="dark"?"bg-dark text-light":"",children:F})]})})]})})}function kEe(){const{id:s}=is(),t=Ut(),[a,r]=x.useState(null),[n,i]=x.useState([]),[l,c]=x.useState(!0),[o,u]=x.useState(null),[d,f]=x.useState(!1),[p,j]=x.useState(!1),[y,k]=x.useState("light");x.useEffect(()=>{const M=document.documentElement.getAttribute("data-theme")||"light";k(M);const L=new MutationObserver(()=>{const F=document.documentElement.getAttribute("data-theme")||"light";k(F)});return L.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>L.disconnect()},[]),x.useEffect(()=>{s&&(async()=>{try{c(!0);const L=await he.get(`/formateur/show/classroom/${s}`);r(L.data.classroom),i(L.data.classroom.users||[])}catch(L){u("Erreur lors du chargement de la salle de classe"),console.error("Erreur:",L)}finally{c(!1)}})()},[s]),x.useEffect(()=>{We.replace()},[a,n]);const v=async()=>{try{const M=await he.patch(`/formateur/classroom/${s}/toggle-status`);r(M.data.classroom),f(!1)}catch(M){console.error("Erreur lors du changement de statut:",M)}},S=async()=>{try{await he.delete(`/formateur/destroy/classroom/${s}`),t("/formateur/view/classrooms")}catch(M){console.error("Erreur lors de la suppression:",M),u(M.response?.data?.message||"Erreur lors de la suppression"),j(!1)}},C=M=>M?new Date(M).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Non renseigné",_=M=>M==="Open"?"success":"danger",A=M=>M==="Open"?"unlock":"lock",D=M=>M==="Open"?"Ouverte":"Fermée";return l?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des détails..."})]})}):o?e.jsxs(et,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),o]}),e.jsxs($,{variant:"secondary",as:xe,to:"/formateur/view/classrooms",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]})]}):a?e.jsxs(et,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:"/formateur/view/classrooms",className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsx("h1",{className:"h3 mb-0",children:a.name}),e.jsxs(oe,{bg:_(a.status),className:"ms-3 px-3 py-2",children:[e.jsx("i",{"data-feather":A(a.status),className:"me-1",style:{width:"14px",height:"14px"}}),D(a.status)]})]}),e.jsxs("p",{className:"text-muted mb-0",children:[e.jsx("i",{"data-feather":"hash",className:"me-1",style:{width:"14px",height:"14px"}}),a.matricule]})]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:a.status==="Open"?"warning":"success",onClick:()=>f(!0),className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":a.status==="Open"?"lock":"unlock",className:"me-2",style:{width:"16px",height:"16px"}}),a.status==="Open"?"Fermer":"Ouvrir"]}),e.jsxs($,{variant:"primary",as:xe,to:`/formateur/classroom/${a.id}/edit`,className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"edit",className:"me-2",style:{width:"16px",height:"16px"}}),"Modifier"]}),e.jsxs($,{variant:"outline-danger",onClick:()=>j(!0),className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsxs(pe,{children:[e.jsxs(T,{lg:8,className:"mb-4",children:[e.jsxs(w,{className:`border-0 shadow-sm ${y==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"home",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations de la salle"]})}),e.jsxs(w.Body,{children:[e.jsxs(pe,{className:"align-items-start mb-4",children:[e.jsx(T,{md:4,className:"text-center",children:e.jsxs("div",{className:"position-relative d-inline-block",children:[e.jsx(Mt,{src:a.image_url||"/placeholder/classroom_placeholder.png",alt:"Photo de la salle",className:"rounded",width:"200",height:"150",style:{objectFit:"cover"}}),e.jsx(oe,{bg:_(a.status),className:"position-absolute top-0 end-0 m-2",children:e.jsx("i",{"data-feather":A(a.status),style:{width:"12px",height:"12px"}})})]})}),e.jsxs(T,{md:8,children:[e.jsx("h4",{className:`mb-3 ${y==="dark"?"text-light":"text-dark"}`,children:a.name}),a.description&&e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:`mb-1 fw-semibold ${y==="dark"?"text-light":"text-dark"}`,children:"Description :"}),e.jsx("p",{className:y==="dark"?"text-light":"text-muted",children:a.description})]}),a.examen&&e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:`mb-1 fw-semibold ${y==="dark"?"text-light":"text-dark"}`,children:"Examen :"}),e.jsxs("p",{className:"text-info",children:[e.jsx("i",{"data-feather":"file-text",className:"me-1",style:{width:"16px",height:"16px"}}),a.examen]})]}),e.jsxs("div",{className:"d-flex align-items-center flex-wrap gap-3",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"users",className:"me-2 text-primary",style:{width:"18px",height:"18px"}}),e.jsxs("span",{className:`fw-bold ${y==="dark"?"text-light":"text-dark"}`,children:[a.users_count||0," utilisateur(s)"]})]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"calendar",className:"me-2 text-secondary",style:{width:"18px",height:"18px"}}),e.jsxs("span",{className:`small ${y==="dark"?"text-light":"text-muted"}`,children:["Créée le ",C(a.created_at)]})]})]})]})]}),e.jsx("hr",{className:"my-4"}),e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Matricule :"}),e.jsx("span",{className:`fw-medium ${y==="dark"?"text-light":"text-dark"}`,children:a.matricule})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Statut :"}),e.jsxs(oe,{bg:_(a.status),children:[e.jsx("i",{"data-feather":A(a.status),className:"me-1",style:{width:"12px",height:"12px"}}),D(a.status)]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Date de création :"}),e.jsx("span",{className:`fw-medium ${y==="dark"?"text-light":"text-dark"}`,children:C(a.created_at)})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Dernière mise à jour :"}),e.jsx("span",{className:`fw-medium ${y==="dark"?"text-light":"text-dark"}`,children:C(a.updated_at)})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Nombre d'utilisateurs :"}),e.jsx("span",{className:"fw-bold text-primary",children:a.users_count||0})]})}),a.examen&&e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Type d'examen :"}),e.jsx("span",{className:"fw-medium text-info",children:a.examen})]})})]})]})]}),n.length>0&&e.jsxs(w,{className:`border-0 shadow-sm mt-4 ${y==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"users",className:"me-2",style:{width:"20px",height:"20px"}}),"Utilisateurs de la salle (",n.length,")"]})}),e.jsx(w.Body,{className:"p-0",children:e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`mb-0 ${y==="dark"?"table-dark":""}`,children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsxs("th",{children:[e.jsx("i",{"data-feather":"user",className:"me-1",style:{width:"14px",height:"14px"}}),"Utilisateur"]}),e.jsxs("th",{className:"d-none d-lg-table-cell",children:[e.jsx("i",{"data-feather":"shield",className:"me-1",style:{width:"14px",height:"14px"}}),"Rôle"]}),e.jsxs("th",{className:"text-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-1",style:{width:"14px",height:"14px"}}),"Statut"]}),e.jsx("th",{className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:n.map(M=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"me-3",children:M?.profil_url?e.jsx("img",{src:M.profil_url,alt:M.name||"Utilisateur",style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-light d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px"},children:e.jsx("i",{"data-feather":"user",className:"text-muted",style:{width:"16px",height:"16px"}})})}),e.jsxs("div",{children:[e.jsx("div",{className:`fw-bold ${y==="dark"?"text-light":"text-dark"}`,children:M.name}),e.jsx("div",{className:`fw-bold ${y==="dark"?"text-light":"text-dark"}`,children:M.email})]})]})}),e.jsx("td",{className:"d-none d-lg-table-cell",children:e.jsx(oe,{bg:"info",className:"px-2 py-1",children:M.role==="1"?"Admin":M.role==="2"?"Formateur":"Étudiant"})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:M.status==="Connecté"?"success":M.status==="Déconnecté"?"secondary":"warning",className:"px-2 py-1",children:M.status||"Indéfini"})}),e.jsx("td",{className:"text-center",children:e.jsx($,{size:"sm",variant:"outline-info",as:xe,to:`/formateur/view/classroom/user/${M.id}`,title:"Voir le profil",children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})})})]},M.id))})]})})})]})]}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${y==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"20px",height:"20px"}}),"Actions rapides"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"primary",as:xe,to:`/formateur/classroom/${a.id}/edit`,className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"edit",className:"me-2",style:{width:"18px",height:"18px"}}),"Modifier la salle"]}),e.jsxs($,{variant:a.status==="Open"?"warning":"success",onClick:()=>f(!0),className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":a.status==="Open"?"lock":"unlock",className:"me-2",style:{width:"18px",height:"18px"}}),a.status==="Open"?"Fermer la salle":"Ouvrir la salle"]}),e.jsxs($,{variant:"outline-info",as:xe,to:`/formateur/view/classroom/${a.id}/users`,className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"users",className:"me-2",style:{width:"18px",height:"18px"}}),"Gérer les utilisateurs (",a.users_count||0,")"]}),e.jsxs($,{variant:"outline-info",as:xe,to:`/formateur/matiere/by-classroom/${a.matricule}`,title:"Voir toutes les matières de cette classe",className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"18px",height:"18px"}}),"Gérer les matieres (",a.matieres_count||0,")"]}),e.jsxs($,{variant:"outline-info",as:xe,to:`/formateur/view/cours/classroom/${a.matricule}`,title:"Voir toutes les matières de cette classe",className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"18px",height:"18px"}}),"Gérer les cours (",a.matieres?.cours?.length||0,")"]}),e.jsxs($,{variant:"outline-secondary",as:xe,to:"/formateur/view/classrooms",className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"list",className:"me-2",style:{width:"18px",height:"18px"}}),"Toutes les salles"]})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${y==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"bar-chart-2",className:"me-2",style:{width:"20px",height:"20px"}}),"Statistiques"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("div",{className:"text-primary mb-2",children:e.jsx("i",{"data-feather":"users",style:{width:"32px",height:"32px"}})}),e.jsx("h4",{className:"text-primary mb-0",children:a.users_count||0}),e.jsx("small",{className:y==="dark"?"text-light":"text-muted",children:"Utilisateur(s) assigné(s)"})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Statut actuel :"}),e.jsx(oe,{bg:_(a.status),children:D(a.status)})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Créée il y a :"}),e.jsxs("span",{className:y==="dark"?"text-light":"text-dark",children:[Math.ceil((new Date-new Date(a.created_at))/(1e3*60*60*24))," jour(s)"]})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Type de salle :"}),e.jsx("span",{className:y==="dark"?"text-light":"text-dark",children:a.examen?"Avec examen":"Standard"})]})]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${y==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"info",className:"me-2 text-info",style:{width:"20px",height:"20px"}}),"Informations système"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("i",{"data-feather":"hash",className:"text-info me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:"Matricule"}),e.jsx("div",{className:`text-muted font-monospace ${y==="dark"?"text-light":""}`,children:a.matricule})]})]}),e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("i",{"data-feather":"calendar",className:"text-info me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:"Date de création"}),e.jsx("div",{className:`text-muted ${y==="dark"?"text-light":""}`,children:C(a.created_at)})]})]}),e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{"data-feather":"clock",className:"text-info me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:"Dernière modification"}),e.jsx("div",{className:`text-muted ${y==="dark"?"text-light":""}`,children:C(a.updated_at)})]})]})]})})]})]})]}),e.jsxs(Y,{show:d,onHide:()=>f(!1),centered:!0,contentClassName:y==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:y==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsxs(Y.Title,{children:[e.jsx("i",{"data-feather":"edit",className:"me-2",style:{width:"20px",height:"20px"}}),"Changer le statut de la salle"]})}),e.jsxs(Y.Body,{className:y==="dark"?"bg-dark text-light":"",children:[e.jsxs("p",{children:["Vous allez ",a.status==="Open"?"fermer":"ouvrir"," la salle ",e.jsxs("strong",{children:['"',a.name,'"']}),"."]}),e.jsxs("div",{className:`alert ${a.status==="Open"?"alert-warning":"alert-success"}`,children:[e.jsx("i",{"data-feather":a.status==="Open"?"lock":"unlock",className:"me-2",style:{width:"16px",height:"16px"}}),a.status==="Open"?"Une fois fermée, la salle ne sera plus accessible aux utilisateurs.":"Une fois ouverte, la salle sera accessible à tous les utilisateurs assignés."]})]}),e.jsxs(Y.Footer,{className:y==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>f(!1),children:"Annuler"}),e.jsxs($,{variant:a.status==="Open"?"warning":"success",onClick:v,children:[e.jsx("i",{"data-feather":a.status==="Open"?"lock":"unlock",className:"me-2",style:{width:"16px",height:"16px"}}),a.status==="Open"?"Fermer":"Ouvrir"," la salle"]})]})]}),e.jsxs(Y,{show:p,onHide:()=>j(!1),centered:!0,contentClassName:y==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:y==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsxs(Y.Title,{children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2 text-danger",style:{width:"20px",height:"20px"}}),"Supprimer la salle"]})}),e.jsxs(Y.Body,{className:y==="dark"?"bg-dark text-light":"",children:[e.jsxs("p",{children:["Êtes-vous sûr de vouloir supprimer définitivement la salle ",e.jsxs("strong",{children:['"',a.name,'"']})," ?"]}),e.jsxs("div",{className:"alert alert-danger",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),e.jsx("strong",{children:"Attention :"})," Cette action est irréversible.",a.users_count>0&&e.jsxs("span",{children:[" Cette salle contient ",a.users_count," utilisateur(s) qui devront être réassignés."]})]})]}),e.jsxs(Y.Footer,{className:y==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>j(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:S,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer définitivement"]})]})]})]}):e.jsxs(et,{children:[e.jsxs(lt,{variant:"warning",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2"}),"Salle de classe non trouvée"]}),e.jsxs($,{variant:"secondary",as:xe,to:"/formateur/view/classrooms",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]})]})}function SEe(){const{id:s}=is(),t=Ut(),[a,r]=x.useState(null),[n,i]=x.useState(!0),[l,c]=x.useState(!1),[o,u]=x.useState(null),[d,f]=x.useState(null),[p,j]=x.useState({}),[y,k]=x.useState(!1),[v,S]=x.useState({name:"",description:"",examen:"",status:"Open",image:null}),[C,_]=x.useState(null),[A,D]=x.useState("light");x.useEffect(()=>{const I=document.documentElement.getAttribute("data-theme")||"light";D(I);const H=new MutationObserver(()=>{const z=document.documentElement.getAttribute("data-theme")||"light";D(z)});return H.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>H.disconnect()},[]),x.useEffect(()=>{s&&(async()=>{try{i(!0);const z=(await he.get(`/formateur/classroom/${s}/edit`)).data.classroom;r(z),S({name:z.name||"",description:z.description||"",examen:z.examen||"",status:z.status||"Open",image:null}),z.image_url&&_(z.image_url)}catch(H){u("Erreur lors du chargement de la salle de classe"),console.error("Erreur:",H)}finally{i(!1)}})()},[s]),x.useEffect(()=>{We.replace()},[a]);const M=I=>{const{name:H,value:z}=I.target;S(K=>({...K,[H]:z})),p[H]&&j(K=>({...K,[H]:null}))},L=I=>{const H=I.target.files[0];if(H){if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(H.type)){j(V=>({...V,image:"Format de fichier non supporté. Utilisez JPG, PNG ou WEBP."}));return}if(H.size>2097152){j(V=>({...V,image:"La taille du fichier ne doit pas dépasser 2MB."}));return}S(V=>({...V,image:H}));const U=new FileReader;U.onload=V=>{_(V.target.result)},U.readAsDataURL(H),p.image&&j(V=>({...V,image:null}))}},F=async I=>{I.preventDefault();try{c(!0),u(null),f(null),j({});const H=new FormData;Object.keys(v).forEach(K=>{K==="image"?v.image instanceof File&&H.append("image",v.image):v[K]!==null&&v[K]!==""&&H.append(K,v[K])}),H.append("_method","PUT"),(await he.post(`/formateur/update/classroom/${s}`,H,{headers:{"Content-Type":"multipart/form-data"}})).data.status==="success"&&(f("Salle de classe mise à jour avec succès !"),setTimeout(()=>{t(`/formateur/show/classroom/${s}`)},2e3))}catch(H){H.response?.data?.errors?j(H.response.data.errors):u(H.response?.data?.message||"Erreur lors de la mise à jour de la salle")}finally{c(!1)}},Q=async()=>{try{c(!0),await he.delete(`/formateur/destroy/classroom/${s}`),t("/formateur/view/classrooms")}catch(I){u(I.response?.data?.message||"Erreur lors de la suppression"),k(!1)}finally{c(!1)}};return n?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement de la salle..."})]})}):o&&!a?e.jsxs(et,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),o]}),e.jsxs($,{variant:"secondary",as:xe,to:"/formateur/view/classrooms",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]})]}):e.jsxs(et,{children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:`/formateur/show/classroom/${s}`,className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsx("h1",{className:"h3 mb-0",children:"Modifier la salle"})]}),e.jsx("p",{className:"text-muted mb-0",children:"Modifiez les informations de la salle de classe"})]})}),o&&e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),o]}),d&&e.jsxs(lt,{variant:"success",className:"mb-4",children:[e.jsx("i",{"data-feather":"check-circle",className:"me-2"}),d]}),e.jsx(b,{onSubmit:F,children:e.jsxs(pe,{children:[e.jsx(T,{lg:8,className:"mb-4",children:e.jsxs(w,{className:`border-0 shadow-sm ${A==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"home",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations de la salle"]})}),e.jsxs(w.Body,{children:[e.jsxs(pe,{className:"mb-4",children:[e.jsxs(T,{md:4,className:"text-center",children:[e.jsxs("div",{className:"position-relative d-inline-block mb-3",children:[C?e.jsx(Mt,{src:C,alt:"Image de la salle",className:"rounded",width:"200",height:"150",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded bg-light d-flex align-items-center justify-content-center border",style:{width:"200px",height:"150px"},children:e.jsx("i",{"data-feather":"home",className:"text-muted",style:{width:"48px",height:"48px"}})}),e.jsx($,{variant:"primary",size:"sm",className:"position-absolute bottom-0 end-0 rounded-circle p-2",style:{transform:"translate(25%, 25%)"},onClick:()=>document.getElementById("classroomImage").click(),children:e.jsx("i",{"data-feather":"camera",style:{width:"12px",height:"12px"}})})]}),e.jsx("input",{type:"file",id:"classroomImage",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:L,style:{display:"none"}}),e.jsx("p",{className:"small text-muted mb-0",children:"JPG, PNG, WEBP - Max 2MB"}),p.image&&e.jsx("div",{className:"text-danger small mt-1",children:p.image})]}),e.jsx(T,{md:8,children:e.jsxs("div",{className:`p-3 rounded ${A==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsxs("h6",{className:`mb-2 ${A==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"info",className:"me-1",style:{width:"16px",height:"16px"}}),"Informations actuelles"]}),e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"mb-1",children:[e.jsx("strong",{children:"Matricule :"})," ",e.jsx("span",{className:`font-monospace ${A==="dark"?"text-light":"text-muted"}`,children:a?.matricule})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("strong",{children:"Créée le :"})," ",e.jsx("span",{className:A==="dark"?"text-light":"text-muted",children:a?.created_at?new Date(a.created_at).toLocaleDateString("fr-FR"):"Non disponible"})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Utilisateurs :"})," ",e.jsxs("span",{className:"fw-bold text-primary",children:[a?.users_count||0," assigné(s)"]})]})]})]})})]}),e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"type",className:"me-2",style:{width:"16px",height:"16px"}}),"Nom de la salle *"]}),e.jsx(b.Control,{type:"text",name:"name",value:v.name,onChange:M,placeholder:"Ex: Salle A101",isInvalid:!!p.name,required:!0,className:A==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.name?.[0]})]})}),e.jsx(T,{md:12,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"file-text",className:"me-2",style:{width:"16px",height:"16px"}}),"Examen (optionnel)"]}),e.jsx(b.Control,{type:"text",name:"examen",value:v.examen,onChange:M,placeholder:"Ex: Examen final 2024",isInvalid:!!p.examen,className:A==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.examen?.[0]}),e.jsx(b.Text,{className:"text-muted",children:"Spécifiez le type d'examen si cette salle est dédiée aux examens"})]})}),e.jsx(T,{md:12,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"align-left",className:"me-2",style:{width:"16px",height:"16px"}}),"Description"]}),e.jsx(b.Control,{as:"textarea",rows:4,name:"description",value:v.description,onChange:M,placeholder:"Description détaillée de la salle de classe...",isInvalid:!!p.description,className:A==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.description?.[0]}),e.jsx(b.Text,{className:"text-muted",children:"Décrivez les caractéristiques, équipements et particularités de la salle"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"16px",height:"16px"}}),"Statut *"]}),e.jsxs(b.Select,{name:"status",value:v.status,onChange:M,isInvalid:!!p.status,className:A==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"Open",children:"Ouverte"}),e.jsx("option",{value:"Close",children:"Fermée"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.status?.[0]})]})})]}),e.jsx("hr",{className:"my-4"}),e.jsx(pe,{children:e.jsx(T,{md:12,children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs($,{variant:"outline-danger",onClick:()=>k(!0),className:"d-flex align-items-center",disabled:l,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer la salle"]}),e.jsxs("div",{children:[e.jsx($,{variant:"outline-secondary",as:xe,to:`/formateur/show/classroom/${s}`,className:"me-2",disabled:l,children:"Annuler"}),e.jsx($,{variant:"primary",type:"submit",disabled:l,className:"d-flex align-items-center",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner-border spinner-border-sm me-2",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),"Mise à jour..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ss,{icon:"save",size:16,className:"me-2"}),"Enregistrer les modifications"]})})]})]})})})]})]})}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${A==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"bg-white border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"help-circle",className:"me-2 text-info",style:{width:"20px",height:"20px"}}),"Conseils de modification"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"type",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Utilisez un nom descriptif et unique pour identifier facilement la salle"})]}),e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"image",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Une image représentative aide à identifier rapidement la salle"})]}),e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"activity",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:`Le statut "Fermée" empêche l'accès des utilisateurs`})]}),e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{"data-feather":"align-left",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"La description détaille les équipements et spécificités"})]})]})})]}),a?.users_count>0&&e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${A==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"bg-white border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"users",className:"me-2 text-warning",style:{width:"20px",height:"20px"}}),"Utilisateurs assignés"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("div",{className:"text-warning mb-2",children:e.jsx("i",{"data-feather":"users",style:{width:"32px",height:"32px"}})}),e.jsx("h4",{className:"text-warning mb-0",children:a.users_count}),e.jsx("small",{className:A==="dark"?"text-light":"text-muted",children:"Utilisateur(s) dans cette salle"})]}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),"Cette salle contient des utilisateurs. La fermer les empêchera d'y accéder."]}),e.jsxs($,{variant:"outline-info",size:"sm",as:xe,to:`/formateur/view/classroom/${s}/users`,className:"w-100",children:[e.jsx("i",{"data-feather":"eye",className:"me-2",style:{width:"14px",height:"14px"}}),"Voir les utilisateurs"]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${A==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"bg-white border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"bar-chart-2",className:"me-2 text-success",style:{width:"20px",height:"20px"}}),"Informations"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Matricule :"}),e.jsx("span",{className:`fw-bold font-monospace ${A==="dark"?"text-light":"text-dark"}`,children:a?.matricule})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Créée le :"}),e.jsx("span",{className:A==="dark"?"text-light":"text-dark",children:a?.created_at?new Date(a.created_at).toLocaleDateString("fr-FR"):"N/A"})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Statut actuel :"}),e.jsx("span",{className:`fw-bold ${a?.status==="Open"?"text-success":"text-danger"}`,children:a?.status==="Open"?"Ouverte":"Fermée"})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Utilisateurs :"}),e.jsx("span",{className:"fw-bold text-primary",children:a?.users_count||0})]})]})})]}),e.jsxs(w,{className:"border-0 shadow-sm border-danger",children:[e.jsx(w.Header,{className:"bg-danger bg-opacity-10 border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center text-danger",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"20px",height:"20px"}}),"Zone de danger"]})}),e.jsxs(w.Body,{children:[e.jsxs("p",{className:"small mb-2",children:[e.jsx("strong",{children:"Suppression définitive :"})," Cette action supprimera la salle et toutes ses données."]}),a?.users_count>0&&e.jsxs("p",{className:"small mb-2 text-warning",children:[e.jsx("strong",{children:"Attention :"})," ",a.users_count," utilisateur(s) sont assignés à cette salle."]}),e.jsxs($,{variant:"outline-danger",size:"sm",className:"w-100",onClick:()=>k(!0),disabled:l,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"14px",height:"14px"}}),"Supprimer cette salle"]})]})]})]})]})}),e.jsxs(Y,{show:y,onHide:()=>k(!1),centered:!0,contentClassName:A==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:A==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsxs(Y.Title,{children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2 text-danger",style:{width:"20px",height:"20px"}}),"Supprimer la salle"]})}),e.jsxs(Y.Body,{className:A==="dark"?"bg-dark text-light":"",children:[e.jsxs("p",{children:["Êtes-vous sûr de vouloir supprimer définitivement la salle ",e.jsxs("strong",{children:['"',a?.name,'"']})," ?"]}),e.jsxs("div",{className:"alert alert-danger",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),e.jsx("strong",{children:"Cette action est irréversible."}),a?.users_count>0&&e.jsxs("div",{className:"mt-2",children:["Cette salle contient ",a.users_count," utilisateur(s) qui devront être réassignés à d'autres salles."]})]}),e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Tapez le nom de la salle pour confirmer :"}),e.jsx(b.Control,{type:"text",placeholder:a?.name,className:A==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Text,{className:"text-muted",children:"Cette vérification empêche les suppressions accidentelles"})]})]}),e.jsxs(Y.Footer,{className:A==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>k(!1),disabled:l,children:"Annuler"}),e.jsx($,{variant:"danger",onClick:Q,disabled:l,children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner-border spinner-border-sm me-2",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),"Suppression..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer définitivement"]})})]})]})]})}function _Ee(){const{id:s}=is();Ut();const[t,a]=x.useState(null),[r,n]=x.useState([]),[i,l]=x.useState([]),[c,o]=x.useState(!0),[u,d]=x.useState(null),[f,p]=x.useState(null),[j,y]=x.useState(""),[k,v]=x.useState("all"),[S,C]=x.useState("all"),[_,A]=x.useState(!1),[D,M]=x.useState(null),[L,F]=x.useState(!1),[Q,I]=x.useState([]),[H,z]=x.useState(!1),[K,U]=x.useState("light");x.useEffect(()=>{const te=document.documentElement.getAttribute("data-theme")||"light";U(te);const ie=new MutationObserver(()=>{const fe=document.documentElement.getAttribute("data-theme")||"light";U(fe)});return ie.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>ie.disconnect()},[]),x.useEffect(()=>{s&&(async()=>{try{o(!0);const ie=await he.get(`/formateur/view/classroom/${s}/users`);a(ie.data.classroom),n(ie.data.users||[]),l(ie.data.users||[])}catch(ie){d("Erreur lors du chargement des utilisateurs de la salle"),console.error("Erreur:",ie)}finally{o(!1)}})()},[s]),x.useEffect(()=>{We.replace()},[r,i,Q]),x.useEffect(()=>{let te=r;j&&(te=te.filter(ie=>ie.name?.toLowerCase().includes(j.toLowerCase())||ie.email?.toLowerCase().includes(j.toLowerCase())||ie.matricule?.toLowerCase().includes(j.toLowerCase()))),k!=="all"&&(te=te.filter(ie=>ie.status===k)),S!=="all"&&(te=te.filter(ie=>ie.role===S)),l(te),I([]),z(!1)},[r,j,k,S]);const V=te=>{I(ie=>ie.includes(te)?ie.filter(fe=>fe!==te):[...ie,te])},P=()=>{I(H?[]:i.map(te=>te.id)),z(!H)},q=async()=>{try{await he.delete(`/formateur/classroom/${s}/remove-user/${D.id}`),n(te=>te.filter(ie=>ie.id!==D.id)),p(`${D.name} a été retiré de la salle avec succès`),A(!1),M(null)}catch(te){d(te.response?.data?.message||"Erreur lors du retrait de l'utilisateur"),A(!1)}},G=async()=>{try{await he.post(`/formateur/classroom/${s}/remove-users`,{user_ids:Q}),n(te=>te.filter(ie=>!Q.includes(ie.id))),p(`${Q.length} utilisateur(s) retiré(s) de la salle avec succès`),I([]),z(!1),F(!1)}catch(te){d(te.response?.data?.message||"Erreur lors du retrait des utilisateurs"),F(!1)}},se=te=>{switch(te){case 0:return"warning";case 1:return"info";default:return"secondary"}},O=te=>{switch(te){case 0:return"Étudiant En Zone d'attente";case 1:return"Étudiant";default:return"Non défini"}},W=te=>{switch(te){case"Connecté":return"success";case"Déconnecté":return"secondary";case"En ligne":return"success";case"Hors ligne":return"secondary";default:return"warning"}},Z=te=>te?new Date(te).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Non renseigné";return c?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des utilisateurs..."})]})}):u&&!t?e.jsxs(et,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),u]}),e.jsxs($,{variant:"secondary",as:xe,to:"/formateur/view/classrooms",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]})]}):e.jsxs(et,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:`/formateur/show/classroom/${s}`,className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour à la salle"]}),e.jsxs("h1",{className:"h3 mb-0",children:["Utilisateurs de ",t?.name]}),e.jsxs(oe,{bg:"primary",className:"ms-3 px-3 py-2",children:[e.jsx("i",{"data-feather":"users",className:"me-1",style:{width:"14px",height:"14px"}}),i.length," utilisateur(s)"]})]}),e.jsxs("p",{className:"text-muted mb-0",children:[e.jsx("i",{"data-feather":"hash",className:"me-1",style:{width:"14px",height:"14px"}}),t?.matricule]})]}),e.jsxs("div",{className:"d-flex gap-2",children:[Q.length>0&&e.jsxs($,{variant:"outline-danger",onClick:()=>F(!0),className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"user-minus",className:"me-2",style:{width:"16px",height:"16px"}}),"Retirer (",Q.length,")"]}),e.jsxs($,{variant:"outline-primary",as:xe,to:"/formateur/view/etudiants",className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"user-plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Ajouter des utilisateurs"]})]})]}),u&&e.jsxs(lt,{variant:"danger",className:"mb-4",dismissible:!0,onClose:()=>d(null),children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),u]}),f&&e.jsxs(lt,{variant:"success",className:"mb-4",dismissible:!0,onClose:()=>p(null),children:[e.jsx("i",{"data-feather":"check-circle",className:"me-2"}),f]}),e.jsxs(pe,{children:[e.jsx(T,{lg:9,className:"mb-4",children:e.jsxs(w,{className:`border-0 shadow-sm ${K==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs(pe,{className:"align-items-center",children:[e.jsx(T,{children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"users",className:"me-2",style:{width:"20px",height:"20px"}}),"Liste des utilisateurs (",i.length,")"]})}),e.jsx(T,{xs:"auto",children:e.jsxs(bd,{size:"sm",style:{width:"250px"},children:[e.jsx(bd.Text,{children:e.jsx("i",{"data-feather":"search",style:{width:"14px",height:"14px"}})}),e.jsx(b.Control,{type:"text",placeholder:"Rechercher un utilisateur...",value:j,onChange:te=>y(te.target.value),className:K==="dark"?"bg-dark text-light border-secondary":""})]})})]})}),e.jsx(w.Body,{className:"p-0",children:i.length===0?e.jsxs("div",{className:"text-center py-5",children:[e.jsx("div",{className:"text-muted mb-3",children:e.jsx("i",{"data-feather":"users",style:{width:"48px",height:"48px"}})}),e.jsx("h5",{className:K==="dark"?"text-light":"text-muted",children:r.length===0?"Aucun utilisateur dans cette salle":"Aucun utilisateur trouvé"}),e.jsx("p",{className:K==="dark"?"text-light":"text-muted",children:r.length===0?"Cette salle de classe ne contient encore aucun utilisateur.":"Essayez de modifier vos critères de recherche."})]}):e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`mb-0 ${K==="dark"?"table-dark":""}`,children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{width:"40px",children:e.jsx(b.Check,{type:"checkbox",checked:H,onChange:P,disabled:i.length===0})}),e.jsxs("th",{children:[e.jsx("i",{"data-feather":"user",className:"me-1",style:{width:"14px",height:"14px"}}),"Utilisateur"]}),e.jsxs("th",{className:"d-none d-lg-table-cell",children:[e.jsx("i",{"data-feather":"shield",className:"me-1",style:{width:"14px",height:"14px"}}),"Rôle"]}),e.jsxs("th",{className:"text-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-1",style:{width:"14px",height:"14px"}}),"Statut"]}),e.jsxs("th",{className:"d-none d-md-table-cell text-center",children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"14px",height:"14px"}}),"Ajouté le"]}),e.jsx("th",{className:"text-center",width:"120px",children:"Actions"})]})}),e.jsx("tbody",{children:i.map(te=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx(b.Check,{type:"checkbox",checked:Q.includes(te.id),onChange:()=>V(te.id)})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"me-3",children:te?.profil_url?e.jsx("img",{src:te.profil_url,alt:te.name||"Utilisateur",style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-light d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px"},children:e.jsx("i",{"data-feather":"user",className:"text-muted",style:{width:"16px",height:"16px"}})})}),e.jsxs("div",{children:[e.jsx("div",{className:`fw-bold ${K==="dark"?"text-light":"text-dark"}`,children:te.name}),e.jsx("div",{className:`small ${K==="dark"?"text-light":"text-muted"}`,children:te.email}),e.jsx("small",{className:"text-muted font-monospace",children:te.matricule||"Non spécifié"})]})]})}),e.jsx("td",{className:"d-none d-lg-table-cell",children:e.jsx(oe,{bg:se(te.role),className:"px-2 py-1",children:O(te.role)})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:W(te.status),className:"px-2 py-1",children:te.status||"Indéfini"})}),e.jsx("td",{className:"d-none d-md-table-cell text-center",children:e.jsx("small",{className:K==="dark"?"text-light":"text-muted",children:Z(te.created_at)})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-center gap-1",children:[e.jsx(F3,{placement:"top",overlay:e.jsx(iS,{children:"Voir le profil"}),children:e.jsx($,{size:"sm",variant:"outline-info",as:xe,to:`/formateur/view/classroom/user/${te.id}`,children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})})}),e.jsx(F3,{placement:"top",overlay:e.jsx(iS,{children:"Retirer de la salle"}),children:e.jsx($,{size:"sm",variant:"outline-danger",onClick:()=>{M(te),A(!0)},children:e.jsx("i",{"data-feather":"user-minus",style:{width:"14px",height:"14px"}})})})]})})]},te.id))})]})})})]})}),e.jsxs(T,{lg:3,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${K==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"filter",className:"me-2",style:{width:"20px",height:"20px"}}),"Filtres"]})}),e.jsxs(w.Body,{children:[e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Statut"}),e.jsxs(b.Select,{value:k,onChange:te=>v(te.target.value),size:"sm",className:K==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"all",children:"Tous les statuts"}),e.jsx("option",{value:"Connecté",children:"Connecté"}),e.jsx("option",{value:"Déconnecté",children:"Déconnecté"})]})]}),e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Rôle"}),e.jsxs(b.Select,{value:S,onChange:te=>C(te.target.value),size:"sm",className:K==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"all",children:"Tous les rôles"}),e.jsx("option",{value:"0",children:"Étudiant en Espace d'attente"}),e.jsx("option",{value:"1",children:"Étudiant"})]})]}),e.jsxs($,{variant:"outline-secondary",size:"sm",className:"w-100",onClick:()=>{y(""),v("all"),C("all")},children:[e.jsx("i",{"data-feather":"x",className:"me-2",style:{width:"14px",height:"14px"}}),"Réinitialiser"]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${K==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"bar-chart-2",className:"me-2 text-info",style:{width:"20px",height:"20px"}}),"Statistiques"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("div",{className:"text-primary mb-2",children:e.jsx("i",{"data-feather":"users",style:{width:"32px",height:"32px"}})}),e.jsx("h4",{className:"text-primary mb-0",children:r.length}),e.jsx("small",{className:K==="dark"?"text-light":"text-muted",children:"Utilisateur(s) total"})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Etudiants en Espace d'attente :"}),e.jsx("span",{className:"fw-bold text-warning",children:r.filter(te=>te.role==="0").length})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Étudiants :"}),e.jsx("span",{className:"fw-bold text-info",children:r.filter(te=>te.role==="1").length})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Connectés :"}),e.jsx("span",{className:"fw-bold text-success",children:r.filter(te=>te.status==="Connecté"||te.status==="En ligne").length})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Déconnectés :"}),e.jsx("span",{className:"fw-bold text-success",children:r.filter(te=>te.status==="Déconnecté"||te.status==="Hors ligne").length})]})]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${K==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"20px",height:"20px"}}),"Actions rapides"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"primary",as:xe,to:"/formateur/view/etudiants",className:"d-flex align-items-center justify-content-center",size:"sm",children:[e.jsx("i",{"data-feather":"user-plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Ajouter des utilisateurs"]}),e.jsxs($,{variant:"outline-info",as:xe,to:`/formateur/show/classroom/${s}`,className:"d-flex align-items-center justify-content-center",size:"sm",children:[e.jsx("i",{"data-feather":"home",className:"me-2",style:{width:"16px",height:"16px"}}),"Retour à la salle"]}),e.jsxs($,{variant:"outline-secondary",as:xe,to:"/formateur/view/classrooms",className:"d-flex align-items-center justify-content-center",size:"sm",children:[e.jsx("i",{"data-feather":"list",className:"me-2",style:{width:"16px",height:"16px"}}),"Toutes les salles"]})]})})]})]})]}),e.jsxs(Y,{show:_,onHide:()=>A(!1),centered:!0,contentClassName:K==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:K==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsxs(Y.Title,{children:[e.jsx("i",{"data-feather":"user-minus",className:"me-2 text-warning",style:{width:"20px",height:"20px"}}),"Retirer l'utilisateur"]})}),e.jsxs(Y.Body,{className:K==="dark"?"bg-dark text-light":"",children:[e.jsxs("p",{children:["Êtes-vous sûr de vouloir retirer ",e.jsxs("strong",{children:['"',D?.name,'"']})," de la salle ",e.jsxs("strong",{children:['"',t?.name,'"']})," ?"]}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"16px",height:"16px"}}),"L'utilisateur ne pourra plus accéder à cette salle de classe, mais son compte reste actif."]})]}),e.jsxs(Y.Footer,{className:K==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>A(!1),children:"Annuler"}),e.jsxs($,{variant:"warning",onClick:q,children:[e.jsx("i",{"data-feather":"user-minus",className:"me-2",style:{width:"16px",height:"16px"}}),"Retirer de la salle"]})]})]}),e.jsxs(Y,{show:L,onHide:()=>F(!1),centered:!0,contentClassName:K==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:K==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsxs(Y.Title,{children:[e.jsx("i",{"data-feather":"users",className:"me-2 text-warning",style:{width:"20px",height:"20px"}}),"Retirer plusieurs utilisateurs"]})}),e.jsxs(Y.Body,{className:K==="dark"?"bg-dark text-light":"",children:[e.jsxs("p",{children:["Êtes-vous sûr de vouloir retirer ",e.jsxs("strong",{children:[Q.length," utilisateur(s)"]})," de la salle ",e.jsxs("strong",{children:['"',t?.name,'"']})," ?"]}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"16px",height:"16px"}}),"Les utilisateurs sélectionnés ne pourront plus accéder à cette salle de classe."]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("strong",{children:"Utilisateurs sélectionnés :"}),e.jsx("ul",{className:"mt-2",children:r.filter(te=>Q.includes(te.id)).map(te=>e.jsx("li",{children:te.name},te.id))})]})]}),e.jsxs(Y.Footer,{className:K==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>F(!1),children:"Annuler"}),e.jsxs($,{variant:"warning",onClick:G,children:[e.jsx("i",{"data-feather":"users",className:"me-2",style:{width:"16px",height:"16px"}}),"Retirer (",Q.length,")"]})]})]})]})}function CEe(){const{id:s}=is(),t=Ut(),[a,r]=x.useState(null),[n,i]=x.useState(!0),[l,c]=x.useState(null),[o,u]=x.useState(!1),[d,f]=x.useState(!1),[p,j]=x.useState("light");x.useEffect(()=>{const D=document.documentElement.getAttribute("data-theme")||"light";j(D);const M=new MutationObserver(()=>{const L=document.documentElement.getAttribute("data-theme")||"light";j(L)});return M.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>M.disconnect()},[]),x.useEffect(()=>{s&&(async()=>{try{i(!0);const M=await he.get(`/formateur/view/classroom/user/${s}`);r(M.data.user)}catch(M){c("Erreur lors du chargement des informations de l'utilisateur"),console.error("Erreur:",M)}finally{i(!1)}})()},[s]),x.useEffect(()=>{We.replace()},[a]);const y=async()=>{if(a.classroom)try{f(!0),await he.delete(`/formateur/classroom/${a.classroom.id}/remove-user/${a.id}`),r(D=>({...D,matricule_classroom:null,classroom:null})),u(!1)}catch(D){c(D.response?.data?.message||"Erreur lors du retrait de l'utilisateur")}finally{f(!1)}},k=D=>{switch(parseInt(D)){case 0:return"warning";case 1:return"info";case 2:return"success";case 3:return"danger";default:return"secondary"}},v=D=>{switch(parseInt(D)){case 0:return"Étudiant en Zone d'attente";case 1:return"Étudiant";case 2:return"Formateur";case 3:return"Administrateur";default:return"Non défini"}},S=D=>{switch(D){case"Connecté":return"success";case"Déconnecté":return"secondary";case"En ligne":return"success";case"Hors ligne":return"secondary";default:return"warning"}},C=D=>{switch(D?.toLowerCase()){case"male":case"masculin":case"m":return"user";case"female":case"féminin":case"f":return"user";default:return"user"}},_=D=>D?new Date(D).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}):"Non renseigné",A=D=>D?new Date(D).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Non renseigné";return n?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement du profil..."})]})}):l||!a?e.jsxs(et,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),l||"Utilisateur introuvable"]}),e.jsxs($,{variant:"secondary",onClick:()=>t(-1),className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour"]})]}):e.jsxs(et,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",onClick:()=>t(-1),className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsx("h1",{className:"h3 mb-0",children:"Profil utilisateur"}),e.jsxs(oe,{bg:S(a.status),className:"ms-3 px-3 py-2",children:[e.jsx("i",{"data-feather":"activity",className:"me-1",style:{width:"14px",height:"14px"}}),a.status||"Indéfini"]})]}),e.jsxs("p",{className:"text-muted mb-0",children:[e.jsx("i",{"data-feather":"hash",className:"me-1",style:{width:"14px",height:"14px"}}),a.matricule]})]}),e.jsxs("div",{className:"d-flex gap-2",children:[a.classroom&&e.jsxs($,{variant:"warning",onClick:()=>u(!0),className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"user-minus",className:"me-2",style:{width:"16px",height:"16px"}}),"Retirer de la salle"]}),e.jsxs($,{variant:"outline-info",as:xe,to:a.classroom?`/formateur/show/classroom/${a.classroom.id}`:"/formateur/view/classrooms",className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"home",className:"me-2",style:{width:"16px",height:"16px"}}),a.classroom?"Voir la salle":"Assigner à une salle"]})]})]}),e.jsxs(pe,{children:[e.jsx(T,{lg:8,className:"mb-4",children:e.jsxs(w,{className:`border-0 shadow-sm ${p==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations personnelles"]})}),e.jsxs(w.Body,{children:[e.jsxs(pe,{className:"align-items-start mb-4",children:[e.jsx(T,{md:4,className:"text-center",children:e.jsxs("div",{className:"position-relative d-inline-block",children:[a.profil_url?e.jsx(Mt,{src:a.profil_url,alt:"Photo de profil",className:"rounded-circle",width:"150",height:"150",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-light d-flex align-items-center justify-content-center border",style:{width:"150px",height:"150px"},children:e.jsx("i",{"data-feather":C(a.gender),className:"text-muted",style:{width:"48px",height:"48px"}})}),e.jsx(oe,{bg:S(a.status),className:"position-absolute bottom-0 end-0 rounded-pill px-2 py-1",children:e.jsx("i",{"data-feather":"activity",style:{width:"12px",height:"12px"}})})]})}),e.jsxs(T,{md:8,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h4",{className:`mb-2 ${p==="dark"?"text-light":"text-dark"}`,children:a.name}),e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs(oe,{bg:k(a.role),className:"me-3 px-3 py-2",children:[e.jsx("i",{"data-feather":"shield",className:"me-1",style:{width:"14px",height:"14px"}}),v(a.role)]}),e.jsxs(oe,{bg:S(a.status),className:"px-3 py-2",children:[e.jsx("i",{"data-feather":"activity",className:"me-1",style:{width:"14px",height:"14px"}}),a.status||"Indéfini"]})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("h6",{className:`mb-2 ${p==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Contact"]}),e.jsxs("div",{className:`small ${p==="dark"?"text-light":"text-muted"}`,children:[e.jsxs("div",{className:"mb-1",children:[e.jsx("i",{"data-feather":"at-sign",className:"me-2",style:{width:"14px",height:"14px"}}),a.email]}),a.phone&&e.jsxs("div",{children:[e.jsx("i",{"data-feather":"phone",className:"me-2",style:{width:"14px",height:"14px"}}),a.code_phone?`${a.code_phone} ${a.phone}`:a.phone]})]})]}),a.classroom&&e.jsxs("div",{className:"mb-3",children:[e.jsxs("h6",{className:`mb-2 ${p==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"home",className:"me-2",style:{width:"16px",height:"16px"}}),"Salle de classe"]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("span",{className:`fw-bold me-2 ${p==="dark"?"text-light":"text-primary"}`,children:a.classroom.name}),e.jsx(oe,{bg:a.classroom.status==="Open"?"success":"danger",className:"me-2",children:a.classroom.status==="Open"?"Ouverte":"Fermée"}),e.jsxs($,{size:"sm",variant:"outline-info",as:xe,to:`/formateur/show/classroom/${a.classroom.id}`,children:[e.jsx("i",{"data-feather":"eye",className:"me-1",style:{width:"12px",height:"12px"}}),"Voir"]})]}),a.classroom.description&&e.jsx("small",{className:p==="dark"?"text-light":"text-muted",children:a.classroom.description})]})]})]}),e.jsx("hr",{className:"my-4"}),e.jsxs(pe,{children:[e.jsxs(T,{md:6,className:"mb-3",children:[e.jsxs("h6",{className:`mb-3 ${p==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"16px",height:"16px"}}),"Informations personnelles"]}),e.jsx(Et,{borderless:!0,size:"sm",className:p==="dark"?"text-light":"",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"text-muted",children:"Matricule :"}),e.jsx("td",{className:"fw-medium font-monospace",children:a.matricule})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"text-muted",children:"Genre :"}),e.jsx("td",{className:"fw-medium",children:a.gender||"Non spécifié"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"text-muted",children:"Date de naissance :"}),e.jsx("td",{className:"fw-medium",children:_(a.birthday)})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"text-muted",children:"Rôle :"}),e.jsx("td",{children:e.jsx(oe,{bg:k(a.role),children:v(a.role)})})]})]})})]}),e.jsxs(T,{md:6,className:"mb-3",children:[e.jsxs("h6",{className:`mb-3 ${p==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-2",style:{width:"16px",height:"16px"}}),"Informations système"]}),e.jsx(Et,{borderless:!0,size:"sm",className:p==="dark"?"text-light":"",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"text-muted",children:"Statut :"}),e.jsx("td",{children:e.jsx(oe,{bg:S(a.status),children:a.status||"Indéfini"})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"text-muted",children:"Créé le :"}),e.jsx("td",{className:"fw-medium",children:A(a.created_at)})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"text-muted",children:"Dernière mise à jour :"}),e.jsx("td",{className:"fw-medium",children:A(a.updated_at)})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"text-muted",children:"Salle assignée :"}),e.jsx("td",{className:"fw-medium",children:a.matricule_classroom?e.jsx("span",{className:"text-success",children:"Oui"}):e.jsx("span",{className:"text-warning",children:"Non"})})]})]})})]})]})]})]})}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${p==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"20px",height:"20px"}}),"Actions rapides"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[a.classroom&&e.jsxs(e.Fragment,{children:[e.jsxs($,{variant:"primary",as:xe,to:`/formateur/show/classroom/${a.classroom.id}`,className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"home",className:"me-2",style:{width:"18px",height:"18px"}}),"Voir sa salle"]}),e.jsxs($,{variant:"warning",onClick:()=>u(!0),className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"user-minus",className:"me-2",style:{width:"18px",height:"18px"}}),"Retirer de la salle"]})]}),e.jsxs($,{variant:"outline-info",as:xe,to:"/formateur/view/etudiants",className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"users",className:"me-2",style:{width:"18px",height:"18px"}}),"Tous les utilisateurs"]}),e.jsxs($,{variant:"outline-secondary",as:xe,to:"/formateur/view/classrooms",className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"list",className:"me-2",style:{width:"18px",height:"18px"}}),"Toutes les salles"]})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${p==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"bar-chart-2",className:"me-2 text-info",style:{width:"20px",height:"20px"}}),"Informations rapides"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("div",{className:`mb-2 ${k(a.role)==="info"?"text-info":"text-primary"}`,children:e.jsx("i",{"data-feather":"user",style:{width:"32px",height:"32px"}})}),e.jsx("h4",{className:k(a.role)==="info"?"text-info":"text-primary",children:v(a.role)}),e.jsx("small",{className:p==="dark"?"text-light":"text-muted",children:"Rôle dans le système"})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Statut actuel :"}),e.jsx(oe,{bg:S(a.status),children:a.status||"Indéfini"})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Inscrit depuis :"}),e.jsxs("span",{className:p==="dark"?"text-light":"text-dark",children:[Math.ceil((new Date-new Date(a.created_at))/(1e3*60*60*24))," jour(s)"]})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Assigné à une salle :"}),e.jsx("span",{className:a.classroom?"text-success fw-bold":"text-warning fw-bold",children:a.classroom?"Oui":"Non"})]})]})]})]}),a.classroom&&e.jsxs(w,{className:`border-0 shadow-sm ${p==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"home",className:"me-2 text-success",style:{width:"20px",height:"20px"}}),"Salle assignée"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("div",{className:"text-success mb-2",children:e.jsx("i",{"data-feather":"home",style:{width:"32px",height:"32px"}})}),e.jsx("h5",{className:`text-success mb-1 ${p==="dark"?"text-light":""}`,children:a.classroom.name}),e.jsx(oe,{bg:a.classroom.status==="Open"?"success":"danger",className:"mb-2",children:a.classroom.status==="Open"?"Ouverte":"Fermée"}),e.jsxs("div",{className:`small ${p==="dark"?"text-light":"text-muted"}`,children:["Matricule : ",a.matricule_classroom]})]}),a.classroom.description&&e.jsx("div",{className:"mb-3",children:e.jsx("small",{className:p==="dark"?"text-light":"text-muted",children:a.classroom.description})}),e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"outline-success",size:"sm",as:xe,to:`/formateur/show/classroom/${a.classroom.id}`,className:"w-100",children:[e.jsx("i",{"data-feather":"eye",className:"me-2",style:{width:"14px",height:"14px"}}),"Voir la salle"]}),e.jsxs($,{variant:"outline-warning",size:"sm",className:"w-100",onClick:()=>u(!0),children:[e.jsx("i",{"data-feather":"user-minus",className:"me-2",style:{width:"14px",height:"14px"}}),"Retirer de la salle"]})]})]})]})]})]}),e.jsxs(Y,{show:o,onHide:()=>u(!1),centered:!0,contentClassName:p==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:p==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsxs(Y.Title,{children:[e.jsx("i",{"data-feather":"user-minus",className:"me-2 text-warning",style:{width:"20px",height:"20px"}}),"Retirer de la salle"]})}),e.jsxs(Y.Body,{className:p==="dark"?"bg-dark text-light":"",children:[e.jsxs("p",{children:["Êtes-vous sûr de vouloir retirer ",e.jsxs("strong",{children:['"',a.name,'"']})," de la salle ",e.jsxs("strong",{children:['"',a.classroom?.name,'"']})," ?"]}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"16px",height:"16px"}}),"L'utilisateur ne pourra plus accéder à cette salle de classe, mais son compte restera actif."]})]}),e.jsxs(Y.Footer,{className:p==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>u(!1),disabled:d,children:"Annuler"}),e.jsx($,{variant:"warning",onClick:y,disabled:d,children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner-border spinner-border-sm me-2",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),"Retrait en cours..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{"data-feather":"user-minus",className:"me-2",style:{width:"16px",height:"16px"}}),"Retirer de la salle"]})})]})]})]})}function EEe(){const[s,t]=x.useState([]),[a,r]=x.useState({}),[n,i]=x.useState([]),[l,c]=x.useState([]),[o,u]=x.useState("grouped"),[d,f]=x.useState(""),[p,j]=x.useState(""),[y,k]=x.useState(""),[v,S]=x.useState(""),[C,_]=x.useState(!1),[A,D]=x.useState(!1),[M,L]=x.useState(!1),[F,Q]=x.useState(null),[I,H]=x.useState({}),[z,K]=x.useState(!1),[U,V]=x.useState(""),[P,q]=x.useState("success"),[G,se]=x.useState({nom:"",description:"",matricule_classroom:"",coefficient:1,status:"Active",image:null}),[O,W]=x.useState({}),[Z,te]=x.useState("light"),[ie,fe]=x.useState({});x.useEffect(()=>{const we=document.documentElement.getAttribute("data-theme")||"light";te(we);const Ke=new MutationObserver(()=>{const Ee=document.documentElement.getAttribute("data-theme")||"light";te(Ee)});return Ke.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>Ke.disconnect()},[]);const J=(we,Ke="success")=>{V(we),q(Ke),K(!0)},ge=x.useCallback(async()=>{try{const we={};d.trim()&&(we.search=d.trim()),p&&(we.created_at=p),y&&(we.status=y),v&&(we.matricule_classroom=v);const Ke=await he.get("/formateur/view/matiere",{params:we});t(Ke.data.matieres||[]),i(Ke.data.classrooms||[]);const Ee=(Ke.data.matieres||[]).reduce((je,Ve)=>{const Nt=Ve.classroom?.name||"Classe non définie";return je[Nt]||(je[Nt]={classroom:Ve.classroom,matieres:[]}),je[Nt].matieres.push(Ve),je},{});r(Ee)}catch(we){console.error("Erreur lors de la récupération des matières",we),J("Erreur lors de la récupération des données","danger")}},[d,p,y,v]),re=x.useCallback(async()=>{try{const we=await he.get("/formateur/matiere/statistics");W(we.data.statistics||{})}catch(we){console.error("Erreur lors de la récupération des statistiques",we)}},[]);x.useEffect(()=>{We.replace(),ge(),re()},[ge,re]),x.useEffect(()=>{We.replace()},[s,l,o]);const ve=we=>{fe(Ke=>({...Ke,[we]:!Ke[we]}))},Oe=async we=>{we.preventDefault(),H({});try{const Ke=new FormData;Ke.append("nom",G.nom),Ke.append("description",G.description),Ke.append("matricule_classroom",G.matricule_classroom),Ke.append("coefficient",G.coefficient),Ke.append("status",G.status),G.image&&Ke.append("image",G.image),await he.post("/formateur/store/matiere",Ke,{headers:{"Content-Type":"multipart/form-data"}}),ge(),re(),_(!1),se({nom:"",description:"",matricule_classroom:"",coefficient:1,status:"Active",image:null}),J("Matière ajoutée avec succès","success")}catch(Ke){Ke.response?.status===422?(H(Ke.response.data.errors||{}),J("Erreur de validation","danger")):(console.error(Ke),J("Une erreur inattendue s'est produite","danger"))}},ee=(we=null)=>{Q(we),D(!0)},me=async()=>{try{const we=F?[F]:l;if(F)await he.delete(`/formateur/destroy/matiere/${F}`);else for(const Ke of we)await he.delete(`/formateur/destroy/matiere/${Ke}`);ge(),re(),D(!1),c([]),Q(null),J("Matière(s) supprimée(s) avec succès","success")}catch(we){console.error(we),J(we.response?.data?.message||"Erreur lors de la suppression","danger")}},Xe=async we=>{try{for(const Ke of l)await he.patch(`/formateur/toggle-status/matiere/${Ke}`);ge(),re(),c([]),L(!1),J("Statut des matières mis à jour","success")}catch(Ke){console.error(Ke),J("Erreur lors de la mise à jour du statut","danger")}},Se=we=>{const{value:Ke,checked:Ee}=we.target,je=parseInt(Ke);c(Ee?Ve=>[...Ve,je]:Ve=>Ve.filter(Nt=>Nt!==je))},ae=we=>{we.target.checked?c(s.map(Ke=>Ke.id)):c([])},ye=async we=>{we.preventDefault();try{const Ke=new URLSearchParams;d.trim()&&Ke.append("search",d.trim()),p&&Ke.append("created_at",p),y&&Ke.append("status",y),v&&Ke.append("matricule_classroom",v);const Ee=await he.get(`/formateur/download/liste/matiere/pdf?${Ke.toString()}`,{responseType:"blob"}),je=`matieres_${new Date().toISOString().slice(0,10)}.pdf`;Ea(Ee.data,je),J("Le rapport PDF est en cours de téléchargement","success")}catch(Ke){console.error("Erreur de téléchargement PDF:",Ke),J("Échec du téléchargement PDF","danger")}},st=async we=>{we.preventDefault();try{const Ke=new URLSearchParams;d.trim()&&Ke.append("search",d.trim()),p&&Ke.append("created_at",p),y&&Ke.append("status",y),v&&Ke.append("matricule_classroom",v);const Ee=await he.get(`/formateur/download/liste/matiere/excel?${Ke.toString()}`,{responseType:"blob"}),je=`matieres_${new Date().toISOString().slice(0,10)}.xlsx`;Ea(Ee.data,je),J("Le fichier Excel est en cours de téléchargement","success")}catch(Ke){console.error("Erreur de téléchargement Excel:",Ke),J("Échec du téléchargement Excel","danger")}},He=()=>Object.keys(a).length===0?e.jsx("div",{className:"text-center py-5",children:e.jsxs("div",{className:`${Z==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"book",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucune matière trouvée"}),e.jsx("p",{className:"small mb-0",children:"Aucune matière ne correspond à vos critères de recherche."})]})]})}):e.jsx("div",{className:"matieres-groupees",children:Object.entries(a).map(([we,Ke])=>e.jsxs(w,{className:`mb-4 border-0 shadow-sm ${Z==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`${Z==="dark"?"bg-dark border-secondary":"bg-light"} cursor-pointer`,onClick:()=>ve(`classe-${we}`),children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"home",className:"text-primary me-3",style:{width:"20px",height:"20px"}}),e.jsxs("div",{children:[e.jsx("h5",{className:`mb-0 ${Z==="dark"?"text-light":"text-dark"}`,children:we}),e.jsxs("small",{className:"text-muted",children:[Ke.matieres.length," matière",Ke.matieres.length>1?"s":"",Ke.classroom&&` • Matricule: ${Ke.classroom.matricule}`]})]})]}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx(oe,{bg:"info",children:Ke.matieres.length}),e.jsx("i",{"data-feather":ie[`classe-${we}`]?"chevron-up":"chevron-down",className:`${Z==="dark"?"text-light":"text-muted"}`,style:{width:"20px",height:"20px"}})]})]})}),e.jsx(Oa,{in:ie[`classe-${we}`]!==!1,children:e.jsx(w.Body,{className:Z==="dark"?"bg-dark":"",children:e.jsx(pe,{className:"g-3",children:Ke.matieres.map(Ee=>e.jsx(T,{md:6,lg:3,children:e.jsxs(w,{className:`h-100 border-0 shadow-sm position-relative ${Z==="dark"?"bg-secondary bg-opacity-10":"bg-white border"}`,children:[l.length>0&&e.jsxs("div",{className:"position-absolute top-0 start-0 p-2",style:{zIndex:10},children:[e.jsx("h1",{children:"v"}),e.jsx(b.Check,{type:"checkbox",value:Ee.id,checked:l.includes(Ee.id),onChange:Se})]}),e.jsxs("div",{className:"position-relative",children:[e.jsx(w.Img,{variant:"top",src:Ee.image_url||"/placeholder/matiere_placeholder.png",style:{height:"140px",objectFit:"cover"}}),e.jsx(oe,{bg:Ee.status==="Active"?"success":Ee.status==="Inactive"?"warning":"danger",className:"position-absolute top-0 end-0 m-2",children:Ee.status})]}),e.jsxs(w.Body,{className:"d-flex flex-column p-3",children:[e.jsxs("div",{className:"mb-auto",children:[e.jsx(w.Title,{className:`h6 mb-2 ${Z==="dark"?"text-light":"text-dark"}`,children:Ee.nom.length>25?Ee.nom.substring(0,25)+"...":Ee.nom}),e.jsxs(w.Text,{className:`small ${Z==="dark"?"text-light":"text-muted"} mb-2`,children:[e.jsx("i",{"data-feather":"hash",className:"me-1",style:{width:"10px",height:"10px"}}),Ee.matricule]}),Ee.description&&e.jsx(w.Text,{className:`small ${Z==="dark"?"text-light":"text-dark"} mb-2`,children:Ee.description.length>50?Ee.description.substring(0,50)+"...":Ee.description}),e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-2",children:e.jsxs("small",{className:"text-info",children:[e.jsx("i",{"data-feather":"award",className:"me-1",style:{width:"10px",height:"10px"}}),"Coef: ",Ee.coefficient||1]})})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-2",children:[e.jsxs("div",{className:"d-flex align-items-center gap-1",children:[e.jsxs("div",{className:"d-flex align-items-center",title:"ses cours",children:[e.jsx("i",{"data-feather":"book-open",className:"me-1 text-muted",style:{width:"12px",height:"12px"}}),e.jsx("small",{className:`${Z==="dark"?"text-light":"text-muted"} me-2`,children:Ee.cours_count||0})]}),e.jsxs("div",{className:"d-flex align-items-center",title:"ses evalautions",children:[e.jsx("i",{"data-feather":"clipboard",className:"me-1 text-muted",style:{width:"12px",height:"12px"}}),e.jsx("small",{className:Z==="dark"?"text-light":"text-muted",children:Ee.evaluations_count||0})]})]}),e.jsxs(Ga,{size:"sm",children:[e.jsx($,{variant:"outline-info",as:xe,to:`/formateur/show/matiere/${Ee.id}`,title:"Voir les détails",children:e.jsx("i",{"data-feather":"eye",style:{width:"12px",height:"12px"}})}),e.jsx($,{variant:"outline-warning",as:xe,to:`/formateur/edit/matiere/${Ee.id}`,title:"Modifier",children:e.jsx("i",{"data-feather":"edit",style:{width:"12px",height:"12px"}})}),e.jsx($,{variant:"outline-danger",title:"Supprimer",onClick:()=>ee(Ee.id),children:e.jsx("i",{"data-feather":"trash-2",style:{width:"12px",height:"12px"}})})]})]})]})]})},Ee.id))})})})]},we))}),ke=()=>e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`align-middle ${Z==="dark"?"table-dark":""}`,style:{borderRadius:"8px",overflow:"hidden"},children:[e.jsx("thead",{className:"table-primary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center",style:{width:"50px"},children:e.jsx(b.Check,{type:"checkbox",onChange:ae,checked:l.length===s.length&&s.length>0})}),e.jsxs("th",{children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"16px",height:"16px"}}),"Matière"]}),e.jsxs("th",{className:"d-none d-md-table-cell",children:[e.jsx("i",{"data-feather":"home",className:"me-2",style:{width:"16px",height:"16px"}}),"Classe"]}),e.jsxs("th",{className:"d-none d-lg-table-cell",children:[e.jsx("i",{"data-feather":"award",className:"me-2",style:{width:"16px",height:"16px"}}),"Coef."]}),e.jsxs("th",{className:"d-none d-lg-table-cell",children:[e.jsx("i",{"data-feather":"bar-chart",className:"me-2",style:{width:"16px",height:"16px"}}),"Contenu"]}),e.jsxs("th",{className:"d-none d-lg-table-cell text-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"16px",height:"16px"}}),"Statut"]}),e.jsxs("th",{className:"text-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"16px",height:"16px"}}),"Actions"]})]})}),e.jsx("tbody",{children:s.length?s.map(we=>e.jsxs("tr",{className:Z==="dark"?"border-secondary":"",children:[e.jsx("td",{className:"text-center",children:e.jsx(b.Check,{type:"checkbox",value:we.id,checked:l.includes(we.id),onChange:Se})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"me-3",children:e.jsx("img",{src:we.image_url||"/placeholder/matiere_placeholder.png",alt:we.nom,style:{width:"48px",height:"48px",borderRadius:"8px",objectFit:"cover",border:"2px solid rgba(255, 255, 255, 0.1)"}})}),e.jsxs("div",{children:[e.jsx("div",{className:`fw-bold ${Z==="dark"?"text-light":"text-dark"}`,children:we.nom.length>20?we.nom.substring(0,20)+"...":we.nom}),e.jsx("small",{className:Z==="dark"?"text-light":"text-muted",title:we.matricule,children:we.matricule})]})]})}),e.jsx("td",{className:"d-none d-md-table-cell",children:e.jsx("div",{className:`small ${Z==="dark"?"text-light":"text-dark"}`,children:we.classroom?.name||"Non définie"})}),e.jsx("td",{className:"d-none d-lg-table-cell",children:e.jsx(oe,{bg:"info",className:"px-2 py-1",children:we.coefficient||1})}),e.jsx("td",{className:"d-none d-lg-table-cell",children:e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs("small",{className:"text-primary",children:[e.jsx("i",{"data-feather":"book-open",className:"me-1",style:{width:"12px",height:"12px"}}),we.cours_count||0," cours"]}),e.jsxs("small",{className:"text-success",children:[e.jsx("i",{"data-feather":"clipboard",className:"me-1",style:{width:"12px",height:"12px"}}),we.evaluations_count||0," éval."]})]})}),e.jsx("td",{className:"d-none d-lg-table-cell text-center",children:e.jsx(oe,{bg:we.status==="Active"?"success":we.status==="Inactive"?"warning":"danger",className:"px-3 py-2",children:we.status})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{className:"d-flex gap-1 justify-content-center",children:[e.jsx($,{size:"sm",variant:"outline-info",title:"Voir les détails",as:xe,to:`/formateur/show/matiere/${we.id}`,children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-warning",title:"Modifier",as:xe,to:`/formateur/edit/matiere/${we.id}`,children:e.jsx("i",{"data-feather":"edit",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-danger",title:"Supprimer",onClick:()=>ee(we.id),children:e.jsx("i",{"data-feather":"trash-2",style:{width:"14px",height:"14px"}})})]})})]},we.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center py-5",children:e.jsxs("div",{className:`${Z==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"book",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucune matière trouvée"}),e.jsx("p",{className:"small mb-0",children:"Aucune matière ne correspond à vos critères de recherche."})]})]})})})})]})});return e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${Z==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"book",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${Z==="dark"?"text-light":"text-dark"}`,children:"Gestion des Matières"}),e.jsx("p",{className:`mb-0 ${Z==="dark"?"text-light":"text-muted"}`,children:"Administration des matières d'enseignement par classe"})]})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${Z==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${Z==="dark"?"text-light":"text-dark"}`,children:O.total_matieres||s.length}),e.jsx("small",{className:Z==="dark"?"text-light":"text-muted",children:"Total Matières"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"book",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${Z==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:O.active_matieres||s.filter(we=>we.status==="Active").length}),e.jsx("small",{className:Z==="dark"?"text-light":"text-muted",children:"Actives"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"check-circle",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${Z==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-warning",children:O.inactive_matieres||s.filter(we=>we.status==="Inactive").length}),e.jsx("small",{className:Z==="dark"?"text-light":"text-muted",children:"Inactives"})]}),e.jsx("div",{className:"text-warning",children:e.jsx("i",{"data-feather":"pause-circle",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${Z==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-danger",children:O.suspendues_matieres||s.filter(we=>we.status==="Suspendue").length}),e.jsx("small",{className:Z==="dark"?"text-light":"text-muted",children:"Suspendues"})]}),e.jsx("div",{className:"text-danger",children:e.jsx("i",{"data-feather":"x-circle",style:{width:"24px",height:"24px"}})})]})})})})]})]}),e.jsxs(w,{className:`shadow-sm border-0 ${Z==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${Z==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"book",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${Z==="dark"?"text-light":"text-dark"}`,children:"Matières par Classe"}),e.jsxs(Ga,{className:"ms-3",children:[e.jsx($,{variant:o==="grouped"?"primary":"outline-secondary",size:"sm",onClick:()=>u("grouped"),children:e.jsx("i",{"data-feather":"layers",style:{width:"14px",height:"14px"}})}),e.jsx($,{variant:o==="table"?"primary":"outline-secondary",size:"sm",onClick:()=>u("table"),children:e.jsx("i",{"data-feather":"list",style:{width:"14px",height:"14px"}})})]})]}),e.jsxs("div",{className:"d-flex gap-2 mt-2 mt-md-0",children:[l.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs($,{variant:"warning",className:"d-flex align-items-center",onClick:()=>L(!0),children:[e.jsx("i",{"data-feather":"edit",className:"me-2",style:{width:"16px",height:"16px"}}),"Statut (",l.length,")"]}),e.jsxs($,{variant:"danger",className:"d-flex align-items-center",onClick:()=>ee(),children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer (",l.length,")"]})]}),e.jsxs(at,{children:[e.jsxs(at.Toggle,{variant:"outline-primary",className:"d-flex align-items-center",id:"dropdown-export",children:[e.jsx("i",{"data-feather":"download",className:"me-2",style:{width:"16px",height:"16px"}}),"Exporter"]}),e.jsx(at.Menu,{className:"shadow-lg border-0",style:{minWidth:"300px"},children:e.jsxs("div",{className:"p-3",children:[e.jsxs("h6",{className:"text-primary mb-3",children:[e.jsx("i",{"data-feather":"file-text",className:"me-2",style:{width:"16px",height:"16px"}}),"Rapport PDF"]}),e.jsx(b,{onSubmit:ye,className:"mb-3",children:e.jsxs($,{type:"submit",variant:"primary",className:"w-100",children:[e.jsx("i",{"data-feather":"file-text",className:"me-2",style:{width:"16px",height:"16px"}}),"Télécharger PDF"]})}),e.jsx("hr",{}),e.jsxs("h6",{className:"text-success mb-3",children:[e.jsx("i",{"data-feather":"file",className:"me-2",style:{width:"16px",height:"16px"}}),"Fichier Excel"]}),e.jsx(b,{onSubmit:st,children:e.jsxs($,{type:"submit",variant:"success",className:"w-100",children:[e.jsx("i",{"data-feather":"file",className:"me-2",style:{width:"16px",height:"16px"}}),"Télécharger Excel"]})})]})})]}),e.jsxs($,{variant:"success",className:"d-flex align-items-center",onClick:()=>_(!0),children:[e.jsx("i",{"data-feather":"plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Nouvelle Matière"]})]})]})}),e.jsxs(w.Body,{className:Z==="dark"?"bg-dark":"bg-white",children:[e.jsxs("div",{className:"mb-4 p-3 rounded",style:{backgroundColor:Z==="dark"?"#1a1a1a":"#f8f9fa"},children:[e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-3",children:[e.jsxs(b.Label,{className:`small fw-bold ${Z==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"search",className:"me-1",style:{width:"14px",height:"14px"}}),"Recherche Globale"]}),e.jsx(b.Control,{type:"text",placeholder:"Nom, matricule, description...",value:d,onChange:we=>f(we.target.value),onKeyDown:we=>we.key==="Enter"&&ge(),className:Z==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsxs(b.Label,{className:`small fw-bold ${Z==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"home",className:"me-1",style:{width:"14px",height:"14px"}}),"Classe"]}),e.jsxs(b.Select,{value:v,onChange:we=>S(we.target.value),className:Z==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Toutes les classes"}),n.map(we=>e.jsx("option",{value:we.matricule,children:we.name},we.matricule))]})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsxs(b.Label,{className:`small fw-bold ${Z==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"14px",height:"14px"}}),"Date de création"]}),e.jsx(b.Control,{type:"date",value:p,onChange:we=>j(we.target.value),className:Z==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsxs(b.Label,{className:`small fw-bold ${Z==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"activity",className:"me-1",style:{width:"14px",height:"14px"}}),"Statut"]}),e.jsxs(b.Select,{value:y,onChange:we=>k(we.target.value),className:Z==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous"}),e.jsx("option",{value:"Active",children:"Actives"}),e.jsx("option",{value:"Inactive",children:"Inactives"}),e.jsx("option",{value:"Suspendue",children:"Suspendues"})]})]})]}),l.length>0&&e.jsxs("div",{className:"mt-3 p-2 bg-primary bg-opacity-10 rounded",children:[e.jsxs("small",{className:"text-primary fw-bold",children:[l.length," matière(s) sélectionnée(s)"]}),e.jsx($,{size:"sm",variant:"outline-secondary",className:"ms-2",onClick:()=>c([]),children:"Désélectionner tout"})]})]}),o==="grouped"?He():ke()]})]}),e.jsxs(Y,{show:C,onHide:()=>_(!1),centered:!0,size:"lg",contentClassName:Z==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:Z==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Ajouter une Matière"})}),e.jsxs(b,{onSubmit:Oe,children:[e.jsx(Y.Body,{className:Z==="dark"?"bg-dark text-light":"",children:e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Nom de la matière *"}),e.jsx(b.Control,{type:"text",placeholder:"Ex: Mathématiques, Français...",required:!0,value:G.nom,onChange:we=>se({...G,nom:we.target.value}),isInvalid:!!I.nom,className:Z==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:I.nom})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Classe *"}),e.jsxs(b.Select,{value:G.matricule_classroom,onChange:we=>se({...G,matricule_classroom:we.target.value}),isInvalid:!!I.matricule_classroom,className:Z==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionnez une classe"}),n.map(we=>e.jsx("option",{value:we.matricule,children:we.name},we.matricule))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:I.matricule_classroom})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Coefficient"}),e.jsx(b.Control,{type:"number",min:"1",max:"10",value:G.coefficient,onChange:we=>se({...G,coefficient:parseInt(we.target.value)}),isInvalid:!!I.coefficient,className:Z==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:I.coefficient}),e.jsx(b.Text,{className:"text-muted",children:"Entre 1 et 10 (défaut: 1)"})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Statut *"}),e.jsxs(b.Select,{value:G.status,onChange:we=>se({...G,status:we.target.value}),isInvalid:!!I.status,className:Z==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"}),e.jsx("option",{value:"Suspendue",children:"Suspendue"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:I.status})]})}),e.jsx(T,{md:12,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Image de la matière"}),e.jsx(b.Control,{type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:we=>se({...G,image:we.target.files[0]}),isInvalid:!!I.image,className:Z==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:I.image}),e.jsx(b.Text,{className:"text-muted",children:"JPG, PNG, WEBP - Max 2MB"})]})}),e.jsx(T,{md:12,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Description"}),e.jsx(b.Control,{as:"textarea",rows:3,placeholder:"Description de la matière...",value:G.description,onChange:we=>se({...G,description:we.target.value}),isInvalid:!!I.description,className:Z==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:I.description})]})})]})}),e.jsxs(Y.Footer,{className:Z==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>_(!1),children:"Annuler"}),e.jsxs($,{type:"submit",variant:"success",children:[e.jsx("i",{"data-feather":"save",className:"me-2",style:{width:"16px",height:"16px"}}),"Enregistrer"]})]})]})]}),e.jsxs(Y,{show:M,onHide:()=>L(!1),centered:!0,contentClassName:Z==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:Z==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Changer le statut des matières"})}),e.jsxs(Y.Body,{className:Z==="dark"?"bg-dark text-light":"",children:[e.jsxs("p",{children:["Vous allez modifier le statut de ",l.length," matière(s) sélectionnée(s)."]}),e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"success",onClick:()=>Xe(),children:[e.jsx("i",{"data-feather":"check-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Activer les matières"]}),e.jsxs($,{variant:"warning",onClick:()=>Xe(),children:[e.jsx("i",{"data-feather":"pause-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Désactiver les matières"]}),e.jsxs($,{variant:"danger",onClick:()=>Xe(),children:[e.jsx("i",{"data-feather":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Suspendre les matières"]})]})]}),e.jsx(Y.Footer,{className:Z==="dark"?"bg-dark text-light border-secondary":"",children:e.jsx($,{variant:"secondary",onClick:()=>L(!1),children:"Annuler"})})]}),e.jsxs(Y,{show:A,onHide:()=>D(!1),centered:!0,contentClassName:Z==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:Z==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Confirmation de Suppression"})}),e.jsxs(Y.Body,{className:Z==="dark"?"bg-dark text-light":"",children:[e.jsxs("p",{children:["Êtes-vous sûr de vouloir supprimer ",F?"cette matière":"ces matières"," ?"]}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),"Cette action est irréversible. Les cours et évaluations associés doivent être supprimés au préalable."]})]}),e.jsxs(Y.Footer,{className:Z==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>D(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:me,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:z,onClose:()=>K(!1),delay:3e3,autohide:!0,bg:P==="success"?"success":"danger",className:Z==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${P==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":P==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:Z==="dark"?"bg-dark text-light":"",children:U})]})})]})})}function AEe(){const{matricule_classroom:s}=is();Ut();const[t,a]=x.useState([]),[r,n]=x.useState(null),[i,l]=x.useState(!0),[c,o]=x.useState(null),[u,d]=x.useState("card"),[f,p]=x.useState(!1),[j,y]=x.useState(""),[k,v]=x.useState("success"),[S,C]=x.useState("light");x.useEffect(()=>{const I=document.documentElement.getAttribute("data-theme")||"light";C(I);const H=new MutationObserver(()=>{const z=document.documentElement.getAttribute("data-theme")||"light";C(z)});return H.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>H.disconnect()},[]);const _=(I,H="success")=>{y(I),v(H),p(!0)},A=x.useCallback(async()=>{try{l(!0);const I=await he.get(`/formateur/matiere/by-classroom/${s}`);a(I.data.matieres||[]);const K=((await he.get("/formateur/view/matiere")).data.classrooms||[]).find(U=>U.matricule===s);n(K)}catch(I){console.error("Erreur lors de la récupération des matières",I),o("Erreur lors de la récupération des matières de cette classe"),_("Erreur lors de la récupération des données","danger")}finally{l(!1)}},[s]);x.useEffect(()=>{We.replace(),s&&A()},[A]),x.useEffect(()=>{We.replace()},[r,t,u]);const D=async I=>{try{await he.patch(`/formateur/toggle-status/matiere/${I}`),A(),_("Statut de la matière mis à jour","success")}catch(H){console.error(H),_("Erreur lors de la mise à jour du statut","danger")}},M=I=>{switch(I){case"Active":return"success";case"Inactive":return"warning";case"Suspendue":return"danger";default:return"secondary"}},L=I=>{switch(I){case"Active":return"check-circle";case"Inactive":return"pause-circle";case"Suspendue":return"x-circle";default:return"help-circle"}},F=()=>e.jsx(pe,{className:"g-4",children:t.length?t.map(I=>e.jsx(T,{md:6,lg:3,children:e.jsxs(w,{className:`h-100 mb-4 border-0 shadow-sm ${S==="dark"?"bg-dark":"bg-white"} position-relative`,children:[e.jsxs("div",{className:"position-relative",children:[e.jsx(w.Img,{variant:"top",src:I.image_url||"/placeholder/matiere_placeholder.png",style:{height:"140px",objectFit:"cover"}}),e.jsxs(oe,{bg:M(I.status),className:"position-absolute top-0 end-0 m-2",children:[e.jsx("i",{"data-feather":L(I.status),className:"me-1",style:{width:"12px",height:"12px"}}),I.status]})]}),e.jsxs(w.Body,{className:"d-flex flex-column p-3",children:[e.jsxs("div",{className:"mb-auto",children:[e.jsx(w.Title,{className:`h6 mb-2 ${S==="dark"?"text-light":"text-dark"}`,children:I.nom}),e.jsxs(w.Text,{className:`small ${S==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"hash",className:"me-1",style:{width:"12px",height:"12px"}}),I.matricule]}),e.jsx(w.Text,{className:S==="dark"?"text-light":"text-dark",children:I.description?I.description.length>80?I.description.substring(0,80)+"...":I.description:"Aucune description"}),e.jsxs(w.Text,{className:"small text-secondary",children:[e.jsx("i",{"data-feather":"award",className:"me-1",style:{width:"12px",height:"12px"}}),"Coefficient: ",I.coefficient||1]})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsxs("div",{className:"d-flex align-items-center",title:"ses cours",children:[e.jsx("i",{"data-feather":"book-open",className:"me-1 text-muted",style:{width:"14px",height:"14px"}}),e.jsx("small",{className:S==="dark"?"text-light":"text-muted",children:I.cours_count||0})]}),e.jsxs("div",{className:"d-flex align-items-center",title:"ses evalautions",children:[e.jsx("i",{"data-feather":"clipboard",className:"me-1 text-muted",style:{width:"14px",height:"14px"}}),e.jsx("small",{className:S==="dark"?"text-light":"text-muted",children:I.evaluations_count||0})]})]}),e.jsxs(Ga,{size:"sm",children:[e.jsx($,{variant:"outline-info",as:xe,to:`/formateur/show/matiere/${I.id}`,title:"Voir les détails",children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),e.jsx($,{variant:"outline-warning",as:xe,to:`/formateur/edit/matiere/${I.id}`,title:"Modifier",children:e.jsx("i",{"data-feather":"edit",style:{width:"14px",height:"14px"}})}),e.jsx($,{variant:M(I.status)==="success"?"outline-warning":"outline-success",title:"Changer le statut",onClick:()=>D(I.id),children:e.jsx("i",{"data-feather":"refresh-cw",style:{width:"14px",height:"14px"}})})]})]})]})]})},I.id)):e.jsx(T,{xs:12,children:e.jsx("div",{className:"text-center py-5",children:e.jsxs("div",{className:`${S==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"book",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucune matière active dans cette classe"}),e.jsx("p",{className:"small mb-0",children:"Cette classe n'a pas encore de matières actives assignées."}),e.jsxs($,{variant:"primary",className:"mt-3",as:xe,to:"/formateur/view/matieres",children:[e.jsx("i",{"data-feather":"plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Créer une matière"]})]})]})})})}),Q=()=>e.jsx("div",{className:"row g-3",children:t.length?t.map(I=>e.jsx("div",{className:"col-12",children:e.jsx(w,{className:`border-0 shadow-sm ${S==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{children:e.jsxs(pe,{className:"align-items-center",children:[e.jsx(T,{md:2,className:"text-center",children:e.jsx(Mt,{src:I.image_url||"/placeholder/matiere_placeholder.png",alt:I.nom,style:{width:"80px",height:"60px",borderRadius:"8px",objectFit:"cover"}})}),e.jsxs(T,{md:4,children:[e.jsx("h6",{className:`mb-1 ${S==="dark"?"text-light":"text-dark"}`,children:I.nom}),e.jsx("small",{className:"text-muted",children:I.matricule}),e.jsx("p",{className:`small mb-0 mt-1 ${S==="dark"?"text-light":"text-dark"}`,children:I.description?I.description.length>100?I.description.substring(0,100)+"...":I.description:"Aucune description"})]}),e.jsx(T,{md:2,className:"text-center",children:e.jsxs(oe,{bg:"info",className:"px-2 py-1",children:["Coef. ",I.coefficient||1]})}),e.jsx(T,{md:2,className:"text-center",children:e.jsxs("div",{className:"d-flex flex-column gap-1",children:[e.jsxs("small",{className:"text-primary",children:[e.jsx("i",{"data-feather":"book-open",className:"me-1",style:{width:"12px",height:"12px"}}),I.cours_count||0," cours"]}),e.jsxs("small",{className:"text-success",children:[e.jsx("i",{"data-feather":"clipboard",className:"me-1",style:{width:"12px",height:"12px"}}),I.evaluations_count||0," éval."]})]})}),e.jsx(T,{md:1,className:"text-center",children:e.jsxs(oe,{bg:M(I.status),className:"px-2 py-1",children:[e.jsx("i",{"data-feather":L(I.status),className:"me-1",style:{width:"12px",height:"12px"}}),I.status]})}),e.jsx(T,{md:1,className:"text-center",children:e.jsxs(Ga,{size:"sm",children:[e.jsx($,{variant:"outline-info",as:xe,to:`/formateur/show/matiere/${I.id}`,title:"Voir les détails",children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),e.jsx($,{variant:"outline-warning",as:xe,to:`/formateur/edit/matiere/${I.id}`,title:"Modifier",children:e.jsx("i",{"data-feather":"edit",style:{width:"14px",height:"14px"}})})]})})]})})})},I.id)):e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"text-center py-5",children:e.jsxs("div",{className:`${S==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"book",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucune matière active dans cette classe"}),e.jsx("p",{className:"small mb-0",children:"Cette classe n'a pas encore de matières actives assignées."}),e.jsxs($,{variant:"primary",className:"mt-3",as:xe,to:"/formateur/view/matieres",children:[e.jsx("i",{"data-feather":"plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Créer une matière"]})]})]})})})});return i?e.jsx(et,{children:e.jsx(yt,{className:"py-4",children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des matières..."})]})})}):c?e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),c]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:"secondary",as:xe,to:"/formateur/view/matieres",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste générale"]}),e.jsxs($,{variant:"outline-primary",onClick:A,children:[e.jsx("i",{"data-feather":"refresh-cw",className:"me-2"}),"Réessayer"]})]})]})}):e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:"/formateur/view/matieres",className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsx("div",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${S==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"home",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${S==="dark"?"text-light":"text-dark"}`,children:"Matières de la classe"}),e.jsxs("p",{className:`mb-0 ${S==="dark"?"text-light":"text-muted"}`,children:[r?.name||"Classe non trouvée"," - ",t.length," matière",t.length!==1?"s":""," active",t.length!==1?"s":""]})]})]})})]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs(Ga,{children:[e.jsx($,{variant:u==="card"?"primary":"outline-secondary",size:"sm",onClick:()=>d("card"),children:e.jsx("i",{"data-feather":"grid",style:{width:"14px",height:"14px"}})}),e.jsx($,{variant:u==="list"?"primary":"outline-secondary",size:"sm",onClick:()=>d("list"),children:e.jsx("i",{"data-feather":"list",style:{width:"14px",height:"14px"}})})]}),e.jsxs($,{variant:"success",as:xe,to:"/formateur/view/matieres",className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Nouvelle Matière"]})]})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${S==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${S==="dark"?"text-light":"text-dark"}`,children:t.length}),e.jsx("small",{className:S==="dark"?"text-light":"text-muted",children:"Total Matières"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"book",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${S==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:t.filter(I=>I.status==="Active").length}),e.jsx("small",{className:S==="dark"?"text-light":"text-muted",children:"Actives"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"check-circle",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${S==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-primary",children:t.reduce((I,H)=>I+(H.cours_count||0),0)}),e.jsx("small",{className:S==="dark"?"text-light":"text-muted",children:"Total Cours"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"book-open",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${S==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:t.reduce((I,H)=>I+(H.evaluations_count||0),0)}),e.jsx("small",{className:S==="dark"?"text-light":"text-muted",children:"Total Évaluations"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"clipboard",style:{width:"24px",height:"24px"}})})]})})})})]})]}),e.jsxs(w,{className:`shadow-sm border-0 ${S==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${S==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"book",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsxs("span",{className:`fw-bold ${S==="dark"?"text-light":"text-dark"}`,children:["Matières de la classe ",r?.name]})]})}),e.jsx(w.Body,{className:S==="dark"?"bg-dark":"bg-white",children:u==="card"?F():Q()})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:f,onClose:()=>p(!1),delay:3e3,autohide:!0,bg:k==="success"?"success":"danger",className:S==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${k==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":k==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:S==="dark"?"bg-dark text-light":"",children:j})]})})]})})}function TEe(){const{id:s}=is(),t=Ut(),[a,r]=x.useState(!0),[n,i]=x.useState(null),[l,c]=x.useState(!1),[o,u]=x.useState("light"),[d,f]=x.useState([]),[p,j]=x.useState(!1),[y,k]=x.useState(""),[v,S]=x.useState("success"),[C,_]=x.useState({nom:"",description:"",matricule_classroom:"",coefficient:1,status:"Active",image:null,current_image_url:""}),[A,D]=x.useState({}),[M,L]=x.useState(null);x.useEffect(()=>{const z=document.documentElement.getAttribute("data-theme")||"light";u(z);const K=new MutationObserver(()=>{const U=document.documentElement.getAttribute("data-theme")||"light";u(U)});return K.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>K.disconnect()},[]);const F=(z,K="success")=>{k(z),S(K),j(!0)},Q=x.useCallback(async()=>{try{r(!0);const[z,K]=await Promise.all([he.get(`/formateur/edit/matiere/${s}`),he.get("/formateur/view/matiere")]),U=z.data.matiere;_({nom:U.nom||"",description:U.description||"",matricule_classroom:U.matricule_classroom||"",coefficient:U.coefficient||1,status:U.status||"Active",image:null,current_image_url:U.image_url||""}),f(K.data.classrooms||[])}catch(z){i("Erreur lors du chargement des données"),console.error("Erreur:",z)}finally{r(!1)}},[s]);x.useEffect(()=>{s&&Q()},[Q]),x.useEffect(()=>{We.replace()},[C,A]);const I=z=>{const{name:K,value:U,type:V,files:P}=z.target;if(V==="file"){const q=P[0];if(_(G=>({...G,[K]:q})),q){const G=new FileReader;G.onload=se=>L(se.target.result),G.readAsDataURL(q)}else L(null)}else _(q=>({...q,[K]:U}));A[K]&&D(q=>({...q,[K]:null}))},H=async z=>{z.preventDefault(),D({}),c(!0);try{const K=new FormData;K.append("nom",C.nom),K.append("description",C.description),K.append("matricule_classroom",C.matricule_classroom),K.append("coefficient",C.coefficient),K.append("status",C.status),K.append("_method","PUT"),C.image&&K.append("image",C.image),await he.post(`/formateur/update/matiere/${s}`,K,{headers:{"Content-Type":"multipart/form-data"}}),F("Matière mise à jour avec succès","success"),setTimeout(()=>{t(`/formateur/show/matiere/${s}`)},1500)}catch(K){K.response?.status===422?(D(K.response.data.errors||{}),F("Erreur de validation","danger")):(console.error(K),F(K.response?.data?.message||"Une erreur inattendue s'est produite","danger"))}finally{c(!1)}};return a?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des données..."})]})}):n?e.jsxs(et,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),n]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:"secondary",as:xe,to:"/formateur/view/matiere",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]}),e.jsxs($,{variant:"outline-primary",onClick:Q,children:[e.jsx("i",{"data-feather":"refresh-cw",className:"me-2"}),"Réessayer"]})]})]}):e.jsxs(et,{children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:`/formateur/show/matiere/${s}`,className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsx("h1",{className:"h3 mb-0",children:"Modifier la matière"})]}),e.jsx("p",{className:"text-muted mb-0",children:"Modification des informations de la matière"})]})}),e.jsx(b,{onSubmit:H,children:e.jsxs(pe,{children:[e.jsxs(T,{lg:8,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"edit",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations générales"]})}),e.jsx(w.Body,{children:e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{className:"fw-bold",children:[e.jsx("i",{"data-feather":"book",className:"me-1",style:{width:"14px",height:"14px"}}),"Nom de la matière *"]}),e.jsx(b.Control,{type:"text",name:"nom",placeholder:"Ex: Mathématiques, Français...",value:C.nom,onChange:I,isInvalid:!!A.nom,className:o==="dark"?"bg-dark text-light border-secondary":"",required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.nom})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{className:"fw-bold",children:[e.jsx("i",{"data-feather":"home",className:"me-1",style:{width:"14px",height:"14px"}}),"Classe *"]}),e.jsxs(b.Select,{name:"matricule_classroom",value:C.matricule_classroom,onChange:I,isInvalid:!!A.matricule_classroom,className:o==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionnez une classe"}),d.map(z=>e.jsx("option",{value:z.matricule,children:z.name},z.matricule))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.matricule_classroom})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{className:"fw-bold",children:[e.jsx("i",{"data-feather":"award",className:"me-1",style:{width:"14px",height:"14px"}}),"Coefficient"]}),e.jsx(b.Control,{type:"number",name:"coefficient",min:"1",max:"10",value:C.coefficient,onChange:I,isInvalid:!!A.coefficient,className:o==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.coefficient}),e.jsx(b.Text,{className:"text-muted",children:"Entre 1 et 10 (défaut: 1)"})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{className:"fw-bold",children:[e.jsx("i",{"data-feather":"activity",className:"me-1",style:{width:"14px",height:"14px"}}),"Statut *"]}),e.jsxs(b.Select,{name:"status",value:C.status,onChange:I,isInvalid:!!A.status,className:o==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"}),e.jsx("option",{value:"Suspendue",children:"Suspendue"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.status})]})}),e.jsx(T,{md:12,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{className:"fw-bold",children:[e.jsx("i",{"data-feather":"file-text",className:"me-1",style:{width:"14px",height:"14px"}}),"Description"]}),e.jsx(b.Control,{as:"textarea",rows:4,name:"description",placeholder:"Description de la matière...",value:C.description,onChange:I,isInvalid:!!A.description,className:o==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.description}),e.jsx(b.Text,{className:"text-muted",children:"Maximum 1000 caractères"})]})})]})})]}),e.jsxs("div",{className:"d-flex gap-2 justify-content-end",children:[e.jsxs($,{variant:"secondary",as:xe,to:`/formateur/show/matiere/${s}`,disabled:l,children:[e.jsx("i",{"data-feather":"x",className:"me-2",style:{width:"16px",height:"16px"}}),"Annuler"]}),e.jsxs($,{type:"submit",variant:"success",disabled:l,className:"d-flex align-items-center",children:[l?e.jsx(tt,{animation:"border",size:"sm",className:"me-2"}):e.jsx(ss,{icon:"save",size:16,className:"me-2"}),l?"Enregistrement...":"Enregistrer les modifications"]})]})]}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"image",className:"me-2",style:{width:"20px",height:"20px"}}),"Image de la matière"]})}),e.jsxs(w.Body,{children:[e.jsx("div",{className:"text-center mb-3",children:e.jsx("div",{className:"position-relative d-inline-block",children:e.jsx(Mt,{src:M||C.current_image_url||"/placeholder/matiere_placeholder.png",alt:"Aperçu de l'image",className:"rounded",width:"200",height:"150",style:{objectFit:"cover"}})})}),e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Changer l'image"}),e.jsx(b.Control,{type:"file",name:"image",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:I,isInvalid:!!A.image,className:o==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.image}),e.jsx(b.Text,{className:"text-muted",children:"JPG, PNG, WEBP - Max 2MB"})]}),M&&e.jsx("div",{className:"mt-2",children:e.jsxs($,{variant:"outline-danger",size:"sm",onClick:()=>{_(K=>({...K,image:null})),L(null);const z=document.querySelector('input[name="image"]');z&&(z.value="")},children:[e.jsx("i",{"data-feather":"x",className:"me-1",style:{width:"14px",height:"14px"}}),"Supprimer l'aperçu"]})})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"help-circle",className:"me-2",style:{width:"20px",height:"20px"}}),"Aide"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{className:"text-primary",children:"Nom de la matière"}),e.jsx("p",{className:"mb-0 text-muted",children:"Utilisez un nom clair et descriptif (ex: Mathématiques Niveau 1)"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{className:"text-success",children:"Coefficient"}),e.jsx("p",{className:"mb-0 text-muted",children:"Définit l'importance de la matière dans les calculs de moyennes"})]}),e.jsxs("div",{className:"mb-0",children:[e.jsx("strong",{className:"text-warning",children:"Statut"}),e.jsxs("ul",{className:"mb-0 text-muted ps-3",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Active"})," : Visible et accessible"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Inactive"})," : Masquée temporairement"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Suspendue"})," : Bloquée définitivement"]})]})]})]})})]})]})]})}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:p,onClose:()=>j(!1),delay:3e3,autohide:!0,bg:v==="success"?"success":"danger",className:o==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${v==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":v==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:o==="dark"?"bg-dark text-light":"",children:y})]})})]})}function MEe(){const{id:s}=is(),t=Ut(),[a,r]=x.useState(null),[n,i]=x.useState(!0),[l,c]=x.useState(null),[o,u]=x.useState(!1),[d,f]=x.useState(!1),[p,j]=x.useState("light");x.useEffect(()=>{const _=document.documentElement.getAttribute("data-theme")||"light";j(_);const A=new MutationObserver(()=>{const D=document.documentElement.getAttribute("data-theme")||"light";j(D)});return A.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>A.disconnect()},[]),x.useEffect(()=>{s&&(async()=>{try{i(!0);const A=await he.get(`/formateur/show/matiere/${s}`);r(A.data.matiere)}catch(A){c("Erreur lors du chargement de la matière"),console.error("Erreur:",A)}finally{i(!1)}})()},[s]),x.useEffect(()=>{We.replace()},[a]);const y=async()=>{try{const _=await he.patch(`/formateur/toggle-status/matiere/${s}`);r(_.data.matiere),u(!1)}catch(_){console.error("Erreur lors du changement de statut:",_),c(_.response?.data?.message||"Erreur lors du changement de statut")}},k=async()=>{try{await he.delete(`/formateur/destroy/matiere/${s}`),t("/formateur/view/matiere")}catch(_){console.error("Erreur lors de la suppression:",_),c(_.response?.data?.message||"Erreur lors de la suppression"),f(!1)}},v=_=>_?new Date(_).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Non renseigné",S=_=>{switch(_){case"Active":return"success";case"Inactive":return"warning";case"Suspendue":return"danger";default:return"secondary"}},C=_=>{switch(_){case"Active":return"check-circle";case"Inactive":return"pause-circle";case"Suspendue":return"x-circle";default:return"help-circle"}};return n?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des détails..."})]})}):l?e.jsxs(et,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),l]}),e.jsxs($,{variant:"secondary",as:xe,to:"/formateur/view/matieres",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]})]}):a?e.jsxs(et,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:"/formateur/view/matieres",className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsx("h1",{className:"h3 mb-0",children:a.nom}),e.jsxs(oe,{bg:S(a.status),className:"ms-3 px-3 py-2",children:[e.jsx("i",{"data-feather":C(a.status),className:"me-1",style:{width:"14px",height:"14px"}}),a.status]})]}),e.jsxs("p",{className:"text-muted mb-0",children:[e.jsx("i",{"data-feather":"hash",className:"me-1",style:{width:"14px",height:"14px"}}),a.matricule]})]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:"warning",onClick:()=>u(!0),className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"refresh-cw",className:"me-2",style:{width:"16px",height:"16px"}}),"Changer statut"]}),e.jsxs($,{variant:"primary",as:xe,to:`/formateur/edit/matiere/${a.id}`,className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"edit",className:"me-2",style:{width:"16px",height:"16px"}}),"Modifier"]}),e.jsxs($,{variant:"outline-danger",onClick:()=>f(!0),className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsxs(pe,{children:[e.jsxs(T,{lg:8,className:"mb-4",children:[e.jsxs(w,{className:`border-0 shadow-sm ${p==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations de la matière"]})}),e.jsxs(w.Body,{children:[e.jsxs(pe,{className:"align-items-start mb-4",children:[e.jsx(T,{md:4,className:"text-center",children:e.jsxs("div",{className:"position-relative d-inline-block",children:[e.jsx(Mt,{src:a.image_url||"/placeholder/matiere_placeholder.png",alt:"Image de la matière",className:"rounded",width:"200",height:"150",style:{objectFit:"cover"}}),e.jsx(oe,{bg:S(a.status),className:"position-absolute top-0 end-0 m-2",children:e.jsx("i",{"data-feather":C(a.status),style:{width:"12px",height:"12px"}})})]})}),e.jsxs(T,{md:8,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h4",{className:p==="dark"?"text-light":"text-dark",children:a.nom}),e.jsxs("p",{className:"text-muted mb-2",children:[e.jsx("i",{"data-feather":"hash",className:"me-1",style:{width:"14px",height:"14px"}}),"Matricule: ",a.matricule]}),e.jsx("p",{className:`mb-0 ${p==="dark"?"text-light":"text-dark"}`,children:a.description||"Aucune description disponible"})]}),e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{sm:6,children:e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"home",className:"me-2 text-primary",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("small",{className:"text-muted",children:"Classe"}),e.jsx("p",{className:`mb-0 fw-bold ${p==="dark"?"text-light":"text-dark"}`,children:a.classroom?.name||"Non définie"})]})]}),a.classroom&&e.jsx($,{variant:"outline-primary",size:"sm",as:xe,to:`/formateur/matiere/by-classroom/${a.classroom.matricule}`,title:"Voir toutes les matières de cette classe",children:e.jsx("i",{"data-feather":"external-link",style:{width:"12px",height:"12px"}})})]})}),e.jsx(T,{sm:6,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"award",className:"me-2 text-success",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("small",{className:"text-muted",children:"Coefficient"}),e.jsx("p",{className:`mb-0 fw-bold ${p==="dark"?"text-light":"text-dark"}`,children:a.coefficient||1})]})]})})]})]})]}),e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:6,children:e.jsx(w,{className:`border-0 ${p==="dark"?"bg-secondary bg-opacity-10":"bg-light"}`,children:e.jsx(w.Body,{className:"text-center py-3",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-primary",children:a.cours_count||0}),e.jsx("small",{className:p==="dark"?"text-light":"text-muted",children:"Cours"})]}),e.jsx("i",{"data-feather":"book-open",className:"text-primary",style:{width:"24px",height:"24px"}})]})})})}),e.jsx(T,{md:6,children:e.jsx(w,{className:`border-0 ${p==="dark"?"bg-secondary bg-opacity-10":"bg-light"}`,children:e.jsx(w.Body,{className:"text-center py-3",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:a.evaluations_count||0}),e.jsx("small",{className:p==="dark"?"text-light":"text-muted",children:"Évaluations"})]}),e.jsx("i",{"data-feather":"clipboard",className:"text-success",style:{width:"24px",height:"24px"}})]})})})})]})]})]}),a.cours&&a.cours.length>0&&e.jsxs(w,{className:`border-0 shadow-sm mt-4 ${p==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"book-open",className:"me-2",style:{width:"20px",height:"20px"}}),"Cours récents (",a.cours.length,")"]})}),e.jsxs(w.Body,{children:[e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:p==="dark"?"table-dark":"",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Titre"}),e.jsx("th",{className:"d-none d-md-table-cell",children:"Statut"}),e.jsx("th",{className:"d-none d-lg-table-cell",children:"Date"}),e.jsx("th",{className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:a.cours.slice(0,5).map(_=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{className:`fw-bold ${p==="dark"?"text-light":"text-dark"}`,children:_.titre}),_.description&&e.jsx("small",{className:"text-muted",children:_.description.length>50?_.description.substring(0,50)+"...":_.description})]})}),e.jsx("td",{className:"d-none d-md-table-cell",children:e.jsx(oe,{bg:_.status==="Publie"?"success":"warning",children:_.status})}),e.jsx("td",{className:"d-none d-lg-table-cell",children:e.jsx("small",{className:"text-muted",children:v(_.created_at)})}),e.jsx("td",{className:"text-center",children:e.jsx($,{size:"sm",variant:"outline-primary",children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})})})]},_.id))})]})}),a.cours.length>5&&e.jsx("div",{className:"text-center mt-3",children:e.jsxs($,{variant:"outline-primary",size:"sm",children:["Voir tous les cours (",a.cours.length,")"]})})]})]}),a.evaluations&&a.evaluations.length>0&&e.jsxs(w,{className:`border-0 shadow-sm mt-4 ${p==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"clipboard",className:"me-2",style:{width:"20px",height:"20px"}}),"Évaluations récentes (",a.evaluations.length,")"]})}),e.jsxs(w.Body,{children:[e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:p==="dark"?"table-dark":"",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Titre"}),e.jsx("th",{className:"d-none d-md-table-cell",children:"Durée"}),e.jsx("th",{className:"d-none d-md-table-cell",children:"Statut"}),e.jsx("th",{className:"d-none d-lg-table-cell",children:"Date début"}),e.jsx("th",{className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:a.evaluations.slice(0,5).map(_=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{className:`fw-bold ${p==="dark"?"text-light":"text-dark"}`,children:_.titre}),_.description&&e.jsx("small",{className:"text-muted",children:_.description.length>50?_.description.substring(0,50)+"...":_.description})]})}),e.jsx("td",{className:"d-none d-md-table-cell",children:e.jsxs("small",{className:"text-info",children:[_.duree_minutes," min"]})}),e.jsx("td",{className:"d-none d-md-table-cell",children:e.jsx(oe,{bg:_.status==="Active"?"success":"warning",children:_.status})}),e.jsx("td",{className:"d-none d-lg-table-cell",children:e.jsx("small",{className:"text-muted",children:v(_.date_debut)})}),e.jsx("td",{className:"text-center",children:e.jsx($,{size:"sm",variant:"outline-primary",children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})})})]},_.id))})]})}),a.evaluations.length>5&&e.jsx("div",{className:"text-center mt-3",children:e.jsxs($,{variant:"outline-primary",size:"sm",children:["Voir toutes les évaluations (",a.evaluations.length,")"]})})]})]})]}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${p==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations système"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsx("span",{className:"text-muted",children:"Date de création"}),e.jsx("span",{className:`fw-bold ${p==="dark"?"text-light":"text-dark"}`,children:v(a.created_at)})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsx("span",{className:"text-muted",children:"Dernière modification"}),e.jsx("span",{className:`fw-bold ${p==="dark"?"text-light":"text-dark"}`,children:v(a.updated_at)})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("span",{className:"text-muted",children:"Statut actuel"}),e.jsxs(oe,{bg:S(a.status),className:"px-3 py-2",children:[e.jsx("i",{"data-feather":C(a.status),className:"me-1",style:{width:"12px",height:"12px"}}),a.status]})]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${p==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"zap",className:"me-2",style:{width:"20px",height:"20px"}}),"Actions rapides"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"outline-primary",className:"d-flex align-items-center justify-content-center",as:xe,to:`/formateur/view/cours/matiere/${a.matricule}`,title:"Voir toutes les matières de cette classe",children:[e.jsx("i",{"data-feather":"plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Voir les cours"]}),e.jsxs($,{variant:"outline-success",className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"clipboard",className:"me-2",style:{width:"16px",height:"16px"}}),"Créer une évaluation"]}),e.jsxs($,{variant:"outline-info",className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"users",className:"me-2",style:{width:"16px",height:"16px"}}),"Voir les étudiants"]}),e.jsxs($,{variant:"outline-warning",className:"d-flex align-items-center justify-content-center",onClick:()=>u(!0),children:[e.jsx("i",{"data-feather":"refresh-cw",className:"me-2",style:{width:"16px",height:"16px"}}),"Changer le statut"]})]})})]})]})]}),e.jsxs(Y,{show:o,onHide:()=>u(!1),centered:!0,contentClassName:p==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:p==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Changer le statut de la matière"})}),e.jsxs(Y.Body,{className:p==="dark"?"bg-dark text-light":"",children:[e.jsxs("p",{children:["Voulez-vous changer le statut de la matière ",e.jsx("strong",{children:a.nom})," ?"]}),e.jsxs("p",{className:"text-muted",children:["Statut actuel : ",e.jsx(oe,{bg:S(a.status),children:a.status})]}),e.jsxs(lt,{variant:"info",className:"small",children:[e.jsx("i",{"data-feather":"info",className:"me-1",style:{width:"14px",height:"14px"}}),"Les statuts suivent ce cycle : Active → Inactive → Suspendue → Active"]})]}),e.jsxs(Y.Footer,{className:p==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>u(!1),children:"Annuler"}),e.jsxs($,{variant:"warning",onClick:y,children:[e.jsx("i",{"data-feather":"refresh-cw",className:"me-2",style:{width:"16px",height:"16px"}}),"Changer le statut"]})]})]}),e.jsxs(Y,{show:d,onHide:()=>f(!1),centered:!0,contentClassName:p==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:p==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Supprimer la matière"})}),e.jsxs(Y.Body,{className:p==="dark"?"bg-dark text-light":"",children:[e.jsx("div",{className:"text-center mb-3",children:e.jsx("i",{"data-feather":"alert-triangle",className:"text-danger",style:{width:"48px",height:"48px"}})}),e.jsxs("p",{className:"text-center",children:["Êtes-vous sûr de vouloir supprimer la matière ",e.jsx("strong",{children:a.nom})," ?"]}),e.jsxs(lt,{variant:"danger",className:"small",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-1",style:{width:"14px",height:"14px"}}),"Cette action est irréversible. Tous les cours et évaluations associés doivent être supprimés au préalable."]})]}),e.jsxs(Y.Footer,{className:p==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>f(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:k,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer définitivement"]})]})]})]}):e.jsxs(et,{children:[e.jsxs(lt,{variant:"warning",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2"}),"Matière non trouvée"]}),e.jsxs($,{variant:"secondary",as:xe,to:"/formateur/view/matieres",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]})]})}function DEe(){const[s,t]=x.useState([]),[a,r]=x.useState({}),[n,i]=x.useState([]),[l,c]=x.useState([]),[o,u]=x.useState("grouped"),[d,f]=x.useState(""),[p,j]=x.useState(""),[y,k]=x.useState(""),[v,S]=x.useState(""),[C,_]=x.useState(""),[A,D]=x.useState(!1),[M,L]=x.useState(!1),[F,Q]=x.useState(null),[I,H]=x.useState({}),[z,K]=x.useState(!1),[U,V]=x.useState(""),[P,q]=x.useState("success"),[G,se]=x.useState({titre:"",description:"",contenu:"",matricule_classroom:"",matricule_matiere:"",fichiers_joints_1:null,fichiers_joints_2:null,liens_externes:"",status:"Brouillon"}),[O,W]=x.useState([]),[Z,te]=x.useState({}),[ie,fe]=x.useState("light"),[J,ge]=x.useState({});x.useEffect(()=>{const Ee=document.documentElement.getAttribute("data-theme")||"light";fe(Ee);const je=new MutationObserver(()=>{const Ve=document.documentElement.getAttribute("data-theme")||"light";fe(Ve)});return je.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>je.disconnect()},[]);const re=(Ee,je="success")=>{V(Ee),q(je),K(!0)},ve=x.useCallback(async()=>{try{const Ee={};d.trim()&&(Ee.search=d.trim()),p&&(Ee.created_at=p),y&&(Ee.status=y),v&&(Ee.matricule_classroom=v),C&&(Ee.matricule_matiere=C);const je=await he.get("/formateur/view/cours",{params:Ee});t(je.data.cours||[]),r(je.data.cours_groupes||{}),i(je.data.classrooms||[]),c(je.data.matieres||[])}catch(Ee){console.error("Erreur lors de la récupération des cours",Ee),re("Erreur lors de la récupération des données","danger")}},[d,p,y,v,C]),Oe=x.useCallback(async()=>{try{const Ee=await he.get("/formateur/cours/statistics");te(Ee.data.statistics||{})}catch(Ee){console.error("Erreur lors de la récupération des statistiques",Ee)}},[]),ee=x.useCallback(async Ee=>{if(!Ee){W([]);return}try{const je=await he.get(`/formateur/data/formulaire/cours/matieres/${Ee}`);W(je.data.matieres||[])}catch(je){console.error("Erreur lors de la récupération des matières",je),W([])}},[]);x.useEffect(()=>{We.replace(),ve(),Oe()},[ve,Oe]),x.useEffect(()=>{We.replace()},[s,o]);const me=Ee=>{se({...G,matricule_classroom:Ee,matricule_matiere:""}),ee(Ee)},Xe=async Ee=>{Ee.preventDefault(),H({});try{const je=new FormData;je.append("titre",G.titre),je.append("description",G.description),je.append("contenu",G.contenu),je.append("matricule_classroom",G.matricule_classroom),je.append("matricule_matiere",G.matricule_matiere),je.append("status",G.status),G.fichiers_joints_1&&je.append("fichiers_joints_1",G.fichiers_joints_1),G.fichiers_joints_2&&je.append("fichiers_joints_2",G.fichiers_joints_2),G.liens_externes&&je.append("liens_externes",G.liens_externes),await he.post("/formateur/store/cours",je,{headers:{"Content-Type":"multipart/form-data"}}),ve(),Oe(),D(!1),Se(),re("Cours ajouté avec succès","success")}catch(je){je.response?.status===422?(H(je.response.data.errors||{}),re("Erreur de validation","danger")):(console.error(je),re("Une erreur inattendue s'est produite","danger"))}},Se=()=>{se({titre:"",description:"",contenu:"",matricule_classroom:"",matricule_matiere:"",fichiers_joints_1:null,fichiers_joints_2:null,liens_externes:"",status:"Brouillon"}),W([])},ae=Ee=>{Q(Ee),L(!0)},ye=async()=>{try{await he.delete(`/formateur/destroy/cours/${F}`),ve(),Oe(),L(!1),Q(null),re("Cours supprimé avec succès","success")}catch(Ee){console.error(Ee),re(Ee.response?.data?.message||"Erreur lors de la suppression","danger")}},st=Ee=>{ge(je=>({...je,[Ee]:!je[Ee]}))},He=Ee=>{switch(Ee){case"Publié":return"success";case"Brouillon":return"warning";case"Archivé":return"secondary";default:return"secondary"}},ke=Ee=>{switch(Ee){case"Publié":return"check-circle";case"Brouillon":return"edit-3";case"Archivé":return"archive";default:return"help-circle"}},we=()=>Object.keys(a).length===0?e.jsx("div",{className:"text-center py-5",children:e.jsxs("div",{className:`${ie==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"book-open",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucun cours trouvé"}),e.jsx("p",{className:"small mb-0",children:"Aucun cours ne correspond à vos critères de recherche."})]})]})}):e.jsx("div",{className:"cours-groups",children:Object.entries(a).map(([Ee,je])=>e.jsxs(w,{className:`mb-4 border-0 shadow-sm ${ie==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`${ie==="dark"?"bg-dark border-secondary":"bg-light"} cursor-pointer`,onClick:()=>st(`classe-${Ee}`),children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"home",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("h5",{className:`mb-0 ${ie==="dark"?"text-light":"text-dark"}`,children:Ee}),e.jsxs(oe,{bg:"info",className:"ms-3",children:[Object.values(je).reduce((Ve,Nt)=>Ve+Nt.length,0)," cours"]})]}),e.jsx("i",{"data-feather":J[`classe-${Ee}`]?"chevron-up":"chevron-down",className:`${ie==="dark"?"text-light":"text-muted"}`,style:{width:"20px",height:"20px"}})]})}),e.jsx(Oa,{in:J[`classe-${Ee}`]!==!1,children:e.jsx(w.Body,{className:ie==="dark"?"bg-dark":"",children:Object.entries(je).map(([Ve,Nt])=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"book",className:"text-success me-2",style:{width:"18px",height:"18px"}}),e.jsx("h6",{className:`mb-0 ${ie==="dark"?"text-light":"text-dark"}`,children:Ve}),e.jsx(oe,{bg:"success",className:"ms-2",children:Nt.length})]}),e.jsxs($,{variant:"outline-primary",size:"sm",as:xe,to:`/formateur/view/cours/classroom/${Nt[0]?.matiere?.matricule_classroom}`,children:[e.jsx("i",{"data-feather":"eye",className:"me-1",style:{width:"14px",height:"14px"}}),"Voir tous"]})]}),e.jsx(pe,{className:"g-3",children:Nt.slice(0,6).map(nt=>e.jsx(T,{md:6,lg:4,children:e.jsx(w,{className:`h-100 border ${ie==="dark"?"bg-dark border-secondary":"bg-white"}`,children:e.jsxs(w.Body,{children:[e.jsx("div",{className:"d-flex justify-content-between align-items-start mb-2",children:e.jsxs(oe,{bg:He(nt.status),className:"mb-2",children:[e.jsx("i",{"data-feather":ke(nt.status),className:"me-1",style:{width:"10px",height:"10px"}}),nt.status]})}),e.jsx("h6",{className:`${ie==="dark"?"text-light":"text-dark"} mb-2`,children:nt.titre.length>40?nt.titre.substring(0,40)+"...":nt.titre}),e.jsx("small",{className:"text-muted d-block mb-2",children:nt.matricule}),nt.description&&e.jsx("p",{className:`small ${ie==="dark"?"text-light":"text-muted"} mb-2`,children:nt.description.length>60?nt.description.substring(0,60)+"...":nt.description}),e.jsxs("div",{className:"d-flex gap-1 mt-3",children:[e.jsx($,{size:"sm",variant:"outline-info",as:xe,to:`/formateur/show/cours/${nt.id}`,title:"Voir les détails",children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-warning",as:xe,to:`/formateur/edit/cours/${nt.id}`,title:"Modifier",children:e.jsx("i",{"data-feather":"edit",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-danger",onClick:()=>ae(nt.id),title:"Supprimer",children:e.jsx("i",{"data-feather":"trash-2",style:{width:"14px",height:"14px"}})})]})]})})},nt.id))}),Nt.length>6&&e.jsx("div",{className:"text-center mt-3",children:e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:`/formateur/cours/classroom/${Nt[0]?.matiere?.matricule_classroom}`,children:["Voir les ",Nt.length-6," autres cours"]})})]},Ve))})})]},Ee))}),Ke=()=>e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`align-middle ${ie==="dark"?"table-dark":""}`,children:[e.jsx("thead",{className:"table-primary",children:e.jsxs("tr",{children:[e.jsxs("th",{children:[e.jsx("i",{"data-feather":"book-open",className:"me-2",style:{width:"16px",height:"16px"}}),"Cours"]}),e.jsxs("th",{className:"d-none d-md-table-cell",children:[e.jsx("i",{"data-feather":"layers",className:"me-2",style:{width:"16px",height:"16px"}}),"Contexte"]}),e.jsxs("th",{className:"d-none d-lg-table-cell text-center",children:[e.jsx("i",{"data-feather":"calendar",className:"me-2",style:{width:"16px",height:"16px"}}),"Date création"]}),e.jsxs("th",{className:"text-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"16px",height:"16px"}}),"Statut"]}),e.jsx("th",{className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:s.length?s.map(Ee=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{className:`fw-bold ${ie==="dark"?"text-light":"text-dark"}`,children:Ee.titre.length>50?Ee.titre.substring(0,50)+"...":Ee.titre}),e.jsx("small",{className:"text-muted",children:Ee.matricule})]})}),e.jsx("td",{className:"d-none d-md-table-cell",children:e.jsxs("div",{children:[e.jsxs("div",{className:`small ${ie==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"home",className:"me-1",style:{width:"12px",height:"12px"}}),Ee.matiere?.classroom?.name||"Non définie"]}),e.jsxs("div",{className:"small text-success",children:[e.jsx("i",{"data-feather":"book",className:"me-1",style:{width:"12px",height:"12px"}}),Ee.matiere?.nom||"Non définie"]})]})}),e.jsx("td",{className:"d-none d-lg-table-cell",children:e.jsx("small",{className:`${ie==="dark"?"text-light":"text-dark"}`,children:new Date(Ee.created_at).toLocaleDateString("fr-FR")})}),e.jsx("td",{className:"text-center",children:e.jsxs(oe,{bg:He(Ee.status),className:"px-3 py-2",children:[e.jsx("i",{"data-feather":ke(Ee.status),className:"me-1",style:{width:"12px",height:"12px"}}),Ee.status]})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{className:"d-flex gap-1 justify-content-center",children:[e.jsx($,{size:"sm",variant:"outline-info",as:xe,to:`/formateur/show/cours/${Ee.id}`,title:"Voir les détails",children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-warning",as:xe,to:`/formateur/edit/cours/${Ee.id}`,title:"Modifier",children:e.jsx("i",{"data-feather":"edit",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-danger",onClick:()=>ae(Ee.id),title:"Supprimer",children:e.jsx("i",{"data-feather":"trash-2",style:{width:"14px",height:"14px"}})})]})})]},Ee.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"text-center py-5",children:e.jsxs("div",{className:`${ie==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"book-open",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucun cours trouvé"}),e.jsx("p",{className:"small mb-0",children:"Aucun cours ne correspond à vos critères de recherche."})]})]})})})})]})});return e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${ie==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"book-open",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${ie==="dark"?"text-light":"text-dark"}`,children:"Gestion des Cours"}),e.jsx("p",{className:`mb-0 ${ie==="dark"?"text-light":"text-muted"}`,children:"Administration des cours par classe et matière"})]})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${ie==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${ie==="dark"?"text-light":"text-dark"}`,children:Z.total_cours||s.length}),e.jsx("small",{className:ie==="dark"?"text-light":"text-muted",children:"Total"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"book-open",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${ie==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:Z.cours_publies||s.filter(Ee=>Ee.status==="Publié").length}),e.jsx("small",{className:ie==="dark"?"text-light":"text-muted",children:"Publiés"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"check-circle",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${ie==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-warning",children:Z.cours_brouillons||s.filter(Ee=>Ee.status==="Brouillon").length}),e.jsx("small",{className:ie==="dark"?"text-light":"text-muted",children:"Brouillons"})]}),e.jsx("div",{className:"text-warning",children:e.jsx("i",{"data-feather":"edit-3",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${ie==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-info",children:n.length}),e.jsx("small",{className:ie==="dark"?"text-light":"text-muted",children:"Classes"})]}),e.jsx("div",{className:"text-info",children:e.jsx("i",{"data-feather":"home",style:{width:"24px",height:"24px"}})})]})})})})]})]}),e.jsxs(w,{className:`shadow-sm border-0 ${ie==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${ie==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"book-open",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${ie==="dark"?"text-light":"text-dark"}`,children:"Cours"}),e.jsxs(Ga,{className:"ms-3",children:[e.jsx($,{variant:"outline-success",size:"sm",as:xe,to:"/formateur/cours/statistics",children:e.jsx("i",{"data-feather":"bar-chart-2",style:{width:"14px",height:"14px"}})}),e.jsx($,{variant:o==="grouped"?"primary":"outline-secondary",size:"sm",onClick:()=>u("grouped"),title:"Vue groupée",children:e.jsx("i",{"data-feather":"layers",style:{width:"14px",height:"14px"}})}),e.jsx($,{variant:o==="list"?"primary":"outline-secondary",size:"sm",onClick:()=>u("list"),title:"Vue liste",children:e.jsx("i",{"data-feather":"list",style:{width:"14px",height:"14px"}})})]})]}),e.jsx("div",{className:"d-flex gap-2 mt-2 mt-md-0",children:e.jsxs($,{variant:"success",className:"d-flex align-items-center",onClick:()=>D(!0),children:[e.jsx("i",{"data-feather":"plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Nouveau Cours"]})})]})}),e.jsxs(w.Body,{className:ie==="dark"?"bg-dark":"bg-white",children:[e.jsx("div",{className:"mb-4 p-3 rounded",style:{backgroundColor:ie==="dark"?"#1a1a1a":"#f8f9fa"},children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${ie==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"search",className:"me-1",style:{width:"14px",height:"14px"}}),"Recherche"]}),e.jsx(b.Control,{type:"text",placeholder:"Titre, description, classe...",value:d,onChange:Ee=>f(Ee.target.value),className:ie==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsxs(b.Label,{className:`small fw-bold ${ie==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"home",className:"me-1",style:{width:"14px",height:"14px"}}),"Classe"]}),e.jsxs(b.Select,{value:v,onChange:Ee=>S(Ee.target.value),className:ie==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Toutes"}),n.map(Ee=>e.jsx("option",{value:Ee.matricule,children:Ee.name},Ee.matricule))]})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${ie==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"book",className:"me-1",style:{width:"14px",height:"14px"}}),"Matière"]}),e.jsxs(b.Select,{value:C,onChange:Ee=>_(Ee.target.value),className:ie==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Toutes"}),l.map(Ee=>e.jsx("option",{value:Ee.matricule,children:Ee.nom},Ee.matricule))]})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${ie==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"activity",className:"me-1",style:{width:"14px",height:"14px"}}),"Statut"]}),e.jsxs(b.Select,{value:y,onChange:Ee=>k(Ee.target.value),className:ie==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous"}),e.jsx("option",{value:"Brouillon",children:"Brouillons"}),e.jsx("option",{value:"Publié",children:"Publiés"}),e.jsx("option",{value:"Archivé",children:"Archivés"})]})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsxs(b.Label,{className:`small fw-bold ${ie==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"14px",height:"14px"}}),"Date création"]}),e.jsx(b.Control,{type:"date",value:p,onChange:Ee=>j(Ee.target.value),className:ie==="dark"?"bg-dark text-light border-secondary":""})]})]})}),o==="grouped"?we():Ke()]})]}),e.jsxs(Y,{show:A,onHide:()=>{D(!1),Se()},centered:!0,size:"xl",contentClassName:ie==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:ie==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Créer un Cours"})}),e.jsxs(b,{onSubmit:Xe,children:[e.jsx(Y.Body,{className:ie==="dark"?"bg-dark text-light":"",children:e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Classe *"}),e.jsxs(b.Select,{value:G.matricule_classroom,onChange:Ee=>me(Ee.target.value),isInvalid:!!I.matricule_classroom,className:ie==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionnez une classe"}),n.map(Ee=>e.jsx("option",{value:Ee.matricule,children:Ee.name},Ee.matricule))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:I.matricule_classroom})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Matière *"}),e.jsxs(b.Select,{value:G.matricule_matiere,onChange:Ee=>se({...G,matricule_matiere:Ee.target.value}),isInvalid:!!I.matricule_matiere,className:ie==="dark"?"bg-dark text-light border-secondary":"",required:!0,disabled:!G.matricule_classroom,children:[e.jsx("option",{value:"",children:G.matricule_classroom?"Sélectionnez une matière":"Choisissez d'abord une classe"}),O.map(Ee=>e.jsx("option",{value:Ee.matricule,children:Ee.nom},Ee.matricule))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:I.matricule_matiere})]})}),e.jsx(T,{md:8,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Titre du cours *"}),e.jsx(b.Control,{type:"text",placeholder:"Saisissez le titre du cours...",required:!0,value:G.titre,onChange:Ee=>se({...G,titre:Ee.target.value}),isInvalid:!!I.titre,className:ie==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:I.titre})]})}),e.jsx(T,{md:4,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Statut *"}),e.jsxs(b.Select,{value:G.status,onChange:Ee=>se({...G,status:Ee.target.value}),isInvalid:!!I.status,className:ie==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"Brouillon",children:"Brouillon"}),e.jsx("option",{value:"Publié",children:"Publié"}),e.jsx("option",{value:"Archivé",children:"Archivé"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:I.status})]})}),e.jsx(T,{md:12,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Description (optionnelle)"}),e.jsx(b.Control,{as:"textarea",rows:2,placeholder:"Description courte du cours...",value:G.description,onChange:Ee=>se({...G,description:Ee.target.value}),isInvalid:!!I.description,className:ie==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:I.description})]})}),e.jsx(T,{md:12,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Contenu du cours *"}),e.jsx(b.Control,{as:"textarea",rows:6,placeholder:"Saisissez le contenu détaillé du cours...",required:!0,value:G.contenu,onChange:Ee=>se({...G,contenu:Ee.target.value}),isInvalid:!!I.contenu,className:ie==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:I.contenu})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Fichier joint 1 (optionnel)"}),e.jsx(b.Control,{type:"file",accept:".pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx,.jpg,.jpeg,.png,.txt",onChange:Ee=>se({...G,fichiers_joints_1:Ee.target.files[0]}),isInvalid:!!I.fichiers_joints_1,className:ie==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:I.fichiers_joints_1}),e.jsx(b.Text,{className:"text-muted",children:"PDF, DOC, PPT, XLS, Images - Max 2MB"})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Fichier joint 2 (optionnel)"}),e.jsx(b.Control,{type:"file",accept:".pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx,.jpg,.jpeg,.png,.txt",onChange:Ee=>se({...G,fichiers_joints_2:Ee.target.files[0]}),isInvalid:!!I.fichiers_joints_2,className:ie==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:I.fichiers_joints_2}),e.jsx(b.Text,{className:"text-muted",children:"PDF, DOC, PPT, XLS, Images - Max 2MB"})]})}),e.jsx(T,{md:12,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Liens externes (optionnels)"}),e.jsx(b.Control,{as:"textarea",rows:2,placeholder:'Saisissez les liens au format JSON: {"titre": "URL", "ressource": "https://example.com"}',value:G.liens_externes,onChange:Ee=>se({...G,liens_externes:Ee.target.value}),isInvalid:!!I.liens_externes,className:ie==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:I.liens_externes}),e.jsx(b.Text,{className:"text-muted",children:"Format JSON pour les liens externes"})]})})]})}),e.jsxs(Y.Footer,{className:ie==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>{D(!1),Se()},children:"Annuler"}),e.jsxs($,{type:"submit",variant:"success",children:[e.jsx("i",{"data-feather":"save",className:"me-2",style:{width:"16px",height:"16px"}}),"Créer le Cours"]})]})]})]}),e.jsxs(Y,{show:M,onHide:()=>L(!1),centered:!0,contentClassName:ie==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:ie==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Confirmation de Suppression"})}),e.jsxs(Y.Body,{className:ie==="dark"?"bg-dark text-light":"",children:[e.jsx("p",{children:"Êtes-vous sûr de vouloir supprimer ce cours ?"}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),"Cette action est irréversible."]})]}),e.jsxs(Y.Footer,{className:ie==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>L(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:ye,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:z,onClose:()=>K(!1),delay:3e3,autohide:!0,bg:P==="success"?"success":"danger",className:ie==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${P==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":P==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:ie==="dark"?"bg-dark text-light":"",children:U})]})})]})})}function OEe(){const{matricule_matiere:s}=is(),[t,a]=x.useState([]),[r,n]=x.useState(null),[i,l]=x.useState(!0),[c,o]=x.useState(null),[u,d]=x.useState("light"),[f,p]=x.useState("card"),[j,y]=x.useState(!1),[k,v]=x.useState(""),[S,C]=x.useState("success"),[_,A]=x.useState(""),[D,M]=x.useState("");x.useEffect(()=>{const U=document.documentElement.getAttribute("data-theme")||"light";d(U);const V=new MutationObserver(()=>{const P=document.documentElement.getAttribute("data-theme")||"light";d(P)});return V.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>V.disconnect()},[]);const L=(U,V="success")=>{v(U),C(V),y(!0)},F=x.useCallback(async()=>{if(s)try{l(!0),o(null);const U=await he.get(`/formateur/view/cours/matiere/${s}`);if(a(U.data.cours||[]),U.data.cours&&U.data.cours.length>0)n(U.data.cours[0].matiere);else try{const P=(await he.get("/formateur/view/matiere")).data.matieres?.find(q=>q.matricule===s);n(P||null)}catch(V){console.error("Erreur lors de la récupération de la matière:",V)}}catch(U){o("Erreur lors de la récupération des cours"),console.error("Erreur:",U),L("Erreur lors du chargement des cours","danger")}finally{l(!1)}},[s]);x.useEffect(()=>{F()},[F]),x.useEffect(()=>{We.replace()},[t,f]);const Q=async U=>{try{await he.patch(`/formateur/toggle-status/cours/${U}`),F(),L("Statut du cours mis à jour","success")}catch(V){console.error(V),L("Erreur lors de la mise à jour du statut","danger")}},I=t.filter(U=>{const V=!_.trim()||U.titre.toLowerCase().includes(_.toLowerCase())||U.matricule.toLowerCase().includes(_.toLowerCase())||U.description&&U.description.toLowerCase().includes(_.toLowerCase()),P=!D||U.status===D;return V&&P}),H=U=>{switch(U){case"Publié":return"success";case"Brouillon":return"warning";case"Archivé":return"secondary";default:return"secondary"}},z=U=>{switch(U){case"Publié":return"eye";case"Brouillon":return"edit-3";case"Archivé":return"archive";default:return"help-circle"}},K=()=>e.jsx(pe,{className:"g-4",children:I.length?I.map(U=>e.jsx(T,{md:6,lg:4,children:e.jsxs(w,{className:`h-100 border-0 shadow-sm ${u==="dark"?"bg-dark":"bg-white"} position-relative`,children:[e.jsxs("div",{className:"position-relative",children:[e.jsx("div",{className:"bg-primary bg-opacity-10 p-4 text-center",children:e.jsx("i",{"data-feather":"book-open",className:"text-primary",style:{width:"48px",height:"48px"}})}),e.jsxs(oe,{bg:H(U.status),className:"position-absolute top-0 end-0 m-2",children:[e.jsx("i",{"data-feather":z(U.status),className:"me-1",style:{width:"12px",height:"12px"}}),U.status]})]}),e.jsxs(w.Body,{className:"d-flex flex-column",children:[e.jsxs("div",{className:"mb-auto",children:[e.jsx(w.Title,{className:`h5 mb-2 ${u==="dark"?"text-light":"text-dark"}`,children:U.titre}),e.jsxs(w.Text,{className:`small ${u==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"hash",className:"me-1",style:{width:"12px",height:"12px"}}),U.matricule]}),e.jsx(w.Text,{className:u==="dark"?"text-light":"text-dark",children:U.description?U.description.length>80?U.description.substring(0,80)+"...":U.description:"Aucune description"}),e.jsxs(w.Text,{className:"small text-muted",children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"12px",height:"12px"}}),"Créé le ",new Date(U.created_at).toLocaleDateString("fr-FR")]})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[U.fichiers_joints_1&&e.jsxs("small",{className:"text-primary",children:[e.jsx("i",{"data-feather":"paperclip",className:"me-1",style:{width:"12px",height:"12px"}}),"Fichier 1"]}),U.fichiers_joints_2&&e.jsxs("small",{className:"text-success",children:[e.jsx("i",{"data-feather":"paperclip",className:"me-1",style:{width:"12px",height:"12px"}}),"Fichier 2"]})]}),e.jsxs(Ga,{size:"sm",children:[e.jsx($,{variant:"outline-info",as:xe,to:`/formateur/show/cours/${U.id}`,title:"Voir les détails",children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),e.jsx($,{variant:"outline-warning",as:xe,to:`/formateur/edit/cours/${U.id}`,title:"Modifier",children:e.jsx("i",{"data-feather":"edit",style:{width:"14px",height:"14px"}})}),e.jsx($,{variant:"outline-primary",title:"Changer le statut",onClick:()=>Q(U.id),children:e.jsx("i",{"data-feather":"refresh-cw",style:{width:"14px",height:"14px"}})})]})]})]})]})},U.id)):e.jsx(T,{xs:12,children:e.jsx("div",{className:"text-center py-5",children:e.jsxs("div",{className:`${u==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"book-open",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucun cours trouvé"}),e.jsx("p",{className:"small mb-0",children:"Aucun cours ne correspond à vos critères de recherche."})]})]})})})});return i?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des cours..."})]})}):c?e.jsxs(et,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),c]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:"secondary",as:xe,to:"/formateur/view/cours",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour aux cours"]}),e.jsxs($,{variant:"outline-primary",onClick:F,children:[e.jsx("i",{"data-feather":"refresh-cw",className:"me-2"}),"Réessayer"]})]})]}):e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:"/formateur/view/cours",className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsx("div",{className:`me-3 p-3 rounded-circle ${u==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"book",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${u==="dark"?"text-light":"text-dark"}`,children:r?`Cours de ${r.nom}`:"Cours de la matière"}),e.jsxs("p",{className:`mb-0 ${u==="dark"?"text-light":"text-muted"}`,children:[r?.classroom?.name&&`Classe: ${r.classroom.name} • `,I.length," cours ",I.length>1?"trouvés":"trouvé"]})]})]}),t.length>0&&e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${u==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${u==="dark"?"text-light":"text-dark"}`,children:t.length}),e.jsx("small",{className:u==="dark"?"text-light":"text-muted",children:"Total Cours"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"book-open",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${u==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:t.filter(U=>U.status==="Publié").length}),e.jsx("small",{className:u==="dark"?"text-light":"text-muted",children:"Publiés"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"eye",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${u==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-warning",children:t.filter(U=>U.status==="Brouillon").length}),e.jsx("small",{className:u==="dark"?"text-light":"text-muted",children:"Brouillons"})]}),e.jsx("div",{className:"text-warning",children:e.jsx("i",{"data-feather":"edit-3",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${u==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-secondary",children:t.filter(U=>U.status==="Archivé").length}),e.jsx("small",{className:u==="dark"?"text-light":"text-muted",children:"Archivés"})]}),e.jsx("div",{className:"text-secondary",children:e.jsx("i",{"data-feather":"archive",style:{width:"24px",height:"24px"}})})]})})})})]})]}),e.jsxs(w,{className:`shadow-sm border-0 ${u==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${u==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"list",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${u==="dark"?"text-light":"text-dark"}`,children:"Cours de la matière"}),e.jsx(Ga,{className:"ms-3",children:e.jsx($,{variant:f==="card"?"primary":"outline-secondary",size:"sm",onClick:()=>p("card"),children:e.jsx("i",{"data-feather":"grid",style:{width:"14px",height:"14px"}})})})]}),e.jsx("div",{className:"d-flex gap-2 mt-2 mt-md-0",children:e.jsxs($,{variant:"success",as:xe,to:"/formateur/view/cours",className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Nouveau Cours"]})})]})}),e.jsxs(w.Body,{className:u==="dark"?"bg-dark":"bg-white",children:[e.jsx("div",{className:"mb-4 p-3 rounded",style:{backgroundColor:u==="dark"?"#1a1a1a":"#f8f9fa"},children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs(b.Label,{className:`small fw-bold ${u==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"search",className:"me-1",style:{width:"14px",height:"14px"}}),"Recherche"]}),e.jsx(b.Control,{type:"text",placeholder:"Titre, matricule, description...",value:_,onChange:U=>A(U.target.value),className:u==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs(b.Label,{className:`small fw-bold ${u==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"activity",className:"me-1",style:{width:"14px",height:"14px"}}),"Statut"]}),e.jsxs(b.Select,{value:D,onChange:U=>M(U.target.value),className:u==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous"}),e.jsx("option",{value:"Publié",children:"Publiés"}),e.jsx("option",{value:"Brouillon",children:"Brouillons"}),e.jsx("option",{value:"Archivé",children:"Archivés"})]})]})]})}),K(),t.length===0&&e.jsx("div",{className:"text-center py-5",children:e.jsxs("div",{className:`${u==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"book-open",className:"mb-3",style:{width:"64px",height:"64px",opacity:.3}}),e.jsxs("div",{children:[e.jsx("h5",{children:"Aucun cours pour cette matière"}),e.jsx("p",{className:"mb-3",children:"Cette matière n'a pas encore de cours associés."}),e.jsxs($,{variant:"primary",as:xe,to:"/formateur/view/cours",children:[e.jsx("i",{"data-feather":"plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Créer le premier cours"]})]})]})})]})]}),r&&e.jsxs(w,{className:`shadow-sm border-0 mt-4 ${u==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${u==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations sur la matière"]})}),e.jsx(w.Body,{children:e.jsxs(pe,{children:[e.jsx(T,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{className:u==="dark"?"text-light":"text-dark",children:r.nom}),e.jsxs("div",{className:"small text-muted",children:[e.jsx("i",{"data-feather":"hash",className:"me-1",style:{width:"12px",height:"12px"}}),r.matricule]})]})}),e.jsx(T,{md:6,children:r.classroom&&e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"home",className:"me-2",style:{width:"16px",height:"16px"}}),e.jsx("span",{className:u==="dark"?"text-light":"text-dark",children:r.classroom.name})]})})}),r.description&&e.jsx(T,{md:12,children:e.jsx("div",{className:"mb-0",children:e.jsx("p",{className:`mb-0 ${u==="dark"?"text-light":"text-dark"}`,children:r.description})})})]})})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:j,onClose:()=>y(!1),delay:3e3,autohide:!0,bg:S==="success"?"success":"danger",className:u==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${S==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":S==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:u==="dark"?"bg-dark text-light":"",children:k})]})})]})})}function REe({show:s,onHide:t,cours:a,fileIndex:r,fileName:n,fileType:i,fileSize:l,fileUrl:c}){const[o,u]=x.useState(!1),[d,f]=x.useState(null),[p,j]=x.useState(null),[y,k]=x.useState("light");x.useEffect(()=>{const I=document.documentElement.getAttribute("data-theme")||"light";k(I);const H=new MutationObserver(()=>{const z=document.documentElement.getAttribute("data-theme")||"light";k(z)});return H.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>H.disconnect()},[]);const v=x.useCallback(async()=>{if(!(!s||!a?.id||!r))try{if(u(!0),f(null),j(null),S(i)){j({type:"image",url:c});return}if(C(i)){j({type:"pdf",url:c});return}if(_(i)){try{const I=await fetch(c);if(I.ok){const H=await I.text();j({type:"text",content:H})}else throw new Error("Fichier non accessible")}catch{j({type:"download-only",message:"Prévisualisation non disponible"})}return}j({type:"download-only",message:"Prévisualisation non supportée pour ce type de fichier"})}catch(I){f("Erreur lors du chargement du fichier"),console.error("Erreur:",I)}finally{u(!1)}},[s,a?.id,r,i,c]);x.useEffect(()=>{s&&v()},[v,s]),x.useEffect(()=>{We.replace()},[p,o]);const S=I=>I?.includes("image")||/\.(jpg|jpeg|png|gif|webp|bmp|svg)$/i.test(n),C=I=>I?.includes("pdf")||/\.pdf$/i.test(n),_=I=>I?.includes("text")||/\.(txt|md|csv)$/i.test(n),A=I=>I?.includes("word")||I?.includes("excel")||I?.includes("powerpoint")||/\.(doc|docx|xls|xlsx|ppt|pptx)$/i.test(n),D=I=>S(I)?"image":C(I)||I?.includes("word")||I?.includes("document")?"file-text":I?.includes("sheet")||I?.includes("excel")?"grid":I?.includes("presentation")||I?.includes("powerpoint")?"monitor":_(I)?"file-text":"file",M=I=>S(I)?"text-info":C(I)?"text-danger":I?.includes("word")||I?.includes("document")?"text-primary":I?.includes("sheet")||I?.includes("excel")?"text-success":I?.includes("presentation")||I?.includes("powerpoint")?"text-warning":_(I)?"text-secondary":"text-muted",L=I=>{if(!I)return"Taille inconnue";if(I===0)return"0 Bytes";const H=1024,z=["Bytes","KB","MB","GB"],K=Math.floor(Math.log(I)/Math.log(H));return parseFloat((I/Math.pow(H,K)).toFixed(2))+" "+z[K]},F=async()=>{try{const I=await he.get(`/etudiant/download/cours/${a.id}/file/${r}`,{responseType:"blob"}),H=window.URL.createObjectURL(new Blob([I.data])),z=document.createElement("a");z.href=H,z.setAttribute("download",n),document.body.appendChild(z),z.click(),z.remove(),window.URL.revokeObjectURL(H)}catch(I){console.error("Erreur lors du téléchargement:",I)}},Q=()=>{if(o)return e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement du fichier..."})]});if(d)return e.jsxs(lt,{variant:"danger",className:"m-3",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),d]});if(!p)return null;switch(p.type){case"image":return e.jsx("div",{className:"text-center p-3",children:e.jsx("img",{src:p.url,alt:n,style:{maxWidth:"100%",maxHeight:"70vh",objectFit:"contain",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"}})});case"pdf":return e.jsx("div",{style:{height:"70vh"},children:e.jsx("iframe",{src:`${p.url}#toolbar=1&navpanes=1&scrollbar=1`,width:"100%",height:"100%",style:{border:"none",borderRadius:"8px"},title:n,children:e.jsxs("p",{children:["Votre navigateur ne supporte pas les PDFs.",e.jsx($,{variant:"link",onClick:F,children:"Télécharger le fichier"})]})})});case"text":return e.jsxs(w,{className:`m-3 ${y==="dark"?"bg-dark text-light":""}`,children:[e.jsxs(w.Header,{children:[e.jsx("i",{"data-feather":"file-text",className:"me-2"}),"Contenu du fichier"]}),e.jsx(w.Body,{children:e.jsx("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",maxHeight:"60vh",overflow:"auto",fontSize:"14px",lineHeight:"1.4"},className:y==="dark"?"text-light":"text-dark",children:p.content})})]});case"download-only":return e.jsx("div",{className:"text-center py-5",children:e.jsxs("div",{className:`${y==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":D(i),className:`mb-3 ${M(i)}`,style:{width:"64px",height:"64px"}}),e.jsxs("div",{children:[e.jsx("h5",{children:"Prévisualisation non disponible"}),e.jsx("p",{children:p.message}),A(i)&&e.jsx("small",{className:"text-muted",children:"Les fichiers Office nécessitent une application dédiée pour être visualisés."}),e.jsx("div",{className:"mt-3",children:e.jsxs($,{variant:"primary",onClick:F,children:[e.jsx("i",{"data-feather":"download",className:"me-2"}),"Télécharger le fichier"]})})]})]})});default:return null}};return e.jsxs(Y,{show:s,onHide:t,size:"xl",centered:!0,contentClassName:y==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{closeButton:!0,className:y==="dark"?"bg-dark text-light border-secondary":"",children:e.jsxs(Y.Title,{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":D(i),className:`me-2 ${M(i)}`,style:{width:"24px",height:"24px"}}),n]})}),e.jsxs(Y.Body,{className:`p-0 ${y==="dark"?"bg-dark text-light":""}`,style:{maxHeight:"80vh",overflow:"auto"},children:[e.jsx("div",{className:"p-3 border-bottom",children:e.jsxs(pe,{className:"align-items-center",children:[e.jsx(T,{md:8,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(oe,{bg:"secondary",className:"me-2",children:L(l)}),e.jsxs("small",{className:"text-muted",children:["Cours: ",a?.titre]})]})}),e.jsxs(T,{md:4,className:"text-end",children:[e.jsxs($,{variant:"outline-primary",size:"sm",onClick:F,className:"me-2",children:[e.jsx("i",{"data-feather":"download",className:"me-1",style:{width:"14px",height:"14px"}}),"Télécharger"]}),e.jsxs($,{variant:"outline-secondary",size:"sm",onClick:t,children:[e.jsx("i",{"data-feather":"x",className:"me-1",style:{width:"14px",height:"14px"}}),"Fermer"]})]})]})}),Q()]})]})}const $Ee=()=>{const[s,t]=x.useState({show:!1,cours:null,fileIndex:null,fileName:"",fileType:"",fileSize:0,fileUrl:""}),a=(i,l,c,o,u,d)=>{t({show:!0,cours:i,fileIndex:l,fileName:c,fileType:o,fileSize:u,fileUrl:d})},r=()=>{t(i=>({...i,show:!1}))};return{openFileViewer:a,closeFileViewer:r,FileViewerComponent:()=>e.jsx(REe,{show:s.show,onHide:r,cours:s.cours,fileIndex:s.fileIndex,fileName:s.fileName,fileType:s.fileType,fileSize:s.fileSize,fileUrl:s.fileUrl})}};function PEe(){const{id:s}=is(),t=Ut(),[a,r]=x.useState(!0),[n,i]=x.useState(null),[l,c]=x.useState(null),[o,u]=x.useState("light"),[d,f]=x.useState(!1),[p,j]=x.useState(""),[y,k]=x.useState("success"),[v,S]=x.useState(!1),{openFileViewer:C,FileViewerComponent:_}=$Ee();x.useEffect(()=>{const P=document.documentElement.getAttribute("data-theme")||"light";u(P);const q=new MutationObserver(()=>{const G=document.documentElement.getAttribute("data-theme")||"light";u(G)});return q.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>q.disconnect()},[]);const A=(P,q="success")=>{j(P),k(q),f(!0)},D=x.useCallback(async()=>{try{r(!0);const P=await he.get(`/formateur/show/cours/${s}`);c(P.data.cours)}catch(P){i("Erreur lors du chargement du cours"),console.error("Erreur:",P)}finally{r(!1)}},[s]);x.useEffect(()=>{s&&D()},[D]),x.useEffect(()=>{We.replace()},[l]);const M=async()=>{try{await he.patch(`/formateur/toggle-status/cours/${s}`),D(),A("Statut du cours mis à jour","success")}catch(P){console.error(P),A("Erreur lors de la mise à jour du statut","danger")}},L=async()=>{try{await he.delete(`/formateur/destroy/cours/${s}`),A("Cours supprimé avec succès","success"),setTimeout(()=>{t("/formateur/view/cours")},1500)}catch(P){console.error(P),A(P.response?.data?.message||"Erreur lors de la suppression","danger")}S(!1)},F=async(P,q)=>{try{const G=await he.get(`/formateur/download/cours/${s}/file/${P}`,{responseType:"blob"}),se=window.URL.createObjectURL(new Blob([G.data])),O=document.createElement("a");O.href=se;const W=G.headers["content-disposition"];let Z=q||`fichier_${P}.pdf`;if(W){const te=W.match(/filename="(.+)"/);te&&(Z=te[1])}O.setAttribute("download",Z),document.body.appendChild(O),O.click(),O.remove(),window.URL.revokeObjectURL(se),A(`Téléchargement de ${Z} démarré`,"success")}catch(G){console.error(G),A("Erreur lors du téléchargement","danger")}},Q=(P,q)=>{C(l,P,q.nom,q.type,q.taille,q.url)},I=P=>{switch(P){case"Publié":return"success";case"Brouillon":return"warning";case"Archivé":return"secondary";default:return"secondary"}},H=P=>{switch(P){case"Publié":return"eye";case"Brouillon":return"edit-3";case"Archivé":return"archive";default:return"help-circle"}},z=P=>P?.includes("pdf")||P?.includes("word")||P?.includes("document")?"file-text":P?.includes("sheet")||P?.includes("excel")?"grid":P?.includes("presentation")||P?.includes("powerpoint")?"monitor":P?.includes("image")?"image":P?.includes("text")?"file-text":"file",K=P=>P?.includes("pdf")?"text-danger":P?.includes("word")||P?.includes("document")?"text-primary":P?.includes("sheet")||P?.includes("excel")?"text-success":P?.includes("presentation")||P?.includes("powerpoint")?"text-warning":P?.includes("image")?"text-info":"text-secondary",U=P=>{if(P===0)return"0 Bytes";const q=1024,G=["Bytes","KB","MB","GB"],se=Math.floor(Math.log(P)/Math.log(q));return parseFloat((P/Math.pow(q,se)).toFixed(2))+" "+G[se]},V=P=>P?.includes("image");return a?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement du cours..."})]})}):n||!l?e.jsxs(et,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),n||"Cours introuvable"]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:"secondary",as:xe,to:"/formateur/view/cours",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]}),e.jsxs($,{variant:"outline-primary",onClick:D,children:[e.jsx("i",{"data-feather":"refresh-cw",className:"me-2"}),"Réessayer"]})]})]}):e.jsxs(et,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:"/formateur/view/cours",className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsxs("div",{children:[e.jsx("h1",{className:`h3 mb-0 ${o==="dark"?"text-light":"text-dark"}`,children:l.titre}),e.jsxs("div",{className:"d-flex align-items-center gap-2 mt-1",children:[e.jsx("small",{className:"text-muted",children:l.matricule}),e.jsxs(oe,{bg:I(l.status),className:"px-2 py-1",children:[e.jsx("i",{"data-feather":H(l.status),className:"me-1",style:{width:"12px",height:"12px"}}),l.status]})]})]})]})}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:"outline-primary",onClick:M,title:"Changer le statut",children:[e.jsx("i",{"data-feather":"refresh-cw",className:"me-2",style:{width:"16px",height:"16px"}}),"Changer statut"]}),e.jsxs($,{variant:"warning",as:xe,to:`/formateur/edit/cours/${s}`,children:[e.jsx("i",{"data-feather":"edit",className:"me-2",style:{width:"16px",height:"16px"}}),"Modifier"]}),e.jsxs($,{variant:"danger",onClick:()=>S(!0),children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsxs(pe,{children:[e.jsxs(T,{lg:8,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations du cours"]})}),e.jsx(w.Body,{children:e.jsxs(pe,{className:"g-4",children:[e.jsx(T,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"small fw-bold text-muted",children:"TITRE"}),e.jsx("div",{className:`${o==="dark"?"text-light":"text-dark"}`,children:l.titre})]})}),e.jsx(T,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"small fw-bold text-muted",children:"MATIÈRE"}),e.jsxs("div",{className:`d-flex align-items-center ${o==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"16px",height:"16px"}}),l.matiere?.nom||"Non définie"]}),l.matiere?.classroom&&e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{"data-feather":"home",className:"me-1",style:{width:"12px",height:"12px"}}),l.matiere.classroom.name]})]})}),e.jsx(T,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"small fw-bold text-muted",children:"MATRICULE"}),e.jsx("div",{className:`${o==="dark"?"text-light":"text-dark"}`,children:e.jsx("code",{className:"px-2 py-1 bg-primary bg-opacity-10 rounded text-primary",children:l.matricule})})]})}),e.jsx(T,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"small fw-bold text-muted",children:"DATE DE CRÉATION"}),e.jsx("div",{className:`${o==="dark"?"text-light":"text-dark"}`,children:new Date(l.created_at).toLocaleDateString("fr-FR",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})}),l.description&&e.jsx(T,{md:12,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"small fw-bold text-muted",children:"DESCRIPTION"}),e.jsx("div",{className:`${o==="dark"?"text-light":"text-dark"}`,children:l.description})]})})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"file-text",className:"me-2",style:{width:"20px",height:"20px"}}),"Contenu du cours"]})}),e.jsx(w.Body,{children:e.jsx("div",{className:`${o==="dark"?"text-light":"text-dark"}`,style:{whiteSpace:"pre-wrap",lineHeight:"1.6"},children:l.contenu})})]}),l.liens_externes_decoded&&l.liens_externes_decoded.length>0&&e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"external-link",className:"me-2",style:{width:"20px",height:"20px"}}),"Liens externes"]})}),e.jsx(w.Body,{children:e.jsx("div",{className:"d-flex flex-column gap-2",children:l.liens_externes_decoded.map((P,q)=>e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"link",className:"me-2 text-primary",style:{width:"16px",height:"16px"}}),e.jsx("a",{href:P,target:"_blank",rel:"noopener noreferrer",className:"text-primary text-decoration-none",children:P})]},q))})})]})]}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"20px",height:"20px"}}),"Actions"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"outline-primary",onClick:M,children:[e.jsx("i",{"data-feather":"refresh-cw",className:"me-2",style:{width:"16px",height:"16px"}}),"Changer le statut"]}),e.jsxs($,{variant:"warning",as:xe,to:`/formateur/edit/cours/${s}`,children:[e.jsx("i",{"data-feather":"edit",className:"me-2",style:{width:"16px",height:"16px"}}),"Modifier le cours"]}),e.jsxs($,{variant:"danger",onClick:()=>S(!0),children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer le cours"]})]})})]}),(l.fichiers_joints_1_decoded||l.fichiers_joints_2_decoded)&&e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"paperclip",className:"me-2",style:{width:"20px",height:"20px"}}),"Fichiers joints"]})}),e.jsxs(w.Body,{children:[l.fichiers_joints_1_decoded&&e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"small fw-bold text-muted mb-2 d-block",children:"FICHIER 1"}),l.fichiers_joints_1_decoded.map((P,q)=>e.jsx("div",{className:"border rounded p-3",children:e.jsxs("div",{className:"d-flex align-items-start justify-content-between",children:[e.jsxs("div",{className:"flex-grow-1",children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("i",{"data-feather":z(P.type),className:`me-2 ${K(P.type)}`,style:{width:"20px",height:"20px"}}),e.jsx("strong",{className:o==="dark"?"text-light":"text-dark",children:P.nom})]}),e.jsxs("div",{className:"small text-muted mb-2",children:["Taille: ",U(P.taille)]}),V(P.type)&&e.jsx("div",{className:"mt-2",children:e.jsx(Mt,{src:P.url,alt:P.nom,thumbnail:!0,style:{maxWidth:"150px",maxHeight:"100px",cursor:"pointer"},onClick:()=>Q(1,P)})})]}),e.jsxs("div",{className:"d-flex flex-column gap-1",children:[e.jsx($,{variant:"outline-info",size:"sm",onClick:()=>Q(1,P),title:"Visualiser",children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),e.jsx($,{variant:"outline-primary",size:"sm",onClick:()=>F(1,P.nom),title:"Télécharger",children:e.jsx("i",{"data-feather":"download",style:{width:"14px",height:"14px"}})})]})]})},q))]}),l.fichiers_joints_2_decoded&&e.jsxs("div",{children:[e.jsx("label",{className:"small fw-bold text-muted mb-2 d-block",children:"FICHIER 2"}),l.fichiers_joints_2_decoded.map((P,q)=>e.jsx("div",{className:"border rounded p-3",children:e.jsxs("div",{className:"d-flex align-items-start justify-content-between",children:[e.jsxs("div",{className:"flex-grow-1",children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("i",{"data-feather":z(P.type),className:`me-2 ${K(P.type)}`,style:{width:"20px",height:"20px"}}),e.jsx("strong",{className:o==="dark"?"text-light":"text-dark",children:P.nom})]}),e.jsxs("div",{className:"small text-muted mb-2",children:["Taille: ",U(P.taille)]}),V(P.type)&&e.jsx("div",{className:"mt-2",children:e.jsx(Mt,{src:P.url,alt:P.nom,thumbnail:!0,style:{maxWidth:"150px",maxHeight:"100px",cursor:"pointer"},onClick:()=>Q(2,P)})})]}),e.jsxs("div",{className:"d-flex flex-column gap-1",children:[e.jsx($,{variant:"outline-info",size:"sm",onClick:()=>Q(2,P),title:"Visualiser",children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),e.jsx($,{variant:"outline-primary",size:"sm",onClick:()=>F(2,P.nom),title:"Télécharger",children:e.jsx("i",{"data-feather":"download",style:{width:"14px",height:"14px"}})})]})]})},q))]})]})]}),l.matiere&&e.jsxs(w,{className:`border-0 shadow-sm ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"20px",height:"20px"}}),"Matière"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{className:o==="dark"?"text-light":"text-dark",children:l.matiere.nom}),l.matiere.description&&e.jsx("p",{className:"small text-muted mt-1 mb-0",children:l.matiere.description})]}),l.matiere.classroom&&e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"d-flex align-items-center text-muted",children:[e.jsx("i",{"data-feather":"home",className:"me-2",style:{width:"16px",height:"16px"}}),e.jsxs("small",{children:["Classe: ",l.matiere.classroom.name]})]})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("div",{children:e.jsxs(oe,{bg:"info",className:"px-2 py-1",children:["Coeff. ",l.matiere.coefficient||1]})}),e.jsxs($,{variant:"outline-primary",size:"sm",as:xe,to:`/formateur/view/cours/matiere/${l.matiere.matricule}`,children:[e.jsx("i",{"data-feather":"list",className:"me-1",style:{width:"14px",height:"14px"}}),"Autres cours"]})]})]})]})]})]}),e.jsxs(Y,{show:v,onHide:()=>S(!1),centered:!0,contentClassName:o==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:o==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Confirmation de Suppression"})}),e.jsxs(Y.Body,{className:o==="dark"?"bg-dark text-light":"",children:[e.jsx("p",{children:"Êtes-vous sûr de vouloir supprimer ce cours ?"}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),'Cette action est irréversible. Le cours "',l.titre,'" et tous ses fichiers joints seront définitivement supprimés.']})]}),e.jsxs(Y.Footer,{className:o==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>S(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:L,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer définitivement"]})]})]}),e.jsx(_,{}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:d,onClose:()=>f(!1),delay:3e3,autohide:!0,bg:y==="success"?"success":"danger",className:o==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${y==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":y==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:o==="dark"?"bg-dark text-light":"",children:p})]})})]})}function IEe(){const{id:s}=is(),t=Ut(),[a,r]=x.useState(!0),[n,i]=x.useState(null),[l,c]=x.useState(!1),[o,u]=x.useState("light"),[d,f]=x.useState([]),[p,j]=x.useState(!1),[y,k]=x.useState(""),[v,S]=x.useState("success"),[C,_]=x.useState({titre:"",description:"",contenu:"",matricule_matiere:"",fichiers_joints_1:null,fichiers_joints_2:null,liens_externes:"",status:"Brouillon",current_fichier_1:null,current_fichier_2:null}),[A,D]=x.useState({}),[M,L]=x.useState(null),[F,Q]=x.useState(null);x.useEffect(()=>{const G=document.documentElement.getAttribute("data-theme")||"light";u(G);const se=new MutationObserver(()=>{const O=document.documentElement.getAttribute("data-theme")||"light";u(O)});return se.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>se.disconnect()},[]);const I=(G,se="success")=>{k(G),S(se),j(!0)},H=x.useCallback(async()=>{try{r(!0);const[G,se]=await Promise.all([he.get(`/formateur/show/cours/${s}`),he.get("/formateur/view/cours")]),O=G.data.cours;_({titre:O.titre||"",description:O.description||"",contenu:O.contenu||"",matricule_matiere:O.matricule_matiere||"",fichiers_joints_1:null,fichiers_joints_2:null,liens_externes:O.liens_externes_decoded?O.liens_externes_decoded.join(`
`):"",status:O.status||"Brouillon",current_fichier_1:O.fichiers_joints_1_decoded||null,current_fichier_2:O.fichiers_joints_2_decoded||null}),f(se.data.matieres||[])}catch(G){i("Erreur lors du chargement des données"),console.error("Erreur:",G)}finally{r(!1)}},[s]);x.useEffect(()=>{s&&H()},[H]),x.useEffect(()=>{We.replace()},[C,A]);const z=G=>{const{name:se,value:O,type:W,files:Z}=G.target;if(W==="file"){const te=Z[0];if(_(ie=>({...ie,[se]:te})),te&&te.type.startsWith("image/")){const ie=new FileReader;ie.onload=fe=>{se==="fichiers_joints_1"?L(fe.target.result):Q(fe.target.result)},ie.readAsDataURL(te)}else se==="fichiers_joints_1"?L(null):Q(null)}else _(te=>({...te,[se]:O}));A[se]&&D(te=>({...te,[se]:null}))},K=async G=>{G.preventDefault(),D({}),c(!0);try{const se=new FormData;se.append("titre",C.titre),se.append("description",C.description),se.append("contenu",C.contenu),se.append("matricule_matiere",C.matricule_matiere),se.append("status",C.status),se.append("_method","PUT"),C.fichiers_joints_1&&se.append("fichiers_joints_1",C.fichiers_joints_1),C.fichiers_joints_2&&se.append("fichiers_joints_2",C.fichiers_joints_2),C.liens_externes&&se.append("liens_externes",JSON.stringify(C.liens_externes.split(`
`).filter(O=>O.trim()))),await he.post(`/formateur/update/cours/${s}`,se,{headers:{"Content-Type":"multipart/form-data"}}),I("Cours mis à jour avec succès","success"),setTimeout(()=>{t(`/formateur/show/cours/${s}`)},1500)}catch(se){se.response?.status===422?(D(se.response.data.errors||{}),I("Erreur de validation","danger")):(console.error(se),I(se.response?.data?.message||"Une erreur inattendue s'est produite","danger"))}finally{c(!1)}},U=G=>G?.includes("pdf")||G?.includes("word")||G?.includes("document")?"file-text":G?.includes("sheet")||G?.includes("excel")?"grid":G?.includes("presentation")||G?.includes("powerpoint")?"monitor":G?.includes("image")?"image":G?.includes("text")?"file-text":"file",V=G=>G?.includes("pdf")?"text-danger":G?.includes("word")||G?.includes("document")?"text-primary":G?.includes("sheet")||G?.includes("excel")?"text-success":G?.includes("presentation")||G?.includes("powerpoint")?"text-warning":G?.includes("image")?"text-info":"text-secondary",P=G=>{if(G===0)return"0 Bytes";const se=1024,O=["Bytes","KB","MB","GB"],W=Math.floor(Math.log(G)/Math.log(se));return parseFloat((G/Math.pow(se,W)).toFixed(2))+" "+O[W]},q=G=>G?.includes("image");return a?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des données..."})]})}):n?e.jsxs(et,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),n]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:"secondary",as:xe,to:"/formateur/view/cours",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]}),e.jsxs($,{variant:"outline-primary",onClick:H,children:[e.jsx("i",{"data-feather":"refresh-cw",className:"me-2"}),"Réessayer"]})]})]}):e.jsxs(et,{children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:`/formateur/show/cours/${s}`,className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsx("h1",{className:"h3 mb-0",children:"Modifier le cours"})]}),e.jsx("p",{className:"text-muted mb-0",children:"Modification des informations du cours"})]})}),e.jsx(b,{onSubmit:K,children:e.jsxs(pe,{children:[e.jsxs(T,{lg:8,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"edit",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations générales"]})}),e.jsx(w.Body,{children:e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{className:"fw-bold",children:[e.jsx("i",{"data-feather":"book-open",className:"me-1",style:{width:"14px",height:"14px"}}),"Titre du cours *"]}),e.jsx(b.Control,{type:"text",name:"titre",placeholder:"Ex: Introduction aux fonctions...",value:C.titre,onChange:z,isInvalid:!!A.titre,className:o==="dark"?"bg-dark text-light border-secondary":"",required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.titre})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{className:"fw-bold",children:[e.jsx("i",{"data-feather":"book",className:"me-1",style:{width:"14px",height:"14px"}}),"Matière *"]}),e.jsxs(b.Select,{name:"matricule_matiere",value:C.matricule_matiere,onChange:z,isInvalid:!!A.matricule_matiere,className:o==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionnez une matière"}),d.map(G=>e.jsxs("option",{value:G.matricule,children:[G.nom," - ",G.classroom?.name]},G.matricule))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.matricule_matiere})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{className:"fw-bold",children:[e.jsx("i",{"data-feather":"activity",className:"me-1",style:{width:"14px",height:"14px"}}),"Statut *"]}),e.jsxs(b.Select,{name:"status",value:C.status,onChange:z,isInvalid:!!A.status,className:o==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"Brouillon",children:"Brouillon"}),e.jsx("option",{value:"Publié",children:"Publié"}),e.jsx("option",{value:"Archivé",children:"Archivé"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.status})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{className:"fw-bold",children:[e.jsx("i",{"data-feather":"external-link",className:"me-1",style:{width:"14px",height:"14px"}}),"Liens externes"]}),e.jsx(b.Control,{as:"textarea",rows:3,name:"liens_externes",placeholder:"Un lien par ligne...",value:C.liens_externes,onChange:z,isInvalid:!!A.liens_externes,className:o==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.liens_externes}),e.jsx(b.Text,{className:"text-muted",children:"Séparez chaque lien par une nouvelle ligne"})]})}),e.jsx(T,{md:12,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{className:"fw-bold",children:[e.jsx("i",{"data-feather":"file-text",className:"me-1",style:{width:"14px",height:"14px"}}),"Description"]}),e.jsx(b.Control,{as:"textarea",rows:3,name:"description",placeholder:"Description courte du cours...",value:C.description,onChange:z,isInvalid:!!A.description,className:o==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.description}),e.jsx(b.Text,{className:"text-muted",children:"Maximum 1000 caractères"})]})}),e.jsx(T,{md:12,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{className:"fw-bold",children:[e.jsx("i",{"data-feather":"edit-3",className:"me-1",style:{width:"14px",height:"14px"}}),"Contenu du cours *"]}),e.jsx(b.Control,{as:"textarea",rows:8,name:"contenu",placeholder:"Contenu détaillé du cours...",value:C.contenu,onChange:z,isInvalid:!!A.contenu,className:o==="dark"?"bg-dark text-light border-secondary":"",required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.contenu})]})})]})})]}),e.jsxs("div",{className:"d-flex gap-2 justify-content-end",children:[e.jsxs($,{variant:"secondary",as:xe,to:`/formateur/show/cours/${s}`,disabled:l,children:[e.jsx("i",{"data-feather":"x",className:"me-2",style:{width:"16px",height:"16px"}}),"Annuler"]}),e.jsxs($,{type:"submit",variant:"success",disabled:l,className:"d-flex align-items-center",children:[l?e.jsx(tt,{animation:"border",size:"sm",className:"me-2"}):e.jsx(ss,{icon:"save",size:16,className:"me-2"}),l?"Enregistrement...":"Enregistrer les modifications"]})]})]}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"paperclip",className:"me-2",style:{width:"20px",height:"20px"}}),"Fichiers joints"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(b.Label,{className:"fw-bold",children:"Fichier joint 1"}),C.current_fichier_1&&C.current_fichier_1.length>0&&e.jsx("div",{className:"mb-3 p-3 border rounded",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsxs("div",{className:"flex-grow-1",children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("i",{"data-feather":U(C.current_fichier_1[0].type),className:`me-2 ${V(C.current_fichier_1[0].type)}`,style:{width:"20px",height:"20px"}}),e.jsx("strong",{className:o==="dark"?"text-light":"text-dark",children:C.current_fichier_1[0].nom})]}),e.jsxs("div",{className:"small text-muted",children:["Taille: ",P(C.current_fichier_1[0].taille)]}),q(C.current_fichier_1[0].type)&&e.jsx("div",{className:"mt-2",children:e.jsx(Mt,{src:C.current_fichier_1[0].url,alt:C.current_fichier_1[0].nom,thumbnail:!0,style:{maxWidth:"150px",maxHeight:"100px"}})})]}),e.jsx("small",{className:"text-success",children:"Fichier actuel"})]})}),e.jsx(b.Control,{type:"file",name:"fichiers_joints_1",accept:".pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx,.jpg,.jpeg,.png,.txt",onChange:z,isInvalid:!!A.fichiers_joints_1,className:o==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.fichiers_joints_1}),M&&e.jsxs("div",{className:"mt-2",children:[e.jsx("small",{className:"text-info d-block mb-2",children:"Nouveau fichier:"}),e.jsx(Mt,{src:M,alt:"Aperçu",thumbnail:!0,style:{maxWidth:"150px",maxHeight:"100px"}})]}),e.jsxs(b.Text,{className:"text-muted",children:["PDF, DOC, PPT, XLS, JPG, PNG, TXT - Max 10MB",C.current_fichier_1&&" (Remplacera le fichier actuel)"]})]}),e.jsxs("div",{children:[e.jsx(b.Label,{className:"fw-bold",children:"Fichier joint 2"}),C.current_fichier_2&&C.current_fichier_2.length>0&&e.jsx("div",{className:"mb-3 p-3 border rounded",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsxs("div",{className:"flex-grow-1",children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("i",{"data-feather":U(C.current_fichier_2[0].type),className:`me-2 ${V(C.current_fichier_2[0].type)}`,style:{width:"20px",height:"20px"}}),e.jsx("strong",{className:o==="dark"?"text-light":"text-dark",children:C.current_fichier_2[0].nom})]}),e.jsxs("div",{className:"small text-muted",children:["Taille: ",P(C.current_fichier_2[0].taille)]}),q(C.current_fichier_2[0].type)&&e.jsx("div",{className:"mt-2",children:e.jsx(Mt,{src:C.current_fichier_2[0].url,alt:C.current_fichier_2[0].nom,thumbnail:!0,style:{maxWidth:"150px",maxHeight:"100px"}})})]}),e.jsx("small",{className:"text-success",children:"Fichier actuel"})]})}),e.jsx(b.Control,{type:"file",name:"fichiers_joints_2",accept:".pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx,.jpg,.jpeg,.png,.txt",onChange:z,isInvalid:!!A.fichiers_joints_2,className:o==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.fichiers_joints_2}),F&&e.jsxs("div",{className:"mt-2",children:[e.jsx("small",{className:"text-info d-block mb-2",children:"Nouveau fichier:"}),e.jsx(Mt,{src:F,alt:"Aperçu",thumbnail:!0,style:{maxWidth:"150px",maxHeight:"100px"}})]}),e.jsxs(b.Text,{className:"text-muted",children:["PDF, DOC, PPT, XLS, JPG, PNG, TXT - Max 10MB",C.current_fichier_2&&" (Remplacera le fichier actuel)"]})]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"help-circle",className:"me-2",style:{width:"20px",height:"20px"}}),"Aide"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{className:"text-primary",children:"Statuts disponibles"}),e.jsxs("ul",{className:"mb-0 text-muted ps-3 mt-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Brouillon"})," : Non visible par les étudiants"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Publié"})," : Visible et accessible"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Archivé"})," : Masqué mais conservé"]})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{className:"text-success",children:"Fichiers joints"}),e.jsx("p",{className:"mb-0 text-muted",children:"Supports PDF, documents Office, images. Taille max: 10MB par fichier."})]}),e.jsxs("div",{className:"mb-0",children:[e.jsx("strong",{className:"text-warning",children:"Liens externes"}),e.jsx("p",{className:"mb-0 text-muted",children:"Ajoutez des ressources web, vidéos YouTube, etc. Un lien par ligne."})]})]})})]})]})]})}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:p,onClose:()=>j(!1),delay:3e3,autohide:!0,bg:v==="success"?"success":"danger",className:o==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${v==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":v==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:o==="dark"?"bg-dark text-light":"",children:y})]})})]})}function BEe(){const{matricule_classroom:s}=is(),[t,a]=x.useState(!0),[r,n]=x.useState("light"),[i,l]=x.useState({}),[c,o]=x.useState([]),[u,d]=x.useState({}),[f,p]=x.useState({search:"",status:""}),[j,y]=x.useState({}),[k,v]=x.useState(!1),[S,C]=x.useState(null),[_,A]=x.useState(!1),[D,M]=x.useState(""),[L,F]=x.useState("success");x.useEffect(()=>{const q=document.documentElement.getAttribute("data-theme")||"light";n(q);const G=new MutationObserver(()=>{const se=document.documentElement.getAttribute("data-theme")||"light";n(se)});return G.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>G.disconnect()},[]);const Q=(q,G="success")=>{M(q),F(G),A(!0)},I=x.useCallback(async()=>{try{a(!0);const q={};Object.keys(f).forEach(se=>{f[se]?.trim()&&(q[se]=f[se].trim())});const G=await he.get(`/formateur/view/cours/classroom/${s}`,{params:q});l(G.data.classroom||{}),o(G.data.cours||[]),d(G.data.cours_groupes_par_matiere||{})}catch(q){console.error("Erreur lors du chargement des cours:",q),Q("Erreur lors du chargement des cours","danger")}finally{a(!1)}},[s,f]);x.useEffect(()=>{I()},[I]),x.useEffect(()=>{We.replace()},[u]);const H=q=>{y(G=>({...G,[q]:!G[q]}))},z=q=>{C(q),v(!0)},K=async()=>{try{await he.delete(`/formateur/destroy/cours/${S}`),I(),v(!1),C(null),Q("Cours supprimé avec succès","success")}catch(q){console.error(q),Q(q.response?.data?.message||"Erreur lors de la suppression","danger")}},U=q=>{switch(q){case"Publié":return"success";case"Brouillon":return"warning";case"Archivé":return"secondary";default:return"secondary"}},V=q=>{switch(q){case"Publié":return"check-circle";case"Brouillon":return"edit-3";case"Archivé":return"archive";default:return"help-circle"}},P=q=>q?new Date(q).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"}):"Non définie";return t?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des cours..."})]})}):e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx($,{variant:"outline-secondary",size:"sm",as:xe,to:"/formateur/view/cours",className:"me-3",children:e.jsx("i",{"data-feather":"arrow-left",style:{width:"16px",height:"16px"}})}),e.jsx("div",{className:`me-3 p-3 rounded-circle ${r==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"home",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsxs("h2",{className:`mb-1 ${r==="dark"?"text-light":"text-dark"}`,children:["Cours - ",i.name||"Classe"]}),e.jsxs("p",{className:`mb-0 ${r==="dark"?"text-light":"text-muted"}`,children:["Cours organisés par matière • ",c.length," cours au total"]})]})]}),e.jsx("div",{children:e.jsxs($,{variant:"success",as:xe,to:"/formateur/view/cours",className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Nouveau Cours"]})})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${r==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${r==="dark"?"text-light":"text-dark"}`,children:c.length}),e.jsx("small",{className:r==="dark"?"text-light":"text-muted",children:"Total cours"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"book-open",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${r==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:c.filter(q=>q.status==="Publié").length}),e.jsx("small",{className:r==="dark"?"text-light":"text-muted",children:"Publiés"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"check-circle",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${r==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-warning",children:c.filter(q=>q.status==="Brouillon").length}),e.jsx("small",{className:r==="dark"?"text-light":"text-muted",children:"Brouillons"})]}),e.jsx("div",{className:"text-warning",children:e.jsx("i",{"data-feather":"edit-3",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${r==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-info",children:Object.keys(u).length}),e.jsx("small",{className:r==="dark"?"text-light":"text-muted",children:"Matières"})]}),e.jsx("div",{className:"text-info",children:e.jsx("i",{"data-feather":"book",style:{width:"24px",height:"24px"}})})]})})})})]})]}),e.jsxs(w,{className:`shadow-sm border-0 ${r==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${r==="dark"?"bg-dark":"bg-white"}`,children:e.jsx("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"layers",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${r==="dark"?"text-light":"text-dark"}`,children:"Cours par Matière"}),e.jsx(Ga,{className:"ms-3",children:e.jsx($,{variant:"outline-success",size:"sm",as:xe,to:"/formateur/cours/statistics",children:e.jsx("i",{"data-feather":"bar-chart-2",style:{width:"14px",height:"14px"}})})})]})})}),e.jsxs(w.Body,{className:r==="dark"?"bg-dark":"bg-white",children:[e.jsx("div",{className:"mb-4 p-3 rounded",style:{backgroundColor:r==="dark"?"#1a1a1a":"#f8f9fa"},children:e.jsxs(pe,{className:"g-3",children:[e.jsxs(T,{md:6,children:[e.jsxs(b.Label,{className:`small fw-bold ${r==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"search",className:"me-1",style:{width:"14px",height:"14px"}}),"Recherche"]}),e.jsx(b.Control,{type:"text",placeholder:"Rechercher un cours...",value:f.search,onChange:q=>p({...f,search:q.target.value}),className:r==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs(T,{md:6,children:[e.jsxs(b.Label,{className:`small fw-bold ${r==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"activity",className:"me-1",style:{width:"14px",height:"14px"}}),"Statut"]}),e.jsxs(b.Select,{value:f.status,onChange:q=>p({...f,status:q.target.value}),className:r==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous les statuts"}),e.jsx("option",{value:"Publié",children:"Publiés"}),e.jsx("option",{value:"Brouillon",children:"Brouillons"}),e.jsx("option",{value:"Archivé",children:"Archivés"})]})]})]})}),Object.keys(u).length>0?e.jsx("div",{className:"cours-groups",children:Object.entries(u).map(([q,G])=>e.jsxs(w,{className:`mb-4 border-0 shadow-sm ${r==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`${r==="dark"?"bg-dark border-secondary":"bg-light"} cursor-pointer`,onClick:()=>H(`matiere-${q}`),children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"book",className:"text-success me-3",style:{width:"20px",height:"20px"}}),e.jsxs("div",{children:[e.jsx("h5",{className:`mb-0 ${r==="dark"?"text-light":"text-dark"}`,children:q}),e.jsxs("small",{className:"text-muted",children:[G.length," cours •",G.filter(se=>se.status==="Publié").length," publiés •",G.filter(se=>se.status==="Brouillon").length," brouillons"]})]})]}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsxs(oe,{bg:"success",children:[G.length," cours"]}),e.jsx("i",{"data-feather":j[`matiere-${q}`]?"chevron-up":"chevron-down",className:`${r==="dark"?"text-light":"text-muted"}`,style:{width:"20px",height:"20px"}})]})]})}),e.jsx(Oa,{in:j[`matiere-${q}`]!==!1,children:e.jsx(w.Body,{className:r==="dark"?"bg-dark":"",children:e.jsx(pe,{className:"g-3",children:G.map(se=>e.jsx(T,{md:6,lg:4,children:e.jsx(w,{className:`h-100 border ${r==="dark"?"bg-dark border-secondary":"bg-white"}`,children:e.jsxs(w.Body,{children:[e.jsx("div",{className:"d-flex justify-content-between align-items-start mb-2",children:e.jsxs(oe,{bg:U(se.status),className:"mb-2",children:[e.jsx("i",{"data-feather":V(se.status),className:"me-1",style:{width:"10px",height:"10px"}}),se.status]})}),e.jsx("h6",{className:`${r==="dark"?"text-light":"text-dark"} mb-2`,children:se.titre.length>45?se.titre.substring(0,45)+"...":se.titre}),e.jsx("small",{className:"text-muted d-block mb-2",children:se.matricule}),se.description&&e.jsx("p",{className:`small ${r==="dark"?"text-light":"text-muted"} mb-2`,children:se.description.length>80?se.description.substring(0,80)+"...":se.description}),e.jsxs("div",{className:"small text-muted mb-3 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"12px",height:"12px"}}),P(se.created_at)]}),e.jsxs("div",{className:"d-flex gap-1",children:[e.jsx($,{size:"sm",variant:"outline-info",as:xe,to:`/formateur/show/cours/${se.id}`,title:"Voir les détails",children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-warning",as:xe,to:`/formateur/edit/cours/${se.id}`,title:"Modifier",children:e.jsx("i",{"data-feather":"edit",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-danger",onClick:()=>z(se.id),title:"Supprimer",children:e.jsx("i",{"data-feather":"trash-2",style:{width:"14px",height:"14px"}})})]})]})})},se.id))})})})]},q))}):e.jsx("div",{className:"text-center py-5",children:e.jsxs("div",{className:`${r==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"book-open",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucun cours trouvé"}),e.jsx("p",{className:"small mb-0",children:"Cette classe n'a pas encore de cours ou aucun cours ne correspond à vos critères."})]})]})})]})]}),e.jsxs(Y,{show:k,onHide:()=>v(!1),centered:!0,contentClassName:r==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:r==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Confirmation de Suppression"})}),e.jsxs(Y.Body,{className:r==="dark"?"bg-dark text-light":"",children:[e.jsx("p",{children:"Êtes-vous sûr de vouloir supprimer ce cours ?"}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),"Cette action est irréversible."]})]}),e.jsxs(Y.Footer,{className:r==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>v(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:K,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:_,onClose:()=>A(!1),delay:3e3,autohide:!0,bg:L==="success"?"success":"danger",className:r==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${L==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":L==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:r==="dark"?"bg-dark text-light":"",children:D})]})})]})})}function LEe(){const[s,t]=x.useState([]),[a,r]=x.useState({}),[n,i]=x.useState([]),[l,c]=x.useState([]),[o,u]=x.useState([]),[d,f]=x.useState([]),[p,j]=x.useState("grouped"),[y,k]=x.useState(""),[v,S]=x.useState(""),[C,_]=x.useState(""),[A,D]=x.useState(""),[M,L]=x.useState(""),[F,Q]=x.useState(""),[I,H]=x.useState(!1),[z,K]=x.useState(!1),[U,V]=x.useState(null),[P,q]=x.useState({}),[G,se]=x.useState(!1),[O,W]=x.useState(""),[Z,te]=x.useState("success"),[ie,fe]=x.useState({titre:"",description:"",matricule_classroom:"",matricule_matiere:"",date_debut:"",duree_minutes:60,status:"Brouillon"}),[J,ge]=x.useState({}),[re,ve]=x.useState("light"),[Oe,ee]=x.useState({});x.useEffect(()=>{const le=document.documentElement.getAttribute("data-theme")||"light";ve(le);const Ae=new MutationObserver(()=>{const Le=document.documentElement.getAttribute("data-theme")||"light";ve(Le)});return Ae.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>Ae.disconnect()},[]);const me=(le,Ae="success")=>{W(le),te(Ae),se(!0)},Xe=x.useCallback(async()=>{try{const le={};y.trim()&&(le.search=y.trim()),v&&(le.created_at=v),C&&(le.status=C),A&&(le.matricule_classroom=A),M&&(le.matricule_matiere=M),F&&(le.date_debut=F);const Ae=await he.get("/formateur/view/evaluations",{params:le});t(Ae.data.evaluations||[]),r(Ae.data.evaluations_groupees||{}),i(Ae.data.classrooms||[]),c(Ae.data.matieres||[])}catch(le){console.error("Erreur lors de la récupération des évaluations",le),me("Erreur lors de la récupération des données","danger")}},[y,v,C,A,M,F]),Se=x.useCallback(async()=>{try{const le=await he.get("/formateur/evaluations/statistics");ge(le.data.statistics||{})}catch(le){console.error("Erreur lors de la récupération des statistiques",le)}},[]),ae=x.useCallback(async le=>{if(!le){u([]);return}try{const Ae=await he.get(`/formateur/evaluations/matieres/${le}`);u(Ae.data.matieres||[])}catch(Ae){console.error("Erreur lors de la récupération des matières",Ae),u([])}},[]);x.useEffect(()=>{We.replace(),Xe(),Se()},[Xe,Se]),x.useEffect(()=>{We.replace()},[s,d,p]);const ye=le=>{fe({...ie,matricule_classroom:le,matricule_matiere:""}),ae(le)},st=async le=>{le.preventDefault(),q({});try{await he.post("/formateur/store/evaluation",ie),Xe(),Se(),H(!1),fe({titre:"",description:"",matricule_classroom:"",matricule_matiere:"",date_debut:"",duree_minutes:60,status:"Brouillon"}),u([]),me("Évaluation ajoutée avec succès","success")}catch(Ae){Ae.response?.status===422?(q(Ae.response.data.errors||{}),me("Erreur de validation","danger")):(console.error(Ae),me("Une erreur inattendue s'est produite","danger"))}},He=(le=null)=>{V(le),K(!0)},ke=async()=>{try{U&&await he.delete(`/formateur/destroy/evaluation/${U}`),Xe(),Se(),K(!1),f([]),V(null),me("Évaluation supprimée avec succès","success")}catch(le){console.error(le),me(le.response?.data?.message||"Erreur lors de la suppression","danger")}},we=async le=>{try{await he.patch(`/formateur/toggle-status/evaluation/${le}`),Xe(),Se(),me("Statut mis à jour","success")}catch(Ae){console.error(Ae),me("Erreur lors de la mise à jour du statut","danger")}},Ke=le=>{ee(Ae=>({...Ae,[le]:!Ae[le]}))},Ee=le=>{switch(le){case"Programmée":return"primary";case"Brouillon":return"warning";case"Terminée":return"success";case"Annulée":return"danger";default:return"secondary"}},je=le=>{switch(le){case"Programmée":return"calendar";case"Brouillon":return"edit-3";case"Terminée":return"check-circle";case"Annulée":return"x-circle";default:return"help-circle"}},Ve=le=>{switch(le){case"En cours":return"success";case"Future":return"info";case"Passée":return"secondary";default:return"secondary"}},Nt=le=>le?new Date(le).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Non définie",nt=le=>{if(le<60)return`${le} min`;const Ae=Math.floor(le/60),Le=le%60;return Le>0?`${Ae}h ${Le}min`:`${Ae}h`},It=()=>Object.keys(a).length===0?e.jsx("div",{className:"text-center py-5",children:e.jsxs("div",{className:`${re==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"clipboard",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucune évaluation trouvée"}),e.jsx("p",{className:"small mb-0",children:"Aucune évaluation ne correspond à vos critères de recherche."})]})]})}):e.jsx("div",{className:"evaluation-groups",children:Object.entries(a).map(([le,Ae])=>e.jsxs(w,{className:`mb-4 border-0 shadow-sm ${re==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`${re==="dark"?"bg-dark border-secondary":"bg-light"} cursor-pointer`,onClick:()=>Ke(le),children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"home",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("h5",{className:`mb-0 ${re==="dark"?"text-light":"text-dark"}`,children:le}),e.jsxs(oe,{bg:"info",className:"ms-3",children:[Object.values(Ae).reduce((Le,rt)=>Le+rt.length,0)," évaluations"]})]}),e.jsx("i",{"data-feather":Oe[le]?"chevron-up":"chevron-down",className:`${re==="dark"?"text-light":"text-muted"}`,style:{width:"20px",height:"20px"}})]})}),e.jsx(Oa,{in:Oe[le]!==!1,children:e.jsx(w.Body,{className:re==="dark"?"bg-dark":"",children:Object.entries(Ae).map(([Le,rt])=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("i",{"data-feather":"book",className:"text-success me-2",style:{width:"18px",height:"18px"}}),e.jsx("h6",{className:`mb-0 ${re==="dark"?"text-light":"text-dark"}`,children:Le}),e.jsx(oe,{bg:"success",className:"ms-2",children:rt.length})]}),e.jsx(pe,{className:"g-3",children:rt.map(ot=>e.jsx(T,{md:6,lg:4,children:e.jsx(w,{className:`h-100 border ${re==="dark"?"bg-dark border-secondary":"bg-white"}`,children:e.jsxs(w.Body,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[e.jsx("h6",{className:`${re==="dark"?"text-light":"text-dark"} mb-0`,children:ot.titre}),e.jsxs(oe,{bg:Ee(ot.status),className:"ms-2",children:[e.jsx("i",{"data-feather":je(ot.status),className:"me-1",style:{width:"10px",height:"10px"}}),ot.status]})]}),e.jsx("small",{className:"text-muted d-block mb-2",children:ot.matricule}),ot.description&&e.jsx("p",{className:`small ${re==="dark"?"text-light":"text-muted"} mb-2`,children:ot.description.length>60?ot.description.substring(0,60)+"...":ot.description}),e.jsxs("div",{className:"d-flex flex-wrap gap-1 mb-2",children:[e.jsx(oe,{bg:Ve(ot.etat_temporel),className:"small",children:ot.etat_temporel}),e.jsx(oe,{bg:"secondary",className:"small",children:nt(ot.duree_minutes)}),e.jsxs(oe,{bg:"info",className:"small",children:[ot.questions_count," questions"]})]}),e.jsxs("div",{className:"small text-muted mb-3",children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"12px",height:"12px"}}),Nt(ot.date_debut)]}),e.jsxs("div",{className:"d-flex gap-1",children:[e.jsx($,{size:"sm",variant:"outline-info",as:xe,to:`/formateur/show/evaluation/${ot.id}`,title:"Voir les détails",children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-warning",as:xe,to:`/formateur/edit/evaluation/${ot.id}`,title:"Modifier",children:e.jsx("i",{"data-feather":"edit",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-primary",onClick:()=>we(ot.id),title:"Changer le statut",children:e.jsx("i",{"data-feather":"refresh-cw",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-danger",onClick:()=>He(ot.id),title:"Supprimer",children:e.jsx("i",{"data-feather":"trash-2",style:{width:"14px",height:"14px"}})})]})]})})},ot.id))})]},Le))})})]},le))}),ps=()=>e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`align-middle ${re==="dark"?"table-dark":""}`,children:[e.jsx("thead",{className:"table-primary",children:e.jsxs("tr",{children:[e.jsxs("th",{children:[e.jsx("i",{"data-feather":"clipboard",className:"me-2",style:{width:"16px",height:"16px"}}),"Évaluation"]}),e.jsxs("th",{className:"d-none d-md-table-cell",children:[e.jsx("i",{"data-feather":"home",className:"me-2",style:{width:"16px",height:"16px"}}),"Classe/Matière"]}),e.jsxs("th",{className:"d-none d-lg-table-cell",children:[e.jsx("i",{"data-feather":"calendar",className:"me-2",style:{width:"16px",height:"16px"}}),"Date & Durée"]}),e.jsxs("th",{className:"text-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"16px",height:"16px"}}),"Statut"]}),e.jsx("th",{className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:s.length?s.map(le=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{className:`fw-bold ${re==="dark"?"text-light":"text-dark"}`,children:le.titre}),e.jsx("small",{className:"text-muted",children:le.matricule}),e.jsxs("div",{className:"d-flex flex-wrap gap-1 mt-1",children:[e.jsx(oe,{bg:Ve(le.etat_temporel),className:"small",children:le.etat_temporel}),e.jsxs(oe,{bg:"info",className:"small",children:[le.questions_count," questions"]})]})]})}),e.jsx("td",{className:"d-none d-md-table-cell",children:e.jsxs("div",{children:[e.jsxs("div",{className:`small ${re==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"home",className:"me-1",style:{width:"12px",height:"12px"}}),le.matiere?.classroom?.name||"Non définie"]}),e.jsxs("div",{className:"small text-success",children:[e.jsx("i",{"data-feather":"book",className:"me-1",style:{width:"12px",height:"12px"}}),le.matiere?.nom||"Non définie"]})]})}),e.jsx("td",{className:"d-none d-lg-table-cell",children:e.jsxs("div",{children:[e.jsx("div",{className:`small ${re==="dark"?"text-light":"text-dark"}`,children:Nt(le.date_debut)}),e.jsxs("div",{className:"small text-muted",children:["Durée: ",nt(le.duree_minutes)]})]})}),e.jsx("td",{className:"text-center",children:e.jsxs(oe,{bg:Ee(le.status),className:"px-3 py-2",children:[e.jsx("i",{"data-feather":je(le.status),className:"me-1",style:{width:"12px",height:"12px"}}),le.status]})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{className:"d-flex gap-1 justify-content-center",children:[e.jsx($,{size:"sm",variant:"outline-info",as:xe,to:`/formateur/show/evaluation/${le.id}`,title:"Voir les détails",children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-warning",as:xe,to:`/formateur/edit/evaluation/${le.id}`,title:"Modifier",children:e.jsx("i",{"data-feather":"edit",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-primary",onClick:()=>we(le.id),title:"Changer le statut",children:e.jsx("i",{"data-feather":"refresh-cw",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-danger",onClick:()=>He(le.id),title:"Supprimer",children:e.jsx("i",{"data-feather":"trash-2",style:{width:"14px",height:"14px"}})})]})})]},le.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"text-center py-5",children:e.jsxs("div",{className:`${re==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"clipboard",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucune évaluation trouvée"}),e.jsx("p",{className:"small mb-0",children:"Aucune évaluation ne correspond à vos critères de recherche."})]})]})})})})]})});return e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${re==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"clipboard",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${re==="dark"?"text-light":"text-dark"}`,children:"Gestion des Évaluations"}),e.jsx("p",{className:`mb-0 ${re==="dark"?"text-light":"text-muted"}`,children:"Administration des évaluations par classe et matière"})]})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${re==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${re==="dark"?"text-light":"text-dark"}`,children:J.total_evaluations||s.length}),e.jsx("small",{className:re==="dark"?"text-light":"text-muted",children:"Total"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"clipboard",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${re==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-primary",children:J.programmee_evaluations||s.filter(le=>le.status==="Programmée").length}),e.jsx("small",{className:re==="dark"?"text-light":"text-muted",children:"Programmées"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"calendar",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${re==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-warning",children:J.brouillon_evaluations||s.filter(le=>le.status==="Brouillon").length}),e.jsx("small",{className:re==="dark"?"text-light":"text-muted",children:"Brouillons"})]}),e.jsx("div",{className:"text-warning",children:e.jsx("i",{"data-feather":"edit-3",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${re==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:J.terminee_evaluations||s.filter(le=>le.status==="Terminée").length}),e.jsx("small",{className:re==="dark"?"text-light":"text-muted",children:"Terminées"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"check-circle",style:{width:"24px",height:"24px"}})})]})})})})]})]}),e.jsxs(w,{className:`shadow-sm border-0 ${re==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${re==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"clipboard",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${re==="dark"?"text-light":"text-dark"}`,children:"Évaluations"}),e.jsxs(Ga,{className:"ms-3",children:[e.jsx($,{variant:"outline-success",size:"sm",as:xe,to:"/formateur/evaluation/statistics",children:e.jsx("i",{"data-feather":"bar-chart-2",style:{width:"14px",height:"14px"}})}),e.jsx($,{variant:p==="grouped"?"primary":"outline-secondary",size:"sm",onClick:()=>j("grouped"),title:"Vue groupée",children:e.jsx("i",{"data-feather":"layers",style:{width:"14px",height:"14px"}})}),e.jsx($,{variant:p==="list"?"primary":"outline-secondary",size:"sm",onClick:()=>j("list"),title:"Vue liste",children:e.jsx("i",{"data-feather":"list",style:{width:"14px",height:"14px"}})})]})]}),e.jsx("div",{className:"d-flex gap-2 mt-2 mt-md-0",children:e.jsxs($,{variant:"success",className:"d-flex align-items-center",onClick:()=>H(!0),children:[e.jsx("i",{"data-feather":"plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Nouvelle Évaluation"]})})]})}),e.jsxs(w.Body,{className:re==="dark"?"bg-dark":"bg-white",children:[e.jsx("div",{className:"mb-4 p-3 rounded",style:{backgroundColor:re==="dark"?"#1a1a1a":"#f8f9fa"},children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs(b.Label,{className:`small fw-bold ${re==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"search",className:"me-1",style:{width:"14px",height:"14px"}}),"Recherche Globale"]}),e.jsx(b.Control,{type:"text",placeholder:"Titre, description, classe...",value:y,onChange:le=>k(le.target.value),className:re==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${re==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"home",className:"me-1",style:{width:"14px",height:"14px"}}),"Classe"]}),e.jsxs(b.Select,{value:A,onChange:le=>D(le.target.value),className:re==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Toutes"}),n.map(le=>e.jsx("option",{value:le.matricule,children:le.name},le.matricule))]})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${re==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"book",className:"me-1",style:{width:"14px",height:"14px"}}),"Matière"]}),e.jsxs(b.Select,{value:M,onChange:le=>L(le.target.value),className:re==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Toutes"}),l.map(le=>e.jsx("option",{value:le.matricule,children:le.nom},le.matricule))]})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${re==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"activity",className:"me-1",style:{width:"14px",height:"14px"}}),"Statut"]}),e.jsxs(b.Select,{value:C,onChange:le=>_(le.target.value),className:re==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous"}),e.jsx("option",{value:"Brouillon",children:"Brouillons"}),e.jsx("option",{value:"Programmée",children:"Programmées"}),e.jsx("option",{value:"Terminée",children:"Terminées"}),e.jsx("option",{value:"Annulée",children:"Annulées"})]})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${re==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"14px",height:"14px"}}),"Date début"]}),e.jsx(b.Control,{type:"date",value:F,onChange:le=>Q(le.target.value),className:re==="dark"?"bg-dark text-light border-secondary":""})]})]})}),p==="grouped"?It():ps()]})]}),e.jsxs(Y,{show:I,onHide:()=>{H(!1),u([])},centered:!0,size:"lg",contentClassName:re==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:re==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Créer une Évaluation"})}),e.jsxs(b,{onSubmit:st,children:[e.jsx(Y.Body,{className:re==="dark"?"bg-dark text-light":"",children:e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:12,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Titre de l'évaluation *"}),e.jsx(b.Control,{type:"text",placeholder:"Ex: Contrôle de mathématiques - Chapitre 5",required:!0,value:ie.titre,onChange:le=>fe({...ie,titre:le.target.value}),isInvalid:!!P.titre,className:re==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:P.titre})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Classe *"}),e.jsxs(b.Select,{value:ie.matricule_classroom,onChange:le=>ye(le.target.value),isInvalid:!!P.matricule_classroom,className:re==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionnez une classe"}),n.map(le=>e.jsx("option",{value:le.matricule,children:le.name},le.matricule))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:P.matricule_classroom})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Matière *"}),e.jsxs(b.Select,{value:ie.matricule_matiere,onChange:le=>fe({...ie,matricule_matiere:le.target.value}),isInvalid:!!P.matricule_matiere,className:re==="dark"?"bg-dark text-light border-secondary":"",required:!0,disabled:!ie.matricule_classroom,children:[e.jsx("option",{value:"",children:ie.matricule_classroom?"Sélectionnez une matière":"Choisissez d'abord une classe"}),o.map(le=>e.jsx("option",{value:le.matricule,children:le.nom},le.matricule))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:P.matricule_matiere})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Date et heure de début *"}),e.jsx(b.Control,{type:"datetime-local",required:!0,value:ie.date_debut,onChange:le=>fe({...ie,date_debut:le.target.value}),isInvalid:!!P.date_debut,className:re==="dark"?"bg-dark text-light border-secondary":"",min:new Date().toISOString().slice(0,16)}),e.jsx(b.Control.Feedback,{type:"invalid",children:P.date_debut})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Durée (en minutes) *"}),e.jsx(b.Control,{type:"number",min:"1",max:"480",required:!0,value:ie.duree_minutes,onChange:le=>fe({...ie,duree_minutes:parseInt(le.target.value)}),isInvalid:!!P.duree_minutes,className:re==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Text,{className:"text-muted",children:"Maximum 8 heures (480 minutes)"}),e.jsx(b.Control.Feedback,{type:"invalid",children:P.duree_minutes})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Statut *"}),e.jsxs(b.Select,{value:ie.status,onChange:le=>fe({...ie,status:le.target.value}),isInvalid:!!P.status,className:re==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"Brouillon",children:"Brouillon"}),e.jsx("option",{value:"Programmée",children:"Programmée"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:P.status})]})}),e.jsx(T,{md:12,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Description (optionnelle)"}),e.jsx(b.Control,{as:"textarea",rows:3,placeholder:"Description de l'évaluation, consignes particulières...",value:ie.description,onChange:le=>fe({...ie,description:le.target.value}),isInvalid:!!P.description,className:re==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:P.description})]})})]})}),e.jsxs(Y.Footer,{className:re==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>{H(!1),u([])},children:"Annuler"}),e.jsxs($,{type:"submit",variant:"success",children:[e.jsx("i",{"data-feather":"save",className:"me-2",style:{width:"16px",height:"16px"}}),"Créer l'Évaluation"]})]})]})]}),e.jsxs(Y,{show:z,onHide:()=>K(!1),centered:!0,contentClassName:re==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:re==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Confirmation de Suppression"})}),e.jsxs(Y.Body,{className:re==="dark"?"bg-dark text-light":"",children:[e.jsx("p",{children:"Êtes-vous sûr de vouloir supprimer cette évaluation ?"}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),"Cette action est irréversible. Toutes les questions et réponses associées seront également supprimées."]})]}),e.jsxs(Y.Footer,{className:re==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>K(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:ke,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:G,onClose:()=>se(!1),delay:3e3,autohide:!0,bg:Z==="success"?"success":"danger",className:re==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${Z==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":Z==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:re==="dark"?"bg-dark text-light":"",children:O})]})})]})})}function FEe(){const{id:s}=is(),t=Ut(),[a,r]=x.useState(!0),[n,i]=x.useState(!1),[l,c]=x.useState(null),[o,u]=x.useState("light"),[d,f]=x.useState(null),[p,j]=x.useState([]),[y,k]=x.useState([]),[v,S]=x.useState({}),[C,_]=x.useState(!1),[A,D]=x.useState(""),[M,L]=x.useState("success"),[F,Q]=x.useState({titre:"",description:"",matricule_classroom:"",matricule_matiere:"",date_debut:"",duree_minutes:60,status:"Brouillon"});x.useEffect(()=>{const G=document.documentElement.getAttribute("data-theme")||"light";u(G);const se=new MutationObserver(()=>{const O=document.documentElement.getAttribute("data-theme")||"light";u(O)});return se.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>se.disconnect()},[]);const I=(G,se="success")=>{D(G),L(se),_(!0)},H=x.useCallback(async()=>{try{r(!0);const se=(await he.get(`/formateur/show/evaluation/${s}`)).data.evaluation;f(se);const O=await he.get("/formateur/view/classroom");j(O.data.classrooms||[]);const W=se.date_debut?new Date(se.date_debut).toISOString().slice(0,16):"";Q({titre:se.titre||"",description:se.description||"",matricule_classroom:se.matiere?.matricule_classroom||"",matricule_matiere:se.matricule_matiere||"",date_debut:W,duree_minutes:se.duree_minutes||60,status:se.status||"Brouillon"}),se.matiere?.matricule_classroom&&await z(se.matiere.matricule_classroom)}catch(G){c("Erreur lors du chargement des données"),console.error("Erreur:",G)}finally{r(!1)}},[s]),z=x.useCallback(async G=>{if(!G){k([]);return}try{const se=await he.get(`/formateur/evaluations/matieres/${G}`);k(se.data.matieres||[])}catch(se){console.error("Erreur lors de la récupération des matières",se),k([])}},[]);x.useEffect(()=>{s&&H()},[H]),x.useEffect(()=>{We.replace()},[d,F,p,y]);const K=G=>{Q({...F,matricule_classroom:G,matricule_matiere:""}),z(G)},U=async G=>{G.preventDefault(),S({}),i(!0);try{await he.put(`/formateur/update/evaluation/${s}`,F),I("Évaluation mise à jour avec succès","success"),setTimeout(()=>{t(`/formateur/show/evaluation/${s}`)},1500)}catch(se){se.response?.status===422?(S(se.response.data.errors||{}),I("Erreur de validation","danger")):(console.error(se),I(se.response?.data?.message||"Une erreur inattendue s'est produite","danger"))}finally{i(!1)}},V=()=>{if(!d)return!0;const G=new Date,se=new Date(d.date_debut);return!(d.status==="Terminée"||G>se&&d.status==="Programmée")},P=G=>G?new Date(G).toLocaleDateString("fr-FR",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Non définie",q=G=>{if(G<60)return`${G} minutes`;const se=Math.floor(G/60),O=G%60;return O>0?`${se}h ${O}min`:`${se}h`};return a?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement de l'évaluation..."})]})}):l||!d?e.jsxs(et,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),l||"Évaluation introuvable"]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:"secondary",as:xe,to:"/formateur/view/evaluations",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]}),e.jsxs($,{variant:"outline-primary",onClick:H,children:[e.jsx("i",{"data-feather":"refresh-cw",className:"me-2"}),"Réessayer"]})]})]}):V()?e.jsxs(et,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:`/formateur/show/evaluation/${s}`,className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsxs("div",{children:[e.jsx("h1",{className:`h3 mb-0 ${o==="dark"?"text-light":"text-dark"}`,children:"Modifier l'évaluation"}),e.jsxs("p",{className:`mb-0 ${o==="dark"?"text-light":"text-muted"}`,children:[d.titre," - ",d.matricule]})]})]})}),e.jsx("div",{className:"d-flex gap-2",children:e.jsxs($,{variant:"outline-primary",as:xe,to:`/formateur/show/evaluation/${s}`,children:[e.jsx("i",{"data-feather":"eye",className:"me-2",style:{width:"16px",height:"16px"}}),"Voir"]})})]}),e.jsxs(pe,{children:[e.jsx(T,{lg:8,children:e.jsxs(w,{className:`border-0 shadow-sm ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"edit",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations de l'évaluation"]})}),e.jsx(w.Body,{children:e.jsx(b,{onSubmit:U,children:e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:12,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Titre de l'évaluation *"}),e.jsx(b.Control,{type:"text",placeholder:"Ex: Contrôle de mathématiques - Chapitre 5",required:!0,value:F.titre,onChange:G=>Q({...F,titre:G.target.value}),isInvalid:!!v.titre,className:o==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:v.titre})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Classe *"}),e.jsxs(b.Select,{value:F.matricule_classroom,onChange:G=>K(G.target.value),isInvalid:!!v.matricule_classroom,className:o==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionnez une classe"}),p.map(G=>e.jsx("option",{value:G.matricule,children:G.name},G.matricule))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:v.matricule_classroom})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Matière *"}),e.jsxs(b.Select,{value:F.matricule_matiere,onChange:G=>Q({...F,matricule_matiere:G.target.value}),isInvalid:!!v.matricule_matiere,className:o==="dark"?"bg-dark text-light border-secondary":"",required:!0,disabled:!F.matricule_classroom,children:[e.jsx("option",{value:"",children:F.matricule_classroom?"Sélectionnez une matière":"Choisissez d'abord une classe"}),y.map(G=>e.jsx("option",{value:G.matricule,children:G.nom},G.matricule))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:v.matricule_matiere})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Date et heure de début *"}),e.jsx(b.Control,{type:"datetime-local",required:!0,value:F.date_debut,onChange:G=>Q({...F,date_debut:G.target.value}),isInvalid:!!v.date_debut,className:o==="dark"?"bg-dark text-light border-secondary":"",min:new Date().toISOString().slice(0,16)}),e.jsx(b.Control.Feedback,{type:"invalid",children:v.date_debut}),d.date_debut&&e.jsxs(b.Text,{className:"text-muted",children:["Ancienne date: ",P(d.date_debut)]})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Durée (en minutes) *"}),e.jsx(b.Control,{type:"number",min:"1",max:"480",required:!0,value:F.duree_minutes,onChange:G=>Q({...F,duree_minutes:parseInt(G.target.value)}),isInvalid:!!v.duree_minutes,className:o==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Text,{className:"text-muted",children:"Maximum 8 heures (480 minutes)"}),e.jsx(b.Control.Feedback,{type:"invalid",children:v.duree_minutes})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Statut *"}),e.jsxs(b.Select,{value:F.status,onChange:G=>Q({...F,status:G.target.value}),isInvalid:!!v.status,className:o==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"Brouillon",children:"Brouillon"}),e.jsx("option",{value:"Programmée",children:"Programmée"}),e.jsx("option",{value:"Annulée",children:"Annulée"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:v.status})]})}),e.jsx(T,{md:12,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Description (optionnelle)"}),e.jsx(b.Control,{as:"textarea",rows:4,placeholder:"Description de l'évaluation, consignes particulières...",value:F.description,onChange:G=>Q({...F,description:G.target.value}),isInvalid:!!v.description,className:o==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:v.description})]})}),e.jsx(T,{md:12,children:e.jsxs("div",{className:"d-flex gap-2 justify-content-end",children:[e.jsx($,{variant:"secondary",as:xe,to:`/formateur/show/evaluation/${s}`,disabled:n,children:"Annuler"}),e.jsx($,{type:"submit",variant:"primary",disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(tt,{animation:"border",size:"sm",className:"me-2"}),"Enregistrement..."]}):e.jsx(e.Fragment,{children:"Sauvegarder les modifications"})})]})})]})})})]})}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations actuelles"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"fw-bold text-muted",children:"MATRICULE"}),e.jsx("div",{className:`${o==="dark"?"text-light":"text-dark"}`,children:e.jsx("code",{className:"px-2 py-1 bg-primary bg-opacity-10 rounded text-primary",children:d.matricule})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"fw-bold text-muted",children:"CLASSE ACTUELLE"}),e.jsxs("div",{className:`${o==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"home",className:"me-1",style:{width:"14px",height:"14px"}}),d.matiere?.classroom?.name||"Non définie"]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"fw-bold text-muted",children:"MATIÈRE ACTUELLE"}),e.jsxs("div",{className:`${o==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"book",className:"me-1",style:{width:"14px",height:"14px"}}),d.matiere?.nom||"Non définie"]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"fw-bold text-muted",children:"DURÉE ACTUELLE"}),e.jsxs("div",{className:`${o==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"clock",className:"me-1",style:{width:"14px",height:"14px"}}),q(d.duree_minutes)]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"fw-bold text-muted",children:"QUESTIONS"}),e.jsxs("div",{className:`${o==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"help-circle",className:"me-1",style:{width:"14px",height:"14px"}}),d.questions_count," question(s)"]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"fw-bold text-muted",children:"POINTS TOTAL"}),e.jsxs("div",{className:`${o==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"award",className:"me-1",style:{width:"14px",height:"14px"}}),d.total_points||0," point(s)"]})]})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"20px",height:"20px"}}),"Actions rapides"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"success",as:xe,to:"/formateur/create/questions",size:"sm",children:[e.jsx("i",{"data-feather":"plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Ajouter une question"]}),e.jsxs($,{variant:"success",as:xe,to:`/formateur/evaluation/${s}/questions`,size:"sm",children:[e.jsx("i",{"data-feather":"help-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Gérer les questions"]}),e.jsxs($,{variant:"info",as:xe,to:`/formateur/evaluation/${s}/resultats`,size:"sm",children:[e.jsx("i",{"data-feather":"bar-chart-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Voir les résultats"]}),e.jsxs($,{variant:"outline-secondary",as:xe,to:"/formateur/view/evaluations",size:"sm",children:[e.jsx("i",{"data-feather":"list",className:"me-2",style:{width:"16px",height:"16px"}}),"Toutes les évaluations"]})]})})]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:C,onClose:()=>_(!1),delay:3e3,autohide:!0,bg:M==="success"?"success":"danger",className:o==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${M==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":M==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:o==="dark"?"bg-dark text-light":"",children:A})]})})]}):e.jsxs(et,{children:[e.jsxs(lt,{variant:"warning",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2"}),"Cette évaluation ne peut plus être modifiée car elle est ",d.status.toLowerCase()," ou déjà commencée."]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:"secondary",as:xe,to:"/formateur/view/evaluations",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]}),e.jsxs($,{variant:"primary",as:xe,to:`/formateur/show/evaluation/${s}`,children:[e.jsx("i",{"data-feather":"eye",className:"me-2"}),"Voir les détails"]})]})]})}function zEe(){const{id:s}=is(),t=Ut(),[a,r]=x.useState(!0),[n,i]=x.useState(null),[l,c]=x.useState(null),[o,u]=x.useState("light"),[d,f]=x.useState(!1),[p,j]=x.useState(""),[y,k]=x.useState("success"),[v,S]=x.useState(!1),[C,_]=x.useState(!1);x.useEffect(()=>{const V=document.documentElement.getAttribute("data-theme")||"light";u(V);const P=new MutationObserver(()=>{const q=document.documentElement.getAttribute("data-theme")||"light";u(q)});return P.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>P.disconnect()},[]);const A=(V,P="success")=>{j(V),k(P),f(!0)},D=x.useCallback(async()=>{try{r(!0);const V=await he.get(`/formateur/show/evaluation/${s}`);c(V.data.evaluation)}catch(V){i("Erreur lors du chargement de l'évaluation"),console.error("Erreur:",V)}finally{r(!1)}},[s]);x.useEffect(()=>{s&&D()},[D]),x.useEffect(()=>{We.replace()},[l]);const M=async()=>{try{await he.patch(`/formateur/toggle-status/evaluation/${s}`),D(),_(!1),A("Statut de l'évaluation mis à jour","success")}catch(V){console.error(V),A("Erreur lors de la mise à jour du statut","danger")}},L=async()=>{try{await he.delete(`/formateur/destroy/evaluation/${s}`),A("Évaluation supprimée avec succès","success"),setTimeout(()=>{t("/formateur/view/evaluations")},1500)}catch(V){console.error(V),A(V.response?.data?.message||"Erreur lors de la suppression","danger")}S(!1)},F=V=>{switch(V){case"Programmée":return"primary";case"Brouillon":return"warning";case"Terminée":return"success";case"Annulée":return"danger";default:return"secondary"}},Q=V=>{switch(V){case"Programmée":return"calendar";case"Brouillon":return"edit-3";case"Terminée":return"check-circle";case"Annulée":return"x-circle";default:return"help-circle"}},I=V=>{switch(V){case"En cours":return"success";case"Future":return"info";case"Passée":return"secondary";default:return"secondary"}},H=V=>V?new Date(V).toLocaleDateString("fr-FR",{weekday:"long",day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Non définie",z=V=>{const P=Math.floor(V*60),q=Math.floor(P/3600),G=Math.floor(P%3600/60),se=P%60;return q>0?`${q}h ${G}min ${se}s`:G>0?`${G}min ${se}s`:`${se}s`},K=V=>{const P=Math.floor(V*60),q=Math.floor(P/3600),G=Math.floor(P%3600/60),se=P%60;return q>0?`${q}h ${G}min ${se}s`:G>0?`${G}min ${se}s`:`${se}s`},U=()=>!l||!l.questions_count?0:l.questions_count>0?100:0;return a?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement de l'évaluation..."})]})}):n||!l?e.jsxs(et,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),n||"Évaluation introuvable"]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:"secondary",as:xe,to:"/formateur/view/evaluations",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]}),e.jsxs($,{variant:"outline-primary",onClick:D,children:[e.jsx("i",{"data-feather":"refresh-cw",className:"me-2"}),"Réessayer"]})]})]}):e.jsxs(et,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:"/formateur/view/evaluations",className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsxs("div",{children:[e.jsx("h1",{className:`h3 mb-0 ${o==="dark"?"text-light":"text-dark"}`,children:l.titre}),e.jsxs("div",{className:"d-flex align-items-center gap-2 mt-1",children:[e.jsx("small",{className:"text-muted",children:l.matricule}),e.jsxs(oe,{bg:F(l.status),className:"px-2 py-1",children:[e.jsx("i",{"data-feather":Q(l.status),className:"me-1",style:{width:"12px",height:"12px"}}),l.status]}),e.jsx(oe,{bg:I(l.etat_temporel),className:"px-2 py-1",children:l.etat_temporel})]})]})]})}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:"outline-primary",onClick:()=>_(!0),title:"Changer le statut",children:[e.jsx("i",{"data-feather":"refresh-cw",className:"me-2",style:{width:"16px",height:"16px"}}),"Statut"]}),e.jsxs($,{variant:"warning",as:xe,to:`/formateur/edit/evaluation/${s}`,children:[e.jsx("i",{"data-feather":"edit",className:"me-2",style:{width:"16px",height:"16px"}}),"Modifier"]}),e.jsxs($,{variant:"success",as:xe,to:`/formateur/evaluation/${s}/questions`,children:[e.jsx("i",{"data-feather":"help-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Questions (",l.questions_count,")"]}),e.jsxs($,{variant:"danger",onClick:()=>S(!0),children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsxs(pe,{children:[e.jsxs(T,{lg:8,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations générales"]})}),e.jsx(w.Body,{children:e.jsxs(pe,{className:"g-4",children:[e.jsx(T,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"small fw-bold text-muted",children:"TITRE"}),e.jsx("div",{className:`${o==="dark"?"text-light":"text-dark"}`,children:l.titre})]})}),e.jsx(T,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"small fw-bold text-muted",children:"MATRICULE"}),e.jsx("div",{className:`${o==="dark"?"text-light":"text-dark"}`,children:e.jsx("code",{className:"px-2 py-1 bg-primary bg-opacity-10 rounded text-primary",children:l.matricule})})]})}),e.jsx(T,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"small fw-bold text-muted",children:"CLASSE"}),e.jsxs("div",{className:`d-flex align-items-center ${o==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"home",className:"me-2",style:{width:"16px",height:"16px"}}),l.matiere?.classroom?.name||"Non définie"]})]})}),e.jsx(T,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"small fw-bold text-muted",children:"MATIÈRE"}),e.jsxs("div",{className:`d-flex align-items-center ${o==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"16px",height:"16px"}}),l.matiere?.nom||"Non définie"]})]})}),e.jsx(T,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"small fw-bold text-muted",children:"DATE DE DÉBUT"}),e.jsxs("div",{className:`${o==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-2",style:{width:"16px",height:"16px"}}),H(l.date_debut)]})]})}),e.jsx(T,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"small fw-bold text-muted",children:"DURÉE"}),e.jsxs("div",{className:`${o==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"clock",className:"me-2",style:{width:"16px",height:"16px"}}),K(l.duree_minutes)]})]})}),l.date_fin&&e.jsx(T,{md:12,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"small fw-bold text-muted",children:"DATE DE FIN CALCULÉE"}),e.jsxs("div",{className:`${o==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-2",style:{width:"16px",height:"16px"}}),H(l.date_fin)]})]})}),l.description&&e.jsx(T,{md:12,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"small fw-bold text-muted",children:"DESCRIPTION"}),e.jsx("div",{className:`${o==="dark"?"text-light":"text-dark"}`,style:{whiteSpace:"pre-wrap"},children:l.description})]})})]})})]}),l.etat_temporel&&e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"clock",className:"me-2",style:{width:"20px",height:"20px"}}),"État temporel"]})}),e.jsxs(w.Body,{children:[e.jsx("div",{className:"text-center mb-3",children:e.jsx(oe,{bg:I(l.etat_temporel),className:"px-4 py-2 fs-6",children:l.etat_temporel})}),l.temps_avant_debut&&e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:`mb-0 ${o==="dark"?"text-light":"text-muted"}`,children:["Commence dans ",e.jsx("strong",{children:z(l.temps_avant_debut)})]})}),l.temps_restant&&e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:`mb-0 ${o==="dark"?"text-light":"text-muted"}`,children:["Temps restant: ",e.jsx("strong",{children:z(l.temps_restant)})]}),e.jsx(Zt,{now:(l.duree_minutes-l.temps_restant)/l.duree_minutes*100,variant:"success",className:"mt-2"})]}),l.temps_depuis_fin&&e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:`mb-0 ${o==="dark"?"text-light":"text-muted"}`,children:["Terminée depuis ",e.jsx("strong",{children:z(l.temps_depuis_fin)})]})})]})]}),l.questions&&l.questions.length>0&&e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsxs(w.Header,{className:"border-0 d-flex justify-content-between align-items-center",children:[e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"help-circle",className:"me-2",style:{width:"20px",height:"20px"}}),"Questions (",l.questions.length,")"]}),e.jsxs($,{variant:"outline-primary",size:"sm",as:xe,to:`/formateur/evaluation/${s}/questions`,children:[e.jsx("i",{"data-feather":"plus",className:"me-1",style:{width:"14px",height:"14px"}}),"Gérer les questions"]})]}),e.jsxs(w.Body,{className:"p-0",children:[e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{className:`mb-0 ${o==="dark"?"table-dark":""}`,children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Question"}),e.jsx("th",{className:"text-center",children:"Type"}),e.jsx("th",{className:"text-center",children:"Points"}),e.jsx("th",{className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:l.questions.slice(0,5).map((V,P)=>e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsxs("div",{className:`${o==="dark"?"text-light":"text-dark"}`,children:[e.jsxs("strong",{children:["#",P+1]})," - ",V.enonce.substring(0,80),V.enonce.length>80&&"..."]}),e.jsx("small",{className:"text-muted",children:V.matricule})]}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:V.type==="QCM"?"info":"success",className:"px-2 py-1",children:V.type})}),e.jsx("td",{className:"text-center",children:e.jsxs(oe,{bg:"primary",className:"px-2 py-1",children:[V.points," pts"]})}),e.jsx("td",{className:"text-center",children:e.jsx($,{size:"sm",variant:"outline-info",as:xe,to:`/formateur/show/question/${V.id}`,children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})})})]},V.id))})]})}),l.questions.length>5&&e.jsx(w.Footer,{className:"text-center",children:e.jsxs($,{variant:"outline-primary",as:xe,to:`/formateur/evaluation/${s}/questions`,children:["Voir toutes les questions (",l.questions.length,")"]})})]})]})]}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"20px",height:"20px"}}),"Actions rapides"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"success",as:xe,to:`/formateur/view/question/by-evaluation/${s}`,children:[e.jsx("i",{"data-feather":"help-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Gérer les questions"]}),e.jsxs($,{variant:"info",as:xe,to:`/formateur/evaluation/${s}/resultats`,children:[e.jsx("i",{"data-feather":"bar-chart-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Voir les résultats"]}),e.jsxs($,{variant:"info",as:xe,to:`/formateur/answers/evaluation/${l.matricule}`,children:[e.jsx("i",{"data-feather":"bar-chart-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Voir les résultats par etudiant"]}),e.jsxs($,{variant:"outline-primary",onClick:()=>_(!0),children:[e.jsx("i",{"data-feather":"refresh-cw",className:"me-2",style:{width:"16px",height:"16px"}}),"Changer le statut"]}),e.jsxs($,{variant:"warning",as:xe,to:`/formateur/edit/evaluation/${s}`,children:[e.jsx("i",{"data-feather":"edit",className:"me-2",style:{width:"16px",height:"16px"}}),"Modifier l'évaluation"]}),e.jsxs($,{variant:"outline-secondary",as:xe,to:"/formateur/view/evaluations",children:[e.jsx("i",{"data-feather":"list",className:"me-2",style:{width:"16px",height:"16px"}}),"Toutes les évaluations"]})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"bar-chart-2",className:"me-2",style:{width:"20px",height:"20px"}}),"Statistiques"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("div",{className:"text-primary mb-2",children:e.jsx("i",{"data-feather":"help-circle",style:{width:"32px",height:"32px"}})}),e.jsx("h4",{className:"text-primary mb-0",children:l.questions_count}),e.jsx("small",{className:o==="dark"?"text-light":"text-muted",children:"Question(s)"})]}),l.total_points>0&&e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("div",{className:"text-success mb-2",children:e.jsx("i",{"data-feather":"award",style:{width:"24px",height:"24px"}})}),e.jsx("h5",{className:"text-success mb-0",children:l.total_points}),e.jsx("small",{className:o==="dark"?"text-light":"text-muted",children:"Point(s) total"})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Progression :"}),e.jsx("span",{className:o==="dark"?"text-light":"text-dark",children:e.jsx(Zt,{now:U(),variant:"info",style:{width:"80px",height:"8px"},className:"d-inline-block"})})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Créée il y a :"}),e.jsxs("span",{className:o==="dark"?"text-light":"text-dark",children:[Math.ceil((new Date-new Date(l.created_at))/(1e3*60*60*24))," jour(s)"]})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"État :"}),e.jsx(oe,{bg:I(l.etat_temporel),children:l.etat_temporel})]})]})]})]}),l.matiere&&e.jsxs(w,{className:`border-0 shadow-sm ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"20px",height:"20px"}}),"Matière & Classe"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("i",{"data-feather":"book",className:"me-2 text-success",style:{width:"18px",height:"18px"}}),e.jsx("strong",{className:o==="dark"?"text-light":"text-dark",children:l.matiere.nom})]}),l.matiere.description&&e.jsx("p",{className:"small text-muted mb-2",children:l.matiere.description}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsxs("small",{className:"text-muted",children:["Coefficient: ",l.matiere.coefficient||1]}),e.jsx(oe,{bg:"success",className:"small",children:l.matiere.status})]})]}),l.matiere.classroom&&e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("i",{"data-feather":"home",className:"me-2 text-primary",style:{width:"18px",height:"18px"}}),e.jsx("strong",{className:o==="dark"?"text-light":"text-dark",children:l.matiere.classroom.name})]}),l.matiere.classroom.description&&e.jsx("p",{className:"small text-muted mb-2",children:l.matiere.classroom.description}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsx("small",{className:"text-muted",children:l.matiere.classroom.matricule}),e.jsx(oe,{bg:l.matiere.classroom.status==="Open"?"success":"danger",className:"small",children:l.matiere.classroom.status==="Open"?"Ouverte":"Fermée"})]})]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:"outline-success",size:"sm",as:xe,to:`/formateur/view/cours/matiere/${l.matiere.matricule}`,children:[e.jsx("i",{"data-feather":"book-open",className:"me-1",style:{width:"14px",height:"14px"}}),"Voir cours"]}),e.jsxs($,{variant:"outline-primary",size:"sm",as:xe,to:`/formateur/show/classroom/${l.matiere.classroom?.id}`,children:[e.jsx("i",{"data-feather":"home",className:"me-1",style:{width:"14px",height:"14px"}}),"Voir classe"]})]})]})]})]})]}),e.jsxs(Y,{show:C,onHide:()=>_(!1),centered:!0,contentClassName:o==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:o==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Changer le statut de l'évaluation"})}),e.jsxs(Y.Body,{className:o==="dark"?"bg-dark text-light":"",children:[e.jsxs("p",{children:["Vous allez changer le statut de l'évaluation ",e.jsxs("strong",{children:['"',l.titre,'"']}),"."]}),e.jsxs("div",{className:"alert alert-info",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"16px",height:"16px"}}),"Le nouveau statut sera déterminé automatiquement en fonction de l'état actuel et de la logique métier."]})]}),e.jsxs(Y.Footer,{className:o==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>_(!1),children:"Annuler"}),e.jsxs($,{variant:"primary",onClick:M,children:[e.jsx("i",{"data-feather":"refresh-cw",className:"me-2",style:{width:"16px",height:"16px"}}),"Confirmer le changement"]})]})]}),e.jsxs(Y,{show:v,onHide:()=>S(!1),centered:!0,contentClassName:o==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:o==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsxs(Y.Title,{children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2 text-danger",style:{width:"20px",height:"20px"}}),"Supprimer l'évaluation"]})}),e.jsxs(Y.Body,{className:o==="dark"?"bg-dark text-light":"",children:[e.jsxs("p",{children:["Êtes-vous sûr de vouloir supprimer définitivement l'évaluation ",e.jsxs("strong",{children:['"',l.titre,'"']})," ?"]}),e.jsxs("div",{className:"alert alert-danger",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),e.jsx("strong",{children:"Attention :"})," Cette action est irréversible.",l.questions_count>0&&e.jsxs("span",{children:[" Cette évaluation contient ",l.questions_count," question(s) qui seront également supprimée(s)."]})]})]}),e.jsxs(Y.Footer,{className:o==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>S(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:L,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer définitivement"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:d,onClose:()=>f(!1),delay:3e3,autohide:!0,bg:y==="success"?"success":"danger",className:o==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${y==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":y==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:o==="dark"?"bg-dark text-light":"",children:p})]})})]})}function HEe(){const{evaluationId:s}=is(),[t,a]=x.useState(!0),[r,n]=x.useState("light"),[i,l]=x.useState(null),[c,o]=x.useState([]),[u,d]=x.useState({}),[f,p]=x.useState(!1),[j,y]=x.useState(null);x.useEffect(()=>{const C=document.documentElement.getAttribute("data-theme")||"light";n(C);const _=new MutationObserver(()=>{const A=document.documentElement.getAttribute("data-theme")||"light";n(A)});return _.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>_.disconnect()},[]);const k=x.useCallback(async()=>{try{a(!0);const C=await he.get(`/formateur/evaluation/${s}/resultats`);l(C.data.evaluation),o(C.data.resultats||[]),d(C.data.statistiques||{})}catch(C){console.error("Erreur lors du chargement des résultats:",C)}finally{a(!1)}},[s]);x.useEffect(()=>{s&&k()},[k]),x.useEffect(()=>{We.replace()},[c]);const v=C=>C>=80?"success":C>=60?"warning":"danger",S=C=>{y(C),p(!0)};return t?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des résultats..."})]})}):i?e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:`/formateur/show/evaluation/${s}`,className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsxs("div",{children:[e.jsx("h1",{className:`h3 mb-0 ${r==="dark"?"text-light":"text-dark"}`,children:"Résultats de l'évaluation"}),e.jsxs("p",{className:`mb-0 ${r==="dark"?"text-light":"text-muted"}`,children:[i.titre," - ",c.length," participant(s)"]})]})]})}),e.jsx("div",{className:"d-flex gap-2",children:e.jsxs($,{variant:"outline-info",as:xe,to:`/formateur/evaluation/${s}/questions`,children:[e.jsx("i",{"data-feather":"help-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Questions"]})})]}),e.jsx(w,{className:`border-0 shadow-sm mb-4 ${r==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{children:e.jsxs(pe,{className:"align-items-center",children:[e.jsx(T,{md:8,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:`me-3 p-2 rounded-circle ${r==="dark"?"bg-success bg-opacity-25":"bg-success bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"bar-chart-2",className:"text-success",style:{width:"20px",height:"20px"}})}),e.jsxs("div",{children:[e.jsx("h5",{className:`mb-1 ${r==="dark"?"text-light":"text-dark"}`,children:i.titre}),e.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[e.jsx("small",{className:"text-muted",children:i.matricule}),e.jsx(oe,{bg:"success",children:i.status}),e.jsx("small",{className:"text-muted",children:"•"}),e.jsxs("small",{className:r==="dark"?"text-light":"text-muted",children:[e.jsx("i",{"data-feather":"users",className:"me-1",style:{width:"12px",height:"12px"}}),i.matiere?.classroom?.name]})]})]})]})}),e.jsx(T,{md:4,children:e.jsxs("div",{className:"text-end",children:[e.jsxs("div",{className:`h4 mb-0 ${r==="dark"?"text-light":"text-dark"}`,children:[i.questions_count," questions"]}),e.jsxs("small",{className:r==="dark"?"text-light":"text-muted",children:[i.total_points," points total"]})]})})]})})}),Object.keys(u).length>0&&e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${r==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${r==="dark"?"text-light":"text-dark"}`,children:u.nombre_participants||0}),e.jsx("small",{className:r==="dark"?"text-light":"text-muted",children:"Participants"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"users",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${r==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"mb-0 text-info",children:[u.moyenne?u.moyenne.toFixed(1):0,"%"]}),e.jsx("small",{className:r==="dark"?"text-light":"text-muted",children:"Moyenne"})]}),e.jsx("div",{className:"text-info",children:e.jsx("i",{"data-feather":"trending-up",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${r==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"mb-0 text-success",children:[u.meilleur_score?u.meilleur_score.toFixed(1):0,"%"]}),e.jsx("small",{className:r==="dark"?"text-light":"text-muted",children:"Meilleur score"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"award",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${r==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"mb-0 text-warning",children:[u.plus_faible_score?u.plus_faible_score.toFixed(1):0,"%"]}),e.jsx("small",{className:r==="dark"?"text-light":"text-muted",children:"Plus faible score"})]}),e.jsx("div",{className:"text-warning",children:e.jsx("i",{"data-feather":"trending-down",style:{width:"24px",height:"24px"}})})]})})})})]}),e.jsxs(w,{className:`shadow-sm border-0 ${r==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${r==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"users",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${r==="dark"?"text-light":"text-dark"}`,children:"Classement des étudiants"})]}),e.jsxs(oe,{bg:"info",className:"px-3 py-2",children:[c.length," résultat(s)"]})]})}),e.jsx(w.Body,{className:`p-0 ${r==="dark"?"bg-dark":"bg-white"}`,children:c.length>0?e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`align-middle mb-0 ${r==="dark"?"table-dark":""}`,children:[e.jsx("thead",{className:"table-primary",children:e.jsxs("tr",{children:[e.jsx("th",{width:"80",className:"text-center",children:"Rang"}),e.jsx("th",{children:"Étudiant"}),e.jsx("th",{className:"text-center",children:"Score"}),e.jsx("th",{className:"text-center",children:"Progression"}),e.jsx("th",{className:"text-center",children:"Questions"}),e.jsx("th",{className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:c.map((C,_)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-center",children:e.jsx("div",{className:`d-inline-flex align-items-center justify-content-center rounded-circle ${_<3?"text-white":"text-primary bg-primary bg-opacity-10"}`,style:{width:"35px",height:"35px",backgroundColor:_===0?"#ffd700":_===1?"#c0c0c0":_===2?"#cd7f32":"transparent"},children:e.jsxs("strong",{children:["#",_+1]})})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:`me-2 p-2 rounded-circle ${r==="dark"?"bg-info bg-opacity-25":"bg-info bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"user",className:"text-info",style:{width:"16px",height:"16px"}})}),e.jsxs("div",{children:[e.jsx("div",{className:`fw-medium ${r==="dark"?"text-light":"text-dark"}`,children:C.etudiant?.name||"Étudiant inconnu"}),e.jsx("small",{className:"text-muted",children:C.etudiant?.matricule||"N/A"})]})]})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{children:[e.jsxs(oe,{bg:v(C.pourcentage),className:"px-3 py-2 mb-1",children:[C.pourcentage.toFixed(1),"%"]}),e.jsxs("div",{className:"small text-muted",children:[C.points_obtenus,"/",C.total_points," pts"]})]})}),e.jsx("td",{className:"text-center",children:e.jsx("div",{style:{width:"100px"},children:e.jsx(Zt,{now:C.pourcentage,variant:v(C.pourcentage),style:{height:"8px"}})})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{className:"small",children:[e.jsxs(oe,{bg:"primary",className:"mb-1",children:[C.questions_repondues,"/",C.total_questions]}),e.jsx("div",{className:"text-muted",children:"Questions"})]})}),e.jsx("td",{className:"text-center",children:e.jsx($,{variant:"outline-info",size:"sm",onClick:()=>S(C),title:"Voir le détail",children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})})})]},C.etudiant?.matricule||_))})]})}):e.jsx("div",{className:"text-center py-5",children:e.jsxs("div",{className:`${r==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"users",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucun résultat"}),e.jsx("p",{className:"small mb-0",children:"Aucun étudiant n'a encore participé à cette évaluation."})]})]})})})]}),e.jsxs(Y,{show:f,onHide:()=>p(!1),centered:!0,size:"lg",contentClassName:r==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:r==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsxs(Y.Title,{children:["Détail des réponses - ",j?.etudiant?.name]})}),e.jsx(Y.Body,{className:r==="dark"?"bg-dark text-light":"",children:j&&e.jsxs("div",{children:[e.jsx(w,{className:`mb-4 ${r==="dark"?"bg-secondary":"bg-light"}`,children:e.jsx(w.Body,{children:e.jsxs(pe,{className:"text-center",children:[e.jsx(T,{md:3,children:e.jsxs("div",{className:"mb-2",children:[e.jsxs("h4",{className:"text-primary mb-0",children:[j.pourcentage.toFixed(1),"%"]}),e.jsx("small",{className:r==="dark"?"text-light":"text-muted",children:"Score"})]})}),e.jsx(T,{md:3,children:e.jsxs("div",{className:"mb-2",children:[e.jsx("h4",{className:"text-success mb-0",children:j.points_obtenus}),e.jsx("small",{className:r==="dark"?"text-light":"text-muted",children:"Points obtenus"})]})}),e.jsx(T,{md:3,children:e.jsxs("div",{className:"mb-2",children:[e.jsx("h4",{className:"text-info mb-0",children:j.questions_repondues}),e.jsx("small",{className:r==="dark"?"text-light":"text-muted",children:"Questions répondues"})]})}),e.jsx(T,{md:3,children:e.jsxs("div",{className:"mb-2",children:[e.jsx("h4",{className:"text-warning mb-0",children:j.total_points}),e.jsx("small",{className:r==="dark"?"text-light":"text-muted",children:"Points total"})]})})]})})}),e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{className:`${r==="dark"?"table-dark":""}`,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{width:"60",children:"#"}),e.jsx("th",{children:"Question"}),e.jsx("th",{className:"text-center",children:"Type"}),e.jsx("th",{className:"text-center",children:"Points"}),e.jsx("th",{className:"text-center",children:"Statut"})]})}),e.jsx("tbody",{children:j.reponses?.map((C,_)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:"secondary",children:_+1})}),e.jsx("td",{children:e.jsxs("div",{className:`small ${r==="dark"?"text-light":"text-dark"}`,children:[C.question.enonce.substring(0,80),C.question.enonce.length>80&&"..."]})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:C.question.type==="QCM"?"info":"success",children:C.question.type})}),e.jsx("td",{className:"text-center",children:e.jsxs(oe,{bg:"primary",children:[C.points_obtenus,"/",C.question.points]})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:C.points_obtenus>0?"success":"danger",children:C.points_obtenus>0?"Correct":"Incorrect"})})]},_))})]})})]})}),e.jsx(Y.Footer,{className:r==="dark"?"bg-dark text-light border-secondary":"",children:e.jsx($,{variant:"secondary",onClick:()=>p(!1),children:"Fermer"})})]})]})}):e.jsxs(et,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),"Évaluation introuvable"]}),e.jsxs($,{variant:"secondary",as:xe,to:"/formateur/view/evaluations",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]})]})}function UEe(){const[s,t]=x.useState(!0),[a,r]=x.useState("light"),[n,i]=x.useState({}),[l,c]=x.useState([]),[o,u]=x.useState([]),[d,f]=x.useState([]);x.useEffect(()=>{const S=document.documentElement.getAttribute("data-theme")||"light";r(S);const C=new MutationObserver(()=>{const _=document.documentElement.getAttribute("data-theme")||"light";r(_)});return C.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>C.disconnect()},[]);const p=x.useCallback(async()=>{try{t(!0);const S=await he.get("/formateur/evaluations/statistics");i(S.data.statistics||{});const _=(await he.get("/formateur/view/evaluations")).data.evaluations||[],A=new Date,D=_.filter(F=>F.etat_temporel==="En cours"),M=_.filter(F=>F.etat_temporel==="Future").slice(0,5),L=_.slice(0,8);u(D),f(M),c(L)}catch(S){console.error("Erreur lors du chargement du dashboard:",S)}finally{t(!1)}},[]);x.useEffect(()=>{p()},[p]),x.useEffect(()=>{We.replace()},[n,l]);const j=S=>{switch(S){case"Programmée":return"primary";case"Brouillon":return"warning";case"Terminée":return"success";case"Annulée":return"danger";default:return"secondary"}},y=S=>{switch(S){case"Programmée":return"calendar";case"Brouillon":return"edit-3";case"Terminée":return"check-circle";case"Annulée":return"x-circle";default:return"help-circle"}},k=S=>{switch(S){case"En cours":return"success";case"Future":return"info";case"Passée":return"secondary";default:return"secondary"}},v=S=>S?new Date(S).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Non définie";return s?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Chargement..."})}),e.jsx("p",{className:"mt-2",children:"Chargement du tableau de bord..."})]})}):e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${a==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"bar-chart-2",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${a==="dark"?"text-light":"text-dark"}`,children:"Tableau de bord des évaluations"}),e.jsx("p",{className:`mb-0 ${a==="dark"?"text-light":"text-muted"}`,children:"Vue d'ensemble de vos évaluations et statistiques"})]})]}),e.jsx("div",{className:"d-flex gap-2",children:e.jsxs($,{variant:"primary",as:xe,to:"/formateur/view/evaluations",children:[e.jsx("i",{"data-feather":"list",className:"me-2",style:{width:"16px",height:"16px"}}),"Voir toutes les évaluations"]})})]}),o.length>0&&e.jsx(lt,{variant:"info",className:"mb-4",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"clock",className:"me-2",style:{width:"20px",height:"20px"}}),e.jsx("strong",{children:"Évaluations en cours : "}),e.jsx("span",{className:"ms-2",children:o.map((S,C)=>e.jsxs("span",{children:[e.jsx(xe,{to:`/formateur/show/evaluation/${S.id}`,className:"text-decoration-none",children:S.titre}),C<o.length-1&&", "]},S.id))})]})}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:n.total_evaluations||0}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Total évaluations"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"clipboard",style:{width:"32px",height:"32px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:n.terminee_evaluations||0}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Terminées"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"check-circle",style:{width:"32px",height:"32px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-primary",children:n.programmee_evaluations||0}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Programmées"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"calendar",style:{width:"32px",height:"32px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-warning",children:n.brouillon_evaluations||0}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Brouillons"})]}),e.jsx("div",{className:"text-warning",children:e.jsx("i",{"data-feather":"edit-3",style:{width:"32px",height:"32px"}})})]})})})})]}),e.jsxs(pe,{children:[e.jsx(T,{lg:6,children:e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"calendar",className:"text-info me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:"Prochaines évaluations"})]}),e.jsx(oe,{bg:"info",className:"px-3 py-2",children:d.length})]})}),e.jsx(w.Body,{className:`p-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:d.length>0?e.jsx("div",{className:"table-responsive",children:e.jsx(Et,{hover:!0,className:`align-middle mb-0 ${a==="dark"?"table-dark":""}`,children:e.jsx("tbody",{children:d.map(S=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{className:`fw-medium ${a==="dark"?"text-light":"text-dark"}`,children:e.jsx(xe,{to:`/formateur/show/evaluation/${S.id}`,className:"text-decoration-none",children:S.titre})}),e.jsxs("small",{className:"text-muted",children:[S.matiere?.classroom?.name," - ",S.matiere?.nom]})]})}),e.jsxs("td",{className:"text-end",children:[e.jsx("div",{className:"small text-muted",children:v(S.date_debut)}),e.jsx(oe,{bg:k(S.etat_temporel),className:"small",children:S.etat_temporel})]})]},S.id))})})}):e.jsx("div",{className:"text-center py-4",children:e.jsxs("div",{className:`${a==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"mb-2",style:{width:"32px",height:"32px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucune évaluation prochaine"}),e.jsx("p",{className:"small mb-0",children:"Toutes vos évaluations sont à jour"})]})]})})}),d.length>0&&e.jsx(w.Footer,{className:"text-center",children:e.jsx($,{variant:"outline-info",size:"sm",as:xe,to:"/formateur/view/evaluations?status=Programmée",children:"Voir toutes les évaluations programmées"})})]})}),e.jsx(T,{lg:6,children:e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"clock",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:"Évaluations récentes"})]}),e.jsx(oe,{bg:"primary",className:"px-3 py-2",children:l.length})]})}),e.jsx(w.Body,{className:`p-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:l.length>0?e.jsx("div",{className:"table-responsive",children:e.jsx(Et,{hover:!0,className:`align-middle mb-0 ${a==="dark"?"table-dark":""}`,children:e.jsx("tbody",{children:l.map(S=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{className:`fw-medium ${a==="dark"?"text-light":"text-dark"}`,children:e.jsx(xe,{to:`/formateur/show/evaluation/${S.id}`,className:"text-decoration-none",children:S.titre})}),e.jsxs("small",{className:"text-muted",children:[S.questions_count," questions - ",S.total_points||0," pts"]})]})}),e.jsxs("td",{className:"text-end",children:[e.jsxs(oe,{bg:j(S.status),className:"mb-1",children:[e.jsx("i",{"data-feather":y(S.status),className:"me-1",style:{width:"10px",height:"10px"}}),S.status]}),e.jsx("div",{className:"small text-muted",children:v(S.created_at)})]})]},S.id))})})}):e.jsx("div",{className:"text-center py-4",children:e.jsxs("div",{className:`${a==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"clipboard",className:"mb-2",style:{width:"32px",height:"32px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucune évaluation"}),e.jsx("p",{className:"small mb-3",children:"Commencez par créer votre première évaluation"}),e.jsxs($,{variant:"primary",size:"sm",as:xe,to:"/formateur/view/evaluations",children:[e.jsx("i",{"data-feather":"plus",className:"me-1",style:{width:"14px",height:"14px"}}),"Créer une évaluation"]})]})]})})}),l.length>0&&e.jsx(w.Footer,{className:"text-center",children:e.jsx($,{variant:"outline-primary",size:"sm",as:xe,to:"/formateur/view/evaluations",children:"Voir toutes les évaluations"})})]})})]}),n.evaluations_par_matiere&&n.evaluations_par_matiere.length>0&&e.jsxs(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"trending-up",className:"text-success me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:"Top 5 des matières"}),e.jsx("small",{className:`ms-2 ${a==="dark"?"text-light":"text-muted"}`,children:"(par nombre d'évaluations)"})]})}),e.jsx(w.Body,{children:e.jsx(pe,{children:n.evaluations_par_matiere.slice(0,5).map((S,C)=>e.jsx(T,{md:6,lg:4,className:"mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:`me-3 p-2 rounded-circle ${C===0?"bg-warning":C===1?"bg-info":"bg-secondary"} bg-opacity-10`,children:e.jsx("i",{"data-feather":"award",className:`${C===0?"text-warning":C===1?"text-info":"text-secondary"}`,style:{width:"16px",height:"16px"}})}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("div",{className:`fw-medium ${a==="dark"?"text-light":"text-dark"}`,children:S.matiere?.nom||"Matière inconnue"}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("small",{className:"text-muted",children:S.matiere?.classroom?.name||"Classe inconnue"}),e.jsx(oe,{bg:"primary",children:S.total})]}),e.jsx(Zt,{now:S.total/n.total_evaluations*100,style:{height:"4px"},className:"mt-1",variant:C===0?"warning":C===1?"info":"secondary"})]})]})},S.matricule_matiere))})})]})]})})}function qEe(){const[s,t]=x.useState([]),[a,r]=x.useState({}),[n,i]=x.useState([]),[l,c]=x.useState([]),[o,u]=x.useState([]),[d,f]=x.useState("grouped"),[p,j]=x.useState(""),[y,k]=x.useState(""),[v,S]=x.useState(""),[C,_]=x.useState(""),[A,D]=x.useState(""),[M,L]=x.useState(""),[F,Q]=x.useState(!1),[I,H]=x.useState(!1),[z,K]=x.useState(!1),[U,V]=x.useState(null),[P,q]=x.useState(null),[G,se]=x.useState({}),[O,W]=x.useState(!1),[Z,te]=x.useState(""),[ie,fe]=x.useState("success"),[J,ge]=x.useState({enonce:"",type:"QCM",matricule_classroom:"",matricule_matiere:"",matricule_evaluation:"",choix_a:"",choix_b:"",choix_c:"",bonne_reponse_general:"",points:1,explication:"",image:null}),[re,ve]=x.useState([]),[Oe,ee]=x.useState([]),[me,Xe]=x.useState({matricule_evaluation:""}),[Se,ae]=x.useState({}),[ye,st]=x.useState("light"),[He,ke]=x.useState({});x.useEffect(()=>{const Ie=document.documentElement.getAttribute("data-theme")||"light";st(Ie);const wt=new MutationObserver(()=>{const Gs=document.documentElement.getAttribute("data-theme")||"light";st(Gs)});return wt.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>wt.disconnect()},[]);const we=(Ie,wt="success")=>{te(Ie),fe(wt),W(!0)},Ke=x.useCallback(async()=>{try{const Ie={};p.trim()&&(Ie.search=p.trim()),y&&(Ie.created_at=y),v&&(Ie.type=v),C&&(Ie.matricule_classroom=C),A&&(Ie.matricule_matiere=A),M&&(Ie.matricule_evaluation=M);const wt=await he.get("/formateur/view/questions",{params:Ie});t(wt.data.questions||[]),r(wt.data.questions_groupees||{}),i(wt.data.classrooms||[]),c(wt.data.matieres||[]),u(wt.data.evaluations||[])}catch(Ie){console.error("Erreur lors de la récupération des questions",Ie),we("Erreur lors de la récupération des données","danger")}},[p,y,v,C,A,M]),Ee=x.useCallback(async()=>{try{const Ie=await he.get("/formateur/questions/statistics");ae(Ie.data.statistics||{})}catch(Ie){console.error("Erreur lors de la récupération des statistiques",Ie)}},[]),je=x.useCallback(async Ie=>{if(!Ie){ve([]);return}try{const wt=await he.get(`/formateur/questions/matieres/${Ie}`);ve(wt.data.matieres||[])}catch(wt){console.error("Erreur lors de la récupération des matières",wt),ve([])}},[]),Ve=x.useCallback(async Ie=>{if(!Ie){ee([]);return}try{const wt=await he.get(`/formateur/questions/evaluations/${Ie}`);ee(wt.data.evaluations||[])}catch(wt){console.error("Erreur lors de la récupération des évaluations",wt),ee([])}},[]);x.useEffect(()=>{We.replace(),Ke(),Ee()},[Ke,Ee]),x.useEffect(()=>{We.replace()},[s,d]);const Nt=Ie=>{ge({...J,matricule_classroom:Ie,matricule_matiere:"",matricule_evaluation:""}),je(Ie),ee([])},nt=Ie=>{ge({...J,matricule_matiere:Ie,matricule_evaluation:""}),Ve(Ie)},It=async Ie=>{Ie.preventDefault(),se({});try{const wt=new FormData;wt.append("enonce",J.enonce),wt.append("type",J.type),wt.append("matricule_evaluation",J.matricule_evaluation),wt.append("points",J.points),wt.append("bonne_reponse_general",J.bonne_reponse_general),J.type==="QCM"&&(wt.append("choix_a",J.choix_a),wt.append("choix_b",J.choix_b),wt.append("choix_c",J.choix_c)),J.explication&&wt.append("explication",J.explication),J.image&&wt.append("image",J.image),await he.post("/formateur/store/question",wt,{headers:{"Content-Type":"multipart/form-data"}}),Ke(),Ee(),Q(!1),ps(),we("Question ajoutée avec succès","success")}catch(wt){wt.response?.status===422?(se(wt.response.data.errors||{}),we("Erreur de validation","danger")):(console.error(wt),we("Une erreur inattendue s'est produite","danger"))}},ps=()=>{ge({enonce:"",type:"QCM",matricule_classroom:"",matricule_matiere:"",matricule_evaluation:"",choix_a:"",choix_b:"",choix_c:"",bonne_reponse_general:"",points:1,explication:"",image:null}),ve([]),ee([])},le=Ie=>{V(Ie),H(!0)},Ae=async()=>{try{await he.delete(`/formateur/destroy/question/${U}`),Ke(),Ee(),H(!1),V(null),we("Question supprimée avec succès","success")}catch(Ie){console.error(Ie),we(Ie.response?.data?.message||"Erreur lors de la suppression","danger")}},Le=Ie=>{q(Ie),Xe({matricule_evaluation:""}),K(!0)},rt=async()=>{try{await he.post(`/formateur/duplicate/question/${P.id}`,me),Ke(),Ee(),K(!1),q(null),we("Question dupliquée avec succès","success")}catch(Ie){console.error(Ie),we("Erreur lors de la duplication","danger")}},ot=Ie=>{ke(wt=>({...wt,[Ie]:!wt[Ie]}))},hs=Ie=>{switch(Ie){case"QCM":return"primary";case"Réponse_libre":return"success";default:return"secondary"}},Zs=Ie=>{switch(Ie){case"QCM":return"check-square";case"Réponse_libre":return"edit-3";default:return"help-circle"}},Kn=async Ie=>{Ie.preventDefault();try{const wt=new URLSearchParams;p.trim()&&wt.append("search",p.trim()),y&&wt.append("created_at",y),v&&wt.append("type",v),C&&wt.append("matricule_classroom",C),A&&wt.append("matricule_matiere",A),M&&wt.append("matricule_evaluation",M);const Gs=await he.get(`/formateur/export/questions/pdf?${wt.toString()}`,{responseType:"blob"}),ur=`questions_${new Date().toISOString().slice(0,10)}.pdf`;Ea(Gs.data,ur),we("Le rapport PDF est en cours de téléchargement","success")}catch(wt){console.error("Erreur de téléchargement PDF:",wt),we("Échec du téléchargement PDF","danger")}},Ni=async Ie=>{Ie.preventDefault();try{const wt=new URLSearchParams;p.trim()&&wt.append("search",p.trim()),y&&wt.append("created_at",y),v&&wt.append("type",v),C&&wt.append("matricule_classroom",C),A&&wt.append("matricule_matiere",A),M&&wt.append("matricule_evaluation",M);const Gs=await he.get(`/formateur/export/questions/excel?${wt.toString()}`,{responseType:"blob"}),ur=`questions_${new Date().toISOString().slice(0,10)}.xlsx`;Ea(Gs.data,ur),we("Le fichier Excel est en cours de téléchargement","success")}catch(wt){console.error("Erreur de téléchargement Excel:",wt),we("Échec du téléchargement Excel","danger")}},Ld=()=>Object.keys(a).length===0?e.jsx("div",{className:"text-center py-5",children:e.jsxs("div",{className:`${ye==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"help-circle",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucune question trouvée"}),e.jsx("p",{className:"small mb-0",children:"Aucune question ne correspond à vos critères de recherche."})]})]})}):e.jsx("div",{className:"questions-groups",children:Object.entries(a).map(([Ie,wt])=>e.jsxs(w,{className:`mb-4 border-0 shadow-sm ${ye==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`${ye==="dark"?"bg-dark border-secondary":"bg-light"} cursor-pointer`,onClick:()=>ot(`classe-${Ie}`),children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"home",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("h5",{className:`mb-0 ${ye==="dark"?"text-light":"text-dark"}`,children:Ie}),e.jsxs(oe,{bg:"info",className:"ms-3",children:[Object.values(wt.matieres).reduce((Gs,ur)=>Gs+Object.values(ur.evaluations).reduce((Fa,nn)=>Fa+nn.questions.length,0),0)," questions"]})]}),e.jsx("i",{"data-feather":He[`classe-${Ie}`]?"chevron-up":"chevron-down",className:`${ye==="dark"?"text-light":"text-muted"}`,style:{width:"20px",height:"20px"}})]})}),e.jsx(Oa,{in:He[`classe-${Ie}`]!==!1,children:e.jsx(w.Body,{className:ye==="dark"?"bg-dark":"",children:Object.entries(wt.matieres).map(([Gs,ur])=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:`d-flex align-items-center mb-3 p-2 rounded cursor-pointer ${ye==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,onClick:()=>ot(`matiere-${Ie}-${Gs}`),children:[e.jsx("i",{"data-feather":"book",className:"text-success me-2",style:{width:"18px",height:"18px"}}),e.jsx("h6",{className:`mb-0 ${ye==="dark"?"text-light":"text-dark"}`,children:Gs}),e.jsxs(oe,{bg:"success",className:"ms-2",children:[Object.values(ur.evaluations).reduce((Fa,nn)=>Fa+nn.questions.length,0)," questions"]}),e.jsx("i",{"data-feather":He[`matiere-${Ie}-${Gs}`]?"chevron-up":"chevron-down",className:`ms-auto ${ye==="dark"?"text-light":"text-muted"}`,style:{width:"16px",height:"16px"}})]}),e.jsx(Oa,{in:He[`matiere-${Ie}-${Gs}`]!==!1,children:e.jsx("div",{children:Object.entries(ur.evaluations).map(([Fa,nn])=>e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center mb-2 p-2 rounded cursor-pointer bg-info bg-opacity-10",onClick:()=>ot(`eval-${Ie}-${Gs}-${Fa}`),children:[e.jsx("i",{"data-feather":"clipboard",className:"text-info me-2",style:{width:"16px",height:"16px"}}),e.jsx("span",{className:`fw-semibold ${ye==="dark"?"text-light":"text-dark"}`,children:Fa}),e.jsxs(oe,{bg:"info",className:"ms-2",children:[nn.questions.length," questions"]}),e.jsx("i",{"data-feather":He[`eval-${Ie}-${Gs}-${Fa}`]?"chevron-up":"chevron-down",className:`ms-auto ${ye==="dark"?"text-light":"text-muted"}`,style:{width:"14px",height:"14px"}})]}),e.jsx(Oa,{in:He[`eval-${Ie}-${Gs}-${Fa}`]!==!1,children:e.jsx(pe,{className:"g-3 ms-3",children:nn.questions.map(Rs=>e.jsx(T,{md:6,lg:4,children:e.jsx(w,{className:`h-100 border ${ye==="dark"?"bg-dark border-secondary":"bg-white"}`,children:e.jsxs(w.Body,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[e.jsxs(oe,{bg:hs(Rs.type),className:"mb-2",children:[e.jsx("i",{"data-feather":Zs(Rs.type),className:"me-1",style:{width:"12px",height:"12px"}}),Rs.type]}),e.jsxs(oe,{bg:"warning",className:"mb-2",children:[Rs.points," pts"]})]}),e.jsx("h6",{className:`${ye==="dark"?"text-light":"text-dark"} mb-2`,children:Rs.enonce.length>60?Rs.enonce.substring(0,60)+"...":Rs.enonce}),e.jsx("small",{className:"text-muted d-block mb-2",children:Rs.matricule}),Rs.type==="QCM"&&e.jsxs("div",{className:"mb-2",children:[e.jsxs("small",{className:`d-block ${ye==="dark"?"text-light":"text-muted"}`,children:["A: ",Rs.choix_a?.substring(0,30),"..."]}),e.jsxs("small",{className:`d-block ${ye==="dark"?"text-light":"text-muted"}`,children:["B: ",Rs.choix_b?.substring(0,30),"..."]}),e.jsxs("small",{className:`d-block ${ye==="dark"?"text-light":"text-muted"}`,children:["C: ",Rs.choix_c?.substring(0,30),"..."]})]}),e.jsxs("div",{className:"d-flex gap-1 mt-3",children:[e.jsx($,{size:"sm",variant:"outline-info",as:xe,to:`/formateur/show/question/${Rs.id}`,title:"Voir les détails",children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-warning",as:xe,to:`/formateur/edit/question/${Rs.id}`,title:"Modifier",children:e.jsx("i",{"data-feather":"edit",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-success",onClick:()=>Le(Rs),title:"Dupliquer",children:e.jsx("i",{"data-feather":"copy",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-danger",onClick:()=>le(Rs.id),title:"Supprimer",children:e.jsx("i",{"data-feather":"trash-2",style:{width:"14px",height:"14px"}})})]})]})})},Rs.id))})})]},Fa))})})]},Gs))})})]},Ie))}),oo=()=>e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`align-middle ${ye==="dark"?"table-dark":""}`,children:[e.jsx("thead",{className:"table-primary",children:e.jsxs("tr",{children:[e.jsxs("th",{children:[e.jsx("i",{"data-feather":"help-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Question"]}),e.jsxs("th",{className:"d-none d-md-table-cell",children:[e.jsx("i",{"data-feather":"layers",className:"me-2",style:{width:"16px",height:"16px"}}),"Contexte"]}),e.jsxs("th",{className:"d-none d-lg-table-cell text-center",children:[e.jsx("i",{"data-feather":"award",className:"me-2",style:{width:"16px",height:"16px"}}),"Points"]}),e.jsxs("th",{className:"d-none d-lg-table-cell text-center",children:[e.jsx("i",{"data-feather":"users",className:"me-2",style:{width:"16px",height:"16px"}}),"Réponses"]}),e.jsx("th",{className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:s.length?s.map(Ie=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{className:"d-flex align-items-center mb-2",children:e.jsxs(oe,{bg:hs(Ie.type),className:"me-2",children:[e.jsx("i",{"data-feather":Zs(Ie.type),className:"me-1",style:{width:"10px",height:"10px"}}),Ie.type]})}),e.jsx("div",{className:`fw-bold ${ye==="dark"?"text-light":"text-dark"}`,children:Ie.enonce.length>50?Ie.enonce.substring(0,50)+"...":Ie.enonce}),e.jsx("small",{className:"text-muted",children:Ie.matricule})]})}),e.jsx("td",{className:"d-none d-md-table-cell",children:e.jsxs("div",{children:[e.jsxs("div",{className:`small ${ye==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"home",className:"me-1",style:{width:"12px",height:"12px"}}),Ie.evaluation?.matiere?.classroom?.name||"Non définie"]}),e.jsxs("div",{className:"small text-success",children:[e.jsx("i",{"data-feather":"book",className:"me-1",style:{width:"12px",height:"12px"}}),Ie.evaluation?.matiere?.nom||"Non définie"]}),e.jsxs("div",{className:"small text-info",children:[e.jsx("i",{"data-feather":"clipboard",className:"me-1",style:{width:"12px",height:"12px"}}),Ie.evaluation?.titre||"Non définie"]})]})}),e.jsx("td",{className:"d-none d-lg-table-cell text-center",children:e.jsxs(oe,{bg:"warning",className:"px-3 py-2",children:[Ie.points," pts"]})}),e.jsx("td",{className:"d-none d-lg-table-cell text-center",children:e.jsx(oe,{bg:"secondary",className:"px-3 py-2",children:Ie.reponses_count||0})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{className:"d-flex gap-1 justify-content-center",children:[e.jsx($,{size:"sm",variant:"outline-info",as:xe,to:`/formateur/show/question/${Ie.id}`,title:"Voir les détails",children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-warning",as:xe,to:`/formateur/edit/question/${Ie.id}`,title:"Modifier",children:e.jsx("i",{"data-feather":"edit",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-success",onClick:()=>Le(Ie),title:"Dupliquer",children:e.jsx("i",{"data-feather":"copy",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-danger",onClick:()=>le(Ie.id),title:"Supprimer",children:e.jsx("i",{"data-feather":"trash-2",style:{width:"14px",height:"14px"}})})]})})]},Ie.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"text-center py-5",children:e.jsxs("div",{className:`${ye==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"help-circle",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucune question trouvée"}),e.jsx("p",{className:"small mb-0",children:"Aucune question ne correspond à vos critères de recherche."})]})]})})})})]})});return e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${ye==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"help-circle",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${ye==="dark"?"text-light":"text-dark"}`,children:"Gestion des Questions"}),e.jsx("p",{className:`mb-0 ${ye==="dark"?"text-light":"text-muted"}`,children:"Administration des questions par classe, matière et évaluation"})]})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${ye==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${ye==="dark"?"text-light":"text-dark"}`,children:Se.total_questions||s.length}),e.jsx("small",{className:ye==="dark"?"text-light":"text-muted",children:"Total"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"help-circle",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${ye==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-primary",children:Se.questions_qcm||s.filter(Ie=>Ie.type==="QCM").length}),e.jsx("small",{className:ye==="dark"?"text-light":"text-muted",children:"QCM"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"check-square",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${ye==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:Se.questions_libres||s.filter(Ie=>Ie.type==="Réponse_libre").length}),e.jsx("small",{className:ye==="dark"?"text-light":"text-muted",children:"Libres"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"edit-3",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${ye==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-info",children:n.length}),e.jsx("small",{className:ye==="dark"?"text-light":"text-muted",children:"Classes"})]}),e.jsx("div",{className:"text-info",children:e.jsx("i",{"data-feather":"home",style:{width:"24px",height:"24px"}})})]})})})})]})]}),e.jsxs(w,{className:`shadow-sm border-0 ${ye==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${ye==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"help-circle",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${ye==="dark"?"text-light":"text-dark"}`,children:"Questions"}),e.jsxs(Ga,{className:"ms-3",children:[e.jsx($,{variant:"outline-success",size:"sm",as:xe,to:"/formateur/questions/statistics",children:e.jsx("i",{"data-feather":"bar-chart-2",style:{width:"14px",height:"14px"}})}),e.jsx($,{variant:d==="grouped"?"primary":"outline-secondary",size:"sm",onClick:()=>f("grouped"),title:"Vue groupée",children:e.jsx("i",{"data-feather":"layers",style:{width:"14px",height:"14px"}})}),e.jsx($,{variant:d==="list"?"primary":"outline-secondary",size:"sm",onClick:()=>f("list"),title:"Vue liste",children:e.jsx("i",{"data-feather":"list",style:{width:"14px",height:"14px"}})})]})]}),e.jsxs("div",{className:"d-flex gap-2 mt-2 mt-md-0",children:[e.jsxs(at,{children:[e.jsxs(at.Toggle,{variant:"outline-primary",className:"d-flex align-items-center",id:"dropdown-export",children:[e.jsx("i",{"data-feather":"download",className:"me-2",style:{width:"16px",height:"16px"}}),"Exporter"]}),e.jsx(at.Menu,{className:"shadow-lg border-0",style:{minWidth:"300px"},children:e.jsxs("div",{className:"p-3",children:[e.jsxs("h6",{className:"text-primary mb-3",children:[e.jsx("i",{"data-feather":"file-text",className:"me-2",style:{width:"16px",height:"16px"}}),"Rapport PDF"]}),e.jsx(b,{onSubmit:Kn,className:"mb-3",children:e.jsxs($,{type:"submit",variant:"primary",className:"w-100",children:[e.jsx("i",{"data-feather":"file-text",className:"me-2",style:{width:"16px",height:"16px"}}),"Télécharger PDF"]})}),e.jsx("hr",{}),e.jsxs("h6",{className:"text-success mb-3",children:[e.jsx("i",{"data-feather":"file",className:"me-2",style:{width:"16px",height:"16px"}}),"Fichier Excel"]}),e.jsx(b,{onSubmit:Ni,children:e.jsxs($,{type:"submit",variant:"success",className:"w-100",children:[e.jsx("i",{"data-feather":"file",className:"me-2",style:{width:"16px",height:"16px"}}),"Télécharger Excel"]})})]})})]}),e.jsxs($,{variant:"success",className:"d-flex align-items-center",onClick:()=>Q(!0),children:[e.jsx("i",{"data-feather":"plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Nouvelle Question"]})]})]})}),e.jsxs(w.Body,{className:ye==="dark"?"bg-dark":"bg-white",children:[e.jsx("div",{className:"mb-4 p-3 rounded",style:{backgroundColor:ye==="dark"?"#1a1a1a":"#f8f9fa"},children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${ye==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"search",className:"me-1",style:{width:"14px",height:"14px"}}),"Recherche"]}),e.jsx(b.Control,{type:"text",placeholder:"Énoncé, matricule...",value:p,onChange:Ie=>j(Ie.target.value),className:ye==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${ye==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"home",className:"me-1",style:{width:"14px",height:"14px"}}),"Classe"]}),e.jsxs(b.Select,{value:C,onChange:Ie=>_(Ie.target.value),className:ye==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Toutes"}),n.map(Ie=>e.jsx("option",{value:Ie.matricule,children:Ie.name},Ie.matricule))]})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${ye==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"book",className:"me-1",style:{width:"14px",height:"14px"}}),"Matière"]}),e.jsxs(b.Select,{value:A,onChange:Ie=>D(Ie.target.value),className:ye==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Toutes"}),l.map(Ie=>e.jsx("option",{value:Ie.matricule,children:Ie.nom},Ie.matricule))]})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${ye==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"clipboard",className:"me-1",style:{width:"14px",height:"14px"}}),"Évaluation"]}),e.jsxs(b.Select,{value:M,onChange:Ie=>L(Ie.target.value),className:ye==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Toutes"}),o.map(Ie=>e.jsx("option",{value:Ie.matricule,children:Ie.titre},Ie.matricule))]})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${ye==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"type",className:"me-1",style:{width:"14px",height:"14px"}}),"Type"]}),e.jsxs(b.Select,{value:v,onChange:Ie=>S(Ie.target.value),className:ye==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous"}),e.jsx("option",{value:"QCM",children:"QCM"}),e.jsx("option",{value:"Réponse_libre",children:"Réponse libre"})]})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${ye==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"14px",height:"14px"}}),"Date"]}),e.jsx(b.Control,{type:"date",value:y,onChange:Ie=>k(Ie.target.value),className:ye==="dark"?"bg-dark text-light border-secondary":""})]})]})}),d==="grouped"?Ld():oo()]})]}),e.jsxs(Y,{show:F,onHide:()=>{Q(!1),ps()},centered:!0,size:"xl",contentClassName:ye==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:ye==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Créer une Question"})}),e.jsxs(b,{onSubmit:It,children:[e.jsx(Y.Body,{className:ye==="dark"?"bg-dark text-light":"",children:e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:4,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Classe *"}),e.jsxs(b.Select,{value:J.matricule_classroom,onChange:Ie=>Nt(Ie.target.value),isInvalid:!!G.matricule_classroom,className:ye==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionnez une classe"}),n.map(Ie=>e.jsx("option",{value:Ie.matricule,children:Ie.name},Ie.matricule))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:G.matricule_classroom})]})}),e.jsx(T,{md:4,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Matière *"}),e.jsxs(b.Select,{value:J.matricule_matiere,onChange:Ie=>nt(Ie.target.value),isInvalid:!!G.matricule_matiere,className:ye==="dark"?"bg-dark text-light border-secondary":"",required:!0,disabled:!J.matricule_classroom,children:[e.jsx("option",{value:"",children:J.matricule_classroom?"Sélectionnez une matière":"Choisissez d'abord une classe"}),re.map(Ie=>e.jsx("option",{value:Ie.matricule,children:Ie.nom},Ie.matricule))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:G.matricule_matiere})]})}),e.jsx(T,{md:4,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Évaluation *"}),e.jsxs(b.Select,{value:J.matricule_evaluation,onChange:Ie=>ge({...J,matricule_evaluation:Ie.target.value}),isInvalid:!!G.matricule_evaluation,className:ye==="dark"?"bg-dark text-light border-secondary":"",required:!0,disabled:!J.matricule_matiere,children:[e.jsx("option",{value:"",children:J.matricule_matiere?"Sélectionnez une évaluation":"Choisissez d'abord une matière"}),Oe.map(Ie=>e.jsx("option",{value:Ie.matricule,children:Ie.titre},Ie.matricule))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:G.matricule_evaluation})]})}),e.jsx(T,{md:8,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Énoncé de la question *"}),e.jsx(b.Control,{as:"textarea",rows:3,placeholder:"Saisissez l'énoncé de votre question...",required:!0,value:J.enonce,onChange:Ie=>ge({...J,enonce:Ie.target.value}),isInvalid:!!G.enonce,className:ye==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:G.enonce})]})}),e.jsx(T,{md:2,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Type *"}),e.jsxs(b.Select,{value:J.type,onChange:Ie=>ge({...J,type:Ie.target.value}),isInvalid:!!G.type,className:ye==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"QCM",children:"QCM"}),e.jsx("option",{value:"Réponse_libre",children:"Réponse libre"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:G.type})]})}),e.jsx(T,{md:2,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Points *"}),e.jsx(b.Control,{type:"number",min:"0.5",max:"20",step:"0.5",required:!0,value:J.points,onChange:Ie=>ge({...J,points:parseFloat(Ie.target.value)}),isInvalid:!!G.points,className:ye==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:G.points})]})}),J.type==="QCM"&&e.jsxs(e.Fragment,{children:[e.jsx(T,{md:4,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Choix A *"}),e.jsx(b.Control,{type:"text",placeholder:"Premier choix",required:!0,value:J.choix_a,onChange:Ie=>ge({...J,choix_a:Ie.target.value}),isInvalid:!!G.choix_a,className:ye==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:G.choix_a})]})}),e.jsx(T,{md:4,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Choix B *"}),e.jsx(b.Control,{type:"text",placeholder:"Deuxième choix",required:!0,value:J.choix_b,onChange:Ie=>ge({...J,choix_b:Ie.target.value}),isInvalid:!!G.choix_b,className:ye==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:G.choix_b})]})}),e.jsx(T,{md:4,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Choix C *"}),e.jsx(b.Control,{type:"text",placeholder:"Troisième choix",required:!0,value:J.choix_c,onChange:Ie=>ge({...J,choix_c:Ie.target.value}),isInvalid:!!G.choix_c,className:ye==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:G.choix_c})]})})]}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:J.type==="QCM"?"Bonne réponse (sélectionnez le choix) *":"Réponse attendue *"}),J.type==="QCM"?e.jsxs(b.Select,{value:J.bonne_reponse_general,onChange:Ie=>ge({...J,bonne_reponse_general:Ie.target.value}),isInvalid:!!G.bonne_reponse_general,className:ye==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"",children:"Choisissez la bonne réponse"}),J.choix_a&&e.jsxs("option",{value:J.choix_a,children:["A: ",J.choix_a]}),J.choix_b&&e.jsxs("option",{value:J.choix_b,children:["B: ",J.choix_b]}),J.choix_c&&e.jsxs("option",{value:J.choix_c,children:["C: ",J.choix_c]})]}):e.jsx(b.Control,{as:"textarea",rows:2,placeholder:"Saisissez la réponse attendue ou les mots-clés...",required:!0,value:J.bonne_reponse_general,onChange:Ie=>ge({...J,bonne_reponse_general:Ie.target.value}),className:ye==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:G.bonne_reponse_general})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Image (optionnelle)"}),e.jsx(b.Control,{type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:Ie=>ge({...J,image:Ie.target.files[0]}),isInvalid:!!G.image,className:ye==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:G.image}),e.jsx(b.Text,{className:"text-muted",children:"JPG, PNG, WEBP - Max 2MB"})]})}),e.jsx(T,{md:12,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Explication (optionnelle)"}),e.jsx(b.Control,{as:"textarea",rows:2,placeholder:"Explication de la réponse ou commentaire pour les étudiants...",value:J.explication,onChange:Ie=>ge({...J,explication:Ie.target.value}),isInvalid:!!G.explication,className:ye==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:G.explication})]})})]})}),e.jsxs(Y.Footer,{className:ye==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>{Q(!1),ps()},children:"Annuler"}),e.jsxs($,{type:"submit",variant:"success",children:[e.jsx("i",{"data-feather":"save",className:"me-2",style:{width:"16px",height:"16px"}}),"Créer la Question"]})]})]})]}),e.jsxs(Y,{show:z,onHide:()=>K(!1),centered:!0,contentClassName:ye==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:ye==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Dupliquer la Question"})}),e.jsx(Y.Body,{className:ye==="dark"?"bg-dark text-light":"",children:P&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h6",{children:"Question à dupliquer :"}),e.jsxs("div",{className:`p-3 rounded ${ye==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(oe,{bg:hs(P.type),className:"mb-2",children:P.type}),e.jsx("div",{className:ye==="dark"?"text-light":"text-dark",children:P.enonce}),e.jsxs("small",{className:"text-muted",children:[P.points," points"]})]})]}),e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Évaluation de destination *"}),e.jsxs(b.Select,{value:me.matricule_evaluation,onChange:Ie=>Xe({...me,matricule_evaluation:Ie.target.value}),className:ye==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionnez une évaluation"}),o.map(Ie=>e.jsxs("option",{value:Ie.matricule,children:[Ie.titre," (",Ie.matiere?.nom," - ",Ie.matiere?.classroom?.name,")"]},Ie.matricule))]}),e.jsx(b.Text,{className:"text-muted",children:"La question sera copiée avec le préfixe [COPIE]"})]})]})}),e.jsxs(Y.Footer,{className:ye==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>K(!1),children:"Annuler"}),e.jsxs($,{variant:"success",onClick:rt,disabled:!me.matricule_evaluation,children:[e.jsx("i",{"data-feather":"copy",className:"me-2",style:{width:"16px",height:"16px"}}),"Dupliquer"]})]})]}),e.jsxs(Y,{show:I,onHide:()=>H(!1),centered:!0,contentClassName:ye==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:ye==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Confirmation de Suppression"})}),e.jsxs(Y.Body,{className:ye==="dark"?"bg-dark text-light":"",children:[e.jsx("p",{children:"Êtes-vous sûr de vouloir supprimer cette question ?"}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),"Cette action est irréversible. Si des réponses sont associées à cette question, la suppression sera refusée."]})]}),e.jsxs(Y.Footer,{className:ye==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>H(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:Ae,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:O,onClose:()=>W(!1),delay:3e3,autohide:!0,bg:ie==="success"?"success":"danger",className:ye==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${ie==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":ie==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:ye==="dark"?"bg-dark text-light":"",children:Z})]})})]})})}function GEe(){const{id:s}=is(),t=Ut(),[a,r]=x.useState(null),[n,i]=x.useState(!0),[l,c]=x.useState(null),[o,u]=x.useState(!1),[d,f]=x.useState(!1),[p,j]=x.useState([]),[y,k]=x.useState({matricule_evaluation:""}),[v,S]=x.useState(!1),[C,_]=x.useState(""),[A,D]=x.useState("success"),[M,L]=x.useState("light");x.useEffect(()=>{const P=document.documentElement.getAttribute("data-theme")||"light";L(P);const q=new MutationObserver(()=>{const G=document.documentElement.getAttribute("data-theme")||"light";L(G)});return q.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>q.disconnect()},[]);const F=(P,q="success")=>{_(P),D(q),S(!0)},Q=x.useCallback(async()=>{try{i(!0);const P=await he.get(`/formateur/question/${s}`);r(P.data.question)}catch(P){console.error("Erreur lors de la récupération de la question",P),c("Question introuvable ou erreur de chargement")}finally{i(!1)}},[s]),I=x.useCallback(async()=>{try{const P=await he.get("/formateur/view/questions");j(P.data.evaluations||[])}catch(P){console.error("Erreur lors de la récupération des évaluations",P)}},[]);x.useEffect(()=>{We.replace(),Q(),I()},[Q,I]),x.useEffect(()=>{We.replace()},[a,p,y]);const H=async()=>{try{await he.delete(`/formateur/destroy/question/${s}`),F("Question supprimée avec succès","success"),setTimeout(()=>{t("/formateur/view/questions")},1500)}catch(P){console.error(P),F(P.response?.data?.message||"Erreur lors de la suppression","danger")}u(!1)},z=async()=>{try{await he.post(`/formateur/duplicate/question/${s}`,y),F("Question dupliquée avec succès","success"),f(!1),k({matricule_evaluation:""})}catch(P){console.error(P),F("Erreur lors de la duplication","danger")}},K=P=>{switch(P){case"QCM":return"primary";case"Réponse_libre":return"success";default:return"secondary"}},U=P=>{switch(P){case"QCM":return"check-square";case"Réponse_libre":return"edit-3";default:return"help-circle"}},V=P=>P?new Date(P).toLocaleDateString("fr-FR",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Non définie";return n?e.jsx(et,{children:e.jsx(yt,{className:"py-4",children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("div",{className:`mt-3 ${M==="dark"?"text-light":"text-muted"}`,children:"Chargement des détails de la question..."})]})})}):l||!a?e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),l||"Question introuvable"]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:"secondary",as:xe,to:"/formateur/view/questions",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]}),e.jsxs($,{variant:"outline-primary",onClick:Q,children:[e.jsx("i",{"data-feather":"refresh-cw",className:"me-2"}),"Réessayer"]})]})]})}):e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:"/formateur/questions",className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsxs("div",{children:[e.jsx("h1",{className:`h3 mb-0 ${M==="dark"?"text-light":"text-dark"}`,children:"Détails de la question"}),e.jsx("p",{className:`mb-0 ${M==="dark"?"text-light":"text-muted"}`,children:a.matricule})]})]})}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:"outline-warning",as:xe,to:`/formateur/edit/question/${a.id}`,children:[e.jsx("i",{"data-feather":"edit",className:"me-2",style:{width:"16px",height:"16px"}}),"Modifier"]}),e.jsxs($,{variant:"outline-success",onClick:()=>f(!0),children:[e.jsx("i",{"data-feather":"copy",className:"me-2",style:{width:"16px",height:"16px"}}),"Dupliquer"]}),e.jsxs($,{variant:"outline-danger",onClick:()=>u(!0),children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsxs(pe,{children:[e.jsxs(T,{lg:8,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${M==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"help-circle",className:"me-2",style:{width:"20px",height:"20px"}}),"Question"]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs(oe,{bg:K(a.type),children:[e.jsx("i",{"data-feather":U(a.type),className:"me-1",style:{width:"12px",height:"12px"}}),a.type]}),e.jsxs(oe,{bg:"warning",children:[a.points," points"]})]})]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{className:`fw-bold mb-2 ${M==="dark"?"text-light":"text-dark"}`,children:"Énoncé"}),e.jsx("p",{className:`${M==="dark"?"text-light":"text-dark"} mb-3`,children:a.enonce})]}),a.image_url&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{className:`fw-bold mb-2 ${M==="dark"?"text-light":"text-dark"}`,children:"Image associée"}),e.jsx("img",{src:a.image_url,alt:"Question",className:"img-fluid rounded shadow-sm",style:{maxHeight:"300px"}})]}),a.type==="QCM"&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{className:`fw-bold mb-3 ${M==="dark"?"text-light":"text-dark"}`,children:"Choix de réponse"}),e.jsxs("div",{className:"row g-2",children:[e.jsx("div",{className:"col-md-4",children:e.jsx("div",{className:`p-3 border rounded ${a.bonne_reponse_general===a.choix_a?"border-success bg-success bg-opacity-10":M==="dark"?"border-secondary":"border-light"}`,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(oe,{bg:"primary",className:"me-2",children:"A"}),e.jsx("span",{className:M==="dark"?"text-light":"text-dark",children:a.choix_a}),a.bonne_reponse_general===a.choix_a&&e.jsx("i",{"data-feather":"check-circle",className:"ms-auto text-success",style:{width:"16px",height:"16px"}})]})})}),e.jsx("div",{className:"col-md-4",children:e.jsx("div",{className:`p-3 border rounded ${a.bonne_reponse_general===a.choix_b?"border-success bg-success bg-opacity-10":M==="dark"?"border-secondary":"border-light"}`,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(oe,{bg:"primary",className:"me-2",children:"B"}),e.jsx("span",{className:M==="dark"?"text-light":"text-dark",children:a.choix_b}),a.bonne_reponse_general===a.choix_b&&e.jsx("i",{"data-feather":"check-circle",className:"ms-auto text-success",style:{width:"16px",height:"16px"}})]})})}),a.choix_c&&e.jsx("div",{className:"col-md-4",children:e.jsx("div",{className:`p-3 border rounded ${a.bonne_reponse_general===a.choix_c?"border-success bg-success bg-opacity-10":M==="dark"?"border-secondary":"border-light"}`,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(oe,{bg:"primary",className:"me-2",children:"C"}),e.jsx("span",{className:M==="dark"?"text-light":"text-dark",children:a.choix_c}),a.bonne_reponse_general===a.choix_c&&e.jsx("i",{"data-feather":"check-circle",className:"ms-auto text-success",style:{width:"16px",height:"16px"}})]})})})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{className:`fw-bold mb-2 ${M==="dark"?"text-light":"text-dark"}`,children:a.type==="QCM"?"Bonne réponse":"Réponse attendue"}),e.jsxs("div",{className:`p-3 bg-success bg-opacity-10 border border-success rounded ${M==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"check-circle",className:"me-2 text-success",style:{width:"16px",height:"16px"}}),a.bonne_reponse_general]})]}),a.explication&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{className:`fw-bold mb-2 ${M==="dark"?"text-light":"text-dark"}`,children:"Explication"}),e.jsxs("div",{className:`p-3 bg-info bg-opacity-10 border border-info rounded ${M==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"info",className:"me-2 text-info",style:{width:"16px",height:"16px"}}),a.explication]})]})]})]}),a.statistiques&&a.statistiques.total_reponses>0&&e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${M==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"bar-chart-2",className:"me-2",style:{width:"20px",height:"20px"}}),"Statistiques des réponses"]})}),e.jsxs(w.Body,{children:[e.jsxs(pe,{className:"text-center",children:[e.jsx(T,{md:4,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"text-primary mb-1",children:a.statistiques.total_reponses}),e.jsx("small",{className:M==="dark"?"text-light":"text-muted",children:"Total réponses"})]})}),e.jsx(T,{md:4,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"text-success mb-1",children:a.statistiques.reponses_correctes}),e.jsx("small",{className:M==="dark"?"text-light":"text-muted",children:"Réponses correctes"})]})}),e.jsx(T,{md:4,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"text-danger mb-1",children:a.statistiques.reponses_incorrectes}),e.jsx("small",{className:M==="dark"?"text-light":"text-muted",children:"Réponses incorrectes"})]})})]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("span",{className:`small fw-bold ${M==="dark"?"text-light":"text-dark"}`,children:"Taux de réussite"}),e.jsxs("span",{className:`small fw-bold text-${a.statistiques.taux_reussite>=70?"success":a.statistiques.taux_reussite>=50?"warning":"danger"}`,children:[a.statistiques.taux_reussite,"%"]})]}),e.jsx(Zt,{now:a.statistiques.taux_reussite,variant:a.statistiques.taux_reussite>=70?"success":a.statistiques.taux_reussite>=50?"warning":"danger",style:{height:"8px"}})]})]})]}),a.answers&&a.answers.length>0&&e.jsxs(w,{className:`border-0 shadow-sm ${M==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"users",className:"me-2",style:{width:"20px",height:"20px"}}),"Réponses des étudiants (",a.answers.length,")"]})}),e.jsx(w.Body,{className:"p-0",children:e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`align-middle mb-0 ${M==="dark"?"table-dark":""}`,children:[e.jsx("thead",{className:"table-primary",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Étudiant"}),e.jsx("th",{children:"Réponse donnée"}),e.jsx("th",{className:"text-center",children:"Résultat"}),e.jsx("th",{children:"Heure de réponse"})]})}),e.jsx("tbody",{children:a.answers.map((P,q)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"bg-primary bg-opacity-10 text-primary rounded-circle d-inline-flex align-items-center justify-content-center me-2",style:{width:"32px",height:"32px"},children:e.jsx("i",{"data-feather":"user",style:{width:"16px",height:"16px"}})}),e.jsxs("div",{children:[e.jsx("div",{className:`fw-medium ${M==="dark"?"text-light":"text-dark"}`,children:P.etudiant?.name||"Étudiant inconnu"}),e.jsx("small",{className:"text-muted",children:P.matricule_etudiant})]})]})}),e.jsx("td",{children:e.jsx("span",{className:M==="dark"?"text-light":"text-dark",children:a.type==="QCM"?P.choix_selectionne_qcm:P.reponse_donnee})}),e.jsxs("td",{className:"text-center",children:[a.type==="QCM"&&e.jsxs(oe,{bg:P.choix_selectionne_qcm===a.bonne_reponse_general?"success":"danger",children:[e.jsx("i",{"data-feather":P.choix_selectionne_qcm===a.bonne_reponse_general?"check-circle":"x-circle",className:"me-1",style:{width:"12px",height:"12px"}}),P.choix_selectionne_qcm===a.bonne_reponse_general?"Correct":"Incorrect"]}),a.type==="Réponse_libre"&&e.jsxs(oe,{bg:"secondary",children:[e.jsx("i",{"data-feather":"edit-3",className:"me-1",style:{width:"12px",height:"12px"}}),"À corriger"]})]}),e.jsx("td",{children:e.jsx("small",{className:M==="dark"?"text-light":"text-muted",children:P.heure_reponse?V(P.heure_reponse):"Non disponible"})})]},P.id||q))})]})})})]})]}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${M==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"20px",height:"20px"}}),"Contexte"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"fw-bold text-muted",children:"CLASSE"}),e.jsxs("div",{className:`d-flex align-items-center ${M==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"home",className:"me-2",style:{width:"16px",height:"16px"}}),a.evaluation?.matiere?.classroom?.name||"Non définie"]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"fw-bold text-muted",children:"MATIÈRE"}),e.jsxs("div",{className:`d-flex align-items-center ${M==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"16px",height:"16px"}}),a.evaluation?.matiere?.nom||"Non définie"]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"fw-bold text-muted",children:"ÉVALUATION"}),e.jsxs("div",{className:`d-flex align-items-center ${M==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"clipboard",className:"me-2",style:{width:"16px",height:"16px"}}),a.evaluation?.titre||"Non définie"]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"fw-bold text-muted",children:"DATE DE CRÉATION"}),e.jsxs("div",{className:`d-flex align-items-center ${M==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-2",style:{width:"16px",height:"16px"}}),V(a.created_at)]})]}),e.jsxs("div",{className:"mb-0",children:[e.jsx("label",{className:"fw-bold text-muted",children:"DERNIÈRE MODIFICATION"}),e.jsxs("div",{className:`d-flex align-items-center ${M==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"clock",className:"me-2",style:{width:"16px",height:"16px"}}),V(a.updated_at)]})]})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm ${M==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"20px",height:"20px"}}),"Actions rapides"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"warning",as:xe,to:`/formateur/edit/question/${a.id}`,size:"sm",children:[e.jsx("i",{"data-feather":"edit",className:"me-2",style:{width:"16px",height:"16px"}}),"Modifier cette question"]}),e.jsxs($,{variant:"success",onClick:()=>f(!0),size:"sm",children:[e.jsx("i",{"data-feather":"copy",className:"me-2",style:{width:"16px",height:"16px"}}),"Dupliquer la question"]}),a.evaluation&&e.jsxs($,{variant:"info",as:xe,to:`/formateur/show/evaluation/${a.evaluation.id}`,size:"sm",children:[e.jsx("i",{"data-feather":"clipboard",className:"me-2",style:{width:"16px",height:"16px"}}),"Voir l'évaluation"]}),e.jsxs($,{variant:"outline-secondary",as:xe,to:"/formateur/questions",size:"sm",children:[e.jsx("i",{"data-feather":"list",className:"me-2",style:{width:"16px",height:"16px"}}),"Toutes les questions"]}),e.jsx("hr",{}),e.jsxs($,{variant:"danger",onClick:()=>u(!0),size:"sm",children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer la question"]})]})})]})]})]}),e.jsxs(Y,{show:d,onHide:()=>f(!1),centered:!0,contentClassName:M==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:M==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Dupliquer la Question"})}),e.jsxs(Y.Body,{className:M==="dark"?"bg-dark text-light":"",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h6",{children:"Question à dupliquer :"}),e.jsxs("div",{className:`p-3 rounded ${M==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:[e.jsx(oe,{bg:K(a.type),className:"mb-2",children:a.type}),e.jsx("div",{className:M==="dark"?"text-light":"text-dark",children:a.enonce}),e.jsxs("small",{className:"text-muted",children:[a.points," points"]})]})]}),e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Évaluation de destination *"}),e.jsxs(b.Select,{value:y.matricule_evaluation,onChange:P=>k({...y,matricule_evaluation:P.target.value}),className:M==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionnez une évaluation"}),p.map(P=>e.jsxs("option",{value:P.matricule,children:[P.titre," (",P.matiere?.nom," - ",P.matiere?.classroom?.name,")"]},P.matricule))]}),e.jsx(b.Text,{className:"text-muted",children:"La question sera copiée avec le préfixe [COPIE]"})]})]}),e.jsxs(Y.Footer,{className:M==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>f(!1),children:"Annuler"}),e.jsxs($,{variant:"success",onClick:z,disabled:!y.matricule_evaluation,children:[e.jsx("i",{"data-feather":"copy",className:"me-2",style:{width:"16px",height:"16px"}}),"Dupliquer"]})]})]}),e.jsxs(Y,{show:o,onHide:()=>u(!1),centered:!0,contentClassName:M==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:M==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Confirmation de Suppression"})}),e.jsxs(Y.Body,{className:M==="dark"?"bg-dark text-light":"",children:[e.jsx("p",{children:"Êtes-vous sûr de vouloir supprimer cette question ?"}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("strong",{children:"Question :"})," ",a.enonce]}),e.jsxs("div",{className:"alert alert-danger",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),"Cette action est irréversible. Toutes les réponses associées seront également supprimées."]})]}),e.jsxs(Y.Footer,{className:M==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>u(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:H,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:v,onClose:()=>S(!1),delay:3e3,autohide:!0,bg:A==="success"?"success":"danger",className:M==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${A==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":A==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:M==="dark"?"bg-dark text-light":"",children:C})]})})]})})}function VEe(){const{id:s}=is(),t=Ut(),[a,r]=x.useState(null),[n,i]=x.useState([]),[l,c]=x.useState([]),[o,u]=x.useState([]),[d,f]=x.useState(!0),[p,j]=x.useState(!1),[y,k]=x.useState({}),[v,S]=x.useState(!1),[C,_]=x.useState(""),[A,D]=x.useState("success"),[M,L]=x.useState({enonce:"",type:"QCM",matricule_classroom:"",matricule_matiere:"",matricule_evaluation:"",choix_a:"",choix_b:"",choix_c:"",bonne_reponse_general:"",points:1,explication:"",image:null,current_image:null}),[F,Q]=x.useState("light");x.useEffect(()=>{const O=document.documentElement.getAttribute("data-theme")||"light";Q(O);const W=new MutationObserver(()=>{const Z=document.documentElement.getAttribute("data-theme")||"light";Q(Z)});return W.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>W.disconnect()},[]);const I=(O,W="success")=>{_(O),D(W),S(!0)},H=x.useCallback(async()=>{try{f(!0);const W=(await he.get(`/formateur/question/${s}`)).data.question;r(W),L({enonce:W.enonce||"",type:W.type||"QCM",matricule_classroom:W.evaluation?.matiere?.classroom?.matricule||"",matricule_matiere:W.evaluation?.matiere?.matricule||"",matricule_evaluation:W.evaluation?.matricule||"",choix_a:W.choix_a||"",choix_b:W.choix_b||"",choix_c:W.choix_c||"",bonne_reponse_general:W.bonne_reponse_general||"",points:W.points||1,explication:W.explication||"",image:null,current_image:W.image_url||null}),W.evaluation?.matiere?.classroom?.matricule&&await K(W.evaluation.matiere.classroom.matricule),W.evaluation?.matiere?.matricule&&await U(W.evaluation.matiere.matricule)}catch(O){console.error("Erreur lors de la récupération de la question",O),I("Erreur lors de la récupération des données de la question","danger"),t("/formateur/questions")}finally{f(!1)}},[s,t]),z=x.useCallback(async()=>{try{const O=await he.get("/formateur/view/questions");i(O.data.classrooms||[])}catch(O){console.error("Erreur lors de la récupération des classes",O)}},[]),K=x.useCallback(async O=>{if(!O){c([]);return}try{const W=await he.get(`/formateur/questions/matieres/${O}`);c(W.data.matieres||[])}catch(W){console.error("Erreur lors de la récupération des matières",W),c([])}},[]),U=x.useCallback(async O=>{if(!O){u([]);return}try{const W=await he.get(`/formateur/questions/evaluations/${O}`);u(W.data.evaluations||[])}catch(W){console.error("Erreur lors de la récupération des évaluations",W),u([])}},[]);x.useEffect(()=>{We.replace(),H(),z()},[H,z]),x.useEffect(()=>{We.replace()},[a,M,n,l,o]);const V=O=>{L({...M,matricule_classroom:O,matricule_matiere:"",matricule_evaluation:""}),K(O),u([])},P=O=>{L({...M,matricule_matiere:O,matricule_evaluation:""}),U(O)},q=async O=>{O.preventDefault(),k({}),j(!0);try{const W=new FormData;W.append("enonce",M.enonce),W.append("type",M.type),W.append("matricule_evaluation",M.matricule_evaluation),W.append("points",M.points),W.append("bonne_reponse_general",M.bonne_reponse_general),M.type==="QCM"&&(W.append("choix_a",M.choix_a),W.append("choix_b",M.choix_b),W.append("choix_c",M.choix_c)),M.explication&&W.append("explication",M.explication),M.image&&W.append("image",M.image),await he.post(`/formateur/update/question/${s}`,W,{headers:{"Content-Type":"multipart/form-data","X-HTTP-Method-Override":"PUT"}}),I("Question modifiée avec succès","success"),setTimeout(()=>{t("/formateur/view/questions")},1500)}catch(W){W.response?.status===422?(k(W.response.data.errors||{}),I("Erreur de validation","danger")):(console.error(W),I("Une erreur inattendue s'est produite","danger"))}finally{j(!1)}},G=O=>{switch(O){case"QCM":return"primary";case"Réponse_libre":return"success";default:return"secondary"}},se=O=>{switch(O){case"QCM":return"check-square";case"Réponse_libre":return"edit-3";default:return"help-circle"}};return d?e.jsx(et,{children:e.jsx(yt,{className:"py-4",children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("div",{className:`mt-3 ${F==="dark"?"text-light":"text-muted"}`,children:"Chargement des données de la question..."})]})})}):e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${F==="dark"?"bg-warning bg-opacity-25":"bg-warning bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"edit",className:"text-warning",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${F==="dark"?"text-light":"text-dark"}`,children:"Modifier la Question"}),e.jsxs("p",{className:`mb-0 ${F==="dark"?"text-light":"text-muted"}`,children:["Modification de la question : ",a?.matricule]})]})]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:"outline-secondary",as:xe,to:"/formateur/view/questions",className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2",style:{width:"16px",height:"16px"}}),"Retour à la liste"]}),a&&e.jsxs($,{variant:"outline-info",as:xe,to:`/formateur/show/question/${a.id}`,className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"eye",className:"me-2",style:{width:"16px",height:"16px"}}),"Voir les détails"]})]})]}),a&&e.jsx(lt,{variant:"info",className:"mb-4",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("strong",{children:"Contexte actuel :"})," ",a.evaluation?.matiere?.classroom?.name," → ",a.evaluation?.matiere?.nom," → ",a.evaluation?.titre,e.jsxs("div",{className:"mt-1",children:[e.jsxs(oe,{bg:G(a.type),className:"me-2",children:[e.jsx("i",{"data-feather":se(a.type),className:"me-1",style:{width:"10px",height:"10px"}}),a.type]}),e.jsxs(oe,{bg:"warning",children:[a.points," points"]}),a.statistiques&&e.jsxs(oe,{bg:"secondary",className:"ms-2",children:[a.statistiques.total_reponses," réponse(s)"]})]})]})]})})]}),e.jsxs(w,{className:`shadow-sm border-0 ${F==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${F==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"edit",className:"text-warning me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${F==="dark"?"text-light":"text-dark"}`,children:"Formulaire de Modification"})]})}),e.jsx(w.Body,{className:F==="dark"?"bg-dark":"bg-white",children:e.jsx(b,{onSubmit:q,children:e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:4,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Classe *"}),e.jsxs(b.Select,{value:M.matricule_classroom,onChange:O=>V(O.target.value),isInvalid:!!y.matricule_classroom,className:F==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionnez une classe"}),n.map(O=>e.jsx("option",{value:O.matricule,children:O.name},O.matricule))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:y.matricule_classroom})]})}),e.jsx(T,{md:4,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Matière *"}),e.jsxs(b.Select,{value:M.matricule_matiere,onChange:O=>P(O.target.value),isInvalid:!!y.matricule_matiere,className:F==="dark"?"bg-dark text-light border-secondary":"",required:!0,disabled:!M.matricule_classroom,children:[e.jsx("option",{value:"",children:M.matricule_classroom?"Sélectionnez une matière":"Choisissez d'abord une classe"}),l.map(O=>e.jsx("option",{value:O.matricule,children:O.nom},O.matricule))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:y.matricule_matiere})]})}),e.jsx(T,{md:4,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Évaluation *"}),e.jsxs(b.Select,{value:M.matricule_evaluation,onChange:O=>L({...M,matricule_evaluation:O.target.value}),isInvalid:!!y.matricule_evaluation,className:F==="dark"?"bg-dark text-light border-secondary":"",required:!0,disabled:!M.matricule_matiere,children:[e.jsx("option",{value:"",children:M.matricule_matiere?"Sélectionnez une évaluation":"Choisissez d'abord une matière"}),o.map(O=>e.jsx("option",{value:O.matricule,children:O.titre},O.matricule))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:y.matricule_evaluation})]})}),e.jsx(T,{md:8,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Énoncé de la question *"}),e.jsx(b.Control,{as:"textarea",rows:3,placeholder:"Saisissez l'énoncé de votre question...",required:!0,value:M.enonce,onChange:O=>L({...M,enonce:O.target.value}),isInvalid:!!y.enonce,className:F==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:y.enonce})]})}),e.jsx(T,{md:2,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Type *"}),e.jsxs(b.Select,{value:M.type,onChange:O=>L({...M,type:O.target.value}),isInvalid:!!y.type,className:F==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"QCM",children:"QCM"}),e.jsx("option",{value:"Réponse_libre",children:"Réponse libre"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:y.type})]})}),e.jsx(T,{md:2,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Points *"}),e.jsx(b.Control,{type:"number",min:"0.5",max:"20",step:"0.5",required:!0,value:M.points,onChange:O=>L({...M,points:parseFloat(O.target.value)}),isInvalid:!!y.points,className:F==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:y.points})]})}),M.type==="QCM"&&e.jsxs(e.Fragment,{children:[e.jsx(T,{md:4,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Choix A *"}),e.jsx(b.Control,{type:"text",placeholder:"Premier choix",required:!0,value:M.choix_a,onChange:O=>L({...M,choix_a:O.target.value}),isInvalid:!!y.choix_a,className:F==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:y.choix_a})]})}),e.jsx(T,{md:4,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Choix B *"}),e.jsx(b.Control,{type:"text",placeholder:"Deuxième choix",required:!0,value:M.choix_b,onChange:O=>L({...M,choix_b:O.target.value}),isInvalid:!!y.choix_b,className:F==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:y.choix_b})]})}),e.jsx(T,{md:4,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Choix C *"}),e.jsx(b.Control,{type:"text",placeholder:"Troisième choix",required:!0,value:M.choix_c,onChange:O=>L({...M,choix_c:O.target.value}),isInvalid:!!y.choix_c,className:F==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:y.choix_c})]})})]}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:M.type==="QCM"?"Bonne réponse (sélectionnez le choix) *":"Réponse attendue *"}),M.type==="QCM"?e.jsxs(b.Select,{value:M.bonne_reponse_general,onChange:O=>L({...M,bonne_reponse_general:O.target.value}),isInvalid:!!y.bonne_reponse_general,className:F==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"",children:"Choisissez la bonne réponse"}),M.choix_a&&e.jsxs("option",{value:M.choix_a,children:["A: ",M.choix_a]}),M.choix_b&&e.jsxs("option",{value:M.choix_b,children:["B: ",M.choix_b]}),M.choix_c&&e.jsxs("option",{value:M.choix_c,children:["C: ",M.choix_c]})]}):e.jsx(b.Control,{as:"textarea",rows:2,placeholder:"Saisissez la réponse attendue ou les mots-clés...",required:!0,value:M.bonne_reponse_general,onChange:O=>L({...M,bonne_reponse_general:O.target.value}),className:F==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:y.bonne_reponse_general})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Image (optionnelle)"}),e.jsx(b.Control,{type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:O=>L({...M,image:O.target.files[0]}),isInvalid:!!y.image,className:F==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:y.image}),e.jsx(b.Text,{className:"text-muted",children:"JPG, PNG, WEBP - Max 2MB"}),M.current_image&&e.jsxs("div",{className:"mt-2",children:[e.jsx("small",{className:"text-muted",children:"Image actuelle :"}),e.jsx("img",{src:M.current_image,alt:"Current question",className:"d-block mt-1",style:{maxWidth:"200px",maxHeight:"150px",objectFit:"cover"}})]})]})}),e.jsx(T,{md:12,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Explication (optionnelle)"}),e.jsx(b.Control,{as:"textarea",rows:2,placeholder:"Explication de la réponse ou commentaire pour les étudiants...",value:M.explication,onChange:O=>L({...M,explication:O.target.value}),isInvalid:!!y.explication,className:F==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:y.explication})]})}),e.jsx(T,{md:12,children:e.jsxs("div",{className:"d-flex gap-2 justify-content-end",children:[e.jsx($,{variant:"secondary",as:xe,to:"/formateur/questions",disabled:p,children:"Annuler"}),e.jsx($,{type:"submit",variant:"warning",disabled:p,children:p?e.jsxs(e.Fragment,{children:[e.jsx(tt,{animation:"border",size:"sm",className:"me-2"}),"Enregistrement..."]}):e.jsx(e.Fragment,{children:"Sauvegarder les modifications"})})]})})]})})})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:v,onClose:()=>S(!1),delay:3e3,autohide:!0,bg:A==="success"?"success":"danger",className:F==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${A==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":A==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:F==="dark"?"bg-dark text-light":"",children:C})]})})]})})}function JP(){const{evaluationId:s}=is(),[t,a]=x.useState(!0),[r,n]=x.useState(!1),[i,l]=x.useState("light"),[c,o]=x.useState(null),[u,d]=x.useState([]),[f,p]=x.useState({}),[j,y]=x.useState([]),[k,v]=x.useState(!1),[S,C]=x.useState(!1),[_,A]=x.useState(!1),[D,M]=x.useState(null),[L,F]=x.useState(null),[Q,I]=x.useState(!1),[H,z]=x.useState(""),[K,U]=x.useState("success"),[V,P]=x.useState({enonce:"",type:"QCM",choix_a:"",choix_b:"",choix_c:"",bonne_reponse_general:"",points:1,explication:"",image:null});x.useEffect(()=>{const ge=document.documentElement.getAttribute("data-theme")||"light";l(ge);const re=new MutationObserver(()=>{const ve=document.documentElement.getAttribute("data-theme")||"light";l(ve)});return re.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>re.disconnect()},[]);const q=(ge,re="success")=>{z(ge),U(re),I(!0)},G=x.useCallback(async()=>{try{a(!0);const ge=await he.get(`/formateur/show/evaluation/${s}`);o(ge.data.evaluation),y(ge.data.total_points_evalaution);const re=await he.get("/formateur/view/questions",{params:{matricule_evaluation:ge.data.evaluation.matricule}});d(re.data.questions||[])}catch(ge){console.error("Erreur lors du chargement des données:",ge),q("Erreur lors du chargement des données","danger")}finally{a(!1)}},[s]);x.useEffect(()=>{s&&G()},[G]),x.useEffect(()=>{We.replace()},[u,V]);const se=()=>{P({enonce:"",type:"QCM",choix_a:"",choix_b:"",choix_c:"",bonne_reponse_general:"",points:1,explication:"",image:null}),p({})},O=async ge=>{ge.preventDefault(),p({}),n(!0);try{const re=new FormData;re.append("enonce",V.enonce),re.append("type",V.type),re.append("matricule_evaluation",c.matricule),re.append("points",V.points),re.append("bonne_reponse_general",V.bonne_reponse_general),V.type==="QCM"&&(re.append("choix_a",V.choix_a),re.append("choix_b",V.choix_b),re.append("choix_c",V.choix_c)),V.explication&&re.append("explication",V.explication),V.image&&re.append("image",V.image),D?(await he.post(`/formateur/update/question/${D.id}`,re,{headers:{"Content-Type":"multipart/form-data","X-HTTP-Method-Override":"PUT"}}),q("Question mise à jour avec succès","success"),C(!1)):(await he.post("/formateur/store/question",re,{headers:{"Content-Type":"multipart/form-data"}}),q("Question ajoutée avec succès","success"),v(!1)),G(),se(),M(null)}catch(re){re.response?.status===422?(p(re.response.data.errors||{}),q("Erreur de validation","danger")):(console.error(re),q("Une erreur inattendue s'est produite","danger"))}finally{n(!1)}},W=ge=>{M(ge),P({enonce:ge.enonce||"",type:ge.type||"QCM",choix_a:ge.choix_a||"",choix_b:ge.choix_b||"",choix_c:ge.choix_c||"",bonne_reponse_general:ge.bonne_reponse_general||"",points:ge.points||1,explication:ge.explication||"",image:null}),C(!0)},Z=ge=>{F(ge),A(!0)},te=async()=>{try{await he.delete(`/formateur/destroy/question/${L.id}`),G(),A(!1),F(null),q("Question supprimée avec succès","success")}catch(ge){console.error(ge),q(ge.response?.data?.message||"Erreur lors de la suppression","danger")}},ie=ge=>{switch(ge){case"QCM":return"primary";case"Réponse_libre":return"success";default:return"secondary"}},fe=ge=>{switch(ge){case"QCM":return"check-square";case"Réponse_libre":return"edit-3";default:return"help-circle"}},J=()=>{if(!c)return!0;const ge=new Date,re=new Date(c.date_debut);return!(c.status==="Terminée"||ge>re&&c.status==="Programmée")};return t?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des questions..."})]})}):c?e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:`/formateur/show/evaluation/${s}`,className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsxs("div",{children:[e.jsx("h1",{className:`h3 mb-0 ${i==="dark"?"text-light":"text-dark"}`,children:"Questions de l'évaluation"}),e.jsxs("p",{className:`mb-0 ${i==="dark"?"text-light":"text-muted"}`,children:[c.titre," - ",u.length," question(s)"]})]})]})}),e.jsx("div",{className:"d-flex gap-2",children:J()&&e.jsxs($,{variant:"success",onClick:()=>{se(),v(!0)},children:[e.jsx("i",{"data-feather":"plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Nouvelle question"]})})]}),e.jsx(w,{className:`border-0 shadow-sm mb-4 ${i==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{children:e.jsxs(pe,{className:"align-items-center",children:[e.jsx(T,{md:8,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:`me-3 p-2 rounded-circle ${i==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"clipboard",className:"text-primary",style:{width:"20px",height:"20px"}})}),e.jsxs("div",{children:[e.jsx("h5",{className:`mb-1 ${i==="dark"?"text-light":"text-dark"}`,children:c.titre}),e.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[e.jsx("small",{className:"text-muted",children:c.matricule}),e.jsx(oe,{bg:c.status==="Programmée"?"primary":c.status==="Brouillon"?"warning":"success",children:c.status}),e.jsx("small",{className:"text-muted",children:"•"}),e.jsxs("small",{className:i==="dark"?"text-light":"text-muted",children:[e.jsx("i",{"data-feather":"home",className:"me-1",style:{width:"12px",height:"12px"}}),c.matiere?.classroom?.name]}),e.jsx("small",{className:"text-muted",children:"•"}),e.jsxs("small",{className:i==="dark"?"text-light":"text-muted",children:[e.jsx("i",{"data-feather":"book",className:"me-1",style:{width:"12px",height:"12px"}}),c.matiere?.nom]})]})]})]})}),e.jsx(T,{md:4,children:e.jsxs("div",{className:"text-end",children:[e.jsxs("div",{className:`h4 mb-0 ${i==="dark"?"text-light":"text-dark"}`,children:[j||0," points"]}),e.jsx("small",{className:i==="dark"?"text-light":"text-muted",children:"Total des points"})]})})]})})}),!J()&&e.jsxs(lt,{variant:"warning",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2"}),"Cette évaluation ne peut plus être modifiée car elle est ",c.status.toLowerCase()," ou déjà commencée."]}),e.jsxs(w,{className:`shadow-sm border-0 ${i==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${i==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"help-circle",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsxs("span",{className:`fw-bold ${i==="dark"?"text-light":"text-dark"}`,children:["Questions (",u.length,")"]})]}),J()&&e.jsxs($,{variant:"outline-success",size:"sm",onClick:()=>{se(),v(!0)},children:[e.jsx("i",{"data-feather":"plus",className:"me-1",style:{width:"14px",height:"14px"}}),"Ajouter"]})]})}),e.jsx(w.Body,{className:`p-0 ${i==="dark"?"bg-dark":"bg-white"}`,children:u.length>0?e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`align-middle mb-0 ${i==="dark"?"table-dark":""}`,children:[e.jsx("thead",{className:"table-primary",children:e.jsxs("tr",{children:[e.jsx("th",{width:"50",children:"#"}),e.jsx("th",{children:"Question"}),e.jsx("th",{className:"text-center",children:"Type"}),e.jsx("th",{className:"text-center",children:"Points"}),e.jsx("th",{className:"text-center",children:"Réponses"}),J()&&e.jsx("th",{className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:u.map((ge,re)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-center",children:e.jsx("div",{className:"bg-primary bg-opacity-10 text-primary rounded-circle d-inline-flex align-items-center justify-content-center",style:{width:"30px",height:"30px"},children:e.jsx("small",{className:"fw-bold",children:re+1})})}),e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{className:`fw-medium ${i==="dark"?"text-light":"text-dark"}`,children:ge.enonce.length>80?ge.enonce.substring(0,80)+"...":ge.enonce}),e.jsx("small",{className:"text-muted",children:ge.matricule}),ge.explication&&e.jsxs("div",{className:"small text-info mt-1",children:[e.jsx("i",{"data-feather":"info",className:"me-1",style:{width:"12px",height:"12px"}}),"Explication disponible"]}),ge.image&&e.jsxs("div",{className:"small text-success mt-1",children:[e.jsx("i",{"data-feather":"image",className:"me-1",style:{width:"12px",height:"12px"}}),"Image jointe"]})]})}),e.jsx("td",{className:"text-center",children:e.jsxs(oe,{bg:ie(ge.type),className:"px-2 py-1",children:[e.jsx("i",{"data-feather":fe(ge.type),className:"me-1",style:{width:"10px",height:"10px"}}),ge.type]})}),e.jsx("td",{className:"text-center",children:e.jsxs(oe,{bg:"warning",className:"px-2 py-1",children:[ge.points," pts"]})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:"secondary",className:"px-2 py-1",children:ge.reponses_count||0})}),J()&&e.jsx("td",{className:"text-center",children:e.jsxs(Ga,{size:"sm",children:[e.jsx($,{variant:"outline-info",as:xe,to:`/formateur/show/question/${ge.id}`,title:"Voir les détails",children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),e.jsx($,{variant:"outline-warning",onClick:()=>W(ge),title:"Modifier",children:e.jsx("i",{"data-feather":"edit",style:{width:"14px",height:"14px"}})}),e.jsx($,{variant:"outline-danger",onClick:()=>Z(ge),title:"Supprimer",children:e.jsx("i",{"data-feather":"trash-2",style:{width:"14px",height:"14px"}})})]})})]},ge.id))})]})}):e.jsx("div",{className:"text-center py-5",children:e.jsxs("div",{className:`${i==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"help-circle",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucune question"}),e.jsx("p",{className:"small mb-3",children:"Cette évaluation ne contient aucune question pour le moment."}),J()&&e.jsxs($,{variant:"primary",onClick:()=>{se(),v(!0)},children:[e.jsx("i",{"data-feather":"plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Créer la première question"]})]})]})})})]}),e.jsxs(Y,{show:k||S,onHide:()=>{v(!1),C(!1),se(),M(null)},centered:!0,size:"lg",contentClassName:i==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:i==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:D?"Modifier la question":"Créer une question"})}),e.jsxs(b,{onSubmit:O,children:[e.jsx(Y.Body,{className:i==="dark"?"bg-dark text-light":"",children:e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:12,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Énoncé de la question *"}),e.jsx(b.Control,{as:"textarea",rows:3,placeholder:"Saisissez l'énoncé de votre question...",required:!0,value:V.enonce,onChange:ge=>P({...V,enonce:ge.target.value}),isInvalid:!!f.enonce,className:i==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:f.enonce})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Type de question *"}),e.jsxs(b.Select,{value:V.type,onChange:ge=>P({...V,type:ge.target.value}),isInvalid:!!f.type,className:i==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"QCM",children:"QCM (Choix multiples)"}),e.jsx("option",{value:"Réponse_libre",children:"Réponse libre"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:f.type})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Points *"}),e.jsx(b.Control,{type:"number",min:"0.5",max:"20",step:"0.5",required:!0,value:V.points,onChange:ge=>P({...V,points:parseFloat(ge.target.value)}),isInvalid:!!f.points,className:i==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:f.points})]})}),V.type==="QCM"&&e.jsxs(e.Fragment,{children:[e.jsxs(T,{md:12,children:[e.jsx("hr",{className:"my-3"}),e.jsx("h6",{className:i==="dark"?"text-light":"text-dark",children:"Choix multiples"})]}),e.jsx(T,{md:4,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Choix A *"}),e.jsx(b.Control,{type:"text",placeholder:"Premier choix",required:V.type==="QCM",value:V.choix_a,onChange:ge=>P({...V,choix_a:ge.target.value}),isInvalid:!!f.choix_a,className:i==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:f.choix_a})]})}),e.jsx(T,{md:4,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Choix B *"}),e.jsx(b.Control,{type:"text",placeholder:"Deuxième choix",required:V.type==="QCM",value:V.choix_b,onChange:ge=>P({...V,choix_b:ge.target.value}),isInvalid:!!f.choix_b,className:i==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:f.choix_b})]})}),e.jsx(T,{md:4,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Choix C"}),e.jsx(b.Control,{type:"text",placeholder:"Troisième choix (optionnel)",value:V.choix_c,onChange:ge=>P({...V,choix_c:ge.target.value}),isInvalid:!!f.choix_c,className:i==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:f.choix_c})]})}),e.jsx(T,{md:12,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Bonne réponse *"}),e.jsxs(b.Select,{value:V.bonne_reponse_general,onChange:ge=>P({...V,bonne_reponse_general:ge.target.value}),isInvalid:!!f.bonne_reponse_general,className:i==="dark"?"bg-dark text-light border-secondary":"",required:V.type==="QCM",children:[e.jsx("option",{value:"",children:"Sélectionnez la bonne réponse"}),V.choix_a&&e.jsxs("option",{value:V.choix_a,children:["A - ",V.choix_a]}),V.choix_b&&e.jsxs("option",{value:V.choix_b,children:["B - ",V.choix_b]}),V.choix_c&&e.jsxs("option",{value:V.choix_c,children:["C - ",V.choix_c]})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:f.bonne_reponse_general})]})})]}),V.type==="Réponse_libre"&&e.jsx(T,{md:12,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Réponse attendue *"}),e.jsx(b.Control,{as:"textarea",rows:2,placeholder:"Saisissez la réponse attendue ou les mots-clés...",required:!0,value:V.bonne_reponse_general,onChange:ge=>P({...V,bonne_reponse_general:ge.target.value}),isInvalid:!!f.bonne_reponse_general,className:i==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:f.bonne_reponse_general})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Image (optionnelle)"}),e.jsx(b.Control,{type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:ge=>P({...V,image:ge.target.files[0]}),isInvalid:!!f.image,className:i==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:f.image}),e.jsx(b.Text,{className:"text-muted",children:"JPG, PNG, WEBP - Max 2MB"})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Explication (optionnelle)"}),e.jsx(b.Control,{as:"textarea",rows:2,placeholder:"Explication de la réponse ou commentaire pour les étudiants...",value:V.explication,onChange:ge=>P({...V,explication:ge.target.value}),isInvalid:!!f.explication,className:i==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:f.explication})]})})]})}),e.jsxs(Y.Footer,{className:i==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>{v(!1),C(!1),se(),M(null)},children:"Annuler"}),e.jsx($,{type:"submit",variant:"success",disabled:r,children:r?e.jsxs(e.Fragment,{children:[e.jsx(tt,{animation:"border",size:"sm",className:"me-2"}),"Enregistrement..."]}):e.jsx(e.Fragment,{children:D?"Mettre à jour":"Créer la question"})})]})]})]}),e.jsxs(Y,{show:_,onHide:()=>A(!1),centered:!0,contentClassName:i==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:i==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Confirmation de Suppression"})}),e.jsxs(Y.Body,{className:i==="dark"?"bg-dark text-light":"",children:[e.jsx("p",{children:"Êtes-vous sûr de vouloir supprimer cette question ?"}),L&&e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("strong",{children:"Question :"})," ",L.enonce]}),e.jsxs("div",{className:"alert alert-danger",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),"Cette action est irréversible. Toutes les réponses associées seront également supprimées."]})]}),e.jsxs(Y.Footer,{className:i==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>A(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:te,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:Q,onClose:()=>I(!1),delay:3e3,autohide:!0,bg:K==="success"?"success":"danger",className:i==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${K==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":K==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:i==="dark"?"bg-dark text-light":"",children:H})]})})]})}):e.jsxs(et,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),"Évaluation introuvable"]}),e.jsxs($,{variant:"secondary",as:xe,to:"/formateur/evaluations",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]})]})}function WEe(){const s=Ut(),[t,a]=x.useState([]),[r,n]=x.useState([]),[i,l]=x.useState([]),[c,o]=x.useState(!0),[u,d]=x.useState(!1),[f,p]=x.useState({}),[j,y]=x.useState(!1),[k,v]=x.useState(""),[S,C]=x.useState("success"),[_,A]=x.useState({enonce:"",type:"QCM",matricule_classroom:"",matricule_matiere:"",matricule_evaluation:"",choix_a:"",choix_b:"",choix_c:"",bonne_reponse_general:"",points:1,explication:"",image:null}),[D,M]=x.useState("light");x.useEffect(()=>{const U=document.documentElement.getAttribute("data-theme")||"light";M(U);const V=new MutationObserver(()=>{const P=document.documentElement.getAttribute("data-theme")||"light";M(P)});return V.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>V.disconnect()},[]);const L=(U,V="success")=>{v(U),C(V),y(!0)},F=x.useCallback(async()=>{try{const U=await he.get("/formateur/view/questions");a(U.data.classrooms||[])}catch(U){console.error("Erreur lors de la récupération des classes",U)}finally{o(!1)}},[]),Q=x.useCallback(async U=>{if(!U){n([]);return}try{const V=await he.get(`/formateur/questions/matieres/${U}`);n(V.data.matieres||[])}catch(V){console.error("Erreur lors de la récupération des matières",V),n([])}},[]),I=x.useCallback(async U=>{if(!U){l([]);return}try{const V=await he.get(`/formateur/questions/evaluations/${U}`);l(V.data.evaluations||[])}catch(V){console.error("Erreur lors de la récupération des évaluations",V),l([])}},[]);x.useEffect(()=>{We.replace(),F()},[F]);const H=U=>{A({..._,matricule_classroom:U,matricule_matiere:"",matricule_evaluation:""}),Q(U),l([])},z=U=>{A({..._,matricule_matiere:U,matricule_evaluation:""}),I(U)},K=async U=>{U.preventDefault(),p({}),d(!0);try{const V=new FormData;V.append("enonce",_.enonce),V.append("type",_.type),V.append("matricule_evaluation",_.matricule_evaluation),V.append("points",_.points),V.append("bonne_reponse_general",_.bonne_reponse_general),_.type==="QCM"&&(V.append("choix_a",_.choix_a),V.append("choix_b",_.choix_b),V.append("choix_c",_.choix_c)),_.explication&&V.append("explication",_.explication),_.image&&V.append("image",_.image),await he.post("/formateur/store/question",V,{headers:{"Content-Type":"multipart/form-data"}}),L("Question créée avec succès","success"),setTimeout(()=>{s("/formateur/view/questions")},1500)}catch(V){V.response?.status===422?(p(V.response.data.errors||{}),L("Erreur de validation","danger")):(console.error(V),L("Une erreur inattendue s'est produite","danger"))}finally{d(!1)}};return c?e.jsx(et,{children:e.jsx(yt,{className:"py-4",children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("div",{className:`mt-3 ${D==="dark"?"text-light":"text-muted"}`,children:"Chargement des données..."})]})})}):e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${D==="dark"?"bg-success bg-opacity-25":"bg-success bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"plus-circle",className:"text-success",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${D==="dark"?"text-light":"text-dark"}`,children:"Créer une Question"}),e.jsx("p",{className:`mb-0 ${D==="dark"?"text-light":"text-muted"}`,children:"Ajout d'une nouvelle question à une évaluation"})]})]}),e.jsx("div",{className:"d-flex gap-2",children:e.jsxs($,{variant:"outline-secondary",as:xe,to:"/formateur/view/questions",className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2",style:{width:"16px",height:"16px"}}),"Retour à la liste"]})})]})}),e.jsxs(w,{className:`shadow-sm border-0 ${D==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${D==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"plus-circle",className:"text-success me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${D==="dark"?"text-light":"text-dark"}`,children:"Formulaire de Création"})]})}),e.jsx(w.Body,{className:D==="dark"?"bg-dark":"bg-white",children:e.jsx(b,{onSubmit:K,children:e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:4,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Classe *"}),e.jsxs(b.Select,{value:_.matricule_classroom,onChange:U=>H(U.target.value),isInvalid:!!f.matricule_classroom,className:D==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionnez une classe"}),t.map(U=>e.jsx("option",{value:U.matricule,children:U.name},U.matricule))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:f.matricule_classroom}),e.jsxs(b.Text,{className:"text-muted",children:[e.jsx("i",{"data-feather":"info",className:"me-1",style:{width:"12px",height:"12px"}}),"Choisissez d'abord la classe concernée"]})]})}),e.jsx(T,{md:4,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Matière *"}),e.jsxs(b.Select,{value:_.matricule_matiere,onChange:U=>z(U.target.value),isInvalid:!!f.matricule_matiere,className:D==="dark"?"bg-dark text-light border-secondary":"",required:!0,disabled:!_.matricule_classroom,children:[e.jsx("option",{value:"",children:_.matricule_classroom?"Sélectionnez une matière":"Choisissez d'abord une classe"}),r.map(U=>e.jsx("option",{value:U.matricule,children:U.nom},U.matricule))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:f.matricule_matiere}),e.jsxs(b.Text,{className:"text-muted",children:[e.jsx("i",{"data-feather":"book",className:"me-1",style:{width:"12px",height:"12px"}}),"Seules les matières de la classe sont affichées"]})]})}),e.jsx(T,{md:4,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Évaluation *"}),e.jsxs(b.Select,{value:_.matricule_evaluation,onChange:U=>A({..._,matricule_evaluation:U.target.value}),isInvalid:!!f.matricule_evaluation,className:D==="dark"?"bg-dark text-light border-secondary":"",required:!0,disabled:!_.matricule_matiere,children:[e.jsx("option",{value:"",children:_.matricule_matiere?"Sélectionnez une évaluation":"Choisissez d'abord une matière"}),i.map(U=>e.jsx("option",{value:U.matricule,children:U.titre},U.matricule))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:f.matricule_evaluation}),e.jsxs(b.Text,{className:"text-muted",children:[e.jsx("i",{"data-feather":"clipboard",className:"me-1",style:{width:"12px",height:"12px"}}),"Seules les évaluations modifiables sont affichées"]})]})}),e.jsxs(T,{md:12,children:[e.jsx("hr",{className:"my-3"}),e.jsxs("h5",{className:`mb-3 ${D==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"help-circle",className:"me-2",style:{width:"20px",height:"20px"}}),"Contenu de la Question"]})]}),e.jsx(T,{md:8,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Énoncé de la question *"}),e.jsx(b.Control,{as:"textarea",rows:3,placeholder:"Saisissez l'énoncé de votre question...",required:!0,value:_.enonce,onChange:U=>A({..._,enonce:U.target.value}),isInvalid:!!f.enonce,className:D==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:f.enonce}),e.jsx(b.Text,{className:"text-muted",children:"Rédigez votre question de manière claire et précise"})]})}),e.jsx(T,{md:2,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Type *"}),e.jsxs(b.Select,{value:_.type,onChange:U=>A({..._,type:U.target.value}),isInvalid:!!f.type,className:D==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"QCM",children:"QCM"}),e.jsx("option",{value:"Réponse_libre",children:"Réponse libre"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:f.type})]})}),e.jsx(T,{md:2,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Points *"}),e.jsx(b.Control,{type:"number",min:"0.5",max:"20",step:"0.5",required:!0,value:_.points,onChange:U=>A({..._,points:parseFloat(U.target.value)}),isInvalid:!!f.points,className:D==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:f.points}),e.jsx(b.Text,{className:"text-muted",children:"0.5 à 20"})]})}),_.type==="QCM"&&e.jsxs(e.Fragment,{children:[e.jsxs(T,{md:12,children:[e.jsx("hr",{className:"my-3"}),e.jsxs("h6",{className:`mb-3 ${D==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"check-square",className:"me-2",style:{width:"16px",height:"16px"}}),"Options de Réponse QCM"]})]}),e.jsx(T,{md:4,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx(oe,{bg:"primary",className:"me-2",children:"A"}),"Choix A *"]}),e.jsx(b.Control,{type:"text",placeholder:"Premier choix",required:!0,value:_.choix_a,onChange:U=>A({..._,choix_a:U.target.value}),isInvalid:!!f.choix_a,className:D==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:f.choix_a})]})}),e.jsx(T,{md:4,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx(oe,{bg:"primary",className:"me-2",children:"B"}),"Choix B *"]}),e.jsx(b.Control,{type:"text",placeholder:"Deuxième choix",required:!0,value:_.choix_b,onChange:U=>A({..._,choix_b:U.target.value}),isInvalid:!!f.choix_b,className:D==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:f.choix_b})]})}),e.jsx(T,{md:4,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx(oe,{bg:"secondary",className:"me-2",children:"C"}),"Choix C (optionnel)"]}),e.jsx(b.Control,{type:"text",placeholder:"Troisième choix",value:_.choix_c,onChange:U=>A({..._,choix_c:U.target.value}),isInvalid:!!f.choix_c,className:D==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:f.choix_c})]})})]}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:_.type==="QCM"?"Bonne réponse (sélectionnez le choix) *":"Réponse attendue *"}),_.type==="QCM"?e.jsxs(b.Select,{value:_.bonne_reponse_general,onChange:U=>A({..._,bonne_reponse_general:U.target.value}),isInvalid:!!f.bonne_reponse_general,className:D==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"",children:"Choisissez la bonne réponse"}),_.choix_a&&e.jsxs("option",{value:_.choix_a,children:["A: ",_.choix_a]}),_.choix_b&&e.jsxs("option",{value:_.choix_b,children:["B: ",_.choix_b]}),_.choix_c&&e.jsxs("option",{value:_.choix_c,children:["C: ",_.choix_c]})]}):e.jsx(b.Control,{as:"textarea",rows:2,placeholder:"Saisissez la réponse attendue ou les mots-clés...",required:!0,value:_.bonne_reponse_general,onChange:U=>A({..._,bonne_reponse_general:U.target.value}),className:D==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:f.bonne_reponse_general}),e.jsx(b.Text,{className:"text-muted",children:_.type==="QCM"?"Sélectionnez parmi les choix A, B ou C":"Réponse modèle ou mots-clés pour la correction"})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Image (optionnelle)"}),e.jsx(b.Control,{type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:U=>A({..._,image:U.target.files[0]}),isInvalid:!!f.image,className:D==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:f.image}),e.jsx(b.Text,{className:"text-muted",children:"JPG, PNG, WEBP - Max 2MB. Utilisez une image pour illustrer votre question."})]})}),e.jsx(T,{md:12,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Explication (optionnelle)"}),e.jsx(b.Control,{as:"textarea",rows:2,placeholder:"Explication de la réponse ou commentaire pour les étudiants...",value:_.explication,onChange:U=>A({..._,explication:U.target.value}),isInvalid:!!f.explication,className:D==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:f.explication}),e.jsx(b.Text,{className:"text-muted",children:"Cette explication sera visible par les étudiants après correction"})]})}),e.jsxs(T,{md:12,children:[e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"d-flex gap-2 justify-content-end",children:[e.jsxs($,{variant:"outline-secondary",as:xe,to:"/formateur/view/questions",disabled:u,children:[e.jsx("i",{"data-feather":"x",className:"me-2",style:{width:"16px",height:"16px"}}),"Annuler"]}),e.jsx($,{type:"submit",variant:"success",disabled:u||!_.matricule_evaluation,children:u?e.jsxs(e.Fragment,{children:[e.jsx(tt,{animation:"border",size:"sm",className:"me-2"}),"Création..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{"data-feather":"check",className:"me-2",style:{width:"16px",height:"16px"}}),"Créer la Question"]})})]})]})]})})})]}),(_.matricule_classroom||_.matricule_matiere||_.matricule_evaluation)&&e.jsx(w,{className:`mt-4 border-0 shadow-sm ${D==="dark"?"bg-dark border-info":"bg-info bg-opacity-10"}`,children:e.jsxs(w.Body,{children:[e.jsxs("h6",{className:`mb-3 ${D==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"16px",height:"16px"}}),"Aperçu de votre sélection"]}),e.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[_.matricule_classroom&&e.jsxs(oe,{bg:"primary",className:"px-3 py-2",children:[e.jsx("i",{"data-feather":"home",className:"me-1",style:{width:"12px",height:"12px"}}),t.find(U=>U.matricule===_.matricule_classroom)?.name||"Classe"]}),_.matricule_classroom&&_.matricule_matiere&&e.jsxs(e.Fragment,{children:[e.jsx("i",{"data-feather":"chevron-right",className:"text-muted align-self-center",style:{width:"16px",height:"16px"}}),e.jsxs(oe,{bg:"success",className:"px-3 py-2",children:[e.jsx("i",{"data-feather":"book",className:"me-1",style:{width:"12px",height:"12px"}}),r.find(U=>U.matricule===_.matricule_matiere)?.nom||"Matière"]})]}),_.matricule_matiere&&_.matricule_evaluation&&e.jsxs(e.Fragment,{children:[e.jsx("i",{"data-feather":"chevron-right",className:"text-muted align-self-center",style:{width:"16px",height:"16px"}}),e.jsxs(oe,{bg:"info",className:"px-3 py-2",children:[e.jsx("i",{"data-feather":"clipboard",className:"me-1",style:{width:"12px",height:"12px"}}),i.find(U=>U.matricule===_.matricule_evaluation)?.titre||"Évaluation"]})]})]})]})}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:j,onClose:()=>y(!1),delay:3e3,autohide:!0,bg:S==="success"?"success":"danger",className:D==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${S==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":S==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:D==="dark"?"bg-dark text-light":"",children:k})]})})]})})}function YEe(){const[s,t]=x.useState(!0),[a,r]=x.useState("light"),[n,i]=x.useState({}),[l,c]=x.useState([]),[o,u]=x.useState([]),[d,f]=x.useState([]);x.useEffect(()=>{const v=document.documentElement.getAttribute("data-theme")||"light";r(v);const S=new MutationObserver(()=>{const C=document.documentElement.getAttribute("data-theme")||"light";r(C)});return S.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>S.disconnect()},[]);const p=x.useCallback(async()=>{try{t(!0);const v=await he.get("/formateur/questions/statistics");i(v.data.statistics||{});const C=(await he.get("/formateur/view/questions")).data.questions||[],_=C.slice(0,10),A=[...C].sort((L,F)=>(F.reponses_count||0)-(L.reponses_count||0)).slice(0,8),D=C.reduce((L,F)=>(L[F.type]=(L[F.type]||0)+1,L),{}),M=Object.entries(D).map(([L,F])=>({type:L,count:F,pourcentage:C.length>0?(F/C.length*100).toFixed(1):0}));c(_),u(A),f(M)}catch(v){console.error("Erreur lors du chargement des statistiques:",v)}finally{t(!1)}},[]);x.useEffect(()=>{p()},[p]),x.useEffect(()=>{We.replace()},[n,l]);const j=v=>{switch(v){case"QCM":return"primary";case"Réponse_libre":return"success";default:return"secondary"}},y=v=>{switch(v){case"QCM":return"check-square";case"Réponse_libre":return"edit-3";default:return"help-circle"}},k=v=>v?new Date(v).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Non définie";return s?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Chargement..."})}),e.jsx("p",{className:"mt-2",children:"Chargement des statistiques..."})]})}):e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${a==="dark"?"bg-info bg-opacity-25":"bg-info bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"trending-up",className:"text-info",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${a==="dark"?"text-light":"text-dark"}`,children:"Statistiques des Questions"}),e.jsx("p",{className:`mb-0 ${a==="dark"?"text-light":"text-muted"}`,children:"Analyse et aperçu de vos questions d'évaluation"})]})]})}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:n.total_questions||0}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Total questions"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"help-circle",style:{width:"32px",height:"32px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-primary",children:n.questions_qcm||0}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Questions QCM"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"check-square",style:{width:"32px",height:"32px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:n.questions_libres||0}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Réponses libres"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"edit-3",style:{width:"32px",height:"32px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-warning",children:n.questions_par_evaluation?.length||0}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Évaluations"})]}),e.jsx("div",{className:"text-warning",children:e.jsx("i",{"data-feather":"clipboard",style:{width:"32px",height:"32px"}})})]})})})})]}),e.jsxs(pe,{children:[e.jsx(T,{lg:4,children:e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"pie-chart",className:"text-info me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:"Répartition par type"})]})}),e.jsx(w.Body,{className:a==="dark"?"bg-dark":"",children:d.length>0?e.jsx("div",{children:d.map(v=>e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsxs(oe,{bg:j(v.type),className:"me-2",children:[e.jsx("i",{"data-feather":y(v.type),className:"me-1",style:{width:"10px",height:"10px"}}),v.type]}),e.jsxs("span",{className:`small ${a==="dark"?"text-light":"text-muted"}`,children:[v.count," questions"]})]}),e.jsxs("span",{className:`fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:[v.pourcentage,"%"]})]}),e.jsx(Zt,{now:parseFloat(v.pourcentage),variant:j(v.type),style:{height:"6px"}})]},v.type))}):e.jsx("div",{className:"text-center py-3",children:e.jsxs("div",{className:`${a==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"pie-chart",className:"mb-2",style:{width:"24px",height:"24px",opacity:.5}}),e.jsx("p",{className:"small mb-0",children:"Aucune donnée disponible"})]})})})]})}),e.jsx(T,{lg:8,children:e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"clock",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:"Questions récentes"})]}),e.jsx(oe,{bg:"primary",className:"px-3 py-2",children:l.length})]})}),e.jsx(w.Body,{className:`p-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:l.length>0?e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`align-middle mb-0 ${a==="dark"?"table-dark":""}`,children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Question"}),e.jsx("th",{className:"text-center",children:"Type"}),e.jsx("th",{className:"text-center",children:"Points"}),e.jsx("th",{className:"text-center",children:"Réponses"}),e.jsx("th",{children:"Date création"})]})}),e.jsx("tbody",{children:l.map(v=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{className:`fw-medium ${a==="dark"?"text-light":"text-dark"}`,children:e.jsx(xe,{to:`/formateur/show/question/${v.id}`,className:"text-decoration-none",children:v.enonce.length>50?v.enonce.substring(0,50)+"...":v.enonce})}),e.jsxs("small",{className:"text-muted",children:[v.evaluation?.matiere?.classroom?.name," - ",v.evaluation?.matiere?.nom]})]})}),e.jsx("td",{className:"text-center",children:e.jsxs(oe,{bg:j(v.type),className:"px-2 py-1",children:[e.jsx("i",{"data-feather":y(v.type),className:"me-1",style:{width:"10px",height:"10px"}}),v.type]})}),e.jsx("td",{className:"text-center",children:e.jsxs(oe,{bg:"warning",className:"px-2 py-1",children:[v.points," pts"]})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:"secondary",className:"px-2 py-1",children:v.reponses_count||0})}),e.jsx("td",{children:e.jsx("small",{className:"text-muted",children:k(v.created_at)})})]},v.id))})]})}):e.jsx("div",{className:"text-center py-4",children:e.jsxs("div",{className:`${a==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"clock",className:"mb-2",style:{width:"32px",height:"32px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucune question récente"}),e.jsx("p",{className:"small mb-0",children:"Créez votre première question"})]})]})})})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"trending-up",className:"text-success me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:"Questions les plus répondues"})]}),e.jsxs(oe,{bg:"success",className:"px-3 py-2",children:["Top ",o.length]})]})}),e.jsx(w.Body,{className:`p-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:o.length>0?e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`align-middle mb-0 ${a==="dark"?"table-dark":""}`,children:[e.jsx("thead",{className:"table-success",children:e.jsxs("tr",{children:[e.jsx("th",{width:"50",children:"#"}),e.jsx("th",{children:"Question"}),e.jsx("th",{children:"Contexte"}),e.jsx("th",{className:"text-center",children:"Type"}),e.jsx("th",{className:"text-center",children:"Points"}),e.jsx("th",{className:"text-center",children:"Réponses"}),e.jsx("th",{className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:o.map((v,S)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-center",children:e.jsx("div",{className:`bg-success bg-opacity-10 text-success rounded-circle d-inline-flex align-items-center justify-content-center ${S<3?"fw-bold":""}`,style:{width:"30px",height:"30px"},children:S+1})}),e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{className:`fw-medium ${a==="dark"?"text-light":"text-dark"}`,children:v.enonce.length>60?v.enonce.substring(0,60)+"...":v.enonce}),e.jsx("small",{className:"text-muted",children:v.matricule})]})}),e.jsx("td",{children:e.jsxs("div",{children:[e.jsxs("div",{className:`small ${a==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"home",className:"me-1",style:{width:"10px",height:"10px"}}),v.evaluation?.matiere?.classroom?.name||"N/A"]}),e.jsxs("div",{className:"small text-success",children:[e.jsx("i",{"data-feather":"book",className:"me-1",style:{width:"10px",height:"10px"}}),v.evaluation?.matiere?.nom||"N/A"]}),e.jsxs("div",{className:"small text-info",children:[e.jsx("i",{"data-feather":"clipboard",className:"me-1",style:{width:"10px",height:"10px"}}),v.evaluation?.titre||"N/A"]})]})}),e.jsx("td",{className:"text-center",children:e.jsxs(oe,{bg:j(v.type),className:"px-2 py-1",children:[e.jsx("i",{"data-feather":y(v.type),className:"me-1",style:{width:"8px",height:"8px"}}),v.type]})}),e.jsx("td",{className:"text-center",children:e.jsxs(oe,{bg:"warning",className:"px-2 py-1",children:[v.points," pts"]})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:"success",className:"px-3 py-2 fw-bold",children:v.reponses_count||0})}),e.jsx("td",{className:"text-center",children:e.jsx(xe,{to:`/formateur/show/question/${v.id}`,className:"btn btn-outline-info btn-sm",title:"Voir les détails",children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})})})]},v.id))})]})}):e.jsx("div",{className:"text-center py-4",children:e.jsxs("div",{className:`${a==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"trending-up",className:"mb-2",style:{width:"32px",height:"32px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucune donnée de popularité"}),e.jsx("p",{className:"small mb-0",children:"Les statistiques apparaîtront quand les étudiants répondront"})]})]})})})]}),n.questions_par_jour&&n.questions_par_jour.length>0&&e.jsxs(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"bar-chart",className:"text-warning me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:"Activité des 7 derniers jours"})]})}),e.jsx(w.Body,{children:e.jsx("div",{className:"row",children:n.questions_par_jour.map((v,S)=>e.jsx("div",{className:"col-md-3 mb-3",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`h5 mb-1 ${a==="dark"?"text-light":"text-dark"}`,children:v.nombre}),e.jsx("small",{className:"text-muted",children:new Date(v.date).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}),e.jsx(Zt,{now:v.nombre,max:Math.max(...n.questions_par_jour.map(C=>C.nombre)),variant:"warning",style:{height:"4px"},className:"mt-2"})]})},v.date))})})]})]})})}function KEe(){const{matriculeEtudiant:s,matriculeEvaluation:t}=is(),[a,r]=x.useState(!0),[n,i]=x.useState("light"),[l,c]=x.useState(null),[o,u]=x.useState(!1),[d,f]=x.useState(null),[p,j]=x.useState(null),[y,k]=x.useState({points_obtenus:0,commentaire:""}),[v,S]=x.useState(!1),[C,_]=x.useState(""),[A,D]=x.useState("success");x.useEffect(()=>{const q=document.documentElement.getAttribute("data-theme")||"light";i(q);const G=new MutationObserver(()=>{const se=document.documentElement.getAttribute("data-theme")||"light";i(se)});return G.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>G.disconnect()},[]);const M=(q,G="success")=>{_(q),D(G),S(!0)},L=x.useCallback(async()=>{try{r(!0);const q=await he.get(`/formateur/answers/student/${s}/evaluation/${t}`);c(q.data.resultat_etudiant)}catch(q){console.error("Erreur lors du chargement des données:",q),M("Erreur lors du chargement des données","danger")}finally{r(!1)}},[s,t]);x.useEffect(()=>{s&&t&&L()},[L]),x.useEffect(()=>{We.replace()},[l]);const F=q=>q>=80?"success":q>=60?"warning":q>=40?"primary":"danger",Q=(q,G)=>q==="Non répondue"?{bg:"secondary",text:"Non répondue",icon:"minus-circle"}:G===!0?{bg:"success",text:"Correct",icon:"check-circle"}:G===!1?{bg:"danger",text:"Incorrect",icon:"x-circle"}:{bg:"warning",text:"À corriger",icon:"clock"},I=q=>q?new Date(q).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Non définie",H=q=>{f(q),u(!0)},z=q=>{j(q),k({points_obtenus:q.points_obtenus,commentaire:q.commentaire||""})},K=async()=>{try{await he.post("/formateur/answers/correct-manual",{matricule_answer:p.reponse?.matricule,points_obtenus:y.points_obtenus,commentaire:y.commentaire}),M("Correction sauvegardée avec succès","success"),j(null),L()}catch(q){console.error("Erreur lors de la sauvegarde:",q),M("Erreur lors de la sauvegarde de la correction","danger")}};if(a)return e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des réponses..."})]})});if(!l)return e.jsxs(et,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),"Données introuvables"]}),e.jsxs($,{variant:"secondary",as:xe,to:"/formateur/answers/results",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour aux résultats"]})]});const{etudiant:U,evaluation:V,detail_reponses:P}=l;return e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:`/formateur/answers/evaluation/${t}/results`,className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsxs("div",{children:[e.jsx("h1",{className:`h3 mb-0 ${n==="dark"?"text-light":"text-dark"}`,children:"Analyse Détaillée des Réponses"}),e.jsxs("p",{className:`mb-0 ${n==="dark"?"text-light":"text-muted"}`,children:[U?.name," - ",V?.titre]})]})]})}),e.jsx("div",{className:"d-flex gap-2",children:e.jsxs($,{variant:"outline-primary",as:xe,to:`/formateur/evaluation/${t}/questions`,children:[e.jsx("i",{"data-feather":"help-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Questions"]})})]}),e.jsx(w,{className:`border-0 shadow-sm mb-4 ${n==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{children:e.jsxs(pe,{className:"align-items-center",children:[e.jsx(T,{md:2,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`mx-auto mb-2 p-3 rounded-circle ${n==="dark"?"bg-info bg-opacity-25":"bg-info bg-opacity-10"}`,style:{width:"80px",height:"80px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("i",{"data-feather":"user",className:"text-info",style:{width:"32px",height:"32px"}})}),e.jsx("h6",{className:`mb-0 ${n==="dark"?"text-light":"text-dark"}`,children:U?.name}),e.jsx("small",{className:"text-muted",children:U?.matricule})]})}),e.jsx(T,{md:10,children:e.jsxs(pe,{children:[e.jsx(T,{md:3,children:e.jsxs("div",{className:"text-center p-3",children:[e.jsxs("h3",{className:`mb-1 text-${F(l.pourcentage)}`,children:[l.pourcentage.toFixed(1),"%"]}),e.jsx("small",{className:n==="dark"?"text-light":"text-muted",children:"Score Final"}),e.jsx(Zt,{now:l.pourcentage,variant:F(l.pourcentage),style:{height:"6px"},className:"mt-2"})]})}),e.jsx(T,{md:3,children:e.jsxs("div",{className:"text-center p-3",children:[e.jsx("h3",{className:`mb-1 ${n==="dark"?"text-light":"text-dark"}`,children:l.points_obtenus}),e.jsx("small",{className:n==="dark"?"text-light":"text-muted",children:"Points Obtenus"}),e.jsxs("div",{className:"small text-muted mt-1",children:["/ ",l.total_points_possibles]})]})}),e.jsx(T,{md:3,children:e.jsxs("div",{className:"text-center p-3",children:[e.jsx("h3",{className:`mb-1 ${n==="dark"?"text-light":"text-dark"}`,children:l.questions_repondues}),e.jsx("small",{className:n==="dark"?"text-light":"text-muted",children:"Questions Répondues"}),e.jsxs("div",{className:"small text-muted mt-1",children:["/ ",l.total_questions]})]})}),e.jsx(T,{md:3,children:e.jsxs("div",{className:"text-center p-3",children:[e.jsx("h3",{className:`mb-1 ${n==="dark"?"text-light":"text-dark"}`,children:l.reponses_correctes}),e.jsx("small",{className:n==="dark"?"text-light":"text-muted",children:"Réponses Correctes"}),e.jsx("div",{className:"small text-muted mt-1",children:l.temps_total})]})})]})})]})})}),e.jsx(w,{className:`border-0 shadow-sm mb-4 ${n==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{children:e.jsxs(pe,{children:[e.jsx(T,{md:8,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:`me-3 p-2 rounded-circle ${n==="dark"?"bg-success bg-opacity-25":"bg-success bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"clipboard",className:"text-success",style:{width:"20px",height:"20px"}})}),e.jsxs("div",{children:[e.jsx("h6",{className:`mb-1 ${n==="dark"?"text-light":"text-dark"}`,children:V?.titre}),e.jsxs("div",{className:"d-flex gap-2 align-items-center flex-wrap",children:[e.jsx("small",{className:"text-muted",children:V?.matricule}),e.jsx(oe,{bg:"success",children:V?.status}),e.jsx("small",{className:"text-muted",children:"•"}),e.jsxs("small",{className:n==="dark"?"text-light":"text-muted",children:[e.jsx("i",{"data-feather":"home",className:"me-1",style:{width:"12px",height:"12px"}}),V?.matiere?.classroom?.name]}),e.jsx("small",{className:"text-muted",children:"•"}),e.jsxs("small",{className:n==="dark"?"text-light":"text-muted",children:[e.jsx("i",{"data-feather":"book",className:"me-1",style:{width:"12px",height:"12px"}}),V?.matiere?.nom]})]})]})]})}),e.jsx(T,{md:4,children:e.jsxs("div",{className:"text-end",children:[e.jsxs("div",{className:`small ${n==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"12px",height:"12px"}}),I(V?.date_debut)]}),e.jsxs("div",{className:`small ${n==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"clock",className:"me-1",style:{width:"12px",height:"12px"}}),"Durée: ",V?.duree_minutes," minutes"]})]})})]})})}),e.jsxs(w,{className:`shadow-sm border-0 ${n==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${n==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"list",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${n==="dark"?"text-light":"text-dark"}`,children:"Détail par Question"})]})}),e.jsx(w.Body,{className:`p-0 ${n==="dark"?"bg-dark":"bg-white"}`,children:P?.length>0?e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`align-middle mb-0 ${n==="dark"?"table-dark":""}`,children:[e.jsx("thead",{className:"table-primary",children:e.jsxs("tr",{children:[e.jsx("th",{width:"60",children:"#"}),e.jsx("th",{children:"Question"}),e.jsx("th",{className:"text-center",children:"Type"}),e.jsx("th",{className:"text-center",children:"Réponse"}),e.jsx("th",{className:"text-center",children:"Points"}),e.jsx("th",{className:"text-center",children:"Statut"}),e.jsx("th",{className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:P.map((q,G)=>{const se=Q(q.statut,q.est_correcte),O=p?.question?.matricule===q.question?.matricule;return e.jsxs("tr",{children:[e.jsx("td",{className:"text-center",children:e.jsx("div",{className:"bg-primary bg-opacity-10 text-primary rounded-circle d-inline-flex align-items-center justify-content-center",style:{width:"32px",height:"32px"},children:e.jsx("small",{className:"fw-bold",children:G+1})})}),e.jsx("td",{children:e.jsxs("div",{className:`${n==="dark"?"text-light":"text-dark"}`,children:[e.jsx("div",{className:"fw-medium mb-1",children:q.question?.enonce?.length>60?q.question.enonce.substring(0,60)+"...":q.question?.enonce}),e.jsx("small",{className:"text-muted",children:q.question?.matricule}),q.question?.explication&&e.jsxs("div",{className:"small text-info mt-1",children:[e.jsx("i",{"data-feather":"info",className:"me-1",style:{width:"10px",height:"10px"}}),"Explication disponible"]})]})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:q.question?.type==="QCM"?"info":"success",className:"px-2 py-1",children:q.question?.type})}),e.jsx("td",{className:"text-center",children:q.statut==="Non répondue"?e.jsx(oe,{bg:"secondary",children:"Non répondue"}):e.jsx("div",{className:"small",children:q.question?.type==="QCM"?e.jsxs("div",{children:[e.jsxs(oe,{className:"mb-1",children:["Choix: ",q.reponse?.choix_selectionne_qcm]}),e.jsxs("div",{className:"text-success small",children:["Bonne réponse: ",q.question?.bonne_reponse_general]})]}):e.jsxs("div",{className:n==="dark"?"text-light":"text-dark",children:[q.reponse?.reponse_donnee?.substring(0,30),q.reponse?.reponse_donnee?.length>30&&"..."]})})}),e.jsx("td",{className:"text-center",children:O?e.jsx(b.Control,{type:"number",size:"sm",style:{width:"80px",margin:"0 auto"},min:"0",max:q.question?.points,step:"0.5",value:y.points_obtenus,onChange:W=>k({...y,points_obtenus:parseFloat(W.target.value)}),className:n==="dark"?"bg-dark text-light border-secondary":""}):e.jsxs(oe,{bg:"primary",className:"px-2 py-1",children:[q.points_obtenus,"/",q.question?.points]})}),e.jsx("td",{className:"text-center",children:e.jsxs(oe,{bg:se.bg,className:"px-2 py-1",children:[e.jsx("i",{"data-feather":se.icon,className:"me-1",style:{width:"10px",height:"10px"}}),se.text]})}),e.jsx("td",{className:"text-center",children:O?e.jsxs("div",{className:"d-flex gap-1 justify-content-center",children:[e.jsx($,{variant:"success",size:"sm",onClick:K,title:"Sauvegarder",children:e.jsx("i",{"data-feather":"check",style:{width:"12px",height:"12px"}})}),e.jsx($,{variant:"secondary",size:"sm",onClick:()=>j(null),title:"Annuler",children:e.jsx("i",{"data-feather":"x",style:{width:"12px",height:"12px"}})})]}):e.jsxs("div",{className:"d-flex gap-1 justify-content-center",children:[e.jsx($,{variant:"outline-info",size:"sm",onClick:()=>H(q),title:"Voir les détails",children:e.jsx("i",{"data-feather":"eye",style:{width:"12px",height:"12px"}})}),q.question?.type==="Libre"&&e.jsx($,{variant:"outline-warning",size:"sm",onClick:()=>z(q),title:"Corriger manuellement",children:e.jsx("i",{"data-feather":"edit",style:{width:"12px",height:"12px"}})})]})})]},q.question?.matricule||G)})})]})}):e.jsx("div",{className:"text-center py-5",children:e.jsxs("div",{className:`${n==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"clipboard",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucune réponse trouvée"}),e.jsx("p",{className:"small mb-0",children:"L'étudiant n'a pas encore répondu à cette évaluation."})]})]})})})]}),e.jsxs(Y,{show:o,onHide:()=>u(!1),centered:!0,size:"lg",contentClassName:n==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:n==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Détail de la Question"})}),e.jsx(Y.Body,{className:n==="dark"?"bg-dark text-light":"",children:d&&e.jsxs("div",{children:[e.jsx(w,{className:`mb-4 ${n==="dark"?"bg-secondary":"bg-light"}`,children:e.jsxs(w.Body,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[e.jsx("h6",{className:`mb-0 ${n==="dark"?"text-light":"text-dark"}`,children:"Énoncé de la question"}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(oe,{bg:d.question?.type==="QCM"?"info":"success",children:d.question?.type}),e.jsxs(oe,{bg:"primary",children:[d.question?.points," points"]})]})]}),e.jsx("p",{className:`mb-0 ${n==="dark"?"text-light":"text-dark"}`,children:d.question?.enonce})]})}),d.question?.type==="QCM"&&e.jsx(w,{className:`mb-4 ${n==="dark"?"bg-secondary":"bg-light"}`,children:e.jsxs(w.Body,{children:[e.jsx("h6",{className:`mb-3 ${n==="dark"?"text-light":"text-dark"}`,children:"Choix multiples"}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:`p-2 rounded ${d.question?.bonne_reponse_general==="A"?"bg-success bg-opacity-20":""}`,children:[e.jsx("strong",{children:"A:"})," ",d.question?.choix_a]})}),e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:`p-2 rounded ${d.question?.bonne_reponse_general==="B"?"bg-success bg-opacity-20":""}`,children:[e.jsx("strong",{children:"B:"})," ",d.question?.choix_b]})}),d.question?.choix_c&&e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:`p-2 rounded ${d.question?.bonne_reponse_general==="C"?"bg-success bg-opacity-20":""}`,children:[e.jsx("strong",{children:"C:"})," ",d.question?.choix_c]})})]}),e.jsx("div",{className:"mt-3",children:e.jsxs("small",{className:"text-success",children:[e.jsx("i",{"data-feather":"check-circle",className:"me-1",style:{width:"12px",height:"12px"}}),"Bonne réponse: ",d.question?.bonne_reponse_general]})})]})}),e.jsx(w,{className:`mb-4 ${n==="dark"?"bg-secondary":"bg-light"}`,children:e.jsxs(w.Body,{children:[e.jsx("h6",{className:`mb-3 ${n==="dark"?"text-light":"text-dark"}`,children:"Réponse de l'étudiant"}),d.statut==="Non répondue"?e.jsxs("p",{className:"text-muted mb-0",children:[e.jsx("i",{"data-feather":"minus-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"L'étudiant n'a pas répondu à cette question."]}):e.jsxs("div",{children:[d.question?.type==="QCM"?e.jsxs("div",{children:[e.jsxs("p",{className:`mb-2 ${n==="dark"?"text-light":"text-dark"}`,children:[e.jsx("strong",{children:"Choix sélectionné:"})," ",d.reponse?.choix_selectionne_qcm]}),e.jsx(oe,{bg:d.est_correcte?"success":"danger",className:"px-3 py-2",children:d.est_correcte?"Réponse correcte":"Réponse incorrecte"})]}):e.jsxs("div",{children:[e.jsx("p",{className:`mb-2 ${n==="dark"?"text-light":"text-dark"}`,children:e.jsx("strong",{children:"Réponse donnée:"})}),e.jsx("div",{className:"p-3 border rounded bg-white text-dark",children:d.reponse?.reponse_donnee||"Aucune réponse"}),d.question?.reponse_attendue&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:`mb-2 ${n==="dark"?"text-light":"text-dark"}`,children:e.jsx("strong",{children:"Réponse attendue:"})}),e.jsx("div",{className:"p-3 border rounded bg-success bg-opacity-10",children:d.question.reponse_attendue})]})]}),d.reponse?.heure_reponse&&e.jsx("div",{className:"mt-3",children:e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{"data-feather":"clock",className:"me-1",style:{width:"12px",height:"12px"}}),"Répondu le ",I(d.reponse.heure_reponse)]})})]})]})}),d.question?.explication&&e.jsx(w,{className:`mb-4 ${n==="dark"?"bg-info bg-opacity-10":"bg-info bg-opacity-5"}`,children:e.jsxs(w.Body,{children:[e.jsxs("h6",{className:`mb-3 ${n==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"16px",height:"16px"}}),"Explication"]}),e.jsx("p",{className:`mb-0 ${n==="dark"?"text-light":"text-dark"}`,children:d.question.explication})]})})]})}),e.jsx(Y.Footer,{className:n==="dark"?"bg-dark text-light border-secondary":"",children:e.jsx($,{variant:"secondary",onClick:()=>u(!1),children:"Fermer"})})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:v,onClose:()=>S(!1),delay:3e3,autohide:!0,bg:A==="success"?"success":"danger",className:n==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${A==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":A==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:n==="dark"?"bg-dark text-light":"",children:C})]})})]})})}function QEe(){const[s,t]=x.useState(!0),[a,r]=x.useState("light"),[n,i]=x.useState({}),[l,c]=x.useState({}),[o,u]=x.useState([]),[d,f]=x.useState([]),[p,j]=x.useState([]),[y,k]=x.useState({search:"",matricule_classroom:"",matricule_matiere:"",matricule_evaluation:""}),[v,S]=x.useState({}),[C,_]=x.useState(!1),[A,D]=x.useState(null);x.useEffect(()=>{const H=document.documentElement.getAttribute("data-theme")||"light";r(H);const z=new MutationObserver(()=>{const K=document.documentElement.getAttribute("data-theme")||"light";r(K)});return z.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>z.disconnect()},[]);const M=x.useCallback(async()=>{try{t(!0);const H={};Object.keys(y).forEach(K=>{y[K]?.trim()&&(H[K]=y[K].trim())});const z=await he.get("/formateur/answers/results-grouped",{params:H});i(z.data.resultats_groupes||{}),c(z.data.statistiques_generales||{}),u(z.data.classrooms||[]),f(z.data.matieres||[]),j(z.data.evaluations||[])}catch(H){console.error("Erreur lors du chargement des résultats:",H)}finally{t(!1)}},[y]);x.useEffect(()=>{M()},[M]),x.useEffect(()=>{We.replace()},[n]);const L=H=>{S(z=>({...z,[H]:!z[H]}))},F=H=>{D(H),_(!0)},Q=H=>H>=80?"success":H>=60?"warning":H>=40?"primary":"danger",I=y.matricule_classroom?d.filter(H=>H.matricule_classroom===y.matricule_classroom):d;return s?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des résultats..."})]})}):e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${a==="dark"?"bg-success bg-opacity-25":"bg-success bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"bar-chart-2",className:"text-success",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${a==="dark"?"text-light":"text-dark"}`,children:"Résultats des Étudiants"}),e.jsx("p",{className:`mb-0 ${a==="dark"?"text-light":"text-muted"}`,children:"Vue d'ensemble des résultats groupés par classe, matière et évaluation"})]})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:l.total_reponses||0}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Réponses totales"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"message-circle",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-info",children:l.total_etudiants||0}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Étudiants"})]}),e.jsx("div",{className:"text-info",children:e.jsx("i",{"data-feather":"users",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:l.total_evaluations||0}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Évaluations"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"clipboard",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-warning",children:l.total_classes||0}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Classes"})]}),e.jsx("div",{className:"text-warning",children:e.jsx("i",{"data-feather":"home",style:{width:"24px",height:"24px"}})})]})})})})]})]}),e.jsxs(w,{className:`shadow-sm border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"bar-chart-2",className:"text-success me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:"Résultats Détaillés"}),e.jsx(Ga,{className:"ms-3",children:e.jsx($,{variant:"outline-success",size:"sm",as:xe,to:"/formateur/answers/statistics",children:e.jsx("i",{"data-feather":"bar-chart-2",style:{width:"14px",height:"14px"}})})})]})})}),e.jsxs(w.Body,{className:a==="dark"?"bg-dark":"bg-white",children:[e.jsx("div",{className:"mb-4 p-3 rounded",style:{backgroundColor:a==="dark"?"#1a1a1a":"#f8f9fa"},children:e.jsxs(pe,{className:"g-3",children:[e.jsxs(T,{md:3,children:[e.jsxs(b.Label,{className:`small fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"search",className:"me-1",style:{width:"14px",height:"14px"}}),"Recherche"]}),e.jsx(b.Control,{type:"text",placeholder:"Rechercher...",value:y.search,onChange:H=>k({...y,search:H.target.value}),className:a==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs(T,{md:3,children:[e.jsxs(b.Label,{className:`small fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"home",className:"me-1",style:{width:"14px",height:"14px"}}),"Classe"]}),e.jsxs(b.Select,{value:y.matricule_classroom,onChange:H=>k({...y,matricule_classroom:H.target.value,matricule_matiere:""}),className:a==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Toutes les classes"}),o.map(H=>e.jsx("option",{value:H.matricule,children:H.name},H.matricule))]})]}),e.jsxs(T,{md:3,children:[e.jsxs(b.Label,{className:`small fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"book",className:"me-1",style:{width:"14px",height:"14px"}}),"Matière"]}),e.jsxs(b.Select,{value:y.matricule_matiere,onChange:H=>k({...y,matricule_matiere:H.target.value}),className:a==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Toutes les matières"}),I.map(H=>e.jsx("option",{value:H.matricule,children:H.nom},H.matricule))]})]}),e.jsxs(T,{md:3,children:[e.jsxs(b.Label,{className:`small fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"clipboard",className:"me-1",style:{width:"14px",height:"14px"}}),"Évaluation"]}),e.jsxs(b.Select,{value:y.matricule_evaluation,onChange:H=>k({...y,matricule_evaluation:H.target.value}),className:a==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Toutes les évaluations"}),p.map(H=>e.jsx("option",{value:H.matricule,children:H.titre},H.matricule))]})]})]})}),Object.keys(n).length>0?e.jsx("div",{className:"results-grouped",children:Object.entries(n).map(([H,z])=>e.jsxs(w,{className:`mb-4 border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`${a==="dark"?"bg-dark border-secondary":"bg-light"} cursor-pointer`,onClick:()=>L(`classe-${H}`),children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"home",className:"text-primary me-3",style:{width:"20px",height:"20px"}}),e.jsxs("div",{children:[e.jsx("h5",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:H}),e.jsxs("small",{className:"text-muted",children:[z.stats.total_reponses," réponses • ",Object.keys(z.matieres).length," matières"]})]})]}),e.jsx("i",{"data-feather":v[`classe-${H}`]?"chevron-up":"chevron-down",className:`${a==="dark"?"text-light":"text-muted"}`,style:{width:"20px",height:"20px"}})]})}),e.jsx(Oa,{in:v[`classe-${H}`]!==!1,children:e.jsx(w.Body,{className:a==="dark"?"bg-dark":"",children:Object.entries(z.matieres).map(([K,U])=>e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:`p-3 rounded mb-3 cursor-pointer ${a==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,onClick:()=>L(`matiere-${H}-${K}`),children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"book",className:"text-success me-2",style:{width:"18px",height:"18px"}}),e.jsx("h6",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:K}),e.jsxs(oe,{bg:"success",className:"ms-2",children:[U.stats.total_reponses," réponses"]})]}),e.jsx("i",{"data-feather":v[`matiere-${H}-${K}`]?"chevron-up":"chevron-down",className:`${a==="dark"?"text-light":"text-muted"}`,style:{width:"18px",height:"18px"}})]})}),e.jsx(Oa,{in:v[`matiere-${H}-${K}`]!==!1,children:e.jsx("div",{children:Object.entries(U.evaluations).map(([V,P])=>e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:`p-3 rounded mb-2 cursor-pointer ${a==="dark"?"bg-info bg-opacity-10":"bg-info bg-opacity-5"}`,onClick:()=>L(`evaluation-${H}-${K}-${V}`),children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"clipboard",className:"text-info me-2",style:{width:"16px",height:"16px"}}),e.jsx("span",{className:`fw-medium ${a==="dark"?"text-light":"text-dark"}`,children:V}),e.jsxs(oe,{bg:"info",className:"ms-2",children:[Object.keys(P.questions).length," questions"]}),e.jsxs(oe,{bg:Q(P.stats.taux_reussite||0),className:"ms-1",children:[(P.stats.taux_reussite||0).toFixed(1),"% réussite"]})]}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx($,{variant:"outline-info",size:"sm",as:xe,to:`/formateur/answers/evaluation/${P.evaluation?.matricule}/results`,onClick:q=>q.stopPropagation(),title:"Voir les résultats détaillés",children:e.jsx("i",{"data-feather":"eye",style:{width:"12px",height:"12px"}})}),e.jsx("i",{"data-feather":v[`evaluation-${H}-${K}-${V}`]?"chevron-up":"chevron-down",className:`${a==="dark"?"text-light":"text-muted"}`,style:{width:"16px",height:"16px"}})]})]})}),e.jsx(Oa,{in:v[`evaluation-${H}-${K}-${V}`]!==!1,children:e.jsx("div",{className:"ps-4",children:e.jsxs(Et,{size:"sm",className:`${a==="dark"?"table-dark":""} mb-0`,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{width:"50",children:"#"}),e.jsx("th",{children:"Question"}),e.jsx("th",{className:"text-center",children:"Réponses"}),e.jsx("th",{className:"text-center",children:"Taux de réussite"}),e.jsx("th",{className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:Object.entries(P.questions).map(([q,G],se)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:"secondary",children:se+1})}),e.jsxs("td",{children:[e.jsx("div",{className:`${a==="dark"?"text-light":"text-dark"}`,children:q.length>60?q.substring(0,60)+"...":q}),e.jsxs("small",{className:"text-muted",children:[G.question?.points," points • Type: ",G.question?.type]})]}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:"primary",children:G.stats.total_reponses})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[e.jsx(Zt,{now:G.stats.taux_reussite||0,variant:Q(G.stats.taux_reussite||0),style:{width:"80px",height:"8px"},className:"me-2"}),e.jsxs("small",{children:[(G.stats.taux_reussite||0).toFixed(1),"%"]})]})}),e.jsx("td",{className:"text-center",children:e.jsx($,{variant:"outline-success",size:"sm",onClick:()=>F(G),title:"Voir les détails",children:e.jsx("i",{"data-feather":"users",style:{width:"12px",height:"12px"}})})})]},se))})]})})})]},V))})})]},K))})})]},H))}):e.jsx("div",{className:"text-center py-5",children:e.jsxs("div",{className:`${a==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"bar-chart-2",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucun résultat trouvé"}),e.jsx("p",{className:"small mb-0",children:"Aucun résultat ne correspond à vos critères de recherche."})]})]})})]})]}),e.jsxs(Y,{show:C,onHide:()=>_(!1),centered:!0,size:"lg",contentClassName:a==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:a==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Détail des réponses par question"})}),e.jsx(Y.Body,{className:a==="dark"?"bg-dark text-light":"",children:A&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h6",{className:a==="dark"?"text-light":"text-dark",children:A.question?.enonce}),e.jsxs("div",{className:"d-flex gap-2 mb-3",children:[e.jsxs(oe,{bg:"info",children:["Type: ",A.question?.type]}),e.jsxs(oe,{bg:"primary",children:[A.question?.points," points"]}),e.jsxs(oe,{bg:Q(A.stats?.taux_reussite||0),children:[(A.stats?.taux_reussite||0).toFixed(1),"% réussite"]})]})]}),e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{className:`${a==="dark"?"table-dark":""}`,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Étudiant"}),e.jsx("th",{children:"Réponse donnée"}),e.jsx("th",{className:"text-center",children:"Points obtenus"}),e.jsx("th",{className:"text-center",children:"Statut"})]})}),e.jsx("tbody",{children:A.etudiants&&Object.entries(A.etudiants).map(([H,z])=>e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("div",{className:`${a==="dark"?"text-light":"text-dark"}`,children:H}),e.jsx("small",{className:"text-muted",children:z.etudiant?.matricule})]}),e.jsx("td",{children:e.jsx("div",{className:`${a==="dark"?"text-light":"text-dark"}`,children:A.question?.type==="QCM"?z.reponse?.choix_selectionne_qcm||"Non répondu":z.reponse?.reponse_donnee||"Non répondu"})}),e.jsx("td",{className:"text-center",children:e.jsxs(oe,{bg:"primary",children:[z.points_obtenus||0,"/",A.question?.points]})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:z.est_correcte?"success":z.est_correcte===!1?"danger":"secondary",children:z.est_correcte===!0?"Correct":z.est_correcte===!1?"Incorrect":"À corriger"})})]},H))})]})})]})}),e.jsx(Y.Footer,{className:a==="dark"?"bg-dark text-light border-secondary":"",children:e.jsx($,{variant:"secondary",onClick:()=>_(!1),children:"Fermer"})})]})]})})}function XEe(){const[s,t]=x.useState(!0),[a,r]=x.useState("light"),[n,i]=x.useState({}),[l,c]=x.useState([]),[o,u]=x.useState([]),[d,f]=x.useState({matricule_classroom:"",matricule_matiere:"",date_debut:"",date_fin:""}),p=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"];x.useEffect(()=>{const S=document.documentElement.getAttribute("data-theme")||"light";r(S);const C=new MutationObserver(()=>{const _=document.documentElement.getAttribute("data-theme")||"light";r(_)});return C.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>C.disconnect()},[]);const j=x.useCallback(async()=>{try{t(!0);const S={};Object.keys(d).forEach(D=>{d[D]?.trim()&&(S[D]=d[D].trim())});const[C,_,A]=await Promise.all([he.get("/formateur/answers/statistics/advanced",{params:S}),he.get("/formateur/view/classroom"),he.get("/formateur/view/matiere")]);i(C.data.statistiques||{}),c(_.data.classrooms||[]),u(A.data.matieres||[])}catch(S){console.error("Erreur lors du chargement des statistiques:",S)}finally{t(!1)}},[d]);x.useEffect(()=>{j()},[j]),x.useEffect(()=>{We.replace()},[n]);const y=()=>n.taux_reussite?.par_classe?Object.entries(n.taux_reussite.par_classe).map(([S,C])=>({name:S,taux:C.taux,total:C.total_reponses,correctes:C.reponses_correctes})):[],k=()=>n.par_type_question?[{name:"QCM",value:n.par_type_question.qcm},{name:"Libre",value:n.par_type_question.libre}]:[],v=d.matricule_classroom?o.filter(S=>S.matricule_classroom===d.matricule_classroom):o;return s?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des statistiques..."})]})}):e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${a==="dark"?"bg-warning bg-opacity-25":"bg-warning bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"trending-up",className:"text-warning",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${a==="dark"?"text-light":"text-dark"}`,children:"Statistiques Avancées"}),e.jsx("p",{className:`mb-0 ${a==="dark"?"text-light":"text-muted"}`,children:"Analyse détaillée des performances et tendances"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs(xe,{to:"/formateur/answers/results",className:"btn btn-outline-secondary btn-sm me-2",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"14px",height:"14px"}}),"Retour aux résultats"]}),e.jsxs(xe,{to:"/formateur/view/evaluations",className:"btn btn-outline-primary btn-sm",children:[e.jsx("i",{"data-feather":"clipboard",className:"me-1",style:{width:"14px",height:"14px"}}),"Gestion des évaluations"]})]}),n.general&&e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:n.general.total_reponses}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Réponses totales"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"message-circle",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-info",children:n.general.total_etudiants}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Étudiants actifs"})]}),e.jsx("div",{className:"text-info",children:e.jsx("i",{"data-feather":"users",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:n.general.total_evaluations}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Évaluations"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"clipboard",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"mb-0 text-warning",children:[n.taux_reussite?.global||0,"%"]}),e.jsx("small",{className:a==="dark"?"text-light":"text-muted",children:"Taux global"})]}),e.jsx("div",{className:"text-warning",children:e.jsx("i",{"data-feather":"trending-up",style:{width:"24px",height:"24px"}})})]})})})})]})]}),e.jsxs(w,{className:`shadow-sm border-0 mb-4 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"filter",className:"me-2",style:{width:"20px",height:"20px"}}),"Filtres d'analyse"]})}),e.jsx(w.Body,{children:e.jsxs(pe,{className:"g-3",children:[e.jsxs(T,{md:3,children:[e.jsxs(b.Label,{className:`small fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"home",className:"me-1",style:{width:"14px",height:"14px"}}),"Classe"]}),e.jsxs(b.Select,{value:d.matricule_classroom,onChange:S=>f({...d,matricule_classroom:S.target.value,matricule_matiere:""}),className:a==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Toutes les classes"}),l.map(S=>e.jsx("option",{value:S.matricule,children:S.name},S.matricule))]})]}),e.jsxs(T,{md:3,children:[e.jsxs(b.Label,{className:`small fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"book",className:"me-1",style:{width:"14px",height:"14px"}}),"Matière"]}),e.jsxs(b.Select,{value:d.matricule_matiere,onChange:S=>f({...d,matricule_matiere:S.target.value}),className:a==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Toutes les matières"}),v.map(S=>e.jsx("option",{value:S.matricule,children:S.nom},S.matricule))]})]}),e.jsxs(T,{md:3,children:[e.jsxs(b.Label,{className:`small fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"14px",height:"14px"}}),"Date début"]}),e.jsx(b.Control,{type:"date",value:d.date_debut,onChange:S=>f({...d,date_debut:S.target.value}),className:a==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs(T,{md:3,children:[e.jsxs(b.Label,{className:`small fw-bold ${a==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"14px",height:"14px"}}),"Date fin"]}),e.jsx(b.Control,{type:"date",value:d.date_fin,onChange:S=>f({...d,date_fin:S.target.value}),className:a==="dark"?"bg-dark text-light border-secondary":""})]})]})})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:8,children:e.jsxs(w,{className:`shadow-sm border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"trending-up",className:"me-2",style:{width:"20px",height:"20px"}}),"Évolution des Réponses (30 derniers jours)"]})}),e.jsx(w.Body,{children:n.evolution_temporelle?.length>0?e.jsx(Sa,{width:"100%",height:300,children:e.jsxs(Kg,{data:n.evolution_temporelle,children:[e.jsx(sn,{strokeDasharray:"3 3"}),e.jsx(zr,{dataKey:"date",tickFormatter:S=>new Date(S).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"})}),e.jsx(Hr,{}),e.jsx(Da,{labelFormatter:S=>new Date(S).toLocaleDateString("fr-FR")}),e.jsx(bn,{type:"monotone",dataKey:"total_reponses",stroke:"#8884d8",strokeWidth:2,name:"Réponses"}),e.jsx(bn,{type:"monotone",dataKey:"etudiants_actifs",stroke:"#82ca9d",strokeWidth:2,name:"Étudiants actifs"})]})}):e.jsx("div",{className:"text-center py-4",children:e.jsx("p",{className:"text-muted",children:"Pas assez de données pour afficher le graphique"})})})]})}),e.jsx(T,{md:4,children:e.jsxs(w,{className:`shadow-sm border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"pie-chart",className:"me-2",style:{width:"20px",height:"20px"}}),"Types de Questions"]})}),e.jsx(w.Body,{children:n.par_type_question&&e.jsx(Sa,{width:"100%",height:300,children:e.jsxs(qm,{children:[e.jsx(Kh,{data:k(),cx:"50%",cy:"50%",labelLine:!1,label:({name:S,percent:C})=>`${S} ${(C*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:k().map((S,C)=>e.jsx(Yc,{fill:p[C%p.length]},`cell-${C}`))}),e.jsx(Da,{})]})})})]})})]}),e.jsx(pe,{className:"mb-4",children:e.jsx(T,{md:12,children:e.jsxs(w,{className:`shadow-sm border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"bar-chart-2",className:"me-2",style:{width:"20px",height:"20px"}}),"Taux de Réussite par Classe"]})}),e.jsx(w.Body,{children:y().length>0?e.jsx(Sa,{width:"100%",height:300,children:e.jsxs(d1,{data:y(),children:[e.jsx(sn,{strokeDasharray:"3 3"}),e.jsx(zr,{dataKey:"name"}),e.jsx(Hr,{}),e.jsx(Da,{formatter:(S,C)=>[C==="taux"?`${S}%`:S,C==="taux"?"Taux de réussite":C==="total"?"Total réponses":"Réponses correctes"]}),e.jsx(Wg,{dataKey:"taux",fill:"#8884d8",name:"taux"})]})}):e.jsx("div",{className:"text-center py-4",children:e.jsx("p",{className:"text-muted",children:"Aucune donnée disponible"})})})]})})}),n.top_etudiants?.length>0&&e.jsxs(w,{className:`shadow-sm border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"users",className:"me-2",style:{width:"20px",height:"20px"}}),"Top 10 des Étudiants les Plus Actifs"]})}),e.jsx(w.Body,{children:e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`align-middle mb-0 ${a==="dark"?"table-dark":""}`,children:[e.jsx("thead",{className:"table-primary",children:e.jsxs("tr",{children:[e.jsx("th",{width:"60",children:"#"}),e.jsx("th",{children:"Étudiant"}),e.jsx("th",{className:"text-center",children:"Réponses"}),e.jsx("th",{className:"text-center",children:"Correctes"}),e.jsx("th",{className:"text-center",children:"Taux de réussite"}),e.jsx("th",{className:"text-center",children:"Performance"})]})}),e.jsx("tbody",{children:n.top_etudiants.map((S,C)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-center",children:e.jsx("div",{className:"bg-primary bg-opacity-10 text-primary rounded-circle d-inline-flex align-items-center justify-content-center",style:{width:"32px",height:"32px"},children:e.jsx("small",{className:"fw-bold",children:C+1})})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:`me-2 p-2 rounded-circle ${a==="dark"?"bg-info bg-opacity-25":"bg-info bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"user",className:"text-info",style:{width:"16px",height:"16px"}})}),e.jsxs("div",{children:[e.jsx("div",{className:`fw-medium ${a==="dark"?"text-light":"text-dark"}`,children:S.etudiant?.name||"Étudiant inconnu"}),e.jsx("small",{className:"text-muted",children:S.etudiant?.matricule})]})]})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:"primary",className:"px-2 py-1",children:S.total_reponses})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:"success",className:"px-2 py-1",children:S.reponses_correctes})}),e.jsx("td",{className:"text-center",children:e.jsxs(oe,{bg:S.taux_reussite>=80?"success":S.taux_reussite>=60?"warning":"danger",className:"px-2 py-1",children:[S.taux_reussite,"%"]})}),e.jsx("td",{className:"text-center",children:e.jsx("div",{style:{width:"100px"},children:e.jsx(Zt,{now:S.taux_reussite,variant:S.taux_reussite>=80?"success":S.taux_reussite>=60?"warning":"danger",style:{height:"8px"}})})})]},S.etudiant?.matricule||C))})]})})})]})]})})}function ZEe(){const{evaluationId:s}=is(),[t,a]=x.useState(!0),[r,n]=x.useState("light"),[i,l]=x.useState(null),[c,o]=x.useState([]),[u,d]=x.useState({}),[f,p]=x.useState({}),[j,y]=x.useState(!1),[k,v]=x.useState(null),[S,C]=x.useState(""),[_,A]=x.useState("rang"),[D,M]=x.useState("asc"),[L,F]=x.useState("tous");x.useEffect(()=>{const q=document.documentElement.getAttribute("data-theme")||"light";n(q);const G=new MutationObserver(()=>{const se=document.documentElement.getAttribute("data-theme")||"light";n(se)});return G.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>G.disconnect()},[]);const Q=x.useCallback(async()=>{try{a(!0);const q=await he.get(`/formateur/answers/evaluation/${s}/results-by-student`);l(q.data.evaluation),o(q.data.resultats_par_etudiant||[]),d(q.data.statistiques||{}),p(q.data.metadonnees||{})}catch(q){console.error("Erreur lors du chargement des résultats:",q)}finally{a(!1)}},[s]);x.useEffect(()=>{s&&Q()},[Q]),x.useEffect(()=>{We.replace()},[c]);const I=c.filter(q=>{const G=!S||q.etudiant?.name?.toLowerCase().includes(S.toLowerCase())||q.etudiant?.matricule?.toLowerCase().includes(S.toLowerCase()),se=L==="tous"||L==="participants"&&q.a_participe||L==="absents"&&!q.a_participe;return G&&se}).sort((q,G)=>{let se=0;switch(_){case"name":se=(q.etudiant?.name||"").localeCompare(G.etudiant?.name||"");break;case"score":se=q.pourcentage-G.pourcentage;break;case"participation":se=(q.a_participe?1:0)-(G.a_participe?1:0);break;case"rang":default:!q.rang&&!G.rang?se=0:q.rang?G.rang?se=q.rang-G.rang:se=-1:se=1;break}return D==="desc"?-se:se}),H=q=>q>=80?"success":q>=60?"warning":q>=40?"primary":"danger",z=(q,G)=>G?q===1?{bg:"warning",icon:"award",text:"white"}:q===2?{bg:"secondary",icon:"award",text:"white"}:q===3?{bg:"info",icon:"award",text:"white"}:{bg:"outline-primary",icon:"user",text:"primary"}:{bg:"secondary",icon:"user-x",text:"white"},K=(q,G)=>q?G>=80?{bg:"success",text:"Excellent",icon:"check-circle"}:G>=60?{bg:"warning",text:"Bien",icon:"check"}:G>=40?{bg:"primary",text:"Passable",icon:"minus"}:{bg:"danger",text:"Insuffisant",icon:"x-circle"}:{bg:"secondary",text:"Absent",icon:"user-x"},U=q=>q?new Date(q).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Non définie",V=q=>{v(q),y(!0)},P=q=>{_===q?M(D==="asc"?"desc":"asc"):(A(q),M("asc"))};return t?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des résultats..."})]})}):i?e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:"/formateur/answers/results",className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsxs("div",{children:[e.jsx("h1",{className:`h3 mb-0 ${r==="dark"?"text-light":"text-dark"}`,children:"Résultats par Étudiant"}),e.jsxs("p",{className:`mb-0 ${r==="dark"?"text-light":"text-muted"}`,children:[i.titre," - ",I.length," résultat(s) affiché(s)"]})]})]})}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:"outline-info",as:xe,to:`/formateur/evaluation/${s}/questions`,children:[e.jsx("i",{"data-feather":"help-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Questions"]}),e.jsxs($,{variant:"outline-success",onClick:()=>window.print(),children:[e.jsx("i",{"data-feather":"printer",className:"me-2",style:{width:"16px",height:"16px"}}),"Imprimer"]})]})]}),e.jsx(w,{className:`border-0 shadow-sm mb-4 ${r==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{children:e.jsxs(Fi,{defaultActiveKey:"general",className:"mb-3",children:[e.jsx(xs,{eventKey:"general",title:"Statistiques Générales",children:e.jsxs(pe,{children:[e.jsx(T,{md:2,children:e.jsxs("div",{className:"text-center p-3",children:[e.jsx("h3",{className:`mb-0 ${r==="dark"?"text-light":"text-dark"}`,children:u.nombre_participants||0}),e.jsx("small",{className:r==="dark"?"text-light":"text-muted",children:"Participants"}),e.jsxs("div",{className:"small text-muted mt-1",children:["/ ",u.nombre_inscrits||0," inscrits"]})]})}),e.jsx(T,{md:2,children:e.jsxs("div",{className:"text-center p-3",children:[e.jsxs("h3",{className:"mb-0 text-info",children:[u.taux_participation||0,"%"]}),e.jsx("small",{className:r==="dark"?"text-light":"text-muted",children:"Participation"}),e.jsx(Zt,{now:u.taux_participation||0,variant:"info",style:{height:"4px"},className:"mt-2"})]})}),e.jsx(T,{md:2,children:e.jsxs("div",{className:"text-center p-3",children:[e.jsxs("h3",{className:"mb-0 text-primary",children:[u.moyenne||0,"%"]}),e.jsx("small",{className:r==="dark"?"text-light":"text-muted",children:"Moyenne"}),e.jsxs("div",{className:"small text-muted mt-1",children:["Médiane: ",u.mediane||0,"%"]})]})}),e.jsx(T,{md:2,children:e.jsxs("div",{className:"text-center p-3",children:[e.jsxs("h3",{className:"mb-0 text-success",children:[u.meilleur_score||0,"%"]}),e.jsx("small",{className:r==="dark"?"text-light":"text-muted",children:"Meilleur"})]})}),e.jsx(T,{md:2,children:e.jsxs("div",{className:"text-center p-3",children:[e.jsxs("h3",{className:"mb-0 text-warning",children:[u.plus_faible_score||0,"%"]}),e.jsx("small",{className:r==="dark"?"text-light":"text-muted",children:"Plus faible"})]})}),e.jsx(T,{md:2,children:e.jsxs("div",{className:"text-center p-3",children:[e.jsx("h3",{className:"mb-0 text-secondary",children:u.ecart_type||0}),e.jsx("small",{className:r==="dark"?"text-light":"text-muted",children:"Écart-type"})]})})]})}),e.jsx(xs,{eventKey:"distribution",title:"Distribution",children:u.distribution_notes&&e.jsx(pe,{children:Object.entries(u.distribution_notes).map(([q,G])=>e.jsx(T,{md:3,children:e.jsxs("div",{className:"text-center p-3",children:[e.jsx("div",{className:`h4 mb-1 ${r==="dark"?"text-light":"text-dark"}`,children:G}),e.jsx("div",{className:"small text-muted mb-2",children:q}),e.jsx(Zt,{now:u.nombre_participants>0?G/u.nombre_participants*100:0,style:{height:"4px"}})]})},q))})}),e.jsx(xs,{eventKey:"questions",title:"Analyse Questions",children:u.questions_les_plus_difficiles&&e.jsxs(pe,{children:[e.jsxs(T,{md:6,children:[e.jsx("h6",{className:`mb-3 ${r==="dark"?"text-light":"text-dark"}`,children:"Questions les plus difficiles"}),u.questions_les_plus_difficiles.map((q,G)=>e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs(oe,{bg:"danger",className:"me-2",children:["Q",q.numero]}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsxs("div",{className:"small",children:[q.question.enonce.substring(0,50),"..."]}),e.jsx(Zt,{now:q.taux_reussite,variant:"danger",style:{height:"4px"}})]}),e.jsxs("span",{className:"text-danger ms-2",children:[q.taux_reussite,"%"]})]},G))]}),e.jsxs(T,{md:6,children:[e.jsx("h6",{className:`mb-3 ${r==="dark"?"text-light":"text-dark"}`,children:"Questions les plus faciles"}),u.questions_les_plus_faciles&&u.questions_les_plus_faciles.map((q,G)=>e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs(oe,{bg:"success",className:"me-2",children:["Q",q.numero]}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsxs("div",{className:"small",children:[q.question.enonce.substring(0,50),"..."]}),e.jsx(Zt,{now:q.taux_reussite,variant:"success",style:{height:"4px"}})]}),e.jsxs("span",{className:"text-success ms-2",children:[q.taux_reussite,"%"]})]},G))]})]})})]})})}),e.jsx(w,{className:`border-0 shadow-sm mb-4 ${r==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{children:e.jsxs(pe,{className:"align-items-center",children:[e.jsx(T,{md:8,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:`me-3 p-2 rounded-circle ${r==="dark"?"bg-success bg-opacity-25":"bg-success bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"clipboard",className:"text-success",style:{width:"20px",height:"20px"}})}),e.jsxs("div",{children:[e.jsx("h5",{className:`mb-1 ${r==="dark"?"text-light":"text-dark"}`,children:i.titre}),e.jsxs("div",{className:"d-flex gap-2 align-items-center flex-wrap",children:[e.jsx("small",{className:"text-muted",children:i.matricule}),e.jsx(oe,{bg:"success",children:i.status}),e.jsx("small",{className:"text-muted",children:"•"}),e.jsxs("small",{className:r==="dark"?"text-light":"text-muted",children:[e.jsx("i",{"data-feather":"users",className:"me-1",style:{width:"12px",height:"12px"}}),i.matiere?.classroom?.name]}),e.jsx("small",{className:"text-muted",children:"•"}),e.jsxs("small",{className:r==="dark"?"text-light":"text-muted",children:[e.jsx("i",{"data-feather":"book",className:"me-1",style:{width:"12px",height:"12px"}}),i.matiere?.nom]})]})]})]})}),e.jsx(T,{md:4,children:e.jsxs("div",{className:"text-end",children:[e.jsxs("div",{className:`h4 mb-0 ${r==="dark"?"text-light":"text-dark"}`,children:[i.questions?.length||0," questions"]}),e.jsxs("small",{className:r==="dark"?"text-light":"text-muted",children:[U(i.date_debut)," • ",i.duree_minutes,"min"]})]})})]})})}),e.jsx(w,{className:`shadow-sm border-0 mb-4 ${r==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{children:e.jsxs(pe,{className:"g-3",children:[e.jsxs(T,{md:4,children:[e.jsxs(b.Label,{className:`small fw-bold ${r==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"search",className:"me-1",style:{width:"14px",height:"14px"}}),"Rechercher un étudiant"]}),e.jsx(b.Control,{type:"text",placeholder:"Nom ou matricule de l'étudiant...",value:S,onChange:q=>C(q.target.value),className:r==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs(T,{md:3,children:[e.jsxs(b.Label,{className:`small fw-bold ${r==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"filter",className:"me-1",style:{width:"14px",height:"14px"}}),"Participation"]}),e.jsxs(b.Select,{value:L,onChange:q=>F(q.target.value),className:r==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"tous",children:"Tous les étudiants"}),e.jsx("option",{value:"participants",children:"Participants seulement"}),e.jsx("option",{value:"absents",children:"Absents seulement"})]})]}),e.jsxs(T,{md:5,children:[e.jsxs(b.Label,{className:`small fw-bold ${r==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"sort-asc",className:"me-1",style:{width:"14px",height:"14px"}}),"Trier par"]}),e.jsx("div",{className:"d-flex gap-2",children:e.jsxs(Ga,{children:[e.jsx($,{variant:_==="rang"?"primary":"outline-secondary",size:"sm",onClick:()=>P("rang"),children:"Rang"}),e.jsx($,{variant:_==="name"?"primary":"outline-secondary",size:"sm",onClick:()=>P("name"),children:"Nom"}),e.jsx($,{variant:_==="score"?"primary":"outline-secondary",size:"sm",onClick:()=>P("score"),children:"Score"}),e.jsx($,{variant:_==="participation"?"primary":"outline-secondary",size:"sm",onClick:()=>P("participation"),children:"Participation"})]})})]})]})})}),e.jsxs(w,{className:`shadow-sm border-0 ${r==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${r==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"users",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${r==="dark"?"text-light":"text-dark"}`,children:"Classement et Résultats"})]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs(oe,{bg:"info",className:"px-3 py-2",children:[I.length," résultat(s)"]}),e.jsxs(oe,{bg:"success",className:"px-3 py-2",children:[I.filter(q=>q.a_participe).length," participant(s)"]}),I.filter(q=>!q.a_participe).length>0&&e.jsxs(oe,{bg:"secondary",className:"px-3 py-2",children:[I.filter(q=>!q.a_participe).length," absent(s)"]})]})]})}),e.jsx(w.Body,{className:`p-0 ${r==="dark"?"bg-dark":"bg-white"}`,children:I.length>0?e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`align-middle mb-0 ${r==="dark"?"table-dark":""}`,children:[e.jsx("thead",{className:"table-primary",children:e.jsxs("tr",{children:[e.jsx("th",{width:"80",className:"text-center",children:"Rang"}),e.jsx("th",{children:"Étudiant"}),e.jsx("th",{className:"text-center",children:"Score"}),e.jsx("th",{className:"text-center",children:"Progression"}),e.jsx("th",{className:"text-center",children:"Questions"}),e.jsx("th",{className:"text-center",children:"Temps"}),e.jsx("th",{className:"text-center",children:"Statut"}),e.jsx("th",{className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:I.map((q,G)=>{z(q.rang,q.a_participe);const se=K(q.a_participe,q.pourcentage);return e.jsxs("tr",{className:q.a_participe?"":"table-secondary opacity-75",children:[e.jsx("td",{className:"text-center",children:q.a_participe&&q.rang?e.jsx("div",{className:"d-inline-flex align-items-center justify-content-center rounded-circle",style:{width:"35px",height:"35px",backgroundColor:q.rang<=3?q.rang===1?"#ffd700":q.rang===2?"#c0c0c0":"#cd7f32":"transparent",border:q.rang>3?"2px solid #0d6efd":"none"},children:e.jsxs("strong",{className:q.rang<=3?"text-white":"text-primary",children:["#",q.rang]})}):e.jsx("div",{className:"d-inline-flex align-items-center justify-content-center rounded-circle bg-secondary",style:{width:"35px",height:"35px"},children:e.jsx("i",{"data-feather":"user-x",className:"text-white",style:{width:"16px",height:"16px"}})})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:`me-2 p-2 rounded-circle ${r==="dark"?"bg-info bg-opacity-25":"bg-info bg-opacity-10"}`,children:e.jsx("i",{"data-feather":q.a_participe?"user":"user-x",className:q.a_participe?"text-info":"text-secondary",style:{width:"16px",height:"16px"}})}),e.jsxs("div",{children:[e.jsx("div",{className:`fw-medium ${r==="dark"?"text-light":"text-dark"} ${q.a_participe?"":"text-muted"}`,children:q.etudiant?.name||"Étudiant inconnu"}),e.jsx("small",{className:"text-muted",children:q.etudiant?.matricule||"N/A"})]})]})}),e.jsx("td",{className:"text-center",children:q.a_participe?e.jsxs("div",{children:[e.jsxs(oe,{bg:H(q.pourcentage),className:"px-3 py-2 mb-1",children:[q.pourcentage.toFixed(1),"%"]}),e.jsxs("div",{className:"small text-muted",children:[q.points_obtenus,"/",q.total_points_possibles," pts"]})]}):e.jsx(oe,{bg:"secondary",className:"px-3 py-2",children:"Non participé"})}),e.jsx("td",{className:"text-center",children:q.a_participe?e.jsxs("div",{style:{width:"100px"},children:[e.jsx(Zt,{now:q.pourcentage,variant:H(q.pourcentage),style:{height:"8px"}}),e.jsxs("small",{className:"text-muted d-block mt-1",children:[q.pourcentage.toFixed(0),"%"]})]}):e.jsx("div",{className:"text-muted",children:e.jsx("i",{"data-feather":"minus",style:{width:"16px",height:"16px"}})})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{className:"small",children:[e.jsx("div",{className:"mb-1",children:e.jsxs(oe,{bg:q.a_participe?"primary":"secondary",children:[q.questions_repondues,"/",q.total_questions]})}),q.a_participe&&q.reponses_correctes>0&&e.jsxs("div",{className:"text-success small",children:[e.jsx("i",{"data-feather":"check",className:"me-1",style:{width:"10px",height:"10px"}}),q.reponses_correctes," correctes"]})]})}),e.jsx("td",{className:"text-center",children:e.jsx("small",{className:r==="dark"?"text-light":"text-muted",children:q.temps_total||"N/A"})}),e.jsx("td",{className:"text-center",children:e.jsxs(oe,{bg:se.bg,className:"px-2 py-1",children:[e.jsx("i",{"data-feather":se.icon,className:"me-1",style:{width:"10px",height:"10px"}}),se.text]})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{className:"d-flex gap-1 justify-content-center",children:[e.jsx($,{variant:"outline-info",size:"sm",onClick:()=>V(q),title:"Voir le détail des réponses",children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),q.a_participe&&e.jsx($,{variant:"outline-success",size:"sm",as:xe,to:`/formateur/answers/student/${q.etudiant?.matricule}/evaluation/${i.matricule}`,title:"Analyse complète",children:e.jsx("i",{"data-feather":"bar-chart",style:{width:"14px",height:"14px"}})})]})})]},q.etudiant?.matricule||G)})})]})}):e.jsx("div",{className:"text-center py-5",children:e.jsxs("div",{className:`${r==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"users",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucun résultat trouvé"}),e.jsx("p",{className:"small mb-0",children:S||L!=="tous"?"Aucun étudiant ne correspond à vos critères de recherche.":"Aucun étudiant inscrit dans cette classe."})]})]})})})]}),f&&Object.keys(f).length>0&&e.jsx(w,{className:`shadow-sm border-0 mt-4 ${r==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:e.jsx(w.Body,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex gap-4",children:[e.jsxs("div",{children:[e.jsx("i",{"data-feather":"users",className:"me-2",style:{width:"16px",height:"16px"}}),e.jsx("strong",{children:"Total inscrits:"})," ",f.total_inscrits]}),e.jsxs("div",{children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"16px",height:"16px"}}),e.jsx("strong",{children:"Participants:"})," ",f.total_participants]}),e.jsxs("div",{children:[e.jsx("i",{"data-feather":"user-x",className:"me-2",style:{width:"16px",height:"16px"}}),e.jsx("strong",{children:"Absents:"})," ",f.total_absents]})]}),e.jsx("div",{children:e.jsxs("small",{className:"text-muted",children:["Généré le ",new Date(f.date_generation).toLocaleString("fr-FR")]})})]})})}),e.jsxs(Y,{show:j,onHide:()=>y(!1),centered:!0,size:"lg",contentClassName:r==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:r==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsxs(Y.Title,{children:["Détail des réponses - ",k?.etudiant?.name]})}),e.jsx(Y.Body,{className:r==="dark"?"bg-dark text-light":"",children:k&&e.jsxs("div",{children:[e.jsx(w,{className:`mb-4 ${r==="dark"?"bg-secondary":"bg-light"}`,children:e.jsx(w.Body,{children:k.a_participe?e.jsxs(pe,{className:"text-center",children:[e.jsx(T,{md:3,children:e.jsxs("div",{className:"mb-2",children:[e.jsxs("h4",{className:"text-primary mb-0",children:[k.pourcentage.toFixed(1),"%"]}),e.jsx("small",{className:r==="dark"?"text-light":"text-muted",children:"Score"})]})}),e.jsx(T,{md:3,children:e.jsxs("div",{className:"mb-2",children:[e.jsx("h4",{className:"text-success mb-0",children:k.points_obtenus}),e.jsx("small",{className:r==="dark"?"text-light":"text-muted",children:"Points obtenus"})]})}),e.jsx(T,{md:3,children:e.jsxs("div",{className:"mb-2",children:[e.jsx("h4",{className:"text-info mb-0",children:k.questions_repondues}),e.jsx("small",{className:r==="dark"?"text-light":"text-muted",children:"Questions répondues"})]})}),e.jsx(T,{md:3,children:e.jsxs("div",{className:"mb-2",children:[e.jsxs("h4",{className:"text-warning mb-0",children:["#",k.rang||"N/A"]}),e.jsx("small",{className:r==="dark"?"text-light":"text-muted",children:"Rang"})]})})]}):e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-3",children:e.jsx("i",{"data-feather":"user-x",className:"text-secondary",style:{width:"48px",height:"48px"}})}),e.jsx("h5",{className:"text-secondary",children:"Étudiant absent"}),e.jsx("p",{className:"text-muted mb-0",children:"Cet étudiant n'a pas participé à l'évaluation."})]})})}),k.detail_reponses&&k.detail_reponses.length>0&&e.jsxs("div",{children:[e.jsx("h6",{className:`mb-3 ${r==="dark"?"text-light":"text-dark"}`,children:"Détail par question"}),e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{size:"sm",className:`${r==="dark"?"table-dark":""}`,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{width:"60",children:"#"}),e.jsx("th",{children:"Question"}),e.jsx("th",{className:"text-center",children:"Type"}),e.jsx("th",{className:"text-center",children:"Points"}),e.jsx("th",{className:"text-center",children:"Statut"})]})}),e.jsx("tbody",{children:k.detail_reponses.map((q,G)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:"secondary",children:G+1})}),e.jsxs("td",{children:[e.jsx("div",{className:`small ${r==="dark"?"text-light":"text-dark"}`,children:q.question.enonce.length>80?q.question.enonce.substring(0,80)+"...":q.question.enonce}),e.jsxs("small",{className:"text-muted",children:[q.question.points," point(s) • ",q.question.type]})]}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:q.question.type==="QCM"?"info":"success",children:q.question.type})}),e.jsx("td",{className:"text-center",children:e.jsxs(oe,{bg:"primary",children:[q.points_obtenus,"/",q.question.points]})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:q.statut==="Non répondue"?"secondary":q.est_correcte===!0?"success":q.est_correcte===!1?"danger":"warning",children:q.statut==="Non répondue"?"Non répondue":q.est_correcte===!0?"Correct":q.est_correcte===!1?"Incorrect":"À corriger"})})]},G))})]})})]})]})}),e.jsxs(Y.Footer,{className:r==="dark"?"bg-dark text-light border-secondary":"",children:[k?.a_participe&&e.jsxs($,{variant:"outline-success",as:xe,to:`/formateur/answers/student/${k?.etudiant?.matricule}/evaluation/${i.matricule}`,onClick:()=>y(!1),children:[e.jsx("i",{"data-feather":"external-link",className:"me-2",style:{width:"16px",height:"16px"}}),"Analyse complète"]}),e.jsx($,{variant:"secondary",onClick:()=>y(!1),children:"Fermer"})]})]})]})}):e.jsxs(et,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),"Évaluation introuvable"]}),e.jsxs($,{variant:"secondary",as:xe,to:"/formateur/answers/results",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour aux résultats"]})]})}function JEe(){const[s,t]=x.useState(!0),[a,r]=x.useState(!1),[n,i]=x.useState("light"),[l,c]=x.useState([]),[o,u]=x.useState(null),[d,f]=x.useState([]),[p,j]=x.useState(null),[y,k]=x.useState({}),[v,S]=x.useState(""),[C,_]=x.useState(null),[A,D]=x.useState(null),[M,L]=x.useState(""),[F,Q]=x.useState([]),[I,H]=x.useState(!1),[z,K]=x.useState(!1),[U,V]=x.useState(!1),[P,q]=x.useState(!1),[G,se]=x.useState(!1),[O,W]=x.useState(!1),[Z,te]=x.useState(!1),[ie,fe]=x.useState(null),[J,ge]=x.useState(null),[re,ve]=x.useState([]),[Oe,ee]=x.useState([]),[me,Xe]=x.useState([]),[Se,ae]=x.useState(!1),[ye,st]=x.useState(!1),[He,ke]=x.useState(""),[we,Ke]=x.useState("success"),[Ee,je]=x.useState(""),[Ve,Nt]=x.useState(""),nt=x.useRef(null),It=x.useRef(null),ps=x.useRef(null),le=x.useRef(null);x.useEffect(()=>{const Re=document.documentElement.getAttribute("data-theme")||"light";i(Re);const mt=new MutationObserver(()=>{const Tt=document.documentElement.getAttribute("data-theme")||"light";i(Tt)});return mt.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>mt.disconnect()},[]),x.useEffect(()=>(o&&(le.current&&clearInterval(le.current),le.current=setInterval(()=>{rt(o.matricule,1,!0)},15e3)),()=>{le.current&&clearInterval(le.current)}),[o]),x.useEffect(()=>{We.replace()},[l,d,F,I,F,M,A,C,v,o,p,y,G]);const Ae=(Re,mt="success")=>{ke(Re),Ke(mt),st(!0)},Le=x.useCallback(async()=>{try{r(!0);const Re=await he.get("/formateur/chat/conversations");c(Re.data.conversations||[])}catch(Re){console.error("Erreur chargement conversations:",Re),Ae("Erreur lors du chargement des conversations","danger")}finally{r(!1)}},[]),rt=x.useCallback(async(Re,mt=1,Tt=!1)=>{try{const Ts=await he.get(`/formateur/chat/conversations/${Re}/messages`,{params:{page:mt,limit:50}});mt===1?(f(Ts.data.messages||[]),ee(Ts.data.participants)):f(Qn=>[...Ts.data.messages,...Qn])}catch(Ts){console.error("Erreur chargement messages:",Ts),Tt||Ae("Erreur lors du chargement des messages","danger")}},[]),ot=x.useCallback(async(Re,mt="",Tt="")=>{if(!Re.trim()){Q([]);return}try{const Ts=await he.get("/formateur/chat/users/search",{params:{search:Re,limit:50,role_filter:mt,classroom_filter:Tt}});Q(Ts.data.users||[])}catch(Ts){console.error("Erreur recherche utilisateurs:",Ts),Ae("Erreur lors de la recherche","danger")}},[]),hs=async Re=>{try{const mt=await he.post("/formateur/chat/conversations/start",{participants:Re});await Le(),u(mt.data.conversation),K(!1),ee(mt.data.participants),Ae(mt.data.message,"success")}catch(mt){console.error("Erreur démarrage conversation:",mt),Ae("Erreur lors du démarrage de la conversation","danger")}},Zs=async()=>{if(!(!v.trim()&&me.length===0)&&o)try{const Re=new FormData;Re.append("matricule_conversation",o.matricule),v.trim()&&Re.append("contenu",v.trim()),C&&Re.append("matricule_message_parent",C.matricule),me.forEach(mt=>{Re.append("fichiers_joints[]",mt)}),A?(await he.put(`/formateur/chat/messages/${A.matricule}/edit`,{contenu:v.trim()}),D(null)):await he.post("/formateur/chat/messages/send",Re,{headers:{"Content-Type":"multipart/form-data"}}),S(""),Xe([]),_(null),await rt(o.matricule),await Le()}catch(Re){console.error("Erreur envoi message:",Re),Ae("Erreur lors de l'envoi du message","danger")}},Kn=async Re=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer ce message ? Cette action est irréversible."))try{await he.delete(`/formateur/chat/messages/${Re}`),await rt(o.matricule),Ae("Message supprimé avec succès","success")}catch(mt){console.error("Erreur suppression message:",mt),Ae("Erreur lors de la suppression","danger")}},Ni=async Re=>{try{await he.put(`/formateur/chat/messages/${Re}/toggle-pin`),await rt(o.matricule),Ae("Message épinglé/désépinglé","success")}catch(mt){console.error("Erreur épinglage message:",mt),Ae("Erreur lors de l'épinglage","danger")}},Ld=Re=>{fe(Re),te(!0)},oo=async Re=>{if(!(!o||Re.length===0))try{const mt=await he.delete(`/formateur/chat/conversations/${o.matricule}/participants/remove`,{data:{participants:Re}});await Le(),Ae(mt.data.message,"success"),te(!1),fe(null)}catch(mt){console.error("Erreur suppression participants:",mt),Ae("Erreur lors de la suppression des participants","danger")}},Ie=async Re=>{try{const mt=await he.put(`/formateur/chat/conversations/${Re}/toggle-archive`);await Le(),Ae(mt.data.message,"success"),o?.matricule===Re&&u(null)}catch(mt){console.error("Erreur archivage conversation:",mt),Ae("Erreur lors de l'archivage","danger")}},wt=async Re=>{try{const mt=await he.get(`/formateur/chat/conversations/${Re}/pinned-messages`);ve(mt.data.messages||[]),q(!0)}catch(mt){console.error("Erreur messages épinglés:",mt),Ae("Erreur lors du chargement des messages épinglés","danger")}},Gs=async()=>{try{const Re=await he.get("/formateur/chat/stats");k(Re.data.stats||{}),W(!0)}catch(Re){console.error("Erreur statistiques:",Re),Ae("Erreur lors du chargement des statistiques","danger")}},ur=async Re=>{if(!(!o||!Re.trim()))try{const mt=await he.get(`/formateur/chat/conversations/${o.matricule}/search`,{params:{query:Re.trim()}});f(mt.data.messages||[])}catch(mt){console.error("Erreur recherche messages:",mt),Ae("Erreur lors de la recherche","danger")}};x.useEffect(()=>{(async()=>{try{t(!0),await Le();const mt=await he.get("/me");j(mt.data)}catch(mt){console.error("Erreur initialisation chat:",mt)}finally{t(!1)}})()},[Le]),x.useEffect(()=>{o&&rt(o.matricule)},[o,rt]);const Fa=Re=>{const mt=new Date(Re),Ts=Math.abs(new Date-mt)/36e5;return Ts<24?mt.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}):Ts<168?mt.toLocaleDateString("fr-FR",{weekday:"short",hour:"2-digit",minute:"2-digit"}):mt.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})},nn=Re=>{const mt=new Date(Re),Tt=new Date,Ts=new Date(Tt);return Ts.setDate(Ts.getDate()-1),mt.toDateString()===Tt.toDateString()?"Aujourd'hui":mt.toDateString()===Ts.toDateString()?"Hier":mt.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"})},Rs=Re=>Array.isArray(Re.autres_participants)&&Re.autres_participants.length===1?Re.autres_participants[0]?.name||"Conversation":Re.nom_affichage||"Groupe",Ji=Re=>Array.isArray(Re.autres_participants)&&Re.autres_participants.length===1?Re.autres_participants[0]?.profil_url:null,hu=Re=>{const mt=Array.from(Re.target.files);if(mt.length>5){Ae("Maximum 5 fichiers autorisés pour les formateurs","warning");return}Xe(mt),ae(!0)},Ax=Re=>{Re.key==="Enter"&&!Re.shiftKey&&(Re.preventDefault(),Zs())},mr=Re=>{const mt={};return Re.forEach(Tt=>{const Ts=new Date(Tt.created_at).toDateString();mt[Ts]||(mt[Ts]=[]),mt[Ts].push(Tt)}),mt},ra=Re=>{ee(mt=>mt.find(Ts=>Ts.matricule===Re.matricule)?mt.filter(Ts=>Ts.matricule!==Re.matricule):[...mt,Re])};return s?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement du tchat administrateur..."})]})}):e.jsx(et,{children:e.jsxs("div",{className:"d-flex flex-column vh-100",children:[e.jsxs("div",{className:"d-flex flex-grow-1",style:{height:"calc(100vh - 120px)"},children:[e.jsx("div",{className:`border-end ${n==="dark"?"border-secondary":""}`,style:{width:"350px",minWidth:"350px"},children:e.jsxs("div",{className:`h-100 d-flex flex-column ${n==="dark"?"bg-dark":"bg-white"}`,children:[e.jsxs("div",{className:`border-bottom p-3 ${n==="dark"?"bg-dark border-secondary":"bg-light"}`,children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("h5",{className:`mb-0 ${n==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"message-circle",className:"me-2",style:{width:"20px",height:"20px"}}),"Conversations"]}),e.jsxs("div",{className:"d-flex gap-1",children:[e.jsx($,{variant:"outline-primary",size:"sm",onClick:()=>K(!0),children:e.jsx("i",{"data-feather":"plus",style:{width:"16px",height:"16px"}})}),e.jsx($,{variant:"outline-info",size:"sm",onClick:()=>Gs(),children:e.jsx("i",{"data-feather":"bar-chart",style:{width:"16px",height:"16px"}})}),e.jsx($,{variant:"outline-secondary",size:"sm",onClick:()=>Le(),disabled:a,children:a?e.jsx(tt,{animation:"border",size:"sm"}):e.jsx(ss,{icon:"refresh-cw",size:"sm",style:{width:"16px",height:"16px"}})})]})]}),e.jsx(b.Control,{type:"text",placeholder:"Rechercher dans les conversations...",className:`${n==="dark"?"bg-dark text-light border-secondary":""}`,value:M,onChange:Re=>L(Re.target.value)})]}),e.jsx("div",{className:`flex-grow-1 ${n==="dark"?"bg-dark":""}`,style:{overflowY:"auto"},children:l.length>0?e.jsx(Vv,{variant:"flush",children:l.filter(Re=>!M||Rs(Re).toLowerCase().includes(M.toLowerCase())).map(Re=>e.jsx(Vv.Item,{action:!0,active:o?.matricule===Re.matricule,onClick:()=>u(Re),className:`border-1 rounded ${n==="dark"?"bg-dark text-light":""} ${Re.statut==="archivee"?"opacity-75":""}`,style:{cursor:"pointer"},children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsxs("div",{className:"position-relative me-3",children:[Ji(Re)?e.jsx(Mt,{src:Ji(Re),alt:"Avatar",width:"45",height:"45",className:"rounded-circle",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-primary d-flex align-items-center justify-content-center",style:{width:"45px",height:"45px"},children:e.jsx(ss,{icon:Re.total_participants>2?"users":"user",className:"text-white",style:{width:"20px",height:"20px"}})}),Re.messages_non_lus>0&&e.jsx(oe,{bg:"danger",pill:!0,className:"position-absolute top-0 end-0",style:{transform:"translate(50%, -50%)",fontSize:"0.7em"},children:Re.messages_non_lus>99?"99+":Re.messages_non_lus})]}),e.jsxs("div",{className:"flex-grow-1 min-w-0",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("h6",{className:`mb-1 text-truncate ${n==="dark"?"text-light":"text-dark"}`,children:Rs(Re).length>25?Rs(Re).substring(0,25)+"...":Rs(Re)}),e.jsxs("div",{className:"d-flex align-items-center gap-1",children:[Re.statut==="archivee"&&e.jsx(ss,{icon:"archive",className:"text-warning",style:{width:"12px",height:"12px"}}),e.jsx("small",{className:"text-muted",children:Fa(Re.derniere_activite)})]})]}),Re.dernier_message&&e.jsx("p",{className:"mb-1 text-muted small text-truncate",children:Re.dernier_message.type_message==="fichier"?e.jsx(e.Fragment,{children:"Fichier"}):Re.dernier_message.type_message==="image"?e.jsx(e.Fragment,{children:"Image"}):Re?.dernier_message?.contenu?.length>30?Re.dernier_message.contenu.substring(0,30)+"...":Re.dernier_message.contenu})]})]})},Re.id))}):e.jsxs("div",{className:"text-center py-5 px-3",children:[e.jsx(ss,{icon:"message-circle",className:"text-muted mb-3",style:{width:"48px",height:"48px"}}),e.jsx("h6",{className:n==="dark"?"text-light":"text-muted",children:"Aucune conversation"}),e.jsx("p",{className:"small text-muted",children:"Créez une nouvelle conversation"}),e.jsxs($,{variant:"primary",size:"sm",onClick:()=>K(!0),children:[e.jsx(ss,{icon:"plus",className:"me-1",size:"sm",style:{width:"16px",height:"16px"}}),"Nouvelle conversation"]})]})})]})}),e.jsx("div",{className:"flex-grow-1 d-flex flex-column",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`border-bottom p-3 ${n==="dark"?"bg-dark border-secondary":"bg-light"}`,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[Ji(o)?e.jsx(Mt,{src:Ji(o),alt:"Avatar",width:"40",height:"40",className:"rounded-circle me-3",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-primary d-flex align-items-center justify-content-center me-3",style:{width:"40px",height:"40px"},children:e.jsx(ss,{icon:o.total_participants>2?"users":"user",className:"text-white",style:{width:"18px",height:"18px"}})}),e.jsxs("div",{children:[e.jsxs("h6",{className:`mb-0 ${n==="dark"?"text-light":"text-dark"}`,children:[Rs(o),o.statut==="archivee"&&e.jsx(oe,{bg:"warning",className:"ms-2 small",children:"Archivée"})]}),e.jsxs("small",{className:"text-muted",children:[o.total_participants," participants",o.matricule_createur===p?.matricule&&" • Vous êtes le créateur"]})]})]}),e.jsxs("div",{className:"d-flex gap-1",children:[e.jsx($,{variant:"outline-secondary",size:"sm",onClick:()=>V(!0),children:e.jsx("i",{"data-feather":"search",style:{width:"16px",height:"16px"}})}),e.jsx($,{variant:"outline-info",size:"sm",onClick:()=>wt(o.matricule),children:e.jsx("i",{"data-feather":"bookmark",style:{width:"16px",height:"16px"}})}),e.jsx($,{variant:"outline-success",size:"sm",onClick:()=>se(!0),children:e.jsx("i",{"data-feather":"users",style:{width:"16px",height:"16px"}})}),e.jsxs(at,{children:[e.jsx(at.Toggle,{variant:"outline-secondary",size:"sm",children:e.jsx("i",{"data-feather":"more-vertical",style:{width:"16px",height:"16px"}})}),e.jsxs(at.Menu,{children:[e.jsxs(at.Item,{onClick:()=>se(!0),children:[e.jsx(ss,{icon:"users",className:"me-2",size:"sm",style:{width:"16px",height:"16px"}}),"Gérer les participants"]}),o.matricule_createur===p?.matricule&&e.jsxs(at.Item,{onClick:()=>Ie(o.matricule),children:[e.jsx(ss,{icon:"archive",className:"me-2",size:"sm",style:{width:"16px",height:"16px"}}),o.statut==="archivee"?"Désarchiver":"Archiver"]}),e.jsxs(at.Item,{children:[e.jsx(ss,{icon:"info",className:"me-2",size:"sm",style:{width:"16px",height:"16px"}}),"Informations détaillées"]})]})]})]})]})}),e.jsx("div",{className:"flex-grow-1",style:{overflow:"hidden"},children:e.jsx("div",{className:`h-100 p-3 ${n==="dark"?"bg-dark":"bg-white"}`,style:{overflowY:"auto"},children:d.length>0?e.jsxs(e.Fragment,{children:[Object.entries(mr(d)).map(([Re,mt])=>e.jsxs("div",{children:[e.jsx("div",{className:"text-center my-3",children:e.jsx(oe,{bg:"light",text:"dark",className:"px-3 py-2",children:nn(mt[0].created_at)})}),mt.map((Tt,Ts)=>e.jsx("div",{className:`mb-3 d-flex ${Tt.expediteur.matricule===p?.matricule?"justify-content-end":"justify-content-start"}`,children:e.jsxs("div",{className:`max-w-75 ${Tt.expediteur.matricule===p?.matricule?"text-end":""}`,style:{maxWidth:"75%"},children:[Tt.expediteur.matricule!==p?.matricule&&e.jsxs("div",{className:"d-flex align-items-center mb-1",children:[e.jsx(Mt,{src:Tt.expediteur.profil_url||"/placeholder/placeholder.png",alt:"Avatar",width:"20",height:"20",className:"rounded-circle me-2",style:{objectFit:"cover"}}),e.jsx("small",{className:"text-muted",children:Tt.expediteur.name}),e.jsx(oe,{bg:Tt.expediteur.role===1?"primary":"success",className:"ms-1",style:{fontSize:"0.6em"},children:Tt.expediteur.role===1?"Étudiant":"Admin"}),e.jsx("small",{className:"text-muted",children:Tt.expediteur.status==="Connecté"?"🟢":"🔴"})]}),Tt.messageParent&&e.jsxs("div",{className:`small p-2 rounded mb-1 border-start border-3 ${n==="dark"?"bg-secondary bg-opacity-25 border-secondary":"bg-light border-primary"}`,children:[e.jsx("div",{className:"fw-bold",children:Tt.messageParent.expediteur?.name}),e.jsx("div",{className:"text-muted",children:Tt.messageParent.contenu})]}),e.jsxs("div",{className:`p-3 rounded-3 position-relative ${Tt.expediteur.matricule===p?.matricule?"bg-primary text-white ms-auto":n==="dark"?"bg-secondary text-light":"bg-light"}`,style:{borderBottomRightRadius:Tt.expediteur.matricule===p?.matricule?"0.375rem !important":void 0,borderBottomLeftRadius:Tt.expediteur.matricule!==p?.matricule?"0.375rem !important":void 0},children:[Tt.epingle&&e.jsx("div",{className:"position-absolute top-0 end-0 p-1",children:e.jsx("i",{"data-feather":"bookmark",className:"text-warning",style:{width:"16px",height:"16px"}})}),e.jsx("div",{style:{whiteSpace:"pre-wrap"},children:Tt.contenu}),Tt.fichiers_joints_urls&&Tt.fichiers_joints_urls.length>0&&e.jsx("div",{className:"mt-2",children:Tt.fichiers_joints_urls.map((Qn,ho)=>e.jsxs("div",{className:"d-flex align-items-center gap-2 mb-1",children:[e.jsx("i",{"data-feather":"paperclip",style:{width:"16px",height:"16px"}}),e.jsx("a",{href:Qn.url,className:Tt.expediteur.matricule===p?.matricule?"text-white":"",target:"_blank",rel:"noopener noreferrer",children:Qn.nom})]},ho))}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-2 small",children:[e.jsxs("span",{className:Tt.expediteur.matricule===p?.matricule?"text-white-50":"text-muted",children:[Fa(Tt.created_at),Tt.modifie&&e.jsx("span",{className:"ms-1",children:"(modifié)"})]}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[Tt?.status==="lu"?e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"check",className:"text-success",style:{width:"12px",height:"12px"}}),e.jsx("i",{"data-feather":"check",className:"text-success",style:{width:"12px",height:"12px"}})]}):e.jsx("div",{className:"d-flex align-items-center",children:e.jsx("i",{"data-feather":"check",className:"text-secondary",style:{width:"12px",height:"12px"}})}),e.jsxs(at,{onToggle:Qn=>{Qn&&setTimeout(()=>We.replace(),0)},children:[e.jsx(at.Toggle,{variant:"link",size:"sm",className:`p-0 border-0 ${Tt.expediteur.matricule===p?.matricule?"text-white":"text-muted"}`,children:e.jsx("i",{"data-feather":"more-horizontal",style:{width:"16px",height:"16px"}})}),e.jsxs(at.Menu,{children:[e.jsxs(at.Item,{onClick:()=>_(Tt),children:[e.jsx("i",{"data-feather":"corner-up-left",className:"me-2",style:{width:"16px",height:"16px"}}),"Répondre"]}),e.jsxs(at.Item,{onClick:()=>Ni(Tt.matricule),children:[e.jsx("i",{"data-feather":"bookmark",className:"me-2",style:{width:"16px",height:"16px"}}),Tt.epingle?"Désépingler":"Épingler"]}),Tt.can_edit&&e.jsxs(at.Item,{onClick:()=>{D(Tt),S(Tt.contenu),ps.current?.focus()},children:[e.jsx("i",{"data-feather":"edit-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Modifier"]}),e.jsxs(at.Item,{className:"text-danger",onClick:()=>Kn(Tt.matricule),children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer (Admin)"]})]})]})]})]})]})]})},Tt.id))]},Re)),e.jsx("div",{ref:nt})]}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx(ss,{icon:"message-circle",className:"text-muted mb-3",style:{width:"48px",height:"48px"}}),e.jsx("h6",{className:n==="dark"?"text-light":"text-muted",children:"Aucun message"}),e.jsx("p",{className:"small text-muted",children:"Commencez votre première conversation"})]})})}),e.jsxs("div",{className:`border-top p-3 ${n==="dark"?"border-secondary":""} ${o.statut==="archivee"?"opacity-50":""}`,children:[o.statut==="archivee"&&e.jsxs(lt,{variant:"warning",className:"mb-2 small py-2",children:[e.jsx(ss,{icon:"archive",className:"me-2",style:{width:"16px",height:"16px"}}),"Cette conversation est archivée. Désarchivez-la pour pouvoir envoyer des messages."]}),C&&e.jsx("div",{className:`mb-2 p-2 rounded ${n==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"small",children:[e.jsx(ss,{icon:"corner-up-left",className:"me-1",style:{width:"12px",height:"12px"}}),"Réponse à ",e.jsx("strong",{children:C.expediteur.name}),": ",C.contenu.substring(0,50),"..."]}),e.jsx($,{variant:"link",size:"sm",onClick:()=>_(null),children:e.jsx("i",{"data-feather":"x",style:{width:"12px",height:"12px"}})})]})}),A&&e.jsx("div",{className:`mb-2 p-2 rounded ${n==="dark"?"bg-warning bg-opacity-25":"bg-warning bg-opacity-10"}`,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"small text-warning",children:[e.jsx(ss,{icon:"edit-2",className:"me-1",style:{width:"12px",height:"12px"}}),"Modification du message"]}),e.jsx($,{variant:"link",size:"sm",onClick:()=>{D(null),S("")},children:e.jsx("i",{"data-feather":"x",style:{width:"12px",height:"12px"}})})]})}),me.length>0&&e.jsx("div",{className:`mb-2 p-2 rounded ${n==="dark"?"bg-secondary bg-opacity-25":"bg-light"}`,children:me.map((Re,mt)=>e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[e.jsxs("div",{className:"small",children:[e.jsx(ss,{icon:"paperclip",className:"me-1",style:{width:"12px",height:"12px"}}),Re.name," (",(Re.size/1024/1024).toFixed(2)," MB)"]}),e.jsx($,{variant:"link",size:"sm",onClick:()=>Xe(Tt=>Tt.filter((Ts,Qn)=>Qn!==mt)),children:e.jsx("i",{"data-feather":"x",style:{width:"12px",height:"12px"}})})]},mt))}),e.jsxs(bd,{children:[e.jsx($,{variant:"outline-secondary",onClick:()=>It.current?.click(),disabled:o.statut==="archivee",children:e.jsx("i",{"data-feather":"paperclip",style:{width:"16px",height:"16px"}})}),e.jsx(b.Control,{ref:ps,as:"textarea",rows:1,placeholder:A?"Modifier le message...":"Tapez votre message (privilèges administrateur)...",value:v,onChange:Re=>S(Re.target.value),onKeyPress:Ax,disabled:o.statut==="archivee",className:n==="dark"?"bg-dark text-light border-secondary":"",style:{resize:"none",minHeight:"38px",maxHeight:"150px"}}),e.jsx($,{variant:"primary",onClick:Zs,disabled:!v.trim()&&me.length===0||o.statut==="archivee",children:e.jsx(ss,{icon:A?"check":"send",style:{width:"16px",height:"16px"}})})]}),e.jsx("input",{ref:It,type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.mp3,.mp4,.avi,.mov",onChange:hu,style:{display:"none"}})]})]}):e.jsx("div",{className:`h-100 d-flex align-items-center justify-content-center ${n==="dark"?"bg-dark":"bg-light"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx(ss,{icon:"message-circle",className:"text-muted mb-3",style:{width:"64px",height:"64px"}}),e.jsx("h5",{className:n==="dark"?"text-light":"text-muted",children:"Sélectionnez une conversation"}),e.jsx("p",{className:"text-muted",children:"Choisissez une conversation dans la liste pour commencer la gestion"})]})})})]}),e.jsxs(Y,{show:z,onHide:()=>K(!1),centered:!0,size:"lg",contentClassName:n==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:n==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Créer une nouvelle conversation"})}),e.jsx(Y.Body,{className:n==="dark"?"bg-dark text-light":"",children:e.jsxs(pe,{children:[e.jsxs(T,{md:6,children:[e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Rechercher des utilisateurs"}),e.jsx(b.Control,{type:"text",placeholder:"Nom, email ou matricule...",onChange:Re=>ot(Re.target.value,Ee,Ve),className:n==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs(pe,{children:[e.jsx(T,{md:6,children:e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Filtre par rôle"}),e.jsxs(b.Select,{value:Ee,onChange:Re=>je(Re.target.value),className:n==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous les rôles"}),e.jsx("option",{value:"1",children:"Étudiants"}),e.jsx("option",{value:"2",children:"Formateurs"})]})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Filtre par classe"}),e.jsx(b.Control,{type:"text",placeholder:"Code classe...",value:Ve,onChange:Re=>Nt(Re.target.value),className:n==="dark"?"bg-dark text-light border-secondary":""})]})})]}),F.length>0&&e.jsx("div",{className:"border rounded p-2",style:{maxHeight:"300px",overflowY:"auto"},children:F.map(Re=>e.jsxs("div",{className:`d-flex align-items-center p-2 rounded cursor-pointer ${Oe.find(mt=>mt.matricule===Re.matricule)?"bg-primary bg-opacity-25":""} ${n==="dark"?"hover-bg-secondary":"hover-bg-light"}`,onClick:()=>ra(Re),style:{cursor:"pointer"},children:[e.jsx(Mt,{src:Re.profil_url||"/placeholder/placeholder.png",alt:"Avatar",width:"30",height:"30",className:"rounded-circle me-2",style:{objectFit:"cover"}}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("div",{className:`fw-medium ${n==="dark"?"text-light":"text-dark"}`,children:Re.name}),e.jsx("div",{className:"small text-muted",children:Re.email}),e.jsxs("div",{className:"d-flex gap-1",children:[e.jsx(oe,{bg:Re.role===1?"primary":"success",children:Re.role_text}),Re.classroom_name&&e.jsx(oe,{bg:"secondary",className:"small",children:Re.classroom_name})]})]}),Oe.find(mt=>mt.matricule===Re.matricule)&&e.jsx(ss,{icon:"check",className:"text-primary",style:{width:"16px",height:"16px"}})]},Re.id))})]}),e.jsxs(T,{md:6,children:[e.jsxs(b.Label,{children:["Participants sélectionnés (",Oe.length,")"]}),e.jsx("div",{className:"border rounded p-2",style:{minHeight:"200px",maxHeight:"400px",overflowY:"auto"},children:Oe.length>0?Oe.map(Re=>e.jsxs("div",{className:"d-flex align-items-center justify-content-between p-2 mb-1 bg-light rounded",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(Mt,{src:Re.profil_url||"/placeholder/placeholder.png",alt:"Avatar",width:"25",height:"25",className:"rounded-circle me-2",style:{objectFit:"cover"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:Re.name}),e.jsx(oe,{bg:Re.role===1?"primary":"success",className:"small",children:Re.role_text})]})]}),e.jsx($,{variant:"outline-danger",size:"sm",onClick:()=>ra(Re),children:e.jsx(ss,{icon:"x",style:{width:"12px",height:"12px"}})})]},Re.matricule)):e.jsxs("div",{className:"text-center py-4 text-muted",children:[e.jsx(ss,{icon:"users",style:{width:"32px",height:"32px"}}),e.jsx("p",{className:"mt-2 mb-0",children:"Aucun participant sélectionné"})]})})]})]})}),e.jsxs(Y.Footer,{className:n==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>K(!1),children:"Annuler"}),e.jsx($,{variant:"primary",onClick:()=>hs(Oe.map(Re=>Re.matricule)),disabled:Oe.length===0,children:"Créer la conversation"})]})]}),e.jsxs(Y,{show:Z,onHide:()=>{te(!1),fe(null)},centered:!0,contentClassName:n==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:n==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsxs(Y.Title,{className:"text-danger",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"20px",height:"20px"}}),"Confirmer la suppression"]})}),e.jsx(Y.Body,{className:n==="dark"?"bg-dark text-light":"",children:ie&&e.jsxs("div",{children:[e.jsxs(lt,{variant:"warning",className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"20px",height:"20px"}}),e.jsxs("div",{children:[e.jsx("strong",{children:"Attention !"})," Cette action est irréversible."]})]}),e.jsx("p",{children:"Êtes-vous sûr de vouloir retirer cet utilisateur de la conversation ?"}),e.jsxs("div",{className:"d-flex align-items-center p-3 border rounded",children:[e.jsx(Mt,{src:ie.profil_url||"/placeholder/placeholder.png",alt:"Avatar",width:"40",height:"40",className:"rounded-circle me-3",style:{objectFit:"cover"}}),e.jsxs("div",{children:[e.jsx("h6",{className:`mb-1 ${n==="dark"?"text-light":"text-dark"}`,children:ie.name}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(oe,{bg:ie.role===1?"primary":"success",children:ie.role===1?"Étudiant":"Admin"}),e.jsx("small",{className:"text-muted",children:ie.email})]})]})]}),e.jsx("div",{className:"mt-3 p-2 bg-light rounded",children:e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{"data-feather":"info",className:"me-1",style:{width:"14px",height:"14px"}}),"L'utilisateur ne pourra plus voir les nouveaux messages de cette conversation."]})})]})}),e.jsxs(Y.Footer,{className:n==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>{te(!1),fe(null)},children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:()=>{ie&&oo([ie.matricule])},children:[e.jsx("i",{"data-feather":"user-minus",className:"me-2",style:{width:"16px",height:"16px"}}),"Confirmer la suppression"]})]})]}),e.jsxs(Y,{show:U,onHide:()=>V(!1),centered:!0,contentClassName:n==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:n==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Rechercher dans la conversation"})}),e.jsxs(Y.Body,{className:n==="dark"?"bg-dark text-light":"",children:[e.jsx(b.Group,{children:e.jsx(b.Control,{type:"text",placeholder:"Rechercher un message...",onChange:Re=>L(Re.target.value),className:n==="dark"?"bg-dark text-light border-secondary":""})}),e.jsxs("div",{className:"mt-3",children:[e.jsxs($,{variant:"primary",onClick:()=>{ur(M),V(!1)},disabled:!M.trim(),children:[e.jsx(ss,{icon:"search",className:"me-2",size:"sm",style:{width:"16px",height:"16px"}}),"Rechercher"]}),e.jsx($,{variant:"outline-secondary",className:"ms-2",onClick:()=>{rt(o.matricule),L(""),V(!1)},children:"Effacer"})]})]})]}),e.jsxs(Y,{show:P,onHide:()=>q(!1),centered:!0,size:"lg",contentClassName:n==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:n==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Messages épinglés"})}),e.jsx(Y.Body,{className:n==="dark"?"bg-dark text-light":"",children:re.length>0?e.jsx("div",{className:"d-grid gap-2",children:re.map(Re=>e.jsx("div",{className:`p-3 border rounded ${n==="dark"?"border-secondary":""}`,children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx(Mt,{src:Re.expediteur.profil_url||"/placeholder/placeholder.png",alt:"Avatar",width:"30",height:"30",className:"rounded-circle me-2",style:{objectFit:"cover"}}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[e.jsxs("div",{children:[e.jsx("strong",{children:Re.expediteur.name}),e.jsx(oe,{bg:Re.expediteur.role===1?"primary":"success",className:"ms-1 small",children:Re.expediteur.role===1?"Étudiant":"Formateur"}),e.jsx("small",{className:"text-muted ms-2",children:Fa(Re.created_at)})]}),e.jsx(ss,{icon:"bookmark",className:"text-warning",style:{width:"16px",height:"16px"}})]}),e.jsx("div",{className:"mt-1",style:{whiteSpace:"pre-wrap"},children:Re.contenu})]})]})},Re.id))}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx(ss,{icon:"bookmark",className:"text-muted mb-3",style:{width:"48px",height:"48px"}}),e.jsx("h6",{className:n==="dark"?"text-light":"text-muted",children:"Aucun message épinglé"})]})})]}),e.jsxs(Y,{show:G,onHide:()=>se(!1),centered:!0,size:"lg",contentClassName:n==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:n==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Gestion des participants"})}),e.jsx(Y.Body,{className:n==="dark"?"bg-dark text-light":"",children:o&&e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("h6",{children:["Participants actuels (",o.total_participants,")"]}),e.jsxs($,{variant:"primary",size:"sm",onClick:()=>{K(!0),se(!1)},children:[e.jsx("i",{"data-feather":"user-plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Ajouter des participants"]})]}),Oe.length?e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:n==="dark"?"table-dark":"",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Utilisateur"}),e.jsx("th",{children:"Rôle"}),e.jsx("th",{children:"Statut"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:Oe.map(Re=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(Mt,{src:Re.profil_url||"/placeholder/placeholder.png",alt:"Avatar",width:"25",height:"25",className:"rounded-circle me-2",style:{objectFit:"cover"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:Re.name}),e.jsx("small",{className:"text-muted",children:Re.email})]})]})}),e.jsx("td",{children:e.jsx(oe,{bg:Re.role===1?"primary":"success",children:Re.role===1?"Étudiant":"Admin"})}),e.jsx("td",{children:e.jsx(oe,{bg:"success",children:"Actif"})}),e.jsx("td",{children:o.matricule_createur===p?.matricule&&Re.matricule!==o.matricule_createur&&e.jsx($,{variant:"outline-danger",size:"sm",onClick:()=>Ld(Re),children:e.jsx("i",{"data-feather":"user-minus",style:{width:"16px",height:"16px"}})})})]},Re.matricule))})]})}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{"data-feather":"users",className:"text-muted mb-3",style:{width:"48px",height:"48px"}}),e.jsx("h6",{children:"Aucun autre participant"})]})]})})]}),e.jsxs(Y,{show:O,onHide:()=>W(!1),centered:!0,size:"lg",contentClassName:n==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:n==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Statistiques des conversations"})}),e.jsxs(Y.Body,{className:n==="dark"?"bg-dark text-light":"",children:[y&&e.jsxs(pe,{children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`text-center border-0 ${n==="dark"?"bg-secondary":"bg-light"}`,children:e.jsxs(w.Body,{children:[e.jsx("i",{"data-feather":"message-circle",className:"text-primary mb-2",style:{width:"24px",height:"24px"}}),e.jsx("h4",{className:n==="dark"?"text-light":"text-dark",children:y.total_conversations||0}),e.jsx("small",{className:"text-muted",children:"Total conversations"})]})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`text-center border-0 ${n==="dark"?"bg-secondary":"bg-light"}`,children:e.jsxs(w.Body,{children:[e.jsx("i",{"data-feather":"activity",className:"text-success mb-2",style:{width:"24px",height:"24px"}}),e.jsx("h4",{className:"text-success",children:y.conversations_actives||0}),e.jsx("small",{className:"text-muted",children:"Actives (7j)"})]})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`text-center border-0 ${n==="dark"?"bg-secondary":"bg-light"}`,children:e.jsxs(w.Body,{children:[e.jsx("i",{"data-feather":"send",className:"text-info mb-2",style:{width:"24px",height:"24px"}}),e.jsx("h4",{className:"text-info",children:y.messages_envoyes||0}),e.jsx("small",{className:"text-muted",children:"Messages envoyés"})]})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`text-center border-0 ${n==="dark"?"bg-secondary":"bg-light"}`,children:e.jsxs(w.Body,{children:[e.jsx("i",{"data-feather":"hash",className:"text-warning mb-2",style:{width:"24px",height:"24px"}}),e.jsx("h4",{className:"text-warning",children:y.total_messages||0}),e.jsx("small",{className:"text-muted",children:"Total messages"})]})})})]}),y.activite_journaliere?.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h6",{children:"Activité des 30 derniers jours"}),e.jsxs("div",{className:"small text-muted",children:["Messages par jour : ",y.activite_journaliere.map(Re=>Re.messages).join(", ")]})]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:ye,onClose:()=>st(!1),delay:4e3,autohide:!0,bg:we==="success"?"success":"danger",className:n==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${we==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":we==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification Administrateur"]})}),e.jsx(Te.Body,{className:n==="dark"?"bg-dark text-light":"",children:He})]})})]})})}var M_=["MO","TU","WE","TH","FR","SA","SU"],Jr=(function(){function s(t,a){if(a===0)throw new Error("Can't create weekday with n == 0");this.weekday=t,this.n=a}return s.fromStr=function(t){return new s(M_.indexOf(t))},s.prototype.nth=function(t){return this.n===t?this:new s(this.weekday,t)},s.prototype.equals=function(t){return this.weekday===t.weekday&&this.n===t.n},s.prototype.toString=function(){var t=M_[this.weekday];return this.n&&(t=(this.n>0?"+":"")+String(this.n)+t),t},s.prototype.getJsWeekday=function(){return this.weekday===6?0:this.weekday+1},s})(),Ba=function(s){return s!=null},wl=function(s){return typeof s=="number"},e8=function(s){return typeof s=="string"&&M_.includes(s)},Fn=Array.isArray,Ul=function(s,t){t===void 0&&(t=s),arguments.length===1&&(t=s,s=0);for(var a=[],r=s;r<t;r++)a.push(r);return a},bs=function(s,t){var a=0,r=[];if(Fn(s))for(;a<t;a++)r[a]=[].concat(s);else for(;a<t;a++)r[a]=s;return r},eAe=function(s){return Fn(s)?s:[s]};function um(s,t,a){a===void 0&&(a=" ");var r=String(s);return t=t>>0,r.length>t?String(r):(t=t-r.length,t>a.length&&(a+=bs(a,t/a.length)),a.slice(0,t)+String(r))}var tAe=function(s,t,a){var r=s.split(t);return a?r.slice(0,a).concat([r.slice(a).join(t)]):r},mi=function(s,t){var a=s%t;return a*t<0?a+t:a},Fk=function(s,t){return{div:Math.floor(s/t),mod:mi(s,t)}},Sl=function(s){return!Ba(s)||s.length===0},lr=function(s){return!Sl(s)},Ys=function(s,t){return lr(s)&&s.indexOf(t)!==-1},tu=function(s,t,a,r,n,i){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),new Date(Date.UTC(s,t-1,a,r,n,i))},sAe=[31,28,31,30,31,30,31,31,30,31,30,31],cG=1e3*60*60*24,oG=9999,dG=tu(1970,1,1),aAe=[6,0,1,2,3,4,5],_p=function(s){return s%4===0&&s%100!==0||s%400===0},hG=function(s){return s instanceof Date},hp=function(s){return hG(s)&&!isNaN(s.getTime())},rAe=function(s,t){var a=s.getTime(),r=t.getTime(),n=a-r;return Math.round(n/cG)},D_=function(s){return rAe(s,dG)},uG=function(s){return new Date(dG.getTime()+s*cG)},nAe=function(s){var t=s.getUTCMonth();return t===1&&_p(s.getUTCFullYear())?29:sAe[t]},Xm=function(s){return aAe[s.getUTCDay()]},t8=function(s,t){var a=tu(s,t+1,1);return[Xm(a),nAe(a)]},mG=function(s,t){return t=t||s,new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))},O_=function(s){var t=new Date(s.getTime());return t},s8=function(s){for(var t=[],a=0;a<s.length;a++)t.push(O_(s[a]));return t},ag=function(s){s.sort(function(t,a){return t.getTime()-a.getTime()})},A4=function(s,t){t===void 0&&(t=!0);var a=new Date(s);return[um(a.getUTCFullYear().toString(),4,"0"),um(a.getUTCMonth()+1,2,"0"),um(a.getUTCDate(),2,"0"),"T",um(a.getUTCHours(),2,"0"),um(a.getUTCMinutes(),2,"0"),um(a.getUTCSeconds(),2,"0"),t?"Z":""].join("")},T4=function(s){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/,a=t.exec(s);if(!a)throw new Error("Invalid UNTIL value: ".concat(s));return new Date(Date.UTC(parseInt(a[1],10),parseInt(a[2],10)-1,parseInt(a[3],10),parseInt(a[5],10)||0,parseInt(a[6],10)||0,parseInt(a[7],10)||0))},a8=function(s,t){var a=s.toLocaleString("sv-SE",{timeZone:t});return a.replace(" ","T")+"Z"},iAe=function(s,t){var a=Intl.DateTimeFormat().resolvedOptions().timeZone,r=new Date(a8(s,a)),n=new Date(a8(s,t??"UTC")),i=n.getTime()-r.getTime();return new Date(s.getTime()-i)},vm=(function(){function s(t,a){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=t,this.args=a,t==="between"?(this.maxDate=a.inc?a.before:new Date(a.before.getTime()-1),this.minDate=a.inc?a.after:new Date(a.after.getTime()+1)):t==="before"?this.maxDate=a.inc?a.dt:new Date(a.dt.getTime()-1):t==="after"&&(this.minDate=a.inc?a.dt:new Date(a.dt.getTime()+1))}return s.prototype.accept=function(t){++this.total;var a=this.minDate&&t<this.minDate,r=this.maxDate&&t>this.maxDate;if(this.method==="between"){if(a)return!0;if(r)return!1}else if(this.method==="before"){if(r)return!1}else if(this.method==="after")return a?!0:(this.add(t),!1);return this.add(t)},s.prototype.add=function(t){return this._result.push(t),!0},s.prototype.getValue=function(){var t=this._result;switch(this.method){case"all":case"between":return t;case"before":case"after":default:return t.length?t[t.length-1]:null}},s.prototype.clone=function(){return new s(this.method,this.args)},s})(),R_=function(s,t){return R_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n])},R_(s,t)};function M4(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");R_(s,t);function a(){this.constructor=s}s.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}var Wn=function(){return Wn=Object.assign||function(t){for(var a,r=1,n=arguments.length;r<n;r++){a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},Wn.apply(this,arguments)};function pt(s,t,a){if(a||arguments.length===2)for(var r=0,n=t.length,i;r<n;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return s.concat(i||Array.prototype.slice.call(t))}var r8=(function(s){M4(t,s);function t(a,r,n){var i=s.call(this,a,r)||this;return i.iterator=n,i}return t.prototype.add=function(a){return this.iterator(a,this._result.length)?(this._result.push(a),!0):!1},t})(vm),rN={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}},n8=function(s,t){return s.indexOf(t)!==-1},lAe=function(s){return s.toString()},cAe=function(s,t,a){return"".concat(t," ").concat(a,", ").concat(s)},co=(function(){function s(t,a,r,n){if(a===void 0&&(a=lAe),r===void 0&&(r=rN),n===void 0&&(n=cAe),this.text=[],this.language=r||rN,this.gettext=a,this.dateFormatter=n,this.rrule=t,this.options=t.options,this.origOptions=t.origOptions,this.origOptions.bymonthday){var i=[].concat(this.options.bymonthday),l=[].concat(this.options.bynmonthday);i.sort(function(d,f){return d-f}),l.sort(function(d,f){return f-d}),this.bymonthday=i.concat(l),this.bymonthday.length||(this.bymonthday=null)}if(Ba(this.origOptions.byweekday)){var c=Fn(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],o=String(c);this.byweekday={allWeeks:c.filter(function(d){return!d.n}),someWeeks:c.filter(function(d){return!!d.n}),isWeekdays:o.indexOf("MO")!==-1&&o.indexOf("TU")!==-1&&o.indexOf("WE")!==-1&&o.indexOf("TH")!==-1&&o.indexOf("FR")!==-1&&o.indexOf("SA")===-1&&o.indexOf("SU")===-1,isEveryDay:o.indexOf("MO")!==-1&&o.indexOf("TU")!==-1&&o.indexOf("WE")!==-1&&o.indexOf("TH")!==-1&&o.indexOf("FR")!==-1&&o.indexOf("SA")!==-1&&o.indexOf("SU")!==-1};var u=function(d,f){return d.weekday-f.weekday};this.byweekday.allWeeks.sort(u),this.byweekday.someWeeks.sort(u),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}return s.isFullyConvertible=function(t){var a=!0;if(!(t.options.freq in s.IMPLEMENTED)||t.origOptions.until&&t.origOptions.count)return!1;for(var r in t.origOptions){if(n8(["dtstart","tzid","wkst","freq"],r))return!0;if(!n8(s.IMPLEMENTED[t.options.freq],r))return!1}return a},s.prototype.isFullyConvertible=function(){return s.isFullyConvertible(this.rrule)},s.prototype.toString=function(){var t=this.gettext;if(!(this.options.freq in s.IMPLEMENTED))return t("RRule error: Unable to fully convert this rrule to text");if(this.text=[t("every")],this[zt.FREQUENCIES[this.options.freq]](),this.options.until){this.add(t("until"));var a=this.options.until;this.add(this.dateFormatter(a.getUTCFullYear(),this.language.monthNames[a.getUTCMonth()],a.getUTCDate()))}else this.options.count&&this.add(t("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?t("times"):t("time"));return this.isFullyConvertible()||this.add(t("(~ approximate)")),this.text.join("")},s.prototype.HOURLY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("hours"):t("hour"))},s.prototype.MINUTELY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("minutes"):t("minute"))},s.prototype.DAILY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?t("weekdays"):t("weekday")):this.add(this.plural(this.options.interval)?t("days"):t("day")),this.origOptions.bymonth&&(this.add(t("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},s.prototype.WEEKLY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?t("weeks"):t("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?t("weekdays"):t("weekday")):this.add(t("on")).add(t("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?t("days"):t("day")):(this.options.interval===1&&this.add(t("week")),this.origOptions.bymonth&&(this.add(t("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.origOptions.byhour&&this._byhour())},s.prototype.MONTHLY=function(){var t=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(t("months")),this.plural(this.options.interval)&&this.add(t("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("months"):t("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(t("on")).add(t("weekdays")):this.byweekday&&this._byweekday()},s.prototype.YEARLY=function(){var t=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(t("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("years"):t("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(t("on the")).add(this.list(this.options.byyearday,this.nth,t("and"))).add(t("day")),this.options.byweekno&&this.add(t("in")).add(this.plural(this.options.byweekno.length)?t("weeks"):t("week")).add(this.list(this.options.byweekno,void 0,t("and")))},s.prototype._bymonthday=function(){var t=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(t("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,t("or"))).add(t("the")).add(this.list(this.bymonthday,this.nth,t("or"))):this.add(t("on the")).add(this.list(this.bymonthday,this.nth,t("and")))},s.prototype._byweekday=function(){var t=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(t("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(t("and")),this.add(t("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,t("and"))))},s.prototype._byhour=function(){var t=this.gettext;this.add(t("at")).add(this.list(this.origOptions.byhour,void 0,t("and")))},s.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},s.prototype.nth=function(t){t=parseInt(t.toString(),10);var a,r=this.gettext;if(t===-1)return r("last");var n=Math.abs(t);switch(n){case 1:case 21:case 31:a=n+r("st");break;case 2:case 22:a=n+r("nd");break;case 3:case 23:a=n+r("rd");break;default:a=n+r("th")}return t<0?a+" "+r("last"):a},s.prototype.monthtext=function(t){return this.language.monthNames[t-1]},s.prototype.weekdaytext=function(t){var a=wl(t)?(t+1)%7:t.getJsWeekday();return(t.n?this.nth(t.n)+" ":"")+this.language.dayNames[a]},s.prototype.plural=function(t){return t%100!==1},s.prototype.add=function(t){return this.text.push(" "),this.text.push(t),this},s.prototype.list=function(t,a,r,n){var i=this;n===void 0&&(n=","),Fn(t)||(t=[t]);var l=function(o,u,d){for(var f="",p=0;p<o.length;p++)p!==0&&(p===o.length-1?f+=" "+d+" ":f+=u+" "),f+=o[p];return f};a=a||function(o){return o.toString()};var c=function(o){return a&&a.call(i,o)};return r?l(t.map(c),n,r):t.map(c).join(n+" ")},s})(),oAe=(function(){function s(t){this.done=!0,this.rules=t}return s.prototype.start=function(t){return this.text=t,this.done=!1,this.nextSymbol()},s.prototype.isDone=function(){return this.done&&this.symbol===null},s.prototype.nextSymbol=function(){var t,a;this.symbol=null,this.value=null;do{if(this.done)return!1;var r=void 0;t=null;for(var n in this.rules){r=this.rules[n];var i=r.exec(this.text);i&&(t===null||i[0].length>t[0].length)&&(t=i,a=n)}if(t!=null&&(this.text=this.text.substr(t[0].length),this.text===""&&(this.done=!0)),t==null){this.done=!0,this.symbol=null,this.value=null;return}}while(a==="SKIP");return this.symbol=a,this.value=t,!0},s.prototype.accept=function(t){if(this.symbol===t){if(this.value){var a=this.value;return this.nextSymbol(),a}return this.nextSymbol(),!0}return!1},s.prototype.acceptNumber=function(){return this.accept("number")},s.prototype.expect=function(t){if(this.accept(t))return!0;throw new Error("expected "+t+" but found "+this.symbol)},s})();function xG(s,t){t===void 0&&(t=rN);var a={},r=new oAe(t.tokens);if(!r.start(s))return null;return n(),a;function n(){r.expect("every");var p=r.acceptNumber();if(p&&(a.interval=parseInt(p[0],10)),r.isDone())throw new Error("Unexpected end");switch(r.symbol){case"day(s)":a.freq=zt.DAILY,r.nextSymbol()&&(l(),f());break;case"weekday(s)":a.freq=zt.WEEKLY,a.byweekday=[zt.MO,zt.TU,zt.WE,zt.TH,zt.FR],r.nextSymbol(),l(),f();break;case"week(s)":a.freq=zt.WEEKLY,r.nextSymbol()&&(i(),l(),f());break;case"hour(s)":a.freq=zt.HOURLY,r.nextSymbol()&&(i(),f());break;case"minute(s)":a.freq=zt.MINUTELY,r.nextSymbol()&&(i(),f());break;case"month(s)":a.freq=zt.MONTHLY,r.nextSymbol()&&(i(),f());break;case"year(s)":a.freq=zt.YEARLY,r.nextSymbol()&&(i(),f());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":a.freq=zt.WEEKLY;var j=r.symbol.substr(0,2).toUpperCase();if(a.byweekday=[zt[j]],!r.nextSymbol())return;for(;r.accept("comma");){if(r.isDone())throw new Error("Unexpected end");var y=o();if(!y)throw new Error("Unexpected symbol "+r.symbol+", expected weekday");a.byweekday.push(zt[y]),r.nextSymbol()}l(),d(),f();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(a.freq=zt.YEARLY,a.bymonth=[c()],!r.nextSymbol())return;for(;r.accept("comma");){if(r.isDone())throw new Error("Unexpected end");var k=c();if(!k)throw new Error("Unexpected symbol "+r.symbol+", expected month");a.bymonth.push(k),r.nextSymbol()}i(),f();break;default:throw new Error("Unknown symbol")}}function i(){var p=r.accept("on"),j=r.accept("the");if(p||j)do{var y=u(),k=o(),v=c();if(y)k?(r.nextSymbol(),a.byweekday||(a.byweekday=[]),a.byweekday.push(zt[k].nth(y))):(a.bymonthday||(a.bymonthday=[]),a.bymonthday.push(y),r.accept("day(s)"));else if(k)r.nextSymbol(),a.byweekday||(a.byweekday=[]),a.byweekday.push(zt[k]);else if(r.symbol==="weekday(s)")r.nextSymbol(),a.byweekday||(a.byweekday=[zt.MO,zt.TU,zt.WE,zt.TH,zt.FR]);else if(r.symbol==="week(s)"){r.nextSymbol();var S=r.acceptNumber();if(!S)throw new Error("Unexpected symbol "+r.symbol+", expected week number");for(a.byweekno=[parseInt(S[0],10)];r.accept("comma");){if(S=r.acceptNumber(),!S)throw new Error("Unexpected symbol "+r.symbol+"; expected monthday");a.byweekno.push(parseInt(S[0],10))}}else if(v)r.nextSymbol(),a.bymonth||(a.bymonth=[]),a.bymonth.push(v);else return}while(r.accept("comma")||r.accept("the")||r.accept("on"))}function l(){var p=r.accept("at");if(p)do{var j=r.acceptNumber();if(!j)throw new Error("Unexpected symbol "+r.symbol+", expected hour");for(a.byhour=[parseInt(j[0],10)];r.accept("comma");){if(j=r.acceptNumber(),!j)throw new Error("Unexpected symbol "+r.symbol+"; expected hour");a.byhour.push(parseInt(j[0],10))}}while(r.accept("comma")||r.accept("at"))}function c(){switch(r.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function o(){switch(r.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return r.symbol.substr(0,2).toUpperCase();default:return!1}}function u(){switch(r.symbol){case"last":return r.nextSymbol(),-1;case"first":return r.nextSymbol(),1;case"second":return r.nextSymbol(),r.accept("last")?-2:2;case"third":return r.nextSymbol(),r.accept("last")?-3:3;case"nth":var p=parseInt(r.value[1],10);if(p<-366||p>366)throw new Error("Nth out of range: "+p);return r.nextSymbol(),r.accept("last")?-p:p;default:return!1}}function d(){r.accept("on"),r.accept("the");var p=u();if(p)for(a.bymonthday=[p],r.nextSymbol();r.accept("comma");){if(p=u(),!p)throw new Error("Unexpected symbol "+r.symbol+"; expected monthday");a.bymonthday.push(p),r.nextSymbol()}}function f(){if(r.symbol==="until"){var p=Date.parse(r.text);if(!p)throw new Error("Cannot parse until date:"+r.text);a.until=new Date(p)}else r.accept("for")&&(a.count=parseInt(r.value[0],10),r.expect("number"))}}var Ns;(function(s){s[s.YEARLY=0]="YEARLY",s[s.MONTHLY=1]="MONTHLY",s[s.WEEKLY=2]="WEEKLY",s[s.DAILY=3]="DAILY",s[s.HOURLY=4]="HOURLY",s[s.MINUTELY=5]="MINUTELY",s[s.SECONDLY=6]="SECONDLY"})(Ns||(Ns={}));function D4(s){return s<Ns.HOURLY}var dAe=function(s,t){return t===void 0&&(t=rN),new zt(xG(s,t)||void 0)},Ex=["count","until","interval","byweekday","bymonthday","bymonth"];co.IMPLEMENTED=[];co.IMPLEMENTED[Ns.HOURLY]=Ex;co.IMPLEMENTED[Ns.MINUTELY]=Ex;co.IMPLEMENTED[Ns.DAILY]=["byhour"].concat(Ex);co.IMPLEMENTED[Ns.WEEKLY]=Ex;co.IMPLEMENTED[Ns.MONTHLY]=Ex;co.IMPLEMENTED[Ns.YEARLY]=["byweekno","byyearday"].concat(Ex);var hAe=function(s,t,a,r){return new co(s,t,a,r).toString()},uAe=co.isFullyConvertible,nN=(function(){function s(t,a,r,n){this.hour=t,this.minute=a,this.second=r,this.millisecond=n||0}return s.prototype.getHours=function(){return this.hour},s.prototype.getMinutes=function(){return this.minute},s.prototype.getSeconds=function(){return this.second},s.prototype.getMilliseconds=function(){return this.millisecond},s.prototype.getTime=function(){return(this.hour*60*60+this.minute*60+this.second)*1e3+this.millisecond},s})(),mAe=(function(s){M4(t,s);function t(a,r,n,i,l,c,o){var u=s.call(this,i,l,c,o)||this;return u.year=a,u.month=r,u.day=n,u}return t.fromDate=function(a){return new this(a.getUTCFullYear(),a.getUTCMonth()+1,a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.valueOf()%1e3)},t.prototype.getWeekday=function(){return Xm(new Date(this.getTime()))},t.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},t.prototype.getDay=function(){return this.day},t.prototype.getMonth=function(){return this.month},t.prototype.getYear=function(){return this.year},t.prototype.addYears=function(a){this.year+=a},t.prototype.addMonths=function(a){if(this.month+=a,this.month>12){var r=Math.floor(this.month/12),n=mi(this.month,12);this.month=n,this.year+=r,this.month===0&&(this.month=12,--this.year)}},t.prototype.addWeekly=function(a,r){r>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-r))+a*7:this.day+=-(this.getWeekday()-r)+a*7,this.fixDay()},t.prototype.addDaily=function(a){this.day+=a,this.fixDay()},t.prototype.addHours=function(a,r,n){for(r&&(this.hour+=Math.floor((23-this.hour)/a)*a);;){this.hour+=a;var i=Fk(this.hour,24),l=i.div,c=i.mod;if(l&&(this.hour=c,this.addDaily(l)),Sl(n)||Ys(n,this.hour))break}},t.prototype.addMinutes=function(a,r,n,i){for(r&&(this.minute+=Math.floor((1439-(this.hour*60+this.minute))/a)*a);;){this.minute+=a;var l=Fk(this.minute,60),c=l.div,o=l.mod;if(c&&(this.minute=o,this.addHours(c,!1,n)),(Sl(n)||Ys(n,this.hour))&&(Sl(i)||Ys(i,this.minute)))break}},t.prototype.addSeconds=function(a,r,n,i,l){for(r&&(this.second+=Math.floor((86399-(this.hour*3600+this.minute*60+this.second))/a)*a);;){this.second+=a;var c=Fk(this.second,60),o=c.div,u=c.mod;if(o&&(this.second=u,this.addMinutes(o,!1,n,i)),(Sl(n)||Ys(n,this.hour))&&(Sl(i)||Ys(i,this.minute))&&(Sl(l)||Ys(l,this.second)))break}},t.prototype.fixDay=function(){if(!(this.day<=28)){var a=t8(this.year,this.month-1)[1];if(!(this.day<=a))for(;this.day>a;){if(this.day-=a,++this.month,this.month===13&&(this.month=1,++this.year,this.year>oG))return;a=t8(this.year,this.month-1)[1]}}},t.prototype.add=function(a,r){var n=a.freq,i=a.interval,l=a.wkst,c=a.byhour,o=a.byminute,u=a.bysecond;switch(n){case Ns.YEARLY:return this.addYears(i);case Ns.MONTHLY:return this.addMonths(i);case Ns.WEEKLY:return this.addWeekly(i,l);case Ns.DAILY:return this.addDaily(i);case Ns.HOURLY:return this.addHours(i,r,c);case Ns.MINUTELY:return this.addMinutes(i,r,c,o);case Ns.SECONDLY:return this.addSeconds(i,r,c,o,u)}},t})(nN);function fG(s){for(var t=[],a=Object.keys(s),r=0,n=a;r<n.length;r++){var i=n[r];Ys(UAe,i)||t.push(i),hG(s[i])&&!hp(s[i])&&t.push(i)}if(t.length)throw new Error("Invalid options: "+t.join(", "));return Wn({},s)}function xAe(s){var t=Wn(Wn({},O4),fG(s));if(Ba(t.byeaster)&&(t.freq=zt.YEARLY),!(Ba(t.freq)&&zt.FREQUENCIES[t.freq]))throw new Error("Invalid frequency: ".concat(t.freq," ").concat(s.freq));if(t.dtstart||(t.dtstart=new Date(new Date().setMilliseconds(0))),Ba(t.wkst)?wl(t.wkst)||(t.wkst=t.wkst.weekday):t.wkst=zt.MO.weekday,Ba(t.bysetpos)){wl(t.bysetpos)&&(t.bysetpos=[t.bysetpos]);for(var a=0;a<t.bysetpos.length;a++){var r=t.bysetpos[a];if(r===0||!(r>=-366&&r<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(t.byweekno||lr(t.byweekno)||lr(t.byyearday)||t.bymonthday||lr(t.bymonthday)||Ba(t.byweekday)||Ba(t.byeaster)))switch(t.freq){case zt.YEARLY:t.bymonth||(t.bymonth=t.dtstart.getUTCMonth()+1),t.bymonthday=t.dtstart.getUTCDate();break;case zt.MONTHLY:t.bymonthday=t.dtstart.getUTCDate();break;case zt.WEEKLY:t.byweekday=[Xm(t.dtstart)];break}if(Ba(t.bymonth)&&!Fn(t.bymonth)&&(t.bymonth=[t.bymonth]),Ba(t.byyearday)&&!Fn(t.byyearday)&&wl(t.byyearday)&&(t.byyearday=[t.byyearday]),!Ba(t.bymonthday))t.bymonthday=[],t.bynmonthday=[];else if(Fn(t.bymonthday)){for(var n=[],i=[],a=0;a<t.bymonthday.length;a++){var r=t.bymonthday[a];r>0?n.push(r):r<0&&i.push(r)}t.bymonthday=n,t.bynmonthday=i}else t.bymonthday<0?(t.bynmonthday=[t.bymonthday],t.bymonthday=[]):(t.bynmonthday=[],t.bymonthday=[t.bymonthday]);if(Ba(t.byweekno)&&!Fn(t.byweekno)&&(t.byweekno=[t.byweekno]),!Ba(t.byweekday))t.bynweekday=null;else if(wl(t.byweekday))t.byweekday=[t.byweekday],t.bynweekday=null;else if(e8(t.byweekday))t.byweekday=[Jr.fromStr(t.byweekday).weekday],t.bynweekday=null;else if(t.byweekday instanceof Jr)!t.byweekday.n||t.freq>zt.MONTHLY?(t.byweekday=[t.byweekday.weekday],t.bynweekday=null):(t.bynweekday=[[t.byweekday.weekday,t.byweekday.n]],t.byweekday=null);else{for(var l=[],c=[],a=0;a<t.byweekday.length;a++){var o=t.byweekday[a];if(wl(o)){l.push(o);continue}else if(e8(o)){l.push(Jr.fromStr(o).weekday);continue}!o.n||t.freq>zt.MONTHLY?l.push(o.weekday):c.push([o.weekday,o.n])}t.byweekday=lr(l)?l:null,t.bynweekday=lr(c)?c:null}return Ba(t.byhour)?wl(t.byhour)&&(t.byhour=[t.byhour]):t.byhour=t.freq<zt.HOURLY?[t.dtstart.getUTCHours()]:null,Ba(t.byminute)?wl(t.byminute)&&(t.byminute=[t.byminute]):t.byminute=t.freq<zt.MINUTELY?[t.dtstart.getUTCMinutes()]:null,Ba(t.bysecond)?wl(t.bysecond)&&(t.bysecond=[t.bysecond]):t.bysecond=t.freq<zt.SECONDLY?[t.dtstart.getUTCSeconds()]:null,{parsedOptions:t}}function fAe(s){var t=s.dtstart.getTime()%1e3;if(!D4(s.freq))return[];var a=[];return s.byhour.forEach(function(r){s.byminute.forEach(function(n){s.bysecond.forEach(function(i){a.push(new nN(r,n,i,t))})})}),a}function $_(s){var t=s.split(`
`).map(pAe).filter(function(a){return a!==null});return Wn(Wn({},t[0]),t[1])}function iN(s){var t={},a=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(s);if(!a)return t;var r=a[1],n=a[2];return r&&(t.tzid=r),t.dtstart=T4(n),t}function pAe(s){if(s=s.replace(/^\s+|\s+$/,""),!s.length)return null;var t=/^([A-Z]+?)[:;]/.exec(s.toUpperCase());if(!t)return i8(s);var a=t[1];switch(a.toUpperCase()){case"RRULE":case"EXRULE":return i8(s);case"DTSTART":return iN(s);default:throw new Error("Unsupported RFC prop ".concat(a," in ").concat(s))}}function i8(s){var t=s.replace(/^RRULE:/i,""),a=iN(t),r=s.replace(/^(?:RRULE|EXRULE):/i,"").split(";");return r.forEach(function(n){var i=n.split("="),l=i[0],c=i[1];switch(l.toUpperCase()){case"FREQ":a.freq=Ns[c.toUpperCase()];break;case"WKST":a.wkst=Pi[c.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var o=gAe(c),u=l.toLowerCase();a[u]=o;break;case"BYWEEKDAY":case"BYDAY":a.byweekday=yAe(c);break;case"DTSTART":case"TZID":var d=iN(s);a.tzid=d.tzid,a.dtstart=d.dtstart;break;case"UNTIL":a.until=T4(c);break;case"BYEASTER":a.byeaster=Number(c);break;default:throw new Error("Unknown RRULE property '"+l+"'")}}),a}function gAe(s){if(s.indexOf(",")!==-1){var t=s.split(",");return t.map(l8)}return l8(s)}function l8(s){return/^[+-]?\d+$/.test(s)?Number(s):s}function yAe(s){var t=s.split(",");return t.map(function(a){if(a.length===2)return Pi[a];var r=a.match(/^([+-]?\d{1,2})([A-Z]{2})$/);if(!r||r.length<3)throw new SyntaxError("Invalid weekday string: ".concat(a));var n=Number(r[1]),i=r[2],l=Pi[i].weekday;return new Jr(l,n)})}var lN=(function(){function s(t,a){if(isNaN(t.getTime()))throw new RangeError("Invalid date passed to DateWithZone");this.date=t,this.tzid=a}return Object.defineProperty(s.prototype,"isUTC",{get:function(){return!this.tzid||this.tzid.toUpperCase()==="UTC"},enumerable:!1,configurable:!0}),s.prototype.toString=function(){var t=A4(this.date.getTime(),this.isUTC);return this.isUTC?":".concat(t):";TZID=".concat(this.tzid,":").concat(t)},s.prototype.getTime=function(){return this.date.getTime()},s.prototype.rezonedDate=function(){return this.isUTC?this.date:iAe(this.date,this.tzid)},s})();function P_(s){for(var t=[],a="",r=Object.keys(s),n=Object.keys(O4),i=0;i<r.length;i++)if(r[i]!=="tzid"&&Ys(n,r[i])){var l=r[i].toUpperCase(),c=s[r[i]],o="";if(!(!Ba(c)||Fn(c)&&!c.length)){switch(l){case"FREQ":o=zt.FREQUENCIES[s.freq];break;case"WKST":wl(c)?o=new Jr(c).toString():o=c.toString();break;case"BYWEEKDAY":l="BYDAY",o=eAe(c).map(function(j){return j instanceof Jr?j:Fn(j)?new Jr(j[0],j[1]):new Jr(j)}).toString();break;case"DTSTART":a=jAe(c,s.tzid);break;case"UNTIL":o=A4(c,!s.tzid);break;default:if(Fn(c)){for(var u=[],d=0;d<c.length;d++)u[d]=String(c[d]);o=u.toString()}else o=String(c)}o&&t.push([l,o])}}var f=t.map(function(j){var y=j[0],k=j[1];return"".concat(y,"=").concat(k.toString())}).join(";"),p="";return f!==""&&(p="RRULE:".concat(f)),[a,p].filter(function(j){return!!j}).join(`
`)}function jAe(s,t){return s?"DTSTART"+new lN(new Date(s),t).toString():""}function vAe(s,t){return Array.isArray(s)?!Array.isArray(t)||s.length!==t.length?!1:s.every(function(a,r){return a.getTime()===t[r].getTime()}):s instanceof Date?t instanceof Date&&s.getTime()===t.getTime():s===t}var bAe=(function(){function s(){this.all=!1,this.before=[],this.after=[],this.between=[]}return s.prototype._cacheAdd=function(t,a,r){a&&(a=a instanceof Date?O_(a):s8(a)),t==="all"?this.all=a:(r._value=a,this[t].push(r))},s.prototype._cacheGet=function(t,a){var r=!1,n=a?Object.keys(a):[],i=function(d){for(var f=0;f<n.length;f++){var p=n[f];if(!vAe(a[p],d[p]))return!0}return!1},l=this[t];if(t==="all")r=this.all;else if(Fn(l))for(var c=0;c<l.length;c++){var o=l[c];if(!(n.length&&i(o))){r=o._value;break}}if(!r&&this.all){for(var u=new vm(t,a),c=0;c<this.all.length&&u.accept(this.all[c]);c++);r=u.getValue(),this._cacheAdd(t,r,a)}return Fn(r)?s8(r):r instanceof Date?O_(r):r},s})(),NAe=pt(pt(pt(pt(pt(pt(pt(pt(pt(pt(pt(pt(pt([],bs(1,31),!0),bs(2,28),!0),bs(3,31),!0),bs(4,30),!0),bs(5,31),!0),bs(6,30),!0),bs(7,31),!0),bs(8,31),!0),bs(9,30),!0),bs(10,31),!0),bs(11,30),!0),bs(12,31),!0),bs(1,7),!0),wAe=pt(pt(pt(pt(pt(pt(pt(pt(pt(pt(pt(pt(pt([],bs(1,31),!0),bs(2,29),!0),bs(3,31),!0),bs(4,30),!0),bs(5,31),!0),bs(6,30),!0),bs(7,31),!0),bs(8,31),!0),bs(9,30),!0),bs(10,31),!0),bs(11,30),!0),bs(12,31),!0),bs(1,7),!0),kAe=Ul(1,29),SAe=Ul(1,30),xd=Ul(1,31),Rr=Ul(1,32),_Ae=pt(pt(pt(pt(pt(pt(pt(pt(pt(pt(pt(pt(pt([],Rr,!0),SAe,!0),Rr,!0),xd,!0),Rr,!0),xd,!0),Rr,!0),Rr,!0),xd,!0),Rr,!0),xd,!0),Rr,!0),Rr.slice(0,7),!0),CAe=pt(pt(pt(pt(pt(pt(pt(pt(pt(pt(pt(pt(pt([],Rr,!0),kAe,!0),Rr,!0),xd,!0),Rr,!0),xd,!0),Rr,!0),Rr,!0),xd,!0),Rr,!0),xd,!0),Rr,!0),Rr.slice(0,7),!0),EAe=Ul(-28,0),AAe=Ul(-29,0),fd=Ul(-30,0),$r=Ul(-31,0),TAe=pt(pt(pt(pt(pt(pt(pt(pt(pt(pt(pt(pt(pt([],$r,!0),AAe,!0),$r,!0),fd,!0),$r,!0),fd,!0),$r,!0),$r,!0),fd,!0),$r,!0),fd,!0),$r,!0),$r.slice(0,7),!0),MAe=pt(pt(pt(pt(pt(pt(pt(pt(pt(pt(pt(pt(pt([],$r,!0),EAe,!0),$r,!0),fd,!0),$r,!0),fd,!0),$r,!0),$r,!0),fd,!0),$r,!0),fd,!0),$r,!0),$r.slice(0,7),!0),DAe=[0,31,60,91,121,152,182,213,244,274,305,335,366],OAe=[0,31,59,90,120,151,181,212,243,273,304,334,365],c8=(function(){for(var s=[],t=0;t<55;t++)s=s.concat(Ul(7));return s})();function RAe(s,t){var a=tu(s,1,1),r=_p(s)?366:365,n=_p(s+1)?366:365,i=D_(a),l=Xm(a),c=Wn(Wn({yearlen:r,nextyearlen:n,yearordinal:i,yearweekday:l},$Ae(s)),{wnomask:null});if(Sl(t.byweekno))return c;c.wnomask=bs(0,r+7);var o,u,d=o=mi(7-l+t.wkst,7);d>=4?(d=0,u=c.yearlen+mi(l-t.wkst,7)):u=r-d;for(var f=Math.floor(u/7),p=mi(u,7),j=Math.floor(f+p/4),y=0;y<t.byweekno.length;y++){var k=t.byweekno[y];if(k<0&&(k+=j+1),k>0&&k<=j){var v=void 0;k>1?(v=d+(k-1)*7,d!==o&&(v-=7-o)):v=d;for(var S=0;S<7&&(c.wnomask[v]=1,v++,c.wdaymask[v]!==t.wkst);S++);}}if(Ys(t.byweekno,1)){var v=d+j*7;if(d!==o&&(v-=7-o),v<r)for(var y=0;y<7&&(c.wnomask[v]=1,v+=1,c.wdaymask[v]!==t.wkst);y++);}if(d){var C=void 0;if(Ys(t.byweekno,-1))C=-1;else{var _=Xm(tu(s-1,1,1)),A=mi(7-_.valueOf()+t.wkst,7),D=_p(s-1)?366:365,M=void 0;A>=4?(A=0,M=D+mi(_-t.wkst,7)):M=r-d,C=Math.floor(52+mi(M,7)/4)}if(Ys(t.byweekno,C))for(var v=0;v<d;v++)c.wnomask[v]=1}return c}function $Ae(s){var t=_p(s)?366:365,a=tu(s,1,1),r=Xm(a);return t===365?{mmask:NAe,mdaymask:CAe,nmdaymask:MAe,wdaymask:c8.slice(r),mrange:OAe}:{mmask:wAe,mdaymask:_Ae,nmdaymask:TAe,wdaymask:c8.slice(r),mrange:DAe}}function PAe(s,t,a,r,n,i){var l={lastyear:s,lastmonth:t,nwdaymask:[]},c=[];if(i.freq===zt.YEARLY)if(Sl(i.bymonth))c=[[0,a]];else for(var o=0;o<i.bymonth.length;o++)t=i.bymonth[o],c.push(r.slice(t-1,t+1));else i.freq===zt.MONTHLY&&(c=[r.slice(t-1,t+1)]);if(Sl(c))return l;l.nwdaymask=bs(0,a);for(var o=0;o<c.length;o++)for(var u=c[o],d=u[0],f=u[1]-1,p=0;p<i.bynweekday.length;p++){var j=void 0,y=i.bynweekday[p],k=y[0],v=y[1];v<0?(j=f+(v+1)*7,j-=mi(n[j]-k,7)):(j=d+(v-1)*7,j+=mi(7-n[j]+k,7)),d<=j&&j<=f&&(l.nwdaymask[j]=1)}return l}function IAe(s,t){t===void 0&&(t=0);var a=s%19,r=Math.floor(s/100),n=s%100,i=Math.floor(r/4),l=r%4,c=Math.floor((r+8)/25),o=Math.floor((r-c+1)/3),u=Math.floor(19*a+r-i-o+15)%30,d=Math.floor(n/4),f=n%4,p=Math.floor(32+2*l+2*d-u-f)%7,j=Math.floor((a+11*u+22*p)/451),y=Math.floor((u+p-7*j+114)/31),k=(u+p-7*j+114)%31+1,v=Date.UTC(s,y-1,k+t),S=Date.UTC(s,0,1);return[Math.ceil((v-S)/(1e3*60*60*24))]}var BAe=(function(){function s(t){this.options=t}return s.prototype.rebuild=function(t,a){var r=this.options;if(t!==this.lastyear&&(this.yearinfo=RAe(t,r)),lr(r.bynweekday)&&(a!==this.lastmonth||t!==this.lastyear)){var n=this.yearinfo,i=n.yearlen,l=n.mrange,c=n.wdaymask;this.monthinfo=PAe(t,a,i,l,c,r)}Ba(r.byeaster)&&(this.eastermask=IAe(t,r.byeaster))},Object.defineProperty(s.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!1,configurable:!0}),s.prototype.ydayset=function(){return[Ul(this.yearlen),0,this.yearlen]},s.prototype.mdayset=function(t,a){for(var r=this.mrange[a-1],n=this.mrange[a],i=bs(null,this.yearlen),l=r;l<n;l++)i[l]=l;return[i,r,n]},s.prototype.wdayset=function(t,a,r){for(var n=bs(null,this.yearlen+7),i=D_(tu(t,a,r))-this.yearordinal,l=i,c=0;c<7&&(n[i]=i,++i,this.wdaymask[i]!==this.options.wkst);c++);return[n,l,i]},s.prototype.ddayset=function(t,a,r){var n=bs(null,this.yearlen),i=D_(tu(t,a,r))-this.yearordinal;return n[i]=i,[n,i,i+1]},s.prototype.htimeset=function(t,a,r,n){var i=this,l=[];return this.options.byminute.forEach(function(c){l=l.concat(i.mtimeset(t,c,r,n))}),ag(l),l},s.prototype.mtimeset=function(t,a,r,n){var i=this.options.bysecond.map(function(l){return new nN(t,a,l,n)});return ag(i),i},s.prototype.stimeset=function(t,a,r,n){return[new nN(t,a,r,n)]},s.prototype.getdayset=function(t){switch(t){case Ns.YEARLY:return this.ydayset.bind(this);case Ns.MONTHLY:return this.mdayset.bind(this);case Ns.WEEKLY:return this.wdayset.bind(this);case Ns.DAILY:return this.ddayset.bind(this);default:return this.ddayset.bind(this)}},s.prototype.gettimeset=function(t){switch(t){case Ns.HOURLY:return this.htimeset.bind(this);case Ns.MINUTELY:return this.mtimeset.bind(this);case Ns.SECONDLY:return this.stimeset.bind(this)}},s})();function LAe(s,t,a,r,n,i){for(var l=[],c=0;c<s.length;c++){var o=void 0,u=void 0,d=s[c];d<0?(o=Math.floor(d/t.length),u=mi(d,t.length)):(o=Math.floor((d-1)/t.length),u=mi(d-1,t.length));for(var f=[],p=a;p<r;p++){var j=i[p];Ba(j)&&f.push(j)}var y=void 0;o<0?y=f.slice(o)[0]:y=f[o];var k=t[u],v=uG(n.yearordinal+y),S=mG(v,k);Ys(l,S)||l.push(S)}return ag(l),l}function pG(s,t){var a=t.dtstart,r=t.freq,n=t.interval,i=t.until,l=t.bysetpos,c=t.count;if(c===0||n===0)return jc(s);var o=mAe.fromDate(a),u=new BAe(t);u.rebuild(o.year,o.month);for(var d=HAe(u,o,t);;){var f=u.getdayset(r)(o.year,o.month,o.day),p=f[0],j=f[1],y=f[2],k=zAe(p,j,y,u,t);if(lr(l))for(var v=LAe(l,d,j,y,u,p),S=0;S<v.length;S++){var C=v[S];if(i&&C>i)return jc(s);if(C>=a){var _=o8(C,t);if(!s.accept(_)||c&&(--c,!c))return jc(s)}}else for(var S=j;S<y;S++){var A=p[S];if(Ba(A))for(var D=uG(u.yearordinal+A),M=0;M<d.length;M++){var L=d[M],C=mG(D,L);if(i&&C>i)return jc(s);if(C>=a){var _=o8(C,t);if(!s.accept(_)||c&&(--c,!c))return jc(s)}}}if(t.interval===0||(o.add(t,k),o.year>oG))return jc(s);D4(r)||(d=u.gettimeset(r)(o.hour,o.minute,o.second,0)),u.rebuild(o.year,o.month)}}function FAe(s,t,a){var r=a.bymonth,n=a.byweekno,i=a.byweekday,l=a.byeaster,c=a.bymonthday,o=a.bynmonthday,u=a.byyearday;return lr(r)&&!Ys(r,s.mmask[t])||lr(n)&&!s.wnomask[t]||lr(i)&&!Ys(i,s.wdaymask[t])||lr(s.nwdaymask)&&!s.nwdaymask[t]||l!==null&&!Ys(s.eastermask,t)||(lr(c)||lr(o))&&!Ys(c,s.mdaymask[t])&&!Ys(o,s.nmdaymask[t])||lr(u)&&(t<s.yearlen&&!Ys(u,t+1)&&!Ys(u,-s.yearlen+t)||t>=s.yearlen&&!Ys(u,t+1-s.yearlen)&&!Ys(u,-s.nextyearlen+t-s.yearlen))}function o8(s,t){return new lN(s,t.tzid).rezonedDate()}function jc(s){return s.getValue()}function zAe(s,t,a,r,n){for(var i=!1,l=t;l<a;l++){var c=s[l];i=FAe(r,c,n),i&&(s[c]=null)}return i}function HAe(s,t,a){var r=a.freq,n=a.byhour,i=a.byminute,l=a.bysecond;return D4(r)?fAe(a):r>=zt.HOURLY&&lr(n)&&!Ys(n,t.hour)||r>=zt.MINUTELY&&lr(i)&&!Ys(i,t.minute)||r>=zt.SECONDLY&&lr(l)&&!Ys(l,t.second)?[]:s.gettimeset(r)(t.hour,t.minute,t.second,t.millisecond)}var Pi={MO:new Jr(0),TU:new Jr(1),WE:new Jr(2),TH:new Jr(3),FR:new Jr(4),SA:new Jr(5),SU:new Jr(6)},O4={freq:Ns.YEARLY,dtstart:null,interval:1,wkst:Pi.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},UAe=Object.keys(O4),zt=(function(){function s(t,a){t===void 0&&(t={}),a===void 0&&(a=!1),this._cache=a?null:new bAe,this.origOptions=fG(t);var r=xAe(t).parsedOptions;this.options=r}return s.parseText=function(t,a){return xG(t,a)},s.fromText=function(t,a){return dAe(t,a)},s.fromString=function(t){return new s(s.parseString(t)||void 0)},s.prototype._iter=function(t){return pG(t,this.options)},s.prototype._cacheGet=function(t,a){return this._cache?this._cache._cacheGet(t,a):!1},s.prototype._cacheAdd=function(t,a,r){if(this._cache)return this._cache._cacheAdd(t,a,r)},s.prototype.all=function(t){if(t)return this._iter(new r8("all",{},t));var a=this._cacheGet("all");return a===!1&&(a=this._iter(new vm("all",{})),this._cacheAdd("all",a)),a},s.prototype.between=function(t,a,r,n){if(r===void 0&&(r=!1),!hp(t)||!hp(a))throw new Error("Invalid date passed in to RRule.between");var i={before:a,after:t,inc:r};if(n)return this._iter(new r8("between",i,n));var l=this._cacheGet("between",i);return l===!1&&(l=this._iter(new vm("between",i)),this._cacheAdd("between",l,i)),l},s.prototype.before=function(t,a){if(a===void 0&&(a=!1),!hp(t))throw new Error("Invalid date passed in to RRule.before");var r={dt:t,inc:a},n=this._cacheGet("before",r);return n===!1&&(n=this._iter(new vm("before",r)),this._cacheAdd("before",n,r)),n},s.prototype.after=function(t,a){if(a===void 0&&(a=!1),!hp(t))throw new Error("Invalid date passed in to RRule.after");var r={dt:t,inc:a},n=this._cacheGet("after",r);return n===!1&&(n=this._iter(new vm("after",r)),this._cacheAdd("after",n,r)),n},s.prototype.count=function(){return this.all().length},s.prototype.toString=function(){return P_(this.origOptions)},s.prototype.toText=function(t,a,r){return hAe(this,t,a,r)},s.prototype.isFullyConvertibleToText=function(){return uAe(this)},s.prototype.clone=function(){return new s(this.origOptions)},s.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],s.YEARLY=Ns.YEARLY,s.MONTHLY=Ns.MONTHLY,s.WEEKLY=Ns.WEEKLY,s.DAILY=Ns.DAILY,s.HOURLY=Ns.HOURLY,s.MINUTELY=Ns.MINUTELY,s.SECONDLY=Ns.SECONDLY,s.MO=Pi.MO,s.TU=Pi.TU,s.WE=Pi.WE,s.TH=Pi.TH,s.FR=Pi.FR,s.SA=Pi.SA,s.SU=Pi.SU,s.parseString=$_,s.optionsToString=P_,s})();function qAe(s,t,a,r,n,i){var l={},c=s.accept;function o(p,j){a.forEach(function(y){y.between(p,j,!0).forEach(function(k){l[Number(k)]=!0})})}n.forEach(function(p){var j=new lN(p,i).rezonedDate();l[Number(j)]=!0}),s.accept=function(p){var j=Number(p);return isNaN(j)?c.call(this,p):!l[j]&&(o(new Date(j-1),new Date(j+1)),!l[j])?(l[j]=!0,c.call(this,p)):!0},s.method==="between"&&(o(s.args.after,s.args.before),s.accept=function(p){var j=Number(p);return l[j]?!0:(l[j]=!0,c.call(this,p))});for(var u=0;u<r.length;u++){var d=new lN(r[u],i).rezonedDate();if(!s.accept(new Date(d.getTime())))break}t.forEach(function(p){pG(s,p.options)});var f=s._result;switch(ag(f),s.method){case"all":case"between":return f;case"before":return f.length&&f[f.length-1]||null;case"after":default:return f.length&&f[0]||null}}var d8={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function GAe(s,t){var a=[],r=[],n=[],i=[],l=iN(s),c=l.dtstart,o=l.tzid,u=QAe(s,t.unfold);return u.forEach(function(d){var f;if(d){var p=KAe(d),j=p.name,y=p.parms,k=p.value;switch(j.toUpperCase()){case"RRULE":if(y.length)throw new Error("unsupported RRULE parm: ".concat(y.join(",")));a.push($_(d));break;case"RDATE":var v=(f=/RDATE(?:;TZID=([^:=]+))?/i.exec(d))!==null&&f!==void 0?f:[],S=v[1];S&&!o&&(o=S),r=r.concat(h8(k,y));break;case"EXRULE":if(y.length)throw new Error("unsupported EXRULE parm: ".concat(y.join(",")));n.push($_(k));break;case"EXDATE":i=i.concat(h8(k,y));break;case"DTSTART":break;default:throw new Error("unsupported property: "+j)}}}),{dtstart:c,tzid:o,rrulevals:a,rdatevals:r,exrulevals:n,exdatevals:i}}function VAe(s,t){var a=GAe(s,t),r=a.rrulevals,n=a.rdatevals,i=a.exrulevals,l=a.exdatevals,c=a.dtstart,o=a.tzid,u=t.cache===!1;if(t.compatible&&(t.forceset=!0,t.unfold=!0),t.forceset||r.length>1||n.length||i.length||l.length){var d=new gG(u);return d.dtstart(c),d.tzid(o||void 0),r.forEach(function(p){d.rrule(new zt(zk(p,c,o),u))}),n.forEach(function(p){d.rdate(p)}),i.forEach(function(p){d.exrule(new zt(zk(p,c,o),u))}),l.forEach(function(p){d.exdate(p)}),t.compatible&&t.dtstart&&d.rdate(c),d}var f=r[0]||{};return new zt(zk(f,f.dtstart||t.dtstart||c,f.tzid||t.tzid||o),u)}function I_(s,t){return t===void 0&&(t={}),VAe(s,WAe(t))}function zk(s,t,a){return Wn(Wn({},s),{dtstart:t,tzid:a})}function WAe(s){var t=[],a=Object.keys(s),r=Object.keys(d8);if(a.forEach(function(n){Ys(r,n)||t.push(n)}),t.length)throw new Error("Invalid options: "+t.join(", "));return Wn(Wn({},d8),s)}function YAe(s){if(s.indexOf(":")===-1)return{name:"RRULE",value:s};var t=tAe(s,":",1),a=t[0],r=t[1];return{name:a,value:r}}function KAe(s){var t=YAe(s),a=t.name,r=t.value,n=a.split(";");if(!n)throw new Error("empty property name");return{name:n[0].toUpperCase(),parms:n.slice(1),value:r}}function QAe(s,t){if(t===void 0&&(t=!1),s=s&&s.trim(),!s)throw new Error("Invalid empty string");if(!t)return s.split(/\s/);for(var a=s.split(`
`),r=0;r<a.length;){var n=a[r]=a[r].replace(/\s+$/g,"");n?r>0&&n[0]===" "?(a[r-1]+=n.slice(1),a.splice(r,1)):r+=1:a.splice(r,1)}return a}function XAe(s){s.forEach(function(t){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(t))throw new Error("unsupported RDATE/EXDATE parm: "+t)})}function h8(s,t){return XAe(t),s.split(",").map(function(a){return T4(a)})}function u8(s){var t=this;return function(a){if(a!==void 0&&(t["_".concat(s)]=a),t["_".concat(s)]!==void 0)return t["_".concat(s)];for(var r=0;r<t._rrule.length;r++){var n=t._rrule[r].origOptions[s];if(n)return n}}}var gG=(function(s){M4(t,s);function t(a){a===void 0&&(a=!1);var r=s.call(this,{},a)||this;return r.dtstart=u8.apply(r,["dtstart"]),r.tzid=u8.apply(r,["tzid"]),r._rrule=[],r._rdate=[],r._exrule=[],r._exdate=[],r}return t.prototype._iter=function(a){return qAe(a,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},t.prototype.rrule=function(a){m8(a,this._rrule)},t.prototype.exrule=function(a){m8(a,this._exrule)},t.prototype.rdate=function(a){x8(a,this._rdate)},t.prototype.exdate=function(a){x8(a,this._exdate)},t.prototype.rrules=function(){return this._rrule.map(function(a){return I_(a.toString())})},t.prototype.exrules=function(){return this._exrule.map(function(a){return I_(a.toString())})},t.prototype.rdates=function(){return this._rdate.map(function(a){return new Date(a.getTime())})},t.prototype.exdates=function(){return this._exdate.map(function(a){return new Date(a.getTime())})},t.prototype.valueOf=function(){var a=[];return!this._rrule.length&&this._dtstart&&(a=a.concat(P_({dtstart:this._dtstart}))),this._rrule.forEach(function(r){a=a.concat(r.toString().split(`
`))}),this._exrule.forEach(function(r){a=a.concat(r.toString().split(`
`).map(function(n){return n.replace(/^RRULE:/,"EXRULE:")}).filter(function(n){return!/^DTSTART/.test(n)}))}),this._rdate.length&&a.push(f8("RDATE",this._rdate,this.tzid())),this._exdate.length&&a.push(f8("EXDATE",this._exdate,this.tzid())),a},t.prototype.toString=function(){return this.valueOf().join(`
`)},t.prototype.clone=function(){var a=new t(!!this._cache);return this._rrule.forEach(function(r){return a.rrule(r.clone())}),this._exrule.forEach(function(r){return a.exrule(r.clone())}),this._rdate.forEach(function(r){return a.rdate(new Date(r.getTime()))}),this._exdate.forEach(function(r){return a.exdate(new Date(r.getTime()))}),a},t})(zt);function m8(s,t){if(!(s instanceof zt))throw new TypeError(String(s)+" is not RRule instance");Ys(t.map(String),String(s))||t.push(s)}function x8(s,t){if(!(s instanceof Date))throw new TypeError(String(s)+" is not Date instance");Ys(t.map(Number),Number(s))||(t.push(s),ag(t))}function f8(s,t,a){var r=!a||a.toUpperCase()==="UTC",n=r?"".concat(s,":"):"".concat(s,";TZID=").concat(a,":"),i=t.map(function(l){return A4(l.valueOf(),r)}).join(",");return"".concat(n).concat(i)}const ZAe={parse(s,t){if(s.rrule!=null){let a=JAe(s,t);if(a)return{typeData:{rruleSet:a.rruleSet,dateEnv:a.isTimeZoneSpecified?void 0:t},allDayGuess:!a.isTimeSpecified,duration:s.duration}}return null},expand(s,t,a){return s.rruleSet.between(Ca(t.start,-1),Ca(t.end,1)).map(r=>a.createMarker(s.dateEnv?s.dateEnv.toDate(r):r))}};function JAe(s,t){let a,r=!1,n=!1;if(typeof s.rrule=="string"){let c=e4e(s.rrule);a=c.rruleSet,r=c.isTimeSpecified,n=c.isTimeZoneSpecified}if(typeof s.rrule=="object"&&s.rrule){let c=p8(s.rrule,t);a=new gG,a.rrule(c.rrule),r=c.isTimeSpecified,n=c.isTimeZoneSpecified}let i=[].concat(s.exdate||[]),l=[].concat(s.exrule||[]);for(let c of i){let o=v1(c);r=r||!o.isTimeUnspecified,n=n||o.timeZoneOffset!==null,a.exdate(new Date(o.marker.valueOf()-(o.timeZoneOffset||0)*60*1e3))}for(let c of l){let o=p8(c,t);r=r||o.isTimeSpecified,n=n||o.isTimeZoneSpecified,a.exrule(o.rrule)}return{rruleSet:a,isTimeSpecified:r,isTimeZoneSpecified:n}}function p8(s,t){let a=!1,r=!1;function n(l){if(typeof l=="string"){let c=v1(l);return c?(a=a||!c.isTimeUnspecified,r=r||c.timeZoneOffset!==null,new Date(c.marker.valueOf()-(c.timeZoneOffset||0)*60*1e3)):null}return l}let i=Object.assign(Object.assign({},s),{dtstart:n(s.dtstart),until:n(s.until),freq:cN(s.freq),wkst:s.wkst==null?(t.weekDow-1+7)%7:cN(s.wkst),byweekday:s4e(s.byweekday)});return{rrule:new zt(i),isTimeSpecified:a,isTimeZoneSpecified:r}}function e4e(s){let t=I_(s,{forceset:!0}),a=t4e(s);return Object.assign({rruleSet:t},a)}function t4e(s){let t=!1,a=!1;function r(n,i,l){let c=v1(l);t=t||!c.isTimeUnspecified,a=a||c.timeZoneOffset!==null}return s.replace(/\b(DTSTART:)([^\n]*)/,r),s.replace(/\b(EXDATE:)([^\n]*)/,r),s.replace(/\b(UNTIL=)([^;\n]*)/,r),{isTimeSpecified:t,isTimeZoneSpecified:a}}function s4e(s){return Array.isArray(s)?s.map(cN):cN(s)}function cN(s){return typeof s=="string"?zt[s.toUpperCase()]:s}const a4e={rrule:ze,exrule:ze,exdate:ze,duration:cs};var r4e=Zi({name:"@fullcalendar/rrule",recurringTypes:[ZAe],eventRefiners:a4e});function n4e(){const[s,t]=x.useState(!0),[a,r]=x.useState("light"),[n,i]=x.useState([]),[l,c]=x.useState({}),[o,u]=x.useState({classrooms:[],types_events:{}}),[d,f]=x.useState([]),[p,j]=x.useState(!1),[y,k]=x.useState({view:"all",matricule_classroom:"",matricule_matiere:""}),[v,S]=x.useState(null),[C,_]=x.useState(!1),[A,D]=x.useState(null),[M,L]=x.useState({}),F=x.useRef(null),Q=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"];x.useEffect(()=>{const G=document.documentElement.getAttribute("data-theme")||"light";r(G);const se=new MutationObserver(()=>{const O=document.documentElement.getAttribute("data-theme")||"light";r(O)});return se.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>se.disconnect()},[]);const I=x.useCallback(async()=>{try{const G=await he.get("/formateur/calendar/filter-data");u(G.data||{classrooms:[],types_events:{}})}catch(G){console.error("Erreur lors du chargement des filtres:",G),D("Erreur lors du chargement des données de filtres")}},[]),H=x.useCallback(async G=>{if(!G){f([]);return}j(!0);try{const se=await he.get(`/formateur/calendar/matieres/${G}`);f(se.data.matieres||[])}catch(se){console.error("Erreur lors du chargement des matières:",se),D("Erreur lors du chargement des matières de la classe"),f([])}finally{j(!1)}},[]),z=x.useCallback(async()=>{try{const G={};Object.keys(y).forEach(O=>{y[O]&&(G[O]=y[O])});const se=await he.get("/formateur/calendar/statistics",{params:G});c(se.data.statistics||{})}catch(G){console.error("Erreur lors du chargement des statistiques:",G),D("Erreur lors du chargement des statistiques")}},[y]),K=x.useCallback((G,se,O)=>{const{start:W,end:Z}=G;he.get("/formateur/calendar/events",{params:{start:W.toISOString(),end:Z.toISOString(),view:y.view,matricule_classroom:y.matricule_classroom,matricule_matiere:y.matricule_matiere}}).then(te=>{i(te.data.events||[]),se(te.data.events||[])}).catch(te=>{console.error("Erreur lors du chargement des événements:",te),D("Erreur lors du chargement des événements du calendrier"),O(te)})},[y]),U=x.useCallback(G=>{k(se=>({...se,matricule_classroom:G,matricule_matiere:""})),H(G)},[H]);x.useEffect(()=>{(async()=>{t(!0),await Promise.all([I(),z()]),t(!1)})()},[I,z]),x.useEffect(()=>{z(),F.current&&F.current.getApi().refetchEvents()},[y,z]),x.useEffect(()=>{We.replace()},[l,o]);const V=async G=>{const{extendedProps:se}=G.event,O=se.type,W=G.event.id.split("_")[1];try{const Z=await he.get(`/formateur/calendar/event-details/${O}/${W}`);S(Z.data.details),_(!0)}catch(Z){console.error("Erreur lors du chargement des détails:",Z),D("Erreur lors du chargement des détails de l'événement")}},P=()=>l?.evolution_7_jours?.map(G=>({date:G.date,evaluations:G.evaluations,cours:G.cours,inscriptions:G.inscriptions,reponses:G.reponses}))||[],q=()=>l?[{name:"Évaluations",value:l.evaluations?.total||0},{name:"Cours",value:l.cours?.total||0},{name:"Inscriptions",value:l.inscriptions?.total||0},{name:"Activités",value:l.activite?.total_reponses||0}]:[];return s?e.jsx(et,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement du calendrier..."})]})}):e.jsx(et,{children:e.jsxs(yt,{fluid:!0,className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${a==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"calendar",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${a==="dark"?"text-light":"text-dark"}`,children:"Calendrier des Activités"}),e.jsx("p",{className:`mb-0 ${a==="dark"?"text-light":"text-muted"}`,children:"Récapitulatif des événements et statistiques de la plateforme"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs(xe,{to:"/formateur/dashboard",className:"btn btn-outline-secondary btn-sm me-2",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"14px",height:"14px"}}),"Retour au dashboard"]}),e.jsxs($,{variant:"outline-primary",size:"sm",onClick:()=>F.current?.getApi().refetchEvents(),children:[e.jsx("i",{"data-feather":"refresh-cw",className:"me-1",style:{width:"14px",height:"14px"}}),"Actualiser"]})]})]}),A&&e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),A]}),e.jsx(w,{className:`shadow-sm border-0 mb-4 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{children:e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:4,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Type d'événement"}),e.jsx(b.Select,{value:y.view,onChange:G=>k(se=>({...se,view:G.target.value})),children:Object.entries(o.types_events||{}).map(([G,se])=>e.jsx("option",{value:G,children:se},G))})]})}),e.jsx(T,{md:4,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Classe"}),e.jsxs(b.Select,{value:y.matricule_classroom,onChange:G=>U(G.target.value),children:[e.jsx("option",{value:"",children:"Toutes les classes"}),o.classrooms?.map(G=>e.jsxs("option",{value:G.matricule,children:[G.name," (",G.matricule,")"]},G.matricule))]})]})}),e.jsx(T,{md:4,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:["Matière",p&&e.jsx(tt,{animation:"border",size:"sm",className:"ms-2"})]}),e.jsxs(b.Select,{value:y.matricule_matiere,onChange:G=>k(se=>({...se,matricule_matiere:G.target.value})),disabled:!y.matricule_classroom||p,children:[e.jsx("option",{value:"",children:y.matricule_classroom?"Toutes les matières":"Sélectionnez d'abord une classe"}),d.map(G=>e.jsxs("option",{value:G.matricule,children:[G.nom," (",G.matricule,")"]},G.matricule))]})]})})]})})}),e.jsx(pe,{className:"mb-4",children:e.jsxs(w,{className:`border-0 shadow-sm h-100 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"trending-up",className:"me-2",style:{width:"20px",height:"20px"}}),"Statistiques Globales"]})}),e.jsx(w.Body,{children:e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:12,lg:4,children:e.jsxs(w,{className:`shadow-sm border-0 h-100 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"bar-chart-2",className:"me-2",style:{width:"20px",height:"20px"}}),"Statistiques Période"]})}),e.jsxs(w.Body,{className:"d-flex flex-column",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{children:"Évaluations"}),e.jsx(oe,{bg:"primary",children:l.evaluations?.total||0})]}),e.jsx(Zt,{now:l.evaluations?.total/(l.evaluations?.total+l.cours?.total+l.inscriptions?.total||1)*100||0,variant:"primary",style:{height:"8px"}})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{children:"Cours"}),e.jsx(oe,{bg:"success",children:l.cours?.total||0})]}),e.jsx(Zt,{now:l.cours?.total/(l.evaluations?.total+l.cours?.total+l.inscriptions?.total||1)*100||0,variant:"success",style:{height:"8px"}})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{children:"Inscriptions"}),e.jsx(oe,{bg:"info",children:l.inscriptions?.total||0})]}),e.jsx(Zt,{now:l.inscriptions?.total/(l.evaluations?.total+l.cours?.total+l.inscriptions?.total||1)*100||0,variant:"info",style:{height:"8px"}})]}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{children:"Activité (réponses)"}),e.jsx(oe,{bg:"warning",children:l.activite?.total_reponses||0})]}),e.jsx(Zt,{now:100,variant:"warning",style:{height:"8px"}})]})]})]})}),e.jsx(T,{md:12,lg:4,children:e.jsxs(w,{className:`shadow-sm border-0 h-100 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"pie-chart",className:"me-2",style:{width:"20px",height:"20px"}}),"Répartition des Événements"]})}),e.jsx(w.Body,{className:"d-flex flex-column",children:e.jsx("div",{className:"flex-grow-1",children:e.jsx(Sa,{width:"100%",height:250,children:e.jsxs(qm,{children:[e.jsx(Kh,{data:q(),cx:"50%",cy:"50%",labelLine:!1,label:({name:G,percent:se})=>`${G} ${(se*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:q().map((G,se)=>e.jsx(Yc,{fill:Q[se%Q.length]},`cell-${se}`))}),e.jsx(Da,{})]})})})})]})}),e.jsx(T,{md:12,lg:4,children:e.jsxs(w,{className:`shadow-sm border-0 h-100 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"trending-up",className:"me-2",style:{width:"20px",height:"20px"}}),"Évolution sur 7 jours"]})}),e.jsx(w.Body,{className:"d-flex flex-column",children:e.jsx("div",{className:"flex-grow-1",children:e.jsx(Sa,{width:"100%",height:250,children:e.jsxs(Kg,{data:P(),children:[e.jsx(sn,{strokeDasharray:"3 3"}),e.jsx(zr,{dataKey:"date",tickFormatter:G=>new Date(G).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"})}),e.jsx(Hr,{}),e.jsx(Da,{labelFormatter:G=>new Date(G).toLocaleDateString("fr-FR")}),e.jsx(bn,{type:"monotone",dataKey:"evaluations",stroke:"#8884d8",name:"Évaluations"}),e.jsx(bn,{type:"monotone",dataKey:"cours",stroke:"#82ca9d",name:"Cours"}),e.jsx(bn,{type:"monotone",dataKey:"inscriptions",stroke:"#ffc658",name:"Inscriptions"}),e.jsx(bn,{type:"monotone",dataKey:"reponses",stroke:"#ff7300",name:"Réponses"})]})})})})]})})]})})]})}),e.jsxs(w,{className:`shadow-sm border-0 mb-4 ${a==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${a==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:`mb-0 ${a==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-2",style:{width:"20px",height:"20px"}}),"Calendrier des Événements"]})}),e.jsx(w.Body,{className:"p-0",children:e.jsx("div",{style:{height:"70vh",minHeight:"600px"},children:e.jsx(C4,{ref:F,plugins:[Qq,eG,iG,lG,r4e],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},editable:!1,selectable:!0,events:K,eventClick:V,locale:"fr",buttonText:{today:"Aujourd'hui",month:"Mois",week:"Semaine",day:"Jour",list:"Liste"},contentHeight:"auto",aspectRatio:1.8,dayMaxEventRows:3,eventDisplay:"block",dayHeaderFormat:{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}})})})]}),e.jsxs(Y,{show:C,onHide:()=>_(!1),centered:!0,size:"lg",contentClassName:a==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:a==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Détails de l'Événement"})}),e.jsx(Y.Body,{className:a==="dark"?"bg-dark text-light":"",children:v&&e.jsxs("div",{children:[v.evaluation&&e.jsxs(e.Fragment,{children:[e.jsx("h5",{children:v.evaluation.titre}),e.jsx("p",{children:v.evaluation.description}),e.jsxs(oe,{bg:"info",children:["Matière: ",v.evaluation.matiere?.nom||v.evaluation.matricule_matiere||"N/A"]}),e.jsxs(oe,{bg:"secondary",className:"ms-2",children:["Classe: ",v.evaluation.classroom?.nom||v.evaluation.matricule_classroom||"N/A"]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("h6",{children:"Statistiques"}),e.jsx(Et,{size:"sm",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Participants"}),e.jsx("td",{children:v.statistiques?.participants||0})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Taux de réussite"}),e.jsxs("td",{children:[v.statistiques?.taux_reussite||0,"%"]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Questions"}),e.jsx("td",{children:v.statistiques?.questions_count||0})]})]})})]})]}),v.cours&&e.jsxs(e.Fragment,{children:[e.jsx("h5",{children:v.cours.titre}),e.jsx("p",{children:v.cours.description}),e.jsxs(oe,{bg:"info",children:["Matière: ",v.cours.matiere?.nom||v.cours.matricule_matiere||"N/A"]}),e.jsxs(oe,{bg:"secondary",className:"ms-2",children:["Classe: ",v.cours.classroom?.nom||v.cours.matricule_classroom||"N/A"]})]}),v.user&&e.jsxs(e.Fragment,{children:[e.jsx("h5",{children:v.user.name}),e.jsxs("p",{children:["Email: ",v.user.email]}),e.jsx(oe,{bg:v.role_text==="Étudiant"?"success":"warning",children:v.role_text})]})]})}),e.jsx(Y.Footer,{className:a==="dark"?"bg-dark text-light border-secondary":"",children:e.jsx($,{variant:"secondary",onClick:()=>_(!1),children:"Fermer"})})]})]})})}function i4e(){const[s,t]=x.useState([]),[a,r]=x.useState([]),[n,i]=x.useState({}),[l,c]=x.useState(!1),[o,u]=x.useState(!1),[d,f]=x.useState([]),[p,j]=x.useState(""),[y,k]=x.useState(""),[v,S]=x.useState(""),[C,_]=x.useState(""),[A,D]=x.useState(!1),[M,L]=x.useState(!1),[F,Q]=x.useState(null),[I,H]=x.useState({}),[z,K]=x.useState({email:"",role:"",matricule_classroom:""}),[U,V]=x.useState("light"),[P,q]=x.useState(!1),[G,se]=x.useState(""),[O,W]=x.useState("success"),Z={0:"Espace Attente",1:"Étudiant",2:"Formateur"},te=(ae,ye="success")=>{se(ae),W(ye),q(!0)};x.useEffect(()=>{const ae=document.documentElement.getAttribute("data-theme")||"light";V(ae);const ye=new MutationObserver(()=>{const st=document.documentElement.getAttribute("data-theme")||"light";V(st)});return ye.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>ye.disconnect()},[]);const ie=x.useCallback(async()=>{c(!0);try{const ae={};p.trim()&&(ae.search=p.trim()),y&&(ae.role=y),v&&(ae.matricule_classroom=v),C!==""&&(ae.status=C);const ye=await he.get("/formateur/view/invitations",{params:ae});t(ye.data.invitations||[]),r(ye.data.classroom||[]),i(ye.data.stats||{})}catch(ae){console.error("Erreur lors du chargement des invitations",ae),te("Échec du chargement des invitations.","danger")}finally{c(!1)}},[p,y,v,C]);x.useEffect(()=>{ie()},[ie]),x.useEffect(()=>{We.replace()},[s,A,M,l,d]);const fe=async ae=>{ae.preventDefault(),H({}),u(!0);try{const ye=await he.post("/formateur/invitation/users",z);ie(),D(!1),K({email:"",role:"",matricule_classroom:""}),te(ye.data.message||"Invitation envoyée avec succès","success")}catch(ye){ye.response?.status===422?H(ye.response.data.errors||{}):(console.error(ye),te("Erreur lors de l'envoi de l'invitation.","danger"))}finally{u(!1)}},J=(ae=null)=>{Q(ae),L(!0)},ge=async()=>{u(!0);try{const ae=F?[F]:d;F?await he.delete(`/formateur/destroy/invitations/${F}`):await he.post("/formateur/invitations/destroy-group",{ids:ae}),ie(),L(!1),f([]),Q(null),te("Invitation(s) supprimée(s) avec succès","success")}catch(ae){console.error(ae),te("Erreur lors de la suppression de l'invitation.","danger")}finally{u(!1)}},re=ae=>{const{value:ye,checked:st}=ae.target,He=parseInt(ye);f(st?ke=>[...ke,He]:ke=>ke.filter(we=>we!==He))},ve=ae=>{ae.target.checked?f(s.map(ye=>ye.id)):f([])},Oe=ae=>({0:{variant:"warning",icon:"clock",label:"Espace Attente"},1:{variant:"success",icon:"user",label:"Étudiant"},2:{variant:"info",icon:"users",label:"Formateur"}})[ae]||{variant:"secondary",icon:"user",label:"Inconnu"},ee=ae=>ae===0||ae===1,me={centered:!0,contentClassName:U==="dark"?"bg-dark text-light":""},Xe={className:U==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0},Se={className:U==="dark"?"bg-dark text-light border-secondary":""};return e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${U==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"mail",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${U==="dark"?"text-light":"text-dark"}`,children:"Gestion des Invitations"}),e.jsx("p",{className:`mb-0 ${U==="dark"?"text-light":"text-muted"}`,children:"Institut de Formation - Système d'invitations pour l'enseignement"})]})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${U==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${U==="dark"?"text-light":"text-dark"}`,children:n.total||0}),e.jsx("small",{className:U==="dark"?"text-light":"text-muted",children:"Total Invitations"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"mail",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${U==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:n.etudiant||0}),e.jsx("small",{className:U==="dark"?"text-light":"text-muted",children:"Étudiants"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"user",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${U==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-info",children:n.formateur||0}),e.jsx("small",{className:U==="dark"?"text-light":"text-muted",children:"Formateurs"})]}),e.jsx("div",{className:"text-info",children:e.jsx("i",{"data-feather":"users",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${U==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-primary",children:n.admin_systeme||0}),e.jsx("small",{className:U==="dark"?"text-light":"text-muted",children:"Administrateur systeme"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"shield",style:{width:"24px",height:"24px"}})})]})})})})]})]}),e.jsxs(w,{className:`shadow-sm border-0 ${U==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${U==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"send",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${U==="dark"?"text-light":"text-dark"}`,children:"Invitations Système"})]}),e.jsxs("div",{className:"d-flex gap-2 mt-2 mt-md-0",children:[d.length>0&&e.jsxs($,{variant:"danger",className:"d-flex align-items-center",onClick:()=>J(),children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer (",d.length,")"]}),e.jsxs($,{variant:"success",className:"d-flex align-items-center",onClick:()=>D(!0),children:[e.jsx("i",{"data-feather":"plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Nouvelle Invitation"]})]})]})}),e.jsxs(w.Body,{className:U==="dark"?"bg-dark":"bg-white",children:[e.jsx("div",{className:"mb-4 p-3 rounded",style:{backgroundColor:U==="dark"?"#1a1a1a":"#f8f9fa"},children:e.jsxs("div",{className:"row g-3",children:[e.jsxs(T,{md:4,children:[e.jsxs(b.Label,{className:`small fw-bold ${U==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"search",className:"me-1",style:{width:"14px",height:"14px"}}),"Recherche par email"]}),e.jsx(b.Control,{type:"text",placeholder:"Email ou nom de classe...",value:p,onChange:ae=>j(ae.target.value),onKeyDown:ae=>ae.key==="Enter"&&ie(),...Se})]}),e.jsxs(T,{md:2,children:[e.jsxs(b.Label,{className:`small fw-bold ${U==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"user-check",className:"me-1",style:{width:"14px",height:"14px"}}),"Rôle"]}),e.jsxs(b.Select,{value:y,onChange:ae=>k(ae.target.value),...Se,children:[e.jsx("option",{value:"",children:"Tous les rôles"}),Object.entries(Z).map(([ae,ye])=>e.jsx("option",{value:ae,children:ye},ae))]})]}),e.jsxs(T,{md:2,children:[e.jsxs(b.Label,{className:`small fw-bold ${U==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"layers",className:"me-1",style:{width:"14px",height:"14px"}}),"Classe"]}),e.jsxs(b.Select,{value:v,onChange:ae=>S(ae.target.value),...Se,children:[e.jsx("option",{value:"",children:"Toutes les classes"}),a.map(ae=>e.jsx("option",{value:ae.matricule,children:ae.name},ae.id))]})]}),e.jsxs(T,{md:2,children:[e.jsxs(b.Label,{className:`small fw-bold ${U==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"info",className:"me-1",style:{width:"14px",height:"14px"}}),"Statut"]}),e.jsxs(b.Select,{value:C,onChange:ae=>_(ae.target.value),...Se,children:[e.jsx("option",{value:"",children:"Tous les statuts"}),e.jsx("option",{value:"Acceptée",children:"Acceptée"}),e.jsx("option",{value:"En attente",children:"En attente"})]})]}),e.jsxs(T,{md:2,children:[e.jsx(b.Label,{className:"small opacity-0",children:"Action"}),e.jsx("div",{children:e.jsxs($,{variant:U==="dark"?"outline-light":"outline-primary",className:"w-100",onClick:ie,children:[e.jsx("i",{"data-feather":"search",className:"me-1",style:{width:"16px",height:"16px"}}),"Filtrer"]})})]})]})}),l?e.jsxs("div",{className:"text-center py-5",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Chargement..."})}),e.jsx("p",{className:"mt-2 text-muted",children:"Chargement des invitations..."})]}):e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`align-middle ${U==="dark"?"table-dark":""}`,style:{borderRadius:"8px",overflow:"hidden"},children:[e.jsx("thead",{className:"table-primary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center",style:{width:"50px"},children:e.jsx(b.Check,{type:"checkbox",onChange:ve,checked:d.length===s.length&&s.length>0})}),e.jsxs("th",{children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Email"]}),e.jsxs("th",{className:"d-none d-md-table-cell",children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"16px",height:"16px"}}),"Rôle"]}),e.jsxs("th",{className:"d-none d-md-table-cell",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"16px",height:"16px"}}),"Statut"]}),e.jsxs("th",{className:"d-none d-lg-table-cell",children:[e.jsx("i",{"data-feather":"layers",className:"me-2",style:{width:"16px",height:"16px"}}),"Classe"]}),e.jsxs("th",{className:"d-none d-lg-table-cell text-center",children:[e.jsx("i",{"data-feather":"calendar",className:"me-2",style:{width:"16px",height:"16px"}}),"Date d'envoi"]}),e.jsxs("th",{className:"text-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"16px",height:"16px"}}),"Actions"]})]})}),e.jsx("tbody",{children:s.length?s.map((ae,ye)=>{const st=Oe(ae.role),He=ae.status!==null;return e.jsxs("tr",{className:U==="dark"?"border-secondary":"",children:[e.jsx("td",{className:"text-center",children:e.jsx(b.Check,{type:"checkbox",value:ae.id,checked:d.includes(ae.id),onChange:re})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"bg-primary bg-opacity-10 rounded-circle p-2 me-3",children:e.jsx("i",{"data-feather":"mail",className:"text-primary",style:{width:"16px",height:"16px"}})}),e.jsxs("div",{children:[e.jsx("div",{className:`fw-bold ${U==="dark"?"text-light":"text-dark"}`,children:ae.email.length>20?ae.email.substring(0,20)+"...":ae.email}),e.jsx("small",{className:U==="dark"?"text-light":"text-muted",children:ae.matricule})]})]})}),e.jsx("td",{className:"d-none d-md-table-cell",children:e.jsxs(oe,{bg:st.variant,className:"px-3 py-2",children:[e.jsx("i",{"data-feather":st.icon,className:"me-1",style:{width:"12px",height:"12px"}}),st.label]})}),e.jsx("td",{className:"d-none d-md-table-cell",children:He?e.jsxs(oe,{bg:"success",className:"px-3 py-2",children:[e.jsx("i",{"data-feather":"check-circle",className:"me-1",style:{width:"12px",height:"12px"}}),"Acceptée"]}):e.jsxs(oe,{bg:"secondary",className:"px-3 py-2",children:[e.jsx("i",{"data-feather":"clock",className:"me-1",style:{width:"12px",height:"12px"}}),"En attente"]})}),e.jsx("td",{className:"d-none d-lg-table-cell",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"bg-info bg-opacity-10 rounded-circle p-1 me-2",children:e.jsx("i",{"data-feather":"layers",className:"text-info",style:{width:"14px",height:"14px"}})}),e.jsx("span",{className:`small ${U==="dark"?"text-light":"text-dark"}`,children:ae.classroom?.name||"Non assignée"})]})}),e.jsx("td",{className:"d-none d-lg-table-cell text-center",children:e.jsx("small",{className:U==="dark"?"text-light":"text-muted",children:new Date(ae.created_at).toLocaleDateString("fr-FR")})}),e.jsx("td",{className:"text-center",children:e.jsx("div",{className:"d-flex gap-1 justify-content-center",children:e.jsx($,{size:"sm",variant:"outline-danger",title:"Supprimer",onClick:()=>J(ae.id),disabled:o,children:e.jsx("i",{"data-feather":"trash-2",style:{width:"14px",height:"14px"}})})})})]},ae.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center py-5",children:e.jsxs("div",{className:`${U==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"mail",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucune invitation trouvée"}),e.jsx("p",{className:"small mb-0",children:"Aucune invitation ne correspond à vos critères de recherche."})]})]})})})})]})})]})]}),e.jsxs(Y,{...me,show:A,onHide:()=>D(!1),size:"lg",children:[e.jsx(Y.Header,{...Xe,children:e.jsxs(Y.Title,{children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"20px",height:"20px"}}),"Envoyer une invitation"]})}),e.jsxs(b,{onSubmit:fe,children:[e.jsx(Y.Body,{className:me.contentClassName,children:e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:12,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"mail",className:"me-1",style:{width:"16px",height:"16px"}}),"Adresse email *"]}),e.jsx(b.Control,{type:"email",placeholder:"Entrez l'adresse email",required:!0,value:z.email,onChange:ae=>K({...z,email:ae.target.value}),isInvalid:!!I.email,...Se}),e.jsx(b.Control.Feedback,{type:"invalid",children:I.email})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"user-check",className:"me-1",style:{width:"16px",height:"16px"}}),"Rôle *"]}),e.jsxs(b.Select,{value:z.role,onChange:ae=>K({...z,role:ae.target.value,matricule_classroom:""}),isInvalid:!!I.role,...Se,required:!0,children:[e.jsx("option",{value:"",children:"Choisir un rôle"}),Object.entries(Z).map(([ae,ye])=>e.jsx("option",{value:ae,children:ye},ae))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:I.role})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"layers",className:"me-1",style:{width:"16px",height:"16px"}}),"Classe ",ee(parseInt(z.role))?"(Optionnelle)":"(Non applicable)"]}),e.jsxs(b.Select,{value:z.matricule_classroom,onChange:ae=>K({...z,matricule_classroom:ae.target.value}),isInvalid:!!I.matricule_classroom,...Se,disabled:!ee(parseInt(z.role)),children:[e.jsx("option",{value:"",children:ee(parseInt(z.role))?"Aucune classe":"Non applicable"}),ee(parseInt(z.role))&&a.map(ae=>e.jsx("option",{value:ae.matricule,children:ae.name},ae.id))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:I.matricule_classroom}),ee(parseInt(z.role))&&e.jsx(b.Text,{className:"text-muted",children:"Seuls les étudiants et personnes en espace d'attente peuvent être assignés à une classe."})]})})]})}),e.jsxs(Y.Footer,{className:Xe.className,children:[e.jsx($,{variant:"secondary",onClick:()=>D(!1),children:"Annuler"}),e.jsxs($,{type:"submit",variant:"success",disabled:o,children:[e.jsx("i",{"data-feather":"send",className:"me-2",style:{width:"16px",height:"16px"}}),o?"Envoi...":"Envoyer l'invitation"]})]})]})]}),e.jsxs(Y,{show:M,onHide:()=>L(!1),centered:!0,contentClassName:U==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:U==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Confirmation de Suppression"})}),e.jsxs(Y.Body,{className:U==="dark"?"bg-dark text-light":"",children:[e.jsxs("p",{children:["Êtes-vous sûr de vouloir supprimer ",F?"cet invitation":"ces invitations"," ?"]}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),"Cette action est irréversible."]})]}),e.jsxs(Y.Footer,{className:U==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>L(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:ge,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:P,onClose:()=>q(!1),delay:3e3,autohide:!0,bg:O==="success"?"success":"danger",className:U==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${O==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":O==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:U==="dark"?"bg-dark text-light":"",children:G})]})})]})})}function l4e(){const[s,t]=x.useState([]),[a,r]=x.useState({}),[n,i]=x.useState([]),[l,c]=x.useState([]),[o,u]=x.useState([]),[d,f]=x.useState([]),[p,j]=x.useState(!1),[y,k]=x.useState(!1),[v,S]=x.useState([]),[C,_]=x.useState(""),[A,D]=x.useState(""),[M,L]=x.useState(""),[F,Q]=x.useState(""),[I,H]=x.useState(""),[z,K]=x.useState(""),[U,V]=x.useState(""),[P,q]=x.useState(!1),[G,se]=x.useState(null),[O,W]=x.useState("light"),[Z,te]=x.useState(!1),[ie,fe]=x.useState(""),[J,ge]=x.useState("success"),re=(je,Ve="success")=>{fe(je),ge(Ve),te(!0)};x.useEffect(()=>{const je=document.documentElement.getAttribute("data-theme")||"light";W(je);const Ve=new MutationObserver(()=>{const Nt=document.documentElement.getAttribute("data-theme")||"light";W(Nt)});return Ve.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>Ve.disconnect()},[]);const ve=x.useCallback(async()=>{j(!0);try{const je={};C.trim()&&(je.search=C.trim()),A&&(je.created_at=A),M&&(je.type_entité=M),F&&(je.type_action=F),I&&(je.priorité=I),z!==""&&(je.statut_lecture=z),U&&(je.matricule_classroom=U);const Ve=await he.get("/formateur/view/notifications",{params:je});t(Ve.data.notifications.data||[]),r(Ve.data.stats||{}),i(Ve.data.classrooms||[]),c(Ve.data.types_entités||[]),u(Ve.data.types_actions||[]),f(Ve.data.priorités||[])}catch(je){console.error("Erreur lors du chargement des notifications",je),re("Échec du chargement des notifications.","danger")}finally{j(!1)}},[C,A,M,F,I,z,U]);x.useEffect(()=>{ve()},[ve]),x.useEffect(()=>{We.replace()},[s,P,p,v]);const Oe=async je=>{try{await he.put(`/formateur/notifications/${je}/mark-as-read`),ve(),re("Notification marquée comme lue","success")}catch(Ve){console.error(Ve),re("Erreur lors du marquage de la notification","danger")}},ee=async()=>{try{const je=await he.put("/formateur/notifications/mark-all-as-read");ve(),re(je.data.message||"Toutes les notifications ont été marquées comme lues","success")}catch(je){console.error(je),re("Erreur lors du marquage des notifications","danger")}},me=async()=>{try{const je=await he.put("/formateur/notifications/mark-group-as-read",{ids:v});ve(),S([]),re(je.data.message||"Notifications marquées comme lues","success")}catch(je){console.error(je),re("Erreur lors du marquage en lot","danger")}},Xe=(je=null)=>{se(je),q(!0)},Se=async()=>{k(!0);try{const je=G?[G]:v;G?await he.delete(`/formateur/notifications/${G}`):await he.post("/formateur/notifications/destroy-group",{ids:je}),ve(),q(!1),S([]),se(null),re("Notification(s) supprimée(s) avec succès","success")}catch(je){console.error(je),re("Erreur lors de la suppression","danger")}finally{k(!1)}},ae=je=>{const{value:Ve,checked:Nt}=je.target,nt=parseInt(Ve);S(Nt?It=>[...It,nt]:It=>It.filter(ps=>ps!==nt))},ye=je=>{je.target.checked?S(s.map(Ve=>Ve.id)):S([])},st=je=>({low:{variant:"secondary",icon:"minus",label:"Basse"},medium:{variant:"primary",icon:"alert-circle",label:"Moyenne"},high:{variant:"warning",icon:"alert-triangle",label:"Élevée"},critical:{variant:"danger",icon:"alert-octagon",label:"Critique"}})[je]||{variant:"secondary",icon:"help-circle",label:je},He=je=>je==="Lue"?{variant:"success",icon:"check-circle",label:"Lue"}:{variant:"warning",icon:"eye",label:"Non lue"},ke={centered:!0,contentClassName:O==="dark"?"bg-dark text-light":""},we={className:O==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0},Ke={className:O==="dark"?"bg-dark text-light border-secondary":""},Ee=je=>new Date(je).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsx(et,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${O==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"bell",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${O==="dark"?"text-light":"text-dark"}`,children:"Gestion des Notifications"}),e.jsx("p",{className:`mb-0 ${O==="dark"?"text-light":"text-muted"}`,children:"Institut de Formation - Centre de notifications système"})]})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${O==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${O==="dark"?"text-light":"text-dark"}`,children:a.total||0}),e.jsx("small",{className:O==="dark"?"text-light":"text-muted",children:"Total"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"bell",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${O==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-warning",children:a.non_lues||0}),e.jsx("small",{className:O==="dark"?"text-light":"text-muted",children:"Non Lues"})]}),e.jsx("div",{className:"text-warning",children:e.jsx("i",{"data-feather":"eye-off",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${O==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:a.lues||0}),e.jsx("small",{className:O==="dark"?"text-light":"text-muted",children:"Lues"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"check-circle",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${O==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-danger",children:a.critique||0}),e.jsx("small",{className:O==="dark"?"text-light":"text-muted",children:"Critique"})]}),e.jsx("div",{className:"text-danger",children:e.jsx("i",{"data-feather":"alert-octagon",style:{width:"24px",height:"24px"}})})]})})})})]})]}),e.jsxs(w,{className:`shadow-sm border-0 ${O==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${O==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"bell",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${O==="dark"?"text-light":"text-dark"}`,children:"Notifications Système"})]}),e.jsxs("div",{className:"d-flex gap-2 mt-2 mt-md-0",children:[v.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs($,{variant:"info",className:"d-flex align-items-center",onClick:me,children:[e.jsx("i",{"data-feather":"check",className:"me-2",style:{width:"16px",height:"16px"}}),"Marquer lues (",v.length,")"]}),e.jsxs($,{variant:"danger",className:"d-flex align-items-center",onClick:()=>Xe(),children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer (",v.length,")"]})]}),e.jsxs($,{variant:"success",className:"d-flex align-items-center",onClick:ee,children:[e.jsx("i",{"data-feather":"check-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Marquer toutes lues"]})]})]})}),e.jsxs(w.Body,{className:O==="dark"?"bg-dark":"bg-white",children:[e.jsx(Bj,{className:"mb-4",children:e.jsxs(Bj.Item,{eventKey:"0",className:O==="dark"?"bg-dark border-secondary":"",children:[e.jsxs(Bj.Header,{className:O==="dark"?"bg-dark text-light":"",children:[e.jsx("i",{"data-feather":"filter",className:"me-2",style:{width:"16px",height:"16px"}}),"Filtres de recherche"]}),e.jsx(Bj.Body,{className:O==="dark"?"bg-dark text-light":"",children:e.jsxs(pe,{className:"g-3",children:[e.jsxs(T,{md:4,children:[e.jsxs(b.Label,{className:`small fw-bold ${O==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"search",className:"me-1",style:{width:"14px",height:"14px"}}),"Recherche globale"]}),e.jsx(b.Control,{type:"text",placeholder:"Matricule, entité, action...",value:C,onChange:je=>_(je.target.value),onKeyDown:je=>je.key==="Enter"&&ve(),...Ke})]}),e.jsxs(T,{md:2,children:[e.jsxs(b.Label,{className:`small fw-bold ${O==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"14px",height:"14px"}}),"Date"]}),e.jsx(b.Control,{type:"date",value:A,onChange:je=>D(je.target.value),...Ke})]}),e.jsxs(T,{md:2,children:[e.jsxs(b.Label,{className:`small fw-bold ${O==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"package",className:"me-1",style:{width:"14px",height:"14px"}}),"Entité"]}),e.jsxs(b.Select,{value:M,onChange:je=>L(je.target.value),...Ke,children:[e.jsx("option",{value:"",children:"Toutes"}),l.map(je=>e.jsx("option",{value:je,children:je},je))]})]}),e.jsxs(T,{md:2,children:[e.jsxs(b.Label,{className:`small fw-bold ${O==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"activity",className:"me-1",style:{width:"14px",height:"14px"}}),"Action"]}),e.jsxs(b.Select,{value:F,onChange:je=>Q(je.target.value),...Ke,children:[e.jsx("option",{value:"",children:"Toutes"}),o.map(je=>e.jsx("option",{value:je,children:je},je))]})]}),e.jsxs(T,{md:2,children:[e.jsxs(b.Label,{className:`small fw-bold ${O==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-1",style:{width:"14px",height:"14px"}}),"Priorité"]}),e.jsxs(b.Select,{value:I,onChange:je=>H(je.target.value),...Ke,children:[e.jsx("option",{value:"",children:"Toutes"}),d.map(je=>e.jsx("option",{value:je,children:je},je))]})]}),e.jsxs(T,{md:6,children:[e.jsxs(b.Label,{className:`small fw-bold ${O==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"eye",className:"me-1",style:{width:"14px",height:"14px"}}),"Statut de lecture"]}),e.jsxs(b.Select,{value:z,onChange:je=>K(je.target.value),...Ke,children:[e.jsx("option",{value:"",children:"Tous"}),e.jsx("option",{value:"Lue",children:"Lue"}),e.jsx("option",{value:"Non lue",children:"Non lue"})]})]}),e.jsxs(T,{md:6,children:[e.jsxs(b.Label,{className:`small fw-bold ${O==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"layers",className:"me-1",style:{width:"14px",height:"14px"}}),"Classe"]}),e.jsxs(b.Select,{value:U,onChange:je=>V(je.target.value),...Ke,children:[e.jsx("option",{value:"",children:"Toutes les classes"}),n.map(je=>e.jsx("option",{value:je.matricule,children:je.name},je.matricule))]})]})]})})]})}),p?e.jsxs("div",{className:"text-center py-5",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Chargement..."})}),e.jsx("p",{className:"mt-2 text-muted",children:"Chargement des notifications..."})]}):e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`align-middle ${O==="dark"?"table-dark":""}`,style:{borderRadius:"8px",overflow:"hidden"},children:[e.jsx("thead",{className:"table-primary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center",style:{width:"50px"},children:e.jsx(b.Check,{type:"checkbox",onChange:ye,checked:v.length===s.length&&s.length>0})}),e.jsxs("th",{children:[e.jsx("i",{"data-feather":"message-square",className:"me-2",style:{width:"16px",height:"16px"}}),"Message"]}),e.jsxs("th",{className:"d-none d-lg-table-cell text-center",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Priorité"]}),e.jsxs("th",{className:"d-none d-lg-table-cell text-center",children:[e.jsx("i",{"data-feather":"eye",className:"me-2",style:{width:"16px",height:"16px"}}),"Statut"]}),e.jsxs("th",{className:"d-none d-lg-table-cell text-center",children:[e.jsx("i",{"data-feather":"calendar",className:"me-2",style:{width:"16px",height:"16px"}}),"Date"]}),e.jsxs("th",{className:"text-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"16px",height:"16px"}}),"Actions"]})]})}),e.jsx("tbody",{children:s.length?s.map(je=>{const Ve=st(je.priorité),Nt=He(je.statut_lecture),nt=je.statut_lecture==="Non lue";return e.jsxs("tr",{className:`${O==="dark"?"border-secondary":""} ${nt?"table-warning":""}`,style:{backgroundColor:nt&&O==="dark"?"rgba(255, 193, 7, 0.1)":void 0},children:[e.jsx("td",{className:"text-center",children:e.jsx(b.Check,{type:"checkbox",value:je.id,checked:v.includes(je.id),onChange:ae})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("div",{className:`me-3 p-2 rounded-circle ${Ve.variant==="danger"?"bg-danger bg-opacity-10":Ve.variant==="warning"?"bg-warning bg-opacity-10":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":Ve.icon,className:`text-${Ve.variant}`,style:{width:"16px",height:"16px"}})}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("div",{className:`fw-bold ${O==="dark"?"text-light":"text-dark"} ${nt?"fw-bold":""}`,children:je.message_professionnel||"Message indisponible"}),e.jsxs("div",{className:`small ${O==="dark"?"text-light":"text-muted"}`,children:[e.jsxs("span",{className:"me-3",children:[e.jsx("i",{"data-feather":"package",className:"me-1",style:{width:"12px",height:"12px"}}),je.type_entité]}),e.jsxs("span",{className:"me-3",children:[e.jsx("i",{"data-feather":"activity",className:"me-1",style:{width:"12px",height:"12px"}}),je.type_action]}),je.classroom&&e.jsxs("span",{children:[e.jsx("i",{"data-feather":"layers",className:"me-1",style:{width:"12px",height:"12px"}}),je.classroom.name]})]})]})]})}),e.jsx("td",{className:"d-none d-lg-table-cell text-center",children:e.jsxs(oe,{bg:Ve.variant,className:"px-3 py-2",children:[e.jsx("i",{"data-feather":Ve.icon,className:"me-1",style:{width:"12px",height:"12px"}}),Ve.label]})}),e.jsx("td",{className:"d-none d-lg-table-cell text-center",children:e.jsxs(oe,{bg:Nt.variant,className:"px-3 py-2",style:{cursor:nt?"pointer":"default"},onClick:nt?()=>Oe(je.id):void 0,title:nt?"Cliquer pour marquer comme lue":"",children:[e.jsx("i",{"data-feather":Nt.icon,className:"me-1",style:{width:"12px",height:"12px"}}),Nt.label]})}),e.jsx("td",{className:"d-none d-lg-table-cell text-center",children:e.jsx("small",{className:O==="dark"?"text-light":"text-muted",children:Ee(je.created_at)})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{className:"d-flex gap-1 justify-content-center",children:[nt&&e.jsx($,{size:"sm",variant:"outline-success",title:"Marquer comme lue",onClick:()=>Oe(je.id),children:e.jsx("i",{"data-feather":"check",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-info",title:"Voir les détails",onClick:()=>{},children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-danger",title:"Supprimer",onClick:()=>Xe(je.id),children:e.jsx("i",{"data-feather":"trash-2",style:{width:"14px",height:"14px"}})})]})})]},je.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center py-5",children:e.jsxs("div",{className:`${O==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"bell",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucune notification trouvée"}),e.jsx("p",{className:"small mb-0",children:"Aucune notification ne correspond à vos critères de recherche."})]})]})})})})]})})]})]}),e.jsxs(Y,{...ke,show:P,onHide:()=>q(!1),children:[e.jsx(Y.Header,{...we,children:e.jsx(Y.Title,{children:"Confirmation de Suppression"})}),e.jsxs(Y.Body,{className:ke.contentClassName,children:[e.jsxs("p",{children:["Êtes-vous sûr de vouloir supprimer ",G?"cette notification":"ces notifications"," ?"]}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),"Cette action est irréversible."]})]}),e.jsxs(Y.Footer,{className:we.className,children:[e.jsx($,{variant:"secondary",onClick:()=>q(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:Se,disabled:y,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),y?"Suppression...":"Supprimer"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:Z,onClose:()=>te(!1),delay:3e3,autohide:!0,bg:J==="success"?"success":"danger",className:O==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${J==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":J==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:O==="dark"?"bg-dark text-light":"",children:ie})]})})]})})}function c4e({user:s,collapsed:t}){const a=Wa(),[r,n]=x.useState("light");x.useEffect(()=>{const l=document.documentElement.getAttribute("data-theme")||"light";n(l);const c=new MutationObserver(()=>{const o=document.documentElement.getAttribute("data-theme")||"light";n(o)});return c.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>c.disconnect()},[]);const i=[{title:"Tableau de bord",items:[{label:"Dashboard",icon:"grid",path:"/admin-systeme/dashboard"},{label:"Statistiques",icon:"bar-chart-2",path:"/admin-systeme/statistics"}]},{title:"Gestion des utilisateurs",items:[{label:"Étudiants",icon:"users",path:"/admin-systeme/view/etudiants"},{label:"Étudiants en Espace Attente",icon:"users",color:"text-warning",badge:"⏱",badgeColor:"bg-warning text-dark",path:"/admin-systeme/view/etudiants-espace-attente"},{label:"Formateurs",icon:"user-check",path:"/admin-systeme/view/formateur"}]},{title:"Administration",items:[{label:"Administrateurs",icon:"shield",path:"/admin-systeme/view/admin-systeme"},{label:"Invitations",icon:"mail",path:"/admin-systeme/view/invitations",badge:"3"}]},{title:"Outils & Communication",items:[{label:"Notifications",icon:"bell",path:"/admin-systeme/view/notifications"},{label:"Logs système",icon:"activity",path:"/admin-systeme/view/logs"},{label:"Support Technique",icon:"help-circle",path:"/admin-systeme/view/support-technique"}]}];return e.jsxs("aside",{className:`sidebar ${t?"collapsed":""}  ${r==="dark"?"bg-dark text-light":"bg-white text-dark"}`,children:[e.jsx("div",{className:"sidebar-header",children:e.jsxs("div",{className:"sidebar-logo",children:[e.jsx("div",{className:"sidebar-logo-icon",children:e.jsx("span",{children:"WS"})}),e.jsxs("div",{className:"sidebar-logo-text",children:[e.jsx("h6",{className:"sidebar-logo-title",children:"Woop Service"}),e.jsx("p",{className:"sidebar-logo-subtitle",children:"Plateforme Éducative"})]})]})}),e.jsx("nav",{className:"sidebar-nav",children:i.map((l,c)=>e.jsxs("div",{className:"sidebar-nav-section",children:[e.jsx("h6",{className:"sidebar-nav-section-title",children:l.title}),e.jsx("ul",{className:"list-unstyled mb-0",children:l.items.map((o,u)=>e.jsx("li",{className:"sidebar-nav-item",children:e.jsxs(xe,{to:o.path,className:`sidebar-nav-link ${a.pathname.startsWith(o.path)?"active":""}`,children:[e.jsx("i",{"data-feather":o.icon,className:"sidebar-nav-icon"}),e.jsx("span",{className:"sidebar-nav-text",children:o.label}),o.badge&&e.jsx("span",{className:"sidebar-nav-badge",children:o.badge})]})},u))})]},c))})]})}function o4e({toggleSidebar:s}){const{logout:t,user:a}=Aa(),r=Ut(),[n,i]=x.useState("light");x.useEffect(()=>{const f=document.documentElement.getAttribute("data-theme")||"light";i(f);const p=new MutationObserver(()=>{const j=document.documentElement.getAttribute("data-theme")||"light";i(j)});return p.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>p.disconnect()},[]);const l=()=>{const f=document.documentElement,p=f.getAttribute("data-theme")==="dark"?"light":"dark";f.setAttribute("data-theme",p),localStorage.setItem("theme",p),i(p)},c=()=>{t(),r("/")},o=f=>f?f.split(" ").map(p=>p[0]).join("").toUpperCase().slice(0,2):"U",u=(f,p=15)=>f.length>p?f.slice(0,p-3)+"...":f;x.useEffect(()=>{We.replace()},[n]);const d=f=>{f.preventDefault(),f.stopPropagation(),console.log("Toggle sidebar clicked"),typeof s=="function"?s():console.warn("toggleSidebar function not provided or not a function")};return e.jsxs(xi,{className:"navbar fixed-top",expand:!1,children:[e.jsxs("div",{className:"navbar-left",children:[e.jsx($,{variant:"link",onClick:d,className:"toggle-btn me-3",title:"Toggle Sidebar",style:{display:"flex !important",visibility:"visible !important",opacity:"1 !important",position:"relative",zIndex:1031,border:"none",background:"transparent",padding:"8px 12px",borderRadius:"10px",minWidth:"44px",minHeight:"44px",alignItems:"center",justifyContent:"center"},children:e.jsx("i",{"data-feather":"menu",style:{width:"20px",height:"20px",strokeWidth:"2.5"}})}),e.jsxs("div",{className:"logo-container",children:[e.jsx("div",{className:"logo",children:e.jsx("span",{children:"WS"})}),e.jsx(xi.Brand,{className:"navbar-brand mb-0",children:"Woop Service"})]})]}),e.jsxs("div",{className:"navbar-right",children:[e.jsx($,{variant:"link",onClick:l,className:"theme-toggle me-3",title:`Passer au thème ${n==="dark"?"clair":"sombre"}`,children:e.jsx("i",{"data-feather":n==="dark"?"sun":"moon"})}),e.jsxs(at,{align:"end",className:"user-dropdown",onToggle:f=>{f&&setTimeout(()=>We.replace(),0)},children:[e.jsxs(at.Toggle,{variant:"primary",id:"dropdown-user",className:"dropdown-toggle",children:[e.jsxs("div",{className:"user-avatar",children:[a?.profil_url?e.jsx("img",{src:a.profil_url,alt:a.name||"Utilisateur",style:{width:"35px",height:"35px",borderRadius:"50%",objectFit:"cover",border:"2px solid rgba(255, 255, 255, 0.3)"},onError:f=>{f.target.style.display="none",f.target.nextElementSibling.style.display="flex"}}):null,e.jsx("div",{style:{display:a?.profil_url?"none":"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",fontSize:"0.75rem",fontWeight:"600"},children:o(a?.name)})]}),e.jsx("span",{className:"user-name d-none d-sm-inline",children:u(a?.name||"Utilisateur")}),e.jsx("i",{"data-feather":"chevron-down",style:{width:"16px",height:"16px"}})]}),e.jsxs(at.Menu,{className:`dropdown-menu ${n==="dark"?"bg-dark border-secondary":""}`,children:[e.jsxs("div",{className:"px-3 py-2 border-bottom",children:[e.jsx("div",{className:"fw-semibold",children:a?.name||"Utilisateur"}),e.jsx("div",{className:"text-muted small",children:a?.email||"admin@Woop Service.com"}),e.jsx("div",{className:"text-primary small",children:"Administrateur Système"})]}),e.jsxs(at.Item,{as:xe,to:"/admin-systeme/view/profil",className:`dropdown-item ${n==="dark"?"text-light":""}`,children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Mon Profil"]}),e.jsx(at.Divider,{className:n==="dark"?"border-secondary":""}),e.jsxs(at.Item,{onClick:c,className:"dropdown-item text-danger",children:[e.jsx("i",{"data-feather":"log-out",className:"me-2",style:{width:"16px",height:"16px"}}),"Déconnexion"]})]})]})]})]})}function Vt({children:s}){const t=Wa(),{user:a}=Aa(),[r,n]=x.useState(!0),[i,l]=x.useState(window.innerWidth<992),[c,o]=x.useState("light");x.useEffect(()=>{We.replace()},[t.pathname,r,c]),x.useEffect(()=>{const d=localStorage.getItem("theme")||"light";document.documentElement.setAttribute("data-theme",d),document.documentElement.setAttribute("data-bs-theme",d),o(d)},[]),x.useEffect(()=>{const d=new MutationObserver(()=>{const f=document.documentElement.getAttribute("data-theme")||"light";o(f),document.documentElement.setAttribute("data-bs-theme",f)});return d.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>d.disconnect()},[]),x.useEffect(()=>{const d=()=>{const f=window.innerWidth<992;l(f),n(!f)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),x.useEffect(()=>{i&&r&&n(!1)},[t.pathname]);const u=()=>{n(d=>!d)};return e.jsxs("div",{className:"d-flex min-vh-100",children:[e.jsx(o4e,{toggleSidebar:u}),e.jsx(c4e,{user:a,collapsed:!r}),i&&r&&e.jsx("div",{className:"sidebar-overlay",onClick:()=>n(!1)}),e.jsx("div",{className:`flex-grow-1 main-content ${r?"":"expanded"}`,children:e.jsx("main",{className:"p-4",children:e.jsx("div",{className:"container-fluid py-3",children:e.jsx("div",{className:"py-4",children:e.jsx("div",{className:"py-4",children:s})})})})})]})}Sx.register(GA,VA,FA,_x,zA,UA,qA,HA,LA);function d4e(){const[s,t]=x.useState(null),[a,r]=x.useState(null),[n,i]=x.useState(null),[l,c]=x.useState(!0),[o,u]=x.useState(null),[d,f]=x.useState("light"),[p,j]=x.useState(!1),[y,k]=x.useState(null);x.useEffect(()=>{const U=document.documentElement.getAttribute("data-theme")||"light";f(U);const V=new MutationObserver(()=>{const P=document.documentElement.getAttribute("data-theme")||"light";f(P)});return V.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>V.disconnect()},[]),x.useEffect(()=>{v(),S(),C();const U=setInterval(()=>{S(),C()},300*1e3);return()=>clearInterval(U)},[]),x.useEffect(()=>{We.replace()},[s,a,n]);const v=async()=>{try{const U=await he.get("/admin-systeme/dashboard");t(U.data.data)}catch(U){u("Erreur lors du chargement des données du dashboard"),console.error("Erreur dashboard:",U)}finally{c(!1)}},S=async()=>{try{const U=await he.get("/admin-systeme/dashboard/quick-stats");r(U.data.data)}catch(U){console.error("Erreur stats rapides:",U)}},C=async()=>{try{const U=await he.get("/admin-systeme/dashboard/system-activity");i(U.data.data)}catch(U){console.error("Erreur activité système:",U)}},_=(U,V)=>{k({type:U,data:V}),j(!0)},A={responsive:!0,plugins:{legend:{position:"top",labels:{color:d==="dark"?"#ffffff":"#374151"}},title:{display:!1}},scales:{x:{ticks:{color:d==="dark"?"#9CA3AF":"#6B7280"},grid:{color:d==="dark"?"#374151":"#E5E7EB"}},y:{ticks:{color:d==="dark"?"#9CA3AF":"#6B7280"},grid:{color:d==="dark"?"#374151":"#E5E7EB"}}}},D={responsive:!0,plugins:{legend:{position:"bottom",labels:{color:d==="dark"?"#ffffff":"#374151",padding:20,usePointStyle:!0}}}};if(l)return e.jsx(Vt,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement du tableau de bord..."})]})});if(o)return e.jsx(Vt,{children:e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),o]})});const M=s?.stats_generales||{},L=s?.activite_recente||{},F=s?.graphiques||{},Q=s?.top_classrooms||[],I={labels:F.inscriptions_par_jour?.map(U=>U.date)||[],datasets:[{label:"Nouvelles inscriptions",data:F.inscriptions_par_jour?.map(U=>U.count)||[],borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4}]},H={labels:F.repartition_roles?.map(U=>U.role)||[],datasets:[{data:F.repartition_roles?.map(U=>U.count)||[],backgroundColor:F.repartition_roles?.map(U=>U.color)||[],borderWidth:1,borderColor:d==="dark"?"#1f2937":"#ffffff"}]},z={labels:F.invitations_par_jour?.map(U=>U.date)||[],datasets:[{label:"Invitations envoyées",data:F.invitations_par_jour?.map(U=>U.count)||[],backgroundColor:"rgba(16, 185, 129, 0.8)",borderColor:"rgb(16, 185, 129)",borderWidth:1}]},K=n?{labels:n.map(U=>U.heure),datasets:[{label:"Utilisateurs actifs",data:n.map(U=>U.utilisateurs),borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!0},{label:"Logs système",data:n.map(U=>U.logs),borderColor:"rgb(245, 158, 11)",backgroundColor:"rgba(245, 158, 11, 0.1)",fill:!0}]}:null;return e.jsx(Vt,{children:e.jsxs(yt,{fluid:!0,className:"py-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`h3 mb-1 ${d==="dark"?"text-light":"text-dark"}`,children:"Tableau de Bord Administrateur"}),e.jsx("p",{className:`mb-0 ${d==="dark"?"text-light":"text-muted"}`,children:"Vue d'ensemble du système de gestion"})]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:"outline-primary",onClick:v,className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"refresh-cw",className:"me-2",style:{width:"16px",height:"16px"}}),"Actualiser"]}),e.jsxs($,{variant:"primary",className:"d-flex align-items-center",as:xe,to:"/admin-systeme/statistics",children:[e.jsx("i",{"data-feather":"bar-chart-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Statistiques Détaillées"]})]})]}),a&&e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm h-100 ${d==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-success mb-0",children:a.utilisateurs_actifs_aujourd_hui}),e.jsx("small",{className:d==="dark"?"text-light":"text-muted",children:"Actifs aujourd'hui"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"activity",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm h-100 ${d==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-info mb-0",children:a.nouvelles_invitations}),e.jsx("small",{className:d==="dark"?"text-light":"text-muted",children:"Invitations aujourd'hui"})]}),e.jsx("div",{className:"text-info",children:e.jsx("i",{"data-feather":"mail",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm h-100 ${d==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-warning mb-0",children:a.notifications_urgentes}),e.jsx("small",{className:d==="dark"?"text-light":"text-muted",children:"Notifications urgentes"})]}),e.jsx("div",{className:"text-warning",children:e.jsx("i",{"data-feather":"bell",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm h-100 ${d==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-danger mb-0",children:a.logs_critiques}),e.jsx("small",{className:d==="dark"?"text-light":"text-muted",children:"Logs critiques"})]}),e.jsx("div",{className:"text-danger",children:e.jsx("i",{"data-feather":"alert-triangle",style:{width:"24px",height:"24px"}})})]})})})})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm h-100 cursor-pointer ${d==="dark"?"bg-dark":"bg-white"}`,onClick:()=>_("users",M),children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${d==="dark"?"text-light":"text-dark"}`,children:M.total_users}),e.jsx("small",{className:d==="dark"?"text-light":"text-muted",children:"Utilisateurs Total"}),e.jsx("div",{className:"mt-2",children:e.jsxs("small",{className:"text-success",children:["+",L.nouveaux_utilisateurs_aujourd_hui," aujourd'hui"]})})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"users",style:{width:"32px",height:"32px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm h-100 cursor-pointer ${d==="dark"?"bg-dark":"bg-white"}`,onClick:()=>_("classrooms",M),children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-success mb-0",children:M.total_classrooms}),e.jsx("small",{className:d==="dark"?"text-light":"text-muted",children:"Classes Total"}),e.jsx("div",{className:"mt-2",children:e.jsxs("small",{className:"text-info",children:[M.classrooms_actives," actives"]})})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"book-open",style:{width:"32px",height:"32px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm h-100 cursor-pointer ${d==="dark"?"bg-dark":"bg-white"}`,onClick:()=>_("invitations",M),children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-info mb-0",children:M.total_invitations}),e.jsx("small",{className:d==="dark"?"text-light":"text-muted",children:"Invitations"}),e.jsx("div",{className:"mt-2",children:e.jsxs("small",{className:"text-warning",children:[M.invitations_pendantes," en attente"]})})]}),e.jsx("div",{className:"text-info",children:e.jsx("i",{"data-feather":"mail",style:{width:"32px",height:"32px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm h-100 cursor-pointer ${d==="dark"?"bg-dark":"bg-white"}`,onClick:()=>_("logs",M),children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-warning mb-0",children:M.total_logs}),e.jsx("small",{className:d==="dark"?"text-light":"text-muted",children:"Logs Système"}),e.jsx("div",{className:"mt-2",children:e.jsxs("small",{className:"text-danger",children:[M.logs_non_lus," non lus"]})})]}),e.jsx("div",{className:"text-warning",children:e.jsx("i",{"data-feather":"file-text",style:{width:"32px",height:"32px"}})})]})})})})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{lg:7,className:"mb-4",children:e.jsxs(w,{className:`border-0 shadow-sm h-100 ${d==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${d==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:`mb-0 ${d==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"trending-up",className:"me-2",style:{width:"20px",height:"20px"}}),"Évolution des Inscriptions (7 derniers jours)"]})}),e.jsx(w.Body,{children:e.jsx(Zp,{data:I,options:A})})]})}),e.jsx(T,{lg:5,className:"mb-4",children:e.jsxs(w,{className:`border-0 shadow-sm h-100 ${d==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${d==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:`mb-0 ${d==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"pie-chart",className:"me-2",style:{width:"20px",height:"20px"}}),"Répartition des Utilisateurs par Rôle"]})}),e.jsx(w.Body,{children:e.jsx(WA,{data:H,options:D})})]})})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{lg:6,className:"mb-4",children:e.jsxs(w,{className:`border-0 shadow-sm h-100 ${d==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${d==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:`mb-0 ${d==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"20px",height:"20px"}}),"Activité des Invitations (7 derniers jours)"]})}),e.jsx(w.Body,{children:e.jsx(uU,{data:z,options:A})})]})}),K&&e.jsx(T,{lg:6,className:"mb-4",children:e.jsxs(w,{className:`border-0 shadow-sm h-100 ${d==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${d==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:`mb-0 ${d==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"20px",height:"20px"}}),"Activité Système (24h)"]})}),e.jsx(w.Body,{children:e.jsx(Zp,{data:K,options:A})})]})})]}),e.jsxs(pe,{children:[e.jsx(T,{lg:6,className:"mb-4",children:e.jsxs(w,{className:`border-0 shadow-sm ${d==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${d==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:`mb-0 ${d==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"award",className:"me-2",style:{width:"20px",height:"20px"}}),"Top 5 Classes (Plus d'Étudiants)"]})}),e.jsx(w.Body,{children:e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`align-middle ${d==="dark"?"table-dark":""}`,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Classe"}),e.jsx("th",{className:"text-center",children:"Étudiants"}),e.jsx("th",{className:"text-center",children:"Statut"})]})}),e.jsx("tbody",{children:Q.length?Q.map((U,V)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsxs(oe,{bg:"primary",className:"me-2",children:["#",V+1]}),e.jsxs("div",{children:[e.jsx("div",{className:`fw-medium ${d==="dark"?"text-light":"text-dark"}`,children:U.name}),e.jsx("small",{className:d==="dark"?"text-light":"text-muted",children:U.matricule})]})]})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:"success",className:"px-3",children:U.users_count})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:U.status==="Open"?"success":"secondary",className:"px-3",children:U.status==="Open"?"Ouverte":"Fermée"})})]},U.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"3",className:"text-center py-3",children:e.jsx("span",{className:d==="dark"?"text-light":"text-muted",children:"Aucune classe disponible"})})})})]})})})]})}),e.jsx(T,{lg:6,className:"mb-4",children:e.jsxs(w,{className:`border-0 shadow-sm ${d==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${d==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:`mb-0 ${d==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"bell",className:"me-2",style:{width:"20px",height:"20px"}}),"Notifications Récentes"]})}),e.jsx(w.Body,{children:e.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:L.notifications_recentes?.length?L.notifications_recentes.map(U=>e.jsx("div",{className:"d-flex align-items-start mb-3 p-2 rounded border-start border-3 border-info",children:e.jsxs("div",{className:"flex-grow-1",children:[e.jsxs("div",{className:`small fw-medium ${d==="dark"?"text-light":"text-dark"}`,children:[U.type_action," - ",U.type_entité]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-1",children:[e.jsx("small",{className:d==="dark"?"text-light":"text-muted",children:U.user_auteur?.name||"Système"}),e.jsx(oe,{bg:U.statut_lecture==="Non lue"?"warning":"secondary",className:"ms-2",children:U.statut_lecture==="Non lue"?"Non lue":"Lue"})]})]})},U.id)):e.jsx("p",{className:`text-center ${d==="dark"?"text-light":"text-muted"}`,children:"Aucune notification récente"})})})]})})]}),e.jsxs(Y,{show:p,onHide:()=>j(!1),size:"lg",centered:!0,contentClassName:d==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:d==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsxs(Y.Title,{children:["Détails - ",y?.type==="users"?"Utilisateurs":y?.type==="classrooms"?"Classes":y?.type==="invitations"?"Invitations":"Logs Système"]})}),e.jsx(Y.Body,{className:d==="dark"?"bg-dark text-light":"",children:y&&e.jsx(pe,{children:y.type==="users"&&e.jsxs(e.Fragment,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"text-center p-3 rounded",style:{backgroundColor:d==="dark"?"#2d3748":"#f8f9fa"},children:[e.jsx("h4",{className:"text-primary",children:y.data.etudiants_attente}),e.jsx("small",{children:"Espace Attente"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"text-center p-3 rounded",style:{backgroundColor:d==="dark"?"#2d3748":"#f8f9fa"},children:[e.jsx("h4",{className:"text-success",children:y.data.etudiants}),e.jsx("small",{children:"Étudiants"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"text-center p-3 rounded",style:{backgroundColor:d==="dark"?"#2d3748":"#f8f9fa"},children:[e.jsx("h4",{className:"text-info",children:y.data.formateurs}),e.jsx("small",{children:"Formateurs"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"text-center p-3 rounded",style:{backgroundColor:d==="dark"?"#2d3748":"#f8f9fa"},children:[e.jsx("h4",{className:"text-warning",children:y.data.admin_systeme}),e.jsx("small",{children:"Admin Système"})]})})]})})}),e.jsx(Y.Footer,{className:d==="dark"?"bg-dark text-light border-secondary":"",children:e.jsx($,{variant:"secondary",onClick:()=>j(!1),children:"Fermer"})})]})]})})}Sx.register(GA,VA,FA,_x,zA,UA,qA,HA,LA,cU);function h4e(){const[s,t]=x.useState(null),[a,r]=x.useState(null),[n,i]=x.useState(null),[l,c]=x.useState(!0),[o,u]=x.useState(null),[d,f]=x.useState("light"),[p,j]=x.useState(30),[y,k]=x.useState("utilisateurs"),[v,S]=x.useState("day"),[C,_]=x.useState(!1),[A,D]=x.useState(!1);x.useEffect(()=>{const q=document.documentElement.getAttribute("data-theme")||"light";f(q);const G=new MutationObserver(()=>{const se=document.documentElement.getAttribute("data-theme")||"light";f(se)});return G.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>G.disconnect()},[]);const M=x.useCallback(async()=>{try{c(!0);const q=await he.get("/admin-systeme/statistics",{params:{periode:p}});t(q.data.data)}catch(q){u("Erreur lors du chargement des statistiques"),console.error("Erreur statistiques:",q)}finally{c(!1)}},[p]),L=x.useCallback(async()=>{try{const q=await he.get("/admin-systeme/statistics/evolution",{params:{type:y,periode:p,group_by:v}});r(q.data.data)}catch(q){console.error("Erreur évolution:",q)}},[y,p,v]),F=x.useCallback(async()=>{try{const q=await he.get("/admin-systeme/statistics/activite-utilisateurs",{params:{periode:p}});i(q.data.data)}catch(q){console.error("Erreur activité:",q)}},[p]);x.useEffect(()=>{M(),L(),F()},[M,L,F]),x.useEffect(()=>{We.replace()},[s,a,n]);const Q=async(q,G)=>{try{_(!0);const se=await he.get("/admin-systeme/statistics/export",{params:{format:q,type:G,periode:p},responseType:q==="csv"?"blob":"json"});if(q==="csv"){const O=`statistiques_${G}_${new Date().toISOString().slice(0,10)}.csv`;Ea(se.data,O)}else{const O=`statistiques_${G}_${new Date().toISOString().slice(0,10)}.json`,W=new Blob([JSON.stringify(se.data,null,2)],{type:"application/json"});Ea(W,O)}D(!1)}catch(se){console.error("Erreur export:",se)}finally{_(!1)}},I={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:d==="dark"?"#ffffff":"#374151",padding:20,usePointStyle:!0}}},scales:{x:{ticks:{color:d==="dark"?"#9CA3AF":"#6B7280"},grid:{color:d==="dark"?"#374151":"#E5E7EB"}},y:{ticks:{color:d==="dark"?"#9CA3AF":"#6B7280"},grid:{color:d==="dark"?"#374151":"#E5E7EB"}}}},H={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:d==="dark"?"#ffffff":"#374151",padding:20,usePointStyle:!0}}}};if(l)return e.jsx(Vt,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des statistiques..."})]})});if(o)return e.jsx(Vt,{children:e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),o]})});const z=s||{},K=a?{labels:a.map(q=>q.periode),datasets:[{label:`Évolution des ${y}`,data:a.map(q=>q.count),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4}]}:null,U=z.utilisateurs?.par_sexe?{labels:["Masculin","Féminin","Autre","Non renseigné"],datasets:[{data:[z.utilisateurs.par_sexe.masculin,z.utilisateurs.par_sexe.feminin,z.utilisateurs.par_sexe.autre,z.utilisateurs.par_sexe.non_renseigne],backgroundColor:["#3B82F6","#EC4899","#8B5CF6","#6B7280"],borderWidth:2,borderColor:d==="dark"?"#1f2937":"#ffffff"}]}:null,V=z.utilisateurs?.par_role?{labels:["Espace Attente","Étudiants","Formateurs","Admin Système"],datasets:[{data:[z.utilisateurs.par_role.espace_attente,z.utilisateurs.par_role.etudiants,z.utilisateurs.par_role.formateurs,z.utilisateurs.par_role.admin_systeme],backgroundColor:["#FFA500","#4CAF50","#2196F3","#FF5722"],borderWidth:2,borderColor:d==="dark"?"#1f2937":"#ffffff"}]}:null,P=n?.activite_par_jour?{labels:n.activite_par_jour.map(q=>q.jour_fr),datasets:[{label:"Activité utilisateurs",data:n.activite_par_jour.map(q=>q.activite),backgroundColor:"rgba(16, 185, 129, 0.6)",borderColor:"rgb(16, 185, 129)",borderWidth:2}]}:null;return e.jsx(Vt,{children:e.jsxs(yt,{fluid:!0,className:"py-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`h3 mb-1 ${d==="dark"?"text-light":"text-dark"}`,children:"Statistiques Détaillées"}),e.jsxs("p",{className:`mb-0 ${d==="dark"?"text-light":"text-muted"}`,children:["Analyses approfondies du système - Période : ",p," derniers jours"]})]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:"outline-success",onClick:()=>D(!0),className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"download",className:"me-2",style:{width:"16px",height:"16px"}}),"Exporter"]}),e.jsxs($,{variant:"outline-primary",onClick:()=>{M(),L(),F()},className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"refresh-cw",className:"me-2",style:{width:"16px",height:"16px"}}),"Actualiser"]})]})]}),e.jsx(pe,{className:"mb-4",children:e.jsx(T,{md:12,children:e.jsx(w,{className:`border-0 shadow-sm ${d==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{children:e.jsxs(pe,{className:"align-items-end",children:[e.jsxs(T,{md:3,children:[e.jsx(b.Label,{className:`small fw-bold ${d==="dark"?"text-light":"text-dark"}`,children:"Période d'analyse"}),e.jsxs(b.Select,{value:p,onChange:q=>j(parseInt(q.target.value)),className:d==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:7,children:"7 derniers jours"}),e.jsx("option",{value:30,children:"30 derniers jours"}),e.jsx("option",{value:90,children:"90 derniers jours"}),e.jsx("option",{value:365,children:"1 année"})]})]}),e.jsxs(T,{md:3,children:[e.jsx(b.Label,{className:`small fw-bold ${d==="dark"?"text-light":"text-dark"}`,children:"Type d'évolution"}),e.jsxs(b.Select,{value:y,onChange:q=>k(q.target.value),className:d==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"utilisateurs",children:"Utilisateurs"}),e.jsx("option",{value:"invitations",children:"Invitations"}),e.jsx("option",{value:"notifications",children:"Notifications"}),e.jsx("option",{value:"logs",children:"Logs système"})]})]}),e.jsxs(T,{md:3,children:[e.jsx(b.Label,{className:`small fw-bold ${d==="dark"?"text-light":"text-dark"}`,children:"Grouper par"}),e.jsxs(b.Select,{value:v,onChange:q=>S(q.target.value),className:d==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"day",children:"Jour"}),e.jsx("option",{value:"week",children:"Semaine"}),e.jsx("option",{value:"month",children:"Mois"})]})]}),e.jsx(T,{md:3,children:e.jsxs($,{variant:"primary",className:"w-100",onClick:()=>{M(),L(),F()},children:[e.jsx("i",{"data-feather":"filter",className:"me-2",style:{width:"16px",height:"16px"}}),"Appliquer les filtres"]})})]})})})})}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm h-100 ${d==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${d==="dark"?"text-light":"text-dark"}`,children:z.utilisateurs?.total||0}),e.jsx("small",{className:d==="dark"?"text-light":"text-muted",children:"Total Utilisateurs"}),e.jsx("div",{className:"mt-2",children:e.jsxs("small",{className:"text-success",children:["+",z.utilisateurs?.nouveaux_periode||0," sur la période"]})})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"users",style:{width:"32px",height:"32px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm h-100 ${d==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-success mb-0",children:z.classes?.total||0}),e.jsx("small",{className:d==="dark"?"text-light":"text-muted",children:"Classes Totales"}),e.jsx("div",{className:"mt-2",children:e.jsxs("small",{className:"text-info",children:[z.classes?.actives||0," actives"]})})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"book-open",style:{width:"32px",height:"32px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm h-100 ${d==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-info mb-0",children:z.invitations?.total||0}),e.jsx("small",{className:d==="dark"?"text-light":"text-muted",children:"Invitations"}),e.jsx("div",{className:"mt-2",children:e.jsxs("small",{className:"text-warning",children:[z.invitations?.taux_acceptation||0,"% acceptées"]})})]}),e.jsx("div",{className:"text-info",children:e.jsx("i",{"data-feather":"mail",style:{width:"32px",height:"32px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm h-100 ${d==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-warning mb-0",children:z.logs?.total||0}),e.jsx("small",{className:d==="dark"?"text-light":"text-muted",children:"Logs Système"}),e.jsx("div",{className:"mt-2",children:e.jsxs("small",{className:"text-danger",children:[z.logs?.par_statut_lecture?.non_lus||0," non lus"]})})]}),e.jsx("div",{className:"text-warning",children:e.jsx("i",{"data-feather":"file-text",style:{width:"32px",height:"32px"}})})]})})})})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{lg:8,className:"mb-4",children:e.jsxs(w,{className:`border-0 shadow-sm h-100 ${d==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${d==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:`mb-0 ${d==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"trending-up",className:"me-2",style:{width:"20px",height:"20px"}}),"Évolution - ",y," (",v==="day"?"par jour":v==="week"?"par semaine":"par mois",")"]})}),e.jsx(w.Body,{children:e.jsx("div",{style:{height:"350px"},children:K&&e.jsx(Zp,{data:K,options:I})})})]})}),e.jsx(T,{lg:4,className:"mb-4",children:e.jsxs(w,{className:`border-0 shadow-sm h-100 ${d==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${d==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:`mb-0 ${d==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"users",className:"me-2",style:{width:"20px",height:"20px"}}),"Répartition par Genre"]})}),e.jsx(w.Body,{children:e.jsx("div",{style:{height:"300px"},children:U&&e.jsx(WA,{data:U,options:H})})})]})})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{lg:6,className:"mb-4",children:e.jsxs(w,{className:`border-0 shadow-sm h-100 ${d==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${d==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:`mb-0 ${d==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"shield",className:"me-2",style:{width:"20px",height:"20px"}}),"Répartition par Rôles"]})}),e.jsx(w.Body,{children:e.jsx("div",{style:{height:"300px"},children:V&&e.jsx(mU,{data:V,options:H})})})]})}),e.jsx(T,{lg:6,className:"mb-4",children:e.jsxs(w,{className:`border-0 shadow-sm h-100 ${d==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${d==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:`mb-0 ${d==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-2",style:{width:"20px",height:"20px"}}),"Activité par Jour de la Semaine"]})}),e.jsx(w.Body,{children:e.jsx("div",{style:{height:"300px"},children:P&&e.jsx(uU,{data:P,options:I})})})]})})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{lg:6,className:"mb-4",children:e.jsxs(w,{className:`border-0 shadow-sm ${d==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${d==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:`mb-0 ${d==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"award",className:"me-2",style:{width:"20px",height:"20px"}}),"Classes Populaires"]})}),e.jsx(w.Body,{children:e.jsx("div",{className:"table-responsive",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs(Et,{hover:!0,className:`align-middle ${d==="dark"?"table-dark":""}`,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Classe"}),e.jsx("th",{className:"text-center",children:"Étudiants"}),e.jsx("th",{className:"text-center",children:"Statut"})]})}),e.jsx("tbody",{children:z.classes?.classes_plus_populaires?.length?z.classes.classes_plus_populaires.map((q,G)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsxs(oe,{bg:"primary",className:"me-2",children:["#",G+1]}),e.jsxs("div",{children:[e.jsx("div",{className:`fw-medium ${d==="dark"?"text-light":"text-dark"}`,children:q.name}),e.jsx("small",{className:d==="dark"?"text-light":"text-muted",children:q.matricule})]})]})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:"success",className:"px-3",children:q.users_count})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:q.status==="Open"?"success":"secondary",className:"px-3",children:q.status==="Open"?"Ouverte":"Fermée"})})]},q.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"3",className:"text-center py-3",children:e.jsx("span",{className:d==="dark"?"text-light":"text-muted",children:"Aucune donnée disponible"})})})})]})})})]})}),e.jsx(T,{lg:6,className:"mb-4",children:e.jsxs(w,{className:`border-0 shadow-sm ${d==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${d==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:`mb-0 ${d==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"server",className:"me-2",style:{width:"20px",height:"20px"}}),"Controllers les Plus Actifs"]})}),e.jsx(w.Body,{children:e.jsx("div",{className:"table-responsive",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs(Et,{hover:!0,className:`align-middle ${d==="dark"?"table-dark":""}`,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Controller"}),e.jsx("th",{className:"text-center",children:"Logs"})]})}),e.jsx("tbody",{children:z.logs?.par_controller?.length?z.logs.par_controller.map((q,G)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsxs(oe,{bg:"info",className:"me-2",children:["#",G+1]}),e.jsx("div",{children:e.jsx("div",{className:`fw-medium ${d==="dark"?"text-light":"text-dark"}`,children:q.name_controller})})]})}),e.jsx("td",{className:"text-center",children:e.jsx(oe,{bg:"warning",className:"px-3",children:q.count})})]},G)):e.jsx("tr",{children:e.jsx("td",{colSpan:"2",className:"text-center py-3",children:e.jsx("span",{className:d==="dark"?"text-light":"text-muted",children:"Aucune donnée disponible"})})})})]})})})]})})]}),e.jsxs(Y,{show:A,onHide:()=>D(!1),centered:!0,contentClassName:d==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:d==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Exporter les Statistiques"})}),e.jsxs(Y.Body,{className:d==="dark"?"bg-dark text-light":"",children:[e.jsx("p",{children:"Choisissez le format et le type de données à exporter :"}),e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"outline-primary",onClick:()=>Q("json","general"),disabled:C,className:"d-flex justify-content-between align-items-center",children:[e.jsxs("span",{children:[e.jsx("i",{"data-feather":"file-text",className:"me-2",style:{width:"16px",height:"16px"}}),"Statistiques Générales (JSON)"]}),C&&e.jsx(tt,{size:"sm"})]}),e.jsxs($,{variant:"outline-success",onClick:()=>Q("csv","general"),disabled:C,className:"d-flex justify-content-between align-items-center",children:[e.jsxs("span",{children:[e.jsx("i",{"data-feather":"download",className:"me-2",style:{width:"16px",height:"16px"}}),"Statistiques Générales (CSV)"]}),C&&e.jsx(tt,{size:"sm"})]}),e.jsxs($,{variant:"outline-info",onClick:()=>Q("json","activite"),disabled:C,className:"d-flex justify-content-between align-items-center",children:[e.jsxs("span",{children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"16px",height:"16px"}}),"Données d'Activité (JSON)"]}),C&&e.jsx(tt,{size:"sm"})]}),e.jsxs($,{variant:"outline-warning",onClick:()=>Q("csv","evolution"),disabled:C,className:"d-flex justify-content-between align-items-center",children:[e.jsxs("span",{children:[e.jsx("i",{"data-feather":"trending-up",className:"me-2",style:{width:"16px",height:"16px"}}),"Données d'Évolution (CSV)"]}),C&&e.jsx(tt,{size:"sm"})]})]})]}),e.jsx(Y.Footer,{className:d==="dark"?"bg-dark text-light border-secondary":"",children:e.jsx($,{variant:"secondary",onClick:()=>D(!1),children:"Fermer"})})]}),e.jsx(pe,{className:"mb-4",children:e.jsx(T,{md:12,children:e.jsxs(w,{className:`border-0 shadow-sm ${d==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${d==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:`mb-0 ${d==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"bar-chart-2",className:"me-2",style:{width:"20px",height:"20px"}}),"Résumé Statistique Détaillé"]})}),e.jsx(w.Body,{children:e.jsxs(pe,{children:[e.jsx(T,{md:3,className:"mb-4",children:e.jsxs("div",{className:"border-start border-4 border-primary ps-3",children:[e.jsxs("h6",{className:`fw-bold ${d==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"users",className:"me-2",style:{width:"16px",height:"16px"}}),"Utilisateurs"]}),e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[e.jsx("span",{className:d==="dark"?"text-light":"text-muted",children:"Total :"}),e.jsx("strong",{children:z.utilisateurs?.total||0})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[e.jsx("span",{className:d==="dark"?"text-light":"text-muted",children:"Étudiants :"}),e.jsx("span",{className:"text-success",children:z.utilisateurs?.par_role?.etudiants||0})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[e.jsx("span",{className:d==="dark"?"text-light":"text-muted",children:"Formateurs :"}),e.jsx("span",{className:"text-info",children:z.utilisateurs?.par_role?.formateurs||0})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:d==="dark"?"text-light":"text-muted",children:"Actifs :"}),e.jsx("span",{className:"text-primary",children:z.utilisateurs?.par_statut?.actif||0})]})]})]})}),e.jsx(T,{md:3,className:"mb-4",children:e.jsxs("div",{className:"border-start border-4 border-info ps-3",children:[e.jsxs("h6",{className:`fw-bold ${d==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Invitations"]}),e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[e.jsx("span",{className:d==="dark"?"text-light":"text-muted",children:"Total :"}),e.jsx("strong",{children:z.invitations?.total||0})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[e.jsx("span",{className:d==="dark"?"text-light":"text-muted",children:"Acceptées :"}),e.jsx("span",{className:"text-success",children:z.invitations?.par_statut?.acceptees||0})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[e.jsx("span",{className:d==="dark"?"text-light":"text-muted",children:"En attente :"}),e.jsx("span",{className:"text-warning",children:z.invitations?.par_statut?.en_attente||0})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:d==="dark"?"text-light":"text-muted",children:"Taux :"}),e.jsxs("span",{className:"text-primary",children:[z.invitations?.taux_acceptation||0,"%"]})]})]})]})}),e.jsx(T,{md:3,className:"mb-4",children:e.jsxs("div",{className:"border-start border-4 border-warning ps-3",children:[e.jsxs("h6",{className:`fw-bold ${d==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"bell",className:"me-2",style:{width:"16px",height:"16px"}}),"Notifications"]}),e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[e.jsx("span",{className:d==="dark"?"text-light":"text-muted",children:"Total :"}),e.jsx("strong",{children:z.notifications?.total||0})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[e.jsx("span",{className:d==="dark"?"text-light":"text-muted",children:"Non lues :"}),e.jsx("span",{className:"text-danger",children:z.notifications?.par_statut_lecture?.non_lues||0})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[e.jsx("span",{className:d==="dark"?"text-light":"text-muted",children:"Haute priorité :"}),e.jsx("span",{className:"text-warning",children:z.notifications?.par_priorite?.high||0})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:d==="dark"?"text-light":"text-muted",children:"Période :"}),e.jsx("span",{className:"text-primary",children:z.notifications?.periode||0})]})]})]})}),e.jsx(T,{md:3,className:"mb-4",children:e.jsxs("div",{className:"border-start border-4 border-success ps-3",children:[e.jsxs("h6",{className:`fw-bold ${d==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"help-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Aide & Support"]}),e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[e.jsx("span",{className:d==="dark"?"text-light":"text-muted",children:"Total :"}),e.jsx("strong",{children:z.aide?.total||0})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[e.jsx("span",{className:d==="dark"?"text-light":"text-muted",children:"Publiées :"}),e.jsx("span",{className:"text-success",children:z.aide?.publiees||0})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[e.jsx("span",{className:d==="dark"?"text-light":"text-muted",children:"En attente :"}),e.jsx("span",{className:"text-warning",children:z.aide?.non_publiees||0})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:d==="dark"?"text-light":"text-muted",children:"Ratio :"}),e.jsxs("span",{className:"text-primary",children:[z.aide?.total?Math.round(z.aide.publiees/z.aide.total*100):0,"%"]})]})]})]})})]})})]})})}),n?.utilisateurs_actifs&&e.jsx(pe,{className:"mb-4",children:e.jsx(T,{md:12,children:e.jsxs(w,{className:`border-0 shadow-sm ${d==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${d==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:`mb-0 ${d==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"20px",height:"20px"}}),"Utilisateurs les Plus Actifs (",p," derniers jours)"]})}),e.jsx(w.Body,{children:e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`align-middle ${d==="dark"?"table-dark":""}`,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Rang"}),e.jsx("th",{children:"Utilisateur"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Rôle"}),e.jsx("th",{className:"text-center",children:"Dernière Activité"})]})}),e.jsx("tbody",{children:n.utilisateurs_actifs.slice(0,10).map((q,G)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs(oe,{bg:G===0?"warning":G===1?"secondary":G===2?"success":"primary",className:"me-2",children:["#",G+1]})}),e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{className:`fw-medium ${d==="dark"?"text-light":"text-dark"}`,children:q.name}),e.jsx("small",{className:d==="dark"?"text-light":"text-muted",children:q.matricule})]})}),e.jsx("td",{children:e.jsx("small",{className:d==="dark"?"text-light":"text-muted",children:q.email})}),e.jsx("td",{children:e.jsx(oe,{bg:q.role===0?"warning":q.role===1?"success":q.role===2?"info":"danger",children:q.role===0?"Attente":q.role===1?"Étudiant":q.role===2?"Formateur":"Admin"})}),e.jsx("td",{className:"text-center",children:e.jsx("small",{className:d==="dark"?"text-light":"text-muted",children:new Date(q.updated_at).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})})})]},q.id))})]})})})]})})})]})})}function u4e(){const{user:s}=Aa(),[t,a]=x.useState(null),[r,n]=x.useState(!0),[i,l]=x.useState(null);x.useEffect(()=>{(async()=>{try{n(!0);const d=await he.get("/me");a(d.data)}catch(d){l("Erreur lors du chargement du profil"),console.error("Erreur profil:",d)}finally{n(!1)}})()},[]),x.useEffect(()=>{We.replace()},[t]);const c=u=>u?new Date(u).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}):"Non renseigné",o=u=>({Masculin:"primary",Féminin:"info",Autre:"secondary"})[u]||"secondary";return r?e.jsx(Vt,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement du profil..."})]})}):i?e.jsx(Vt,{children:e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),i]})}):e.jsxs(Vt,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"h3 mb-1",children:"Mon Profil Personnel"}),e.jsx("p",{className:"text-muted mb-0",children:"Consultez et gérez vos informations professionnelles"})]}),e.jsxs($,{variant:"primary",size:"lg",as:xe,to:"/admin-systeme/edit/profil",className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"edit-2",className:"me-2",style:{width:"20px",height:"20px"}}),"Modifier le profil"]})]}),e.jsxs(pe,{children:[e.jsx(T,{lg:8,className:"mb-4",children:e.jsxs(w,{className:"border-0 shadow-sm",children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations professionnelles"]})}),e.jsxs(w.Body,{children:[e.jsxs(pe,{className:"align-items-center mb-4",children:[e.jsx(T,{md:3,className:"text-center",children:e.jsxs("div",{className:"position-relative d-inline-block",children:[t?.profil?e.jsx(Mt,{src:t.profil_url,alt:"Photo de profil",className:"rounded-circle",width:"120",height:"120",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-light d-flex align-items-center justify-content-center border",style:{width:"120px",height:"120px"},children:e.jsx("i",{"data-feather":"user-check",className:"text-muted",style:{width:"48px",height:"48px"}})}),e.jsx(oe,{bg:"success",className:"position-absolute bottom-0 end-0 rounded-circle p-2",style:{transform:"translate(25%, 25%)"},children:e.jsx("i",{"data-feather":"stethoscope",style:{width:"12px",height:"12px"}})})]})}),e.jsxs(T,{md:9,children:[e.jsx("h4",{className:"mb-2",children:t?.name||"Nom non renseigné"}),e.jsxs("p",{className:"text-muted mb-2",children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),t?.email||"Email non renseigné"]}),t?.phone&&e.jsxs("p",{className:"text-muted mb-2",children:[e.jsx("i",{"data-feather":"phone",className:"me-2",style:{width:"16px",height:"16px"}}),t.code_phone&&`${t.code_phone} `,t.phone]}),e.jsxs("div",{className:"d-flex align-items-center flex-wrap gap-2",children:[e.jsx(oe,{bg:"success",className:"me-2",children:"Conpte Vérifié"}),t?.gender&&e.jsx(oe,{bg:o(t.gender),children:t.gender})]})]})]}),e.jsx("hr",{className:"my-4"}),e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Nom complet :"}),e.jsx("span",{className:"fw-medium",children:t?.name||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Email :"}),e.jsx("span",{className:"fw-medium",children:t?.email||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Date de naissance :"}),e.jsx("span",{className:"fw-medium",children:c(t?.birthday)})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Genre :"}),e.jsx("span",{className:"fw-medium",children:t?.gender||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Indicatif pays :"}),e.jsx("span",{className:"fw-medium",children:t?.code_phone||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Téléphone :"}),e.jsx("span",{className:"fw-medium",children:t?.phone||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Membre depuis :"}),e.jsx("span",{className:"fw-medium",children:c(t?.created_at)})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Dernière mise à jour :"}),e.jsx("span",{className:"fw-medium",children:c(t?.updated_at)})]})})]})]})]})}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:"border-0 shadow-sm mb-4",children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"20px",height:"20px"}}),"Actions rapides"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"primary",as:xe,to:"/admin-systeme/edit/profil",className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"edit-2",className:"me-2",style:{width:"18px",height:"18px"}}),"Modifier le profil"]}),e.jsxs($,{variant:"outline-primary",as:xe,to:"/admin-systeme/profil/securite",className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"shield",className:"me-2",style:{width:"18px",height:"18px"}}),"Sécurité du compte"]}),e.jsxs($,{variant:"outline-info",as:xe,to:"/admin-systeme/dashboard",className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{"data-feather":"grid",className:"me-2",style:{width:"18px",height:"18px"}}),"Retour au Dashboard"]})]})})]}),e.jsxs(w,{className:"border-0 shadow-sm mb-4",children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"20px",height:"20px"}}),"Activité professionnelle"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("div",{className:"text-primary mb-2",children:e.jsx("i",{"data-feather":"users",style:{width:"32px",height:"32px"}})}),e.jsx("h6",{className:"mb-0",children:"Evolution du compte"}),e.jsx("h4",{className:"text-primary mb-0",children:t?.profil&&t?.birthday&&t?.phone&&t?.gender?"100%":t?.name&&t?.email&&t?.gender?"85%":t?.name&&t?.email?"70%":"50%"}),e.jsx("small",{className:"text-muted",children:t?.profil&&t?.birthday&&t?.phone&&t?.gender?"Complété":t?.name&&t?.email&&t?.gender?"En cours de progression":(t?.name&&t?.email,"En attente")})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Profil complété :"}),e.jsx("span",{className:"fw-bold text-success",children:t?.profil&&t?.birthday&&t?.phone&&t?.gender?"100%":t?.name&&t?.email&&t?.gender?"85%":t?.name&&t?.email?"70%":"50%"})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Dernière connexion :"}),e.jsx("span",{children:c(t?.updated_at)})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Type de compte :"}),e.jsx(oe,{bg:"success",children:"Administrateur Systeme"})]})]})]})]}),e.jsxs(w,{className:"border-0 shadow-sm",children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"award",className:"me-2 text-success",style:{width:"20px",height:"20px"}}),"Informations professionnelles"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("i",{"data-feather":"check-circle",className:"text-success me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:"Compte vérifié"}),e.jsx("div",{className:"text-muted",children:"Identité confirmée"})]})]}),e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("i",{"data-feather":"clock",className:"text-info me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:"Disponibilité"}),e.jsx("div",{className:"text-muted",children:"Lun-Ven: 8h-18h"})]})]})]})})]})]})]})]})}function m4e(){const{user:s,updateUser:t}=Aa(),a=Ut(),[r,n]=x.useState(null),[i,l]=x.useState(!0),[c,o]=x.useState(!1),[u,d]=x.useState(null),[f,p]=x.useState(null),[j,y]=x.useState({}),[k,v]=x.useState(!1),[S,C]=x.useState({name:"",email:"",birthday:"",gender:"",code_phone:"",phone:"",profil:null}),[_,A]=x.useState({password:"",password_confirmation:""}),[D,M]=x.useState(null);x.useEffect(()=>{(async()=>{try{l(!0);const U=(await he.get("/me")).data;n(U),C({name:U.name||"",email:U.email||"",birthday:U.birthday||"",gender:U.gender||"",code_phone:U.code_phone||"",phone:U.phone||"",profil:null}),U.profil&&M(`${U.profil_url}`)}catch(K){d("Erreur lors du chargement du profil"),console.error("Erreur profil:",K)}finally{l(!1)}})()},[]),x.useEffect(()=>{We.replace()},[r]);const L=z=>{const{name:K,value:U}=z.target;C(V=>({...V,[K]:U})),j[K]&&y(V=>({...V,[K]:null}))},F=z=>{const{name:K,value:U}=z.target;A(V=>({...V,[K]:U}))},Q=z=>{const K=z.target.files[0];if(K){if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(K.type)){y(q=>({...q,profil:"Format de fichier non supporté. Utilisez JPG, PNG ou WEBP."}));return}if(K.size>2097152){y(q=>({...q,profil:"La taille du fichier ne doit pas dépasser 2MB."}));return}C(q=>({...q,profil:K}));const P=new FileReader;P.onload=q=>{M(q.target.result)},P.readAsDataURL(K),j.profil&&y(q=>({...q,profil:null}))}},I=async z=>{z.preventDefault();try{o(!0),d(null),p(null),y({});const K=new FormData;Object.keys(S).forEach(V=>{V==="profil"?S.profil instanceof File&&K.append("profil",S.profil):S[V]!==null&&S[V]!==""&&K.append(V,S[V])}),K.append("_method","PUT");const U=await he.post("/me/update",K,{headers:{"Content-Type":"multipart/form-data"}});U.data.status==="success"&&(p("Profil mis à jour avec succès !"),t&&t(U.data.data.user),setTimeout(()=>{a("/admin-systeme/view/profil")},2e3))}catch(K){K.response?.data?.errors?y(K.response.data.errors):d(K.response?.data?.message||"Erreur lors de la mise à jour du profil")}finally{o(!1)}},H=async z=>{if(z.preventDefault(),!_.password||!_.password_confirmation){d("Veuillez remplir tous les champs du mot de passe");return}if(_.password!==_.password_confirmation){d("Les mots de passe ne correspondent pas");return}try{o(!0),d(null),(await he.put("/me/update",_)).data.status==="success"&&(p("Mot de passe mis à jour avec succès !"),v(!1),A({password:"",password_confirmation:""}))}catch(K){K.response?.data?.errors?y(K.response.data.errors):d(K.response?.data?.message||"Erreur lors de la mise à jour du mot de passe")}finally{o(!1)}};return i?e.jsx(Vt,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement du profil..."})]})}):e.jsxs(Vt,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"h3 mb-1",children:"Modifier mon profil"}),e.jsx("p",{className:"text-muted mb-0",children:"Mettez à jour vos informations professionnelles"})]}),e.jsxs($,{variant:"outline-secondary",size:"lg",as:xe,to:"/admin-systeme/view/profil",className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2",style:{width:"20px",height:"20px"}}),"Retour au profil"]})]}),u&&e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),u]}),f&&e.jsxs(lt,{variant:"success",className:"mb-4",children:[e.jsx("i",{"data-feather":"check-circle",className:"me-2"}),f]}),e.jsx(b,{onSubmit:I,children:e.jsxs(pe,{children:[e.jsx(T,{lg:8,className:"mb-4",children:e.jsxs(w,{className:"border-0 shadow-sm",children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations professionnelles"]})}),e.jsxs(w.Body,{children:[e.jsx(pe,{className:"mb-4",children:e.jsxs(T,{md:3,className:"text-center",children:[e.jsxs("div",{className:"position-relative d-inline-block mb-3",children:[D?e.jsx(Mt,{src:D,alt:"Photo de profil",className:"rounded-circle",width:"120",height:"120",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-light d-flex align-items-center justify-content-center border",style:{width:"120px",height:"120px"},children:e.jsx("i",{"data-feather":"user-check",className:"text-muted",style:{width:"48px",height:"48px"}})}),e.jsx($,{variant:"primary",size:"sm",className:"position-absolute bottom-0 end-0 rounded-circle p-2",style:{transform:"translate(25%, 25%)"},onClick:()=>document.getElementById("profileImage").click(),children:e.jsx("i",{"data-feather":"camera",style:{width:"12px",height:"12px"}})})]}),e.jsx("input",{type:"file",id:"profileImage",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:Q,style:{display:"none"}}),e.jsx("p",{className:"small text-muted mb-0",children:"JPG, PNG, WEBP - Max 2MB"}),j.profil&&e.jsx("div",{className:"text-danger small mt-1",children:j.profil})]})}),e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Nom complet *"]}),e.jsx(b.Control,{type:"text",name:"name",value:S.name,onChange:L,placeholder:"Dr. Votre nom complet",isInvalid:!!j.name,required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.name?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Email professionnel *"]}),e.jsx(b.Control,{type:"email",name:"email",value:S.email,onChange:L,placeholder:"dr.nom@hopital.com",isInvalid:!!j.email,required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.email?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"calendar",className:"me-2",style:{width:"16px",height:"16px"}}),"Date de naissance"]}),e.jsx(b.Control,{type:"date",name:"birthday",value:S.birthday,onChange:L,isInvalid:!!j.birthday,max:new Date().toISOString().split("T")[0]}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.birthday?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"16px",height:"16px"}}),"Genre"]}),e.jsxs(b.Select,{name:"gender",value:S.gender,onChange:L,isInvalid:!!j.gender,children:[e.jsx("option",{value:"",children:"Sélectionner..."}),e.jsx("option",{value:"Masculin",children:"Masculin"}),e.jsx("option",{value:"Féminin",children:"Féminin"}),e.jsx("option",{value:"Autre",children:"Autre"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.gender?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"flag",className:"me-2",style:{width:"16px",height:"16px"}}),"Indicatif pays"]}),e.jsxs(b.Select,{name:"code_phone",value:S.code_phone,onChange:L,isInvalid:!!j.code_phone,children:[e.jsx("option",{value:"",children:"Sélectionner..."}),e.jsx("option",{value:"+237",children:"+237"}),e.jsx("option",{value:"+33",children:"+33"}),e.jsx("option",{value:"+235",children:"+235"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.code_phone?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"phone",className:"me-2",style:{width:"16px",height:"16px"}}),"Numéro de téléphone"]}),e.jsx(b.Control,{type:"tel",name:"phone",value:S.phone,onChange:L,placeholder:"690123456",isInvalid:!!j.phone}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.phone?.[0]}),e.jsx(b.Text,{className:"text-muted",children:"Numéro pour les urgences et rendez-vous"})]})})]}),e.jsx("hr",{className:"my-4"}),e.jsx(pe,{children:e.jsx(T,{md:12,children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs($,{variant:"outline-warning",onClick:()=>v(!0),className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"lock",className:"me-2",style:{width:"16px",height:"16px"}}),"Changer le mot de passe"]}),e.jsxs("div",{children:[e.jsx($,{variant:"outline-secondary",as:xe,to:"/admin-systeme/view/profil",className:"me-2",disabled:c,children:"Annuler"}),e.jsx($,{variant:"primary",type:"submit",disabled:c,className:"d-flex align-items-center",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner-border spinner-border-sm me-2",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),"Mise à jour..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ss,{icon:"save",size:16,className:"me-2"}),"Enregistrer les Modifications"]})})]})]})})})]})]})}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:"border-0 shadow-sm mb-4",children:[e.jsx(w.Header,{className:"bg-white border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"help-circle",className:"me-2 text-info",style:{width:"20px",height:"20px"}}),"Conseils professionnels"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"user-check",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Utilisez votre nom complet tel qu'il apparaît sur votre acte de naissance"})]}),e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"mail",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Utilisez un email professionnel pour recevoir les notifications"})]}),e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{"data-feather":"phone",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Votre numéro sera utilisé pour les urgences et confirmations"})]})]})})]}),e.jsxs(w,{className:"border-0 shadow-sm mb-4",children:[e.jsx(w.Header,{className:"bg-white border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"shield",className:"me-2 text-success",style:{width:"20px",height:"20px"}}),"Sécurité du compte"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Mot de passe"}),e.jsx($,{variant:"outline-primary",size:"sm",onClick:()=>v(!0),children:"Modifier"})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Email vérifié"}),e.jsx("i",{"data-feather":"check-circle",className:"text-success",style:{width:"16px",height:"16px"}})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Compte Administrateur systeme"}),e.jsx("i",{"data-feather":"user-check",className:"text-success",style:{width:"16px",height:"16px"}})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsx("span",{className:"small",children:"Profil sécurisé"}),e.jsx("i",{"data-feather":"shield",className:"text-success",style:{width:"16px",height:"16px"}})]})]})]}),e.jsxs(w,{className:"border-0 shadow-sm border-warning",children:[e.jsx(w.Header,{className:"bg-warning bg-opacity-10 border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center text-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"20px",height:"20px"}}),"Important"]})}),e.jsxs(w.Body,{children:[e.jsxs("p",{className:"small mb-2",children:[e.jsx("strong",{children:"Champs obligatoires :"})," Nom et email sont requis pour votre profil."]}),e.jsxs("p",{className:"small mb-2",children:[e.jsx("strong",{children:"Photo de profil :"})," Une photo professionnelle inspire confiance aux patients."]}),e.jsxs("p",{className:"small mb-0",children:[e.jsx("strong",{children:"Validation :"})," Vos informations peuvent être vérifiées par l'administration."]})]})]})]})]})}),e.jsxs(Y,{show:k,onHide:()=>v(!1),centered:!0,children:[e.jsx(Y.Header,{closeButton:!0,children:e.jsxs(Y.Title,{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"lock",className:"me-2",style:{width:"20px",height:"20px"}}),"Changer le mot de passe"]})}),e.jsxs(b,{onSubmit:H,children:[e.jsxs(Y.Body,{children:[e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Nouveau mot de passe"}),e.jsxs(bd,{children:[e.jsx(b.Control,{type:"password",name:"password",value:_.password,onChange:F,placeholder:"Entrez votre nouveau mot de passe",isInvalid:!!j.password,required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:j.password?.[0]})]}),e.jsx(b.Text,{className:"text-muted",children:"Minimum 8 caractères avec majuscules, minuscules et chiffres"})]}),e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Confirmer le mot de passe"}),e.jsx(b.Control,{type:"password",name:"password_confirmation",value:_.password_confirmation,onChange:F,placeholder:"Confirmez votre nouveau mot de passe",required:!0})]})]}),e.jsxs(Y.Footer,{children:[e.jsx($,{variant:"secondary",onClick:()=>v(!1),disabled:c,children:"Annuler"}),e.jsx($,{variant:"primary",type:"submit",disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx(tt,{animation:"border",size:"sm",className:"me-2"}),"Mise à jour..."]}):"Mettre à jour"})]})]})]})]})}function x4e(){const[s,t]=x.useState([]),[a,r]=x.useState([]),[n,i]=x.useState(""),[l,c]=x.useState(""),[o,u]=x.useState(""),[d,f]=x.useState(""),[p,j]=x.useState(!1),[y,k]=x.useState(!1),[v,S]=x.useState(!1),[C,_]=x.useState(null),[A,D]=x.useState({}),[M,L]=x.useState(!1),[F,Q]=x.useState(""),[I,H]=x.useState("success"),[z,K]=x.useState({name:"",email:"",password:"",password_confirmation:""}),[U,V]=x.useState({email:"",role:"3"}),[P,q]=x.useState("light");x.useEffect(()=>{const ee=document.documentElement.getAttribute("data-theme")||"light";q(ee);const me=new MutationObserver(()=>{const Xe=document.documentElement.getAttribute("data-theme")||"light";q(Xe)});return me.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>me.disconnect()},[]);const G=(ee,me="success")=>{Q(ee),H(me),L(!0)},se=x.useCallback(async()=>{try{const ee={};n.trim()&&(ee.search=n.trim()),l&&(ee.created_at=l),o&&(ee.status=o),d&&(ee.gender=d);const me=await he.get("/admin-systeme/view/admin-systeme",{params:ee});t(me.data.users||[])}catch(ee){console.error("Erreur lors de la récupération des utilisateurs",ee)}},[n,l,o,d]);x.useEffect(()=>{We.replace(),se()},[se,r]),x.useEffect(()=>{We.replace()},[s,a]);const O=async ee=>{ee.preventDefault(),D({});try{await he.post("/admin-systeme/store/admin-systeme",z),se(),j(!1),K({name:"",email:"",password:"",password_confirmation:""}),G("Utilisateur ajouté avec succès","success")}catch(me){me.response?.status===422?(D(me.response.data.errors||{}),G("Erreur de validation","danger")):(console.error(me),G("Une erreur inattendue s'est produite","danger"))}},W=async ee=>{ee.preventDefault(),D({});try{const me=await he.post("/admin-systeme/invitation/users",U);G(me.data.message||"Invitation envoyée avec succès","success"),k(!1),V({email:"",role:"3"})}catch(me){me.response?.status===422?(D(me.response.data.errors||{}),G("Erreur lors de l'envoi de l'invitation","danger")):(console.error("Erreur d'invitation",me),G("Une erreur inattendue s'est produite lors de l'invitation","danger"))}},Z=(ee=null)=>{_(ee),S(!0)},te=async()=>{try{const ee=C?[C]:a;C?await he.delete(`/admin-systeme/destroy/admin-systeme/${C}`):await he.post("/admin-systeme/destroy-group/admin-systeme",{ids:ee}),se(),S(!1),r([]),_(null),G("Utilisateur(s) supprimé(s) avec succès","success")}catch(ee){console.error(ee),G("Erreur lors de la suppression","danger")}},ie=ee=>{const{value:me,checked:Xe}=ee.target,Se=parseInt(me);r(Xe?ae=>[...ae,Se]:ae=>ae.filter(ye=>ye!==Se))},fe=ee=>{ee.target.checked?r(s.map(me=>me.id)):r([])},J=async ee=>{ee.preventDefault();try{const me=new URLSearchParams;n.trim()&&me.append("search",n.trim()),l&&me.append("created_at",l),o&&me.append("status",o),d&&me.append("gender",d);const Xe=await he.get(`/admin-systeme/download/liste/admin-systeme/pdf?${me.toString()}`,{responseType:"blob"}),Se=`rapport_utilisateurs_(administrateurs_systeme)_${new Date().toISOString().slice(0,10)}.pdf`;Ea(Xe.data,Se),G("Le rapport PDF est en cours de téléchargement","success")}catch(me){console.error("Erreur de téléchargement PDF:",me),G("Échec du téléchargement PDF","danger")}},ge=async ee=>{ee.preventDefault();try{const me=new URLSearchParams;n.trim()&&me.append("search",n.trim()),l&&me.append("created_at",l),o&&me.append("status",o),d&&me.append("gender",d);const Xe=await he.get(`/admin-systeme/download/liste/admin-systeme/excel?${me.toString()}`,{responseType:"blob"}),Se=`rapport_utilisateurs_(administrateurs_systeme)_${new Date().toISOString().slice(0,10)}.xlsx`;Ea(Xe.data,Se),G("Le fichier Excel est en cours de téléchargement","success")}catch(me){console.error("Erreur de téléchargement Excel:",me),G("Échec du téléchargement Excel","danger")}},re=s.filter(ee=>ee.status==="Connecté"),ve=s.filter(ee=>ee.status==="En attente"),Oe=s.filter(ee=>ee.status==="Déconnecté");return e.jsx(Vt,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${P==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"users",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${P==="dark"?"text-light":"text-dark"}`,children:"Gestion des Administrateurs Système"}),e.jsx("p",{className:`mb-0 ${P==="dark"?"text-light":"text-muted"}`,children:"Institut de Formation - Administration centrale du système"})]})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${P==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${P==="dark"?"text-light":"text-dark"}`,children:s.length}),e.jsx("small",{className:P==="dark"?"text-light":"text-muted",children:"Total Utilisateurs"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"users",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${P==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:re.length}),e.jsx("small",{className:P==="dark"?"text-light":"text-muted",children:"En Ligne"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"activity",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${P==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-warning",children:ve.length}),e.jsx("small",{className:P==="dark"?"text-light":"text-muted",children:"En Attente"})]}),e.jsx("div",{className:"text-warning",children:e.jsx("i",{"data-feather":"clock",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${P==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-danger",children:Oe.length}),e.jsx("small",{className:P==="dark"?"text-light":"text-muted",children:"Hors Ligne"})]}),e.jsx("div",{className:"text-danger",children:e.jsx("i",{"data-feather":"x-circle",style:{width:"24px",height:"24px"}})})]})})})})]})]}),e.jsxs(w,{className:`shadow-sm border-0 ${P==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${P==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"users",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${P==="dark"?"text-light":"text-dark"}`,children:"Administrateurs Système"})]}),e.jsxs("div",{className:"d-flex gap-2 mt-2 mt-md-0",children:[a.length>0&&e.jsxs($,{variant:"danger",className:"d-flex align-items-center",onClick:()=>Z(),children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer (",a.length,")"]}),e.jsxs(at,{children:[e.jsxs(at.Toggle,{variant:"outline-primary",className:"d-flex align-items-center",id:"dropdown-export",children:[e.jsx("i",{"data-feather":"download",className:"me-2",style:{width:"16px",height:"16px"}}),"Exporter les Données"]}),e.jsx(at.Menu,{className:"shadow-lg border-0",style:{minWidth:"350px"},children:e.jsxs("div",{className:"p-3",children:[e.jsxs("h6",{className:"text-primary mb-3",children:[e.jsx("i",{"data-feather":"file-text",className:"me-2",style:{width:"16px",height:"16px"}}),"Rapport PDF"]}),e.jsxs(b,{onSubmit:J,className:"mb-4",children:[e.jsx(b.Control,{type:"text",placeholder:"Rechercher par nom, email, téléphone...",value:n,onChange:ee=>i(ee.target.value),className:`mb-2 ${P==="dark"?"bg-dark text-light border-secondary":""}`}),e.jsx(b.Control,{type:"date",value:l,onChange:ee=>c(ee.target.value),className:`mb-2 ${P==="dark"?"bg-dark text-light border-secondary":""}`}),e.jsxs(b.Select,{value:o,onChange:ee=>u(ee.target.value),className:`mb-2 ${P==="dark"?"bg-dark text-light border-secondary":""}`,children:[e.jsx("option",{value:"",children:"Tous les Statuts"}),e.jsx("option",{value:"Connecté",children:"En Ligne"}),e.jsx("option",{value:"Déconnecté",children:"Hors Ligne"}),e.jsx("option",{value:"En attente",children:"En Attente"})]}),e.jsxs(b.Select,{value:d,onChange:ee=>f(ee.target.value),className:`mb-3 ${P==="dark"?"bg-dark text-light border-secondary":""}`,children:[e.jsx("option",{value:"",children:"Tous les Genres"}),e.jsx("option",{value:"Masculin",children:"Masculin"}),e.jsx("option",{value:"Féminin",children:"Féminin"}),e.jsx("option",{value:"Autre",children:"Autre"})]}),e.jsxs($,{type:"submit",variant:"primary",className:"w-100",children:[e.jsx("i",{"data-feather":"file-text",className:"me-2",style:{width:"16px",height:"16px"}}),"Télécharger PDF"]})]}),e.jsx("hr",{}),e.jsxs("h6",{className:"text-success mb-3",children:[e.jsx("i",{"data-feather":"file",className:"me-2",style:{width:"16px",height:"16px"}}),"Fichier Excel"]}),e.jsx(b,{onSubmit:ge,children:e.jsxs($,{type:"submit",variant:"success",className:"w-100",children:[e.jsx("i",{"data-feather":"file",className:"me-2",style:{width:"16px",height:"16px"}}),"Télécharger Excel"]})})]})})]}),e.jsxs($,{variant:"info",className:"d-flex align-items-center",onClick:()=>k(!0),children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Inviter"]}),e.jsxs($,{variant:"success",className:"d-flex align-items-center",onClick:()=>j(!0),children:[e.jsx("i",{"data-feather":"user-plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Nouvel Utilisateur"]})]})]})}),e.jsxs(w.Body,{className:P==="dark"?"bg-dark":"bg-white",children:[e.jsx("div",{className:"mb-4 p-3 rounded",style:{backgroundColor:P==="dark"?"#1a1a1a":"#f8f9fa"},children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs(b.Label,{className:`small fw-bold ${P==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"search",className:"me-1",style:{width:"14px",height:"14px"}}),"Recherche Globale"]}),e.jsx(b.Control,{type:"text",placeholder:"Nom, email, téléphone...",value:n,onChange:ee=>i(ee.target.value),onKeyDown:ee=>ee.key==="Enter"&&se(),className:P==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${P==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"14px",height:"14px"}}),"Date"]}),e.jsx(b.Control,{type:"date",value:l,onChange:ee=>c(ee.target.value),className:P==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsxs(b.Label,{className:`small fw-bold ${P==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"activity",className:"me-1",style:{width:"14px",height:"14px"}}),"Statut"]}),e.jsxs(b.Select,{value:o,onChange:ee=>u(ee.target.value),className:P==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous"}),e.jsx("option",{value:"Connecté",children:"En Ligne"}),e.jsx("option",{value:"Déconnecté",children:"Hors Ligne"}),e.jsx("option",{value:"En attente",children:"En Attente"})]})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsxs(b.Label,{className:`small fw-bold ${P==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"user",className:"me-1",style:{width:"14px",height:"14px"}}),"Genre"]}),e.jsxs(b.Select,{value:d,onChange:ee=>f(ee.target.value),className:P==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous"}),e.jsx("option",{value:"Masculin",children:"Masculin"}),e.jsx("option",{value:"Féminin",children:"Féminin"}),e.jsx("option",{value:"Autre",children:"Autre"})]})]})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`align-middle ${P==="dark"?"table-dark":""}`,style:{borderRadius:"8px",overflow:"hidden"},children:[e.jsx("thead",{className:"table-primary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center",style:{width:"50px"},children:e.jsx(b.Check,{type:"checkbox",onChange:fe,checked:a.length===s.length&&s.length>0})}),e.jsxs("th",{children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Utilisateur"]}),e.jsxs("th",{className:"d-none d-md-table-cell",children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Contact"]}),e.jsxs("th",{className:"d-none d-lg-table-cell",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"16px",height:"16px"}}),"Informations Sup."]}),e.jsxs("th",{className:"d-none d-lg-table-cell text-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"16px",height:"16px"}}),"Statut"]}),e.jsxs("th",{className:"text-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"16px",height:"16px"}}),"Actions"]})]})}),e.jsx("tbody",{children:s.length?s.map(ee=>e.jsxs("tr",{className:P==="dark"?"border-secondary":"",children:[e.jsx("td",{className:"text-center",children:e.jsx(b.Check,{type:"checkbox",value:ee.id,checked:a.includes(ee.id),onChange:ie})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"bg-primary bg-opacity-10 rounded-circle p-2 me-3",children:ee?.profil_url?e.jsx("img",{src:ee.profil_url,alt:ee.name||"Utilisateur",style:{width:"32px",height:"32px",borderRadius:"50%",objectFit:"cover",border:"2px solid rgba(255, 255, 255, 0.3)"},onError:me=>{me.target.style.display="none",me.target.nextElementSibling.style.display="flex"}}):e.jsx("i",{"data-feather":"user",className:"text-primary",style:{width:"16px",height:"16px"}})}),e.jsxs("div",{children:[e.jsx("div",{className:`fw-bold ${P==="dark"?"text-light":"text-dark"}`,children:ee.name.length>10?ee.name.substring(0,10)+"...":ee.name}),e.jsx("small",{className:P==="dark"?"text-light":"text-muted",title:ee.matricule||"Non spécifié",children:ee.matricule?ee.matricule.length>10?ee.matricule.substring(0,10)+"...":ee.matricule:"Non spécifié"})]})]})}),e.jsx("td",{className:"d-none d-md-table-cell",children:e.jsxs("div",{children:[e.jsxs("div",{className:`small ${P==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"mail",className:"me-1",style:{width:"12px",height:"12px"}}),ee.email.length>14?ee.email.substring(0,14)+"...":ee.email]}),e.jsxs("div",{className:`small ${P==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"phone",className:"me-1",style:{width:"12px",height:"12px"}}),ee.code_phone," ",ee.phone||"Non fourni"]})]})}),e.jsx("td",{className:"d-none d-lg-table-cell",children:e.jsxs("div",{children:[e.jsxs("div",{className:`small ${P==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"12px",height:"12px"}}),ee.birthday||"Non fourni"]}),e.jsxs("div",{className:`small ${P==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"user-check",className:"me-1",style:{width:"12px",height:"12px"}}),ee.gender||"Non spécifié"]})]})}),e.jsx("td",{className:"d-none d-lg-table-cell text-center",children:e.jsxs(oe,{bg:ee.status==="Connecté"?"success":ee.status==="Déconnecté"?"secondary":"warning",className:"px-3 py-2",children:[e.jsx("i",{"data-feather":ee.status==="Connecté"?"check-circle":ee.status==="Déconnecté"?"x-circle":"clock",className:"me-1",style:{width:"12px",height:"12px"}}),ee.status||"Indéfini"]})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{className:"d-flex gap-1 justify-content-center",children:[e.jsx($,{size:"sm",variant:"outline-info",title:"Voir les détails",as:xe,to:`/admin-systeme/show/admin-systeme/${ee.id}`,children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-warning",title:"Modifier",as:xe,to:`/admin-systeme/edit/admin-systeme/${ee.id}`,children:e.jsx("i",{"data-feather":"edit",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-danger",title:"Supprimer",onClick:()=>Z(ee.id),children:e.jsx("i",{"data-feather":"trash-2",style:{width:"14px",height:"14px"}})})]})})]},ee.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"text-center py-5",children:e.jsxs("div",{className:`${P==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"users",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucun utilisateur trouvé"}),e.jsx("p",{className:"small mb-0",children:"Aucun administrateur système ne correspond à vos critères de recherche."})]})]})})})})]})})]})]}),e.jsxs(Y,{show:p,onHide:()=>j(!1),centered:!0,size:"lg",contentClassName:P==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:P==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Ajouter un Administrateur Système"})}),e.jsxs(b,{onSubmit:O,children:[e.jsx(Y.Body,{className:P==="dark"?"bg-dark text-light":"",children:e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Nom Complet"}),e.jsx(b.Control,{type:"text",placeholder:"Entrez le nom complet",required:!0,value:z.name,onChange:ee=>K({...z,name:ee.target.value}),isInvalid:!!A.name,className:P==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.name})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Adresse Email"}),e.jsx(b.Control,{type:"email",placeholder:"Entrez l'adresse email",required:!0,value:z.email,onChange:ee=>K({...z,email:ee.target.value}),isInvalid:!!A.email,className:P==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.email})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Mot de Passe"}),e.jsx(b.Control,{type:"password",placeholder:"Entrez le mot de passe",required:!0,onChange:ee=>K({...z,password:ee.target.value}),isInvalid:!!A.password,className:P==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.password})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Confirmer le Mot de Passe"}),e.jsx(b.Control,{type:"password",placeholder:"Confirmez le mot de passe",required:!0,onChange:ee=>K({...z,password_confirmation:ee.target.value}),isInvalid:!!A.password_confirmation,className:P==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.password_confirmation})]})})]})}),e.jsxs(Y.Footer,{className:P==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>j(!1),children:"Annuler"}),e.jsxs($,{type:"submit",variant:"success",children:[e.jsx("i",{"data-feather":"save",className:"me-2",style:{width:"16px",height:"16px"}}),"Enregistrer"]})]})]})]}),e.jsxs(Y,{show:y,onHide:()=>k(!1),centered:!0,contentClassName:P==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:P==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Inviter un Utilisateur"})}),e.jsxs(b,{onSubmit:W,children:[e.jsx(Y.Body,{className:P==="dark"?"bg-dark text-light":"",children:e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Adresse Email"}),e.jsx(b.Control,{type:"email",placeholder:"Entrez l'email de l'invité",name:"email",required:!0,value:U.email,onChange:ee=>V({...U,email:ee.target.value}),isInvalid:!!A.email,className:P==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.email})]})}),e.jsxs(Y.Footer,{className:P==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>k(!1),children:"Fermer"}),e.jsxs($,{type:"submit",variant:"primary",children:[e.jsx("i",{"data-feather":"send",className:"me-2",style:{width:"16px",height:"16px"}}),"Envoyer"]})]})]})]}),e.jsxs(Y,{show:v,onHide:()=>S(!1),centered:!0,contentClassName:P==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:P==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Confirmation de Suppression"})}),e.jsxs(Y.Body,{className:P==="dark"?"bg-dark text-light":"",children:[e.jsxs("p",{children:["Êtes-vous sûr de vouloir supprimer ",C?"cet utilisateur":"ces utilisateurs"," ?"]}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),"Cette action est irréversible."]})]}),e.jsxs(Y.Footer,{className:P==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>S(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:te,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:M,onClose:()=>L(!1),delay:3e3,autohide:!0,bg:I==="success"?"success":"danger",className:P==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${I==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":I==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:P==="dark"?"bg-dark text-light":"",children:F})]})})]})})}function f4e(){const{id:s}=is(),t=Ut(),[a,r]=x.useState(null),[n,i]=x.useState(!0),[l,c]=x.useState(null),[o,u]=x.useState("light"),[d,f]=x.useState(!1),[p,j]=x.useState(""),[y,k]=x.useState("success"),[v,S]=x.useState(!1);x.useEffect(()=>{const L=document.documentElement.getAttribute("data-theme")||"light";u(L);const F=new MutationObserver(()=>{const Q=document.documentElement.getAttribute("data-theme")||"light";u(Q)});return F.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>F.disconnect()},[]);const C=(L,F="success")=>{j(L),k(F),f(!0)};x.useEffect(()=>{s&&(async()=>{try{i(!0);const F=await he.get(`/admin-systeme/show/admin-systeme/${s}`);r(F.data.user)}catch(F){c("Erreur lors du chargement du formateur"),console.error("Erreur:",F)}finally{i(!1)}})()},[s]),x.useEffect(()=>{We.replace()},[a]);const _=async()=>{try{await he.delete(`/admin-systeme/destroy/admin-systeme/${s}`),C("Formateur supprimé avec succès","success"),setTimeout(()=>{t("/admin-systeme/view/admin-systeme")},1500)}catch(L){console.error(L),C(L.response?.data?.message||"Erreur lors de la suppression","danger")}S(!1)},A=L=>L?new Date(L).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Non renseigné",D=L=>({Masculin:"primary",Féminin:"info",Autre:"secondary"})[L]||"secondary",M=L=>{switch(L){case"Connecté":return"success";case"Déconnecté":return"secondary";case"En attente":return"warning";default:return"secondary"}};return n?e.jsx(Vt,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des informations de l'administrateur..."})]})}):l||!a?e.jsxs(Vt,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),l||"Administrateur introuvable"]}),e.jsx("div",{className:"d-flex gap-2",children:e.jsxs($,{variant:"secondary",as:xe,to:"/admin-systeme/view/admin-systeme",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]})})]}):e.jsxs(Vt,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:"/admin-systeme/view/admin-systeme",className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsxs("div",{children:[e.jsx("h1",{className:`h3 mb-0 ${o==="dark"?"text-light":"text-dark"}`,children:a.name}),e.jsxs("div",{className:"d-flex align-items-center gap-2 mt-1",children:[e.jsx("small",{className:"text-muted",children:a.matricule}),e.jsxs(oe,{bg:"info",className:"px-2 py-1",children:[e.jsx("i",{"data-feather":"user-check",className:"me-1",style:{width:"12px",height:"12px"}}),"Formateurs"]})]})]})]})}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:"primary",as:xe,to:`/admin-systeme/edit/admin-systeme/${s}`,children:[e.jsx("i",{"data-feather":"edit",className:"me-2",style:{width:"16px",height:"16px"}}),"Modifier"]}),e.jsxs($,{variant:"danger",onClick:()=>S(!0),children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsxs(pe,{children:[e.jsxs(T,{lg:8,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"20px",height:"20px"}}),"Profil du formateur"]})}),e.jsxs(w.Body,{children:[e.jsxs(pe,{className:"align-items-center mb-4",children:[e.jsx(T,{md:3,className:"text-center",children:e.jsxs("div",{className:"position-relative d-inline-block",children:[a?.profil_url?e.jsx(Mt,{src:a.profil_url,alt:"Photo de profil",className:"rounded-circle",width:"120",height:"120",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-light d-flex align-items-center justify-content-center border",style:{width:"120px",height:"120px"},children:e.jsx("i",{"data-feather":"user",className:"text-muted",style:{width:"48px",height:"48px"}})}),e.jsx(oe,{bg:"info",className:"position-absolute bottom-0 end-0 rounded-circle p-2",style:{transform:"translate(25%, 25%)"},children:e.jsx("i",{"data-feather":"user-check",style:{width:"12px",height:"12px"}})})]})}),e.jsxs(T,{md:9,children:[e.jsx("h4",{className:"mb-2",children:a?.name||"Nom non renseigné"}),e.jsxs("p",{className:"text-muted mb-2",children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),a?.email||"Email non renseigné"]}),a?.phone&&e.jsxs("p",{className:"text-muted mb-2",children:[e.jsx("i",{"data-feather":"phone",className:"me-2",style:{width:"16px",height:"16px"}}),a.code_phone&&`${a.code_phone} `,a.phone]}),e.jsxs("div",{className:"d-flex align-items-center flex-wrap gap-2",children:[e.jsx(oe,{bg:"info",className:"me-2",children:"Formateur"}),a?.gender&&e.jsx(oe,{bg:D(a.gender),children:a.gender}),e.jsx(oe,{bg:M(a.status||"En attente"),children:a.status||"En attente"})]})]})]}),e.jsx("hr",{className:"my-4"}),e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Nom complet :"}),e.jsx("span",{className:"fw-medium",children:a?.name||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Email :"}),e.jsx("span",{className:"fw-medium",children:a?.email||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Matricule :"}),e.jsx("span",{className:"fw-medium",children:e.jsx("code",{className:"px-2 py-1 bg-primary bg-opacity-10 rounded text-primary",children:a?.matricule||"Non renseigné"})})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Date de naissance :"}),e.jsx("span",{className:"fw-medium",children:A(a?.birthday)})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Genre :"}),e.jsx("span",{className:"fw-medium",children:a?.gender||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Téléphone :"}),e.jsxs("span",{className:"fw-medium",children:[a?.code_phone," ",a?.phone||"Non renseigné"]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Inscrit depuis :"}),e.jsx("span",{className:"fw-medium",children:A(a?.created_at)})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Dernière mise à jour :"}),e.jsx("span",{className:"fw-medium",children:A(a?.updated_at)})]})})]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"20px",height:"20px"}}),"Activités et permissions"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"book",className:"text-primary me-3",style:{width:"18px",height:"18px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold",children:"Gestion des compte utilisateur"}),e.jsx("small",{className:"text-muted",children:"Création et modification autorisées"})]})]})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"users",className:"text-success me-3",style:{width:"18px",height:"18px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold",children:"Gestion des statistiques"}),e.jsx("small",{className:"text-muted",children:"Visualisation des statitiques de la plateforme"})]})]})})]})})]})]}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"20px",height:"20px"}}),"Actions rapides"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"primary",as:xe,to:`/admin-systeme/edit/admin-systeme/${s}`,children:[e.jsx("i",{"data-feather":"edit-2",className:"me-2",style:{width:"18px",height:"18px"}}),"Modifier le profil"]}),e.jsxs($,{variant:"outline-info",as:xe,to:"/admin-systeme/view/admin-systeme",children:[e.jsx("i",{"data-feather":"list",className:"me-2",style:{width:"18px",height:"18px"}}),"Tous les administrateurs"]}),e.jsxs($,{variant:"outline-primary",as:xe,to:"/admin-systeme/dashboard",children:[e.jsx("i",{"data-feather":"grid",className:"me-2",style:{width:"18px",height:"18px"}}),"Retour au Dashboard"]})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"bar-chart",className:"me-2",style:{width:"20px",height:"20px"}}),"Statut du compte"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("div",{className:"text-info mb-2",children:e.jsx("i",{"data-feather":"user-check",style:{width:"32px",height:"32px"}})}),e.jsx("h6",{className:"mb-0",children:"Type de compte"}),e.jsx("h4",{className:"text-info mb-0",children:"Administrateur"}),e.jsx("small",{className:"text-muted",children:"Accès aux fonctionnalités pédagogiques"})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Profil complété :"}),e.jsx("span",{className:"fw-bold text-success",children:a?.profil_url&&a?.birthday&&a?.phone&&a?.gender?"100%":a?.name&&a?.email&&a?.gender?"85%":a?.name&&a?.email?"70%":"50%"})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Dernière connexion :"}),e.jsx("span",{children:A(a?.updated_at)})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Rôle :"}),e.jsx(oe,{bg:"info",children:"Administrateur (Rôle 3)"})]})]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"info",className:"me-2 text-secondary",style:{width:"20px",height:"20px"}}),"Informations système"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("i",{"data-feather":"key",className:"text-secondary me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:"Matricule"}),e.jsx("div",{className:"text-muted",children:a.matricule})]})]}),e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("i",{"data-feather":"calendar",className:"text-secondary me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:"Date de création"}),e.jsx("div",{className:"text-muted",children:A(a.created_at)})]})]}),e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("i",{"data-feather":"clock",className:"text-secondary me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:"Dernière modification"}),e.jsx("div",{className:"text-muted",children:A(a.updated_at)})]})]}),e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{"data-feather":"shield",className:"text-secondary me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:"Niveau d'accès"}),e.jsx("div",{className:"text-muted",children:"Administrateur - Niveau 2"})]})]})]})})]})]})]}),e.jsxs(Y,{show:v,onHide:()=>S(!1),centered:!0,contentClassName:o==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:o==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Confirmation de Suppression"})}),e.jsxs(Y.Body,{className:o==="dark"?"bg-dark text-light":"",children:[e.jsx("p",{children:"Êtes-vous sûr de vouloir supprimer cette administrateur ?"}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),`Cette action est irréversible. L'administrateur "`,a.name,'" sera définitivement supprimé du système.']})]}),e.jsxs(Y.Footer,{className:o==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>S(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:_,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer définitivement"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:d,onClose:()=>f(!1),delay:3e3,autohide:!0,bg:y==="success"?"success":"danger",className:o==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${y==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":y==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:o==="dark"?"bg-dark text-light":"",children:p})]})})]})}function p4e(){const{id:s}=is(),t=Ut(),[a,r]=x.useState(null),[n,i]=x.useState(!0),[l,c]=x.useState(!1),[o,u]=x.useState(null),[d,f]=x.useState({}),[p,j]=x.useState("light"),[y,k]=x.useState(!1),[v,S]=x.useState(!1),[C,_]=x.useState(""),[A,D]=x.useState("success"),[M,L]=x.useState({name:"",email:"",birthday:"",gender:"",code_phone:"",phone:"",profil:null}),[F,Q]=x.useState({password:"",password_confirmation:""}),[I,H]=x.useState(null);x.useEffect(()=>{const G=document.documentElement.getAttribute("data-theme")||"light";j(G);const se=new MutationObserver(()=>{const O=document.documentElement.getAttribute("data-theme")||"light";j(O)});return se.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>se.disconnect()},[]);const z=(G,se="success")=>{_(G),D(se),S(!0)};x.useEffect(()=>{s&&(async()=>{try{i(!0);const O=(await he.get(`/admin-systeme/edit/admin-systeme/${s}`)).data.user;r(O),L({name:O.name||"",email:O.email||"",birthday:O.birthday||"",gender:O.gender||"",code_phone:O.code_phone||"",phone:O.phone||"",profil:null}),O.profil_url&&H(O.profil_url)}catch(se){u("Erreur lors du chargement des données"),console.error("Erreur:",se)}finally{i(!1)}})()},[s]),x.useEffect(()=>{We.replace()},[a]);const K=G=>{const{name:se,value:O}=G.target;L(W=>({...W,[se]:O})),d[se]&&f(W=>({...W,[se]:null}))},U=G=>{const{name:se,value:O}=G.target;Q(W=>({...W,[se]:O}))},V=G=>{const se=G.target.files[0];if(se){if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(se.type)){f(te=>({...te,profil:"Format de fichier non supporté. Utilisez JPG, PNG ou WEBP."}));return}if(se.size>2097152){f(te=>({...te,profil:"La taille du fichier ne doit pas dépasser 2MB."}));return}L(te=>({...te,profil:se}));const Z=new FileReader;Z.onload=te=>{H(te.target.result)},Z.readAsDataURL(se),d.profil&&f(te=>({...te,profil:null}))}},P=async G=>{G.preventDefault();try{c(!0),u(null),f({});const se=new FormData;Object.keys(M).forEach(W=>{W==="profil"?M.profil instanceof File&&se.append("profil",M.profil):M[W]!==null&&M[W]!==""&&se.append(W,M[W])}),se.append("_method","PUT"),(await he.post(`/admin-systeme/update/admin-systeme/${s}`,se,{headers:{"Content-Type":"multipart/form-data"}})).data.status==="success"&&(z("Formateur mis à jour avec succès !","success"),setTimeout(()=>{t(`/admin-systeme/show/admin-systeme/${s}`)},2e3))}catch(se){se.response?.data?.errors?(f(se.response.data.errors),z("Erreur de validation","danger")):(u(se.response?.data?.message||"Erreur lors de la mise à jour"),z("Erreur lors de la mise à jour","danger"))}finally{c(!1)}},q=async G=>{if(G.preventDefault(),!F.password||!F.password_confirmation){z("Veuillez remplir tous les champs du mot de passe","danger");return}if(F.password!==F.password_confirmation){z("Les mots de passe ne correspondent pas","danger");return}try{c(!0),u(null),(await he.put(`/admin-systeme/update/admin-systeme/${s}`,F)).data.status==="success"&&(z("Mot de passe mis à jour avec succès !","success"),k(!1),Q({password:"",password_confirmation:""}))}catch(se){se.response?.data?.errors?f(se.response.data.errors):z(se.response?.data?.message||"Erreur lors de la mise à jour du mot de passe","danger")}finally{c(!1)}};return n?e.jsx(Vt,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des données..."})]})}):o&&!a?e.jsxs(Vt,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),o]}),e.jsx("div",{className:"d-flex gap-2",children:e.jsxs($,{variant:"secondary",as:xe,to:"/admin-systeme/view/admin-systeme",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]})})]}):e.jsxs(Vt,{children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:`/admin-systeme/show/admin-systeme/${s}`,className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsx("h1",{className:"h3 mb-0",children:"Modifier l'administrateur systeme"})]}),e.jsx("p",{className:"text-muted mb-0",children:"Modification des informations de l'administrateur systeme"})]})}),o&&e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),o]}),e.jsx(b,{onSubmit:P,children:e.jsxs(pe,{children:[e.jsx(T,{lg:8,className:"mb-4",children:e.jsxs(w,{className:`border-0 shadow-sm ${p==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations personnelles"]})}),e.jsxs(w.Body,{children:[e.jsx(pe,{className:"mb-4",children:e.jsxs(T,{md:3,className:"text-center",children:[e.jsxs("div",{className:"position-relative d-inline-block mb-3",children:[I?e.jsx(Mt,{src:I,alt:"Photo de profil",className:"rounded-circle",width:"120",height:"120",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-light d-flex align-items-center justify-content-center border",style:{width:"120px",height:"120px"},children:e.jsx("i",{"data-feather":"user",className:"text-muted",style:{width:"48px",height:"48px"}})}),e.jsx($,{variant:"primary",size:"sm",className:"position-absolute bottom-0 end-0 rounded-circle p-2",style:{transform:"translate(25%, 25%)"},onClick:()=>document.getElementById("profileImage").click(),children:e.jsx("i",{"data-feather":"camera",style:{width:"12px",height:"12px"}})})]}),e.jsx("input",{type:"file",id:"profileImage",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:V,style:{display:"none"}}),e.jsx("p",{className:"small text-muted mb-0",children:"JPG, PNG, WEBP - Max 2MB"}),d.profil&&e.jsx("div",{className:"text-danger small mt-1",children:d.profil})]})}),e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Nom complet *"]}),e.jsx(b.Control,{type:"text",name:"name",value:M.name,onChange:K,placeholder:"Nom complet de l'administrateur systeme",isInvalid:!!d.name,className:p==="dark"?"bg-dark text-light border-secondary":"",required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:d.name?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Email *"]}),e.jsx(b.Control,{type:"email",name:"email",value:M.email,onChange:K,placeholder:"nom@email.com",isInvalid:!!d.email,className:p==="dark"?"bg-dark text-light border-secondary":"",required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:d.email?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"calendar",className:"me-2",style:{width:"16px",height:"16px"}}),"Date de naissance"]}),e.jsx(b.Control,{type:"date",name:"birthday",value:M.birthday,onChange:K,isInvalid:!!d.birthday,className:p==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:d.birthday?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"16px",height:"16px"}}),"Genre"]}),e.jsxs(b.Select,{name:"gender",value:M.gender,onChange:K,isInvalid:!!d.gender,className:p==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Sélectionner..."}),e.jsx("option",{value:"Masculin",children:"Masculin"}),e.jsx("option",{value:"Féminin",children:"Féminin"}),e.jsx("option",{value:"Autre",children:"Autre"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:d.gender?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"flag",className:"me-2",style:{width:"16px",height:"16px"}}),"Indicatif pays"]}),e.jsxs(b.Select,{name:"code_phone",value:M.code_phone,onChange:K,isInvalid:!!d.code_phone,className:p==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Sélectionner..."}),e.jsx("option",{value:"+237",children:"+237 (Cameroun)"}),e.jsx("option",{value:"+33",children:"+33 (France)"}),e.jsx("option",{value:"+235",children:"+235 (Tchad)"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:d.code_phone?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"phone",className:"me-2",style:{width:"16px",height:"16px"}}),"Numéro de téléphone"]}),e.jsx(b.Control,{type:"number",name:"phone",value:M.phone,onChange:K,placeholder:"690123456",isInvalid:!!d.phone,className:p==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:d.phone?.[0]}),e.jsx(b.Text,{className:"text-muted",children:"Numéro de contact de l'administrateur systeme"})]})})]}),e.jsx("hr",{className:"my-4"}),e.jsx(pe,{children:e.jsx(T,{md:12,children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs($,{variant:"outline-warning",onClick:()=>k(!0),className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"lock",className:"me-2",style:{width:"16px",height:"16px"}}),"Changer le mot de passe"]}),e.jsxs("div",{children:[e.jsx($,{variant:"outline-secondary",as:xe,to:`/admin-systeme/show/admin-systeme/${s}`,className:"me-2",disabled:l,children:"Annuler"}),e.jsx($,{variant:"primary",type:"submit",disabled:l,className:"d-flex align-items-center",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner-border spinner-border-sm me-2",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),"Mise à jour..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ss,{icon:"save",size:16,className:"me-2"}),"Enregistrer les Modifications"]})})]})]})})})]})]})}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${p==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${p==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"help-circle",className:"me-2 text-info",style:{width:"20px",height:"20px"}}),"Conseils"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"user-check",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Utilisez le nom complet tel qu'il apparaît sur les documents officiels"})]}),e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"mail",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"L'email sera utilisé pour les notifications et communications importantes"})]}),e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{"data-feather":"phone",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Le numéro sera utilisé pour les urgences et confirmations"})]})]})})]}),a&&e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${p==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${p==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"info",className:"me-2 text-success",style:{width:"20px",height:"20px"}}),"Informations actuelles"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Matricule"}),e.jsx("code",{className:"px-2 py-1 bg-primary bg-opacity-10 rounded text-primary small",children:a.matricule})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Rôle"}),e.jsx("span",{className:"badge bg-info",children:"Administrateur"})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Inscrit le"}),e.jsx("span",{className:"small",children:new Date(a.created_at).toLocaleDateString("fr-FR")})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsx("span",{className:"small",children:"Dernière modification"}),e.jsx("span",{className:"small",children:new Date(a.updated_at).toLocaleDateString("fr-FR")})]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${p==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${p==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2 text-warning",style:{width:"20px",height:"20px"}}),"Actions supplémentaires"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"outline-info",as:xe,to:`/admin-systeme/show/admin-systeme/${s}`,children:[e.jsx("i",{"data-feather":"eye",className:"me-2",style:{width:"16px",height:"16px"}}),"Voir le profil"]}),e.jsxs($,{variant:"outline-primary",as:xe,to:"/admin-systeme/view/admin-systeme",children:[e.jsx("i",{"data-feather":"users",className:"me-2",style:{width:"16px",height:"16px"}}),"Tous les administrateurs"]})]})})]})]})]})}),e.jsxs(Y,{show:y,onHide:()=>k(!1),centered:!0,contentClassName:p==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{closeButton:!0,className:p==="dark"?"bg-dark text-light border-secondary":"",children:e.jsxs(Y.Title,{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"lock",className:"me-2",style:{width:"20px",height:"20px"}}),"Changer le mot de passe"]})}),e.jsxs(b,{onSubmit:q,children:[e.jsxs(Y.Body,{className:p==="dark"?"bg-dark text-light":"",children:[e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Nouveau mot de passe"}),e.jsx(b.Control,{type:"password",name:"password",value:F.password,onChange:U,placeholder:"Entrez le nouveau mot de passe",isInvalid:!!d.password,className:p==="dark"?"bg-dark text-light border-secondary":"",required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:d.password?.[0]}),e.jsx(b.Text,{className:"text-muted",children:"Minimum 8 caractères avec majuscules, minuscules et chiffres"})]}),e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Confirmer le mot de passe"}),e.jsx(b.Control,{type:"password",name:"password_confirmation",value:F.password_confirmation,onChange:U,placeholder:"Confirmez le nouveau mot de passe",className:p==="dark"?"bg-dark text-light border-secondary":"",required:!0})]})]}),e.jsxs(Y.Footer,{className:p==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>k(!1),disabled:l,children:"Annuler"}),e.jsx($,{variant:"primary",type:"submit",disabled:l,children:l?e.jsxs(e.Fragment,{children:[e.jsx(tt,{animation:"border",size:"sm",className:"me-2"}),"Mise à jour..."]}):"Mettre à jour"})]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:v,onClose:()=>S(!1),delay:3e3,autohide:!0,bg:A==="success"?"success":"danger",className:p==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${A==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":A==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:p==="dark"?"bg-dark text-light":"",children:C})]})})]})}function g4e(){const[s,t]=x.useState([]),[a,r]=x.useState([]),[n,i]=x.useState(""),[l,c]=x.useState(""),[o,u]=x.useState(""),[d,f]=x.useState(""),[p,j]=x.useState(!1),[y,k]=x.useState(!1),[v,S]=x.useState(!1),[C,_]=x.useState(null),[A,D]=x.useState({}),[M,L]=x.useState(!1),[F,Q]=x.useState(""),[I,H]=x.useState("success"),[z,K]=x.useState({name:"",email:"",password:"",password_confirmation:""}),[U,V]=x.useState({email:"",role:"2"}),[P,q]=x.useState("light");x.useEffect(()=>{const ee=document.documentElement.getAttribute("data-theme")||"light";q(ee);const me=new MutationObserver(()=>{const Xe=document.documentElement.getAttribute("data-theme")||"light";q(Xe)});return me.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>me.disconnect()},[]);const G=(ee,me="success")=>{Q(ee),H(me),L(!0)},se=x.useCallback(async()=>{try{const ee={};n.trim()&&(ee.search=n.trim()),l&&(ee.created_at=l),o&&(ee.status=o),d&&(ee.gender=d);const me=await he.get("/admin-systeme/view/formateur",{params:ee});t(me.data.users||[])}catch(ee){console.error("Erreur lors de la récupération des utilisateurs",ee)}},[n,l,o,d]);x.useEffect(()=>{We.replace(),se()},[se,r]),x.useEffect(()=>{We.replace()},[s,a]);const O=async ee=>{ee.preventDefault(),D({});try{await he.post("/admin-systeme/store/formateur",z),se(),j(!1),K({name:"",email:"",password:"",password_confirmation:""}),G("Utilisateur ajouté avec succès","success")}catch(me){me.response?.status===422?(D(me.response.data.errors||{}),G("Erreur de validation","danger")):(console.error(me),G("Une erreur inattendue s'est produite","danger"))}},W=async ee=>{ee.preventDefault(),D({});try{const me=await he.post("/admin-systeme/invitation/users",U);G(me.data.message||"Invitation envoyée avec succès","success"),k(!1),V({email:"",role:"2"})}catch(me){me.response?.status===422?(D(me.response.data.errors||{}),G("Erreur lors de l'envoi de l'invitation","danger")):(console.error("Erreur d'invitation",me),G("Une erreur inattendue s'est produite lors de l'invitation","danger"))}},Z=(ee=null)=>{_(ee),S(!0)},te=async()=>{try{const ee=C?[C]:a;C?await he.delete(`/admin-systeme/destroy/formateur/${C}`):await he.post("/admin-systeme/destroy-group/formateur",{ids:ee}),se(),S(!1),r([]),_(null),G("Utilisateur(s) supprimé(s) avec succès","success")}catch(ee){console.error(ee),G("Erreur lors de la suppression","danger")}},ie=ee=>{const{value:me,checked:Xe}=ee.target,Se=parseInt(me);r(Xe?ae=>[...ae,Se]:ae=>ae.filter(ye=>ye!==Se))},fe=ee=>{ee.target.checked?r(s.map(me=>me.id)):r([])},J=async ee=>{ee.preventDefault();try{const me=new URLSearchParams;n.trim()&&me.append("search",n.trim()),l&&me.append("created_at",l),o&&me.append("status",o),d&&me.append("gender",d);const Xe=await he.get(`/admin-systeme/download/liste/formateur/pdf?${me.toString()}`,{responseType:"blob"}),Se=`rapport_utilisateurs_(formateurs)_${new Date().toISOString().slice(0,10)}.pdf`;Ea(Xe.data,Se),G("Le rapport PDF est en cours de téléchargement","success")}catch(me){console.error("Erreur de téléchargement PDF:",me),G("Échec du téléchargement PDF","danger")}},ge=async ee=>{ee.preventDefault();try{const me=new URLSearchParams;n.trim()&&me.append("search",n.trim()),l&&me.append("created_at",l),o&&me.append("status",o),d&&me.append("gender",d);const Xe=await he.get(`/admin-systeme/download/liste/formateur/excel?${me.toString()}`,{responseType:"blob"}),Se=`rapport_utilisateurs_(formateurs)_${new Date().toISOString().slice(0,10)}.xlsx`;Ea(Xe.data,Se),G("Le fichier Excel est en cours de téléchargement","success")}catch(me){console.error("Erreur de téléchargement Excel:",me),G("Échec du téléchargement Excel","danger")}},re=s.filter(ee=>ee.status==="Connecté"),ve=s.filter(ee=>ee.status==="En attente"),Oe=s.filter(ee=>ee.status==="Déconnecté");return e.jsx(Vt,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${P==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"users",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${P==="dark"?"text-light":"text-dark"}`,children:"Gestion des Formateurs"}),e.jsx("p",{className:`mb-0 ${P==="dark"?"text-light":"text-muted"}`,children:"Institut de Formation - Administration centrale du système"})]})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${P==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${P==="dark"?"text-light":"text-dark"}`,children:s.length}),e.jsx("small",{className:P==="dark"?"text-light":"text-muted",children:"Total Utilisateurs"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"users",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${P==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:re.length}),e.jsx("small",{className:P==="dark"?"text-light":"text-muted",children:"En Ligne"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"activity",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${P==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-warning",children:ve.length}),e.jsx("small",{className:P==="dark"?"text-light":"text-muted",children:"En Attente"})]}),e.jsx("div",{className:"text-warning",children:e.jsx("i",{"data-feather":"clock",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${P==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-danger",children:Oe.length}),e.jsx("small",{className:P==="dark"?"text-light":"text-muted",children:"Hors Ligne"})]}),e.jsx("div",{className:"text-danger",children:e.jsx("i",{"data-feather":"x-circle",style:{width:"24px",height:"24px"}})})]})})})})]})]}),e.jsxs(w,{className:`shadow-sm border-0 ${P==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${P==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"users",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${P==="dark"?"text-light":"text-dark"}`,children:"Formateurs"})]}),e.jsxs("div",{className:"d-flex gap-2 mt-2 mt-md-0",children:[a.length>0&&e.jsxs($,{variant:"danger",className:"d-flex align-items-center",onClick:()=>Z(),children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer (",a.length,")"]}),e.jsxs(at,{children:[e.jsxs(at.Toggle,{variant:"outline-primary",className:"d-flex align-items-center",id:"dropdown-export",children:[e.jsx("i",{"data-feather":"download",className:"me-2",style:{width:"16px",height:"16px"}}),"Exporter les Données"]}),e.jsx(at.Menu,{className:"shadow-lg border-0",style:{minWidth:"350px"},children:e.jsxs("div",{className:"p-3",children:[e.jsxs("h6",{className:"text-primary mb-3",children:[e.jsx("i",{"data-feather":"file-text",className:"me-2",style:{width:"16px",height:"16px"}}),"Rapport PDF"]}),e.jsxs(b,{onSubmit:J,className:"mb-4",children:[e.jsx(b.Control,{type:"text",placeholder:"Rechercher par nom, email, téléphone...",value:n,onChange:ee=>i(ee.target.value),className:`mb-2 ${P==="dark"?"bg-dark text-light border-secondary":""}`}),e.jsx(b.Control,{type:"date",value:l,onChange:ee=>c(ee.target.value),className:`mb-2 ${P==="dark"?"bg-dark text-light border-secondary":""}`}),e.jsxs(b.Select,{value:o,onChange:ee=>u(ee.target.value),className:`mb-2 ${P==="dark"?"bg-dark text-light border-secondary":""}`,children:[e.jsx("option",{value:"",children:"Tous les Statuts"}),e.jsx("option",{value:"Connecté",children:"En Ligne"}),e.jsx("option",{value:"Déconnecté",children:"Hors Ligne"}),e.jsx("option",{value:"En attente",children:"En Attente"})]}),e.jsxs(b.Select,{value:d,onChange:ee=>f(ee.target.value),className:`mb-3 ${P==="dark"?"bg-dark text-light border-secondary":""}`,children:[e.jsx("option",{value:"",children:"Tous les Genres"}),e.jsx("option",{value:"Masculin",children:"Masculin"}),e.jsx("option",{value:"Féminin",children:"Féminin"}),e.jsx("option",{value:"Autre",children:"Autre"})]}),e.jsxs($,{type:"submit",variant:"primary",className:"w-100",children:[e.jsx("i",{"data-feather":"file-text",className:"me-2",style:{width:"16px",height:"16px"}}),"Télécharger PDF"]})]}),e.jsx("hr",{}),e.jsxs("h6",{className:"text-success mb-3",children:[e.jsx("i",{"data-feather":"file",className:"me-2",style:{width:"16px",height:"16px"}}),"Fichier Excel"]}),e.jsx(b,{onSubmit:ge,children:e.jsxs($,{type:"submit",variant:"success",className:"w-100",children:[e.jsx("i",{"data-feather":"file",className:"me-2",style:{width:"16px",height:"16px"}}),"Télécharger Excel"]})})]})})]}),e.jsxs($,{variant:"info",className:"d-flex align-items-center",onClick:()=>k(!0),children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Inviter"]}),e.jsxs($,{variant:"success",className:"d-flex align-items-center",onClick:()=>j(!0),children:[e.jsx("i",{"data-feather":"user-plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Nouvel Utilisateur"]})]})]})}),e.jsxs(w.Body,{className:P==="dark"?"bg-dark":"bg-white",children:[e.jsx("div",{className:"mb-4 p-3 rounded",style:{backgroundColor:P==="dark"?"#1a1a1a":"#f8f9fa"},children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs(b.Label,{className:`small fw-bold ${P==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"search",className:"me-1",style:{width:"14px",height:"14px"}}),"Recherche Globale"]}),e.jsx(b.Control,{type:"text",placeholder:"Nom, email, téléphone...",value:n,onChange:ee=>i(ee.target.value),onKeyDown:ee=>ee.key==="Enter"&&se(),className:P==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${P==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"14px",height:"14px"}}),"Date"]}),e.jsx(b.Control,{type:"date",value:l,onChange:ee=>c(ee.target.value),className:P==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsxs(b.Label,{className:`small fw-bold ${P==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"activity",className:"me-1",style:{width:"14px",height:"14px"}}),"Statut"]}),e.jsxs(b.Select,{value:o,onChange:ee=>u(ee.target.value),className:P==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous"}),e.jsx("option",{value:"Connecté",children:"En Ligne"}),e.jsx("option",{value:"Déconnecté",children:"Hors Ligne"}),e.jsx("option",{value:"En attente",children:"En Attente"})]})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsxs(b.Label,{className:`small fw-bold ${P==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"user",className:"me-1",style:{width:"14px",height:"14px"}}),"Genre"]}),e.jsxs(b.Select,{value:d,onChange:ee=>f(ee.target.value),className:P==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous"}),e.jsx("option",{value:"Masculin",children:"Masculin"}),e.jsx("option",{value:"Féminin",children:"Féminin"}),e.jsx("option",{value:"Autre",children:"Autre"})]})]})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`align-middle ${P==="dark"?"table-dark":""}`,style:{borderRadius:"8px",overflow:"hidden"},children:[e.jsx("thead",{className:"table-primary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center",style:{width:"50px"},children:e.jsx(b.Check,{type:"checkbox",onChange:fe,checked:a.length===s.length&&s.length>0})}),e.jsxs("th",{children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Utilisateur"]}),e.jsxs("th",{className:"d-none d-md-table-cell",children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Contact"]}),e.jsxs("th",{className:"d-none d-lg-table-cell",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"16px",height:"16px"}}),"Informations Sup."]}),e.jsxs("th",{className:"d-none d-lg-table-cell text-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"16px",height:"16px"}}),"Statut"]}),e.jsxs("th",{className:"text-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"16px",height:"16px"}}),"Actions"]})]})}),e.jsx("tbody",{children:s.length?s.map(ee=>e.jsxs("tr",{className:P==="dark"?"border-secondary":"",children:[e.jsx("td",{className:"text-center",children:e.jsx(b.Check,{type:"checkbox",value:ee.id,checked:a.includes(ee.id),onChange:ie})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"bg-primary bg-opacity-10 rounded-circle p-2 me-3",children:ee?.profil_url?e.jsx("img",{src:ee.profil_url,alt:ee.name||"Utilisateur",style:{width:"32px",height:"32px",borderRadius:"50%",objectFit:"cover",border:"2px solid rgba(255, 255, 255, 0.3)"},onError:me=>{me.target.style.display="none",me.target.nextElementSibling.style.display="flex"}}):e.jsx("i",{"data-feather":"user",className:"text-primary",style:{width:"16px",height:"16px"}})}),e.jsxs("div",{children:[e.jsx("div",{className:`fw-bold ${P==="dark"?"text-light":"text-dark"}`,children:ee.name.length>10?ee.name.substring(0,10)+"...":ee.name}),e.jsx("small",{className:P==="dark"?"text-light":"text-muted",title:ee.matricule||"Non spécifié",children:ee.matricule?ee.matricule.length>10?ee.matricule.substring(0,10)+"...":ee.matricule:"Non spécifié"})]})]})}),e.jsx("td",{className:"d-none d-md-table-cell",children:e.jsxs("div",{children:[e.jsxs("div",{className:`small ${P==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"mail",className:"me-1",style:{width:"12px",height:"12px"}}),ee.email.length>14?ee.email.substring(0,14)+"...":ee.email]}),e.jsxs("div",{className:`small ${P==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"phone",className:"me-1",style:{width:"12px",height:"12px"}}),ee.code_phone," ",ee.phone||"Non fourni"]})]})}),e.jsx("td",{className:"d-none d-lg-table-cell",children:e.jsxs("div",{children:[e.jsxs("div",{className:`small ${P==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"12px",height:"12px"}}),ee.birthday||"Non fourni"]}),e.jsxs("div",{className:`small ${P==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"user-check",className:"me-1",style:{width:"12px",height:"12px"}}),ee.gender||"Non spécifié"]})]})}),e.jsx("td",{className:"d-none d-lg-table-cell text-center",children:e.jsxs(oe,{bg:ee.status==="Connecté"?"success":ee.status==="Déconnecté"?"secondary":"warning",className:"px-3 py-2",children:[e.jsx("i",{"data-feather":ee.status==="Connecté"?"check-circle":ee.status==="Déconnecté"?"x-circle":"clock",className:"me-1",style:{width:"12px",height:"12px"}}),ee.status||"Indéfini"]})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{className:"d-flex gap-1 justify-content-center",children:[e.jsx($,{size:"sm",variant:"outline-info",title:"Voir les détails",as:xe,to:`/admin-systeme/show/formateur/${ee.id}`,children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-warning",title:"Modifier",as:xe,to:`/admin-systeme/edit/formateur/${ee.id}`,children:e.jsx("i",{"data-feather":"edit",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-danger",title:"Supprimer",onClick:()=>Z(ee.id),children:e.jsx("i",{"data-feather":"trash-2",style:{width:"14px",height:"14px"}})})]})})]},ee.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"text-center py-5",children:e.jsxs("div",{className:`${P==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"users",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucun utilisateur trouvé"}),e.jsx("p",{className:"small mb-0",children:"Aucun formateur ne correspond à vos critères de recherche."})]})]})})})})]})})]})]}),e.jsxs(Y,{show:p,onHide:()=>j(!1),centered:!0,size:"lg",contentClassName:P==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:P==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Ajouter un Formateur"})}),e.jsxs(b,{onSubmit:O,children:[e.jsx(Y.Body,{className:P==="dark"?"bg-dark text-light":"",children:e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Nom Complet"}),e.jsx(b.Control,{type:"text",placeholder:"Entrez le nom complet",required:!0,value:z.name,onChange:ee=>K({...z,name:ee.target.value}),isInvalid:!!A.name,className:P==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.name})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Adresse Email"}),e.jsx(b.Control,{type:"email",placeholder:"Entrez l'adresse email",required:!0,value:z.email,onChange:ee=>K({...z,email:ee.target.value}),isInvalid:!!A.email,className:P==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.email})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Mot de Passe"}),e.jsx(b.Control,{type:"password",placeholder:"Entrez le mot de passe",required:!0,onChange:ee=>K({...z,password:ee.target.value}),isInvalid:!!A.password,className:P==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.password})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Confirmer le Mot de Passe"}),e.jsx(b.Control,{type:"password",placeholder:"Confirmez le mot de passe",required:!0,onChange:ee=>K({...z,password_confirmation:ee.target.value}),isInvalid:!!A.password_confirmation,className:P==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.password_confirmation})]})})]})}),e.jsxs(Y.Footer,{className:P==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>j(!1),children:"Annuler"}),e.jsxs($,{type:"submit",variant:"success",children:[e.jsx("i",{"data-feather":"save",className:"me-2",style:{width:"16px",height:"16px"}}),"Enregistrer"]})]})]})]}),e.jsxs(Y,{show:y,onHide:()=>k(!1),centered:!0,contentClassName:P==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:P==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Inviter un Formateur"})}),e.jsxs(b,{onSubmit:W,children:[e.jsx(Y.Body,{className:P==="dark"?"bg-dark text-light":"",children:e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Adresse Email"}),e.jsx(b.Control,{type:"email",placeholder:"Entrez l'email de l'invité",name:"email",required:!0,value:U.email,onChange:ee=>V({...U,email:ee.target.value}),isInvalid:!!A.email,className:P==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:A.email})]})}),e.jsxs(Y.Footer,{className:P==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>k(!1),children:"Fermer"}),e.jsxs($,{type:"submit",variant:"primary",children:[e.jsx("i",{"data-feather":"send",className:"me-2",style:{width:"16px",height:"16px"}}),"Envoyer"]})]})]})]}),e.jsxs(Y,{show:v,onHide:()=>S(!1),centered:!0,contentClassName:P==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:P==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Confirmation de Suppression"})}),e.jsxs(Y.Body,{className:P==="dark"?"bg-dark text-light":"",children:[e.jsxs("p",{children:["Êtes-vous sûr de vouloir supprimer ",C?"cet utilisateur":"ces utilisateurs"," ?"]}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),"Cette action est irréversible."]})]}),e.jsxs(Y.Footer,{className:P==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>S(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:te,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:M,onClose:()=>L(!1),delay:3e3,autohide:!0,bg:I==="success"?"success":"danger",className:P==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${I==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":I==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:P==="dark"?"bg-dark text-light":"",children:F})]})})]})})}function y4e(){const{id:s}=is(),t=Ut(),[a,r]=x.useState(null),[n,i]=x.useState(!0),[l,c]=x.useState(null),[o,u]=x.useState("light"),[d,f]=x.useState(!1),[p,j]=x.useState(""),[y,k]=x.useState("success"),[v,S]=x.useState(!1);x.useEffect(()=>{const L=document.documentElement.getAttribute("data-theme")||"light";u(L);const F=new MutationObserver(()=>{const Q=document.documentElement.getAttribute("data-theme")||"light";u(Q)});return F.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>F.disconnect()},[]);const C=(L,F="success")=>{j(L),k(F),f(!0)};x.useEffect(()=>{s&&(async()=>{try{i(!0);const F=await he.get(`/admin-systeme/show/formateur/${s}`);r(F.data.user)}catch(F){c("Erreur lors du chargement du formateur"),console.error("Erreur:",F)}finally{i(!1)}})()},[s]),x.useEffect(()=>{We.replace()},[a]);const _=async()=>{try{await he.delete(`/admin-systeme/destroy/formateur/${s}`),C("Formateur supprimé avec succès","success"),setTimeout(()=>{t("/admin-systeme/view/formateur")},1500)}catch(L){console.error(L),C(L.response?.data?.message||"Erreur lors de la suppression","danger")}S(!1)},A=L=>L?new Date(L).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Non renseigné",D=L=>({Masculin:"primary",Féminin:"info",Autre:"secondary"})[L]||"secondary",M=L=>{switch(L){case"Connecté":return"success";case"Déconnecté":return"secondary";case"En attente":return"warning";default:return"secondary"}};return n?e.jsx(Vt,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des informations de l'administrateur..."})]})}):l||!a?e.jsxs(Vt,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),l||"Administrateur introuvable"]}),e.jsx("div",{className:"d-flex gap-2",children:e.jsxs($,{variant:"secondary",as:xe,to:"/admin-systeme/view/formateur",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]})})]}):e.jsxs(Vt,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:"/admin-systeme/view/formateur",className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsxs("div",{children:[e.jsx("h1",{className:`h3 mb-0 ${o==="dark"?"text-light":"text-dark"}`,children:a.name}),e.jsxs("div",{className:"d-flex align-items-center gap-2 mt-1",children:[e.jsx("small",{className:"text-muted",children:a.matricule}),e.jsxs(oe,{bg:"info",className:"px-2 py-1",children:[e.jsx("i",{"data-feather":"user-check",className:"me-1",style:{width:"12px",height:"12px"}}),"Formateur"]})]})]})]})}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:"primary",as:xe,to:`/admin-systeme/edit/formateur/${s}`,children:[e.jsx("i",{"data-feather":"edit",className:"me-2",style:{width:"16px",height:"16px"}}),"Modifier"]}),e.jsxs($,{variant:"danger",onClick:()=>S(!0),children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsxs(pe,{children:[e.jsxs(T,{lg:8,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"20px",height:"20px"}}),"Profil du formateur"]})}),e.jsxs(w.Body,{children:[e.jsxs(pe,{className:"align-items-center mb-4",children:[e.jsx(T,{md:3,className:"text-center",children:e.jsxs("div",{className:"position-relative d-inline-block",children:[a?.profil_url?e.jsx(Mt,{src:a.profil_url,alt:"Photo de profil",className:"rounded-circle",width:"120",height:"120",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-light d-flex align-items-center justify-content-center border",style:{width:"120px",height:"120px"},children:e.jsx("i",{"data-feather":"user",className:"text-muted",style:{width:"48px",height:"48px"}})}),e.jsx(oe,{bg:"info",className:"position-absolute bottom-0 end-0 rounded-circle p-2",style:{transform:"translate(25%, 25%)"},children:e.jsx("i",{"data-feather":"user-check",style:{width:"12px",height:"12px"}})})]})}),e.jsxs(T,{md:9,children:[e.jsx("h4",{className:"mb-2",children:a?.name||"Nom non renseigné"}),e.jsxs("p",{className:"text-muted mb-2",children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),a?.email||"Email non renseigné"]}),a?.phone&&e.jsxs("p",{className:"text-muted mb-2",children:[e.jsx("i",{"data-feather":"phone",className:"me-2",style:{width:"16px",height:"16px"}}),a.code_phone&&`${a.code_phone} `,a.phone]}),e.jsxs("div",{className:"d-flex align-items-center flex-wrap gap-2",children:[e.jsx(oe,{bg:"info",className:"me-2",children:"Formateur"}),a?.gender&&e.jsx(oe,{bg:D(a.gender),children:a.gender}),e.jsx(oe,{bg:M(a.status||"En attente"),children:a.status||"En attente"})]})]})]}),e.jsx("hr",{className:"my-4"}),e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Nom complet :"}),e.jsx("span",{className:"fw-medium",children:a?.name||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Email :"}),e.jsx("span",{className:"fw-medium",children:a?.email||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Matricule :"}),e.jsx("span",{className:"fw-medium",children:e.jsx("code",{className:"px-2 py-1 bg-primary bg-opacity-10 rounded text-primary",children:a?.matricule||"Non renseigné"})})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Date de naissance :"}),e.jsx("span",{className:"fw-medium",children:A(a?.birthday)})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Genre :"}),e.jsx("span",{className:"fw-medium",children:a?.gender||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Téléphone :"}),e.jsxs("span",{className:"fw-medium",children:[a?.code_phone," ",a?.phone||"Non renseigné"]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Inscrit depuis :"}),e.jsx("span",{className:"fw-medium",children:A(a?.created_at)})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Dernière mise à jour :"}),e.jsx("span",{className:"fw-medium",children:A(a?.updated_at)})]})})]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"20px",height:"20px"}}),"Activités et permissions"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"book",className:"text-primary me-3",style:{width:"18px",height:"18px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold",children:"Gestion des cours"}),e.jsx("small",{className:"text-muted",children:"Création et modification autorisées"})]})]})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"users",className:"text-success me-3",style:{width:"18px",height:"18px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold",children:"Gestion des étudiants"}),e.jsx("small",{className:"text-muted",children:"Consultation et modification"})]})]})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"file-text",className:"text-info me-3",style:{width:"18px",height:"18px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold",children:"Matières et classes"}),e.jsx("small",{className:"text-muted",children:"Accès selon les affectations"})]})]})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"file-text",className:"text-warning me-3",style:{width:"18px",height:"18px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold",children:"Gestion des evaluations"}),e.jsx("small",{className:"text-muted",children:"Création et modification"})]})]})})]})})]})]}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"20px",height:"20px"}}),"Actions rapides"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"primary",as:xe,to:`/admin-systeme/edit/formateur/${s}`,children:[e.jsx("i",{"data-feather":"edit-2",className:"me-2",style:{width:"18px",height:"18px"}}),"Modifier le profil"]}),e.jsxs($,{variant:"outline-info",as:xe,to:"/admin-systeme/view/formateur",children:[e.jsx("i",{"data-feather":"list",className:"me-2",style:{width:"18px",height:"18px"}}),"Tous les formateurs"]}),e.jsxs($,{variant:"outline-primary",as:xe,to:"/admin-systeme/dashboard",children:[e.jsx("i",{"data-feather":"grid",className:"me-2",style:{width:"18px",height:"18px"}}),"Retour au Dashboard"]})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"bar-chart",className:"me-2",style:{width:"20px",height:"20px"}}),"Statut du compte"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("div",{className:"text-info mb-2",children:e.jsx("i",{"data-feather":"user-check",style:{width:"32px",height:"32px"}})}),e.jsx("h6",{className:"mb-0",children:"Type de compte"}),e.jsx("h4",{className:"text-info mb-0",children:"Administrateur"}),e.jsx("small",{className:"text-muted",children:"Accès aux fonctionnalités pédagogiques"})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Profil complété :"}),e.jsx("span",{className:"fw-bold text-success",children:a?.profil_url&&a?.birthday&&a?.phone&&a?.gender?"100%":a?.name&&a?.email&&a?.gender?"85%":a?.name&&a?.email?"70%":"50%"})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Dernière connexion :"}),e.jsx("span",{children:A(a?.updated_at)})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Rôle :"}),e.jsx(oe,{bg:"info",children:"Formateur (Rôle 2)"})]})]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"info",className:"me-2 text-secondary",style:{width:"20px",height:"20px"}}),"Informations système"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("i",{"data-feather":"key",className:"text-secondary me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:"Matricule"}),e.jsx("div",{className:"text-muted",children:a.matricule})]})]}),e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("i",{"data-feather":"calendar",className:"text-secondary me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:"Date de création"}),e.jsx("div",{className:"text-muted",children:A(a.created_at)})]})]}),e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("i",{"data-feather":"clock",className:"text-secondary me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:"Dernière modification"}),e.jsx("div",{className:"text-muted",children:A(a.updated_at)})]})]}),e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{"data-feather":"shield",className:"text-secondary me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:"Niveau d'accès"}),e.jsx("div",{className:"text-muted",children:"Administrateur - Niveau 2"})]})]})]})})]})]})]}),e.jsxs(Y,{show:v,onHide:()=>S(!1),centered:!0,contentClassName:o==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:o==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Confirmation de Suppression"})}),e.jsxs(Y.Body,{className:o==="dark"?"bg-dark text-light":"",children:[e.jsx("p",{children:"Êtes-vous sûr de vouloir supprimer cette administrateur ?"}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),'Cette action est irréversible. Le formateur "',a.name,'" sera définitivement supprimé du système.']})]}),e.jsxs(Y.Footer,{className:o==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>S(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:_,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer définitivement"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:d,onClose:()=>f(!1),delay:3e3,autohide:!0,bg:y==="success"?"success":"danger",className:o==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${y==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":y==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:o==="dark"?"bg-dark text-light":"",children:p})]})})]})}function j4e(){const{id:s}=is(),t=Ut(),[a,r]=x.useState(null),[n,i]=x.useState(!0),[l,c]=x.useState(!1),[o,u]=x.useState(null),[d,f]=x.useState({}),[p,j]=x.useState("light"),[y,k]=x.useState(!1),[v,S]=x.useState(!1),[C,_]=x.useState(""),[A,D]=x.useState("success"),[M,L]=x.useState({name:"",email:"",birthday:"",gender:"",code_phone:"",phone:"",profil:null}),[F,Q]=x.useState({password:"",password_confirmation:""}),[I,H]=x.useState(null);x.useEffect(()=>{const G=document.documentElement.getAttribute("data-theme")||"light";j(G);const se=new MutationObserver(()=>{const O=document.documentElement.getAttribute("data-theme")||"light";j(O)});return se.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>se.disconnect()},[]);const z=(G,se="success")=>{_(G),D(se),S(!0)};x.useEffect(()=>{s&&(async()=>{try{i(!0);const O=(await he.get(`/admin-systeme/edit/formateur/${s}`)).data.user;r(O),L({name:O.name||"",email:O.email||"",birthday:O.birthday||"",gender:O.gender||"",code_phone:O.code_phone||"",phone:O.phone||"",profil:null}),O.profil_url&&H(O.profil_url)}catch(se){u("Erreur lors du chargement des données"),console.error("Erreur:",se)}finally{i(!1)}})()},[s]),x.useEffect(()=>{We.replace()},[a]);const K=G=>{const{name:se,value:O}=G.target;L(W=>({...W,[se]:O})),d[se]&&f(W=>({...W,[se]:null}))},U=G=>{const{name:se,value:O}=G.target;Q(W=>({...W,[se]:O}))},V=G=>{const se=G.target.files[0];if(se){if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(se.type)){f(te=>({...te,profil:"Format de fichier non supporté. Utilisez JPG, PNG ou WEBP."}));return}if(se.size>2097152){f(te=>({...te,profil:"La taille du fichier ne doit pas dépasser 2MB."}));return}L(te=>({...te,profil:se}));const Z=new FileReader;Z.onload=te=>{H(te.target.result)},Z.readAsDataURL(se),d.profil&&f(te=>({...te,profil:null}))}},P=async G=>{G.preventDefault();try{c(!0),u(null),f({});const se=new FormData;Object.keys(M).forEach(W=>{W==="profil"?M.profil instanceof File&&se.append("profil",M.profil):M[W]!==null&&M[W]!==""&&se.append(W,M[W])}),se.append("_method","PUT"),(await he.post(`/admin-systeme/update/formateur/${s}`,se,{headers:{"Content-Type":"multipart/form-data"}})).data.status==="success"&&(z("Formateur mis à jour avec succès !","success"),setTimeout(()=>{t(`/admin-systeme/show/formateur/${s}`)},2e3))}catch(se){se.response?.data?.errors?(f(se.response.data.errors),z("Erreur de validation","danger")):(u(se.response?.data?.message||"Erreur lors de la mise à jour"),z("Erreur lors de la mise à jour","danger"))}finally{c(!1)}},q=async G=>{if(G.preventDefault(),!F.password||!F.password_confirmation){z("Veuillez remplir tous les champs du mot de passe","danger");return}if(F.password!==F.password_confirmation){z("Les mots de passe ne correspondent pas","danger");return}try{c(!0),u(null),(await he.put(`/admin-systeme/update/formateur/${s}`,F)).data.status==="success"&&(z("Mot de passe mis à jour avec succès !","success"),k(!1),Q({password:"",password_confirmation:""}))}catch(se){se.response?.data?.errors?f(se.response.data.errors):z(se.response?.data?.message||"Erreur lors de la mise à jour du mot de passe","danger")}finally{c(!1)}};return n?e.jsx(Vt,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des données..."})]})}):o&&!a?e.jsxs(Vt,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),o]}),e.jsx("div",{className:"d-flex gap-2",children:e.jsxs($,{variant:"secondary",as:xe,to:"/admin-systeme/view/formateur",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]})})]}):e.jsxs(Vt,{children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:`/admin-systeme/show/formateur/${s}`,className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsx("h1",{className:"h3 mb-0",children:"Modifier le formateur"})]}),e.jsx("p",{className:"text-muted mb-0",children:"Modification des informations du formateur"})]})}),o&&e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),o]}),e.jsx(b,{onSubmit:P,children:e.jsxs(pe,{children:[e.jsx(T,{lg:8,className:"mb-4",children:e.jsxs(w,{className:`border-0 shadow-sm ${p==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations personnelles"]})}),e.jsxs(w.Body,{children:[e.jsx(pe,{className:"mb-4",children:e.jsxs(T,{md:3,className:"text-center",children:[e.jsxs("div",{className:"position-relative d-inline-block mb-3",children:[I?e.jsx(Mt,{src:I,alt:"Photo de profil",className:"rounded-circle",width:"120",height:"120",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-light d-flex align-items-center justify-content-center border",style:{width:"120px",height:"120px"},children:e.jsx("i",{"data-feather":"user",className:"text-muted",style:{width:"48px",height:"48px"}})}),e.jsx($,{variant:"primary",size:"sm",className:"position-absolute bottom-0 end-0 rounded-circle p-2",style:{transform:"translate(25%, 25%)"},onClick:()=>document.getElementById("profileImage").click(),children:e.jsx("i",{"data-feather":"camera",style:{width:"12px",height:"12px"}})})]}),e.jsx("input",{type:"file",id:"profileImage",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:V,style:{display:"none"}}),e.jsx("p",{className:"small text-muted mb-0",children:"JPG, PNG, WEBP - Max 2MB"}),d.profil&&e.jsx("div",{className:"text-danger small mt-1",children:d.profil})]})}),e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Nom complet *"]}),e.jsx(b.Control,{type:"text",name:"name",value:M.name,onChange:K,placeholder:"Nom complet du formateur",isInvalid:!!d.name,className:p==="dark"?"bg-dark text-light border-secondary":"",required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:d.name?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Email *"]}),e.jsx(b.Control,{type:"email",name:"email",value:M.email,onChange:K,placeholder:"nom@email.com",isInvalid:!!d.email,className:p==="dark"?"bg-dark text-light border-secondary":"",required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:d.email?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"calendar",className:"me-2",style:{width:"16px",height:"16px"}}),"Date de naissance"]}),e.jsx(b.Control,{type:"date",name:"birthday",value:M.birthday,onChange:K,isInvalid:!!d.birthday,className:p==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:d.birthday?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"16px",height:"16px"}}),"Genre"]}),e.jsxs(b.Select,{name:"gender",value:M.gender,onChange:K,isInvalid:!!d.gender,className:p==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Sélectionner..."}),e.jsx("option",{value:"Masculin",children:"Masculin"}),e.jsx("option",{value:"Féminin",children:"Féminin"}),e.jsx("option",{value:"Autre",children:"Autre"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:d.gender?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"flag",className:"me-2",style:{width:"16px",height:"16px"}}),"Indicatif pays"]}),e.jsxs(b.Select,{name:"code_phone",value:M.code_phone,onChange:K,isInvalid:!!d.code_phone,className:p==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Sélectionner..."}),e.jsx("option",{value:"+237",children:"+237 (Cameroun)"}),e.jsx("option",{value:"+33",children:"+33 (France)"}),e.jsx("option",{value:"+235",children:"+235 (Tchad)"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:d.code_phone?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"phone",className:"me-2",style:{width:"16px",height:"16px"}}),"Numéro de téléphone"]}),e.jsx(b.Control,{type:"number",name:"phone",value:M.phone,onChange:K,placeholder:"690123456",isInvalid:!!d.phone,className:p==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:d.phone?.[0]}),e.jsx(b.Text,{className:"text-muted",children:"Numéro de contact du formateur"})]})})]}),e.jsx("hr",{className:"my-4"}),e.jsx(pe,{children:e.jsx(T,{md:12,children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs($,{variant:"outline-warning",onClick:()=>k(!0),className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"lock",className:"me-2",style:{width:"16px",height:"16px"}}),"Changer le mot de passe"]}),e.jsxs("div",{children:[e.jsx($,{variant:"outline-secondary",as:xe,to:`/admin-systeme/show/formateur/${s}`,className:"me-2",disabled:l,children:"Annuler"}),e.jsx($,{variant:"primary",type:"submit",disabled:l,className:"d-flex align-items-center",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner-border spinner-border-sm me-2",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),"Mise à jour..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ss,{icon:"save",size:16,className:"me-2"}),"Enregistrer les Modifications"]})})]})]})})})]})]})}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${p==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${p==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"help-circle",className:"me-2 text-info",style:{width:"20px",height:"20px"}}),"Conseils"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"user-check",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Utilisez le nom complet tel qu'il apparaît sur les documents officiels"})]}),e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"mail",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"L'email sera utilisé pour les notifications et communications importantes"})]}),e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"shield",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Les formateurs ont accès aux fonctionnalités pédagogiques de base"})]}),e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{"data-feather":"phone",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Le numéro sera utilisé pour les urgences et confirmations"})]})]})})]}),a&&e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${p==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${p==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"info",className:"me-2 text-success",style:{width:"20px",height:"20px"}}),"Informations actuelles"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Matricule"}),e.jsx("code",{className:"px-2 py-1 bg-primary bg-opacity-10 rounded text-primary small",children:a.matricule})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Rôle"}),e.jsx("span",{className:"badge bg-info",children:"Formateur"})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Inscrit le"}),e.jsx("span",{className:"small",children:new Date(a.created_at).toLocaleDateString("fr-FR")})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsx("span",{className:"small",children:"Dernière modification"}),e.jsx("span",{className:"small",children:new Date(a.updated_at).toLocaleDateString("fr-FR")})]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${p==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${p==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2 text-warning",style:{width:"20px",height:"20px"}}),"Actions supplémentaires"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"outline-info",as:xe,to:`/admin-systeme/show/formateur/${s}`,children:[e.jsx("i",{"data-feather":"eye",className:"me-2",style:{width:"16px",height:"16px"}}),"Voir le profil"]}),e.jsxs($,{variant:"outline-primary",as:xe,to:"/admin-systeme/view/formateur",children:[e.jsx("i",{"data-feather":"users",className:"me-2",style:{width:"16px",height:"16px"}}),"Tous les formateurs"]})]})})]})]})]})}),e.jsxs(Y,{show:y,onHide:()=>k(!1),centered:!0,contentClassName:p==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{closeButton:!0,className:p==="dark"?"bg-dark text-light border-secondary":"",children:e.jsxs(Y.Title,{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"lock",className:"me-2",style:{width:"20px",height:"20px"}}),"Changer le mot de passe"]})}),e.jsxs(b,{onSubmit:q,children:[e.jsxs(Y.Body,{className:p==="dark"?"bg-dark text-light":"",children:[e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Nouveau mot de passe"}),e.jsx(b.Control,{type:"password",name:"password",value:F.password,onChange:U,placeholder:"Entrez le nouveau mot de passe",isInvalid:!!d.password,className:p==="dark"?"bg-dark text-light border-secondary":"",required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:d.password?.[0]}),e.jsx(b.Text,{className:"text-muted",children:"Minimum 8 caractères avec majuscules, minuscules et chiffres"})]}),e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Confirmer le mot de passe"}),e.jsx(b.Control,{type:"password",name:"password_confirmation",value:F.password_confirmation,onChange:U,placeholder:"Confirmez le nouveau mot de passe",className:p==="dark"?"bg-dark text-light border-secondary":"",required:!0})]})]}),e.jsxs(Y.Footer,{className:p==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>k(!1),disabled:l,children:"Annuler"}),e.jsx($,{variant:"primary",type:"submit",disabled:l,children:l?e.jsxs(e.Fragment,{children:[e.jsx(tt,{animation:"border",size:"sm",className:"me-2"}),"Mise à jour..."]}):"Mettre à jour"})]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:v,onClose:()=>S(!1),delay:3e3,autohide:!0,bg:A==="success"?"success":"danger",className:p==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${A==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":A==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:p==="dark"?"bg-dark text-light":"",children:C})]})})]})}function v4e(){const[s,t]=x.useState([]),[a,r]=x.useState([]),[n,i]=x.useState([]),[l,c]=x.useState(""),[o,u]=x.useState(""),[d,f]=x.useState(""),[p,j]=x.useState(""),[y,k]=x.useState(""),[v,S]=x.useState(!1),[C,_]=x.useState(!1),[A,D]=x.useState(!1),[M,L]=x.useState(null),[F,Q]=x.useState({}),[I,H]=x.useState(!1),[z,K]=x.useState(""),[U,V]=x.useState("success"),[P,q]=x.useState({name:"",email:"",matricule_classroom:"",password:"",password_confirmation:""}),[G,se]=x.useState({email:"",matricule_classroom:"",role:"1"}),[O,W]=x.useState("light");x.useEffect(()=>{const ae=document.documentElement.getAttribute("data-theme")||"light";W(ae);const ye=new MutationObserver(()=>{const st=document.documentElement.getAttribute("data-theme")||"light";W(st)});return ye.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>ye.disconnect()},[]);const Z=(ae,ye="success")=>{K(ae),V(ye),H(!0)},te=x.useCallback(async()=>{try{const ae={};l.trim()&&(ae.search=l.trim()),o&&(ae.created_at=o),d&&(ae.status=d),p&&(ae.gender=p),y&&(ae.matricule_classroom=y);const ye=await he.get("/admin-systeme/view/etudiant",{params:ae});t(ye.data.users||[]),r(ye.data.classrooms||[])}catch(ae){console.error("Erreur lors de la récupération des utilisateurs",ae)}},[l,o,d,p]);x.useEffect(()=>{We.replace(),te()},[te,i]),x.useEffect(()=>{We.replace()},[s,n]);const ie=async ae=>{ae.preventDefault(),Q({});try{await he.post("/admin-systeme/store/etudiant",P),te(),S(!1),q({name:"",email:"",matricule_classroom:"",password:"",password_confirmation:""}),Z("Utilisateur ajouté avec succès","success")}catch(ye){ye.response?.status===422?(Q(ye.response.data.errors||{}),Z("Erreur de validation","danger")):(console.error(ye),Z("Une erreur inattendue s'est produite","danger"))}},fe=async ae=>{ae.preventDefault(),Q({});try{const ye=await he.post("/admin-systeme/invitation/users",G);Z(ye.data.message||"Invitation envoyée avec succès","success"),_(!1),se({email:"",matricule_classroom:"",role:"1"})}catch(ye){ye.response?.status===422?(Q(ye.response.data.errors||{}),Z("Erreur lors de l'envoi de l'invitation","danger")):(console.error("Erreur d'invitation",ye),Z("Une erreur inattendue s'est produite lors de l'invitation","danger"))}},J=(ae=null)=>{L(ae),D(!0)},ge=async()=>{try{const ae=M?[M]:n;M?await he.delete(`/admin-systeme/destroy/etudiant/${M}`):await he.post("/admin-systeme/destroy-group/etudiant",{ids:ae}),te(),D(!1),i([]),L(null),Z("Utilisateur(s) supprimé(s) avec succès","success")}catch(ae){console.error(ae),Z("Erreur lors de la suppression","danger")}},re=ae=>{const{value:ye,checked:st}=ae.target,He=parseInt(ye);i(st?ke=>[...ke,He]:ke=>ke.filter(we=>we!==He))},ve=ae=>{ae.target.checked?i(s.map(ye=>ye.id)):i([])},Oe=async ae=>{ae.preventDefault();try{const ye=new URLSearchParams;l.trim()&&ye.append("search",l.trim()),o&&ye.append("created_at",o),d&&ye.append("status",d),p&&ye.append("gender",p),y&&ye.append("matricule_classroom",y);const st=await he.get(`/admin-systeme/download/liste/etudiant/pdf?${ye.toString()}`,{responseType:"blob"}),He=`rapport_utilisateurs_(etudiants)_${new Date().toISOString().slice(0,10)}.pdf`;Ea(st.data,He),Z("Le rapport PDF est en cours de téléchargement","success")}catch(ye){console.error("Erreur de téléchargement PDF:",ye),Z("Échec du téléchargement PDF","danger")}},ee=async ae=>{ae.preventDefault();try{const ye=new URLSearchParams;l.trim()&&ye.append("search",l.trim()),o&&ye.append("created_at",o),d&&ye.append("status",d),p&&ye.append("gender",p),y&&ye.append("matricule_classroom",y);const st=await he.get(`/admin-systeme/download/liste/etudiant/excel?${ye.toString()}`,{responseType:"blob"}),He=`rapport_utilisateurs_(etudiants)_${new Date().toISOString().slice(0,10)}.xlsx`;Ea(st.data,He),Z("Le fichier Excel est en cours de téléchargement","success")}catch(ye){console.error("Erreur de téléchargement Excel:",ye),Z("Échec du téléchargement Excel","danger")}},me=s.filter(ae=>ae.status==="Connecté"),Xe=s.filter(ae=>ae.status==="En attente"),Se=s.filter(ae=>ae.status==="Déconnecté");return e.jsx(Vt,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${O==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"users",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${O==="dark"?"text-light":"text-dark"}`,children:"Gestion des Etudiants"}),e.jsx("p",{className:`mb-0 ${O==="dark"?"text-light":"text-muted"}`,children:"Institut de Formation - Administration centrale du système"})]})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${O==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${O==="dark"?"text-light":"text-dark"}`,children:s.length}),e.jsx("small",{className:O==="dark"?"text-light":"text-muted",children:"Total Etudiants"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"users",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${O==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:me.length}),e.jsx("small",{className:O==="dark"?"text-light":"text-muted",children:"En Ligne"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"activity",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${O==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-warning",children:Xe.length}),e.jsx("small",{className:O==="dark"?"text-light":"text-muted",children:"En Attente"})]}),e.jsx("div",{className:"text-warning",children:e.jsx("i",{"data-feather":"clock",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${O==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-danger",children:Se.length}),e.jsx("small",{className:O==="dark"?"text-light":"text-muted",children:"Hors Ligne"})]}),e.jsx("div",{className:"text-danger",children:e.jsx("i",{"data-feather":"x-circle",style:{width:"24px",height:"24px"}})})]})})})})]})]}),e.jsxs(w,{className:`shadow-sm border-0 ${O==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${O==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"users",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${O==="dark"?"text-light":"text-dark"}`,children:"Etudiants"})]}),e.jsxs("div",{className:"d-flex gap-2 mt-2 mt-md-0",children:[n.length>0&&e.jsxs($,{variant:"danger",className:"d-flex align-items-center",onClick:()=>J(),children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer (",n.length,")"]}),e.jsxs(at,{children:[e.jsxs(at.Toggle,{variant:"outline-primary",className:"d-flex align-items-center",id:"dropdown-export",children:[e.jsx("i",{"data-feather":"download",className:"me-2",style:{width:"16px",height:"16px"}}),"Exporter les Données"]}),e.jsx(at.Menu,{className:"shadow-lg border-0",style:{minWidth:"350px"},children:e.jsxs("div",{className:"p-3",children:[e.jsxs("h6",{className:"text-primary mb-3",children:[e.jsx("i",{"data-feather":"file-text",className:"me-2",style:{width:"16px",height:"16px"}}),"Rapport PDF"]}),e.jsxs(b,{onSubmit:Oe,className:"mb-4",children:[e.jsx(b.Control,{type:"text",placeholder:"Rechercher par nom, email, téléphone...",value:l,onChange:ae=>c(ae.target.value),className:`mb-2 ${O==="dark"?"bg-dark text-light border-secondary":""}`}),e.jsx(b.Control,{type:"date",value:o,onChange:ae=>u(ae.target.value),className:`mb-2 ${O==="dark"?"bg-dark text-light border-secondary":""}`}),e.jsxs(b.Select,{value:d,onChange:ae=>f(ae.target.value),className:`mb-2 ${O==="dark"?"bg-dark text-light border-secondary":""}`,children:[e.jsx("option",{value:"",children:"Tous les Statuts"}),e.jsx("option",{value:"Connecté",children:"En Ligne"}),e.jsx("option",{value:"Déconnecté",children:"Hors Ligne"}),e.jsx("option",{value:"En attente",children:"En Attente"})]}),e.jsxs(b.Select,{value:p,onChange:ae=>j(ae.target.value),className:`mb-3 ${O==="dark"?"bg-dark text-light border-secondary":""}`,children:[e.jsx("option",{value:"",children:"Tous les Genres"}),e.jsx("option",{value:"Masculin",children:"Masculin"}),e.jsx("option",{value:"Féminin",children:"Féminin"}),e.jsx("option",{value:"Autre",children:"Autre"})]}),e.jsxs(b.Select,{value:y,onChange:ae=>k(ae.target.value),className:`mb-3 ${O==="dark"?"bg-dark text-light border-secondary":""}`,children:[e.jsx("option",{value:"",children:"Tous les classes"}),a.map(ae=>e.jsx("option",{value:ae.matricule,children:ae.name},ae.matricule))]}),e.jsxs($,{type:"submit",variant:"primary",className:"w-100",children:[e.jsx("i",{"data-feather":"file-text",className:"me-2",style:{width:"16px",height:"16px"}}),"Télécharger PDF"]})]}),e.jsx("hr",{}),e.jsxs("h6",{className:"text-success mb-3",children:[e.jsx("i",{"data-feather":"file",className:"me-2",style:{width:"16px",height:"16px"}}),"Fichier Excel"]}),e.jsx(b,{onSubmit:ee,children:e.jsxs($,{type:"submit",variant:"success",className:"w-100",children:[e.jsx("i",{"data-feather":"file",className:"me-2",style:{width:"16px",height:"16px"}}),"Télécharger Excel"]})})]})})]}),e.jsxs($,{variant:"info",className:"d-flex align-items-center",onClick:()=>_(!0),children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Inviter"]}),e.jsxs($,{variant:"success",className:"d-flex align-items-center",onClick:()=>S(!0),children:[e.jsx("i",{"data-feather":"user-plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Nouvel Utilisateur"]})]})]})}),e.jsxs(w.Body,{className:O==="dark"?"bg-dark":"bg-white",children:[e.jsx("div",{className:"mb-4 p-3 rounded",style:{backgroundColor:O==="dark"?"#1a1a1a":"#f8f9fa"},children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-3",children:[e.jsxs(b.Label,{className:`small fw-bold ${O==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"search",className:"me-1",style:{width:"14px",height:"14px"}}),"Recherche Globale"]}),e.jsx(b.Control,{type:"text",placeholder:"Nom, email, téléphone...",value:l,onChange:ae=>c(ae.target.value),onKeyDown:ae=>ae.key==="Enter"&&te(),className:O==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsxs(b.Label,{className:`small fw-bold ${O==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"layers",className:"me-1",style:{width:"14px",height:"14px"}}),"Niveau d'étude"]}),e.jsxs(b.Select,{value:y,onChange:ae=>k(ae.target.value),className:`mb-3 ${O==="dark"?"bg-dark text-light border-secondary":""}`,children:[e.jsx("option",{value:"",children:"Tous les classes"}),a.map(ae=>e.jsx("option",{value:ae.matricule,children:ae.name},ae.matricule))]})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${O==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"14px",height:"14px"}}),"Date"]}),e.jsx(b.Control,{type:"date",value:o,onChange:ae=>u(ae.target.value),className:O==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${O==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"activity",className:"me-1",style:{width:"14px",height:"14px"}}),"Statut"]}),e.jsxs(b.Select,{value:d,onChange:ae=>f(ae.target.value),className:O==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous"}),e.jsx("option",{value:"Connecté",children:"En Ligne"}),e.jsx("option",{value:"Déconnecté",children:"Hors Ligne"}),e.jsx("option",{value:"En attente",children:"En Attente"})]})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${O==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"user",className:"me-1",style:{width:"14px",height:"14px"}}),"Genre"]}),e.jsxs(b.Select,{value:p,onChange:ae=>j(ae.target.value),className:O==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous"}),e.jsx("option",{value:"Masculin",children:"Masculin"}),e.jsx("option",{value:"Féminin",children:"Féminin"}),e.jsx("option",{value:"Autre",children:"Autre"})]})]})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`align-middle ${O==="dark"?"table-dark":""}`,style:{borderRadius:"8px",overflow:"hidden"},children:[e.jsx("thead",{className:"table-primary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center",style:{width:"50px"},children:e.jsx(b.Check,{type:"checkbox",onChange:ve,checked:n.length===s.length&&s.length>0})}),e.jsxs("th",{children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Utilisateur"]}),e.jsxs("th",{className:"d-none d-md-table-cell",children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Classe"]}),e.jsxs("th",{className:"d-none d-md-table-cell",children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Contact"]}),e.jsxs("th",{className:"d-none d-lg-table-cell text-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"16px",height:"16px"}}),"Statut"]}),e.jsxs("th",{className:"text-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"16px",height:"16px"}}),"Actions"]})]})}),e.jsx("tbody",{children:s.length?s.map(ae=>e.jsxs("tr",{className:O==="dark"?"border-secondary":"",children:[e.jsx("td",{className:"text-center",children:e.jsx(b.Check,{type:"checkbox",value:ae.id,checked:n.includes(ae.id),onChange:re})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"bg-primary bg-opacity-10 rounded-circle p-2 me-3",children:ae?.profil_url?e.jsx("img",{src:ae.profil_url,alt:ae.name||"Utilisateur",style:{width:"32px",height:"32px",borderRadius:"50%",objectFit:"cover",border:"2px solid rgba(255, 255, 255, 0.3)"},onError:ye=>{ye.target.style.display="none",ye.target.nextElementSibling.style.display="flex"}}):e.jsx("i",{"data-feather":"user",className:"text-primary",style:{width:"16px",height:"16px"}})}),e.jsxs("div",{children:[e.jsx("div",{className:`fw-bold ${O==="dark"?"text-light":"text-dark"}`,children:ae.name.length>10?ae.name.substring(0,10)+"...":ae.name}),e.jsx("small",{className:O==="dark"?"text-light":"text-muted",title:ae.matricule||"Non spécifié",children:ae.matricule?ae.matricule.length>10?ae.matricule.substring(0,10)+"...":ae.matricule:"Non spécifié"})]})]})}),e.jsx("td",{className:"d-none d-md-table-cell",children:e.jsxs("div",{children:[e.jsxs("div",{className:`small ${O==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"layers",className:"me-1",style:{width:"12px",height:"12px"}}),ae.classroom?.name?ae.classroom?.name?.length>14?ae.classroom?.name?.substring(0,14)+"...":ae.classroom?.name:"Non spécifié"]}),e.jsxs("div",{className:`small ${O==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"book",className:"me-1",style:{width:"12px",height:"12px"}}),ae.classroom?.examen?ae.classroom?.examen?.length>14?ae.classroom.examen.substring(0,14)+"...":ae.classroom?.examen:"Non spécifié"]})]})}),e.jsx("td",{className:"d-none d-md-table-cell",children:e.jsxs("div",{children:[e.jsxs("div",{className:`small ${O==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"mail",className:"me-1",style:{width:"12px",height:"12px"}}),ae.email.length>14?ae.email.substring(0,14)+"...":ae.email]}),e.jsxs("div",{className:`small ${O==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"phone",className:"me-1",style:{width:"12px",height:"12px"}}),ae.code_phone," ",ae.phone||"Non fourni"]})]})}),e.jsx("td",{className:"d-none d-lg-table-cell text-center",children:e.jsxs(oe,{bg:ae.status==="Connecté"?"success":ae.status==="Déconnecté"?"secondary":"warning",className:"px-3 py-2",children:[e.jsx("i",{"data-feather":ae.status==="Connecté"?"check-circle":ae.status==="Déconnecté"?"x-circle":"clock",className:"me-1",style:{width:"12px",height:"12px"}}),ae.status||"Indéfini"]})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{className:"d-flex gap-1 justify-content-center",children:[e.jsx($,{size:"sm",variant:"outline-info",title:"Voir les détails",as:xe,to:`/admin-systeme/show/etudiant/${ae.id}`,children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-warning",title:"Modifier",as:xe,to:`/admin-systeme/edit/etudiant/${ae.id}`,children:e.jsx("i",{"data-feather":"edit",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-danger",title:"Supprimer",onClick:()=>J(ae.id),children:e.jsx("i",{"data-feather":"trash-2",style:{width:"14px",height:"14px"}})})]})})]},ae.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center py-5",children:e.jsxs("div",{className:`${O==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"users",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucun Etudiant trouvé"}),e.jsx("p",{className:"small mb-0",children:"Aucun etudiant ne correspond à vos critères de recherche."})]})]})})})})]})})]})]}),e.jsxs(Y,{show:v,onHide:()=>S(!1),centered:!0,size:"lg",contentClassName:O==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:O==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Ajouter un Etudiant"})}),e.jsxs(b,{onSubmit:ie,children:[e.jsx(Y.Body,{className:O==="dark"?"bg-dark text-light":"",children:e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Nom Complet"}),e.jsx(b.Control,{type:"text",placeholder:"Entrez le nom complet",required:!0,value:P.name,onChange:ae=>q({...P,name:ae.target.value}),isInvalid:!!F.name,className:O==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:F.name})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Adresse Email"}),e.jsx(b.Control,{type:"email",placeholder:"Entrez l'adresse email",required:!0,value:P.email,onChange:ae=>q({...P,email:ae.target.value}),isInvalid:!!F.email,className:O==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:F.email})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"16px",height:"16px"}}),"Niveau d'étude *"]}),e.jsxs(b.Select,{name:"matricule_classroom",value:P.email,onChange:ae=>q({...P,matricule_classroom:ae.target.value}),isInvalid:!!F.matricule_classroom,className:O==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionnez..."}),a.map(ae=>e.jsx("option",{value:ae.matricule,children:ae.name},ae.matricule))]}),e.jsx(b.Control.Feedback,{type:"invalid",className:"d-block",children:F.matricule_classroom})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Mot de Passe"}),e.jsx(b.Control,{type:"password",placeholder:"Entrez le mot de passe",required:!0,onChange:ae=>q({...P,password:ae.target.value}),isInvalid:!!F.password,className:O==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:F.password})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Confirmer le Mot de Passe"}),e.jsx(b.Control,{type:"password",placeholder:"Confirmez le mot de passe",required:!0,onChange:ae=>q({...P,password_confirmation:ae.target.value}),isInvalid:!!F.password_confirmation,className:O==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:F.password_confirmation})]})})]})}),e.jsxs(Y.Footer,{className:O==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>S(!1),children:"Annuler"}),e.jsxs($,{type:"submit",variant:"success",children:[e.jsx("i",{"data-feather":"save",className:"me-2",style:{width:"16px",height:"16px"}}),"Enregistrer"]})]})]})]}),e.jsxs(Y,{show:C,onHide:()=>_(!1),centered:!0,contentClassName:O==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:O==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Inviter un Etudiant"})}),e.jsxs(b,{onSubmit:fe,children:[e.jsx(Y.Body,{className:O==="dark"?"bg-dark text-light":"",children:e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Adresse Email"}),e.jsx(b.Control,{type:"email",placeholder:"Entrez l'email de l'invité",name:"email",required:!0,value:G.email,onChange:ae=>se({...G,email:ae.target.value}),isInvalid:!!F.email,className:O==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:F.email})]})}),e.jsxs(Y.Footer,{className:O==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>_(!1),children:"Fermer"}),e.jsxs($,{type:"submit",variant:"primary",children:[e.jsx("i",{"data-feather":"send",className:"me-2",style:{width:"16px",height:"16px"}}),"Envoyer"]})]})]})]}),e.jsxs(Y,{show:A,onHide:()=>D(!1),centered:!0,contentClassName:O==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:O==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Confirmation de Suppression"})}),e.jsxs(Y.Body,{className:O==="dark"?"bg-dark text-light":"",children:[e.jsxs("p",{children:["Êtes-vous sûr de vouloir supprimer ",M?"cet utilisateur":"ces utilisateurs"," ?"]}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),"Cette action est irréversible."]})]}),e.jsxs(Y.Footer,{className:O==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>D(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:ge,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:I,onClose:()=>H(!1),delay:3e3,autohide:!0,bg:U==="success"?"success":"danger",className:O==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${U==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":U==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:O==="dark"?"bg-dark text-light":"",children:z})]})})]})})}function b4e(){const{id:s}=is(),t=Ut(),[a,r]=x.useState(null),[n,i]=x.useState(!0),[l,c]=x.useState(null),[o,u]=x.useState("light"),[d,f]=x.useState(!1),[p,j]=x.useState(""),[y,k]=x.useState("success"),[v,S]=x.useState(!1);x.useEffect(()=>{const I=document.documentElement.getAttribute("data-theme")||"light";u(I);const H=new MutationObserver(()=>{const z=document.documentElement.getAttribute("data-theme")||"light";u(z)});return H.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>H.disconnect()},[]);const C=(I,H="success")=>{j(I),k(H),f(!0)};x.useEffect(()=>{s&&(async()=>{try{i(!0);const H=await he.get(`/admin-systeme/show/etudiant/${s}`);r(H.data.user)}catch(H){c("Erreur lors du chargement de l'étudiant"),console.error("Erreur:",H)}finally{i(!1)}})()},[s]),x.useEffect(()=>{We.replace()},[a]);const _=async()=>{try{await he.patch(`/admin-systeme/toggle-role/etudiant/${s}`);const I=await he.get(`/admin-systeme/show/etudiant/${s}`);r(I.data.user),C("Rôle de l'étudiant mis à jour","success")}catch(I){console.error(I),C("Erreur lors de la mise à jour du rôle","danger")}},A=async()=>{try{await he.delete(`/admin-systeme/destroy/etudiant/${s}`),C("Étudiant supprimé avec succès","success"),setTimeout(()=>{t("/admin-systeme/view/etudiants")},1500)}catch(I){console.error(I),C(I.response?.data?.message||"Erreur lors de la suppression","danger")}S(!1)},D=I=>I?new Date(I).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Non renseigné",M=I=>({Masculin:"primary",Féminin:"info",Autre:"secondary"})[I]||"secondary",L=I=>I===1?"success":"warning",F=I=>I===1?"Étudiant Actif":"En Zone d'Attente",Q=I=>{switch(I){case"Connecté":return"success";case"Déconnecté":return"secondary";case"En attente":return"warning";default:return"secondary"}};return n?e.jsx(Vt,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des informations de l'étudiant..."})]})}):l||!a?e.jsxs(Vt,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),l||"Étudiant introuvable"]}),e.jsx("div",{className:"d-flex gap-2",children:e.jsxs($,{variant:"secondary",as:xe,to:"/admin-systeme/view/etudiants",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]})})]}):e.jsxs(Vt,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:"/admin-systeme/view/etudiants",className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsxs("div",{children:[e.jsx("h1",{className:`h3 mb-0 ${o==="dark"?"text-light":"text-dark"}`,children:a.name}),e.jsxs("div",{className:"d-flex align-items-center gap-2 mt-1",children:[e.jsx("small",{className:"text-muted",children:a.matricule}),e.jsxs(oe,{bg:L(a.role),className:"px-2 py-1",children:[e.jsx("i",{"data-feather":a.role===1?"check-circle":"pause-circle",className:"me-1",style:{width:"12px",height:"12px"}}),F(a.role)]})]})]})]})}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:a.role===1?"warning":"success",onClick:_,title:"Changer le rôle",children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"16px",height:"16px"}}),a.role===1?"Mettre en attente":"Activer"]}),e.jsxs($,{variant:"primary",as:xe,to:`/admin-systeme/edit/etudiant/${s}`,children:[e.jsx("i",{"data-feather":"edit",className:"me-2",style:{width:"16px",height:"16px"}}),"Modifier"]}),e.jsxs($,{variant:"danger",onClick:()=>S(!0),children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsxs(pe,{children:[e.jsxs(T,{lg:8,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"20px",height:"20px"}}),"Profil de l'étudiant"]})}),e.jsxs(w.Body,{children:[e.jsxs(pe,{className:"align-items-center mb-4",children:[e.jsx(T,{md:3,className:"text-center",children:e.jsxs("div",{className:"position-relative d-inline-block",children:[a?.profil_url?e.jsx(Mt,{src:a.profil_url,alt:"Photo de profil",className:"rounded-circle",width:"120",height:"120",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-light d-flex align-items-center justify-content-center border",style:{width:"120px",height:"120px"},children:e.jsx("i",{"data-feather":"user",className:"text-muted",style:{width:"48px",height:"48px"}})}),e.jsx(oe,{bg:L(a.role),className:"position-absolute bottom-0 end-0 rounded-circle p-2",style:{transform:"translate(25%, 25%)"},children:e.jsx("i",{"data-feather":a.role===1?"check":"pause",style:{width:"12px",height:"12px"}})})]})}),e.jsxs(T,{md:9,children:[e.jsx("h4",{className:"mb-2",children:a?.name||"Nom non renseigné"}),e.jsxs("p",{className:"text-muted mb-2",children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),a?.email||"Email non renseigné"]}),a?.phone&&e.jsxs("p",{className:"text-muted mb-2",children:[e.jsx("i",{"data-feather":"phone",className:"me-2",style:{width:"16px",height:"16px"}}),a.code_phone&&`${a.code_phone} `,a.phone]}),e.jsxs("div",{className:"d-flex align-items-center flex-wrap gap-2",children:[e.jsx(oe,{bg:L(a.role),className:"me-2",children:F(a.role)}),a?.gender&&e.jsx(oe,{bg:M(a.gender),children:a.gender}),e.jsx(oe,{bg:Q(a.status||"En attente"),children:a.status||"En attente"})]})]})]}),e.jsx("hr",{className:"my-4"}),e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Nom complet :"}),e.jsx("span",{className:"fw-medium",children:a?.name||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Email :"}),e.jsx("span",{className:"fw-medium",children:a?.email||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Matricule :"}),e.jsx("span",{className:"fw-medium",children:e.jsx("code",{className:"px-2 py-1 bg-primary bg-opacity-10 rounded text-primary",children:a?.matricule||"Non renseigné"})})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Date de naissance :"}),e.jsx("span",{className:"fw-medium",children:D(a?.birthday)})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Genre :"}),e.jsx("span",{className:"fw-medium",children:a?.gender||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Téléphone :"}),e.jsxs("span",{className:"fw-medium",children:[a?.code_phone," ",a?.phone||"Non renseigné"]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Inscrit depuis :"}),e.jsx("span",{className:"fw-medium",children:D(a?.created_at)})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Dernière mise à jour :"}),e.jsx("span",{className:"fw-medium",children:D(a?.updated_at)})]})})]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations académiques"]})}),e.jsx(w.Body,{children:a.classroom?e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Classe :"}),e.jsx("span",{className:"fw-medium",children:a.classroom.name})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Matricule classe :"}),e.jsx("span",{className:"fw-medium",children:e.jsx("code",{className:"px-2 py-1 bg-info bg-opacity-10 rounded text-info",children:a.classroom.matricule})})]})}),a.classroom.description&&e.jsx(T,{md:12,className:"mb-3",children:e.jsxs("div",{children:[e.jsx("span",{className:"text-muted d-block mb-1",children:"Description de la classe :"}),e.jsx("span",{className:"fw-medium",children:a.classroom.description})]})})]}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"text-warning mb-2",style:{width:"32px",height:"32px"}}),e.jsx("p",{className:"text-muted mb-0",children:"Aucune classe assignée à cet étudiant"})]})})]})]}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"20px",height:"20px"}}),"Actions rapides"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:a.role===1?"warning":"success",onClick:_,children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"18px",height:"18px"}}),a.role===1?"Mettre en attente":"Activer l'étudiant"]}),e.jsxs($,{variant:"primary",as:xe,to:`/admin-systeme/edit/etudiant/${s}`,children:[e.jsx("i",{"data-feather":"edit-2",className:"me-2",style:{width:"18px",height:"18px"}}),"Modifier le profil"]}),e.jsxs($,{variant:"outline-info",as:xe,to:"/admin-systeme/view/etudiants",children:[e.jsx("i",{"data-feather":"list",className:"me-2",style:{width:"18px",height:"18px"}}),"Tous les étudiants"]}),e.jsxs($,{variant:"outline-primary",as:xe,to:"/admin-systeme/dashboard",children:[e.jsx("i",{"data-feather":"grid",className:"me-2",style:{width:"18px",height:"18px"}}),"Retour au Dashboard"]})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"20px",height:"20px"}}),"Statut du compte"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("div",{className:`${a.role===1?"text-success":"text-warning"} mb-2`,children:e.jsx("i",{"data-feather":a.role===1?"check-circle":"pause-circle",style:{width:"32px",height:"32px"}})}),e.jsx("h6",{className:"mb-0",children:"État du compte"}),e.jsx("h4",{className:`${a.role===1?"text-success":"text-warning"} mb-0`,children:F(a.role)}),e.jsx("small",{className:"text-muted",children:a.role===1?"Accès complet aux fonctionnalités":"Accès limité - En attente d'activation"})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Profil complété :"}),e.jsx("span",{className:"fw-bold text-success",children:a?.profil_url&&a?.birthday&&a?.phone&&a?.gender?"100%":a?.name&&a?.email&&a?.gender?"85%":a?.name&&a?.email?"70%":"50%"})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Dernière connexion :"}),e.jsx("span",{children:D(a?.updated_at)})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Type de compte :"}),e.jsx(oe,{bg:"info",children:"Étudiant"})]})]})]})]}),a.classroom&&e.jsxs(w,{className:`border-0 shadow-sm ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"home",className:"me-2 text-info",style:{width:"20px",height:"20px"}}),"Classe assignée"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("i",{"data-feather":"book",className:"text-info me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:a.classroom.name}),e.jsx("div",{className:"text-muted",children:a.classroom.matricule})]})]}),a.classroom.description&&e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("i",{"data-feather":"info",className:"text-info me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:"Description"}),e.jsx("div",{className:"text-muted",children:a.classroom.description})]})]})]})})]})]})]}),e.jsxs(Y,{show:v,onHide:()=>S(!1),centered:!0,contentClassName:o==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:o==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Confirmation de Suppression"})}),e.jsxs(Y.Body,{className:o==="dark"?"bg-dark text-light":"",children:[e.jsx("p",{children:"Êtes-vous sûr de vouloir supprimer cet étudiant ?"}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),`Cette action est irréversible. L'étudiant "`,a.name,'" sera définitivement supprimé du système.']})]}),e.jsxs(Y.Footer,{className:o==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>S(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:A,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer définitivement"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:d,onClose:()=>f(!1),delay:3e3,autohide:!0,bg:y==="success"?"success":"danger",className:o==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${y==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":y==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:o==="dark"?"bg-dark text-light":"",children:p})]})})]})}function N4e(){const{id:s}=is(),t=Ut(),[a,r]=x.useState(null),[n,i]=x.useState([]),[l,c]=x.useState(!0),[o,u]=x.useState(!1),[d,f]=x.useState(null),[p,j]=x.useState({}),[y,k]=x.useState("light"),[v,S]=x.useState(!1),[C,_]=x.useState(!1),[A,D]=x.useState(""),[M,L]=x.useState("success"),[F,Q]=x.useState({name:"",email:"",birthday:"",gender:"",code_phone:"",phone:"",matricule_classroom:"",profil:null}),[I,H]=x.useState({password:"",password_confirmation:""}),[z,K]=x.useState(null);x.useEffect(()=>{const O=document.documentElement.getAttribute("data-theme")||"light";k(O);const W=new MutationObserver(()=>{const Z=document.documentElement.getAttribute("data-theme")||"light";k(Z)});return W.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>W.disconnect()},[]);const U=(O,W="success")=>{D(O),L(W),_(!0)};x.useEffect(()=>{s&&(async()=>{try{c(!0);const[W,Z]=await Promise.all([he.get(`/admin-systeme/edit/etudiant/${s}`),he.get("/admin-systeme/view/etudiant")]),te=W.data.user;r(te),i(Z.data.classrooms||[]),Q({name:te.name||"",email:te.email||"",birthday:te.birthday||"",gender:te.gender||"",code_phone:te.code_phone||"",phone:te.phone||"",matricule_classroom:te.matricule_classroom||"",profil:null}),te.profil_url&&K(te.profil_url)}catch(W){f("Erreur lors du chargement des données"),console.error("Erreur:",W)}finally{c(!1)}})()},[s]),x.useEffect(()=>{We.replace()},[a]);const V=O=>{const{name:W,value:Z}=O.target;Q(te=>({...te,[W]:Z})),p[W]&&j(te=>({...te,[W]:null}))},P=O=>{const{name:W,value:Z}=O.target;H(te=>({...te,[W]:Z}))},q=O=>{const W=O.target.files[0];if(W){if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(W.type)){j(fe=>({...fe,profil:"Format de fichier non supporté. Utilisez JPG, PNG ou WEBP."}));return}if(W.size>2097152){j(fe=>({...fe,profil:"La taille du fichier ne doit pas dépasser 2MB."}));return}Q(fe=>({...fe,profil:W}));const ie=new FileReader;ie.onload=fe=>{K(fe.target.result)},ie.readAsDataURL(W),p.profil&&j(fe=>({...fe,profil:null}))}},G=async O=>{O.preventDefault();try{u(!0),f(null),j({});const W=new FormData;Object.keys(F).forEach(te=>{te==="profil"?F.profil instanceof File&&W.append("profil",F.profil):F[te]!==null&&F[te]!==""&&W.append(te,F[te])}),W.append("_method","PUT"),(await he.post(`/admin-systeme/update/etudiant/${s}`,W,{headers:{"Content-Type":"multipart/form-data"}})).data.status==="success"&&(U("Étudiant mis à jour avec succès !","success"),setTimeout(()=>{t(`/admin-systeme/show/etudiant/${s}`)},2e3))}catch(W){W.response?.data?.errors?(j(W.response.data.errors),U("Erreur de validation","danger")):(f(W.response?.data?.message||"Erreur lors de la mise à jour"),U("Erreur lors de la mise à jour","danger"))}finally{u(!1)}},se=async O=>{if(O.preventDefault(),!I.password||!I.password_confirmation){U("Veuillez remplir tous les champs du mot de passe","danger");return}if(I.password!==I.password_confirmation){U("Les mots de passe ne correspondent pas","danger");return}try{u(!0),f(null),(await he.put(`/admin-systeme/update/etudiant/${s}`,I)).data.status==="success"&&(U("Mot de passe mis à jour avec succès !","success"),S(!1),H({password:"",password_confirmation:""}))}catch(W){W.response?.data?.errors?j(W.response.data.errors):U(W.response?.data?.message||"Erreur lors de la mise à jour du mot de passe","danger")}finally{u(!1)}};return l?e.jsx(Vt,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des données..."})]})}):d&&!a?e.jsxs(Vt,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),d]}),e.jsx("div",{className:"d-flex gap-2",children:e.jsxs($,{variant:"secondary",as:xe,to:"/admin-systeme/view/etudiants",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]})})]}):e.jsxs(Vt,{children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:`/admin-systeme/show/etudiant/${s}`,className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsx("h1",{className:"h3 mb-0",children:"Modifier l'étudiant"})]}),e.jsx("p",{className:"text-muted mb-0",children:"Modification des informations de l'étudiant"})]})}),d&&e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),d]}),e.jsx(b,{onSubmit:G,children:e.jsxs(pe,{children:[e.jsx(T,{lg:8,className:"mb-4",children:e.jsxs(w,{className:`border-0 shadow-sm ${y==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations personnelles"]})}),e.jsxs(w.Body,{children:[e.jsx(pe,{className:"mb-4",children:e.jsxs(T,{md:3,className:"text-center",children:[e.jsxs("div",{className:"position-relative d-inline-block mb-3",children:[z?e.jsx(Mt,{src:z,alt:"Photo de profil",className:"rounded-circle",width:"120",height:"120",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-light d-flex align-items-center justify-content-center border",style:{width:"120px",height:"120px"},children:e.jsx("i",{"data-feather":"user",className:"text-muted",style:{width:"48px",height:"48px"}})}),e.jsx($,{variant:"primary",size:"sm",className:"position-absolute bottom-0 end-0 rounded-circle p-2",style:{transform:"translate(25%, 25%)"},onClick:()=>document.getElementById("profileImage").click(),children:e.jsx("i",{"data-feather":"camera",style:{width:"12px",height:"12px"}})})]}),e.jsx("input",{type:"file",id:"profileImage",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:q,style:{display:"none"}}),e.jsx("p",{className:"small text-muted mb-0",children:"JPG, PNG, WEBP - Max 2MB"}),p.profil&&e.jsx("div",{className:"text-danger small mt-1",children:p.profil})]})}),e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Nom complet *"]}),e.jsx(b.Control,{type:"text",name:"name",value:F.name,onChange:V,placeholder:"Nom complet de l'étudiant",isInvalid:!!p.name,className:y==="dark"?"bg-dark text-light border-secondary":"",required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.name?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Email *"]}),e.jsx(b.Control,{type:"email",name:"email",value:F.email,onChange:V,placeholder:"nom@email.com",isInvalid:!!p.email,className:y==="dark"?"bg-dark text-light border-secondary":"",required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.email?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"calendar",className:"me-2",style:{width:"16px",height:"16px"}}),"Date de naissance"]}),e.jsx(b.Control,{type:"date",name:"birthday",value:F.birthday,onChange:V,isInvalid:!!p.birthday,className:y==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.birthday?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"16px",height:"16px"}}),"Genre"]}),e.jsxs(b.Select,{name:"gender",value:F.gender,onChange:V,isInvalid:!!p.gender,className:y==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Sélectionner..."}),e.jsx("option",{value:"Masculin",children:"Masculin"}),e.jsx("option",{value:"Féminin",children:"Féminin"}),e.jsx("option",{value:"Autre",children:"Autre"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.gender?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"flag",className:"me-2",style:{width:"16px",height:"16px"}}),"Indicatif pays"]}),e.jsxs(b.Select,{name:"code_phone",value:F.code_phone,onChange:V,isInvalid:!!p.code_phone,className:y==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Sélectionner..."}),e.jsx("option",{value:"+237",children:"+237 (Cameroun)"}),e.jsx("option",{value:"+33",children:"+33 (France)"}),e.jsx("option",{value:"+235",children:"+235 (Tchad)"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.code_phone?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"phone",className:"me-2",style:{width:"16px",height:"16px"}}),"Numéro de téléphone"]}),e.jsx(b.Control,{type:"tel",name:"phone",value:F.phone,onChange:V,placeholder:"690123456",isInvalid:!!p.phone,className:y==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.phone?.[0]}),e.jsx(b.Text,{className:"text-muted",children:"Numéro de contact de l'étudiant"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"16px",height:"16px"}}),"Classe *"]}),e.jsxs(b.Select,{name:"matricule_classroom",value:F.matricule_classroom,onChange:V,isInvalid:!!p.matricule_classroom,className:y==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionner une classe"}),n.map(O=>e.jsx("option",{value:O.matricule,children:O.name},O.matricule))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.matricule_classroom?.[0]})]})})]}),e.jsx("hr",{className:"my-4"}),e.jsx(pe,{children:e.jsx(T,{md:12,children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs($,{variant:"outline-warning",onClick:()=>S(!0),className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"lock",className:"me-2",style:{width:"16px",height:"16px"}}),"Changer le mot de passe"]}),e.jsxs("div",{children:[e.jsx($,{variant:"outline-secondary",as:xe,to:`/admin-systeme/show/etudiant/${s}`,className:"me-2",disabled:o,children:"Annuler"}),e.jsx($,{variant:"primary",type:"submit",disabled:o,className:"d-flex align-items-center",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner-border spinner-border-sm me-2",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),"Mise à jour..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ss,{icon:"save",size:16,className:"me-2"}),"Enregistrer les Modifications"]})})]})]})})})]})]})}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${y==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${y==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"help-circle",className:"me-2 text-info",style:{width:"20px",height:"20px"}}),"Conseils"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"user-check",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Utilisez le nom complet tel qu'il apparaît sur les documents officiels"})]}),e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"mail",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"L'email sera utilisé pour les notifications et communications importantes"})]}),e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"book",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"La classe détermine les matières et cours accessibles à l'étudiant"})]}),e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{"data-feather":"phone",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Le numéro sera utilisé pour les urgences et confirmations"})]})]})})]}),a&&e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${y==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${y==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"info",className:"me-2 text-success",style:{width:"20px",height:"20px"}}),"Informations actuelles"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Matricule"}),e.jsx("code",{className:"px-2 py-1 bg-primary bg-opacity-10 rounded text-primary small",children:a.matricule})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Statut"}),e.jsx("span",{className:`badge ${a.role===1?"bg-success":"bg-warning"}`,children:a.role===1?"Actif":"En attente"})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Inscrit le"}),e.jsx("span",{className:"small",children:new Date(a.created_at).toLocaleDateString("fr-FR")})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsx("span",{className:"small",children:"Dernière modification"}),e.jsx("span",{className:"small",children:new Date(a.updated_at).toLocaleDateString("fr-FR")})]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${y==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${y==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2 text-warning",style:{width:"20px",height:"20px"}}),"Actions supplémentaires"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"outline-info",as:xe,to:`/admin-systeme/show/etudiant/${s}`,children:[e.jsx("i",{"data-feather":"eye",className:"me-2",style:{width:"16px",height:"16px"}}),"Voir le profil"]}),e.jsxs($,{variant:"outline-primary",as:xe,to:"/admin-systeme/view/etudiants",children:[e.jsx("i",{"data-feather":"users",className:"me-2",style:{width:"16px",height:"16px"}}),"Tous les étudiants"]})]})})]})]})]})}),e.jsxs(Y,{show:v,onHide:()=>S(!1),centered:!0,contentClassName:y==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{closeButton:!0,className:y==="dark"?"bg-dark text-light border-secondary":"",children:e.jsxs(Y.Title,{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"lock",className:"me-2",style:{width:"20px",height:"20px"}}),"Changer le mot de passe"]})}),e.jsxs(b,{onSubmit:se,children:[e.jsxs(Y.Body,{className:y==="dark"?"bg-dark text-light":"",children:[e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Nouveau mot de passe"}),e.jsx(b.Control,{type:"password",name:"password",value:I.password,onChange:P,placeholder:"Entrez le nouveau mot de passe",isInvalid:!!p.password,className:y==="dark"?"bg-dark text-light border-secondary":"",required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.password?.[0]}),e.jsx(b.Text,{className:"text-muted",children:"Minimum 8 caractères avec majuscules, minuscules et chiffres"})]}),e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Confirmer le mot de passe"}),e.jsx(b.Control,{type:"password",name:"password_confirmation",value:I.password_confirmation,onChange:P,placeholder:"Confirmez le nouveau mot de passe",className:y==="dark"?"bg-dark text-light border-secondary":"",required:!0})]})]}),e.jsxs(Y.Footer,{className:y==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>S(!1),disabled:o,children:"Annuler"}),e.jsx($,{variant:"primary",type:"submit",disabled:o,children:o?e.jsxs(e.Fragment,{children:[e.jsx(tt,{animation:"border",size:"sm",className:"me-2"}),"Mise à jour..."]}):"Mettre à jour"})]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:C,onClose:()=>_(!1),delay:3e3,autohide:!0,bg:M==="success"?"success":"danger",className:y==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${M==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":M==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:y==="dark"?"bg-dark text-light":"",children:A})]})})]})}function w4e(){const[s,t]=x.useState([]),[a,r]=x.useState([]),[n,i]=x.useState([]),[l,c]=x.useState(""),[o,u]=x.useState(""),[d,f]=x.useState(""),[p,j]=x.useState(""),[y,k]=x.useState(""),[v,S]=x.useState(!1),[C,_]=x.useState(!1),[A,D]=x.useState(!1),[M,L]=x.useState(null),[F,Q]=x.useState({}),[I,H]=x.useState(!1),[z,K]=x.useState(""),[U,V]=x.useState("success"),[P,q]=x.useState({name:"",email:"",matricule_classroom:"",password:"",password_confirmation:""}),[G,se]=x.useState({email:"",matricule_classroom:"",role:"0"}),[O,W]=x.useState("light");x.useEffect(()=>{const ae=document.documentElement.getAttribute("data-theme")||"light";W(ae);const ye=new MutationObserver(()=>{const st=document.documentElement.getAttribute("data-theme")||"light";W(st)});return ye.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>ye.disconnect()},[]);const Z=(ae,ye="success")=>{K(ae),V(ye),H(!0)},te=x.useCallback(async()=>{try{const ae={};l.trim()&&(ae.search=l.trim()),o&&(ae.created_at=o),d&&(ae.status=d),p&&(ae.gender=p),y&&(ae.matricule_classroom=y);const ye=await he.get("/admin-systeme/view/etudiant-espace-attente",{params:ae});t(ye.data.users||[]),r(ye.data.classrooms||[])}catch(ae){console.error("Erreur lors de la récupération des utilisateurs",ae)}},[l,o,d,p]);x.useEffect(()=>{We.replace(),te()},[te,i]),x.useEffect(()=>{We.replace()},[s,n]);const ie=async ae=>{ae.preventDefault(),Q({});try{await he.post("/admin-systeme/store/etudiant-espace-attente",P),te(),S(!1),q({name:"",email:"",matricule_classroom:"",password:"",password_confirmation:""}),Z("Utilisateur ajouté avec succès","success")}catch(ye){ye.response?.status===422?(Q(ye.response.data.errors||{}),Z("Erreur de validation","danger")):(console.error(ye),Z("Une erreur inattendue s'est produite","danger"))}},fe=async ae=>{ae.preventDefault(),Q({});try{const ye=await he.post("/admin-systeme/invitation/users",G);Z(ye.data.message||"Invitation envoyée avec succès","success"),_(!1),se({email:"",matricule_classroom:"",role:"0"})}catch(ye){ye.response?.status===422?(Q(ye.response.data.errors||{}),Z("Erreur lors de l'envoi de l'invitation","danger")):(console.error("Erreur d'invitation",ye),Z("Une erreur inattendue s'est produite lors de l'invitation","danger"))}},J=(ae=null)=>{L(ae),D(!0)},ge=async()=>{try{const ae=M?[M]:n;M?await he.delete(`/admin-systeme/destroy/etudiant-espace-attente/${M}`):await he.post("/admin-systeme/destroy-group/etudiant-espace-attente",{ids:ae}),te(),D(!1),i([]),L(null),Z("Utilisateur(s) supprimé(s) avec succès","success")}catch(ae){console.error(ae),Z("Erreur lors de la suppression","danger")}},re=ae=>{const{value:ye,checked:st}=ae.target,He=parseInt(ye);i(st?ke=>[...ke,He]:ke=>ke.filter(we=>we!==He))},ve=ae=>{ae.target.checked?i(s.map(ye=>ye.id)):i([])},Oe=async ae=>{ae.preventDefault();try{const ye=new URLSearchParams;l.trim()&&ye.append("search",l.trim()),o&&ye.append("created_at",o),d&&ye.append("status",d),p&&ye.append("gender",p),y&&ye.append("matricule_classroom",y);const st=await he.get(`/admin-systeme/download/liste/etudiant-espace-attente/pdf?${ye.toString()}`,{responseType:"blob"}),He=`rapport_utilisateurs_(etudiants_espace_attente)_${new Date().toISOString().slice(0,10)}.pdf`;Ea(st.data,He),Z("Le rapport PDF est en cours de téléchargement","success")}catch(ye){console.error("Erreur de téléchargement PDF:",ye),Z("Échec du téléchargement PDF","danger")}},ee=async ae=>{ae.preventDefault();try{const ye=new URLSearchParams;l.trim()&&ye.append("search",l.trim()),o&&ye.append("created_at",o),d&&ye.append("status",d),p&&ye.append("gender",p),y&&ye.append("matricule_classroom",y);const st=await he.get(`/admin-systeme/download/liste/etudiant-espace-attente/excel?${ye.toString()}`,{responseType:"blob"}),He=`rapport_utilisateurs_(etudiants_espace_attente)_${new Date().toISOString().slice(0,10)}.xlsx`;Ea(st.data,He),Z("Le fichier Excel est en cours de téléchargement","success")}catch(ye){console.error("Erreur de téléchargement Excel:",ye),Z("Échec du téléchargement Excel","danger")}},me=s.filter(ae=>ae.status==="Connecté"),Xe=s.filter(ae=>ae.status==="En attente"),Se=s.filter(ae=>ae.status==="Déconnecté");return e.jsx(Vt,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${O==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"users",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${O==="dark"?"text-light":"text-dark"}`,children:"Gestion des Etudiants En Espace Attente"}),e.jsx("p",{className:`mb-0 ${O==="dark"?"text-light":"text-muted"}`,children:"Institut de Formation - Administration centrale du système"})]})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${O==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${O==="dark"?"text-light":"text-dark"}`,children:s.length}),e.jsx("small",{className:O==="dark"?"text-light":"text-muted",children:"Total Etudiants"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"users",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${O==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:me.length}),e.jsx("small",{className:O==="dark"?"text-light":"text-muted",children:"En Ligne"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"activity",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${O==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-warning",children:Xe.length}),e.jsx("small",{className:O==="dark"?"text-light":"text-muted",children:"En Attente"})]}),e.jsx("div",{className:"text-warning",children:e.jsx("i",{"data-feather":"clock",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${O==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-danger",children:Se.length}),e.jsx("small",{className:O==="dark"?"text-light":"text-muted",children:"Hors Ligne"})]}),e.jsx("div",{className:"text-danger",children:e.jsx("i",{"data-feather":"x-circle",style:{width:"24px",height:"24px"}})})]})})})})]})]}),e.jsxs(w,{className:`shadow-sm border-0 ${O==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${O==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"users",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${O==="dark"?"text-light":"text-dark"}`,children:"Etudiants"})]}),e.jsxs("div",{className:"d-flex gap-2 mt-2 mt-md-0",children:[n.length>0&&e.jsxs($,{variant:"danger",className:"d-flex align-items-center",onClick:()=>J(),children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer (",n.length,")"]}),e.jsxs(at,{children:[e.jsxs(at.Toggle,{variant:"outline-primary",className:"d-flex align-items-center",id:"dropdown-export",children:[e.jsx("i",{"data-feather":"download",className:"me-2",style:{width:"16px",height:"16px"}}),"Exporter les Données"]}),e.jsx(at.Menu,{className:"shadow-lg border-0",style:{minWidth:"350px"},children:e.jsxs("div",{className:"p-3",children:[e.jsxs("h6",{className:"text-primary mb-3",children:[e.jsx("i",{"data-feather":"file-text",className:"me-2",style:{width:"16px",height:"16px"}}),"Rapport PDF"]}),e.jsxs(b,{onSubmit:Oe,className:"mb-4",children:[e.jsx(b.Control,{type:"text",placeholder:"Rechercher par nom, email, téléphone...",value:l,onChange:ae=>c(ae.target.value),className:`mb-2 ${O==="dark"?"bg-dark text-light border-secondary":""}`}),e.jsx(b.Control,{type:"date",value:o,onChange:ae=>u(ae.target.value),className:`mb-2 ${O==="dark"?"bg-dark text-light border-secondary":""}`}),e.jsxs(b.Select,{value:d,onChange:ae=>f(ae.target.value),className:`mb-2 ${O==="dark"?"bg-dark text-light border-secondary":""}`,children:[e.jsx("option",{value:"",children:"Tous les Statuts"}),e.jsx("option",{value:"Connecté",children:"En Ligne"}),e.jsx("option",{value:"Déconnecté",children:"Hors Ligne"}),e.jsx("option",{value:"En attente",children:"En Attente"})]}),e.jsxs(b.Select,{value:p,onChange:ae=>j(ae.target.value),className:`mb-3 ${O==="dark"?"bg-dark text-light border-secondary":""}`,children:[e.jsx("option",{value:"",children:"Tous les Genres"}),e.jsx("option",{value:"Masculin",children:"Masculin"}),e.jsx("option",{value:"Féminin",children:"Féminin"}),e.jsx("option",{value:"Autre",children:"Autre"})]}),e.jsxs(b.Select,{value:y,onChange:ae=>k(ae.target.value),className:`mb-3 ${O==="dark"?"bg-dark text-light border-secondary":""}`,children:[e.jsx("option",{value:"",children:"Tous les classes"}),a.map(ae=>e.jsx("option",{value:ae.matricule,children:ae.name},ae.matricule))]}),e.jsxs($,{type:"submit",variant:"primary",className:"w-100",children:[e.jsx("i",{"data-feather":"file-text",className:"me-2",style:{width:"16px",height:"16px"}}),"Télécharger PDF"]})]}),e.jsx("hr",{}),e.jsxs("h6",{className:"text-success mb-3",children:[e.jsx("i",{"data-feather":"file",className:"me-2",style:{width:"16px",height:"16px"}}),"Fichier Excel"]}),e.jsx(b,{onSubmit:ee,children:e.jsxs($,{type:"submit",variant:"success",className:"w-100",children:[e.jsx("i",{"data-feather":"file",className:"me-2",style:{width:"16px",height:"16px"}}),"Télécharger Excel"]})})]})})]}),e.jsxs($,{variant:"info",className:"d-flex align-items-center",onClick:()=>_(!0),children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Inviter"]}),e.jsxs($,{variant:"success",className:"d-flex align-items-center",onClick:()=>S(!0),children:[e.jsx("i",{"data-feather":"user-plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Nouvel Utilisateur"]})]})]})}),e.jsxs(w.Body,{className:O==="dark"?"bg-dark":"bg-white",children:[e.jsx("div",{className:"mb-4 p-3 rounded",style:{backgroundColor:O==="dark"?"#1a1a1a":"#f8f9fa"},children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-3",children:[e.jsxs(b.Label,{className:`small fw-bold ${O==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"search",className:"me-1",style:{width:"14px",height:"14px"}}),"Recherche Globale"]}),e.jsx(b.Control,{type:"text",placeholder:"Nom, email, téléphone...",value:l,onChange:ae=>c(ae.target.value),onKeyDown:ae=>ae.key==="Enter"&&te(),className:O==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsxs(b.Label,{className:`small fw-bold ${O==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"layers",className:"me-1",style:{width:"14px",height:"14px"}}),"Niveau d'étude"]}),e.jsxs(b.Select,{value:y,onChange:ae=>k(ae.target.value),className:`mb-3 ${O==="dark"?"bg-dark text-light border-secondary":""}`,children:[e.jsx("option",{value:"",children:"Tous les classes"}),a.map(ae=>e.jsx("option",{value:ae.matricule,children:ae.name},ae.matricule))]})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${O==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"14px",height:"14px"}}),"Date"]}),e.jsx(b.Control,{type:"date",value:o,onChange:ae=>u(ae.target.value),className:O==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${O==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"activity",className:"me-1",style:{width:"14px",height:"14px"}}),"Statut"]}),e.jsxs(b.Select,{value:d,onChange:ae=>f(ae.target.value),className:O==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous"}),e.jsx("option",{value:"Connecté",children:"En Ligne"}),e.jsx("option",{value:"Déconnecté",children:"Hors Ligne"}),e.jsx("option",{value:"En attente",children:"En Attente"})]})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${O==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"user",className:"me-1",style:{width:"14px",height:"14px"}}),"Genre"]}),e.jsxs(b.Select,{value:p,onChange:ae=>j(ae.target.value),className:O==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous"}),e.jsx("option",{value:"Masculin",children:"Masculin"}),e.jsx("option",{value:"Féminin",children:"Féminin"}),e.jsx("option",{value:"Autre",children:"Autre"})]})]})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`align-middle ${O==="dark"?"table-dark":""}`,style:{borderRadius:"8px",overflow:"hidden"},children:[e.jsx("thead",{className:"table-primary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center",style:{width:"50px"},children:e.jsx(b.Check,{type:"checkbox",onChange:ve,checked:n.length===s.length&&s.length>0})}),e.jsxs("th",{children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Utilisateur"]}),e.jsxs("th",{className:"d-none d-md-table-cell",children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Classe"]}),e.jsxs("th",{className:"d-none d-md-table-cell",children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Contact"]}),e.jsxs("th",{className:"d-none d-lg-table-cell text-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"16px",height:"16px"}}),"Statut"]}),e.jsxs("th",{className:"text-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"16px",height:"16px"}}),"Actions"]})]})}),e.jsx("tbody",{children:s.length?s.map(ae=>e.jsxs("tr",{className:O==="dark"?"border-secondary":"",children:[e.jsx("td",{className:"text-center",children:e.jsx(b.Check,{type:"checkbox",value:ae.id,checked:n.includes(ae.id),onChange:re})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"bg-primary bg-opacity-10 rounded-circle p-2 me-3",children:ae?.profil_url?e.jsx("img",{src:ae.profil_url,alt:ae.name||"Utilisateur",style:{width:"32px",height:"32px",borderRadius:"50%",objectFit:"cover",border:"2px solid rgba(255, 255, 255, 0.3)"},onError:ye=>{ye.target.style.display="none",ye.target.nextElementSibling.style.display="flex"}}):e.jsx("i",{"data-feather":"user",className:"text-primary",style:{width:"16px",height:"16px"}})}),e.jsxs("div",{children:[e.jsx("div",{className:`fw-bold ${O==="dark"?"text-light":"text-dark"}`,children:ae.name.length>10?ae.name.substring(0,10)+"...":ae.name}),e.jsx("small",{className:O==="dark"?"text-light":"text-muted",title:ae.matricule||"Non spécifié",children:ae.matricule?ae.matricule.length>10?ae.matricule.substring(0,10)+"...":ae.matricule:"Non spécifié"})]})]})}),e.jsx("td",{className:"d-none d-md-table-cell",children:e.jsxs("div",{children:[e.jsxs("div",{className:`small ${O==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"layers",className:"me-1",style:{width:"12px",height:"12px"}}),ae.classroom?.name?ae.classroom?.name?.length>14?ae.classroom?.name?.substring(0,14)+"...":ae.classroom?.name:"Non spécifié"]}),e.jsxs("div",{className:`small ${O==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"book",className:"me-1",style:{width:"12px",height:"12px"}}),ae.classroom?.examen?ae.classroom?.examen?.length>14?ae.classroom.examen.substring(0,14)+"...":ae.classroom?.examen:"Non spécifié"]})]})}),e.jsx("td",{className:"d-none d-md-table-cell",children:e.jsxs("div",{children:[e.jsxs("div",{className:`small ${O==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"mail",className:"me-1",style:{width:"12px",height:"12px"}}),ae.email.length>14?ae.email.substring(0,14)+"...":ae.email]}),e.jsxs("div",{className:`small ${O==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"phone",className:"me-1",style:{width:"12px",height:"12px"}}),ae.code_phone," ",ae.phone||"Non fourni"]})]})}),e.jsx("td",{className:"d-none d-lg-table-cell text-center",children:e.jsxs(oe,{bg:ae.status==="Connecté"?"success":ae.status==="Déconnecté"?"secondary":"warning",className:"px-3 py-2",children:[e.jsx("i",{"data-feather":ae.status==="Connecté"?"check-circle":ae.status==="Déconnecté"?"x-circle":"clock",className:"me-1",style:{width:"12px",height:"12px"}}),ae.status||"Indéfini"]})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{className:"d-flex gap-1 justify-content-center",children:[e.jsx($,{size:"sm",variant:"outline-info",title:"Voir les détails",as:xe,to:`/admin-systeme/show/etudiant-espace-attente/${ae.id}`,children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-warning",title:"Modifier",as:xe,to:`/admin-systeme/edit/etudiant-espace-attente/${ae.id}`,children:e.jsx("i",{"data-feather":"edit",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-danger",title:"Supprimer",onClick:()=>J(ae.id),children:e.jsx("i",{"data-feather":"trash-2",style:{width:"14px",height:"14px"}})})]})})]},ae.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center py-5",children:e.jsxs("div",{className:`${O==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"users",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucun Etudiant trouvé"}),e.jsx("p",{className:"small mb-0",children:"Aucun etudiant ne correspond à vos critères de recherche."})]})]})})})})]})})]})]}),e.jsxs(Y,{show:v,onHide:()=>S(!1),centered:!0,size:"lg",contentClassName:O==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:O==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Ajouter un Etudiant"})}),e.jsxs(b,{onSubmit:ie,children:[e.jsx(Y.Body,{className:O==="dark"?"bg-dark text-light":"",children:e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Nom Complet"}),e.jsx(b.Control,{type:"text",placeholder:"Entrez le nom complet",required:!0,value:P.name,onChange:ae=>q({...P,name:ae.target.value}),isInvalid:!!F.name,className:O==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:F.name})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Adresse Email"}),e.jsx(b.Control,{type:"email",placeholder:"Entrez l'adresse email",required:!0,value:P.email,onChange:ae=>q({...P,email:ae.target.value}),isInvalid:!!F.email,className:O==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:F.email})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"16px",height:"16px"}}),"Niveau d'étude *"]}),e.jsxs(b.Select,{name:"matricule_classroom",value:P.email,onChange:ae=>q({...P,matricule_classroom:ae.target.value}),isInvalid:!!F.matricule_classroom,className:O==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionnez..."}),a.map(ae=>e.jsx("option",{value:ae.matricule,children:ae.name},ae.matricule))]}),e.jsx(b.Control.Feedback,{type:"invalid",className:"d-block",children:F.matricule_classroom})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Mot de Passe"}),e.jsx(b.Control,{type:"password",placeholder:"Entrez le mot de passe",required:!0,onChange:ae=>q({...P,password:ae.target.value}),isInvalid:!!F.password,className:O==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:F.password})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Confirmer le Mot de Passe"}),e.jsx(b.Control,{type:"password",placeholder:"Confirmez le mot de passe",required:!0,onChange:ae=>q({...P,password_confirmation:ae.target.value}),isInvalid:!!F.password_confirmation,className:O==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:F.password_confirmation})]})})]})}),e.jsxs(Y.Footer,{className:O==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>S(!1),children:"Annuler"}),e.jsxs($,{type:"submit",variant:"success",children:[e.jsx("i",{"data-feather":"save",className:"me-2",style:{width:"16px",height:"16px"}}),"Enregistrer"]})]})]})]}),e.jsxs(Y,{show:C,onHide:()=>_(!1),centered:!0,contentClassName:O==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:O==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Inviter un Etudiant"})}),e.jsxs(b,{onSubmit:fe,children:[e.jsx(Y.Body,{className:O==="dark"?"bg-dark text-light":"",children:e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Adresse Email"}),e.jsx(b.Control,{type:"email",placeholder:"Entrez l'email de l'invité",name:"email",required:!0,value:G.email,onChange:ae=>se({...G,email:ae.target.value}),isInvalid:!!F.email,className:O==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:F.email})]})}),e.jsxs(Y.Footer,{className:O==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>_(!1),children:"Fermer"}),e.jsxs($,{type:"submit",variant:"primary",children:[e.jsx("i",{"data-feather":"send",className:"me-2",style:{width:"16px",height:"16px"}}),"Envoyer"]})]})]})]}),e.jsxs(Y,{show:A,onHide:()=>D(!1),centered:!0,contentClassName:O==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:O==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Confirmation de Suppression"})}),e.jsxs(Y.Body,{className:O==="dark"?"bg-dark text-light":"",children:[e.jsxs("p",{children:["Êtes-vous sûr de vouloir supprimer ",M?"cet utilisateur":"ces utilisateurs"," ?"]}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),"Cette action est irréversible."]})]}),e.jsxs(Y.Footer,{className:O==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>D(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:ge,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:I,onClose:()=>H(!1),delay:3e3,autohide:!0,bg:U==="success"?"success":"danger",className:O==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${U==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":U==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:O==="dark"?"bg-dark text-light":"",children:z})]})})]})})}function k4e(){const{id:s}=is(),t=Ut(),[a,r]=x.useState(null),[n,i]=x.useState([]),[l,c]=x.useState(!0),[o,u]=x.useState(!1),[d,f]=x.useState(null),[p,j]=x.useState({}),[y,k]=x.useState("light"),[v,S]=x.useState(!1),[C,_]=x.useState(!1),[A,D]=x.useState(""),[M,L]=x.useState("success"),[F,Q]=x.useState({name:"",email:"",birthday:"",gender:"",code_phone:"",phone:"",matricule_classroom:"",profil:null}),[I,H]=x.useState({password:"",password_confirmation:""}),[z,K]=x.useState(null);x.useEffect(()=>{const O=document.documentElement.getAttribute("data-theme")||"light";k(O);const W=new MutationObserver(()=>{const Z=document.documentElement.getAttribute("data-theme")||"light";k(Z)});return W.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>W.disconnect()},[]);const U=(O,W="success")=>{D(O),L(W),_(!0)};x.useEffect(()=>{s&&(async()=>{try{c(!0);const[W,Z]=await Promise.all([he.get(`/admin-systeme/edit/etudiant-espace-attente/${s}`),he.get("/admin-systeme/view/etudiant-espace-attente")]),te=W.data.user;r(te),i(Z.data.classrooms||[]),Q({name:te.name||"",email:te.email||"",birthday:te.birthday||"",gender:te.gender||"",code_phone:te.code_phone||"",phone:te.phone||"",matricule_classroom:te.matricule_classroom||"",profil:null}),te.profil_url&&K(te.profil_url)}catch(W){f("Erreur lors du chargement des données"),console.error("Erreur:",W)}finally{c(!1)}})()},[s]),x.useEffect(()=>{We.replace()},[a]);const V=O=>{const{name:W,value:Z}=O.target;Q(te=>({...te,[W]:Z})),p[W]&&j(te=>({...te,[W]:null}))},P=O=>{const{name:W,value:Z}=O.target;H(te=>({...te,[W]:Z}))},q=O=>{const W=O.target.files[0];if(W){if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(W.type)){j(fe=>({...fe,profil:"Format de fichier non supporté. Utilisez JPG, PNG ou WEBP."}));return}if(W.size>2097152){j(fe=>({...fe,profil:"La taille du fichier ne doit pas dépasser 2MB."}));return}Q(fe=>({...fe,profil:W}));const ie=new FileReader;ie.onload=fe=>{K(fe.target.result)},ie.readAsDataURL(W),p.profil&&j(fe=>({...fe,profil:null}))}},G=async O=>{O.preventDefault();try{u(!0),f(null),j({});const W=new FormData;Object.keys(F).forEach(te=>{te==="profil"?F.profil instanceof File&&W.append("profil",F.profil):F[te]!==null&&F[te]!==""&&W.append(te,F[te])}),W.append("_method","PUT"),(await he.post(`/admin-systeme/update/etudiant-espace-attente/${s}`,W,{headers:{"Content-Type":"multipart/form-data"}})).data.status==="success"&&(U("Étudiant mis à jour avec succès !","success"),setTimeout(()=>{t(`/admin-systeme/show/etudiant-espace-attente/${s}`)},2e3))}catch(W){W.response?.data?.errors?(j(W.response.data.errors),U("Erreur de validation","danger")):(f(W.response?.data?.message||"Erreur lors de la mise à jour"),U("Erreur lors de la mise à jour","danger"))}finally{u(!1)}},se=async O=>{if(O.preventDefault(),!I.password||!I.password_confirmation){U("Veuillez remplir tous les champs du mot de passe","danger");return}if(I.password!==I.password_confirmation){U("Les mots de passe ne correspondent pas","danger");return}try{u(!0),f(null),(await he.put(`/admin-systeme/update/etudiant-espace-attente/${s}`,I)).data.status==="success"&&(U("Mot de passe mis à jour avec succès !","success"),S(!1),H({password:"",password_confirmation:""}))}catch(W){W.response?.data?.errors?j(W.response.data.errors):U(W.response?.data?.message||"Erreur lors de la mise à jour du mot de passe","danger")}finally{u(!1)}};return l?e.jsx(Vt,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des données..."})]})}):d&&!a?e.jsxs(Vt,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),d]}),e.jsx("div",{className:"d-flex gap-2",children:e.jsxs($,{variant:"secondary",as:xe,to:"/admin-systeme/view/etudiants-espace-attente",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]})})]}):e.jsxs(Vt,{children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:`/admin-systeme/show/etudiant-espace-attente/${s}`,className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsx("h1",{className:"h3 mb-0",children:"Modifier l'étudiant"})]}),e.jsx("p",{className:"text-muted mb-0",children:"Modification des informations de l'étudiant"})]})}),d&&e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),d]}),e.jsx(b,{onSubmit:G,children:e.jsxs(pe,{children:[e.jsx(T,{lg:8,className:"mb-4",children:e.jsxs(w,{className:`border-0 shadow-sm ${y==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations personnelles"]})}),e.jsxs(w.Body,{children:[e.jsx(pe,{className:"mb-4",children:e.jsxs(T,{md:3,className:"text-center",children:[e.jsxs("div",{className:"position-relative d-inline-block mb-3",children:[z?e.jsx(Mt,{src:z,alt:"Photo de profil",className:"rounded-circle",width:"120",height:"120",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-light d-flex align-items-center justify-content-center border",style:{width:"120px",height:"120px"},children:e.jsx("i",{"data-feather":"user",className:"text-muted",style:{width:"48px",height:"48px"}})}),e.jsx($,{variant:"primary",size:"sm",className:"position-absolute bottom-0 end-0 rounded-circle p-2",style:{transform:"translate(25%, 25%)"},onClick:()=>document.getElementById("profileImage").click(),children:e.jsx("i",{"data-feather":"camera",style:{width:"12px",height:"12px"}})})]}),e.jsx("input",{type:"file",id:"profileImage",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:q,style:{display:"none"}}),e.jsx("p",{className:"small text-muted mb-0",children:"JPG, PNG, WEBP - Max 2MB"}),p.profil&&e.jsx("div",{className:"text-danger small mt-1",children:p.profil})]})}),e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Nom complet *"]}),e.jsx(b.Control,{type:"text",name:"name",value:F.name,onChange:V,placeholder:"Nom complet de l'étudiant",isInvalid:!!p.name,className:y==="dark"?"bg-dark text-light border-secondary":"",required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.name?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Email *"]}),e.jsx(b.Control,{type:"email",name:"email",value:F.email,onChange:V,placeholder:"nom@email.com",isInvalid:!!p.email,className:y==="dark"?"bg-dark text-light border-secondary":"",required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.email?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"calendar",className:"me-2",style:{width:"16px",height:"16px"}}),"Date de naissance"]}),e.jsx(b.Control,{type:"date",name:"birthday",value:F.birthday,onChange:V,isInvalid:!!p.birthday,className:y==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.birthday?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"16px",height:"16px"}}),"Genre"]}),e.jsxs(b.Select,{name:"gender",value:F.gender,onChange:V,isInvalid:!!p.gender,className:y==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Sélectionner..."}),e.jsx("option",{value:"Masculin",children:"Masculin"}),e.jsx("option",{value:"Féminin",children:"Féminin"}),e.jsx("option",{value:"Autre",children:"Autre"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.gender?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"flag",className:"me-2",style:{width:"16px",height:"16px"}}),"Indicatif pays"]}),e.jsxs(b.Select,{name:"code_phone",value:F.code_phone,onChange:V,isInvalid:!!p.code_phone,className:y==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Sélectionner..."}),e.jsx("option",{value:"+237",children:"+237 (Cameroun)"}),e.jsx("option",{value:"+33",children:"+33 (France)"}),e.jsx("option",{value:"+235",children:"+235 (Tchad)"})]}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.code_phone?.[0]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"phone",className:"me-2",style:{width:"16px",height:"16px"}}),"Numéro de téléphone"]}),e.jsx(b.Control,{type:"tel",name:"phone",value:F.phone,onChange:V,placeholder:"690123456",isInvalid:!!p.phone,className:y==="dark"?"bg-dark text-light border-secondary":""}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.phone?.[0]}),e.jsx(b.Text,{className:"text-muted",children:"Numéro de contact de l'étudiant"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"16px",height:"16px"}}),"Classe *"]}),e.jsxs(b.Select,{name:"matricule_classroom",value:F.matricule_classroom,onChange:V,isInvalid:!!p.matricule_classroom,className:y==="dark"?"bg-dark text-light border-secondary":"",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionner une classe"}),n.map(O=>e.jsx("option",{value:O.matricule,children:O.name},O.matricule))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.matricule_classroom?.[0]})]})})]}),e.jsx("hr",{className:"my-4"}),e.jsx(pe,{children:e.jsx(T,{md:12,children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs($,{variant:"outline-warning",onClick:()=>S(!0),className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"lock",className:"me-2",style:{width:"16px",height:"16px"}}),"Changer le mot de passe"]}),e.jsxs("div",{children:[e.jsx($,{variant:"outline-secondary",as:xe,to:`/admin-systeme/show/etudiant-espace-attente/${s}`,className:"me-2",disabled:o,children:"Annuler"}),e.jsx($,{variant:"primary",type:"submit",disabled:o,className:"d-flex align-items-center",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner-border spinner-border-sm me-2",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),"Mise à jour..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ss,{icon:"save",size:16,className:"me-2"}),"Enregistrer les Modifications"]})})]})]})})})]})]})}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${y==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${y==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"help-circle",className:"me-2 text-info",style:{width:"20px",height:"20px"}}),"Conseils"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"user-check",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Utilisez le nom complet tel qu'il apparaît sur les documents officiels"})]}),e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"mail",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"L'email sera utilisé pour les notifications et communications importantes"})]}),e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{"data-feather":"book",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"La classe détermine les matières et cours accessibles à l'étudiant"})]}),e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{"data-feather":"phone",className:"text-primary me-2 mt-1",style:{width:"14px",height:"14px"}}),e.jsx("span",{children:"Le numéro sera utilisé pour les urgences et confirmations"})]})]})})]}),a&&e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${y==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${y==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"info",className:"me-2 text-success",style:{width:"20px",height:"20px"}}),"Informations actuelles"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Matricule"}),e.jsx("code",{className:"px-2 py-1 bg-primary bg-opacity-10 rounded text-primary small",children:a.matricule})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Statut"}),e.jsx("span",{className:`badge ${a.role===1?"bg-success":"bg-warning"}`,children:a.role===1?"Actif":"En attente"})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"small",children:"Inscrit le"}),e.jsx("span",{className:"small",children:new Date(a.created_at).toLocaleDateString("fr-FR")})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsx("span",{className:"small",children:"Dernière modification"}),e.jsx("span",{className:"small",children:new Date(a.updated_at).toLocaleDateString("fr-FR")})]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${y==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${y==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2 text-warning",style:{width:"20px",height:"20px"}}),"Actions supplémentaires"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:"outline-info",as:xe,to:`/admin-systeme/show/etudiant-espace-attente/${s}`,children:[e.jsx("i",{"data-feather":"eye",className:"me-2",style:{width:"16px",height:"16px"}}),"Voir le profil"]}),e.jsxs($,{variant:"outline-primary",as:xe,to:"/admin-systeme/view/etudiants-espace-attente",children:[e.jsx("i",{"data-feather":"users",className:"me-2",style:{width:"16px",height:"16px"}}),"Tous les étudiants"]})]})})]})]})]})}),e.jsxs(Y,{show:v,onHide:()=>S(!1),centered:!0,contentClassName:y==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{closeButton:!0,className:y==="dark"?"bg-dark text-light border-secondary":"",children:e.jsxs(Y.Title,{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"lock",className:"me-2",style:{width:"20px",height:"20px"}}),"Changer le mot de passe"]})}),e.jsxs(b,{onSubmit:se,children:[e.jsxs(Y.Body,{className:y==="dark"?"bg-dark text-light":"",children:[e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Nouveau mot de passe"}),e.jsx(b.Control,{type:"password",name:"password",value:I.password,onChange:P,placeholder:"Entrez le nouveau mot de passe",isInvalid:!!p.password,className:y==="dark"?"bg-dark text-light border-secondary":"",required:!0}),e.jsx(b.Control.Feedback,{type:"invalid",children:p.password?.[0]}),e.jsx(b.Text,{className:"text-muted",children:"Minimum 8 caractères avec majuscules, minuscules et chiffres"})]}),e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Confirmer le mot de passe"}),e.jsx(b.Control,{type:"password",name:"password_confirmation",value:I.password_confirmation,onChange:P,placeholder:"Confirmez le nouveau mot de passe",className:y==="dark"?"bg-dark text-light border-secondary":"",required:!0})]})]}),e.jsxs(Y.Footer,{className:y==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>S(!1),disabled:o,children:"Annuler"}),e.jsx($,{variant:"primary",type:"submit",disabled:o,children:o?e.jsxs(e.Fragment,{children:[e.jsx(tt,{animation:"border",size:"sm",className:"me-2"}),"Mise à jour..."]}):"Mettre à jour"})]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:C,onClose:()=>_(!1),delay:3e3,autohide:!0,bg:M==="success"?"success":"danger",className:y==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${M==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":M==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:y==="dark"?"bg-dark text-light":"",children:A})]})})]})}function S4e(){const{id:s}=is(),t=Ut(),[a,r]=x.useState(null),[n,i]=x.useState(!0),[l,c]=x.useState(null),[o,u]=x.useState("light"),[d,f]=x.useState(!1),[p,j]=x.useState(""),[y,k]=x.useState("success"),[v,S]=x.useState(!1);x.useEffect(()=>{const I=document.documentElement.getAttribute("data-theme")||"light";u(I);const H=new MutationObserver(()=>{const z=document.documentElement.getAttribute("data-theme")||"light";u(z)});return H.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>H.disconnect()},[]);const C=(I,H="success")=>{j(I),k(H),f(!0)};x.useEffect(()=>{s&&(async()=>{try{i(!0);const H=await he.get(`/admin-systeme/show/etudiant-espace-attente/${s}`);r(H.data.user)}catch(H){c("Erreur lors du chargement de l'étudiant"),console.error("Erreur:",H)}finally{i(!1)}})()},[s]),x.useEffect(()=>{We.replace()},[a]);const _=async()=>{try{await he.patch(`/admin-systeme/toggle-role/etudiant-espace-attente/${s}`);const I=await he.get(`/admin-systeme/show/etudiant-espace-attente/${s}`);r(I.data.user),C("Rôle de l'étudiant mis à jour","success")}catch(I){console.error(I),C("Erreur lors de la mise à jour du rôle","danger")}},A=async()=>{try{await he.delete(`/admin-systeme/destroy/etudiant-espace-attente/${s}`),C("Étudiant supprimé avec succès","success"),setTimeout(()=>{t("/admin-systeme/view/etudiant-espace-attente")},1500)}catch(I){console.error(I),C(I.response?.data?.message||"Erreur lors de la suppression","danger")}S(!1)},D=I=>I?new Date(I).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Non renseigné",M=I=>({Masculin:"primary",Féminin:"info",Autre:"secondary"})[I]||"secondary",L=I=>I===1?"success":"warning",F=I=>I===1?"Étudiant Actif":"En Zone d'Attente",Q=I=>{switch(I){case"Connecté":return"success";case"Déconnecté":return"secondary";case"En attente":return"warning";default:return"secondary"}};return n?e.jsx(Vt,{children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Chargement des informations de l'étudiant..."})]})}):l||!a?e.jsxs(Vt,{children:[e.jsxs(lt,{variant:"danger",className:"mb-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2"}),l||"Étudiant introuvable"]}),e.jsx("div",{className:"d-flex gap-2",children:e.jsxs($,{variant:"secondary",as:xe,to:"/admin-systeme/view/etudiants-espace-attente",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-2"}),"Retour à la liste"]})})]}):e.jsxs(Vt,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs($,{variant:"outline-secondary",size:"sm",as:xe,to:"/admin-systeme/view/etudiants-espace-attente",className:"me-3",children:[e.jsx("i",{"data-feather":"arrow-left",className:"me-1",style:{width:"16px",height:"16px"}}),"Retour"]}),e.jsxs("div",{children:[e.jsx("h1",{className:`h3 mb-0 ${o==="dark"?"text-light":"text-dark"}`,children:a.name}),e.jsxs("div",{className:"d-flex align-items-center gap-2 mt-1",children:[e.jsx("small",{className:"text-muted",children:a.matricule}),e.jsxs(oe,{bg:L(a.role),className:"px-2 py-1",children:[e.jsx("i",{"data-feather":a.role===1?"check-circle":"pause-circle",className:"me-1",style:{width:"12px",height:"12px"}}),F(a.role)]})]})]})]})}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs($,{variant:a.role===1?"warning":"success",onClick:_,title:"Changer le rôle",children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"16px",height:"16px"}}),a.role===1?"Mettre en attente":"Activer"]}),e.jsxs($,{variant:"primary",as:xe,to:`/admin-systeme/edit/etudiant/${s}`,children:[e.jsx("i",{"data-feather":"edit",className:"me-2",style:{width:"16px",height:"16px"}}),"Modifier"]}),e.jsxs($,{variant:"danger",onClick:()=>S(!0),children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsxs(pe,{children:[e.jsxs(T,{lg:8,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"20px",height:"20px"}}),"Profil de l'étudiant"]})}),e.jsxs(w.Body,{children:[e.jsxs(pe,{className:"align-items-center mb-4",children:[e.jsx(T,{md:3,className:"text-center",children:e.jsxs("div",{className:"position-relative d-inline-block",children:[a?.profil_url?e.jsx(Mt,{src:a.profil_url,alt:"Photo de profil",className:"rounded-circle",width:"120",height:"120",style:{objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-light d-flex align-items-center justify-content-center border",style:{width:"120px",height:"120px"},children:e.jsx("i",{"data-feather":"user",className:"text-muted",style:{width:"48px",height:"48px"}})}),e.jsx(oe,{bg:L(a.role),className:"position-absolute bottom-0 end-0 rounded-circle p-2",style:{transform:"translate(25%, 25%)"},children:e.jsx("i",{"data-feather":a.role===1?"check":"pause",style:{width:"12px",height:"12px"}})})]})}),e.jsxs(T,{md:9,children:[e.jsx("h4",{className:"mb-2",children:a?.name||"Nom non renseigné"}),e.jsxs("p",{className:"text-muted mb-2",children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),a?.email||"Email non renseigné"]}),a?.phone&&e.jsxs("p",{className:"text-muted mb-2",children:[e.jsx("i",{"data-feather":"phone",className:"me-2",style:{width:"16px",height:"16px"}}),a.code_phone&&`${a.code_phone} `,a.phone]}),e.jsxs("div",{className:"d-flex align-items-center flex-wrap gap-2",children:[e.jsx(oe,{bg:L(a.role),className:"me-2",children:F(a.role)}),a?.gender&&e.jsx(oe,{bg:M(a.gender),children:a.gender}),e.jsx(oe,{bg:Q(a.status||"En attente"),children:a.status||"En attente"})]})]})]}),e.jsx("hr",{className:"my-4"}),e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Nom complet :"}),e.jsx("span",{className:"fw-medium",children:a?.name||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Email :"}),e.jsx("span",{className:"fw-medium",children:a?.email||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Matricule :"}),e.jsx("span",{className:"fw-medium",children:e.jsx("code",{className:"px-2 py-1 bg-primary bg-opacity-10 rounded text-primary",children:a?.matricule||"Non renseigné"})})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Date de naissance :"}),e.jsx("span",{className:"fw-medium",children:D(a?.birthday)})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Genre :"}),e.jsx("span",{className:"fw-medium",children:a?.gender||"Non renseigné"})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Téléphone :"}),e.jsxs("span",{className:"fw-medium",children:[a?.code_phone," ",a?.phone||"Non renseigné"]})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Inscrit depuis :"}),e.jsx("span",{className:"fw-medium",children:D(a?.created_at)})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Dernière mise à jour :"}),e.jsx("span",{className:"fw-medium",children:D(a?.updated_at)})]})})]})]})]}),e.jsxs(w,{className:`border-0 shadow-sm ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"book",className:"me-2",style:{width:"20px",height:"20px"}}),"Informations académiques"]})}),e.jsx(w.Body,{children:a.classroom?e.jsxs(pe,{children:[e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Classe :"}),e.jsx("span",{className:"fw-medium",children:a.classroom.name})]})}),e.jsx(T,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Matricule classe :"}),e.jsx("span",{className:"fw-medium",children:e.jsx("code",{className:"px-2 py-1 bg-info bg-opacity-10 rounded text-info",children:a.classroom.matricule})})]})}),a.classroom.description&&e.jsx(T,{md:12,className:"mb-3",children:e.jsxs("div",{children:[e.jsx("span",{className:"text-muted d-block mb-1",children:"Description de la classe :"}),e.jsx("span",{className:"fw-medium",children:a.classroom.description})]})})]}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{"data-feather":"alert-circle",className:"text-warning mb-2",style:{width:"32px",height:"32px"}}),e.jsx("p",{className:"text-muted mb-0",children:"Aucune classe assignée à cet étudiant"})]})})]})]}),e.jsxs(T,{lg:4,children:[e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"20px",height:"20px"}}),"Actions rapides"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs($,{variant:a.role===1?"warning":"success",onClick:_,children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"18px",height:"18px"}}),a.role===1?"Mettre en attente":"Activer l'étudiant"]}),e.jsxs($,{variant:"primary",as:xe,to:`/admin-systeme/edit/etudiant-espace-attente/${s}`,children:[e.jsx("i",{"data-feather":"edit-2",className:"me-2",style:{width:"18px",height:"18px"}}),"Modifier le profil"]}),e.jsxs($,{variant:"outline-info",as:xe,to:"/admin-systeme/view/etudiants-espace-attente",children:[e.jsx("i",{"data-feather":"list",className:"me-2",style:{width:"18px",height:"18px"}}),"Tous les étudiants"]}),e.jsxs($,{variant:"outline-primary",as:xe,to:"/admin-systeme/dashboard",children:[e.jsx("i",{"data-feather":"grid",className:"me-2",style:{width:"18px",height:"18px"}}),"Retour au Dashboard"]})]})})]}),e.jsxs(w,{className:`border-0 shadow-sm mb-4 ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"activity",className:"me-2",style:{width:"20px",height:"20px"}}),"Statut du compte"]})}),e.jsxs(w.Body,{children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("div",{className:`${a.role===1?"text-success":"text-warning"} mb-2`,children:e.jsx("i",{"data-feather":a.role===1?"check-circle":"pause-circle",style:{width:"32px",height:"32px"}})}),e.jsx("h6",{className:"mb-0",children:"État du compte"}),e.jsx("h4",{className:`${a.role===1?"text-success":"text-warning"} mb-0`,children:F(a.role)}),e.jsx("small",{className:"text-muted",children:a.role===1?"Accès complet aux fonctionnalités":"Accès limité - En attente d'activation"})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Profil complété :"}),e.jsx("span",{className:"fw-bold text-success",children:a?.profil_url&&a?.birthday&&a?.phone&&a?.gender?"100%":a?.name&&a?.email&&a?.gender?"85%":a?.name&&a?.email?"70%":"50%"})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Dernière connexion :"}),e.jsx("span",{children:D(a?.updated_at)})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"text-muted",children:"Type de compte :"}),e.jsx(oe,{bg:"info",children:"Étudiant"})]})]})]})]}),a.classroom&&e.jsxs(w,{className:`border-0 shadow-sm ${o==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:"border-0",children:e.jsxs("h5",{className:"mb-0 d-flex align-items-center",children:[e.jsx("i",{"data-feather":"home",className:"me-2 text-info",style:{width:"20px",height:"20px"}}),"Classe assignée"]})}),e.jsx(w.Body,{children:e.jsxs("div",{className:"small",children:[e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("i",{"data-feather":"book",className:"text-info me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:a.classroom.name}),e.jsx("div",{className:"text-muted",children:a.classroom.matricule})]})]}),a.classroom.description&&e.jsxs("div",{className:"d-flex align-items-start mb-3",children:[e.jsx("i",{"data-feather":"info",className:"text-info me-2 mt-1",style:{width:"16px",height:"16px"}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:"Description"}),e.jsx("div",{className:"text-muted",children:a.classroom.description})]})]})]})})]})]})]}),e.jsxs(Y,{show:v,onHide:()=>S(!1),centered:!0,contentClassName:o==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:o==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Confirmation de Suppression"})}),e.jsxs(Y.Body,{className:o==="dark"?"bg-dark text-light":"",children:[e.jsx("p",{children:"Êtes-vous sûr de vouloir supprimer cet étudiant ?"}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),`Cette action est irréversible. L'étudiant "`,a.name,'" sera définitivement supprimé du système.']})]}),e.jsxs(Y.Footer,{className:o==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>S(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:A,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer définitivement"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:d,onClose:()=>f(!1),delay:3e3,autohide:!0,bg:y==="success"?"success":"danger",className:o==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${y==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":y==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:o==="dark"?"bg-dark text-light":"",children:p})]})})]})}function _4e(){const[s,t]=x.useState([]),[a,r]=x.useState([]),[n,i]=x.useState({}),[l,c]=x.useState(!1),[o,u]=x.useState(!1),[d,f]=x.useState([]),[p,j]=x.useState(""),[y,k]=x.useState(""),[v,S]=x.useState(""),[C,_]=x.useState(""),[A,D]=x.useState(!1),[M,L]=x.useState(!1),[F,Q]=x.useState(null),[I,H]=x.useState({}),[z,K]=x.useState({email:"",role:"",matricule_classroom:""}),[U,V]=x.useState("light"),[P,q]=x.useState(!1),[G,se]=x.useState(""),[O,W]=x.useState("success"),Z={0:"Espace Attente",1:"Étudiant",2:"Formateur",3:"Administrateur Système"},te=(ae,ye="success")=>{se(ae),W(ye),q(!0)};x.useEffect(()=>{const ae=document.documentElement.getAttribute("data-theme")||"light";V(ae);const ye=new MutationObserver(()=>{const st=document.documentElement.getAttribute("data-theme")||"light";V(st)});return ye.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>ye.disconnect()},[]);const ie=x.useCallback(async()=>{c(!0);try{const ae={};p.trim()&&(ae.search=p.trim()),y&&(ae.role=y),v&&(ae.matricule_classroom=v),C!==""&&(ae.status=C);const ye=await he.get("/admin-systeme/view/invitations",{params:ae});t(ye.data.invitations||[]),r(ye.data.classroom||[]),i(ye.data.stats||{})}catch(ae){console.error("Erreur lors du chargement des invitations",ae),te("Échec du chargement des invitations.","danger")}finally{c(!1)}},[p,y,v,C]);x.useEffect(()=>{ie()},[ie]),x.useEffect(()=>{We.replace()},[s,A,M,l,d]);const fe=async ae=>{ae.preventDefault(),H({}),u(!0);try{const ye=await he.post("/admin-systeme/invitation/users",z);ie(),D(!1),K({email:"",role:"",matricule_classroom:""}),te(ye.data.message||"Invitation envoyée avec succès","success")}catch(ye){ye.response?.status===422?H(ye.response.data.errors||{}):(console.error(ye),te("Erreur lors de l'envoi de l'invitation.","danger"))}finally{u(!1)}},J=(ae=null)=>{Q(ae),L(!0)},ge=async()=>{u(!0);try{const ae=F?[F]:d;F?await he.delete(`/admin-systeme/destroy/invitations/${F}`):await he.post("/admin-systeme/invitations/destroy-group",{ids:ae}),ie(),L(!1),f([]),Q(null),te("Invitation(s) supprimée(s) avec succès","success")}catch(ae){console.error(ae),te("Erreur lors de la suppression de l'invitation.","danger")}finally{u(!1)}},re=ae=>{const{value:ye,checked:st}=ae.target,He=parseInt(ye);f(st?ke=>[...ke,He]:ke=>ke.filter(we=>we!==He))},ve=ae=>{ae.target.checked?f(s.map(ye=>ye.id)):f([])},Oe=ae=>({0:{variant:"warning",icon:"clock",label:"Espace Attente"},1:{variant:"success",icon:"user",label:"Étudiant"},2:{variant:"info",icon:"users",label:"Formateur"},3:{variant:"danger",icon:"settings",label:"Admin Système"}})[ae]||{variant:"secondary",icon:"user",label:"Inconnu"},ee=ae=>ae===0||ae===1,me={centered:!0,contentClassName:U==="dark"?"bg-dark text-light":""},Xe={className:U==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0},Se={className:U==="dark"?"bg-dark text-light border-secondary":""};return e.jsx(Vt,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${U==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"mail",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${U==="dark"?"text-light":"text-dark"}`,children:"Gestion des Invitations"}),e.jsx("p",{className:`mb-0 ${U==="dark"?"text-light":"text-muted"}`,children:"Institut de Formation - Système d'invitations pour l'enseignement"})]})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${U==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${U==="dark"?"text-light":"text-dark"}`,children:n.total||0}),e.jsx("small",{className:U==="dark"?"text-light":"text-muted",children:"Total Invitations"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"mail",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${U==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:n.etudiant||0}),e.jsx("small",{className:U==="dark"?"text-light":"text-muted",children:"Étudiants"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"user",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${U==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-info",children:n.formateur||0}),e.jsx("small",{className:U==="dark"?"text-light":"text-muted",children:"Formateurs"})]}),e.jsx("div",{className:"text-info",children:e.jsx("i",{"data-feather":"users",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${U==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-primary",children:n.admin_systeme||0}),e.jsx("small",{className:U==="dark"?"text-light":"text-muted",children:"Administrateur systeme"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"shield",style:{width:"24px",height:"24px"}})})]})})})})]})]}),e.jsxs(w,{className:`shadow-sm border-0 ${U==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${U==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"send",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${U==="dark"?"text-light":"text-dark"}`,children:"Invitations Système"})]}),e.jsxs("div",{className:"d-flex gap-2 mt-2 mt-md-0",children:[d.length>0&&e.jsxs($,{variant:"danger",className:"d-flex align-items-center",onClick:()=>J(),children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer (",d.length,")"]}),e.jsxs($,{variant:"success",className:"d-flex align-items-center",onClick:()=>D(!0),children:[e.jsx("i",{"data-feather":"plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Nouvelle Invitation"]})]})]})}),e.jsxs(w.Body,{className:U==="dark"?"bg-dark":"bg-white",children:[e.jsx("div",{className:"mb-4 p-3 rounded",style:{backgroundColor:U==="dark"?"#1a1a1a":"#f8f9fa"},children:e.jsxs("div",{className:"row g-3",children:[e.jsxs(T,{md:4,children:[e.jsxs(b.Label,{className:`small fw-bold ${U==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"search",className:"me-1",style:{width:"14px",height:"14px"}}),"Recherche par email"]}),e.jsx(b.Control,{type:"text",placeholder:"Email ou nom de classe...",value:p,onChange:ae=>j(ae.target.value),onKeyDown:ae=>ae.key==="Enter"&&ie(),...Se})]}),e.jsxs(T,{md:2,children:[e.jsxs(b.Label,{className:`small fw-bold ${U==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"user-check",className:"me-1",style:{width:"14px",height:"14px"}}),"Rôle"]}),e.jsxs(b.Select,{value:y,onChange:ae=>k(ae.target.value),...Se,children:[e.jsx("option",{value:"",children:"Tous les rôles"}),Object.entries(Z).map(([ae,ye])=>e.jsx("option",{value:ae,children:ye},ae))]})]}),e.jsxs(T,{md:2,children:[e.jsxs(b.Label,{className:`small fw-bold ${U==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"layers",className:"me-1",style:{width:"14px",height:"14px"}}),"Classe"]}),e.jsxs(b.Select,{value:v,onChange:ae=>S(ae.target.value),...Se,children:[e.jsx("option",{value:"",children:"Toutes les classes"}),a.map(ae=>e.jsx("option",{value:ae.matricule,children:ae.name},ae.id))]})]}),e.jsxs(T,{md:2,children:[e.jsxs(b.Label,{className:`small fw-bold ${U==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"info",className:"me-1",style:{width:"14px",height:"14px"}}),"Statut"]}),e.jsxs(b.Select,{value:C,onChange:ae=>_(ae.target.value),...Se,children:[e.jsx("option",{value:"",children:"Tous les statuts"}),e.jsx("option",{value:"Acceptée",children:"Acceptée"}),e.jsx("option",{value:"En attente",children:"En attente"})]})]}),e.jsxs(T,{md:2,children:[e.jsx(b.Label,{className:"small opacity-0",children:"Action"}),e.jsx("div",{children:e.jsxs($,{variant:U==="dark"?"outline-light":"outline-primary",className:"w-100",onClick:ie,children:[e.jsx("i",{"data-feather":"search",className:"me-1",style:{width:"16px",height:"16px"}}),"Filtrer"]})})]})]})}),l?e.jsxs("div",{className:"text-center py-5",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Chargement..."})}),e.jsx("p",{className:"mt-2 text-muted",children:"Chargement des invitations..."})]}):e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`align-middle ${U==="dark"?"table-dark":""}`,style:{borderRadius:"8px",overflow:"hidden"},children:[e.jsx("thead",{className:"table-primary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center",style:{width:"50px"},children:e.jsx(b.Check,{type:"checkbox",onChange:ve,checked:d.length===s.length&&s.length>0})}),e.jsxs("th",{children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"16px",height:"16px"}}),"Email"]}),e.jsxs("th",{className:"d-none d-md-table-cell",children:[e.jsx("i",{"data-feather":"user-check",className:"me-2",style:{width:"16px",height:"16px"}}),"Rôle"]}),e.jsxs("th",{className:"d-none d-md-table-cell",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"16px",height:"16px"}}),"Statut"]}),e.jsxs("th",{className:"d-none d-lg-table-cell",children:[e.jsx("i",{"data-feather":"layers",className:"me-2",style:{width:"16px",height:"16px"}}),"Classe"]}),e.jsxs("th",{className:"d-none d-lg-table-cell text-center",children:[e.jsx("i",{"data-feather":"calendar",className:"me-2",style:{width:"16px",height:"16px"}}),"Date d'envoi"]}),e.jsxs("th",{className:"text-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"16px",height:"16px"}}),"Actions"]})]})}),e.jsx("tbody",{children:s.length?s.map((ae,ye)=>{const st=Oe(ae.role),He=ae.status!==null;return e.jsxs("tr",{className:U==="dark"?"border-secondary":"",children:[e.jsx("td",{className:"text-center",children:e.jsx(b.Check,{type:"checkbox",value:ae.id,checked:d.includes(ae.id),onChange:re})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"bg-primary bg-opacity-10 rounded-circle p-2 me-3",children:e.jsx("i",{"data-feather":"mail",className:"text-primary",style:{width:"16px",height:"16px"}})}),e.jsxs("div",{children:[e.jsx("div",{className:`fw-bold ${U==="dark"?"text-light":"text-dark"}`,children:ae.email.length>20?ae.email.substring(0,20)+"...":ae.email}),e.jsx("small",{className:U==="dark"?"text-light":"text-muted",children:ae.matricule})]})]})}),e.jsx("td",{className:"d-none d-md-table-cell",children:e.jsxs(oe,{bg:st.variant,className:"px-3 py-2",children:[e.jsx("i",{"data-feather":st.icon,className:"me-1",style:{width:"12px",height:"12px"}}),st.label]})}),e.jsx("td",{className:"d-none d-md-table-cell",children:He?e.jsxs(oe,{bg:"success",className:"px-3 py-2",children:[e.jsx("i",{"data-feather":"check-circle",className:"me-1",style:{width:"12px",height:"12px"}}),"Acceptée"]}):e.jsxs(oe,{bg:"secondary",className:"px-3 py-2",children:[e.jsx("i",{"data-feather":"clock",className:"me-1",style:{width:"12px",height:"12px"}}),"En attente"]})}),e.jsx("td",{className:"d-none d-lg-table-cell",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"bg-info bg-opacity-10 rounded-circle p-1 me-2",children:e.jsx("i",{"data-feather":"layers",className:"text-info",style:{width:"14px",height:"14px"}})}),e.jsx("span",{className:`small ${U==="dark"?"text-light":"text-dark"}`,children:ae.classroom?.name||"Non assignée"})]})}),e.jsx("td",{className:"d-none d-lg-table-cell text-center",children:e.jsx("small",{className:U==="dark"?"text-light":"text-muted",children:new Date(ae.created_at).toLocaleDateString("fr-FR")})}),e.jsx("td",{className:"text-center",children:e.jsx("div",{className:"d-flex gap-1 justify-content-center",children:e.jsx($,{size:"sm",variant:"outline-danger",title:"Supprimer",onClick:()=>J(ae.id),disabled:o,children:e.jsx("i",{"data-feather":"trash-2",style:{width:"14px",height:"14px"}})})})})]},ae.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center py-5",children:e.jsxs("div",{className:`${U==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"mail",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucune invitation trouvée"}),e.jsx("p",{className:"small mb-0",children:"Aucune invitation ne correspond à vos critères de recherche."})]})]})})})})]})})]})]}),e.jsxs(Y,{...me,show:A,onHide:()=>D(!1),size:"lg",children:[e.jsx(Y.Header,{...Xe,children:e.jsxs(Y.Title,{children:[e.jsx("i",{"data-feather":"mail",className:"me-2",style:{width:"20px",height:"20px"}}),"Envoyer une invitation"]})}),e.jsxs(b,{onSubmit:fe,children:[e.jsx(Y.Body,{className:me.contentClassName,children:e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:12,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"mail",className:"me-1",style:{width:"16px",height:"16px"}}),"Adresse email *"]}),e.jsx(b.Control,{type:"email",placeholder:"Entrez l'adresse email",required:!0,value:z.email,onChange:ae=>K({...z,email:ae.target.value}),isInvalid:!!I.email,...Se}),e.jsx(b.Control.Feedback,{type:"invalid",children:I.email})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"user-check",className:"me-1",style:{width:"16px",height:"16px"}}),"Rôle *"]}),e.jsxs(b.Select,{value:z.role,onChange:ae=>K({...z,role:ae.target.value,matricule_classroom:""}),isInvalid:!!I.role,...Se,required:!0,children:[e.jsx("option",{value:"",children:"Choisir un rôle"}),Object.entries(Z).map(([ae,ye])=>e.jsx("option",{value:ae,children:ye},ae))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:I.role})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsxs(b.Label,{children:[e.jsx("i",{"data-feather":"layers",className:"me-1",style:{width:"16px",height:"16px"}}),"Classe ",ee(parseInt(z.role))?"(Optionnelle)":"(Non applicable)"]}),e.jsxs(b.Select,{value:z.matricule_classroom,onChange:ae=>K({...z,matricule_classroom:ae.target.value}),isInvalid:!!I.matricule_classroom,...Se,disabled:!ee(parseInt(z.role)),children:[e.jsx("option",{value:"",children:ee(parseInt(z.role))?"Aucune classe":"Non applicable"}),ee(parseInt(z.role))&&a.map(ae=>e.jsx("option",{value:ae.matricule,children:ae.name},ae.id))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:I.matricule_classroom}),ee(parseInt(z.role))&&e.jsx(b.Text,{className:"text-muted",children:"Seuls les étudiants et personnes en espace d'attente peuvent être assignés à une classe."})]})})]})}),e.jsxs(Y.Footer,{className:Xe.className,children:[e.jsx($,{variant:"secondary",onClick:()=>D(!1),children:"Annuler"}),e.jsxs($,{type:"submit",variant:"success",disabled:o,children:[e.jsx("i",{"data-feather":"send",className:"me-2",style:{width:"16px",height:"16px"}}),o?"Envoi...":"Envoyer l'invitation"]})]})]})]}),e.jsxs(Y,{show:M,onHide:()=>L(!1),centered:!0,contentClassName:U==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{className:U==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0,children:e.jsx(Y.Title,{children:"Confirmation de Suppression"})}),e.jsxs(Y.Body,{className:U==="dark"?"bg-dark text-light":"",children:[e.jsxs("p",{children:["Êtes-vous sûr de vouloir supprimer ",F?"cet invitation":"ces invitations"," ?"]}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),"Cette action est irréversible."]})]}),e.jsxs(Y.Footer,{className:U==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>L(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:ge,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:P,onClose:()=>q(!1),delay:3e3,autohide:!0,bg:O==="success"?"success":"danger",className:U==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${O==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":O==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:U==="dark"?"bg-dark text-light":"",children:G})]})})]})})}function C4e(){const[s,t]=x.useState([]),[a,r]=x.useState([]),[n,i]=x.useState([]),[l,c]=x.useState([]),[o,u]=x.useState({total_notifications:0,total_auteurs:0,notifications_lues:0,notifications_non_lues:0,priorite_high:0,priorite_medium:0,priorite_low:0,priorite_critical:0,stats_actions:{}}),[d,f]=x.useState(""),[p,j]=x.useState(""),[y,k]=x.useState(""),[v,S]=x.useState(""),[C,_]=x.useState(""),[A,D]=x.useState(""),[M,L]=x.useState(""),[F,Q]=x.useState(!1),[I,H]=x.useState(!1),[z,K]=x.useState(!1),[U,V]=x.useState(null),[P,q]=x.useState(null),[G,se]=x.useState(!1),[O,W]=x.useState(""),[Z,te]=x.useState("success"),[ie,fe]=x.useState("light");x.useEffect(()=>{const He=document.documentElement.getAttribute("data-theme")||"light";fe(He);const ke=new MutationObserver(()=>{const we=document.documentElement.getAttribute("data-theme")||"light";fe(we)});return ke.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>ke.disconnect()},[]);const J=(He,ke="success")=>{W(He),te(ke),se(!0)},ge=x.useCallback(async()=>{try{const He={};d.trim()&&(He.search=d.trim()),p&&(He.created_at=p),y&&(He.type_entite=y),v&&(He.type_action=v),C&&(He.priorite=C),A&&(He.statut_lecture=A),M&&(He.matricule_auteur=M);const ke=await he.get("/admin-systeme/view/notifications",{params:He});t(ke.data.notifications||[]),u(ke.data.statistics||{}),i(ke.data.auteurs||[]),c(ke.data.types_entites||[])}catch(He){console.error("Erreur lors de la récupération des notifications",He),J("Erreur lors de la récupération des notifications","danger")}},[d,p,y,v,C,A,M]);x.useEffect(()=>{We.replace(),ge()},[ge]),x.useEffect(()=>{We.replace()},[s,a]);const re=async He=>{try{await he.put(`/admin-systeme/notifications/${He}/mark-as-read`),ge(),J("Notification marquée comme lue","success")}catch(ke){console.error(ke),J("Erreur lors du marquage","danger")}},ve=async()=>{try{const He=await he.put("/admin-systeme/notifications/mark-all-as-read");ge(),H(!1),J(He.data.message,"success")}catch(He){console.error(He),J("Erreur lors du marquage","danger")}},Oe=(He=null)=>{V(He),Q(!0)},ee=async()=>{try{const He=U?[U]:a;U?await he.delete(`/admin-systeme/destroy/notifications/${U}`):await he.post("/admin-systeme/notifications/destroy-group",{ids:He}),ge(),Q(!1),r([]),V(null),J("Notification(s) supprimée(s) avec succès","success")}catch(He){console.error(He),J("Erreur lors de la suppression","danger")}},me=He=>{const{value:ke,checked:we}=He.target,Ke=parseInt(ke);r(we?Ee=>[...Ee,Ke]:Ee=>Ee.filter(je=>je!==Ke))},Xe=He=>{He.target.checked?r(s.map(ke=>ke.id)):r([])},Se=He=>{q(He),K(!0)},ae=He=>new Date(He).toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),ye=He=>({critical:{variant:"danger",icon:"alert-triangle",label:"Critique"},high:{variant:"warning",icon:"alert-circle",label:"Haute"},medium:{variant:"info",icon:"info",label:"Moyenne"},low:{variant:"secondary",icon:"minus-circle",label:"Basse"}})[He]||{variant:"secondary",icon:"help-circle",label:"Inconnue"},st=Object.keys(o.stats_actions||{});return e.jsx(Vt,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${ie==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"bell",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${ie==="dark"?"text-light":"text-dark"}`,children:"Gestion des Notifications"}),e.jsx("p",{className:`mb-0 ${ie==="dark"?"text-light":"text-muted"}`,children:"Institut de Formation - Système de notifications"})]})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${ie==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${ie==="dark"?"text-light":"text-dark"}`,children:o.total_notifications}),e.jsx("small",{className:ie==="dark"?"text-light":"text-muted",children:"Total Notifications"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"bell",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${ie==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-primary",children:o.total_auteurs}),e.jsx("small",{className:ie==="dark"?"text-light":"text-muted",children:"Auteurs Uniques"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"users",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${ie==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:o.notifications_lues}),e.jsx("small",{className:ie==="dark"?"text-light":"text-muted",children:"Notifications Lues"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"check-circle",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${ie==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-danger",children:o.notifications_non_lues}),e.jsx("small",{className:ie==="dark"?"text-light":"text-muted",children:"Non Lues"})]}),e.jsx("div",{className:"text-danger",children:e.jsx("i",{"data-feather":"alert-triangle",style:{width:"24px",height:"24px"}})})]})})})})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${ie==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-danger",children:o.priorite_critical}),e.jsx("small",{className:ie==="dark"?"text-light":"text-muted",children:"Critique"})]}),e.jsx("div",{className:"text-danger",children:e.jsx("i",{"data-feather":"alert-triangle",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${ie==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-warning",children:o.priorite_high}),e.jsx("small",{className:ie==="dark"?"text-light":"text-muted",children:"Haute"})]}),e.jsx("div",{className:"text-warning",children:e.jsx("i",{"data-feather":"alert-circle",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${ie==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-info",children:o.priorite_medium}),e.jsx("small",{className:ie==="dark"?"text-light":"text-muted",children:"Moyenne"})]}),e.jsx("div",{className:"text-info",children:e.jsx("i",{"data-feather":"info",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${ie==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-secondary",children:o.priorite_low}),e.jsx("small",{className:ie==="dark"?"text-light":"text-muted",children:"Basse"})]}),e.jsx("div",{className:"text-secondary",children:e.jsx("i",{"data-feather":"minus-circle",style:{width:"24px",height:"24px"}})})]})})})})]})]}),e.jsxs(w,{className:`shadow-sm border-0 ${ie==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${ie==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"bell",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${ie==="dark"?"text-light":"text-dark"}`,children:"Notifications Système"})]}),e.jsxs("div",{className:"d-flex gap-2 mt-2 mt-md-0",children:[a.length>0&&e.jsxs($,{variant:"danger",className:"d-flex align-items-center",onClick:()=>Oe(),children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer (",a.length,")"]}),e.jsxs($,{variant:"success",className:"d-flex align-items-center",onClick:()=>H(!0),disabled:o.notifications_non_lues===0,children:[e.jsx("i",{"data-feather":"check-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Tout Marquer Lu"]})]})]})}),e.jsxs(w.Body,{className:ie==="dark"?"bg-dark":"bg-white",children:[e.jsx("div",{className:"mb-4 p-3 rounded",style:{backgroundColor:ie==="dark"?"#1a1a1a":"#f8f9fa"},children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-3",children:[e.jsxs(b.Label,{className:`small fw-bold ${ie==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"search",className:"me-1",style:{width:"14px",height:"14px"}}),"Recherche Générale"]}),e.jsx(b.Control,{type:"text",placeholder:"Matricule, action, type...",value:d,onChange:He=>f(He.target.value),className:ie==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${ie==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"user",className:"me-1",style:{width:"14px",height:"14px"}}),"Auteur"]}),e.jsxs(b.Select,{value:M,onChange:He=>L(He.target.value),className:ie==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous les auteurs"}),n.map(He=>e.jsx("option",{value:He.matricule,children:He.name},He.matricule))]})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${ie==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"tag",className:"me-1",style:{width:"14px",height:"14px"}}),"Type Entité"]}),e.jsxs(b.Select,{value:y,onChange:He=>k(He.target.value),className:ie==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous les types"}),l.map(He=>e.jsx("option",{value:He,children:He},He))]})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${ie==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"activity",className:"me-1",style:{width:"14px",height:"14px"}}),"Action"]}),e.jsxs(b.Select,{value:v,onChange:He=>S(He.target.value),className:ie==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Toutes les actions"}),st.map(He=>e.jsx("option",{value:He,children:He},He))]})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsxs(b.Label,{className:`small fw-bold ${ie==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-1",style:{width:"14px",height:"14px"}}),"Priorité"]}),e.jsxs(b.Select,{value:C,onChange:He=>_(He.target.value),className:ie==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Toutes"}),e.jsx("option",{value:"critical",children:"Critique"}),e.jsx("option",{value:"high",children:"Haute"}),e.jsx("option",{value:"medium",children:"Moyenne"}),e.jsx("option",{value:"low",children:"Basse"})]})]}),e.jsxs("div",{className:"col-md-1",children:[e.jsxs(b.Label,{className:`small fw-bold ${ie==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"eye",className:"me-1",style:{width:"14px",height:"14px"}}),"Statut"]}),e.jsxs(b.Select,{value:A,onChange:He=>D(He.target.value),className:ie==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous"}),e.jsx("option",{value:"Lue",children:"Lue"}),e.jsx("option",{value:"Non lue",children:"Non lue"})]})]})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`align-middle ${ie==="dark"?"table-dark":""}`,style:{borderRadius:"8px",overflow:"hidden"},children:[e.jsx("thead",{className:"table-primary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center",style:{width:"50px"},children:e.jsx(b.Check,{type:"checkbox",checked:s.length>0&&a.length===s.length,onChange:Xe,className:ie==="dark"?"text-light":""})}),e.jsxs("th",{children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]}),e.jsxs("th",{className:"d-none d-md-table-cell",children:[e.jsx("i",{"data-feather":"user",className:"me-2",style:{width:"16px",height:"16px"}}),"Auteur"]}),e.jsxs("th",{className:"d-none d-lg-table-cell text-center",children:[e.jsx("i",{"data-feather":"alert-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Priorité"]}),e.jsxs("th",{className:"d-none d-lg-table-cell text-center",children:[e.jsx("i",{"data-feather":"eye",className:"me-2",style:{width:"16px",height:"16px"}}),"Statut"]}),e.jsxs("th",{className:"text-center",children:[e.jsx("i",{"data-feather":"calendar",className:"me-2",style:{width:"16px",height:"16px"}}),"Date"]}),e.jsxs("th",{className:"text-center",children:[e.jsx("i",{"data-feather":"settings",className:"me-2",style:{width:"16px",height:"16px"}}),"Actions"]})]})}),e.jsx("tbody",{children:s.length>0?s.map((He,ke)=>{const we=ye(He.priorité),Ke=He.statut_lecture==="Non lue";return e.jsxs("tr",{className:`${Ke?ie==="dark"?"table-warning":"table-light":""} ${ie==="dark"?"border-secondary":""}`,children:[e.jsx("td",{className:"text-center",children:e.jsx(b.Check,{type:"checkbox",value:He.id,checked:a.includes(He.id),onChange:me,className:ie==="dark"?"text-light":""})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("div",{className:`bg-${we.variant} bg-opacity-10 rounded-circle p-2 me-3 flex-shrink-0`,children:e.jsx("i",{"data-feather":we.icon,className:`text-${we.variant}`,style:{width:"16px",height:"16px"}})}),e.jsxs("div",{children:[e.jsxs("div",{className:`fw-bold ${ie==="dark"?"text-light":"text-dark"}`,children:[He.type_action," - ",He.type_entité]}),e.jsxs("small",{className:`${ie==="dark"?"text-light":"text-muted"} d-block`,children:["Entité: ",He.matricule_entité]}),He.matricule_classroom&&e.jsxs("small",{className:"text-info d-block",children:["Classe: ",He.matricule_classroom]})]})]})}),e.jsxs("td",{className:"d-none d-md-table-cell",children:[e.jsx("div",{className:`small ${ie==="dark"?"text-light":"text-dark"}`,children:He.user_auteur?.name||"SYSTÈME"}),e.jsx("small",{className:ie==="dark"?"text-light":"text-muted",children:He.matricule_auteur})]}),e.jsx("td",{className:"d-none d-lg-table-cell text-center",children:e.jsxs(oe,{bg:we.variant,className:"px-3 py-2",children:[e.jsx("i",{"data-feather":we.icon,className:"me-1",style:{width:"12px",height:"12px"}}),we.label]})}),e.jsx("td",{className:"d-none d-lg-table-cell text-center",children:e.jsxs(oe,{bg:He.statut_lecture==="Lue"?"success":"warning",className:"px-3 py-2",children:[e.jsx("i",{"data-feather":He.statut_lecture==="Lue"?"check-circle":"clock",className:"me-1",style:{width:"12px",height:"12px"}}),He.statut_lecture]})}),e.jsx("td",{className:"text-center",children:e.jsx("div",{className:`small ${ie==="dark"?"text-light":"text-dark"}`,children:ae(He.created_at)})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{className:"d-flex gap-1 justify-content-center",children:[e.jsx($,{size:"sm",variant:"outline-info",title:"Voir les détails",onClick:()=>Se(He),children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),Ke&&e.jsx($,{size:"sm",variant:"outline-success",title:"Marquer comme lue",onClick:()=>re(He.id),children:e.jsx("i",{"data-feather":"check",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-danger",title:"Supprimer",onClick:()=>Oe(He.id),children:e.jsx("i",{"data-feather":"trash-2",style:{width:"14px",height:"14px"}})})]})})]},He.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center py-5",children:e.jsxs("div",{className:`${ie==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"bell",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucune notification trouvée"}),e.jsx("p",{className:"small mb-0",children:"Aucune notification ne correspond à vos critères de recherche."})]})]})})})})]})})]})]}),e.jsxs(Y,{show:z,onHide:()=>K(!1),centered:!0,size:"lg",contentClassName:ie==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{closeButton:!0,className:ie==="dark"?"bg-dark text-light border-secondary":"",children:e.jsxs(Y.Title,{children:[e.jsx("i",{"data-feather":"info",className:"me-2 text-primary",style:{width:"20px",height:"20px"}}),"Détails de la Notification - ",P?.matricule]})}),e.jsx(Y.Body,{className:ie==="dark"?"bg-dark text-light":"",children:P&&e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:6,children:e.jsx(w,{className:`h-100 ${ie==="dark"?"bg-dark text-light border-secondary":"bg-light"}`,children:e.jsxs(w.Body,{children:[e.jsxs("h6",{className:"fw-bold text-primary",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"16px",height:"16px"}}),"Informations Générales"]}),e.jsx("hr",{className:"mt-1 mb-2"}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Matricule :"})," ",P.matricule]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Auteur :"})," ",P.user_auteur?.name||"SYSTÈME"]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Matricule Auteur :"})," ",P.matricule_auteur]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Type d'Entité :"})," ",P.type_entité]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Entité Concernée :"})," ",P.matricule_entité]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Type d'Action :"})," ",P.type_action]}),P.matricule_classroom&&e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Classe :"})," ",P.matricule_classroom]})]})})}),e.jsx(T,{md:6,children:e.jsx(w,{className:`h-100 ${ie==="dark"?"bg-dark text-light border-secondary":"bg-light"}`,children:e.jsxs(w.Body,{children:[e.jsxs("h6",{className:"fw-bold text-info",children:[e.jsx("i",{"data-feather":"clock",className:"me-2",style:{width:"16px",height:"16px"}}),"Informations de Suivi"]}),e.jsx("hr",{className:"mt-1 mb-2"}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Priorité :"}),e.jsx(oe,{bg:ye(P.priorité).variant,className:"ms-2",children:ye(P.priorité).label})]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Statut de Lecture :"}),e.jsx(oe,{bg:P.statut_lecture==="Lue"?"success":"warning",className:"ms-2",children:P.statut_lecture})]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Date de Création :"})," ",ae(P.created_at)]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Dernière Mise à Jour :"})," ",ae(P.updated_at)]})]})})})]})}),e.jsxs(Y.Footer,{className:ie==="dark"?"bg-dark text-light border-secondary":"",children:[P?.statut_lecture==="Non lue"&&e.jsxs($,{variant:"success",onClick:()=>{re(P.id),K(!1)},children:[e.jsx("i",{"data-feather":"check-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Marquer comme Lue"]}),e.jsx($,{variant:"secondary",onClick:()=>K(!1),children:"Fermer"})]})]}),e.jsxs(Y,{show:I,onHide:()=>H(!1),centered:!0,contentClassName:ie==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{closeButton:!0,className:ie==="dark"?"bg-dark text-light border-secondary":"",children:e.jsxs(Y.Title,{children:[e.jsx("i",{"data-feather":"check-circle",className:"me-2 text-success",style:{width:"20px",height:"20px"}}),"Confirmer l'action"]})}),e.jsxs(Y.Body,{className:ie==="dark"?"bg-dark text-light":"",children:[e.jsx("p",{children:"Êtes-vous sûr de vouloir marquer toutes les notifications comme lues ?"}),e.jsxs("div",{className:"alert alert-info",children:[e.jsx("i",{"data-feather":"info",className:"me-2",style:{width:"16px",height:"16px"}}),o.notifications_non_lues," notification(s) seront marquées comme lues."]})]}),e.jsxs(Y.Footer,{className:ie==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>H(!1),children:"Annuler"}),e.jsxs($,{variant:"success",onClick:ve,children:[e.jsx("i",{"data-feather":"check-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Confirmer"]})]})]}),e.jsxs(Y,{show:F,onHide:()=>Q(!1),centered:!0,contentClassName:ie==="dark"?"bg-dark text-light":"",children:[e.jsx(Y.Header,{closeButton:!0,className:ie==="dark"?"bg-dark text-light border-secondary":"",children:e.jsxs(Y.Title,{children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2 text-warning",style:{width:"20px",height:"20px"}}),"Confirmer la Suppression"]})}),e.jsxs(Y.Body,{className:ie==="dark"?"bg-dark text-light":"",children:[U?"Êtes-vous sûr de vouloir supprimer cette notification ?":`Êtes-vous sûr de vouloir supprimer les ${a.length} notifications sélectionnées ?`,e.jsxs("div",{className:"alert alert-warning mt-3",children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2",style:{width:"16px",height:"16px"}}),"Cette action est irréversible."]})]}),e.jsxs(Y.Footer,{className:ie==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx($,{variant:"secondary",onClick:()=>Q(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:ee,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:G,onClose:()=>se(!1),delay:3e3,autohide:!0,bg:Z==="success"?"success":"danger",className:ie==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${Z==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":Z==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:ie==="dark"?"bg-dark text-light":"",children:O})]})})]})})}function E4e(){const[s,t]=x.useState([]),[a,r]=x.useState(!0),[n,i]=x.useState(!1),[l,c]=x.useState(1),[o,u]=x.useState(1),[d,f]=x.useState(""),[p,j]=x.useState(""),[y,k]=x.useState(""),[v,S]=x.useState(""),[C,_]=x.useState(!1),[A,D]=x.useState(!1),[M,L]=x.useState(!1),[F,Q]=x.useState(!1),[I,H]=x.useState(null),[z,K]=x.useState(null),[U,V]=x.useState({}),[P,q]=x.useState(!1),[G,se]=x.useState(""),[O,W]=x.useState("success"),Z=(je,Ve="success")=>{se(je),W(Ve),q(!0)},[te,ie]=x.useState({titre:"",description:"",role:"",statut:"0",image:null}),[fe,J]=x.useState("light"),ge={0:{label:"Zone Attente Etudiant",color:"primary",icon:"user"},1:{label:"Etudiat",color:"success",icon:"user-check"},2:{label:"Formateur",color:"warning",icon:"shield"},3:{label:"Admin Système",color:"danger",icon:"settings"}},re={0:{label:"Publiée",color:"success",icon:"check-circle"},1:{label:"Non publiée",color:"secondary",icon:"x-circle"}},ve={Profil:{label:"Profil",color:"success",icon:"check-circle"},Authentification:{label:"Authentification",color:"secondary",icon:"x-circle"},Salle:{label:"Salle",color:"secondary",icon:"x-circle"},Matiere:{label:"Matiere",color:"secondary",icon:"x-circle"},Documents:{label:"Documents",color:"secondary",icon:"x-circle"},Evaluation:{label:"Evaluation",color:"secondary",icon:"x-circle"},Auth:{label:"Authentification",color:"secondary",icon:"x-circle"}};x.useEffect(()=>{const je=document.documentElement.getAttribute("data-theme")||"light";J(je);const Ve=new MutationObserver(()=>{const Nt=document.documentElement.getAttribute("data-theme")||"light";J(Nt)});return Ve.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>Ve.disconnect()},[]);const Oe=x.useCallback(async(je=1)=>{r(!0);try{const Ve={page:je};d.trim()&&(Ve.search=d.trim()),p&&(Ve.role=p),y&&(Ve.statut=y),v&&(Ve.created_at=v);const Nt=await he.get("/admin-systeme/view/aide",{params:Ve});t(Nt.data.data.data||[]),c(Nt.data.data.current_page||1),u(Nt.data.data.last_page||1)}catch(Ve){console.error("Erreur lors du chargement des aides",Ve),Z("Erreur lors du chargement des aides.","danger")}finally{r(!1)}},[d,p,y,v]);x.useEffect(()=>{Oe(l)},[Oe,l]),x.useEffect(()=>{We.replace()},[s,C,A,M,F,a]);const ee=()=>{ie({titre:"",description:"",category:"",role:"",statut:"0",image:null}),V({}),K(null)},me=je=>{const{name:Ve,value:Nt,files:nt}=je.target;ie(Ve==="image"?It=>({...It,[Ve]:nt[0]}):It=>({...It,[Ve]:Nt}))},Xe=async je=>{je.preventDefault(),V({}),i(!0);try{const Ve=new FormData;Ve.append("titre",te.titre),Ve.append("description",te.description),Ve.append("category",te.category),Ve.append("role",te.role),Ve.append("statut",te.statut),te.image&&Ve.append("image",te.image),await he.post("/admin-systeme/store/aides",Ve,{headers:{"Content-Type":"multipart/form-data"}}),Oe(l),_(!1),ee(),Z("Aide ajoutée avec succès !","success")}catch(Ve){Ve.response?.status===422?V(Ve.response.data.errors||{}):console.error("Erreur lors de l'ajout de l'aide:",Ve),Z("Erreur lors de l'ajout de l'aide.","danger")}finally{i(!1)}},Se=je=>{K(je),ie({titre:je.titre,description:je.description,category:je.category,role:je.role.toString(),statut:je.statut.toString(),image:null}),D(!0)},ae=async je=>{je.preventDefault(),V({}),i(!0);try{const Ve=new FormData;Ve.append("titre",te.titre),Ve.append("description",te.description),Ve.append("category",te.category),Ve.append("role",te.role),Ve.append("statut",te.statut),Ve.append("_method","PUT"),te.image&&Ve.append("image",te.image),await he.post(`/admin-systeme/update/aide/${z.id}`,Ve,{headers:{"Content-Type":"multipart/form-data"}}),Oe(l),D(!1),ee(),Z("Aide mise à jour avec succès !","success")}catch(Ve){Ve.response?.status===422?V(Ve.response.data.errors||{}):console.error("Erreur lors de la mise à jour de l'aide:",Ve),Z("Erreur lors de la mise à jour de l'aide.","danger")}finally{i(!1)}},ye=async je=>{try{const Ve=await he.get(`/admin-systeme/show/aide/${je}`);K(Ve.data.data),L(!0)}catch(Ve){console.error("Erreur lors du chargement de l'aide:",Ve),Z("Erreur lors du chargement de l'aide.","danger")}},st=je=>{H(je),Q(!0)},He=async()=>{i(!0);try{await he.delete(`/admin-systeme/destroy/aide/${I}`),Oe(l),Q(!1),Z("Aide supprimée avec succès !","success")}catch(je){console.error("Erreur lors de la suppression de l'aide:",je),Z("Erreur lors de la suppression de l'aide.","danger")}finally{i(!1)}},ke=je=>{if(!je)return"Non spécifiée";const Ve={year:"numeric",month:"long",day:"numeric"};return new Date(je).toLocaleDateString("fr-FR",Ve)},we={centered:!0,contentClassName:fe==="dark"?"bg-dark text-light":""},Ke={className:fe==="dark"?"bg-dark text-light border-secondary":"",closeButton:!0},Ee={className:fe==="dark"?"bg-dark text-light border-secondary":""};return e.jsx(Vt,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${fe==="dark"?"bg-primary bg-opacity-25":"bg-primary bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"help-circle",className:"text-primary",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${fe==="dark"?"text-light":"text-dark"}`,children:"Gestion du support Techniques"}),e.jsx("p",{className:`mb-0 ${fe==="dark"?"text-light":"text-muted"}`,children:"Institut de Formation -  Administration des articles d'aide pour tous les utilisateurs de la plateforme."})]})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${fe==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${fe==="dark"?"text-light":"text-dark"}`,children:s.length}),e.jsx("small",{className:fe==="dark"?"text-light":"text-muted",children:"Total Aides"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"help-circle",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${fe==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:s.filter(je=>je.statut==0).length}),e.jsx("small",{className:fe==="dark"?"text-light":"text-muted",children:"Publiées"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"check-circle",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${fe==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-secondary",children:s.filter(je=>je.statut==1).length}),e.jsx("small",{className:fe==="dark"?"text-light":"text-muted",children:"Non publiées"})]}),e.jsx("div",{className:"text-secondary",children:e.jsx("i",{"data-feather":"x-circle",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${fe==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${fe==="dark"?"text-light":"text-dark"}`,children:Object.keys(ge).length}),e.jsx("small",{className:fe==="dark"?"text-light":"text-muted",children:"Types d'utilisateurs"})]}),e.jsx("div",{className:"text-info",children:e.jsx("i",{"data-feather":"users",style:{width:"24px",height:"24px"}})})]})})})})]})]}),e.jsxs(w,{className:`shadow-sm border-0 ${fe==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${fe==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"list",className:"text-primary me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${fe==="dark"?"text-light":"text-dark"}`,children:"Liste des Articles d'Aide"})]}),e.jsx("div",{className:"d-flex gap-2 mt-2 mt-md-0",children:e.jsxs($,{variant:"success",className:"d-flex align-items-center",onClick:()=>_(!0),children:[e.jsx("i",{"data-feather":"plus",className:"me-2",style:{width:"16px",height:"16px"}}),"Nouvelle Aide"]})})]})}),e.jsxs(w.Body,{className:fe==="dark"?"bg-dark":"bg-white",children:[e.jsx("div",{className:"mb-4 p-3 rounded",style:{backgroundColor:fe==="dark"?"#1a1a1a":"#f8f9fa"},children:e.jsxs("div",{className:"row g-3",children:[e.jsxs(T,{md:4,children:[e.jsxs(b.Label,{className:`small fw-bold ${fe==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"search",className:"me-1",style:{width:"14px",height:"14px"}}),"Recherche globale"]}),e.jsx(b.Control,{type:"text",placeholder:"Titre, contenu...",value:d,onChange:je=>f(je.target.value),onKeyDown:je=>je.key==="Enter"&&Oe(1),...Ee})]}),e.jsxs(T,{md:2,children:[e.jsxs(b.Label,{className:`small fw-bold ${fe==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"users",className:"me-1",style:{width:"14px",height:"14px"}}),"Rôle"]}),e.jsxs(b.Select,{value:p,onChange:je=>j(je.target.value),...Ee,children:[e.jsx("option",{value:"",children:"Tous les rôles"}),Object.entries(ge).map(([je,Ve])=>e.jsx("option",{value:je,children:Ve.label},je))]})]}),e.jsxs(T,{md:2,children:[e.jsxs(b.Label,{className:`small fw-bold ${fe==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"eye",className:"me-1",style:{width:"14px",height:"14px"}}),"Statut"]}),e.jsxs(b.Select,{value:y,onChange:je=>k(je.target.value),...Ee,children:[e.jsx("option",{value:"",children:"Tous les statuts"}),Object.entries(re).map(([je,Ve])=>e.jsx("option",{value:je,children:Ve.label},je))]})]}),e.jsxs(T,{md:2,children:[e.jsxs(b.Label,{className:`small fw-bold ${fe==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"14px",height:"14px"}}),"Date"]}),e.jsx(b.Control,{type:"date",value:v,onChange:je=>S(je.target.value),...Ee})]}),e.jsxs(T,{md:2,children:[e.jsx(b.Label,{className:"small opacity-0",children:"Action"}),e.jsx("div",{children:e.jsxs($,{variant:fe==="dark"?"outline-light":"outline-primary",className:"w-100",onClick:()=>Oe(1),children:[e.jsx("i",{"data-feather":"search",className:"me-1",style:{width:"16px",height:"16px"}}),"Filtrer"]})})]})]})}),a?e.jsxs("div",{className:"text-center py-5",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Chargement..."})}),e.jsx("p",{className:"mt-2 text-muted",children:"Chargement des aides..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(pe,{className:"g-4 mb-4",children:s.length>0?s.map(je=>e.jsx(T,{lg:6,xl:4,children:e.jsxs(w,{className:`h-100 shadow-sm border-0 ${fe==="dark"?"bg-secondary bg-opacity-10":"bg-white"}`,children:[je.image&&e.jsx(w.Img,{variant:"top",src:je.image_url,alt:je.titre,style:{height:"200px",objectFit:"cover"}}),e.jsxs(w.Body,{className:"d-flex flex-column",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[e.jsxs(oe,{bg:ge[je.role]?.color||"secondary",className:"px-2 py-1",children:[e.jsx("i",{"data-feather":ge[je.role]?.icon||"user",className:"me-1",style:{width:"12px",height:"12px"}}),ge[je.role]?.label||"Inconnu"]}),e.jsxs(oe,{bg:re[je.statut]?.color||"secondary",className:"px-2 py-1",children:[e.jsx("i",{"data-feather":re[je.statut]?.icon||"circle",className:"me-1",style:{width:"12px",height:"12px"}}),re[je.statut]?.label||"Inconnu"]})]}),e.jsx(w.Title,{className:`mb-2 ${fe==="dark"?"text-light":"text-dark"}`,children:je.titre}),je.category&&e.jsxs(w.Title,{className:` ${fe==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"layers",className:"me-1",style:{width:"16px",height:"16px"}})," ",je.category]}),e.jsx(w.Text,{className:`small text-muted flex-grow-1 ${fe==="dark"?"text-light":""}`,children:je.description.length>100?`${je.description.substring(0,100)}...`:je.description}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-auto",children:[e.jsxs("small",{className:fe==="dark"?"text-light":"text-muted",children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"12px",height:"12px"}}),ke(je.created_at)]}),e.jsxs("div",{className:"d-flex gap-1",children:[e.jsx($,{size:"sm",variant:"outline-info",title:"Voir",onClick:()=>ye(je.id),children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-warning",title:"Modifier",onClick:()=>Se(je),children:e.jsx("i",{"data-feather":"edit",style:{width:"14px",height:"14px"}})}),e.jsx($,{size:"sm",variant:"outline-danger",title:"Supprimer",onClick:()=>st(je.id),children:e.jsx("i",{"data-feather":"trash-2",style:{width:"14px",height:"14px"}})})]})]})]})]})},je.id)):e.jsx(T,{xs:12,children:e.jsx("div",{className:"text-center py-5",children:e.jsxs("div",{className:`${fe==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"help-circle",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucune aide trouvée"}),e.jsx("p",{className:"small mb-0",children:"Aucune aide ne correspond à vos critères de recherche."})]})]})})})}),o>1&&e.jsx("div",{className:"d-flex justify-content-center",children:e.jsxs(uh,{children:[e.jsx(uh.First,{disabled:l===1,onClick:()=>c(1)}),e.jsx(uh.Prev,{disabled:l===1,onClick:()=>c(l-1)}),[...Array(o)].map((je,Ve)=>{const Nt=Ve+1;return Nt===l||Nt>=l-2&&Nt<=l+2||Nt===1||Nt===o?e.jsx(uh.Item,{active:Nt===l,onClick:()=>c(Nt),children:Nt},Nt):Nt===l-3||Nt===l+3?e.jsx(uh.Ellipsis,{},Nt):null}),e.jsx(uh.Next,{disabled:l===o,onClick:()=>c(l+1)}),e.jsx(uh.Last,{disabled:l===o,onClick:()=>c(o)})]})})]})]})]}),e.jsxs(Y,{...we,show:C,onHide:()=>{_(!1),ee()},size:"lg",children:[e.jsx(Y.Header,{...Ke,children:e.jsxs(Y.Title,{children:[e.jsx("i",{"data-feather":"plus",className:"me-2",style:{width:"20px",height:"20px"}}),"Ajouter une nouvelle aide"]})}),e.jsxs(b,{onSubmit:Xe,children:[e.jsx(Y.Body,{className:we.contentClassName,children:e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Titre de l'aide *"}),e.jsx(b.Control,{type:"text",name:"titre",placeholder:"Entrez le titre de l'aide",required:!0,value:te.titre,onChange:me,isInvalid:!!U.titre,...Ee}),e.jsx(b.Control.Feedback,{type:"invalid",children:U.titre})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Type d'utilisateur *"}),e.jsxs(b.Select,{name:"role",required:!0,value:te.role,onChange:me,isInvalid:!!U.role,...Ee,children:[e.jsx("option",{value:"",children:"Sélectionnez un type"}),Object.entries(ge).map(([je,Ve])=>e.jsx("option",{value:je,children:Ve.label},je))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:U.role})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Categorie"}),e.jsxs(b.Select,{name:"category",required:!0,value:te.category,onChange:me,isInvalid:!!U.category,...Ee,children:[e.jsx("option",{value:"",children:"Sélectionnez un type"}),Object.entries(ve).map(([je,Ve])=>e.jsx("option",{value:je,children:Ve.label},je))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:U.category})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Statut de publication"}),e.jsx(b.Select,{name:"statut",value:te.statut,onChange:me,isInvalid:!!U.statut,...Ee,children:Object.entries(re).map(([je,Ve])=>e.jsx("option",{value:je,children:Ve.label},je))}),e.jsx(b.Control.Feedback,{type:"invalid",children:U.statut})]})}),e.jsx(T,{xs:12,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Image d'illustration (Optionnel)"}),e.jsx(b.Control,{type:"file",name:"image",accept:"image/*",onChange:me,isInvalid:!!U.image,...Ee}),e.jsx(b.Text,{className:fe==="dark"?"text-light":"text-muted",children:"Formats acceptés: JPG, JPEG, PNG, WEBP (Max: 2MB)"}),e.jsx(b.Control.Feedback,{type:"invalid",children:U.image})]})}),e.jsx(T,{xs:12,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Contenu de l'aide *"}),e.jsx(b.Control,{as:"textarea",name:"description",rows:6,placeholder:"Décrivez en détail le contenu de l'aide...",required:!0,value:te.description,onChange:me,isInvalid:!!U.description,...Ee}),e.jsx(b.Control.Feedback,{type:"invalid",children:U.description})]})})]})}),e.jsxs(Y.Footer,{className:Ke.className,children:[e.jsx($,{variant:"secondary",onClick:()=>{_(!1),ee()},children:"Annuler"}),e.jsxs($,{type:"submit",variant:"success",disabled:n,children:[e.jsx("i",{"data-feather":"save",className:"me-1",style:{width:"16px",height:"16px"}}),n?"Enregistrement...":"Enregistrer"]})]})]})]}),e.jsxs(Y,{...we,show:A,onHide:()=>{D(!1),ee()},size:"lg",children:[e.jsx(Y.Header,{...Ke,children:e.jsxs(Y.Title,{children:[e.jsx("i",{"data-feather":"edit",className:"me-2",style:{width:"20px",height:"20px"}}),"Modifier l'aide"]})}),e.jsxs(b,{onSubmit:ae,children:[e.jsx(Y.Body,{className:we.contentClassName,children:e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{xs:12,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Titre de l'aide *"}),e.jsx(b.Control,{type:"text",name:"titre",placeholder:"Entrez le titre de l'aide",required:!0,value:te.titre,onChange:me,isInvalid:!!U.titre,...Ee}),e.jsx(b.Control.Feedback,{type:"invalid",children:U.titre})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Type d'utilisateur *"}),e.jsxs(b.Select,{name:"role",required:!0,value:te.role,onChange:me,isInvalid:!!U.role,...Ee,children:[e.jsx("option",{value:"",children:"Sélectionnez un type"}),Object.entries(ge).map(([je,Ve])=>e.jsx("option",{value:je,children:Ve.label},je))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:U.role})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Categorie"}),e.jsxs(b.Select,{name:"category",required:!0,value:te.category,onChange:me,isInvalid:!!U.category,...Ee,children:[e.jsx("option",{value:"",children:"Sélectionnez un type"}),Object.entries(ve).map(([je,Ve])=>e.jsx("option",{value:je,children:Ve.label},je))]}),e.jsx(b.Control.Feedback,{type:"invalid",children:U.category})]})}),e.jsx(T,{md:6,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Statut de publication"}),e.jsx(b.Select,{name:"statut",value:te.statut,onChange:me,isInvalid:!!U.statut,...Ee,children:Object.entries(re).map(([je,Ve])=>e.jsx("option",{value:je,children:Ve.label},je))}),e.jsx(b.Control.Feedback,{type:"invalid",children:U.statut})]})}),e.jsx(T,{xs:12,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Image d'illustration"}),z?.image&&e.jsxs("div",{className:"mb-2",children:[e.jsx("img",{src:z.image_url,alt:"Image actuelle",className:"img-thumbnail",style:{maxHeight:"100px"}}),e.jsx("small",{className:`d-block ${fe==="dark"?"text-light":"text-muted"}`,children:"Image actuelle"})]}),e.jsx(b.Control,{type:"file",name:"image",accept:"image/*",onChange:me,isInvalid:!!U.image,...Ee}),e.jsx(b.Text,{className:fe==="dark"?"text-light":"text-muted",children:"Laissez vide pour conserver l'image actuelle. Formats acceptés: JPG, JPEG, PNG, WEBP (Max: 2MB)"}),e.jsx(b.Control.Feedback,{type:"invalid",children:U.image})]})}),e.jsx(T,{xs:12,children:e.jsxs(b.Group,{children:[e.jsx(b.Label,{children:"Contenu de l'aide *"}),e.jsx(b.Control,{as:"textarea",name:"description",rows:6,placeholder:"Décrivez en détail le contenu de l'aide...",required:!0,value:te.description,onChange:me,isInvalid:!!U.description,...Ee}),e.jsx(b.Control.Feedback,{type:"invalid",children:U.description})]})})]})}),e.jsxs(Y.Footer,{className:Ke.className,children:[e.jsx($,{variant:"secondary",onClick:()=>{D(!1),ee()},children:"Annuler"}),e.jsxs($,{type:"submit",variant:"warning",disabled:n,children:[e.jsx("i",{"data-feather":"save",className:"me-1",style:{width:"16px",height:"16px"}}),n?"Mise à jour...":"Mettre à jour"]})]})]})]}),e.jsxs(Y,{...we,show:M,onHide:()=>L(!1),size:"lg",children:[e.jsx(Y.Header,{...Ke,children:e.jsxs(Y.Title,{children:[e.jsx("i",{"data-feather":"eye",className:"me-2",style:{width:"20px",height:"20px"}}),"Détails de l'aide"]})}),e.jsx(Y.Body,{className:we.contentClassName,children:z&&e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-4",children:[e.jsxs("div",{children:[e.jsxs(oe,{bg:ge[z.role]?.color||"secondary",className:"px-3 py-2 me-2",children:[e.jsx("i",{"data-feather":ge[z.role]?.icon||"user",className:"me-1",style:{width:"14px",height:"14px"}}),ge[z.role]?.label||"Inconnu"]}),e.jsxs(oe,{bg:re[z.statut]?.color||"secondary",className:"px-3 py-2",children:[e.jsx("i",{"data-feather":re[z.statut]?.icon||"circle",className:"me-1",style:{width:"14px",height:"14px"}}),re[z.statut]?.label||"Inconnu"]})]}),e.jsxs("small",{className:fe==="dark"?"text-light":"text-muted",children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"12px",height:"12px"}}),"Créée le ",ke(z.created_at)]})]}),e.jsx("h4",{className:`mb-3 ${fe==="dark"?"text-light":"text-dark"}`,children:z.titre}),z.image&&e.jsx("div",{className:"mb-4 text-center",children:e.jsx("img",{src:z.image_url,alt:z.titre,className:"img-fluid rounded shadow",style:{maxHeight:"300px"}})}),e.jsxs("div",{className:`border-top pt-3 ${fe==="dark"?"border-secondary":""}`,children:[e.jsxs("h6",{className:`mb-2 ${fe==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"file-text",className:"me-2",style:{width:"16px",height:"16px"}}),"Contenu de l'aide"]}),e.jsx("div",{className:`${fe==="dark"?"text-light":"text-dark"}`,style:{whiteSpace:"pre-wrap",lineHeight:"1.6"},children:z.description})]}),e.jsx("div",{className:`mt-4 pt-3 border-top ${fe==="dark"?"border-secondary":""}`,children:e.jsxs(pe,{children:[e.jsx(T,{md:6,children:e.jsxs("small",{className:`fw-bold ${fe==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"hash",className:"me-1",style:{width:"12px",height:"12px"}}),"Matricule: ",z.matricule]})}),e.jsx(T,{md:6,children:e.jsxs("small",{className:fe==="dark"?"text-light":"text-muted",children:[e.jsx("i",{"data-feather":"clock",className:"me-1",style:{width:"12px",height:"12px"}}),"Modifiée le ",ke(z.updated_at)]})})]})})]})}),e.jsxs(Y.Footer,{className:Ke.className,children:[e.jsx($,{variant:"secondary",onClick:()=>L(!1),children:"Fermer"}),z&&e.jsxs(e.Fragment,{children:[e.jsxs($,{variant:"warning",onClick:()=>{L(!1),Se(z)},children:[e.jsx("i",{"data-feather":"edit",className:"me-1",style:{width:"16px",height:"16px"}}),"Modifier"]}),e.jsxs($,{variant:"danger",onClick:()=>{L(!1),st(z.id)},children:[e.jsx("i",{"data-feather":"trash-2",className:"me-1",style:{width:"16px",height:"16px"}}),"Supprimer"]})]})]})]}),e.jsxs(Y,{...we,show:F,onHide:()=>Q(!1),children:[e.jsx(Y.Header,{...Ke,children:e.jsxs(Y.Title,{children:[e.jsx("i",{"data-feather":"alert-triangle",className:"me-2 text-danger",style:{width:"20px",height:"20px"}}),"Confirmation de suppression"]})}),e.jsx(Y.Body,{className:we.contentClassName,children:e.jsxs("div",{className:"text-center",children:[e.jsx("i",{"data-feather":"trash-2",className:"text-danger mb-3",style:{width:"48px",height:"48px"}}),e.jsx("p",{className:fe==="dark"?"text-light":"text-dark",children:"Êtes-vous sûr de vouloir supprimer cette aide ?"}),e.jsx("p",{className:`small ${fe==="dark"?"text-light":"text-muted"}`,children:"Cette action est irréversible et supprimera définitivement l'article d'aide."})]})}),e.jsxs(Y.Footer,{className:Ke.className,children:[e.jsx($,{variant:"secondary",onClick:()=>Q(!1),children:"Annuler"}),e.jsxs($,{variant:"danger",onClick:He,disabled:n,children:[e.jsx("i",{"data-feather":"trash-2",className:"me-1",style:{width:"16px",height:"16px"}}),n?"Suppression...":"Supprimer définitivement"]})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{show:P,onClose:()=>q(!1),delay:3e3,autohide:!0,bg:O==="success"?"success":"danger",className:fe==="dark"?"text-light":"text-white",children:[e.jsx(Te.Header,{closeButton:!1,className:`${O==="success"?"bg-success text-white":"bg-danger text-white"}`,children:e.jsxs("strong",{className:"me-auto",children:[e.jsx("i",{"data-feather":O==="success"?"check-circle":"x-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Notification"]})}),e.jsx(Te.Body,{className:fe==="dark"?"bg-dark text-light":"",children:G})]})})]})})}function A4e(){const[s,t]=x.useState([]),[a,r]=x.useState([]),[n,i]=x.useState([]),[l,c]=x.useState({total_logs:0,total_auteurs:0,logs_lues:0,logs_non_lues:0}),[o,u]=x.useState(""),[d,f]=x.useState(""),[p,j]=x.useState(""),[y,k]=x.useState(""),[v,S]=x.useState(!1),[C,_]=x.useState(!1),[A,D]=x.useState(!1),[M,L]=x.useState(!1),[F,Q]=x.useState(null),[I,H]=x.useState(null),[z,K]=x.useState(""),[U,V]=x.useState(!1),[P,q]=x.useState(""),[G,se]=x.useState("success"),[O,W]=x.useState("light");x.useEffect(()=>{const Se=document.documentElement.getAttribute("data-theme")||"light";W(Se);const ae=new MutationObserver(()=>{const ye=document.documentElement.getAttribute("data-theme")||"light";W(ye)});return ae.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>ae.disconnect()},[]);const Z=(Se,ae="success")=>{q(Se),se(ae),V(!0)},te=x.useCallback(async()=>{try{const Se={};o.trim()&&(Se.search=o.trim()),d&&(Se.created_at=d),p&&(Se.statut_lecture=p),y&&(Se.matricule_auteur=y);const ae=await he.get("/admin-systeme/view/logs",{params:Se});t(ae.data.logs||[]),c(ae.data.statistics||{total_logs:0,total_auteurs:0,logs_lues:0,logs_non_lues:0}),i(ae.data.auteurs||[])}catch(Se){console.error("Erreur lors de la récupération des logs",Se),Z("Erreur lors de la récupération des logs","danger")}},[o,d,p,y]);x.useEffect(()=>{We.replace(),te()},[te]),x.useEffect(()=>{We.replace()},[s,a]);const ie=async Se=>{try{await he.put(`/admin-systeme/logs/${Se}/mark-read`),te(),Z("Log marqué comme lu","success")}catch(ae){console.error(ae),Z("Erreur lors du marquage","danger")}},fe=async()=>{try{const Se=await he.put("/admin-systeme/logs/mark-all-read");te(),D(!1),Z(Se.data.message,"success")}catch(Se){console.error(Se),Z("Erreur lors du marquage","danger")}},J=async()=>{try{await he.put(`/admin-systeme/logs/${F.id}/solution`,{solution:z}),te(),S(!1),K(""),Q(null),Z("Solution ajoutée avec succès","success")}catch(Se){console.error(Se),Z("Erreur lors de l'ajout de la solution","danger")}},ge=(Se=null)=>{H(Se),_(!0)},re=async()=>{try{const Se=I?[I]:a;I?await he.delete(`/admin-systeme/destroy/logs/${I}`):await he.post("/admin-systeme/logs/destroy-group",{ids:Se}),te(),_(!1),r([]),H(null),Z("Log(s) supprimé(s) avec succès","success")}catch(Se){console.error(Se),Z("Erreur lors de la suppression","danger")}},ve=Se=>{const{value:ae,checked:ye}=Se.target,st=parseInt(ae);r(ye?He=>[...He,st]:He=>He.filter(ke=>ke!==st))},Oe=Se=>{Se.target.checked?r(s.map(ae=>ae.id)):r([])},ee=Se=>{Q(Se),K(Se.solution||""),S(!0)},me=Se=>{Q(Se),L(!0)},Xe=Se=>new Date(Se).toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return e.jsx(Vt,{children:e.jsxs(yt,{className:"py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:`me-3 p-3 rounded-circle ${O==="dark"?"bg-danger bg-opacity-25":"bg-danger bg-opacity-10"}`,children:e.jsx("i",{"data-feather":"alert-circle",className:"text-danger",style:{width:"24px",height:"24px"}})}),e.jsxs("div",{children:[e.jsx("h2",{className:`mb-1 ${O==="dark"?"text-light":"text-dark"}`,children:"Gestion des Logs"}),e.jsx("p",{className:`mb-0 ${O==="dark"?"text-light":"text-muted"}`,children:"Suivi et résolution des erreurs système"})]})]}),e.jsxs(pe,{className:"mb-4",children:[e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${O==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`mb-0 ${O==="dark"?"text-light":"text-dark"}`,children:l.total_logs}),e.jsx("small",{className:O==="dark"?"text-light":"text-muted",children:"Total Logs"})]}),e.jsx("div",{className:"text-info",children:e.jsx("i",{"data-feather":"file-text",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${O==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-primary",children:l.total_auteurs}),e.jsx("small",{className:O==="dark"?"text-light":"text-muted",children:"Auteurs Uniques"})]}),e.jsx("div",{className:"text-primary",children:e.jsx("i",{"data-feather":"users",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${O==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-success",children:l.logs_lues}),e.jsx("small",{className:O==="dark"?"text-light":"text-muted",children:"Logs Lues"})]}),e.jsx("div",{className:"text-success",children:e.jsx("i",{"data-feather":"check-circle",style:{width:"24px",height:"24px"}})})]})})})}),e.jsx(T,{md:3,children:e.jsx(w,{className:`border-0 shadow-sm ${O==="dark"?"bg-dark":"bg-white"}`,children:e.jsx(w.Body,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0 text-danger",children:l.logs_non_lues}),e.jsx("small",{className:O==="dark"?"text-light":"text-muted",children:"Non Lues"})]}),e.jsx("div",{className:"text-danger",children:e.jsx("i",{"data-feather":"alert-triangle",style:{width:"24px",height:"24px"}})})]})})})})]})]}),e.jsxs(w,{className:`shadow-sm border-0 ${O==="dark"?"bg-dark":"bg-white"}`,children:[e.jsx(w.Header,{className:`border-0 ${O==="dark"?"bg-dark":"bg-white"}`,children:e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{"data-feather":"list",className:"text-danger me-2",style:{width:"20px",height:"20px"}}),e.jsx("span",{className:`fw-bold ${O==="dark"?"text-light":"text-dark"}`,children:"Journal des Erreurs"})]}),e.jsxs("div",{className:"d-flex gap-2 mt-2 mt-md-0",children:[a.length>0&&e.jsxs($,{variant:"danger",className:"d-flex align-items-center",onClick:()=>ge(),children:[e.jsx("i",{"data-feather":"trash-2",className:"me-2",style:{width:"16px",height:"16px"}}),"Supprimer (",a.length,")"]}),e.jsxs($,{variant:"success",className:"d-flex align-items-center",onClick:()=>D(!0),children:[e.jsx("i",{"data-feather":"check-circle",className:"me-2",style:{width:"16px",height:"16px"}}),"Tout Marquer Lu"]})]})]})}),e.jsxs(w.Body,{className:O==="dark"?"bg-dark":"bg-white",children:[e.jsx("div",{className:"mb-4 p-3 rounded",style:{backgroundColor:O==="dark"?"#1a1a1a":"#f8f9fa"},children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-3",children:[e.jsxs(b.Label,{className:`small fw-bold ${O==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"search",className:"me-1",style:{width:"14px",height:"14px"}}),"Recherche Générale"]}),e.jsx(b.Control,{type:"text",placeholder:"Matricule, action, message...",value:o,onChange:Se=>u(Se.target.value),className:O==="dark"?"bg-dark text-light border-secondary":""})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsxs(b.Label,{className:`small fw-bold ${O==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"user",className:"me-1",style:{width:"14px",height:"14px"}}),"Auteur"]}),e.jsxs(b.Select,{value:y,onChange:Se=>k(Se.target.value),className:O==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous les auteurs"}),n.map(Se=>e.jsx("option",{value:Se.matricule,children:Se.name},Se.matricule))]})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsxs(b.Label,{className:`small fw-bold ${O==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"eye",className:"me-1",style:{width:"14px",height:"14px"}}),"Statut Lecture"]}),e.jsxs(b.Select,{value:p,onChange:Se=>j(Se.target.value),className:O==="dark"?"bg-dark text-light border-secondary":"",children:[e.jsx("option",{value:"",children:"Tous"}),e.jsx("option",{value:"Lue",children:"Lue"}),e.jsx("option",{value:"Non lue",children:"Non lue"})]})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsxs(b.Label,{className:`small fw-bold ${O==="dark"?"text-light":"text-dark"}`,children:[e.jsx("i",{"data-feather":"calendar",className:"me-1",style:{width:"14px",height:"14px"}}),"Date"]}),e.jsx(b.Control,{type:"date",value:d,onChange:Se=>f(Se.target.value),className:O==="dark"?"bg-dark text-light border-secondary":""})]})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs(Et,{hover:!0,className:`align-middle ${O==="dark"?"table-dark":""}`,style:{borderRadius:"8px",overflow:"hidden"},children:[e.jsx("thead",{className:"table-danger",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center",style:{width:"50px"},children:e.jsx(b.Check,{type:"checkbox",checked:s.length>0&&a.length===s.length,onChange:Oe,className:O==="dark"?"text-light":""})}),e.jsx("th",{children:"#"}),e.jsx("th",{children:"Auteur"}),e.jsx("th",{className:"d-none d-lg-table-cell",children:"Action"}),e.jsx("th",{className:"d-none d-lg-table-cell",children:"Statut"}),e.jsx("th",{children:"Date"}),e.jsx("th",{className:"text-end",children:"Actions"})]})}),e.jsx("tbody",{children:s.length>0?s.map((Se,ae)=>e.jsxs("tr",{className:Se.statut_lecture==="Non lue"?"table-warning":"",children:[e.jsx("td",{className:"text-center",children:e.jsx(b.Check,{type:"checkbox",value:Se.id,checked:a.includes(Se.id),onChange:ve,className:O==="dark"?"text-light":""})}),e.jsx("td",{children:e.jsx(oe,{bg:O==="dark"?"secondary":"dark",className:"fw-normal",children:ae+1})}),e.jsx("td",{children:Se.user_auteur?.name||"SYSTEM"}),e.jsx("td",{className:"d-none d-lg-table-cell",children:Se.action}),e.jsx("td",{className:"d-none d-lg-table-cell",children:e.jsx(oe,{bg:Se.statut_lecture==="Lue"?"success":"danger",children:Se.statut_lecture})}),e.jsx("td",{children:Xe(Se.created_at)}),e.jsx("td",{className:"text-end",children:e.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[e.jsx($,{variant:"outline-info",size:"sm",onClick:()=>me(Se),children:e.jsx("i",{"data-feather":"eye",style:{width:"14px",height:"14px"}})}),Se.statut_lecture==="Non lue"&&e.jsx($,{variant:"outline-success",size:"sm",onClick:()=>ie(Se.id),children:e.jsx("i",{"data-feather":"check",style:{width:"14px",height:"14px"}})}),e.jsx($,{variant:"outline-primary",size:"sm",onClick:()=>ee(Se),children:e.jsx("i",{"data-feather":"edit",style:{width:"14px",height:"14px"}})}),e.jsx($,{variant:"outline-danger",size:"sm",onClick:()=>ge(Se.id),children:e.jsx("i",{"data-feather":"trash-2",style:{width:"14px",height:"14px"}})})]})})]},Se.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center py-5",children:e.jsxs("div",{className:`${O==="dark"?"text-light":"text-muted"}`,children:[e.jsx("i",{"data-feather":"alert-circle",className:"mb-3",style:{width:"48px",height:"48px",opacity:.5}}),e.jsxs("div",{children:[e.jsx("h6",{children:"Aucun log trouvé"}),e.jsx("p",{className:"small mb-0",children:"Aucun log ne correspond à vos critères de recherche."})]})]})})})})]})})]})]}),e.jsxs(Y,{show:M,onHide:()=>L(!1),centered:!0,size:"lg",children:[e.jsx(Y.Header,{closeButton:!0,className:O==="dark"?"bg-dark text-light":"",children:e.jsxs(Y.Title,{children:["Détails du Log - ",F?.matricule]})}),e.jsx(Y.Body,{className:O==="dark"?"bg-dark text-light":"",children:F&&e.jsxs(pe,{className:"g-3",children:[e.jsx(T,{md:6,children:e.jsx(w,{className:`h-100 ${O==="dark"?"bg-dark text-light border-secondary":"bg-light"}`,children:e.jsxs(w.Body,{children:[e.jsx("h6",{className:"fw-bold",children:"Informations Générales"}),e.jsx("hr",{className:"mt-1 mb-2"}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Auteur :"})," ",F.user_auteur?.name||"SYSTEM"]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Controller :"})," ",F.name_controller]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Action :"})," ",F.action]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Date :"})," ",Xe(F.created_at)]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Statut :"}),e.jsx(oe,{bg:F.statut_lecture==="Lue"?"success":"danger",className:"ms-2",children:F.statut_lecture})]})]})})}),e.jsx(T,{md:6,children:e.jsx(w,{className:`h-100 ${O==="dark"?"bg-dark text-light border-secondary":"bg-light"}`,children:e.jsxs(w.Body,{children:[e.jsx("h6",{className:"fw-bold",children:"Message d'Erreur"}),e.jsx("hr",{className:"mt-1 mb-2"}),e.jsx("p",{children:F.message})]})})}),e.jsx(T,{md:12,children:e.jsx(w,{className:`h-100 ${O==="dark"?"bg-dark text-light border-secondary":"bg-light"}`,children:e.jsxs(w.Body,{children:[e.jsx("h6",{className:"fw-bold",children:"Solution"}),e.jsx("hr",{className:"mt-1 mb-2"}),e.jsx("p",{children:F.solution||"Aucune solution n'a encore été ajoutée."})]})})})]})}),e.jsx(Y.Footer,{className:O==="dark"?"bg-dark text-light":"",children:e.jsx($,{variant:"secondary",onClick:()=>L(!1),children:"Fermer"})})]}),e.jsxs(Y,{show:v,onHide:()=>S(!1),centered:!0,children:[e.jsx(Y.Header,{closeButton:!0,children:e.jsx(Y.Title,{children:"Ajouter une Solution"})}),e.jsx(Y.Body,{children:e.jsx(b,{children:e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Solution"}),e.jsx(b.Control,{as:"textarea",rows:3,value:z,onChange:Se=>K(Se.target.value)})]})})}),e.jsxs(Y.Footer,{children:[e.jsx($,{variant:"secondary",onClick:()=>S(!1),children:"Annuler"}),e.jsx($,{variant:"primary",onClick:J,children:"Enregistrer"})]})]}),e.jsxs(Y,{show:C,onHide:()=>_(!1),centered:!0,children:[e.jsx(Y.Header,{closeButton:!0,children:e.jsx(Y.Title,{children:"Confirmer la Suppression"})}),e.jsx(Y.Body,{children:I?"Êtes-vous sûr de vouloir supprimer ce log ?":`Êtes-vous sûr de vouloir supprimer les ${a.length} logs sélectionnés ?`}),e.jsxs(Y.Footer,{children:[e.jsx($,{variant:"secondary",onClick:()=>_(!1),children:"Annuler"}),e.jsx($,{variant:"danger",onClick:re,children:"Supprimer"})]})]}),e.jsxs(Y,{show:A,onHide:()=>D(!1),centered:!0,children:[e.jsx(Y.Header,{closeButton:!0,children:e.jsx(Y.Title,{children:"Confirmer l'action"})}),e.jsx(Y.Body,{children:"Êtes-vous sûr de vouloir marquer tous les logs comme lus ?"}),e.jsxs(Y.Footer,{children:[e.jsx($,{variant:"secondary",onClick:()=>D(!1),children:"Annuler"}),e.jsx($,{variant:"success",onClick:fe,children:"Confirmer"})]})]}),e.jsx(Ct,{position:"bottom-end",className:"p-3 position-fixed",style:{zIndex:1050},children:e.jsxs(Te,{onClose:()=>V(!1),show:U,delay:3e3,autohide:!0,bg:G,children:[e.jsx(Te.Header,{children:e.jsx("strong",{className:"me-auto",children:"Notification"})}),e.jsx(Te.Body,{className:"text-white",children:P})]})})]})})}function T4e(){return x.useEffect(()=>{We.replace()},[]),e.jsxs("div",{className:"d-flex flex-column justify-content-center align-items-center vh-100 text-center px-3",children:[e.jsx("div",{className:"mb-4",children:e.jsx("i",{"data-feather":"alert-triangle",style:{width:"64px",height:"64px",color:"#dc3545"}})}),e.jsx("h1",{className:"display-4 fw-bold text-danger",children:"404"}),e.jsx("h3",{className:"mb-2",children:"Page introuvable"}),e.jsx("p",{className:"text-muted mb-4",children:"La page que vous cherchez n'existe pas ou a été déplacée."}),e.jsx(xe,{to:"/",className:"btn btn-primary px-4 py-2",children:"Retour à l'accueil"})]})}const M4e=()=>e.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100 bg-light",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"position-relative",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",style:{width:"4rem",height:"4rem"},children:e.jsx("span",{className:"visually-hidden",children:"Chargement..."})}),e.jsx("i",{className:"fas fa-heartbeat position-absolute top-50 start-50 translate-middle text-primary",style:{fontSize:"1.5rem"}})]}),e.jsx("h5",{className:"mt-3 text-primary",children:"Institut de Formation"}),e.jsx("p",{className:"text-muted",children:"Vérification de votre session..."})]})});function ht({children:s,allowedRoles:t}){const{user:a,initializing:r}=Aa();if(r)return e.jsx(M4e,{});if(!a)return e.jsx(Uk,{to:"/login",replace:!0});if(!t.includes(a.role)){const n={0:"/etudiant-espace-attente/dashboard",1:"/etudiant/dashboard",2:"/formateur/dashboard",3:"/admin-systeme/dashboard"};return e.jsx(Uk,{to:n[a.role]||"/",replace:!0})}return s}const D4e=()=>e.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100 bg-light",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"position-relative",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",style:{width:"4rem",height:"4rem"},children:e.jsx("span",{className:"visually-hidden",children:"Chargement..."})}),e.jsx("i",{className:"fas fa-heartbeat position-absolute top-50 start-50 translate-middle text-primary",style:{fontSize:"1.5rem"}})]}),e.jsx("h5",{className:"mt-3 text-primary",children:"Institut de Formation"}),e.jsx("p",{className:"text-muted",children:"Vérification de votre session..."})]})});function mm({children:s}){const{user:t,initializing:a}=Aa();if(a)return e.jsx(D4e,{});if(t){const r={0:"/etudiant-espace-attente/dashboard",1:"/etudiant/dashboard",2:"/formateur/dashboard",3:"/admin-systeme/dashboard"};return e.jsx(Uk,{to:r[t.role]||"/",replace:!0})}return s}function O4e(){return e.jsx(YW,{children:e.jsxs(SW,{children:[e.jsx(it,{path:"/",element:e.jsxs(mm,{children:[" ",e.jsx(bZ,{})," "]})}),e.jsx(it,{path:"/register",element:e.jsxs(mm,{children:[" ",e.jsx(JJ,{})," "]})}),e.jsx(it,{path:"/login",element:e.jsxs(mm,{children:[" ",e.jsx(tee,{})," "]})}),e.jsx(it,{path:"/invitation-register",element:e.jsxs(mm,{children:[" ",e.jsx(see,{})," "]})}),e.jsx(it,{path:"/forgot-password",element:e.jsxs(mm,{children:[" ",e.jsx(aee,{})," "]})}),e.jsx(it,{path:"/reset-password",element:e.jsxs(mm,{children:[" ",e.jsx(ree,{})," "]})}),e.jsx(it,{path:"/etudiant-espace-attente/dashboard",element:e.jsxs(ht,{allowedRoles:[0],children:[" ",e.jsx(qye,{})," "]})}),e.jsx(it,{path:"/etudiant-espace-attente/view/profil",element:e.jsxs(ht,{allowedRoles:[0],children:[" ",e.jsx(Gye,{})," "]})}),e.jsx(it,{path:"/etudiant-espace-attente/edit/profil",element:e.jsxs(ht,{allowedRoles:[0],children:[" ",e.jsx(Vye,{})," "]})}),e.jsx(it,{path:"/etudiant/dashboard",element:e.jsxs(ht,{allowedRoles:[1],children:[" ",e.jsx(Kye,{})," "]})}),e.jsx(it,{path:"/etudiant/statistics",element:e.jsxs(ht,{allowedRoles:[1],children:[" ",e.jsx(Qye,{})," "]})}),e.jsx(it,{path:"/etudiant/view/profil",element:e.jsxs(ht,{allowedRoles:[1],children:[" ",e.jsx(Z1e,{})," "]})}),e.jsx(it,{path:"/etudiant/edit/profil",element:e.jsxs(ht,{allowedRoles:[1],children:[" ",e.jsx(J1e,{})," "]})}),e.jsx(it,{path:"/etudiant/view/statistics/my-classroom",element:e.jsxs(ht,{allowedRoles:[1],children:[" ",e.jsx(X1e,{})," "]})}),e.jsx(it,{path:"/etudiant/view/my-cours",element:e.jsxs(ht,{allowedRoles:[1],children:[" ",e.jsx(KCe,{})," "]})}),e.jsx(it,{path:"/etudiant/show/cours/:id",element:e.jsxs(ht,{allowedRoles:[1],children:[" ",e.jsx(ZCe,{})," "]})}),e.jsx(it,{path:"/etudiant/view/my-matieres",element:e.jsxs(ht,{allowedRoles:[1],children:[" ",e.jsx(JCe,{})," "]})}),e.jsx(it,{path:"/etudiant/show/matiere/:id",element:e.jsxs(ht,{allowedRoles:[1],children:[" ",e.jsx(eEe,{})," "]})}),e.jsx(it,{path:"/etudiant/view/evaluations/my-classroom",element:e.jsxs(ht,{allowedRoles:[1],children:[" ",e.jsx(tEe,{})," "]})}),e.jsx(it,{path:"/etudiant/evaluation/:id/start",element:e.jsxs(ht,{allowedRoles:[1],children:[" ",e.jsx(sEe,{})," "]})}),e.jsx(it,{path:"/etudiant/evaluation/:id/details",element:e.jsxs(ht,{allowedRoles:[1],children:[" ",e.jsx(aEe,{})," "]})}),e.jsx(it,{path:"/etudiant/view/my-resultats-evaluations",element:e.jsxs(ht,{allowedRoles:[1],children:[" ",e.jsx(rEe,{})," "]})}),e.jsx(it,{path:"/etudiant/view/calendar",element:e.jsxs(ht,{allowedRoles:[1],children:[" ",e.jsx(YCe,{})," "]})}),e.jsx(it,{path:"/etudiant/view/tchat",element:e.jsxs(ht,{allowedRoles:[1],children:[" ",e.jsx(nEe,{})," "]})}),e.jsx(it,{path:"/formateur/dashboard",element:e.jsx(ht,{allowedRoles:[2],children:e.jsx(cEe,{})})}),e.jsx(it,{path:"/formateur/statistics",element:e.jsx(ht,{allowedRoles:[2],children:e.jsx(oEe,{})})}),e.jsx(it,{path:"/formateur/view/profil",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(dEe,{})," "]})}),e.jsx(it,{path:"/formateur/edit/profil",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(hEe,{})," "]})}),e.jsx(it,{path:"/formateur/view/etudiants",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(xEe,{})," "]})}),e.jsx(it,{path:"/formateur/show/etudiant/:id",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(fEe,{})," "]})}),e.jsx(it,{path:"/formateur/edit/etudiant/:id",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(pEe,{})," "]})}),e.jsx(it,{path:"/formateur/view/etudiants-espace-attente",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(gEe,{})," "]})}),e.jsx(it,{path:"/formateur/show/etudiant-espace-attente/:id",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(yEe,{})," "]})}),e.jsx(it,{path:"/formateur/edit/etudiant-espace-attente/:id",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(jEe,{})," "]})}),e.jsx(it,{path:"/formateur/view/formateurs",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(vEe,{})," "]})}),e.jsx(it,{path:"/formateur/show/formateur/:id",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(bEe,{})," "]})}),e.jsx(it,{path:"/formateur/edit/formateur/:id",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(NEe,{})," "]})}),e.jsx(it,{path:"/formateur/view/classrooms",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(wEe,{})," "]})}),e.jsx(it,{path:"/formateur/view/classroom/:id/users",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(_Ee,{})," "]})}),e.jsx(it,{path:"/formateur/view/classroom/user/:id",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(CEe,{})," "]})}),e.jsx(it,{path:"/formateur/show/classroom/:id",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(kEe,{})," "]})}),e.jsx(it,{path:"/formateur/classroom/:id/edit",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(SEe,{})," "]})}),e.jsx(it,{path:"/formateur/view/matieres",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(EEe,{})," "]})}),e.jsx(it,{path:"/formateur/matiere/by-classroom/:matricule_classroom",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(AEe,{})," "]})}),e.jsx(it,{path:"/formateur/show/matiere/:id",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(MEe,{})," "]})}),e.jsx(it,{path:"/formateur/edit/matiere/:id",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(TEe,{})," "]})}),e.jsx(it,{path:"/formateur/view/cours",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(DEe,{})," "]})}),e.jsx(it,{path:"/formateur/view/cours/matiere/:matricule_matiere",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(OEe,{})," "]})}),e.jsx(it,{path:"/formateur/view/cours/classroom/:matricule_classroom",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(BEe,{})," "]})}),e.jsx(it,{path:"/formateur/show/cours/:id",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(PEe,{})," "]})}),e.jsx(it,{path:"/formateur/edit/cours/:id",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(IEe,{})," "]})}),e.jsx(it,{path:"/formateur/view/evaluations",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(LEe,{})," "]})}),e.jsx(it,{path:"/formateur/show/evaluation/:id",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(zEe,{})," "]})}),e.jsx(it,{path:"/formateur/edit/evaluation/:id",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(FEe,{})," "]})}),e.jsx(it,{path:"/formateur/evaluation/:evaluationId/questions",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(JP,{})," "]})}),e.jsx(it,{path:"/formateur/evaluation/:evaluationId/resultats",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(HEe,{})," "]})}),e.jsx(it,{path:"/formateur/evaluation/statistics",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(UEe,{})," "]})}),e.jsx(it,{path:"/formateur/view/questions",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(qEe,{})," "]})}),e.jsx(it,{path:"/formateur/create/questions",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(WEe,{})," "]})}),e.jsx(it,{path:"/formateur/show/question/:id",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(GEe,{})," "]})}),e.jsx(it,{path:"/formateur/edit/question/:id",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(VEe,{})," "]})}),e.jsx(it,{path:"/formateur/view/question/by-evaluation/:evaluationId",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(JP,{})," "]})}),e.jsx(it,{path:"/formateur/questions/statistics",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(YEe,{})," "]})}),e.jsx(it,{path:"/formateur/view/answers/results",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(QEe,{})," "]})}),e.jsx(it,{path:"/formateur/answers/student/:matriculeEtudiant/evaluation/:matriculeEvaluation",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(KEe,{})," "]})}),e.jsx(it,{path:"/formateur/answers/evaluation/:evaluationId",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(ZEe,{})," "]})}),e.jsx(it,{path:"/formateur/answers/statistics",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(XEe,{})," "]})}),e.jsx(it,{path:"/formateur/view/calendar",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(n4e,{})," "]})}),e.jsx(it,{path:"/formateur/view/tchat",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(JEe,{})," "]})}),e.jsx(it,{path:"/formateur/view/invitations",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(i4e,{})," "]})}),e.jsx(it,{path:"/formateur/view/notifications",element:e.jsxs(ht,{allowedRoles:[2],children:[" ",e.jsx(l4e,{})," "]})}),e.jsx(it,{path:"/admin-systeme/dashboard",element:e.jsx(ht,{allowedRoles:[3],children:e.jsx(d4e,{})})}),e.jsx(it,{path:"/admin-systeme/statistics",element:e.jsx(ht,{allowedRoles:[3],children:e.jsx(h4e,{})})}),e.jsx(it,{path:"/admin-systeme/view/admin-systeme",element:e.jsxs(ht,{allowedRoles:[3],children:[" ",e.jsx(x4e,{})," "]})}),e.jsx(it,{path:"/admin-systeme/show/admin-systeme/:id",element:e.jsxs(ht,{allowedRoles:[3],children:[" ",e.jsx(f4e,{}),"  "]})}),e.jsx(it,{path:"/admin-systeme/edit/admin-systeme/:id",element:e.jsxs(ht,{allowedRoles:[3],children:[" ",e.jsx(p4e,{}),"  "]})}),e.jsx(it,{path:"/admin-systeme/view/formateur",element:e.jsxs(ht,{allowedRoles:[3],children:[" ",e.jsx(g4e,{})," "]})}),e.jsx(it,{path:"/admin-systeme/show/formateur/:id",element:e.jsxs(ht,{allowedRoles:[3],children:[" ",e.jsx(y4e,{}),"  "]})}),e.jsx(it,{path:"/admin-systeme/edit/formateur/:id",element:e.jsxs(ht,{allowedRoles:[3],children:[" ",e.jsx(j4e,{}),"  "]})}),e.jsx(it,{path:"/admin-systeme/view/etudiants",element:e.jsxs(ht,{allowedRoles:[3],children:[" ",e.jsx(v4e,{})," "]})}),e.jsx(it,{path:"/admin-systeme/show/etudiant/:id",element:e.jsxs(ht,{allowedRoles:[3],children:[" ",e.jsx(b4e,{}),"  "]})}),e.jsx(it,{path:"/admin-systeme/edit/etudiant/:id",element:e.jsxs(ht,{allowedRoles:[3],children:[" ",e.jsx(N4e,{}),"  "]})}),e.jsx(it,{path:"/admin-systeme/view/etudiants-espace-attente",element:e.jsxs(ht,{allowedRoles:[3],children:[" ",e.jsx(w4e,{})," "]})}),e.jsx(it,{path:"/admin-systeme/show/etudiant-espace-attente/:id",element:e.jsxs(ht,{allowedRoles:[3],children:[" ",e.jsx(S4e,{}),"  "]})}),e.jsx(it,{path:"/admin-systeme/edit/etudiant-espace-attente/:id",element:e.jsxs(ht,{allowedRoles:[3],children:[" ",e.jsx(k4e,{}),"  "]})}),e.jsx(it,{path:"/admin-systeme/view/invitations",element:e.jsxs(ht,{allowedRoles:[3],children:[" ",e.jsx(_4e,{})," "]})}),e.jsx(it,{path:"/admin-systeme/view/profil",element:e.jsxs(ht,{allowedRoles:[3],children:[" ",e.jsx(u4e,{})," "]})}),e.jsx(it,{path:"/admin-systeme/edit/profil",element:e.jsxs(ht,{allowedRoles:[3],children:[" ",e.jsx(m4e,{})," "]})}),e.jsx(it,{path:"/admin-systeme/view/notifications",element:e.jsxs(ht,{allowedRoles:[3],children:[" ",e.jsx(C4e,{})," "]})}),e.jsx(it,{path:"/admin-systeme/view/Support-technique",element:e.jsxs(ht,{allowedRoles:[3],children:[" ",e.jsx(E4e,{})," "]})}),e.jsx(it,{path:"/admin-systeme/view/logs",element:e.jsxs(ht,{allowedRoles:[3],children:[" ",e.jsx(A4e,{})," "]})}),e.jsx(it,{path:"*",element:e.jsx(T4e,{})})]})})}var Fv={exports:{}};/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var R4e=Fv.exports,g8;function $4e(){return g8||(g8=1,(function(s,t){(function(a,r){s.exports=r()})(R4e,function(){const a=new Map,r={set(ce,R,X){a.has(ce)||a.set(ce,new Map);const ue=a.get(ce);ue.has(R)||ue.size===0?ue.set(R,X):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(ue.keys())[0]}.`)},get:(ce,R)=>a.has(ce)&&a.get(ce).get(R)||null,remove(ce,R){if(!a.has(ce))return;const X=a.get(ce);X.delete(R),X.size===0&&a.delete(ce)}},n="transitionend",i=ce=>(ce&&window.CSS&&window.CSS.escape&&(ce=ce.replace(/#([^\s"#']+)/g,(R,X)=>`#${CSS.escape(X)}`)),ce),l=ce=>ce==null?`${ce}`:Object.prototype.toString.call(ce).match(/\s([a-z]+)/i)[1].toLowerCase(),c=ce=>{ce.dispatchEvent(new Event(n))},o=ce=>!(!ce||typeof ce!="object")&&(ce.jquery!==void 0&&(ce=ce[0]),ce.nodeType!==void 0),u=ce=>o(ce)?ce.jquery?ce[0]:ce:typeof ce=="string"&&ce.length>0?document.querySelector(i(ce)):null,d=ce=>{if(!o(ce)||ce.getClientRects().length===0)return!1;const R=getComputedStyle(ce).getPropertyValue("visibility")==="visible",X=ce.closest("details:not([open])");if(!X)return R;if(X!==ce){const ue=ce.closest("summary");if(ue&&ue.parentNode!==X||ue===null)return!1}return R},f=ce=>!ce||ce.nodeType!==Node.ELEMENT_NODE||!!ce.classList.contains("disabled")||(ce.disabled!==void 0?ce.disabled:ce.hasAttribute("disabled")&&ce.getAttribute("disabled")!=="false"),p=ce=>{if(!document.documentElement.attachShadow)return null;if(typeof ce.getRootNode=="function"){const R=ce.getRootNode();return R instanceof ShadowRoot?R:null}return ce instanceof ShadowRoot?ce:ce.parentNode?p(ce.parentNode):null},j=()=>{},y=ce=>{ce.offsetHeight},k=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,v=[],S=()=>document.documentElement.dir==="rtl",C=ce=>{var R;R=()=>{const X=k();if(X){const ue=ce.NAME,Ce=X.fn[ue];X.fn[ue]=ce.jQueryInterface,X.fn[ue].Constructor=ce,X.fn[ue].noConflict=()=>(X.fn[ue]=Ce,ce.jQueryInterface)}},document.readyState==="loading"?(v.length||document.addEventListener("DOMContentLoaded",()=>{for(const X of v)X()}),v.push(R)):R()},_=(ce,R=[],X=ce)=>typeof ce=="function"?ce.call(...R):X,A=(ce,R,X=!0)=>{if(!X)return void _(ce);const ue=(qe=>{if(!qe)return 0;let{transitionDuration:Ze,transitionDelay:dt}=window.getComputedStyle(qe);const vt=Number.parseFloat(Ze),bt=Number.parseFloat(dt);return vt||bt?(Ze=Ze.split(",")[0],dt=dt.split(",")[0],1e3*(Number.parseFloat(Ze)+Number.parseFloat(dt))):0})(R)+5;let Ce=!1;const Me=({target:qe})=>{qe===R&&(Ce=!0,R.removeEventListener(n,Me),_(ce))};R.addEventListener(n,Me),setTimeout(()=>{Ce||c(R)},ue)},D=(ce,R,X,ue)=>{const Ce=ce.length;let Me=ce.indexOf(R);return Me===-1?!X&&ue?ce[Ce-1]:ce[0]:(Me+=X?1:-1,ue&&(Me=(Me+Ce)%Ce),ce[Math.max(0,Math.min(Me,Ce-1))])},M=/[^.]*(?=\..*)\.|.*/,L=/\..*/,F=/::\d+$/,Q={};let I=1;const H={mouseenter:"mouseover",mouseleave:"mouseout"},z=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function K(ce,R){return R&&`${R}::${I++}`||ce.uidEvent||I++}function U(ce){const R=K(ce);return ce.uidEvent=R,Q[R]=Q[R]||{},Q[R]}function V(ce,R,X=null){return Object.values(ce).find(ue=>ue.callable===R&&ue.delegationSelector===X)}function P(ce,R,X){const ue=typeof R=="string",Ce=ue?X:R||X;let Me=O(ce);return z.has(Me)||(Me=ce),[ue,Ce,Me]}function q(ce,R,X,ue,Ce){if(typeof R!="string"||!ce)return;let[Me,qe,Ze]=P(R,X,ue);R in H&&(qe=(Gt=>function(Dt){if(!Dt.relatedTarget||Dt.relatedTarget!==Dt.delegateTarget&&!Dt.delegateTarget.contains(Dt.relatedTarget))return Gt.call(this,Dt)})(qe));const dt=U(ce),vt=dt[Ze]||(dt[Ze]={}),bt=V(vt,qe,Me?X:null);if(bt)return void(bt.oneOff=bt.oneOff&&Ce);const ft=K(qe,R.replace(M,"")),qt=Me?(function(Rt,Gt,Dt){return function Ft(Ss){const Ms=Rt.querySelectorAll(Gt);for(let{target:Wt}=Ss;Wt&&Wt!==this;Wt=Wt.parentNode)for(const es of Ms)if(es===Wt)return Z(Ss,{delegateTarget:Wt}),Ft.oneOff&&W.off(Rt,Ss.type,Gt,Dt),Dt.apply(Wt,[Ss])}})(ce,X,qe):(function(Rt,Gt){return function Dt(Ft){return Z(Ft,{delegateTarget:Rt}),Dt.oneOff&&W.off(Rt,Ft.type,Gt),Gt.apply(Rt,[Ft])}})(ce,qe);qt.delegationSelector=Me?X:null,qt.callable=qe,qt.oneOff=Ce,qt.uidEvent=ft,vt[ft]=qt,ce.addEventListener(Ze,qt,Me)}function G(ce,R,X,ue,Ce){const Me=V(R[X],ue,Ce);Me&&(ce.removeEventListener(X,Me,!!Ce),delete R[X][Me.uidEvent])}function se(ce,R,X,ue){const Ce=R[X]||{};for(const[Me,qe]of Object.entries(Ce))Me.includes(ue)&&G(ce,R,X,qe.callable,qe.delegationSelector)}function O(ce){return ce=ce.replace(L,""),H[ce]||ce}const W={on(ce,R,X,ue){q(ce,R,X,ue,!1)},one(ce,R,X,ue){q(ce,R,X,ue,!0)},off(ce,R,X,ue){if(typeof R!="string"||!ce)return;const[Ce,Me,qe]=P(R,X,ue),Ze=qe!==R,dt=U(ce),vt=dt[qe]||{},bt=R.startsWith(".");if(Me===void 0){if(bt)for(const ft of Object.keys(dt))se(ce,dt,ft,R.slice(1));for(const[ft,qt]of Object.entries(vt)){const Rt=ft.replace(F,"");Ze&&!R.includes(Rt)||G(ce,dt,qe,qt.callable,qt.delegationSelector)}}else{if(!Object.keys(vt).length)return;G(ce,dt,qe,Me,Ce?X:null)}},trigger(ce,R,X){if(typeof R!="string"||!ce)return null;const ue=k();let Ce=null,Me=!0,qe=!0,Ze=!1;R!==O(R)&&ue&&(Ce=ue.Event(R,X),ue(ce).trigger(Ce),Me=!Ce.isPropagationStopped(),qe=!Ce.isImmediatePropagationStopped(),Ze=Ce.isDefaultPrevented());const dt=Z(new Event(R,{bubbles:Me,cancelable:!0}),X);return Ze&&dt.preventDefault(),qe&&ce.dispatchEvent(dt),dt.defaultPrevented&&Ce&&Ce.preventDefault(),dt}};function Z(ce,R={}){for(const[X,ue]of Object.entries(R))try{ce[X]=ue}catch{Object.defineProperty(ce,X,{configurable:!0,get:()=>ue})}return ce}function te(ce){if(ce==="true")return!0;if(ce==="false")return!1;if(ce===Number(ce).toString())return Number(ce);if(ce===""||ce==="null")return null;if(typeof ce!="string")return ce;try{return JSON.parse(decodeURIComponent(ce))}catch{return ce}}function ie(ce){return ce.replace(/[A-Z]/g,R=>`-${R.toLowerCase()}`)}const fe={setDataAttribute(ce,R,X){ce.setAttribute(`data-bs-${ie(R)}`,X)},removeDataAttribute(ce,R){ce.removeAttribute(`data-bs-${ie(R)}`)},getDataAttributes(ce){if(!ce)return{};const R={},X=Object.keys(ce.dataset).filter(ue=>ue.startsWith("bs")&&!ue.startsWith("bsConfig"));for(const ue of X){let Ce=ue.replace(/^bs/,"");Ce=Ce.charAt(0).toLowerCase()+Ce.slice(1),R[Ce]=te(ce.dataset[ue])}return R},getDataAttribute:(ce,R)=>te(ce.getAttribute(`data-bs-${ie(R)}`))};class J{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(R){return R=this._mergeConfigObj(R),R=this._configAfterMerge(R),this._typeCheckConfig(R),R}_configAfterMerge(R){return R}_mergeConfigObj(R,X){const ue=o(X)?fe.getDataAttribute(X,"config"):{};return{...this.constructor.Default,...typeof ue=="object"?ue:{},...o(X)?fe.getDataAttributes(X):{},...typeof R=="object"?R:{}}}_typeCheckConfig(R,X=this.constructor.DefaultType){for(const[ue,Ce]of Object.entries(X)){const Me=R[ue],qe=o(Me)?"element":l(Me);if(!new RegExp(Ce).test(qe))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${ue}" provided type "${qe}" but expected type "${Ce}".`)}}}class ge extends J{constructor(R,X){super(),(R=u(R))&&(this._element=R,this._config=this._getConfig(X),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),W.off(this._element,this.constructor.EVENT_KEY);for(const R of Object.getOwnPropertyNames(this))this[R]=null}_queueCallback(R,X,ue=!0){A(R,X,ue)}_getConfig(R){return R=this._mergeConfigObj(R,this._element),R=this._configAfterMerge(R),this._typeCheckConfig(R),R}static getInstance(R){return r.get(u(R),this.DATA_KEY)}static getOrCreateInstance(R,X={}){return this.getInstance(R)||new this(R,typeof X=="object"?X:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(R){return`${R}${this.EVENT_KEY}`}}const re=ce=>{let R=ce.getAttribute("data-bs-target");if(!R||R==="#"){let X=ce.getAttribute("href");if(!X||!X.includes("#")&&!X.startsWith("."))return null;X.includes("#")&&!X.startsWith("#")&&(X=`#${X.split("#")[1]}`),R=X&&X!=="#"?X.trim():null}return R?R.split(",").map(X=>i(X)).join(","):null},ve={find:(ce,R=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(R,ce)),findOne:(ce,R=document.documentElement)=>Element.prototype.querySelector.call(R,ce),children:(ce,R)=>[].concat(...ce.children).filter(X=>X.matches(R)),parents(ce,R){const X=[];let ue=ce.parentNode.closest(R);for(;ue;)X.push(ue),ue=ue.parentNode.closest(R);return X},prev(ce,R){let X=ce.previousElementSibling;for(;X;){if(X.matches(R))return[X];X=X.previousElementSibling}return[]},next(ce,R){let X=ce.nextElementSibling;for(;X;){if(X.matches(R))return[X];X=X.nextElementSibling}return[]},focusableChildren(ce){const R=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(X=>`${X}:not([tabindex^="-"])`).join(",");return this.find(R,ce).filter(X=>!f(X)&&d(X))},getSelectorFromElement(ce){const R=re(ce);return R&&ve.findOne(R)?R:null},getElementFromSelector(ce){const R=re(ce);return R?ve.findOne(R):null},getMultipleElementsFromSelector(ce){const R=re(ce);return R?ve.find(R):[]}},Oe=(ce,R="hide")=>{const X=`click.dismiss${ce.EVENT_KEY}`,ue=ce.NAME;W.on(document,X,`[data-bs-dismiss="${ue}"]`,function(Ce){if(["A","AREA"].includes(this.tagName)&&Ce.preventDefault(),f(this))return;const Me=ve.getElementFromSelector(this)||this.closest(`.${ue}`);ce.getOrCreateInstance(Me)[R]()})},ee=".bs.alert",me=`close${ee}`,Xe=`closed${ee}`;class Se extends ge{static get NAME(){return"alert"}close(){if(W.trigger(this._element,me).defaultPrevented)return;this._element.classList.remove("show");const R=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,R)}_destroyElement(){this._element.remove(),W.trigger(this._element,Xe),this.dispose()}static jQueryInterface(R){return this.each(function(){const X=Se.getOrCreateInstance(this);if(typeof R=="string"){if(X[R]===void 0||R.startsWith("_")||R==="constructor")throw new TypeError(`No method named "${R}"`);X[R](this)}})}}Oe(Se,"close"),C(Se);const ae='[data-bs-toggle="button"]';class ye extends ge{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(R){return this.each(function(){const X=ye.getOrCreateInstance(this);R==="toggle"&&X[R]()})}}W.on(document,"click.bs.button.data-api",ae,ce=>{ce.preventDefault();const R=ce.target.closest(ae);ye.getOrCreateInstance(R).toggle()}),C(ye);const st=".bs.swipe",He=`touchstart${st}`,ke=`touchmove${st}`,we=`touchend${st}`,Ke=`pointerdown${st}`,Ee=`pointerup${st}`,je={endCallback:null,leftCallback:null,rightCallback:null},Ve={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Nt extends J{constructor(R,X){super(),this._element=R,R&&Nt.isSupported()&&(this._config=this._getConfig(X),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return je}static get DefaultType(){return Ve}static get NAME(){return"swipe"}dispose(){W.off(this._element,st)}_start(R){this._supportPointerEvents?this._eventIsPointerPenTouch(R)&&(this._deltaX=R.clientX):this._deltaX=R.touches[0].clientX}_end(R){this._eventIsPointerPenTouch(R)&&(this._deltaX=R.clientX-this._deltaX),this._handleSwipe(),_(this._config.endCallback)}_move(R){this._deltaX=R.touches&&R.touches.length>1?0:R.touches[0].clientX-this._deltaX}_handleSwipe(){const R=Math.abs(this._deltaX);if(R<=40)return;const X=R/this._deltaX;this._deltaX=0,X&&_(X>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(W.on(this._element,Ke,R=>this._start(R)),W.on(this._element,Ee,R=>this._end(R)),this._element.classList.add("pointer-event")):(W.on(this._element,He,R=>this._start(R)),W.on(this._element,ke,R=>this._move(R)),W.on(this._element,we,R=>this._end(R)))}_eventIsPointerPenTouch(R){return this._supportPointerEvents&&(R.pointerType==="pen"||R.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const nt=".bs.carousel",It=".data-api",ps="ArrowLeft",le="ArrowRight",Ae="next",Le="prev",rt="left",ot="right",hs=`slide${nt}`,Zs=`slid${nt}`,Kn=`keydown${nt}`,Ni=`mouseenter${nt}`,Ld=`mouseleave${nt}`,oo=`dragstart${nt}`,Ie=`load${nt}${It}`,wt=`click${nt}${It}`,Gs="carousel",ur="active",Fa=".active",nn=".carousel-item",Rs=Fa+nn,Ji={[ps]:ot,[le]:rt},hu={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ax={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class mr extends ge{constructor(R,X){super(R,X),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ve.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Gs&&this.cycle()}static get Default(){return hu}static get DefaultType(){return Ax}static get NAME(){return"carousel"}next(){this._slide(Ae)}nextWhenVisible(){!document.hidden&&d(this._element)&&this.next()}prev(){this._slide(Le)}pause(){this._isSliding&&c(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?W.one(this._element,Zs,()=>this.cycle()):this.cycle())}to(R){const X=this._getItems();if(R>X.length-1||R<0)return;if(this._isSliding)return void W.one(this._element,Zs,()=>this.to(R));const ue=this._getItemIndex(this._getActive());if(ue===R)return;const Ce=R>ue?Ae:Le;this._slide(Ce,X[R])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(R){return R.defaultInterval=R.interval,R}_addEventListeners(){this._config.keyboard&&W.on(this._element,Kn,R=>this._keydown(R)),this._config.pause==="hover"&&(W.on(this._element,Ni,()=>this.pause()),W.on(this._element,Ld,()=>this._maybeEnableCycle())),this._config.touch&&Nt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const X of ve.find(".carousel-item img",this._element))W.on(X,oo,ue=>ue.preventDefault());const R={leftCallback:()=>this._slide(this._directionToOrder(rt)),rightCallback:()=>this._slide(this._directionToOrder(ot)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Nt(this._element,R)}_keydown(R){if(/input|textarea/i.test(R.target.tagName))return;const X=Ji[R.key];X&&(R.preventDefault(),this._slide(this._directionToOrder(X)))}_getItemIndex(R){return this._getItems().indexOf(R)}_setActiveIndicatorElement(R){if(!this._indicatorsElement)return;const X=ve.findOne(Fa,this._indicatorsElement);X.classList.remove(ur),X.removeAttribute("aria-current");const ue=ve.findOne(`[data-bs-slide-to="${R}"]`,this._indicatorsElement);ue&&(ue.classList.add(ur),ue.setAttribute("aria-current","true"))}_updateInterval(){const R=this._activeElement||this._getActive();if(!R)return;const X=Number.parseInt(R.getAttribute("data-bs-interval"),10);this._config.interval=X||this._config.defaultInterval}_slide(R,X=null){if(this._isSliding)return;const ue=this._getActive(),Ce=R===Ae,Me=X||D(this._getItems(),ue,Ce,this._config.wrap);if(Me===ue)return;const qe=this._getItemIndex(Me),Ze=ft=>W.trigger(this._element,ft,{relatedTarget:Me,direction:this._orderToDirection(R),from:this._getItemIndex(ue),to:qe});if(Ze(hs).defaultPrevented||!ue||!Me)return;const dt=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(qe),this._activeElement=Me;const vt=Ce?"carousel-item-start":"carousel-item-end",bt=Ce?"carousel-item-next":"carousel-item-prev";Me.classList.add(bt),y(Me),ue.classList.add(vt),Me.classList.add(vt),this._queueCallback(()=>{Me.classList.remove(vt,bt),Me.classList.add(ur),ue.classList.remove(ur,bt,vt),this._isSliding=!1,Ze(Zs)},ue,this._isAnimated()),dt&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ve.findOne(Rs,this._element)}_getItems(){return ve.find(nn,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(R){return S()?R===rt?Le:Ae:R===rt?Ae:Le}_orderToDirection(R){return S()?R===Le?rt:ot:R===Le?ot:rt}static jQueryInterface(R){return this.each(function(){const X=mr.getOrCreateInstance(this,R);if(typeof R!="number"){if(typeof R=="string"){if(X[R]===void 0||R.startsWith("_")||R==="constructor")throw new TypeError(`No method named "${R}"`);X[R]()}}else X.to(R)})}}W.on(document,wt,"[data-bs-slide], [data-bs-slide-to]",function(ce){const R=ve.getElementFromSelector(this);if(!R||!R.classList.contains(Gs))return;ce.preventDefault();const X=mr.getOrCreateInstance(R),ue=this.getAttribute("data-bs-slide-to");return ue?(X.to(ue),void X._maybeEnableCycle()):fe.getDataAttribute(this,"slide")==="next"?(X.next(),void X._maybeEnableCycle()):(X.prev(),void X._maybeEnableCycle())}),W.on(window,Ie,()=>{const ce=ve.find('[data-bs-ride="carousel"]');for(const R of ce)mr.getOrCreateInstance(R)}),C(mr);const ra=".bs.collapse",Re=`show${ra}`,mt=`shown${ra}`,Tt=`hide${ra}`,Ts=`hidden${ra}`,Qn=`click${ra}.data-api`,ho="show",Xn="collapse",uo="collapsing",mo=`:scope .${Xn} .${Xn}`,el='[data-bs-toggle="collapse"]',Fd={parent:null,toggle:!0},xo={parent:"(null|element)",toggle:"boolean"};class na extends ge{constructor(R,X){super(R,X),this._isTransitioning=!1,this._triggerArray=[];const ue=ve.find(el);for(const Ce of ue){const Me=ve.getSelectorFromElement(Ce),qe=ve.find(Me).filter(Ze=>Ze===this._element);Me!==null&&qe.length&&this._triggerArray.push(Ce)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Fd}static get DefaultType(){return xo}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let R=[];if(this._config.parent&&(R=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(Ce=>Ce!==this._element).map(Ce=>na.getOrCreateInstance(Ce,{toggle:!1}))),R.length&&R[0]._isTransitioning||W.trigger(this._element,Re).defaultPrevented)return;for(const Ce of R)Ce.hide();const X=this._getDimension();this._element.classList.remove(Xn),this._element.classList.add(uo),this._element.style[X]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const ue=`scroll${X[0].toUpperCase()+X.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(uo),this._element.classList.add(Xn,ho),this._element.style[X]="",W.trigger(this._element,mt)},this._element,!0),this._element.style[X]=`${this._element[ue]}px`}hide(){if(this._isTransitioning||!this._isShown()||W.trigger(this._element,Tt).defaultPrevented)return;const R=this._getDimension();this._element.style[R]=`${this._element.getBoundingClientRect()[R]}px`,y(this._element),this._element.classList.add(uo),this._element.classList.remove(Xn,ho);for(const X of this._triggerArray){const ue=ve.getElementFromSelector(X);ue&&!this._isShown(ue)&&this._addAriaAndCollapsedClass([X],!1)}this._isTransitioning=!0,this._element.style[R]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(uo),this._element.classList.add(Xn),W.trigger(this._element,Ts)},this._element,!0)}_isShown(R=this._element){return R.classList.contains(ho)}_configAfterMerge(R){return R.toggle=!!R.toggle,R.parent=u(R.parent),R}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const R=this._getFirstLevelChildren(el);for(const X of R){const ue=ve.getElementFromSelector(X);ue&&this._addAriaAndCollapsedClass([X],this._isShown(ue))}}_getFirstLevelChildren(R){const X=ve.find(mo,this._config.parent);return ve.find(R,this._config.parent).filter(ue=>!X.includes(ue))}_addAriaAndCollapsedClass(R,X){if(R.length)for(const ue of R)ue.classList.toggle("collapsed",!X),ue.setAttribute("aria-expanded",X)}static jQueryInterface(R){const X={};return typeof R=="string"&&/show|hide/.test(R)&&(X.toggle=!1),this.each(function(){const ue=na.getOrCreateInstance(this,X);if(typeof R=="string"){if(ue[R]===void 0)throw new TypeError(`No method named "${R}"`);ue[R]()}})}}W.on(document,Qn,el,function(ce){(ce.target.tagName==="A"||ce.delegateTarget&&ce.delegateTarget.tagName==="A")&&ce.preventDefault();for(const R of ve.getMultipleElementsFromSelector(this))na.getOrCreateInstance(R,{toggle:!1}).toggle()}),C(na);var Ja="top",Sr="bottom",Ta="right",ja="left",uu="auto",ql=[Ja,Sr,Ta,ja],tl="start",fo="end",zd="clippingParents",po="viewport",_r="popper",mu="reference",xu=ql.reduce(function(ce,R){return ce.concat([R+"-"+tl,R+"-"+fo])},[]),sl=[].concat(ql,[uu]).reduce(function(ce,R){return ce.concat([R,R+"-"+tl,R+"-"+fo])},[]),fu="beforeRead",pu="read",ay="afterRead",Tx="beforeMain",Wr="main",Mx="afterMain",ry="beforeWrite",Hd="write",Dx="afterWrite",Ud=[fu,pu,ay,Tx,Wr,Mx,ry,Hd,Dx];function Zn(ce){return ce?(ce.nodeName||"").toLowerCase():null}function Js(ce){if(ce==null)return window;if(ce.toString()!=="[object Window]"){var R=ce.ownerDocument;return R&&R.defaultView||window}return ce}function wi(ce){return ce instanceof Js(ce).Element||ce instanceof Element}function Yr(ce){return ce instanceof Js(ce).HTMLElement||ce instanceof HTMLElement}function qd(ce){return typeof ShadowRoot<"u"&&(ce instanceof Js(ce).ShadowRoot||ce instanceof ShadowRoot)}const al={name:"applyStyles",enabled:!0,phase:"write",fn:function(ce){var R=ce.state;Object.keys(R.elements).forEach(function(X){var ue=R.styles[X]||{},Ce=R.attributes[X]||{},Me=R.elements[X];Yr(Me)&&Zn(Me)&&(Object.assign(Me.style,ue),Object.keys(Ce).forEach(function(qe){var Ze=Ce[qe];Ze===!1?Me.removeAttribute(qe):Me.setAttribute(qe,Ze===!0?"":Ze)}))})},effect:function(ce){var R=ce.state,X={popper:{position:R.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(R.elements.popper.style,X.popper),R.styles=X,R.elements.arrow&&Object.assign(R.elements.arrow.style,X.arrow),function(){Object.keys(R.elements).forEach(function(ue){var Ce=R.elements[ue],Me=R.attributes[ue]||{},qe=Object.keys(R.styles.hasOwnProperty(ue)?R.styles[ue]:X[ue]).reduce(function(Ze,dt){return Ze[dt]="",Ze},{});Yr(Ce)&&Zn(Ce)&&(Object.assign(Ce.style,qe),Object.keys(Me).forEach(function(Ze){Ce.removeAttribute(Ze)}))})}},requires:["computeStyles"]};function En(ce){return ce.split("-")[0]}var rl=Math.max,ki=Math.min,go=Math.round;function gu(){var ce=navigator.userAgentData;return ce!=null&&ce.brands&&Array.isArray(ce.brands)?ce.brands.map(function(R){return R.brand+"/"+R.version}).join(" "):navigator.userAgent}function Ox(){return!/^((?!chrome|android).)*safari/i.test(gu())}function nl(ce,R,X){R===void 0&&(R=!1),X===void 0&&(X=!1);var ue=ce.getBoundingClientRect(),Ce=1,Me=1;R&&Yr(ce)&&(Ce=ce.offsetWidth>0&&go(ue.width)/ce.offsetWidth||1,Me=ce.offsetHeight>0&&go(ue.height)/ce.offsetHeight||1);var qe=(wi(ce)?Js(ce):window).visualViewport,Ze=!Ox()&&X,dt=(ue.left+(Ze&&qe?qe.offsetLeft:0))/Ce,vt=(ue.top+(Ze&&qe?qe.offsetTop:0))/Me,bt=ue.width/Ce,ft=ue.height/Me;return{width:bt,height:ft,top:vt,right:dt+bt,bottom:vt+ft,left:dt,x:dt,y:vt}}function Rx(ce){var R=nl(ce),X=ce.offsetWidth,ue=ce.offsetHeight;return Math.abs(R.width-X)<=1&&(X=R.width),Math.abs(R.height-ue)<=1&&(ue=R.height),{x:ce.offsetLeft,y:ce.offsetTop,width:X,height:ue}}function ny(ce,R){var X=R.getRootNode&&R.getRootNode();if(ce.contains(R))return!0;if(X&&qd(X)){var ue=R;do{if(ue&&ce.isSameNode(ue))return!0;ue=ue.parentNode||ue.host}while(ue)}return!1}function ln(ce){return Js(ce).getComputedStyle(ce)}function $x(ce){return["table","td","th"].indexOf(Zn(ce))>=0}function Jn(ce){return((wi(ce)?ce.ownerDocument:ce.document)||window.document).documentElement}function Si(ce){return Zn(ce)==="html"?ce:ce.assignedSlot||ce.parentNode||(qd(ce)?ce.host:null)||Jn(ce)}function Gl(ce){return Yr(ce)&&ln(ce).position!=="fixed"?ce.offsetParent:null}function yo(ce){for(var R=Js(ce),X=Gl(ce);X&&$x(X)&&ln(X).position==="static";)X=Gl(X);return X&&(Zn(X)==="html"||Zn(X)==="body"&&ln(X).position==="static")?R:X||(function(ue){var Ce=/firefox/i.test(gu());if(/Trident/i.test(gu())&&Yr(ue)&&ln(ue).position==="fixed")return null;var Me=Si(ue);for(qd(Me)&&(Me=Me.host);Yr(Me)&&["html","body"].indexOf(Zn(Me))<0;){var qe=ln(Me);if(qe.transform!=="none"||qe.perspective!=="none"||qe.contain==="paint"||["transform","perspective"].indexOf(qe.willChange)!==-1||Ce&&qe.willChange==="filter"||Ce&&qe.filter&&qe.filter!=="none")return Me;Me=Me.parentNode}return null})(ce)||R}function Gd(ce){return["top","bottom"].indexOf(ce)>=0?"x":"y"}function jo(ce,R,X){return rl(ce,ki(R,X))}function vo(ce){return Object.assign({},{top:0,right:0,bottom:0,left:0},ce)}function ei(ce,R){return R.reduce(function(X,ue){return X[ue]=ce,X},{})}const yu={name:"arrow",enabled:!0,phase:"main",fn:function(ce){var R,X=ce.state,ue=ce.name,Ce=ce.options,Me=X.elements.arrow,qe=X.modifiersData.popperOffsets,Ze=En(X.placement),dt=Gd(Ze),vt=[ja,Ta].indexOf(Ze)>=0?"height":"width";if(Me&&qe){var bt=(function(gs,ls){return vo(typeof(gs=typeof gs=="function"?gs(Object.assign({},ls.rects,{placement:ls.placement})):gs)!="number"?gs:ei(gs,ql))})(Ce.padding,X),ft=Rx(Me),qt=dt==="y"?Ja:ja,Rt=dt==="y"?Sr:Ta,Gt=X.rects.reference[vt]+X.rects.reference[dt]-qe[dt]-X.rects.popper[vt],Dt=qe[dt]-X.rects.reference[dt],Ft=yo(Me),Ss=Ft?dt==="y"?Ft.clientHeight||0:Ft.clientWidth||0:0,Ms=Gt/2-Dt/2,Wt=bt[qt],es=Ss-ft[vt]-bt[Rt],xt=Ss/2-ft[vt]/2+Ms,St=jo(Wt,xt,es),Bt=dt;X.modifiersData[ue]=((R={})[Bt]=St,R.centerOffset=St-xt,R)}},effect:function(ce){var R=ce.state,X=ce.options.element,ue=X===void 0?"[data-popper-arrow]":X;ue!=null&&(typeof ue!="string"||(ue=R.elements.popper.querySelector(ue)))&&ny(R.elements.popper,ue)&&(R.elements.arrow=ue)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ti(ce){return ce.split("-")[1]}var il={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ju(ce){var R,X=ce.popper,ue=ce.popperRect,Ce=ce.placement,Me=ce.variation,qe=ce.offsets,Ze=ce.position,dt=ce.gpuAcceleration,vt=ce.adaptive,bt=ce.roundOffsets,ft=ce.isFixed,qt=qe.x,Rt=qt===void 0?0:qt,Gt=qe.y,Dt=Gt===void 0?0:Gt,Ft=typeof bt=="function"?bt({x:Rt,y:Dt}):{x:Rt,y:Dt};Rt=Ft.x,Dt=Ft.y;var Ss=qe.hasOwnProperty("x"),Ms=qe.hasOwnProperty("y"),Wt=ja,es=Ja,xt=window;if(vt){var St=yo(X),Bt="clientHeight",gs="clientWidth";St===Js(X)&&ln(St=Jn(X)).position!=="static"&&Ze==="absolute"&&(Bt="scrollHeight",gs="scrollWidth"),(Ce===Ja||(Ce===ja||Ce===Ta)&&Me===fo)&&(es=Sr,Dt-=(ft&&St===xt&&xt.visualViewport?xt.visualViewport.height:St[Bt])-ue.height,Dt*=dt?1:-1),Ce!==ja&&(Ce!==Ja&&Ce!==Sr||Me!==fo)||(Wt=Ta,Rt-=(ft&&St===xt&&xt.visualViewport?xt.visualViewport.width:St[gs])-ue.width,Rt*=dt?1:-1)}var ls,$s=Object.assign({position:Ze},vt&&il),sr=bt===!0?(function(pr,va){var hn=pr.x,us=pr.y,ea=va.devicePixelRatio||1;return{x:go(hn*ea)/ea||0,y:go(us*ea)/ea||0}})({x:Rt,y:Dt},Js(X)):{x:Rt,y:Dt};return Rt=sr.x,Dt=sr.y,dt?Object.assign({},$s,((ls={})[es]=Ms?"0":"",ls[Wt]=Ss?"0":"",ls.transform=(xt.devicePixelRatio||1)<=1?"translate("+Rt+"px, "+Dt+"px)":"translate3d("+Rt+"px, "+Dt+"px, 0)",ls)):Object.assign({},$s,((R={})[es]=Ms?Dt+"px":"",R[Wt]=Ss?Rt+"px":"",R.transform="",R))}const bo={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(ce){var R=ce.state,X=ce.options,ue=X.gpuAcceleration,Ce=ue===void 0||ue,Me=X.adaptive,qe=Me===void 0||Me,Ze=X.roundOffsets,dt=Ze===void 0||Ze,vt={placement:En(R.placement),variation:ti(R.placement),popper:R.elements.popper,popperRect:R.rects.popper,gpuAcceleration:Ce,isFixed:R.options.strategy==="fixed"};R.modifiersData.popperOffsets!=null&&(R.styles.popper=Object.assign({},R.styles.popper,ju(Object.assign({},vt,{offsets:R.modifiersData.popperOffsets,position:R.options.strategy,adaptive:qe,roundOffsets:dt})))),R.modifiersData.arrow!=null&&(R.styles.arrow=Object.assign({},R.styles.arrow,ju(Object.assign({},vt,{offsets:R.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:dt})))),R.attributes.popper=Object.assign({},R.attributes.popper,{"data-popper-placement":R.placement})},data:{}};var Vd={passive:!0};const No={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(ce){var R=ce.state,X=ce.instance,ue=ce.options,Ce=ue.scroll,Me=Ce===void 0||Ce,qe=ue.resize,Ze=qe===void 0||qe,dt=Js(R.elements.popper),vt=[].concat(R.scrollParents.reference,R.scrollParents.popper);return Me&&vt.forEach(function(bt){bt.addEventListener("scroll",X.update,Vd)}),Ze&&dt.addEventListener("resize",X.update,Vd),function(){Me&&vt.forEach(function(bt){bt.removeEventListener("scroll",X.update,Vd)}),Ze&&dt.removeEventListener("resize",X.update,Vd)}},data:{}};var vu={left:"right",right:"left",bottom:"top",top:"bottom"};function Wd(ce){return ce.replace(/left|right|bottom|top/g,function(R){return vu[R]})}var Cr={start:"end",end:"start"};function ll(ce){return ce.replace(/start|end/g,function(R){return Cr[R]})}function wo(ce){var R=Js(ce);return{scrollLeft:R.pageXOffset,scrollTop:R.pageYOffset}}function Vl(ce){return nl(Jn(ce)).left+wo(ce).scrollLeft}function Px(ce){var R=ln(ce),X=R.overflow,ue=R.overflowX,Ce=R.overflowY;return/auto|scroll|overlay|hidden/.test(X+Ce+ue)}function bu(ce){return["html","body","#document"].indexOf(Zn(ce))>=0?ce.ownerDocument.body:Yr(ce)&&Px(ce)?ce:bu(Si(ce))}function Wl(ce,R){var X;R===void 0&&(R=[]);var ue=bu(ce),Ce=ue===((X=ce.ownerDocument)==null?void 0:X.body),Me=Js(ue),qe=Ce?[Me].concat(Me.visualViewport||[],Px(ue)?ue:[]):ue,Ze=R.concat(qe);return Ce?Ze:Ze.concat(Wl(Si(qe)))}function Yl(ce){return Object.assign({},ce,{left:ce.x,top:ce.y,right:ce.x+ce.width,bottom:ce.y+ce.height})}function Yd(ce,R,X){return R===po?Yl((function(ue,Ce){var Me=Js(ue),qe=Jn(ue),Ze=Me.visualViewport,dt=qe.clientWidth,vt=qe.clientHeight,bt=0,ft=0;if(Ze){dt=Ze.width,vt=Ze.height;var qt=Ox();(qt||!qt&&Ce==="fixed")&&(bt=Ze.offsetLeft,ft=Ze.offsetTop)}return{width:dt,height:vt,x:bt+Vl(ue),y:ft}})(ce,X)):wi(R)?(function(ue,Ce){var Me=nl(ue,!1,Ce==="fixed");return Me.top=Me.top+ue.clientTop,Me.left=Me.left+ue.clientLeft,Me.bottom=Me.top+ue.clientHeight,Me.right=Me.left+ue.clientWidth,Me.width=ue.clientWidth,Me.height=ue.clientHeight,Me.x=Me.left,Me.y=Me.top,Me})(R,X):Yl((function(ue){var Ce,Me=Jn(ue),qe=wo(ue),Ze=(Ce=ue.ownerDocument)==null?void 0:Ce.body,dt=rl(Me.scrollWidth,Me.clientWidth,Ze?Ze.scrollWidth:0,Ze?Ze.clientWidth:0),vt=rl(Me.scrollHeight,Me.clientHeight,Ze?Ze.scrollHeight:0,Ze?Ze.clientHeight:0),bt=-qe.scrollLeft+Vl(ue),ft=-qe.scrollTop;return ln(Ze||Me).direction==="rtl"&&(bt+=rl(Me.clientWidth,Ze?Ze.clientWidth:0)-dt),{width:dt,height:vt,x:bt,y:ft}})(Jn(ce)))}function Ix(ce){var R,X=ce.reference,ue=ce.element,Ce=ce.placement,Me=Ce?En(Ce):null,qe=Ce?ti(Ce):null,Ze=X.x+X.width/2-ue.width/2,dt=X.y+X.height/2-ue.height/2;switch(Me){case Ja:R={x:Ze,y:X.y-ue.height};break;case Sr:R={x:Ze,y:X.y+X.height};break;case Ta:R={x:X.x+X.width,y:dt};break;case ja:R={x:X.x-ue.width,y:dt};break;default:R={x:X.x,y:X.y}}var vt=Me?Gd(Me):null;if(vt!=null){var bt=vt==="y"?"height":"width";switch(qe){case tl:R[vt]=R[vt]-(X[bt]/2-ue[bt]/2);break;case fo:R[vt]=R[vt]+(X[bt]/2-ue[bt]/2)}}return R}function ko(ce,R){R===void 0&&(R={});var X=R,ue=X.placement,Ce=ue===void 0?ce.placement:ue,Me=X.strategy,qe=Me===void 0?ce.strategy:Me,Ze=X.boundary,dt=Ze===void 0?zd:Ze,vt=X.rootBoundary,bt=vt===void 0?po:vt,ft=X.elementContext,qt=ft===void 0?_r:ft,Rt=X.altBoundary,Gt=Rt!==void 0&&Rt,Dt=X.padding,Ft=Dt===void 0?0:Dt,Ss=vo(typeof Ft!="number"?Ft:ei(Ft,ql)),Ms=qt===_r?mu:_r,Wt=ce.rects.popper,es=ce.elements[Gt?Ms:qt],xt=(function(va,hn,us,ea){var un=hn==="clippingParents"?(function(_s){var za=Wl(Si(_s)),Tr=["absolute","fixed"].indexOf(ln(_s).position)>=0&&Yr(_s)?yo(_s):_s;return wi(Tr)?za.filter(function(pa){return wi(pa)&&ny(pa,Tr)&&Zn(pa)!=="body"}):[]})(va):[].concat(hn),Mn=[].concat(un,[us]),oc=Mn[0],Ia=Mn.reduce(function(_s,za){var Tr=Yd(va,za,ea);return _s.top=rl(Tr.top,_s.top),_s.right=ki(Tr.right,_s.right),_s.bottom=ki(Tr.bottom,_s.bottom),_s.left=rl(Tr.left,_s.left),_s},Yd(va,oc,ea));return Ia.width=Ia.right-Ia.left,Ia.height=Ia.bottom-Ia.top,Ia.x=Ia.left,Ia.y=Ia.top,Ia})(wi(es)?es:es.contextElement||Jn(ce.elements.popper),dt,bt,qe),St=nl(ce.elements.reference),Bt=Ix({reference:St,element:Wt,placement:Ce}),gs=Yl(Object.assign({},Wt,Bt)),ls=qt===_r?gs:St,$s={top:xt.top-ls.top+Ss.top,bottom:ls.bottom-xt.bottom+Ss.bottom,left:xt.left-ls.left+Ss.left,right:ls.right-xt.right+Ss.right},sr=ce.modifiersData.offset;if(qt===_r&&sr){var pr=sr[Ce];Object.keys($s).forEach(function(va){var hn=[Ta,Sr].indexOf(va)>=0?1:-1,us=[Ja,Sr].indexOf(va)>=0?"y":"x";$s[va]+=pr[us]*hn})}return $s}function E1(ce,R){R===void 0&&(R={});var X=R,ue=X.placement,Ce=X.boundary,Me=X.rootBoundary,qe=X.padding,Ze=X.flipVariations,dt=X.allowedAutoPlacements,vt=dt===void 0?sl:dt,bt=ti(ue),ft=bt?Ze?xu:xu.filter(function(Gt){return ti(Gt)===bt}):ql,qt=ft.filter(function(Gt){return vt.indexOf(Gt)>=0});qt.length===0&&(qt=ft);var Rt=qt.reduce(function(Gt,Dt){return Gt[Dt]=ko(ce,{placement:Dt,boundary:Ce,rootBoundary:Me,padding:qe})[En(Dt)],Gt},{});return Object.keys(Rt).sort(function(Gt,Dt){return Rt[Gt]-Rt[Dt]})}const iy={name:"flip",enabled:!0,phase:"main",fn:function(ce){var R=ce.state,X=ce.options,ue=ce.name;if(!R.modifiersData[ue]._skip){for(var Ce=X.mainAxis,Me=Ce===void 0||Ce,qe=X.altAxis,Ze=qe===void 0||qe,dt=X.fallbackPlacements,vt=X.padding,bt=X.boundary,ft=X.rootBoundary,qt=X.altBoundary,Rt=X.flipVariations,Gt=Rt===void 0||Rt,Dt=X.allowedAutoPlacements,Ft=R.options.placement,Ss=En(Ft),Ms=dt||(Ss!==Ft&&Gt?(function(_s){if(En(_s)===uu)return[];var za=Wd(_s);return[ll(_s),za,ll(za)]})(Ft):[Wd(Ft)]),Wt=[Ft].concat(Ms).reduce(function(_s,za){return _s.concat(En(za)===uu?E1(R,{placement:za,boundary:bt,rootBoundary:ft,padding:vt,flipVariations:Gt,allowedAutoPlacements:Dt}):za)},[]),es=R.rects.reference,xt=R.rects.popper,St=new Map,Bt=!0,gs=Wt[0],ls=0;ls<Wt.length;ls++){var $s=Wt[ls],sr=En($s),pr=ti($s)===tl,va=[Ja,Sr].indexOf(sr)>=0,hn=va?"width":"height",us=ko(R,{placement:$s,boundary:bt,rootBoundary:ft,altBoundary:qt,padding:vt}),ea=va?pr?Ta:ja:pr?Sr:Ja;es[hn]>xt[hn]&&(ea=Wd(ea));var un=Wd(ea),Mn=[];if(Me&&Mn.push(us[sr]<=0),Ze&&Mn.push(us[ea]<=0,us[un]<=0),Mn.every(function(_s){return _s})){gs=$s,Bt=!1;break}St.set($s,Mn)}if(Bt)for(var oc=function(_s){var za=Wt.find(function(Tr){var pa=St.get(Tr);if(pa)return pa.slice(0,_s).every(function(ia){return ia})});if(za)return gs=za,"break"},Ia=Gt?3:1;Ia>0&&oc(Ia)!=="break";Ia--);R.placement!==gs&&(R.modifiersData[ue]._skip=!0,R.placement=gs,R.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Nu(ce,R,X){return X===void 0&&(X={x:0,y:0}),{top:ce.top-R.height-X.y,right:ce.right-R.width+X.x,bottom:ce.bottom-R.height+X.y,left:ce.left-R.width-X.x}}function ly(ce){return[Ja,Ta,Sr,ja].some(function(R){return ce[R]>=0})}const cy={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(ce){var R=ce.state,X=ce.name,ue=R.rects.reference,Ce=R.rects.popper,Me=R.modifiersData.preventOverflow,qe=ko(R,{elementContext:"reference"}),Ze=ko(R,{altBoundary:!0}),dt=Nu(qe,ue),vt=Nu(Ze,Ce,Me),bt=ly(dt),ft=ly(vt);R.modifiersData[X]={referenceClippingOffsets:dt,popperEscapeOffsets:vt,isReferenceHidden:bt,hasPopperEscaped:ft},R.attributes.popper=Object.assign({},R.attributes.popper,{"data-popper-reference-hidden":bt,"data-popper-escaped":ft})}},oy={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(ce){var R=ce.state,X=ce.options,ue=ce.name,Ce=X.offset,Me=Ce===void 0?[0,0]:Ce,qe=sl.reduce(function(bt,ft){return bt[ft]=(function(qt,Rt,Gt){var Dt=En(qt),Ft=[ja,Ja].indexOf(Dt)>=0?-1:1,Ss=typeof Gt=="function"?Gt(Object.assign({},Rt,{placement:qt})):Gt,Ms=Ss[0],Wt=Ss[1];return Ms=Ms||0,Wt=(Wt||0)*Ft,[ja,Ta].indexOf(Dt)>=0?{x:Wt,y:Ms}:{x:Ms,y:Wt}})(ft,R.rects,Me),bt},{}),Ze=qe[R.placement],dt=Ze.x,vt=Ze.y;R.modifiersData.popperOffsets!=null&&(R.modifiersData.popperOffsets.x+=dt,R.modifiersData.popperOffsets.y+=vt),R.modifiersData[ue]=qe}},Bx={name:"popperOffsets",enabled:!0,phase:"read",fn:function(ce){var R=ce.state,X=ce.name;R.modifiersData[X]=Ix({reference:R.rects.reference,element:R.rects.popper,placement:R.placement})},data:{}},dy={name:"preventOverflow",enabled:!0,phase:"main",fn:function(ce){var R=ce.state,X=ce.options,ue=ce.name,Ce=X.mainAxis,Me=Ce===void 0||Ce,qe=X.altAxis,Ze=qe!==void 0&&qe,dt=X.boundary,vt=X.rootBoundary,bt=X.altBoundary,ft=X.padding,qt=X.tether,Rt=qt===void 0||qt,Gt=X.tetherOffset,Dt=Gt===void 0?0:Gt,Ft=ko(R,{boundary:dt,rootBoundary:vt,padding:ft,altBoundary:bt}),Ss=En(R.placement),Ms=ti(R.placement),Wt=!Ms,es=Gd(Ss),xt=es==="x"?"y":"x",St=R.modifiersData.popperOffsets,Bt=R.rects.reference,gs=R.rects.popper,ls=typeof Dt=="function"?Dt(Object.assign({},R.rects,{placement:R.placement})):Dt,$s=typeof ls=="number"?{mainAxis:ls,altAxis:ls}:Object.assign({mainAxis:0,altAxis:0},ls),sr=R.modifiersData.offset?R.modifiersData.offset[R.placement]:null,pr={x:0,y:0};if(St){if(Me){var va,hn=es==="y"?Ja:ja,us=es==="y"?Sr:Ta,ea=es==="y"?"height":"width",un=St[es],Mn=un+Ft[hn],oc=un-Ft[us],Ia=Rt?-gs[ea]/2:0,_s=Ms===tl?Bt[ea]:gs[ea],za=Ms===tl?-gs[ea]:-Bt[ea],Tr=R.elements.arrow,pa=Rt&&Tr?Rx(Tr):{width:0,height:0},ia=R.modifiersData["arrow#persistent"]?R.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Fu=ia[hn],Lo=ia[us],dc=jo(0,Bt[ea],pa[ea]),nf=Wt?Bt[ea]/2-Ia-dc-Fu-$s.mainAxis:_s-dc-Fu-$s.mainAxis,Oi=Wt?-Bt[ea]/2+Ia+dc+Lo+$s.mainAxis:za+dc+Lo+$s.mainAxis,Fo=R.elements.arrow&&yo(R.elements.arrow),lf=Fo?es==="y"?Fo.clientTop||0:Fo.clientLeft||0:0,zu=(va=sr?.[es])!=null?va:0,Wy=un+Oi-zu,cf=jo(Rt?ki(Mn,un+nf-zu-lf):Mn,un,Rt?rl(oc,Wy):oc);St[es]=cf,pr[es]=cf-un}if(Ze){var of,Yy=es==="x"?Ja:ja,Ky=es==="x"?Sr:Ta,xl=St[xt],zo=xt==="y"?"height":"width",df=xl+Ft[Yy],Qy=xl-Ft[Ky],Hu=[Ja,ja].indexOf(Ss)!==-1,hf=(of=sr?.[xt])!=null?of:0,uf=Hu?df:xl-Bt[zo]-gs[zo]-hf+$s.altAxis,Uu=Hu?xl+Bt[zo]+gs[zo]-hf-$s.altAxis:Qy,mf=Rt&&Hu?(function(Xy,Zy,qu){var xf=jo(Xy,Zy,qu);return xf>qu?qu:xf})(uf,xl,Uu):jo(Rt?uf:df,xl,Rt?Uu:Qy);St[xt]=mf,pr[xt]=mf-xl}R.modifiersData[ue]=pr}},requiresIfExists:["offset"]};function hy(ce,R,X){X===void 0&&(X=!1);var ue,Ce,Me=Yr(R),qe=Yr(R)&&(function(ft){var qt=ft.getBoundingClientRect(),Rt=go(qt.width)/ft.offsetWidth||1,Gt=go(qt.height)/ft.offsetHeight||1;return Rt!==1||Gt!==1})(R),Ze=Jn(R),dt=nl(ce,qe,X),vt={scrollLeft:0,scrollTop:0},bt={x:0,y:0};return(Me||!Me&&!X)&&((Zn(R)!=="body"||Px(Ze))&&(vt=(ue=R)!==Js(ue)&&Yr(ue)?{scrollLeft:(Ce=ue).scrollLeft,scrollTop:Ce.scrollTop}:wo(ue)),Yr(R)?((bt=nl(R,!0)).x+=R.clientLeft,bt.y+=R.clientTop):Ze&&(bt.x=Vl(Ze))),{x:dt.left+vt.scrollLeft-bt.x,y:dt.top+vt.scrollTop-bt.y,width:dt.width,height:dt.height}}function A1(ce){var R=new Map,X=new Set,ue=[];function Ce(Me){X.add(Me.name),[].concat(Me.requires||[],Me.requiresIfExists||[]).forEach(function(qe){if(!X.has(qe)){var Ze=R.get(qe);Ze&&Ce(Ze)}}),ue.push(Me)}return ce.forEach(function(Me){R.set(Me.name,Me)}),ce.forEach(function(Me){X.has(Me.name)||Ce(Me)}),ue}var uy={placement:"bottom",modifiers:[],strategy:"absolute"};function my(){for(var ce=arguments.length,R=new Array(ce),X=0;X<ce;X++)R[X]=arguments[X];return!R.some(function(ue){return!(ue&&typeof ue.getBoundingClientRect=="function")})}function wu(ce){ce===void 0&&(ce={});var R=ce,X=R.defaultModifiers,ue=X===void 0?[]:X,Ce=R.defaultOptions,Me=Ce===void 0?uy:Ce;return function(qe,Ze,dt){dt===void 0&&(dt=Me);var vt,bt,ft={placement:"bottom",orderedModifiers:[],options:Object.assign({},uy,Me),modifiersData:{},elements:{reference:qe,popper:Ze},attributes:{},styles:{}},qt=[],Rt=!1,Gt={state:ft,setOptions:function(Ft){var Ss=typeof Ft=="function"?Ft(ft.options):Ft;Dt(),ft.options=Object.assign({},Me,ft.options,Ss),ft.scrollParents={reference:wi(qe)?Wl(qe):qe.contextElement?Wl(qe.contextElement):[],popper:Wl(Ze)};var Ms,Wt,es=(function(xt){var St=A1(xt);return Ud.reduce(function(Bt,gs){return Bt.concat(St.filter(function(ls){return ls.phase===gs}))},[])})((Ms=[].concat(ue,ft.options.modifiers),Wt=Ms.reduce(function(xt,St){var Bt=xt[St.name];return xt[St.name]=Bt?Object.assign({},Bt,St,{options:Object.assign({},Bt.options,St.options),data:Object.assign({},Bt.data,St.data)}):St,xt},{}),Object.keys(Wt).map(function(xt){return Wt[xt]})));return ft.orderedModifiers=es.filter(function(xt){return xt.enabled}),ft.orderedModifiers.forEach(function(xt){var St=xt.name,Bt=xt.options,gs=Bt===void 0?{}:Bt,ls=xt.effect;if(typeof ls=="function"){var $s=ls({state:ft,name:St,instance:Gt,options:gs});qt.push($s||function(){})}}),Gt.update()},forceUpdate:function(){if(!Rt){var Ft=ft.elements,Ss=Ft.reference,Ms=Ft.popper;if(my(Ss,Ms)){ft.rects={reference:hy(Ss,yo(Ms),ft.options.strategy==="fixed"),popper:Rx(Ms)},ft.reset=!1,ft.placement=ft.options.placement,ft.orderedModifiers.forEach(function(ls){return ft.modifiersData[ls.name]=Object.assign({},ls.data)});for(var Wt=0;Wt<ft.orderedModifiers.length;Wt++)if(ft.reset!==!0){var es=ft.orderedModifiers[Wt],xt=es.fn,St=es.options,Bt=St===void 0?{}:St,gs=es.name;typeof xt=="function"&&(ft=xt({state:ft,options:Bt,name:gs,instance:Gt})||ft)}else ft.reset=!1,Wt=-1}}},update:(vt=function(){return new Promise(function(Ft){Gt.forceUpdate(),Ft(ft)})},function(){return bt||(bt=new Promise(function(Ft){Promise.resolve().then(function(){bt=void 0,Ft(vt())})})),bt}),destroy:function(){Dt(),Rt=!0}};if(!my(qe,Ze))return Gt;function Dt(){qt.forEach(function(Ft){return Ft()}),qt=[]}return Gt.setOptions(dt).then(function(Ft){!Rt&&dt.onFirstUpdate&&dt.onFirstUpdate(Ft)}),Gt}}var Lx=wu(),T1=wu({defaultModifiers:[No,Bx,bo,al]}),Fx=wu({defaultModifiers:[No,Bx,bo,al,oy,iy,dy,yu,cy]});const xy=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Mx,afterRead:ay,afterWrite:Dx,applyStyles:al,arrow:yu,auto:uu,basePlacements:ql,beforeMain:Tx,beforeRead:fu,beforeWrite:ry,bottom:Sr,clippingParents:zd,computeStyles:bo,createPopper:Fx,createPopperBase:Lx,createPopperLite:T1,detectOverflow:ko,end:fo,eventListeners:No,flip:iy,hide:cy,left:ja,main:Wr,modifierPhases:Ud,offset:oy,placements:sl,popper:_r,popperGenerator:wu,popperOffsets:Bx,preventOverflow:dy,read:pu,reference:mu,right:Ta,start:tl,top:Ja,variationPlacements:xu,viewport:po,write:Hd},Symbol.toStringTag,{value:"Module"})),zx="dropdown",Kl=".bs.dropdown",Hx=".data-api",M1="ArrowUp",fy="ArrowDown",D1=`hide${Kl}`,O1=`hidden${Kl}`,R1=`show${Kl}`,$1=`shown${Kl}`,py=`click${Kl}${Hx}`,ku=`keydown${Kl}${Hx}`,Kd=`keyup${Kl}${Hx}`,So="show",cl='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',gy=`${cl}.${So}`,Qd=".dropdown-menu",yy=S()?"top-end":"top-start",jy=S()?"top-start":"top-end",_o=S()?"bottom-end":"bottom-start",P1=S()?"bottom-start":"bottom-end",I1=S()?"left-start":"right-start",B1=S()?"right-start":"left-start",vy={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},by={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class xr extends ge{constructor(R,X){super(R,X),this._popper=null,this._parent=this._element.parentNode,this._menu=ve.next(this._element,Qd)[0]||ve.prev(this._element,Qd)[0]||ve.findOne(Qd,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return vy}static get DefaultType(){return by}static get NAME(){return zx}toggle(){return this._isShown()?this.hide():this.show()}show(){if(f(this._element)||this._isShown())return;const R={relatedTarget:this._element};if(!W.trigger(this._element,R1,R).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const X of[].concat(...document.body.children))W.on(X,"mouseover",j);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(So),this._element.classList.add(So),W.trigger(this._element,$1,R)}}hide(){if(f(this._element)||!this._isShown())return;const R={relatedTarget:this._element};this._completeHide(R)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(R){if(!W.trigger(this._element,D1,R).defaultPrevented){if("ontouchstart"in document.documentElement)for(const X of[].concat(...document.body.children))W.off(X,"mouseover",j);this._popper&&this._popper.destroy(),this._menu.classList.remove(So),this._element.classList.remove(So),this._element.setAttribute("aria-expanded","false"),fe.removeDataAttribute(this._menu,"popper"),W.trigger(this._element,O1,R)}}_getConfig(R){if(typeof(R=super._getConfig(R)).reference=="object"&&!o(R.reference)&&typeof R.reference.getBoundingClientRect!="function")throw new TypeError(`${zx.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return R}_createPopper(){if(xy===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let R=this._element;this._config.reference==="parent"?R=this._parent:o(this._config.reference)?R=u(this._config.reference):typeof this._config.reference=="object"&&(R=this._config.reference);const X=this._getPopperConfig();this._popper=Fx(R,this._menu,X)}_isShown(){return this._menu.classList.contains(So)}_getPlacement(){const R=this._parent;if(R.classList.contains("dropend"))return I1;if(R.classList.contains("dropstart"))return B1;if(R.classList.contains("dropup-center"))return"top";if(R.classList.contains("dropdown-center"))return"bottom";const X=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return R.classList.contains("dropup")?X?jy:yy:X?P1:_o}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:R}=this._config;return typeof R=="string"?R.split(",").map(X=>Number.parseInt(X,10)):typeof R=="function"?X=>R(X,this._element):R}_getPopperConfig(){const R={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(fe.setDataAttribute(this._menu,"popper","static"),R.modifiers=[{name:"applyStyles",enabled:!1}]),{...R,..._(this._config.popperConfig,[void 0,R])}}_selectMenuItem({key:R,target:X}){const ue=ve.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Ce=>d(Ce));ue.length&&D(ue,X,R===fy,!ue.includes(X)).focus()}static jQueryInterface(R){return this.each(function(){const X=xr.getOrCreateInstance(this,R);if(typeof R=="string"){if(X[R]===void 0)throw new TypeError(`No method named "${R}"`);X[R]()}})}static clearMenus(R){if(R.button===2||R.type==="keyup"&&R.key!=="Tab")return;const X=ve.find(gy);for(const ue of X){const Ce=xr.getInstance(ue);if(!Ce||Ce._config.autoClose===!1)continue;const Me=R.composedPath(),qe=Me.includes(Ce._menu);if(Me.includes(Ce._element)||Ce._config.autoClose==="inside"&&!qe||Ce._config.autoClose==="outside"&&qe||Ce._menu.contains(R.target)&&(R.type==="keyup"&&R.key==="Tab"||/input|select|option|textarea|form/i.test(R.target.tagName)))continue;const Ze={relatedTarget:Ce._element};R.type==="click"&&(Ze.clickEvent=R),Ce._completeHide(Ze)}}static dataApiKeydownHandler(R){const X=/input|textarea/i.test(R.target.tagName),ue=R.key==="Escape",Ce=[M1,fy].includes(R.key);if(!Ce&&!ue||X&&!ue)return;R.preventDefault();const Me=this.matches(cl)?this:ve.prev(this,cl)[0]||ve.next(this,cl)[0]||ve.findOne(cl,R.delegateTarget.parentNode),qe=xr.getOrCreateInstance(Me);if(Ce)return R.stopPropagation(),qe.show(),void qe._selectMenuItem(R);qe._isShown()&&(R.stopPropagation(),qe.hide(),Me.focus())}}W.on(document,ku,cl,xr.dataApiKeydownHandler),W.on(document,ku,Qd,xr.dataApiKeydownHandler),W.on(document,py,xr.clearMenus),W.on(document,Kd,xr.clearMenus),W.on(document,py,cl,function(ce){ce.preventDefault(),xr.getOrCreateInstance(this).toggle()}),C(xr);const Co="backdrop",Ny="show",Xd=`mousedown.bs.${Co}`,wy={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ky={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Su extends J{constructor(R){super(),this._config=this._getConfig(R),this._isAppended=!1,this._element=null}static get Default(){return wy}static get DefaultType(){return ky}static get NAME(){return Co}show(R){if(!this._config.isVisible)return void _(R);this._append();const X=this._getElement();this._config.isAnimated&&y(X),X.classList.add(Ny),this._emulateAnimation(()=>{_(R)})}hide(R){this._config.isVisible?(this._getElement().classList.remove(Ny),this._emulateAnimation(()=>{this.dispose(),_(R)})):_(R)}dispose(){this._isAppended&&(W.off(this._element,Xd),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const R=document.createElement("div");R.className=this._config.className,this._config.isAnimated&&R.classList.add("fade"),this._element=R}return this._element}_configAfterMerge(R){return R.rootElement=u(R.rootElement),R}_append(){if(this._isAppended)return;const R=this._getElement();this._config.rootElement.append(R),W.on(R,Xd,()=>{_(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(R){A(R,this._getElement(),this._config.isAnimated)}}const Eo=".bs.focustrap",Sy=`focusin${Eo}`,_y=`keydown.tab${Eo}`,Ux="backward",L1={autofocus:!0,trapElement:null},F1={autofocus:"boolean",trapElement:"element"};class Cy extends J{constructor(R){super(),this._config=this._getConfig(R),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return L1}static get DefaultType(){return F1}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),W.off(document,Eo),W.on(document,Sy,R=>this._handleFocusin(R)),W.on(document,_y,R=>this._handleKeydown(R)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,W.off(document,Eo))}_handleFocusin(R){const{trapElement:X}=this._config;if(R.target===document||R.target===X||X.contains(R.target))return;const ue=ve.focusableChildren(X);ue.length===0?X.focus():this._lastTabNavDirection===Ux?ue[ue.length-1].focus():ue[0].focus()}_handleKeydown(R){R.key==="Tab"&&(this._lastTabNavDirection=R.shiftKey?Ux:"forward")}}const Ey=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ay=".sticky-top",er="padding-right",Ao="margin-right";class _u{constructor(){this._element=document.body}getWidth(){const R=document.documentElement.clientWidth;return Math.abs(window.innerWidth-R)}hide(){const R=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,er,X=>X+R),this._setElementAttributes(Ey,er,X=>X+R),this._setElementAttributes(Ay,Ao,X=>X-R)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,er),this._resetElementAttributes(Ey,er),this._resetElementAttributes(Ay,Ao)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(R,X,ue){const Ce=this.getWidth();this._applyManipulationCallback(R,Me=>{if(Me!==this._element&&window.innerWidth>Me.clientWidth+Ce)return;this._saveInitialAttribute(Me,X);const qe=window.getComputedStyle(Me).getPropertyValue(X);Me.style.setProperty(X,`${ue(Number.parseFloat(qe))}px`)})}_saveInitialAttribute(R,X){const ue=R.style.getPropertyValue(X);ue&&fe.setDataAttribute(R,X,ue)}_resetElementAttributes(R,X){this._applyManipulationCallback(R,ue=>{const Ce=fe.getDataAttribute(ue,X);Ce!==null?(fe.removeDataAttribute(ue,X),ue.style.setProperty(X,Ce)):ue.style.removeProperty(X)})}_applyManipulationCallback(R,X){if(o(R))X(R);else for(const ue of ve.find(R,this._element))X(ue)}}const Kr=".bs.modal",Ty=`hide${Kr}`,My=`hidePrevented${Kr}`,Cu=`hidden${Kr}`,Dy=`show${Kr}`,To=`shown${Kr}`,qx=`resize${Kr}`,Zd=`click.dismiss${Kr}`,Gx=`mousedown.dismiss${Kr}`,Oy=`keydown.dismiss${Kr}`,Ql=`click${Kr}.data-api`,Xl="modal-open",Eu="show",Au="modal-static",Zl={backdrop:!0,focus:!0,keyboard:!0},Ry={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ol extends ge{constructor(R,X){super(R,X),this._dialog=ve.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new _u,this._addEventListeners()}static get Default(){return Zl}static get DefaultType(){return Ry}static get NAME(){return"modal"}toggle(R){return this._isShown?this.hide():this.show(R)}show(R){this._isShown||this._isTransitioning||W.trigger(this._element,Dy,{relatedTarget:R}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Xl),this._adjustDialog(),this._backdrop.show(()=>this._showElement(R)))}hide(){this._isShown&&!this._isTransitioning&&(W.trigger(this._element,Ty).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Eu),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){W.off(window,Kr),W.off(this._dialog,Kr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Su({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Cy({trapElement:this._element})}_showElement(R){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const X=ve.findOne(".modal-body",this._dialog);X&&(X.scrollTop=0),y(this._element),this._element.classList.add(Eu),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,W.trigger(this._element,To,{relatedTarget:R})},this._dialog,this._isAnimated())}_addEventListeners(){W.on(this._element,Oy,R=>{R.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),W.on(window,qx,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),W.on(this._element,Gx,R=>{W.one(this._element,Zd,X=>{this._element===R.target&&this._element===X.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Xl),this._resetAdjustments(),this._scrollBar.reset(),W.trigger(this._element,Cu)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(W.trigger(this._element,My).defaultPrevented)return;const R=this._element.scrollHeight>document.documentElement.clientHeight,X=this._element.style.overflowY;X==="hidden"||this._element.classList.contains(Au)||(R||(this._element.style.overflowY="hidden"),this._element.classList.add(Au),this._queueCallback(()=>{this._element.classList.remove(Au),this._queueCallback(()=>{this._element.style.overflowY=X},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const R=this._element.scrollHeight>document.documentElement.clientHeight,X=this._scrollBar.getWidth(),ue=X>0;if(ue&&!R){const Ce=S()?"paddingLeft":"paddingRight";this._element.style[Ce]=`${X}px`}if(!ue&&R){const Ce=S()?"paddingRight":"paddingLeft";this._element.style[Ce]=`${X}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(R,X){return this.each(function(){const ue=ol.getOrCreateInstance(this,R);if(typeof R=="string"){if(ue[R]===void 0)throw new TypeError(`No method named "${R}"`);ue[R](X)}})}}W.on(document,Ql,'[data-bs-toggle="modal"]',function(ce){const R=ve.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&ce.preventDefault(),W.one(R,Dy,ue=>{ue.defaultPrevented||W.one(R,Cu,()=>{d(this)&&this.focus()})});const X=ve.findOne(".modal.show");X&&ol.getInstance(X).hide(),ol.getOrCreateInstance(R).toggle(this)}),Oe(ol),C(ol);const si=".bs.offcanvas",$y=".data-api",z1=`load${si}${$y}`,Py="show",Vx="showing",Wx="hiding",Tu=".offcanvas.show",An=`show${si}`,Iy=`shown${si}`,cn=`hide${si}`,Qr=`hidePrevented${si}`,Jl=`hidden${si}`,Yx=`resize${si}`,Mu=`click${si}${$y}`,Du=`keydown.dismiss${si}`,Kx={backdrop:!0,keyboard:!0,scroll:!1},Mo={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ai extends ge{constructor(R,X){super(R,X),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Kx}static get DefaultType(){return Mo}static get NAME(){return"offcanvas"}toggle(R){return this._isShown?this.hide():this.show(R)}show(R){this._isShown||W.trigger(this._element,An,{relatedTarget:R}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new _u().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Vx),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Py),this._element.classList.remove(Vx),W.trigger(this._element,Iy,{relatedTarget:R})},this._element,!0))}hide(){this._isShown&&(W.trigger(this._element,cn).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Wx),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Py,Wx),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new _u().reset(),W.trigger(this._element,Jl)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const R=!!this._config.backdrop;return new Su({className:"offcanvas-backdrop",isVisible:R,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:R?()=>{this._config.backdrop!=="static"?this.hide():W.trigger(this._element,Qr)}:null})}_initializeFocusTrap(){return new Cy({trapElement:this._element})}_addEventListeners(){W.on(this._element,Du,R=>{R.key==="Escape"&&(this._config.keyboard?this.hide():W.trigger(this._element,Qr))})}static jQueryInterface(R){return this.each(function(){const X=ai.getOrCreateInstance(this,R);if(typeof R=="string"){if(X[R]===void 0||R.startsWith("_")||R==="constructor")throw new TypeError(`No method named "${R}"`);X[R](this)}})}}W.on(document,Mu,'[data-bs-toggle="offcanvas"]',function(ce){const R=ve.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&ce.preventDefault(),f(this))return;W.one(R,Jl,()=>{d(this)&&this.focus()});const X=ve.findOne(Tu);X&&X!==R&&ai.getInstance(X).hide(),ai.getOrCreateInstance(R).toggle(this)}),W.on(window,z1,()=>{for(const ce of ve.find(Tu))ai.getOrCreateInstance(ce).show()}),W.on(window,Yx,()=>{for(const ce of ve.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(ce).position!=="fixed"&&ai.getOrCreateInstance(ce).hide()}),Oe(ai),C(ai);const Jd={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Do=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),H1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Xr=(ce,R)=>{const X=ce.nodeName.toLowerCase();return R.includes(X)?!Do.has(X)||!!H1.test(ce.nodeValue):R.filter(ue=>ue instanceof RegExp).some(ue=>ue.test(X))},Qx={allowList:Jd,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},_i={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},By={entry:"(string|element|function|null)",selector:"(string|element)"};class Ou extends J{constructor(R){super(),this._config=this._getConfig(R)}static get Default(){return Qx}static get DefaultType(){return _i}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(R=>this._resolvePossibleFunction(R)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(R){return this._checkContent(R),this._config.content={...this._config.content,...R},this}toHtml(){const R=document.createElement("div");R.innerHTML=this._maybeSanitize(this._config.template);for(const[Ce,Me]of Object.entries(this._config.content))this._setContent(R,Me,Ce);const X=R.children[0],ue=this._resolvePossibleFunction(this._config.extraClass);return ue&&X.classList.add(...ue.split(" ")),X}_typeCheckConfig(R){super._typeCheckConfig(R),this._checkContent(R.content)}_checkContent(R){for(const[X,ue]of Object.entries(R))super._typeCheckConfig({selector:X,entry:ue},By)}_setContent(R,X,ue){const Ce=ve.findOne(ue,R);Ce&&((X=this._resolvePossibleFunction(X))?o(X)?this._putElementInTemplate(u(X),Ce):this._config.html?Ce.innerHTML=this._maybeSanitize(X):Ce.textContent=X:Ce.remove())}_maybeSanitize(R){return this._config.sanitize?(function(X,ue,Ce){if(!X.length)return X;if(Ce&&typeof Ce=="function")return Ce(X);const Me=new window.DOMParser().parseFromString(X,"text/html"),qe=[].concat(...Me.body.querySelectorAll("*"));for(const Ze of qe){const dt=Ze.nodeName.toLowerCase();if(!Object.keys(ue).includes(dt)){Ze.remove();continue}const vt=[].concat(...Ze.attributes),bt=[].concat(ue["*"]||[],ue[dt]||[]);for(const ft of vt)Xr(ft,bt)||Ze.removeAttribute(ft.nodeName)}return Me.body.innerHTML})(R,this._config.allowList,this._config.sanitizeFn):R}_resolvePossibleFunction(R){return _(R,[void 0,this])}_putElementInTemplate(R,X){if(this._config.html)return X.innerHTML="",void X.append(R);X.textContent=R.textContent}}const ec=new Set(["sanitize","allowList","sanitizeFn"]),eh="fade",Oo="show",Ro=".tooltip-inner",tc=".modal",th="hide.bs.modal",dl="hover",Er="focus",Ar="click",sc={AUTO:"auto",TOP:"top",RIGHT:S()?"left":"right",BOTTOM:"bottom",LEFT:S()?"right":"left"},Ci={allowList:Jd,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Ei={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Zr extends ge{constructor(R,X){if(xy===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(R,X),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ci}static get DefaultType(){return Ei}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),W.off(this._element.closest(tc),th,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const R=W.trigger(this._element,this.constructor.eventName("show")),X=(p(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(R.defaultPrevented||!X)return;this._disposePopper();const ue=this._getTipElement();this._element.setAttribute("aria-describedby",ue.getAttribute("id"));const{container:Ce}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(Ce.append(ue),W.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(ue),ue.classList.add(Oo),"ontouchstart"in document.documentElement)for(const Me of[].concat(...document.body.children))W.on(Me,"mouseover",j);this._queueCallback(()=>{W.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!W.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Oo),"ontouchstart"in document.documentElement)for(const R of[].concat(...document.body.children))W.off(R,"mouseover",j);this._activeTrigger[Ar]=!1,this._activeTrigger[Er]=!1,this._activeTrigger[dl]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),W.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(R){const X=this._getTemplateFactory(R).toHtml();if(!X)return null;X.classList.remove(eh,Oo),X.classList.add(`bs-${this.constructor.NAME}-auto`);const ue=(Ce=>{do Ce+=Math.floor(1e6*Math.random());while(document.getElementById(Ce));return Ce})(this.constructor.NAME).toString();return X.setAttribute("id",ue),this._isAnimated()&&X.classList.add(eh),X}setContent(R){this._newContent=R,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(R){return this._templateFactory?this._templateFactory.changeContent(R):this._templateFactory=new Ou({...this._config,content:R,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Ro]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(R){return this.constructor.getOrCreateInstance(R.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(eh)}_isShown(){return this.tip&&this.tip.classList.contains(Oo)}_createPopper(R){const X=_(this._config.placement,[this,R,this._element]),ue=sc[X.toUpperCase()];return Fx(this._element,R,this._getPopperConfig(ue))}_getOffset(){const{offset:R}=this._config;return typeof R=="string"?R.split(",").map(X=>Number.parseInt(X,10)):typeof R=="function"?X=>R(X,this._element):R}_resolvePossibleFunction(R){return _(R,[this._element,this._element])}_getPopperConfig(R){const X={placement:R,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:ue=>{this._getTipElement().setAttribute("data-popper-placement",ue.state.placement)}}]};return{...X,..._(this._config.popperConfig,[void 0,X])}}_setListeners(){const R=this._config.trigger.split(" ");for(const X of R)if(X==="click")W.on(this._element,this.constructor.eventName("click"),this._config.selector,ue=>{const Ce=this._initializeOnDelegatedTarget(ue);Ce._activeTrigger[Ar]=!(Ce._isShown()&&Ce._activeTrigger[Ar]),Ce.toggle()});else if(X!=="manual"){const ue=X===dl?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),Ce=X===dl?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");W.on(this._element,ue,this._config.selector,Me=>{const qe=this._initializeOnDelegatedTarget(Me);qe._activeTrigger[Me.type==="focusin"?Er:dl]=!0,qe._enter()}),W.on(this._element,Ce,this._config.selector,Me=>{const qe=this._initializeOnDelegatedTarget(Me);qe._activeTrigger[Me.type==="focusout"?Er:dl]=qe._element.contains(Me.relatedTarget),qe._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},W.on(this._element.closest(tc),th,this._hideModalHandler)}_fixTitle(){const R=this._element.getAttribute("title");R&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",R),this._element.setAttribute("data-bs-original-title",R),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(R,X){clearTimeout(this._timeout),this._timeout=setTimeout(R,X)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(R){const X=fe.getDataAttributes(this._element);for(const ue of Object.keys(X))ec.has(ue)&&delete X[ue];return R={...X,...typeof R=="object"&&R?R:{}},R=this._mergeConfigObj(R),R=this._configAfterMerge(R),this._typeCheckConfig(R),R}_configAfterMerge(R){return R.container=R.container===!1?document.body:u(R.container),typeof R.delay=="number"&&(R.delay={show:R.delay,hide:R.delay}),typeof R.title=="number"&&(R.title=R.title.toString()),typeof R.content=="number"&&(R.content=R.content.toString()),R}_getDelegateConfig(){const R={};for(const[X,ue]of Object.entries(this._config))this.constructor.Default[X]!==ue&&(R[X]=ue);return R.selector=!1,R.trigger="manual",R}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(R){return this.each(function(){const X=Zr.getOrCreateInstance(this,R);if(typeof R=="string"){if(X[R]===void 0)throw new TypeError(`No method named "${R}"`);X[R]()}})}}C(Zr);const Ly=".popover-header",Xx=".popover-body",Zx={...Zr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},fr={...Zr.DefaultType,content:"(null|string|element|function)"};class Vs extends Zr{static get Default(){return Zx}static get DefaultType(){return fr}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Ly]:this._getTitle(),[Xx]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(R){return this.each(function(){const X=Vs.getOrCreateInstance(this,R);if(typeof R=="string"){if(X[R]===void 0)throw new TypeError(`No method named "${R}"`);X[R]()}})}}C(Vs);const ds=".bs.scrollspy",ac=`activate${ds}`,Tn=`click${ds}`,Jx=`load${ds}.data-api`,on="active",Ru="[href]",ef=".nav-link",sh=`${ef}, .nav-item > ${ef}, .list-group-item`,ah={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Fy={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ai extends ge{constructor(R,X){super(R,X),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return ah}static get DefaultType(){return Fy}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const R of this._observableSections.values())this._observer.observe(R)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(R){return R.target=u(R.target)||document.body,R.rootMargin=R.offset?`${R.offset}px 0px -30%`:R.rootMargin,typeof R.threshold=="string"&&(R.threshold=R.threshold.split(",").map(X=>Number.parseFloat(X))),R}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(W.off(this._config.target,Tn),W.on(this._config.target,Tn,Ru,R=>{const X=this._observableSections.get(R.target.hash);if(X){R.preventDefault();const ue=this._rootElement||window,Ce=X.offsetTop-this._element.offsetTop;if(ue.scrollTo)return void ue.scrollTo({top:Ce,behavior:"smooth"});ue.scrollTop=Ce}}))}_getNewObserver(){const R={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(X=>this._observerCallback(X),R)}_observerCallback(R){const X=qe=>this._targetLinks.get(`#${qe.target.id}`),ue=qe=>{this._previousScrollData.visibleEntryTop=qe.target.offsetTop,this._process(X(qe))},Ce=(this._rootElement||document.documentElement).scrollTop,Me=Ce>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=Ce;for(const qe of R){if(!qe.isIntersecting){this._activeTarget=null,this._clearActiveClass(X(qe));continue}const Ze=qe.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(Me&&Ze){if(ue(qe),!Ce)return}else Me||Ze||ue(qe)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const R=ve.find(Ru,this._config.target);for(const X of R){if(!X.hash||f(X))continue;const ue=ve.findOne(decodeURI(X.hash),this._element);d(ue)&&(this._targetLinks.set(decodeURI(X.hash),X),this._observableSections.set(X.hash,ue))}}_process(R){this._activeTarget!==R&&(this._clearActiveClass(this._config.target),this._activeTarget=R,R.classList.add(on),this._activateParents(R),W.trigger(this._element,ac,{relatedTarget:R}))}_activateParents(R){if(R.classList.contains("dropdown-item"))ve.findOne(".dropdown-toggle",R.closest(".dropdown")).classList.add(on);else for(const X of ve.parents(R,".nav, .list-group"))for(const ue of ve.prev(X,sh))ue.classList.add(on)}_clearActiveClass(R){R.classList.remove(on);const X=ve.find(`${Ru}.${on}`,R);for(const ue of X)ue.classList.remove(on)}static jQueryInterface(R){return this.each(function(){const X=Ai.getOrCreateInstance(this,R);if(typeof R=="string"){if(X[R]===void 0||R.startsWith("_")||R==="constructor")throw new TypeError(`No method named "${R}"`);X[R]()}})}}W.on(window,Jx,()=>{for(const ce of ve.find('[data-bs-spy="scroll"]'))Ai.getOrCreateInstance(ce)}),C(Ai);const Ti=".bs.tab",rc=`hide${Ti}`,Mi=`hidden${Ti}`,hl=`show${Ti}`,Di=`shown${Ti}`,tf=`click${Ti}`,sf=`keydown${Ti}`,rh=`load${Ti}`,$u="ArrowLeft",ul="ArrowRight",tr="ArrowUp",nh="ArrowDown",Pu="Home",zy="End",nc="active",Hy="fade",fa="show",Iu=".dropdown-toggle",ic=`:not(${Iu})`,$o='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ih=`.nav-link${ic}, .list-group-item${ic}, [role="tab"]${ic}, ${$o}`,Po=`.${nc}[data-bs-toggle="tab"], .${nc}[data-bs-toggle="pill"], .${nc}[data-bs-toggle="list"]`;class dn extends ge{constructor(R){super(R),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),W.on(this._element,sf,X=>this._keydown(X)))}static get NAME(){return"tab"}show(){const R=this._element;if(this._elemIsActive(R))return;const X=this._getActiveElem(),ue=X?W.trigger(X,rc,{relatedTarget:R}):null;W.trigger(R,hl,{relatedTarget:X}).defaultPrevented||ue&&ue.defaultPrevented||(this._deactivate(X,R),this._activate(R,X))}_activate(R,X){R&&(R.classList.add(nc),this._activate(ve.getElementFromSelector(R)),this._queueCallback(()=>{R.getAttribute("role")==="tab"?(R.removeAttribute("tabindex"),R.setAttribute("aria-selected",!0),this._toggleDropDown(R,!0),W.trigger(R,Di,{relatedTarget:X})):R.classList.add(fa)},R,R.classList.contains(Hy)))}_deactivate(R,X){R&&(R.classList.remove(nc),R.blur(),this._deactivate(ve.getElementFromSelector(R)),this._queueCallback(()=>{R.getAttribute("role")==="tab"?(R.setAttribute("aria-selected",!1),R.setAttribute("tabindex","-1"),this._toggleDropDown(R,!1),W.trigger(R,Mi,{relatedTarget:X})):R.classList.remove(fa)},R,R.classList.contains(Hy)))}_keydown(R){if(![$u,ul,tr,nh,Pu,zy].includes(R.key))return;R.stopPropagation(),R.preventDefault();const X=this._getChildren().filter(Ce=>!f(Ce));let ue;if([Pu,zy].includes(R.key))ue=X[R.key===Pu?0:X.length-1];else{const Ce=[ul,nh].includes(R.key);ue=D(X,R.target,Ce,!0)}ue&&(ue.focus({preventScroll:!0}),dn.getOrCreateInstance(ue).show())}_getChildren(){return ve.find(ih,this._parent)}_getActiveElem(){return this._getChildren().find(R=>this._elemIsActive(R))||null}_setInitialAttributes(R,X){this._setAttributeIfNotExists(R,"role","tablist");for(const ue of X)this._setInitialAttributesOnChild(ue)}_setInitialAttributesOnChild(R){R=this._getInnerElement(R);const X=this._elemIsActive(R),ue=this._getOuterElement(R);R.setAttribute("aria-selected",X),ue!==R&&this._setAttributeIfNotExists(ue,"role","presentation"),X||R.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(R,"role","tab"),this._setInitialAttributesOnTargetPanel(R)}_setInitialAttributesOnTargetPanel(R){const X=ve.getElementFromSelector(R);X&&(this._setAttributeIfNotExists(X,"role","tabpanel"),R.id&&this._setAttributeIfNotExists(X,"aria-labelledby",`${R.id}`))}_toggleDropDown(R,X){const ue=this._getOuterElement(R);if(!ue.classList.contains("dropdown"))return;const Ce=(Me,qe)=>{const Ze=ve.findOne(Me,ue);Ze&&Ze.classList.toggle(qe,X)};Ce(Iu,nc),Ce(".dropdown-menu",fa),ue.setAttribute("aria-expanded",X)}_setAttributeIfNotExists(R,X,ue){R.hasAttribute(X)||R.setAttribute(X,ue)}_elemIsActive(R){return R.classList.contains(nc)}_getInnerElement(R){return R.matches(ih)?R:ve.findOne(ih,R)}_getOuterElement(R){return R.closest(".nav-item, .list-group-item")||R}static jQueryInterface(R){return this.each(function(){const X=dn.getOrCreateInstance(this);if(typeof R=="string"){if(X[R]===void 0||R.startsWith("_")||R==="constructor")throw new TypeError(`No method named "${R}"`);X[R]()}})}}W.on(document,tf,$o,function(ce){["A","AREA"].includes(this.tagName)&&ce.preventDefault(),f(this)||dn.getOrCreateInstance(this).show()}),W.on(window,rh,()=>{for(const ce of ve.find(Po))dn.getOrCreateInstance(ce)}),C(dn);const ml=".bs.toast",Uy=`mouseover${ml}`,U1=`mouseout${ml}`,qy=`focusin${ml}`,lc=`focusout${ml}`,af=`hide${ml}`,Bu=`hidden${ml}`,Gy=`show${ml}`,lh=`shown${ml}`,rf="hide",cc="show",Io="showing",Vy={animation:"boolean",autohide:"boolean",delay:"number"},Lu={animation:!0,autohide:!0,delay:5e3};class Bo extends ge{constructor(R,X){super(R,X),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Lu}static get DefaultType(){return Vy}static get NAME(){return"toast"}show(){W.trigger(this._element,Gy).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(rf),y(this._element),this._element.classList.add(cc,Io),this._queueCallback(()=>{this._element.classList.remove(Io),W.trigger(this._element,lh),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(W.trigger(this._element,af).defaultPrevented||(this._element.classList.add(Io),this._queueCallback(()=>{this._element.classList.add(rf),this._element.classList.remove(Io,cc),W.trigger(this._element,Bu)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(cc),super.dispose()}isShown(){return this._element.classList.contains(cc)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(R,X){switch(R.type){case"mouseover":case"mouseout":this._hasMouseInteraction=X;break;case"focusin":case"focusout":this._hasKeyboardInteraction=X}if(X)return void this._clearTimeout();const ue=R.relatedTarget;this._element===ue||this._element.contains(ue)||this._maybeScheduleHide()}_setListeners(){W.on(this._element,Uy,R=>this._onInteraction(R,!0)),W.on(this._element,U1,R=>this._onInteraction(R,!1)),W.on(this._element,qy,R=>this._onInteraction(R,!0)),W.on(this._element,lc,R=>this._onInteraction(R,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(R){return this.each(function(){const X=Bo.getOrCreateInstance(this,R);if(typeof R=="string"){if(X[R]===void 0)throw new TypeError(`No method named "${R}"`);X[R](this)}})}}return Oe(Bo),C(Bo),{Alert:Se,Button:ye,Carousel:mr,Collapse:na,Dropdown:xr,Modal:ol,Offcanvas:ai,Popover:Vs,ScrollSpy:Ai,Tab:dn,Toast:Bo,Tooltip:Zr}})})(Fv)),Fv.exports}$4e();function P4e(){return e.jsx(eee,{children:e.jsx(O4e,{})})}const I4e=$V.createRoot(document.getElementById("root"));I4e.render(e.jsx(P4e,{}));
